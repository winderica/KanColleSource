!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.KCS=e():t.KCS=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=488)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(489),o=i(536),r=i(539),s=i(270),a=i(543),_=i(544),l=i(545),u=i(548),c=function(){function t(){this._view=new l.RootView,this._settings=new _.SettingsModel,this._option=new a.OptionModel,this._option.initialize(),this._model=new n.ModelManager,this._resource=new o.ResourceManager,this._scene=new r.SceneManager,this._sound=new s.SoundManager,this._friendlyRequest=new u.FriendlyRequestModel}return t._getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},Object.defineProperty(t,"view",{get:function(){return t._getInstance()._view},enumerable:!0,configurable:!0}),Object.defineProperty(t,"settings",{get:function(){return t._getInstance()._settings},enumerable:!0,configurable:!0}),Object.defineProperty(t,"option",{get:function(){return t._getInstance()._option},enumerable:!0,configurable:!0}),Object.defineProperty(t,"model",{get:function(){return t._getInstance()._model},enumerable:!0,configurable:!0}),Object.defineProperty(t,"resources",{get:function(){return t._getInstance()._resource},enumerable:!0,configurable:!0}),Object.defineProperty(t,"scene",{get:function(){return t._getInstance()._scene},enumerable:!0,configurable:!0}),Object.defineProperty(t,"sound",{get:function(){return t._getInstance()._sound},enumerable:!0,configurable:!0}),Object.defineProperty(t,"friendlyRequest",{get:function(){return t._getInstance()._friendlyRequest},enumerable:!0,configurable:!0}),t}();e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return{touch:void 0!==document.ontouchstart,pointer:window.PointerEvent}}();e.pointer={down:n.pointer?"pointerdown":n.touch?"touchstart":"mousedown",move:n.pointer?"pointermove":n.touch?"touchmove":"mousemove",up:n.pointer?"pointerup":n.touch?"touchend":"mouseup",over:n.pointer?"pointerover":"mouseover",out:n.pointer?"pointerout":"mouseout"};!function(t){t.CLICK=e.pointer.up,t.MOUSEOVER=e.pointer.over,t.MOUSEOUT=e.pointer.out,t.MOUSEDOWN=e.pointer.down,t.MOUSEUP=e.pointer.up,t.MOUSEMOVE=e.pointer.move}(e.EventType||(e.EventType={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.start=function(t,e){this._cb=t,this._cb_failed=e,this._start()},t.prototype._endTask=function(t){void 0===t&&(t=!1),0==t?this._completedEnd():this._failedEnd()},t.prototype._completedEnd=function(){if(null!=this._cb){var t=this._cb;this._cb=null,this._cb_failed=null,t()}},t.prototype._failedEnd=function(){var t=null;null!=this._cb_failed?t=this._cb_failed:null!=this._cb&&(t=this._cb),this._cb=null,this._cb_failed=null,null!=t&&t()},t}();e.TaskBase=n},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(6)),n(i(21)),n(i(211)),n(i(309)),n(i(268)),n(i(56)),n(i(667)),n(i(310)),n(i(160)),n(i(71)),n(i(130)),n(i(311)),n(i(312)),n(i(668)),n(i(313)),n(i(35)),n(i(131)),n(i(669)),n(i(670)),n(i(671)),n(i(672)),n(i(132)),n(i(673)),n(i(674)),n(i(675)),n(i(676)),n(i(133)),n(i(110)),n(i(314))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i,n){void 0===n&&(n="");var o={fontFamily:"font_j",fontWeight:n,fontSize:e,fill:i};return t.call(this,null,o)||this}return n(e,t),e}(PIXI.Text);e.TextBox=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return Object.defineProperty(t,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),t._width=1200,t._height=720,t}();e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);!function(t){function e(t){null!=t&&(t.length<=0||n.default.sound.se.play(n.default.settings.path_root+"resources/se/"+t+".mp3"))}t.play=e}(e.SE||(e.SE={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(e,i,n){return void 0===n&&(n=0),t._getProp(e,i,n)}function i(e,i,n){void 0===n&&(n="");var o=t._getProp(e,i,n);return null==o&&null!=n&&(o=n),o}function n(e,i,n){void 0===n&&(n=null);var o=t._getProp(e,i,n);return o||n}function o(e,i,n){void 0===n&&(n=null);var o=t._getProp(e,i,n);return o||n}function r(e,i,n){void 0===n&&(n=null);var o=t._getProp(e,i,n);return o||n}function s(e,i,n){void 0===n&&(n=null);var o=t._getProp(e,i,n);return null==o&&null!=n&&(o=n),o}function a(t,e,i){return void 0===i&&(i=!1),null==t||0==t.hasOwnProperty(e)?i:t[e]}function _(t,e,i){if(null!=t&&t.hasOwnProperty(e)){var n=t[e];if(null!=n&&void 0!=n)return n}return i}t.getNumber=e,t.getString=i,t.getObjectArray=n,t.getNumArray=o,t.getStrArray=r,t.getObject=s,t.getBoolean=a,t._getProp=_}(e.ObjUtil||(e.ObjUtil={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=function(t){function e(e,i,n,r){void 0===i&&(i=0),void 0===n&&(n=o.default.width),void 0===r&&(r=o.default.height);var s=t.call(this)||this;return s.beginFill(i,e),s.drawRect(0,0,n,r),s.endFill(),s.interactive=!0,s}return n(e,t),e}(PIXI.Graphics);e.AreaBox=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(551),r=i(0),s=i(2),a=i(7),_=function(t){function e(){var e=t.call(this)||this;return e._url="",e._api_result=-1,e._api_result_msg="",e._raw_data=null,e._post_data={api_token:r.default.settings.api_token,api_verno:"1"},e}return n(e,t),Object.defineProperty(e.prototype,"url",{get:function(){return r.default.settings.api_root+"/"+this._url},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"post_data",{get:function(){return this._post_data},enumerable:!0,configurable:!0}),e.prototype._start=function(){r.default.view.loading.show(200),this._connect()},e.prototype._connect=function(){var t=this;axios.post(this.url,o.stringify(this._post_data)).then(function(e){t._success(e)}).catch(function(e){t._failed(e)})},e.prototype._success=function(t){var e=t.data,i=e.replace(/[\s\S]*svdata=/,"");this._parse(i)},e.prototype._parse=function(t){var e=JSON.parse(t);this._api_result=a.ObjUtil.getNumber(e,"api_result"),this._api_result_msg=a.ObjUtil.getString(e,"api_result_msg"),this._raw_data=a.ObjUtil.getObject(e,"api_data"),1==this._api_result?this._endTask():this._endTask(!0)},e.prototype._failed=function(t){this._endTask(!0)},e.prototype._endTask=function(e){void 0===e&&(e=!1),r.default.view.loading.hide(200),t.prototype._endTask.call(this,e)},e.prototype._failedEnd=function(){if(null!=this._cb_failed){var t=this._cb_failed;this._cb_failed=null,t()}else r.default.view.showError("Failed API "+this.url)},e}(s.TaskBase);e.APIBase=_},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("common_misc_"+t)}t.getTexture=e}(e.COMMON_MISC||(e.COMMON_MISC={}))},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(2)),n(i(47)),n(i(9)),n(i(276)),n(i(277))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){return t.call(this,e)||this}return n(e,t),Object.defineProperty(e.prototype,"scaleX",{get:function(){return this.scale.x},set:function(t){this.scale.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleY",{get:function(){return this.scale.y},set:function(t){this.scale.y=t},enumerable:!0,configurable:!0}),e}(PIXI.Sprite);e.Sprite=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(28),r=i(25),s=i(105),a=i(79),_=function(){function t(){null==t._queue&&(t._queue=[]),this._url_list=[]}return t.hSuffix=function(e,i){if(null==t.hasai||e!=t.hasai)return"";switch(i){case"banner":case"banner_g":case"full":return"_d";default:return""}},t.getPath=function(e,i,_){"album_status"==_?i=!1:"banner_g"==_?i=!0:"banner2_g"==_?i=!0:"banner3_g"==_?i=!0:1==o.ShipUtil.isEnemy(e)&&(i=!1);var l=_+(i?"_dmg":""),u="ship_"+l,c=s.SuffixUtil.create(e,u),h=r.MathUtil.zeroPadding(e,4),p="";if("full"==_){var d=n.default.model.ship_graph.get(e);null!=d&&(p="_"+d.unique_key)}return n.default.settings.path_root+"resources/ship/"+l+"/"+(h+t.hSuffix(e,_))+"_"+c+p+".png"+a.VersionUtil.getResourceVersion(0,parseInt(h))},t.prototype.add=function(e,i,n){var o=t.getPath(e,i,n);return this._url_list.push(o),this},t.prototype.getSpecificAlbumImageLoadList=function(t){switch(t){case 5026:case 5027:return{typeList:["character_up","character_full"],hasTaiha:!1};case 5256:case 5269:return{typeList:["character_up","character_full"],hasTaiha:!0};case 5275:case 5276:case 5277:case 5278:case 5279:case 5280:case 5281:case 5282:case 5283:case 5284:case 5285:case 5286:case 5287:case 5288:case 5289:case 5290:case 5291:case 5292:case 5293:case 5294:case 5295:case 5296:case 5297:case 5298:case 5299:case 5300:case 5301:case 5302:case 5303:case 5304:case 5305:case 5306:return{typeList:["character_up","character_full"],hasTaiha:!1};case 5357:return{typeList:["character_up","character_full"],hasTaiha:!0};default:return{typeList:null,hasTaiha:null}}},t.prototype.needCard=function(t){return null===t||t.indexOf("card")>-1},t.prototype.needCharaFull=function(t){return null===t||t.indexOf("character_full")>-1},t.prototype.needCharaUp=function(t){return null===t||t.indexOf("character_up")>-1},t.prototype.load=function(e){void 0===e&&(e=null),this._cb_onComplete=e,t._queue.indexOf(this)>=0||(t._queue.push(this),1==t._queue.length&&this._load())},t.prototype._load=function(){var t=this;if(this._url_list=this._url_list.filter(function(t,e,i){return!PIXI.utils.TextureCache[t]&&i.indexOf(t)===e}),0==this._url_list.length)return void this._onLoadComplete();for(var e=new PIXI.loaders.Loader,i=0,n=this._url_list;i<n.length;i++){var o=n[i];e.add(o)}e.load(function(){t._onLoadComplete()})},t.prototype._onLoadComplete=function(){if(this._cb_onComplete(),this._cb_onComplete=null,t._queue.shift()!=this)throw new Error("ShipLoader Error");t._queue.length>0&&t._queue[0]._load()},t.hasai=null,t}();e.ShipLoader=_},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(e){var i=this;this._cb_onProgress=null,this._onLoadComplete=function(t,e){i._cb_onComplete(t,e),i._cb_onComplete=null,null!=i._cb_onProgress&&i._loader.off("progress",i._cb_onProgress),i._cb_onProgress=null,i._keys=null,i._loader=null},this._category=e,this._keys=[],this._loader=new PIXI.loaders.Loader;var n=t.getVersion(e);null!=n&&(this._loader.defaultQueryString="version="+n)}return t.setVersionData=function(t){this._version_data=t},t.getPath=function(t,e){return null==e||""==e?n.default.settings.path_root+"img/"+t:n.default.settings.path_root+"img/"+e+"/"+t},t.getVersion=function(e){return null==t._version_data?null:null==t._version_data[e]?null:t._version_data[e]},t.getResourceVersionMap=function(e){if(null==t._version_data)return null;if(null==t._version_data.resources)return null;var i=t._version_data.resources;return null==i.map?null:(i=i.map,null==i[e.toString()]?null:i[e.toString()])},t.clearMemoryCache=function(e){var i=new RegExp("^img\\/"+e+"\\/.+");t._clearMemoryCache(i);var n=new RegExp("^"+e+"_.+_\\d+");t._clearMemoryCache(n)},t._clearMemoryCache=function(e){for(var i=Object.keys(PIXI.utils.TextureCache).filter(function(t){return e.test(t)}),n=0,o=i;n<o.length;n++){var r=o[n],s=PIXI.utils.TextureCache[r];s&&s.destroy(!0),delete PIXI.utils.TextureCache[r]}t._loaded=t._loaded.filter(function(t){return 0==e.test(t)})},t.prototype.add=function(e,i){void 0===i&&(i=null);var n=t.getPath(e,this._category);return null==t._loaded&&(t._loaded=[]),t._loaded.indexOf(n)>=0?this:(t._loaded.push(n),this._keys.push(n),this._loader=null==i?this._loader.add(n):this._loader.add(i,n),this)},t.prototype.load=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=null),this._cb_onComplete=t,this._cb_onProgress=e,null!=e&&this._loader.on("progress",this._cb_onProgress),this._keys.length>0?this._loader=this._loader.load(this._onLoadComplete):this._onLoadComplete(this._loader,null),this},t._version_data=null,t}();e.UIImageLoader=o},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(262)),n(i(504)),n(i(147)),n(i(125)),n(i(55)),n(i(25)),n(i(7)),n(i(28)),n(i(45)),n(i(66)),n(i(263)),n(i(126))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("battle_main_"+t)}t.getTexture=e}(e.BATTLE_MAIN||(e.BATTLE_MAIN={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(8),s=function(t){function e(e,i,n,r){void 0===i&&(i=0),void 0===n&&(n=o.default.width),void 0===r&&(r=o.default.height);var s=t.call(this,e,i,n,r)||this;return s._base_alpha=e,s}return n(e,t),e.prototype.isNowAnimation=function(){return null!=this._tween_show||null!=this._tween_hide},e.prototype.show=function(t,e){var i=this;void 0===t&&(t=0),void 0===e&&(e=null),this._stopShowTween(),this._stopHideTween(),t<=0?(this.alpha=1,null!=e&&e()):this._tween_show=createjs.Tween.get(this).to({alpha:1},t).call(function(){i._tween_show=null,null!=e&&e()})},e.prototype.hide=function(t,e){var i=this;void 0===t&&(t=0),void 0===e&&(e=null),this._stopShowTween(),this._stopHideTween(),t<=0?(this.alpha=0,null!=e&&e()):this._tween_hide=createjs.Tween.get(this).to({alpha:0},t).call(function(){i._tween_hide=null,null!=e&&e()})},e.prototype._stopShowTween=function(){null!=this._tween_show&&(this._tween_show.setPaused(!0),this._tween_show=null)},e.prototype._stopHideTween=function(){null!=this._tween_hide&&(this._tween_hide.setPaused(!0),this._tween_hide=null)},e}(r.AreaBox);e.FadeBox=s},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(22)),n(i(145)),n(i(43)),n(i(260)),n(i(146)),e.START_TIME=(new Date).getTime(),e.RANK_NAME=["","\u5143\u5e25","\u5927\u5c06","\u4e2d\u5c06","\u5c11\u5c06","\u5927\u4f50","\u4e2d\u4f50","\u65b0\u7c73\u4e2d\u4f50","\u5c11\u4f50","\u4e2d\u5805\u5c11\u4f50","\u65b0\u7c73\u5c11\u4f50"],e.PORT_API_SEED=[6119,8922,9226,5027,8277,3976,3907,4855,7833,6656],e.COMBINABLE=!0,e.EVENT_AREA_ID=45,e.MAMIYA_IRAKO_SEASON=4;var o=window.navigator.userAgent.toLowerCase(),r=/edge/i.test(o),s=/chrome/i.test(o)&&!r,a=/ip(hone|ad|od)/i.test(o);e.HTML5_AUDIO=s&&!a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("map_common_"+t)}t.getTexture=e}(e.MAP_COMMON||(e.MAP_COMMON={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=function(t){function e(){var e=t.call(this)||this;return e._onComplete=function(t){var i=e._tweens.indexOf(t);e._tweens.splice(i,1),0==e._tweens.length&&e._endTask()},e._tweens=[],e}return n(e,t),e.prototype.addTween=function(t){return t.setPaused(!0),this._tweens.push(t),this},e.prototype.addTweens=function(t){for(var e=0,i=t;e<i.length;e++){var n=i[e];this.addTween(n)}return this},e.prototype._start=function(){if(0==this._tweens.length){var t=createjs.Tween.get(this);this._tweens.push(t)}for(var e=0,i=this._tweens;e<i.length;e++){var t=i[e];t.call(this._onComplete),t.setPaused(!1)}},e}(o.TaskBase);e.TweenTask=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("common_main_"+t)}t.getTexture=e}(e.COMMON_MAIN||(e.COMMON_MAIN={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.W=240,t.H=60,t}();e.BannerSize=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),Object.defineProperty(e.prototype,"scaleX",{get:function(){return this.scale.x},set:function(t){this.scale.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleY",{get:function(){return this.scale.y},set:function(t){this.scale.y=t},enumerable:!0,configurable:!0}),e}(PIXI.Container);e.Container=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(260),r=i(25),s=i(105),a=i(79),_=function(){function t(){null==t._queue&&(t._queue=[]),this._url_list=[]}return t.getPath=function(t,e){var i="slot_"+e,o=s.SuffixUtil.create(t,i),_=r.MathUtil.zeroPadding(t,3);return n.default.settings.path_root+"resources/slot/"+e+"/"+_+"_"+o+".png"+a.VersionUtil.getResourceVersion(1,parseInt(_))},t.prototype.add=function(e,i){"item_up"==i&&(1==o.ITEMUP_REPLACE.hasOwnProperty(e.toString())?e=o.ITEMUP_REPLACE[e]:e>500&&(e-=500));var n=t.getPath(e,i);return this._url_list.push(n),this},t.prototype.load=function(e){void 0===e&&(e=null),this._cb_onComplete=e,t._queue.indexOf(this)>=0||(t._queue.push(this),1==t._queue.length&&this._load())},t.prototype._load=function(){var t=this;if(this._url_list=this._url_list.filter(function(t,e,i){return!PIXI.utils.TextureCache[t]&&i.indexOf(t)===e}),0==this._url_list.length)return void this._onLoadComplete();for(var e=new PIXI.loaders.Loader,i=0,n=this._url_list;i<n.length;i++){var o=n[i];e.add(o)}e.load(function(){t._onLoadComplete()})},t.prototype._onLoadComplete=function(){if(this._cb_onComplete(),this._cb_onComplete=null,t._queue.shift()!=this)throw new Error("SlotLoader Error");t._queue.length>0&&t._queue[0]._load()},t}();e.SlotLoader=_},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t,e){var i=t>=0?"":"-";t=Math.abs(t);for(var n=t>0?Math.floor(Math.log(t)*Math.LOG10E+1):1,o="",r=0,s=e-n;r<s;r++)o+="0";return i+o+t}function i(e){var i=Math.floor(e/36e5),n=Math.floor(e%864e5/6e4)%60,o=Math.floor(e%864e5/1e3)%60%60;return t.zeroPadding(i,2)+":"+t.zeroPadding(n,2)+":"+t.zeroPadding(o,2)}function n(t){if(t<0||t>1)throw Error();var e,i=255,n=255;return t<1/3?(e=3*t,n=Math.round(0+128*e)):t<1/3*2?(e=3*(t-1/3),n=Math.round(128+3*(t-1/3)*128)):(e=3*(t-1/3*2),i=Math.round(255-255*e)),(i<<16)+(n<<8)}t.zeroPadding=e,t.timeToString=i,t.getColor=n}(e.MathUtil||(e.MathUtil={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("sally_airunit_"+t)}t.getTexture=e}(e.SALLY_AIRUNIT||(e.SALLY_AIRUNIT={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=t.call(this)||this;return n._started=!1,n._tasks=null!=e?e.concat():[],n}return n(e,t),e.prototype.add=function(t){if(1==this._started)throw new Error("ParallelTask::add");return null!=t&&this._tasks.push(t),this},e.prototype._start=function(){var t=this;if(1==this._started)throw new Error("ParallelTask::start");if(this._started=!0,0==this._tasks.length)this._endTask();else for(var e=this._tasks.concat(),i=0,n=e;i<n.length;i++){var o=n[i];!function(e){e.start(function(){var i=t._tasks.indexOf(e);t._tasks.splice(i,1),t._endCheck()})}(o)}},e.prototype._endCheck=function(){0==this._tasks.length&&this._endTask()},e}(o.TaskBase);e.ParallelTask=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);!function(t){function e(t){return t>1500&&t<5e3}function i(t){return t>15?0:t>10?1:t>5?2:t>0?3:4}function o(t,e){var i=100*t/e;return i<=0?0:i<=25?25:i<=50?50:i<=75?75:100}function r(t,e){var i=o(t,e);return 50==i||25==i||0==i}function s(t){return t>=100}function a(t,e){null!=t&&t.sort(function(t,i){if(0==e)return t.level>i.level?1:t.level<i.level?-1:t.sortNo<i.sortNo?1:t.sortNo>i.sortNo?-1:t.memID<i.memID?1:t.memID>i.memID?-1:0;if(1==e)return t.level<i.level?1:t.level>i.level?-1:t.sortNo>i.sortNo?1:t.sortNo<i.sortNo?-1:t.memID>i.memID?1:t.memID<i.memID?-1:0;if(2==e)return t.sortNo>i.sortNo?1:t.sortNo<i.sortNo?-1:t.level<i.level?1:t.level>i.level?-1:t.memID>i.memID?1:t.memID<i.memID?-1:0;if(3==e)return t.memID<i.memID?1:t.memID>i.memID?-1:0;if(4==e){var n=t.hpNow/t.hpMax,o=i.hpNow/i.hpMax;return n>o?1:n<o?-1:t.sortNo>i.sortNo?1:t.sortNo<i.sortNo?-1:t.memID>i.memID?1:t.memID<i.memID?-1:0}return 0})}function _(t,e,i){return null==t?null:t.filter(function(t,n,o){return(1!=e||1!=t.isLocked()&&1!=t.hasLockedSlotitem())&&!(null!=i&&i.indexOf(t.memID)>=0)})}function l(t,e){for(var i=[],n=0,o=e;n<o.length;n++){var r=o[n];0==r?(i.push(8),i.push(9),i.push(10),i.push(12)):1==r?(i.push(7),i.push(11),i.push(18)):2==r?(i.push(5),i.push(6)):3==r?(i.push(3),i.push(4),i.push(21)):4==r?i.push(2):5==r?i.push(1):6==r?(i.push(13),i.push(14)):7==r&&(i.push(15),i.push(16),i.push(17),i.push(19),i.push(20),i.push(22))}return u(t,i)}function u(t,e){return null==t?null:t.filter(function(t,i,n){var o=t.shipTypeID;return e.indexOf(o)>=0})}function c(){for(var t=[],e=n.default.model.deck.getAll(),i=0,o=e;i<o.length;i++){var r=o[i],s=r.getShipMemIDList();t=t.concat(s)}return t}function h(){for(var t=new Array,e=n.default.model.deck.getAll(),i=0,o=e;i<o.length;i++){var r=o[i];if(null!=r.expedition){var s=r.getShipMemIDList();t=t.concat(s)}}return t}function p(t,e,i){var n=t.karyoku-(e.hougMin+t.gradeUpHoug),o=t.raisou-(e.raigMin+t.gradeUpRaig),r=t.taiku-(e.tykuMin+t.gradeUpTyku),s=t.soukou-(e.soukMin+t.gradeUpSouk),a=(t.lucky,e.luckMin,t.gradeUpLuck,e.hougMax+n<=t.karyoku),_=e.raigMax+o<=t.raisou,l=e.tykuMax+r<=t.taiku,u=e.soukMax+s<=t.soukou;if(a&&_&&l&&u){if(!i)return!0;var c=0==e.luckMax-t.lucky,h=!0;t.gradeUpTaikyu<t.VHP&&t.taikyu<e.taikyuMax&&(h=!1);var p=!0;0<t.taisenMax&&t.gradeUpTaisen<t.VAS&&(p=!1);if(c&&h&&p)return!0}return!1}function d(t){switch(t){case 149:return"\u91d1\u525b\u578b\u6226\u8266";case 277:return"\u8d64\u57ce\u578b\u822a\u7a7a\u6bcd\u8266";case 594:return"\u6539\u8d64\u57ce\u578b\u822a\u7a7a\u6bcd\u8266";default:return""}}t.isEnemy=e,t.getSpeedType=i,t.getDamageType=o,t.isDamaged=r,t.isMarriage=s,t.sort=a,t.filter=_,t.filterByShipFilterType=l,t.filterByShipType=u,t.getMemIDsInAllDeck=c,t.getMemIDsInExpedition=h,t.isMaxGradeUp=p,t.getShipClassTypeSpRemodelText=d}(e.ShipUtil||(e.ShipUtil={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=t.call(this)||this;return n._started=!1,n._tasks=null!=e?e.concat():[],n}return n(e,t),e.prototype.add=function(t){if(1==this._started)throw new Error("SerialTask::add");return null!=t&&this._tasks.push(t),this},e.prototype._start=function(){if(1==this._started)throw new Error("SerialTask::start");this._started=!0,this._endCheck()},e.prototype._startTask=function(){var t=this;this._current=this._tasks.shift(),this._current.start(function(){t._current=null,t._endCheck()})},e.prototype._endCheck=function(){null==this._tasks||0==this._tasks.length?this._endTask():this._startTask()},e.prototype._endTask=function(e){void 0===e&&(e=!1),this._tasks=null,this._current=null,t.prototype._endTask.call(this,e)},e}(o.TaskBase);e.SerialTask=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("sally_common_"+t)}t.getTexture=e}(e.SALLY_COMMON||(e.SALLY_COMMON={}))},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(23)),n(i(12)),n(i(202)),n(i(203)),n(i(627)),n(i(40)),n(i(59)),n(i(32)),n(i(154)),n(i(155)),n(i(60))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(154),s=i(285),a=i(596),_=i(197),l=i(155),u=i(598),c=i(599),h=i(70),p=i(37),d=i(10),f=function(t){function e(){var e=t.call(this)||this;return e._image=new PIXI.Sprite,e.addChild(e._image),e._state=new r.BannerIcon,e.addChild(e._state),e._burned=new l.BannerSoot,e.addChild(e._burned),e._smoke=new _.BannerSmoke,e.addChild(e._smoke),e._tired=new u.BannerTired,e.addChild(e._tired),e._plate=new a.BannerPlate,e._plate.position.set(47,-4),e.addChild(e._plate),e._kira=new s.BannerKirakira,e.addChild(e._kira),e._ring=new h.RingSmall,e.addChild(e._ring),e._lockSlot=new c.BannerLockSlot,e._lockSlot.visible=!1,e.addChild(e._lockSlot),e.hitArea=new PIXI.Rectangle(0,0,240,60),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._smoke.dispose(),this._tired.dispose(),this._kira.dispose(),this._ring.dispose(),this._lockSlot.dispose(),this._image=null,this._state=null,this._burned=null,this._smoke=null,this._tired=null,this._plate=null,this._kira=null,this._ring=null,this._lockSlot=null},e.prototype.update=function(t,e){var i=t.mstID,n=t.isDamaged();this.updateImage(i,n);var o=t.isRepair(),r=t.getDamageType();this.updateIcon(e,o,r),this.updateTired(t.tired),this.updateRing(t.isMarriage())},e.prototype.updateImage=function(t,e){p.TaskLoadShipResource.abortBy(this._image),1==o.default.resources.isLoadedShip(t,e,"banner")?this._image.texture=o.default.resources.getShip(t,e,"banner"):(this._image.texture=d.COMMON_MISC.getTexture(2),new p.TaskLoadShipResource("banner",this._image,t,e).start())},e.prototype.updateIcon=function(t,e,i,n){void 0===n&&(n=!0),this._smoke.stop(),1==t?(this._state.setExpeditionIcon(),this._burned.clear()):1==e?(this._state.setRepairIcon(),this._burned.clear()):(this._state.setDamagedIcon(i),this._burned.update(i),this._smoke.play(i))},e.prototype.updateTired=function(t){this._tired.update(t),t>=50?this._kira.play():this._kira.stop()},e.prototype.updatePlate=function(t){this._plate.update(t)},e.prototype.updateRing=function(t){this._ring.deactivate(),1==t?(0==this._ring.x&&(this._ring.position.set(209,30),this._ring.initialize()),this._ring.activate(),this._ring.visible=!0):this._ring.visible=!1},e.prototype.updateLockSlot=function(t){this._lockSlot.visible=!!t.hasLockedSlotitem(),t.tired<30?this._lockSlot.position.set(232,0):this._lockSlot.position.set(232,24)},e}(PIXI.Container);e.ShipBanner=f},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(1120)),n(i(403)),n(i(1121)),n(i(1122))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=function(t){function e(){var e=t.call(this)||this;return e._list=[],e}return n(e,t),e.prototype.add=function(t){return this._list.push(t),this},e.prototype._start=function(){this._connect()},e.prototype._connect=function(){var t=this;if(0==this._list.length)o.default.view.loading.hide(200),this._endTask();else{o.default.view.loading.show(200);this._list.shift().start(function(){t._complete()},function(){t._failed()})}},e.prototype._complete=function(){this._connect()},e.prototype._failed=function(){this._endTask(!0)},e.prototype._failedEnd=function(){if(null!=this._cb_failed){var t=this._cb_failed;this._cb_failed=null,t()}else o.default.view.showError("Failed Serial API Connection. ")},e}(r.TaskBase);e.APIConnector=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("arsenal_main_"+t)}t.getTexture=e}(e.ARSENAL_MAIN||(e.ARSENAL_MAIN={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("battle_result_main_"+t)}t.getTexture=e}(e.BATTLE_RESULT_MAIN||(e.BATTLE_RESULT_MAIN={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(150),s=i(151),a=i(13),_=function(t){function e(e,i,n,s){var a=t.call(this,i)||this;if(a.LOG=!1,a._mst_id=0,a._damaged=!1,a._onLoadComplete=function(){if(1!=a._aborted)if(null==a._sprite)a._endTask();else{var t=o.default.resources.getShip(a._mst_id,a._damaged,a._type);a._sprite.texture=t,a._endTask()}},a._type=e,n instanceof r.ShipModel){var _=n;a._mst_id=_.mstID,a._damaged=_.isDamaged()}else a._mst_id=n,a._damaged=s;return a}return n(e,t),e.prototype.start=function(){t.prototype.start.call(this)},e.prototype._start=function(){this._mst_id>0?this._load():this._endTask()},e.prototype._load=function(){var t=new a.ShipLoader;t.add(this._mst_id,this._damaged,this._type),t.load(this._onLoadComplete)},e.prototype._log=function(t){if(this.LOG){o.default.model.ship.getMst(this._mst_id)}},e}(s.TaskLoadBase);e.TaskLoadShipResource=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=function(t){function e(e){var i=t.call(this)||this;return i._time=0,i._time=e,i}return n(e,t),e.prototype._start=function(){var t=this;createjs.Tween.get(null).wait(this._time).call(function(){t._endTask()})},e}(o.TaskBase);e.WaitTask=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(178),a=i(54),_=function(t){function e(e,i,n,r,s,_){var l=t.call(this)||this;return l._scene=e,l._attacker=i,l._slot=o.default.model.slot.getMst(n),l._hit=s,l._damage=r,l._shield=_,l._daihatsu_eff=0,l._damage_cutin=new a.PhaseDamageCutin(e),l}return n(e,t),e.prototype.preload=function(t){null!=t&&t()},e.prototype.setOptionalEffects=function(t){this._daihatsu_eff=t},e.prototype._endTask=function(){var e=this;this._damage_cutin.start(function(){t.prototype._endTask.call(e)})},e.prototype._getDamage=function(t){return 1==this._scene.data.model.isPractice()?Math.min(this._damage,t.hp_now-1):this._damage},e.prototype._showShield=function(t){var e=this._scene.view.bannerGroupLayer.getShieldTargetBanner(t);this._scene.view.layer_damage.showShieldAtBanner(e)},e.prototype._playVoice=function(){0==this._scene.data.isNight()?this._playVoiceDay():this._playVoiceNight()},e.prototype._playVoiceDay=function(){if(this._attacker.friend){var t=this._attacker.mst_id,e=this._attacker.stype;7==e||11==e?o.default.sound.voice.playAtRandom(t.toString(),[16,18],[50,50]):this._attacker.isSubMarine()&&0!=this._daihatsu_eff?o.default.sound.voice.play(t.toString(),26):o.default.sound.voice.playAtRandom(t.toString(),[16,17],[50,50])}else this._playVoiceEnemy()},e.prototype._playVoiceNight=function(){if(this._attacker.friend){var t=this._attacker.mst_id,e=17;432==t||353==t?e=917:this._attacker.isSubMarine()&&0!=this._daihatsu_eff&&(e=26),o.default.sound.voice.play(t.toString(),e)}else this._playVoiceEnemy()},e.prototype._playVoiceEnemy=function(){var t=s.EnemyVoiceConst.getAttackVoiceIDs(this._scene,this._attacker);if(null!=t&&t.length>0){var e=t[Math.floor(Math.random()*t.length)];o.default.sound.voice.play("9998",e)}},e.prototype._playExplosion=function(t,e){var i=t.getGlobalPos(!0);this._scene.view.layer_explosion.playDamageExplosion(i.x,i.y,e)},e.prototype._playDamageEffect=function(t,e,i,n,o,r){var s=this;void 0===r&&(r=null),this._scene.view.layer_damage.showAtBanner(e,n,o);var a=createjs.Tween.get(null);a.wait(200),a.call(function(){s._damage_cutin.causeDamage(i,n),e.updateHp(i.hp_now),t.moveDefault()}),a.wait(600),null==r?a.call(function(){s._endTask()}):a.call(r)},e.prototype._log=function(t){},e}(r.TaskBase);e.PhaseAttackBase=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(59),r=i(10),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._getContentTexture=function(){return r.COMMON_MISC.getTexture(23)},e}(o.GearBtnNext);e.GearBtnHome=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("sally_event_"+t)}t.getTexture=e}(e.SALLY_EVENT||(e.SALLY_EVENT={}))},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(1085)),n(i(387)),n(i(389)),n(i(388)),n(i(391)),n(i(390)),n(i(1088)),n(i(1089)),n(i(392)),n(i(393)),n(i(394)),n(i(386)),n(i(1090)),n(i(1091)),n(i(1092)),n(i(1093)),n(i(1094)),n(i(1096)),n(i(1097)),n(i(1098)),n(i(1099)),n(i(1100))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.getPlaneType=function(e){return 1==e?t._PLANE_TYPE_.concat(41):t._PLANE_TYPE_},t.getJetPlaneType=function(){return[56,57,58]},t.getAirUnitPlaneType=function(){return t._PLANE_TYPE_.concat(9,10,41,47,48,49,59)},t.getJetAirUnitPlaneType=function(){return this.getJetPlaneType().concat(59)},t.getEnemyPlaneGraphicsType=function(t){var e={517:2,518:3,520:2,521:3,524:2,525:3,526:3,544:3,546:3,547:4,548:5,549:6,554:5,555:5,556:4,557:5,558:6,561:7,562:8,564:6,566:4,571:9,572:10,573:11,574:12,575:12,581:13,582:14,583:15,586:12,594:16,595:16};return 1==e.hasOwnProperty(t.toString())?e[t]:1},t.PLANE=[5,7,15,16,33,36,40,43,44],t.SAKUTEKI=[9,10,11,41,59,94],t._PLANE_TYPE_=[6,7,8,11,25,26,45,56,57,58],t.ATTACKABLE_TYPE=[6,45,56],t.SAKUTEKI_SPSCALE_MSTID={138:.44},t.SAKUTEKI_SPSCALE_ETYPE={41:.4},t.OFFSET={16:{sx:-1},17:{sx:-1},18:{y:18,r:10},19:{y:15,r:30,sx:-1},20:{r:30},21:{r:10,sx:-1},22:{sx:-1},23:{y:11,r:31,sx:-1},25:{sx:-1},26:{sx:-1},52:{y:18,r:10},53:{sx:-1},54:{sx:-1},56:{r:15,sx:-1},59:{sx:-1},60:{r:-35,sx:-1},61:{sx:-1},62:{sx:-1},64:{r:70,sx:-1},70:{r:-10,sx:-1},79:{r:30,sx:-1},80:{y:45,r:-60,sx:-1},81:{y:45,r:-60,sx:-1},82:{r:-7},83:{r:-20},93:{r:-5,sx:-1},94:{r:-10,sx:-1},96:{r:20},97:{r:30,sx:-1},98:{y:45},99:{r:20},100:{r:-10,sx:-1},102:{r:24},109:{r:-10},110:{r:21},111:{r:-20},113:{r:-10},115:{r:10,sx:-1},118:{sx:-1},138:{r:18,sx:-1},143:{r:30},144:{r:-20,sx:-1},148:{r:5,sx:-1},151:{r:20,sx:-1},158:{r:30},159:{r:-15},168:{r:12},169:{r:15},170:{r:15},175:{r:-20,sx:-1},176:{r:34},177:{r:34},178:{r:12},180:{r:20,sx:-1},184:{r:30,sx:-1},185:{r:35},186:{r:20},188:{sx:-1},189:{sx:-1},194:{r:18,sx:-1},195:{r:15,sx:-1},196:{y:8,r:6,sx:-1},199:{y:15,r:15,sx:-1},200:{r:30,sx:-1},205:{y:8},207:{r:30,sx:-1},208:{sx:-1},212:{sx:-1},218:{r:-5},219:{y:-8,r:30,sx:-1},221:{r:-14},224:{r:30},228:{r:30,sx:-1},233:{r:22},237:{r:-10},238:{r:15},239:{r:15},242:{r:18},243:{r:18},244:{r:18},248:{y:23,r:12},249:{r:-15,sx:-1},250:{y:26,r:12},251:{y:26,r:12},252:{y:26,r:12},253:{y:26,r:12},269:{r:30},270:{r:35},271:{r:-15,sx:-1},302:{r:5},304:{r:8},305:{r:10,sx:-1},306:{y:-5,r:10,sx:-1},316:{r:-25,sx:-1},319:{r:12},320:{r:12},322:{r:50},323:{r:50},324:{r:7},325:{r:7},333:{y:20,r:10,sx:-1},334:{y:20,r:10,sx:-1},335:{y:20,r:10,sx:-1},336:{y:20,r:10,sx:-1},337:{y:20,r:10,sx:-1},338:{y:20,r:10,sx:-1},339:{y:20,r:10,sx:-1},342:{y:18,r:10},343:{y:18,r:10},344:{y:18,r:10},345:{y:18,r:10},353:{y:25,r:5},354:{y:30,r:18}},t}();e.PlaneConst=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(12),r=function(t){function e(e){var i=t.call(this,e)||this;if(PIXI.utils.isWebGLSupported()){var n=new PIXI.filters.ColorMatrixFilter;n.matrix=[1,0,0,0,1,0,1,0,0,1,0,0,1,0,.7,0,0,0,1,0],i.filters=[n],i.tint=0,i.alpha=0}else i.visible=!1;return i}return n(e,t),e.prototype.play=function(){this.alpha=0,createjs.Tween.get(this).to({alpha:.4},135).to({alpha:0},1)},e}(o.Sprite);e.ShipFlash=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(145);!function(t){function e(t,e,i){void 0===i&&(i=!0),null!=t&&(0==e?t.sort(function(t,e){if(1==i){if(t.equipTypeSp<e.equipTypeSp)return-1;if(t.equipTypeSp>e.equipTypeSp)return 1}else{if(t.equipType<e.equipType)return-1;if(t.equipType>e.equipType)return 1}return t.mstID<e.mstID?-1:t.mstID>e.mstID?1:t.memID<e.memID?-1:t.memID>e.memID?1:0}):1==e?t.sort(function(t,e){if(1==i){if(t.equipTypeSp<e.equipTypeSp)return-1;if(t.equipTypeSp>e.equipTypeSp)return 1}else{if(t.equipType<e.equipType)return-1;if(t.equipType>e.equipType)return 1}return t.mstID<e.mstID?-1:t.mstID>e.mstID?1:t.level>e.level?-1:t.level<e.level?1:t.memID<e.memID?-1:t.memID>e.memID?1:0}):2==e&&t.sort(function(t,e){if(1==i){if(t.equipTypeSp<e.equipTypeSp)return-1;if(t.equipTypeSp>e.equipTypeSp)return 1}else{if(t.equipType<e.equipType)return-1;if(t.equipType>e.equipType)return 1}return t.mstID<e.mstID?-1:t.mstID>e.mstID?1:t.level<e.level?-1:t.level>e.level?1:t.memID<e.memID?-1:t.memID>e.memID?1:0}))}function i(t,e){if(null==t)return null;var i;if(i=0==e||12==e?n.default.model.slot.getEquipTypeAll().map(function(t,e,i){return t.id}):o.SlotConst.FILTERING_CATEGORIES[e].concat(),12==e){var r=new Array;for(var s in o.SlotConst.FILTERING_CATEGORIES)r.push.apply(r,o.SlotConst.FILTERING_CATEGORIES[s]);i=i.filter(function(t,e,i){return-1==r.indexOf(t)})}return t.filter(function(t,e,n){return-1!=i.indexOf(t.equipTypeSp)})}function r(t,e,i,n,o){void 0===o&&(o=-1);var r=[],s=["\u706b\u529b","\u96f7\u88c5","\u5bfe\u7a7a","\u5bfe\u6f5c","\u7206\u88c5","\u547d\u4e2d","\u56de\u907f","\u7d22\u6575","\u88c5\u7532"],a=t.range,_=t.equipType;n&&1<=a&&r.push("\u5c04\u7a0b "+["","\u77ed","\u4e2d","\u9577","\u8d85\u9577"][a]),48==_&&(s[5]="\u5bfe\u7206",s[6]="\u8fce\u6483");for(var l=[t.karyoku,t.raisou,t.taiku,t.taisen,t.bakusou,t.meichu,t.kaihi,t.sakuteki,t.soukou],u=0,c=0;c<l.length;c++)if(0!=l[c]){var h=e;if(l[c]<0&&(h=e.split("+").join("")),r.push(s[c]+h+l[c]),u++,-1!=o&&o<=u)break}return r.join(i)}function s(t){return t>500}t.sort=e,t.filter=i,t.genSummaryText=r,t.isEnemyItem=s}(e.SlotUtil||(e.SlotUtil={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return Object.defineProperty(t.prototype,"message",{get:function(){return null==this._message?"":this._message},enumerable:!0,configurable:!0}),t}();e.RewardModel=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.getPreInitializeTask=function(t,e){return void 0===e&&(e=null),null},e.prototype.getInitializeTask=function(t){return null},e.prototype.getPreFinalizeTask=function(){return null},e.prototype.getFinalizeTask=function(){return null},e}(PIXI.Container);e.SceneBase=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=function(t){function e(e,i){var n=t.call(this)||this;return n._onClose=function(){n._dialog.get_icon.deactivate(),n._dialog.close_btn.deactivate(),n._dialog.message.update(null),createjs.Tween.get(n._dialog.bg).to({alpha:0},200),createjs.Tween.get(n._dialog.light).to({alpha:0},200),createjs.Tween.get(n._dialog.container).to({alpha:0},200).call(function(){n._removeContent(),n._dialog.light.deactivate(),n._endTask()})},n._dialog=e,n._model=i,n}return n(e,t),e.prototype._start=function(){this._dialog.bg.alpha=0,this._dialog.bg.scale.set(.5),this._dialog.light.deactivate(),this._dialog.light.alpha=0,this._dialog.light.scale.set(.8),this._dialog.container.alpha=0,this._dialog.container.scale.set(1.7),this._dialog.get_icon.deactivate(),this._dialog.close_btn.deactivate(),this._createContent()},e.prototype._showDialog=function(){var t=this;createjs.Tween.get(this._dialog.bg).to({scaleX:1,scaleY:1,alpha:1},200),this._dialog.light.activate(),createjs.Tween.get(this._dialog.light).to({scaleX:1,scaleY:1,alpha:1},200).call(function(){t._showContent()})},e.prototype._showContent=function(){var t=this;createjs.Tween.get(this._dialog.container).to({scaleX:1,scaleY:1,alpha:1},500).call(function(){t._showContentComplete()})},e.prototype._showContentComplete=function(){if(this._dialog.get_icon.activate(),this._dialog.close_btn.activate(this._onClose),null!=this._model&&""!=this._model.message){var t=this._model.message;t=t.replace(/<br.*>/,"\n"),this._dialog.message.update(t)}},e.prototype._endTask=function(){this._dialog=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskRewardDialogBase=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.DIALOG_BG_ALPHA=.3,t.DIALOG_FADETIME=150,t}();e.UISettings=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(6),r=i(574),s=function(t){function e(e){void 0===e&&(e=0);var i=t.call(this)||this;return i.TOP_OPENED_Y=-405,i.TOP_CLOSED_Y=0,i.BTM_OPENED_Y=720,i.BTM_CLOSED_Y=315,i._opened=!0,i._dark=!1,i.TOP_OPENED_Y+=e,i.BTM_OPENED_Y-=e,i._top=new PIXI.Sprite,i._btm=new PIXI.Sprite,i._top.y=i.TOP_OPENED_Y,i._btm.y=i.BTM_OPENED_Y,i.addChild(i._top),i.addChild(i._btm),i}return n(e,t),e.prototype.initializeLight=function(){this._top.texture=r.COMMON_SHUTTER.getTexture(2),this._btm.texture=r.COMMON_SHUTTER.getTexture(0)},e.prototype.initializeDark=function(){this._top.texture=r.COMMON_SHUTTER.getTexture(3),this._btm.texture=r.COMMON_SHUTTER.getTexture(1)},e.prototype.isOpened=function(){return this._opened},e.prototype.open=function(t){var e=this;if(void 0===t&&(t=400),null!=this._t1){if(0!=this._opened)return;this._stopTween()}else if(1==this._opened)return;if(this._opened=!0,0==t)return this._top.y=this.TOP_OPENED_Y,void(this._btm.y=this.BTM_OPENED_Y);o.SE.play("218"),this._t1=createjs.Tween.get(this._top).to({y:this.TOP_OPENED_Y},t),this._t2=createjs.Tween.get(this._btm).to({y:this.BTM_OPENED_Y},t).call(function(){e._t1=null,e._t2=null,e.emit("opened")})},e.prototype.close=function(t){var e=this;if(void 0===t&&(t=400),null!=this._t1){if(1!=this._opened)return;this._stopTween()}else if(0==this._opened)return;if(this._opened=!1,0==t)return this._top.y=this.TOP_CLOSED_Y,void(this._btm.y=this.BTM_CLOSED_Y);this._t1=createjs.Tween.get(this._top).to({y:this.TOP_CLOSED_Y},t),this._t2=createjs.Tween.get(this._btm).to({y:this.BTM_CLOSED_Y},t).call(function(){o.SE.play("217"),e._t1=null,e._t2=null,e.emit("closed")})},e.prototype._stopTween=function(){null!=this._t1&&(this._t1.setPaused(!0),this._t2.setPaused(!0),this._t1=null,this._t2=null)},e}(PIXI.Container);e.Shutter=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t.ITEM_NUM=10,t.MARRIAGE_RING_ITEMID=55,t.REINFORCEMENT_WORK_ITEMID=64,t.EXTRA_SLOT_LEVEL=30;!function(t){t[t.HEIGHT=47]="HEIGHT",t[t.WIDTH=318]="WIDTH"}(t.DETAIL_LISTITEM||(t.DETAIL_LISTITEM={}))}(e.RemodelConst||(e.RemodelConst={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("sally_sortie_"+t)}t.getTexture=e}(e.SALLY_SORTIE||(e.SALLY_SORTIE={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("sally_practice_"+t)}t.getTexture=e}(e.SALLY_PRACTICE||(e.SALLY_PRACTICE={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(178),a=i(1343),_=i(1347),l=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i._chuha_ships=new Array,i._taiha_ships=new Array,i._gouchin_ships=new Array,i}return n(e,t),e.prototype._notifyGauge=function(t,e,i,n){if(0!=this._scene.view.layer_gauge.hasGauge()&&1!=t&&0==e&&i!=n){var o=this._scene.view.layer_gauge,r=o.now,s=Math.max(i-n,0),a=this._scene.data.model.gauge_type;if(2==a){var _=Math.max(0,r-s);o.update(_)}else 1==a&&r>0&&s>0&&0==n&&o.update(r-1);0==o.now&&0==n&&o.explode()}},e.prototype.causeDamage=function(t,e){if(null!=t){var i=t.hp_now;t.causeDamage(e),this._registerDamageEvents(t,e),this._notifyGauge(t.friend,t.index,i,t.hp_now)}},e.prototype.causeDoubleDamage1st=function(t,e){if(null!=t){var i=t.hp_now;t.causeDamage(e),this._notifyGauge(t.friend,t.index,i,t.hp_now)}},e.prototype.causeDoubleDamage2nd=function(t,e){if(null!=t){var i=t.hp_now;t.causeDamage(e,!1),this._registerDamageEvents(t,e),this._notifyGauge(t.friend,t.index,i,t.hp_now)}},e.prototype._registerDamageEvents=function(t,e){if(0!=t.friend){if(!(t.mst_id<0)){var i=t.damageType_before,n=t.damageType;if(i!=n)return 75==n&&100==i?void o.default.sound.voice.playAtRandom(t.mst_id.toString(),[19,20],[50,50]):void(0==t.type&&(50==n&&75==i?this._chuha_ships.push(t):50==n&&100==i?this._chuha_ships.push(t):25==n&&75==i?this._taiha_ships.push(t):25==n&&100==i?this._taiha_ships.push(t):0==n&&this._gouchin_ships.push(t)))}}else if(t.hp_now>0&&e>0){var r=s.EnemyVoiceConst.getDamagedVoiceIDs(this._scene,t);if(null!=r&&r.length>0){var a=r[Math.floor(Math.random()*r.length)];o.default.sound.voice.play("9998",a)}}},e.prototype._start=function(){var t=this;1==this._scene.view.layer_gauge.isAnimation()?createjs.Tween.get(null).wait(500).call(function(){t._start()}):this._gouchinCutin()},e.prototype._gouchinCutin=function(){var t=this;if(this._gouchin_ships.length>0){this._clearChuhaList(),this._clearTaihaList();var e=this._gouchin_ships.shift(),i=e.useRepairItem(),n=this._scene.view.layer_cutin,o=function(){t._scene.view.bannerGroupLayer.getBanner(e).updateHp(e.hp_now)};new a.TaskGouchinCutin(n,e.mst_id,i,o).start(function(){t._gouchinCutin()})}else this._damageCutin()},e.prototype._damageCutin=function(){for(var t=this,e=this._scene.view.layer_cutin,i=this._taiha_ships.length>0,n=this._scene.data.isNight(),o=[],r=0,s=this._taiha_ships;r<s.length;r++){var a=s[r];o.push(a.mst_id)}this._taiha_ships=Array();for(var l=0,u=this._chuha_ships;l<u.length;l++){var a=u[l];o.push(a.mst_id)}if(this._clearTaihaList(),this._clearTaihaList(),o.length>0){new _.TaskDamageCutin(e,i,n,o).start(function(){t._endCutin()})}else this._endCutin()},e.prototype._endCutin=function(){this._endTask()},e.prototype._clearTaihaList=function(){null!=this._taiha_ships&&this._taiha_ships.length>0&&(this._taiha_ships=new Array)},e.prototype._clearChuhaList=function(){null!=this._chuha_ships&&this._chuha_ships.length>0&&(this._chuha_ships=new Array)},e.prototype._log=function(t,e){},e}(r.TaskBase);e.PhaseDamageCutin=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(25);!function(t){function e(t,e){return 10*t+e}function i(t){return Math.floor(t/10)}function o(t){return t%10}function r(t,e){void 0===e&&(e=0);var r=t;if(e<=0){var s=t;r=i(s),e=o(s)}return n.MathUtil.zeroPadding(r,3).toString()+n.MathUtil.zeroPadding(e,2).toString()}t.toMapID=e,t.toAreaID=i,t.toMapNo=o,t.toResKey=r}(e.MapUtil||(e.MapUtil={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("organize_main_"+t)}t.getTexture=e}(e.ORGANIZE_MAIN||(e.ORGANIZE_MAIN={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=function(t){function e(e,i){var n=t.call(this)||this;return n._onClick=function(){n.onClick()},n._onMouseOut=function(t){n.onMouseOut&&n.onMouseOut(t),n.texture=n.textureDefault},n._onMouseOver=function(t){n.onMouseOver&&n.onMouseOver(t),n.texture=n.textureHover},n.textureDefault=e,n.textureHover=i,n.texture=n.textureDefault,n.addListener(o.EventType.CLICK,n._onClick),n.addListener(o.EventType.MOUSEOVER,n._onMouseOver),n.addListener(o.EventType.MOUSEOUT,n._onMouseOut),n.interactive=n.buttonMode=!0,n}return n(e,t),e.prototype.reset=function(){this.texture=this.textureDefault},e.prototype.dispose=function(){this.removeAllListeners(o.EventType.CLICK),this.removeAllListeners(o.EventType.MOUSEOVER),this.removeAllListeners(o.EventType.MOUSEOUT),this.onClick=null,this.onMouseOut=null,this.onMouseOver=null,this.textureDefault=null,this.textureHover=null,this._onClick=this._onMouseOver=this._onMouseOut=null,this.removeChildren()},e}(PIXI.Sprite);e.SimpleButton=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("sally_expedition_"+t)}t.getTexture=e}(e.SALLY_EXPEDITION||(e.SALLY_EXPEDITION={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=function(t){function e(){var e=t.call(this)||this;return e._gear=new PIXI.Sprite,e._gear.anchor.set(.5),e.addChild(e._gear),e._btn=new PIXI.Sprite,e._btn.anchor.set(.5),e.addChild(e._btn),e}return n(e,t),e.prototype.initialize=function(){this._gear.texture=o.COMMON_MISC.getTexture(25),this._btn.texture=this._getContentTexture()},e.prototype.activate=function(){null==this._t&&(this._t=createjs.Tween.get(this._gear,{loop:!0}).to({rotation:2*Math.PI},6e3))},e.prototype.deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e.prototype.dispose=function(){this.deactivate()},e.prototype._getContentTexture=function(){return o.COMMON_MISC.getTexture(24)},e}(PIXI.Container);e.GearBtnNext=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.initiailzeForShip=function(t,e){var i=this._getFilenameForShip(t);this._load(i,e)},e.prototype.initiailzeForSlotitem=function(t,e){var i=this._getFilenameForSlotitem(t);this._load(i,e)},e.prototype.initiailzeForUseitem=function(t){this._load("c1",t)},e.prototype.dispose=function(){this._loader=null},e.prototype.clone=function(){var t=new e;return t.texture=this.texture,t},e.prototype._getFilenameForShip=function(t){return t<=1?"c1":2==t?"c2":3==t?"c3":4==t?"r1":5==t?"r2":6==t?"sr1":7==t?"sr2":t>=8?"sr3":""},e.prototype._getFilenameForSlotitem=function(t){return t<=0?"item_c1":1==t?"item_r1":2==t?"sr1":3==t?"sr1":4==t?"sr1":t>=5?"sr2":""},e.prototype._load=function(t,e){var i=this,n=o.default.settings.path_root+"img/common/ship_bg/screen/"+t+".png";if(null!=PIXI.utils.TextureCache[n]&&(this.texture=PIXI.utils.TextureCache[n],null!=e))return void e();this._loader=new PIXI.loaders.Loader,this._loader.add(n),this._loader.load(function(t){if(i._loader==t){i._loader=null;var o=t.resources[n];i.texture=o.texture,null!=e&&e()}})},e}(PIXI.Sprite);e.RarityBG=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(134),r=function(t){function e(){var e=t.call(this)||this;return e._icon=new PIXI.Sprite,e.addChild(e._icon),e}return n(e,t),e.prototype.update=function(t){this._icon.texture=0==t?PIXI.Texture.EMPTY:o.COMMON_ICON_WEAPON.getTextureFromMstID(t);var e=this._getOffset(t);this._icon.position.set(e.x,e.y)},e.prototype.clear=function(){this._icon.texture=PIXI.Texture.EMPTY},e.prototype.dispose=function(){this.clear(),this.removeChild(this._icon),this._icon=null},e.prototype._getOffset=function(t){var e=new PIXI.Point;switch(t){case 0:e.set(0,0);break;case 1:e.set(-6,-6);break;case 2:e.set(0,-2);break;case 3:e.set(-5,-6);break;case 5:e.set(-4,-5);break;case 6:case 7:case 8:e.set(-3,0);break;case 9:e.set(-8,-5);break;case 10:e.set(2,0);break;case 11:e.set(0,0);break;case 12:e.set(-5,-3);break;case 13:e.set(-6,-6);break;case 14:e.set(-5,-6);break;case 15:case 19:e.set(0,0);break;case 21:e.set(-3,-3);break;case 22:case 23:e.set(-5,-3);break;case 29:e.set(-6,-5);break;default:e.set(-5,-5)}return e},e}(PIXI.Container);e.IconWeapon=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(23),r=function(t){function e(e){var i=t.call(this)||this;return i._img=new PIXI.Sprite,i.addChild(i._img),i.texture=e,i}return n(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this._img.texture},set:function(t){null==t?(this._img.texture=PIXI.Texture.EMPTY,this._img.position.set(0)):(this._img.texture=t,this._img.x=-Math.round(t.width/2),this._img.y=-Math.round(t.height/2))},enumerable:!0,configurable:!0}),e}(o.Container);e.CenteringSprite=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=function(t){function e(e,i){var n=t.call(this)||this;return n._entered=!1,n._showed_telop=!1,n._scene=e,n._record=i,n}return n(e,t),e.prototype._start=function(){1==this._scene.view.bannerGroupLayer.isEnteredEnemy()?this._endTask():this._enterEnemies()},e.prototype._enterEnemies=function(){var t=this;this._scene.view.bannerGroupLayer.createEnemyEnterTask().start(function(){t._entered=!0,t._preEnd()});var e=this._scene.data.model.deck_e,i=e.formation,n=e.type,o=e.getCountMainDeck(),r=e.getCountSubDeck(),s=this._scene.view.raderLayer.rader_e;this._scene.data.model.map_info.isLongRangeFires()?(this._showed_telop=!0,s.show(i,n,0,0,!0)):(this._scene.view.layer_info2.once("complete",function(){t._showed_telop=!0,t._preEnd()}),this._scene.view.layer_info2.showCenter(5),s.show(i,n,o,r,!1))},e.prototype._preEnd=function(){var t=this;0!=this._entered&&0!=this._showed_telop&&setTimeout(function(){t._endTask()},200)},e}(o.TaskBase);e.PhaseEnemyEnter=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(250),r=i(251),s=i(450),a=i(183),_=i(452),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._start=function(){this._data=this._record.raw.air_war,0==this._hasPhase()?this._endTask():this._preload()},e.prototype._preload=function(){var t=this,e=this._data.getTaikuShipIndex(),i=this._scene.data.model.deck_f.ships[e];if(null!=i){var n=i.mst_id,o=i.isDamaged(),s=this._data.getTaikuSlotMstIDs();this._aaCutin=new r.CutinAntiAircraft(n,o,s),this._aaCutin.preload(function(){t._selectCaptain()})}else this._selectCaptain()},e.prototype._selectCaptain=function(){var t;if(this._data.plane_from_f.length>0){var e=this._data.plane_from_f[0];t=this._scene.data.model.deck_f.ships[e]}var i;if(this._data.plane_from_e.length>0&&0==this._scene.data.model.map_info.isAirRaid()){var e=this._data.plane_from_e[0];i=this._scene.data.model.deck_e.ships[e]}null!=t||null!=i?this._cutin(t,i):this._showTouchPlane()},e.prototype._cutin=function(t,e){var i=this,n=new s.CutinFunnel;n.addCutinFromModel(t,!1),n.addCutinFromModel(e,!1);var o=n.view;n.preload_task.start(function(){i._scene.view.layer_title.show(4),i._scene.view.layer_cutin.addChild(o),n.start(function(){i._scene.view.layer_cutin.removeChild(o),i._showTouchPlane()})})},e.prototype._showTouchPlane=function(){var t=this,e=this._data.getTouchPlaneFriend(),i=this._data.getTouchPlaneEnemy();new a.TaskShowTouchPlane(this._scene,e,i).start(function(){t._main()})},e.prototype._main=function(){var t=this,e=this._scene.data.model.deck_f.ships,i=this._scene.data.model.deck_e.ships;new _.TaskAirWar(this._scene,this._data,e,i,this._damage_cutin,this._aaCutin).start(function(){t._endTask()})},e.prototype._endTask=function(){var e=this,i=this._scene.view.raderLayer;i.rader_e.touch_plane.hide(),i.rader_f.touch_plane.hide(),this._scene.view.layer_title.hide(function(){t.prototype._endTask.call(e)})},e.prototype._hasPhase=function(){if(null==this._data)return!1;if(1==this._data.stage3_f.hasDamage())return!0;if(1==this._data.stage3_e.hasDamage())return!0;var t=!1;0==this._record.raw.sakuteki.isSuccess_f()?t=!0:0==this._data.plane_from_f.length?t=!0:1==this._scene.data.model.deck_e.isSubmarineAll()&&(t=!0);var e=!1;return 0==this._record.raw.sakuteki.isSuccess_e()?e=!0:0==this._data.plane_from_e.length?e=!0:1==this._scene.data.model.deck_f.isSubmarineAll()&&(e=!0),1!=t||1!=e},e}(o.PhaseAirBase);e.PhaseAirWar=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(16),r=function(t){function e(){var e=t.call(this)||this;return e._setPosition=function(t,i){e._content.position.set(t,i)},e._content=new PIXI.Sprite,e.addChild(e._content),e}return n(e,t),e.prototype.initialize=function(){var t=new PIXI.Sprite(o.BATTLE_MAIN.getTexture(121));this._content.addChild(t),t=new PIXI.Sprite(o.BATTLE_MAIN.getTexture(121)),t.scale.x=-1,t.x=2*t.width,this._content.addChild(t),t=new PIXI.Sprite(o.BATTLE_MAIN.getTexture(121)),t.scale.y=-1,t.y=2*t.height,this._content.addChild(t),t=new PIXI.Sprite(o.BATTLE_MAIN.getTexture(121)),t.scale.x=-1,t.scale.y=-1,t.x=2*t.width,t.y=2*t.height,this._content.addChild(t)},e.prototype.activate=function(){null==this._t&&(this._t=createjs.Tween.get(this._content),this._t.loop=!0,this._t.call(this._setPosition,[0,0]).wait(33),this._t.call(this._setPosition,[2,5]).wait(33),this._t.call(this._setPosition,[-5,0]).wait(33),this._t.call(this._setPosition,[3,8]).wait(33),this._t.call(this._setPosition,[-3,2]).wait(33),this._t.call(this._setPosition,[6,-2]).wait(33),this._t.call(this._setPosition,[0,2]).wait(33),this._t.call(this._setPosition,[-3,2]).wait(33),this._t.call(this._setPosition,[6,5]).wait(33),this._t.call(this._setPosition,[-5,9]).wait(33),this._t.call(this._setPosition,[5,0]).wait(33),this._t.call(this._setPosition,[2,6]).wait(33),this._t.call(this._setPosition,[0,-5]).wait(33),this._t.call(this._setPosition,[5,3]).wait(33),this._t.call(this._setPosition,[5,-3]).wait(33),this._t.call(this._setPosition,[0,2]).wait(33))},e.prototype.deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Container);e.IntensiveLines=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return 1*Math.sin(t/1*(Math.PI/2))+0}function i(t,e,i,n,o){void 0===o&&(o=null);for(var r=new Array,s=n/100,a=n/s,_=0;_<s;_++){var l=a*(_+1)/n;null!=o&&(l=o(l)),r.push({x:(1-l)*(1-l)*t.x+2*(1-l)*l*e.x+l*l*i.x,y:(1-l)*(1-l)*t.y+2*(1-l)*l*e.y+l*l*i.y,t:a})}return r}function n(t,e,i,n,o){for(var r=new Array,s=o/100,a=o/s,_=0;_<s;_++){var l=a*(_+1)/o;r.push({x:(1-l)*(1-l)*(1-l)*t.x+3*(1-l)*(1-l)*l*e.x+3*(1-l)*l*l*i.x+l*l*l*n.x,y:(1-l)*(1-l)*(1-l)*t.y+3*(1-l)*(1-l)*l*e.y+3*(1-l)*l*l*i.y+l*l*l*n.y,t:a})}return r}function o(e,i,n,o,r,s,a){for(var _=t.create3BezierPoints(i,n,o,r,s),l=createjs.Tween.get(e,a),u=0,c=_;u<c.length;u++){var h=c[u];l.to({x:h.x,y:h.y},h.t)}return l}function r(t,e,i,n,o,r,s,a){void 0===r&&(r=16711680),void 0===s&&(s=65280),void 0===a&&(a=255),t.lineStyle(1,r,.3),t.moveTo(e.x,e.y),t.bezierCurveTo(i.x,i.y,n.x,n.y,o.x,o.y),t.lineStyle(1,s,.3),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.lineStyle(1,a,.3),t.moveTo(o.x,o.y),t.lineTo(n.x,n.y),t.lineStyle(),t.beginFill(s,.3),t.drawCircle(i.x,i.y,10),t.endFill(),t.beginFill(a,.3),t.drawCircle(n.x,n.y,10),t.endFill()}t.signOut=e,t.create2BezierPoints=i,t.create3BezierPoints=n,t.create3BezierTween=o,t.draw3BezierLine=r}(e.TweenUtil||(e.TweenUtil={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(25),r=function(){function t(){null==t._queue&&(t._queue=[]),this._url_list=[]}return t.getPath=function(t,e){var i=o.MathUtil.zeroPadding(t,3);return 0==e?null:1==e?n.default.settings.path_root+"resources/useitem/card/"+i+".png":2==e?n.default.settings.path_root+"resources/useitem/card_/"+i+".png":""},t.prototype.add=function(e,i){if(0==i)return this;var n=t.getPath(e,i);return this._url_list.push(n),this},t.prototype.load=function(e){void 0===e&&(e=null),this._cb_onComplete=e,t._queue.indexOf(this)>=0||(t._queue.push(this),1==t._queue.length&&this._load())},t.prototype._load=function(){var t=this;if(this._url_list=this._url_list.filter(function(t,e,i){return!PIXI.utils.TextureCache[t]&&i.indexOf(t)===e}),0==this._url_list.length)return void this._onLoadComplete();for(var e=new PIXI.loaders.Loader,i=0,n=this._url_list;i<n.length;i++){var o=n[i];e.add(o)}e.load(function(){t._onLoadComplete()})},t.prototype._onLoadComplete=function(){if(this._cb_onComplete(),this._cb_onComplete=null,t._queue.shift()!=this)throw new Error("UseitemLoader Error");t._queue.length>0&&t._queue[0]._load()},t}();e.UseitemLoader=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(55),r=i(25),s=i(7),a=i(538),_=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.createKey=function(t,e,i){void 0===i&&(i=1);var n=r.MathUtil.zeroPadding(t,3),o=r.MathUtil.zeroPadding(e,2);return i>1?n+o+"_"+i:n+o},e.getMapId=function(t){if(null==t)return 0;t=t.split("_")[0];var e=parseInt(t);if(isNaN(e))return 0;var i=Math.floor(e/100),n=e%100;return o.MapUtil.toMapID(i,n)},Object.defineProperty(e.prototype,"vertical",{get:function(){var t=s.ObjUtil.getObject(this._o,"vertical");return null==t?null:new a.GaugeModel(t,18,253)},enumerable:!0,configurable:!0}),e}(a.GaugeModel);e.GaugeSetModel=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=function(t){function e(e){var i=t.call(this)||this;return i._url="api_req_member/update_tutorial_progress",i._value=e,i}return n(e,t),e.prototype._connect=function(){this._post_data.api_no=this._value,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){o.default.model.basic.updateTutorialProgress(this._value),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.UpdateTutorialAPI=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=function(t){function e(){var e=t.call(this)||this;return e.TO_RADIAN=Math.PI/180,e.ANGLE=45*e.TO_RADIAN,e.ANGLE_SIN=Math.sin(e.ANGLE),e.ANGLE_COS=Math.cos(e.ANGLE),e.run=function(){e._degree+=2,e._degree=(e._degree%360+360)%360;var t=e._degree*e.TO_RADIAN;e._pos.x=Math.cos(t)*e._radius.x,e._pos.y=Math.sin(t)*e._radius.y,e._ang.x=e._pos.x*e.ANGLE_COS-e._pos.y*e.ANGLE_SIN,e._ang.y=e._pos.x*e.ANGLE_SIN+e._pos.y*e.ANGLE_COS,e._light.position.x=e._center.x+e._ang.x,e._light.position.y=e._center.y+e._ang.y},e._ring=new PIXI.Sprite,e._light=new PIXI.Sprite,e._light.anchor.set(.5),e.addChild(e._light),e.addChild(e._ring),e._degree=0,e._center=new PIXI.Point(0,0),e._radius=new PIXI.Point(0,0),e._pos=new PIXI.Point(0,0),e._ang=new PIXI.Point(0,0),e}return n(e,t),e.prototype.activate=function(){null==this._t&&(this._ring.alpha=1,this._light.alpha=1,this._degree=0,this._t=createjs.Tween.get(this._ring,{loop:!0}),this._t.to({alpha:.2},1667).to({alpha:1},1667).addEventListener("change",this.run))},e.prototype.deactivate=function(){null!=this._t&&(this._t.removeAllEventListeners("change"),this._t.setPaused(!0),createjs.Tween.removeTweens(this._ring),this._t=null)},e.prototype.dispose=function(){this.removeChildren(),this.deactivate(),this._ring=null,this._light=null,this._center=null,this._radius=null,this._pos=null,this._ang=null,this._degree=null},e}(PIXI.Container),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initialize=function(){this._center.set(27,30),this._radius.set(20,38),this._ring.texture=o.COMMON_MISC.getTexture(158),this._light.texture=o.COMMON_MISC.getTexture(159)},e}(r);e.RingLarge=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initialize=function(){this._center.set(23,24),this._radius.set(18,35),this._ring.texture=o.COMMON_MISC.getTexture(162),this._light.texture=o.COMMON_MISC.getTexture(163)},e}(r);e.RingMiddle=a;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initialize=function(){this._center.set(15,15),this._radius.set(8,22),this._ring.texture=o.COMMON_MISC.getTexture(160),this._light.texture=o.COMMON_MISC.getTexture(161)},e}(r);e.RingSmall=_},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("remodel_main_"+t)}t.getTexture=e}(e.REMODEL_MAIN||(e.REMODEL_MAIN={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=function(t){function e(e,i){void 0===i&&(i=0);var n=t.call(this)||this;return n._onComplete=function(){null!=n._func&&n._func(),n._endTask()},n._func=e,n._delay=i,n}return n(e,t),e.prototype._start=function(){0==this._delay?this._onComplete():createjs.Tween.get(null).wait(this._delay).call(this._onComplete)},e}(o.TaskBase);e.FuncTask=r},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(1073)),n(i(1074)),n(i(1075)),n(i(1076)),n(i(1077))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("common_selectable_reward_"+t)}t.getTexture=e}(e.COMMON_SELECTABLE_REWARD||(e.COMMON_SELECTABLE_REWARD={}))},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(1194)),n(i(1195)),n(i(1196)),n(i(416)),n(i(1197)),n(i(1198)),n(i(175)),n(i(1202)),n(i(1203)),n(i(419)),n(i(418))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=function(t){function e(e,i){var n=t.call(this)||this;return n._scene=e,n._night=i,n}return n(e,t),Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),e.prototype.isNight=function(){return this._night},e}(o.TaskBase);e.PhaseCombatBase=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(6),s=i(63),a=i(1364),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._start=function(){var t=this;if(this._data=this._record.raw.raigeki,null==this._data)this._endTask();else{new s.PhaseEnemyEnter(this._scene,this._record).start(function(){t._scene.view.layer_title.show(6),t._showTelop()})}},e.prototype._showTelop=function(){var t=this;this._scene.view.layer_info2.once("complete",function(){t._ready()}),this._scene.view.layer_info2.showCenter(6)},e.prototype._ready=function(){for(var t=this._createAttackData_f(),e=this._createAttackData_e(),i=null,n=new Array,r=0,s=t;r<s.length;r++){var a=s[r],_=a.attacker.index;(null==i||i.index>_)&&(i=a.attacker);var l=this._scene.view.bannerGroupLayer.getBanner(a.attacker);n.push(l)}for(var u=0,c=e;u<c.length;u++){var a=c[u],l=this._scene.view.bannerGroupLayer.getBanner(a.attacker);n.push(l)}if(null!=i){var h=i.mst_id.toString();o.default.sound.voice.playAtRandom(h,[15,16],[50,50])}this._move(n,t,e)},e.prototype._move=function(t,e,i){for(var n=this,o=0;o<t.length;o++){var r=t[o];0==o?r.moveShoot(function(){n._shoot(e,i)}):r.moveShoot()}0==t.length&&this._endTask()},e.prototype._shoot=function(t,e){var i=this;r.SE.play("112");for(var n=0,o=t;n<o.length;n++){var s=o[n];this._shootBase(s,1900,null)}for(var a=0,_=e;a<_.length;a++){var s=_[a];this._shootBase(s,1900,null)}createjs.Tween.get(null).wait(1900).call(function(){i._damageEffect(t,e)})},e.prototype._damageEffect=function(t,e){for(var i=this,n={},o=0,r=e;o<r.length;o++){var s=r[o],a=s.defender.index;if(null==n[a])n[a]={damage:s.damage,hit:s.hit,shield:s.shield};else{var _=n[a];_.damage+=s.damage,2==_.hit||2==s.hit?_.hit=2:1==_.hit||1==s.hit?_.hit=1:_.hit=0}}for(var l={},u=0,c=t;u<c.length;u++){var s=c[u],a=s.defender.index;if(null==l[a])l[a]={damage:s.damage,hit:s.hit,shield:s.shield};else{var _=l[a];_.damage+=s.damage,2==_.hit||2==s.hit?_.hit=2:1==_.hit||1==s.hit?_.hit=1:_.hit=0}}for(var h=0,p=this._scene.data.model.deck_f.ships;h<p.length;h++){var d=p[h];if(null!=d){var _=n[d.index];null!=_&&this._damageBase(d,_)}}if(1==this._data.hasShield_f()){var f=this._scene.view.bannerGroupLayer.getBanner(!0,0);this._scene.view.layer_damage.showShieldAtBanner(f)}for(var y=0,m=this._scene.data.model.deck_e.ships;y<m.length;y++){var d=m[y];if(null!=d){var _=l[d.index];null!=_&&this._damageBase(d,_)}}if(1==this._data.hasShield_e()){var f=this._scene.view.bannerGroupLayer.getBanner(!1,0);this._scene.view.layer_damage.showShieldAtBanner(f)}createjs.Tween.get(null).wait(500).call(function(){i._showDamageNumber(n,l)})},e.prototype._showDamageNumber=function(t,e){var i=this;this._showDamageBase(this._scene.data.model.deck_f.ships,t),this._showDamageBase(this._scene.data.model.deck_e.ships,e),createjs.Tween.get(null).wait(400).call(function(){i._endTask()})},e.prototype._endTask=function(){var e=this;this._scene.view.layer_title.hide(),this._damage_cutin.start(function(){t.prototype._endTask.call(e)})},e}(a.PhaseRaigekiBase);e.PhaseRaigeki=_},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(25),r=i(105),s=i(79),a=function(){function t(){this._loaders=[],this._added_list=[]}return t.getPath=function(t,e){var i=o.MathUtil.zeroPadding(t,3);if("normal"==e&&n.default.model.furniture.isActive(t)){var s=r.SuffixUtil.create(t,"furniture_movable");return n.default.settings.path_root+"resources/furniture/movable/"+i+"_"+s+".json"}var s=r.SuffixUtil.create(t,"furniture_"+e);return n.default.settings.path_root+"resources/furniture/"+e+"/"+i+"_"+s+".png"},t.getVersionQuery=function(t){var e=s.VersionUtil.get(2,t);return null!=e&&""!=e&&"1"!=e?"version="+e:""},t.prototype.add=function(e,i){var n=t.getPath(e,i);if(-1!=this._added_list.indexOf(n))return this;if(null==t._loaded&&(t._loaded=[]),-1!=t._loaded.indexOf(n))return this;t._loaded.push(n),this._added_list.push(n);var o=new PIXI.loaders.Loader;return o.defaultQueryString=t.getVersionQuery(e),o.add(n),this._loaders.push(o),this},t.prototype.load=function(t){return void 0===t&&(t=null),this._cb_onComplete=t,this._load(),this},t.prototype._load=function(){var t=this;if(0==this._loaders.length)this._onComplete();else{this._loaders.shift().load(function(){t._load()})}},t.prototype._onComplete=function(){this._cb_onComplete(),this._loaders=null,this._cb_onComplete=null},t}();e.FurnitureLoader=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);!function(t){function e(t,e,i){void 0===i&&(i=1);var o="1";switch(t){case 0:var r=n.default.model.ship_graph.get(e);null!=r&&(o=r.version);break;case 1:var s=n.default.model.slot.getMst(e);null!=s&&(o=s.version);break;case 3:var r=n.default.model.ship_graph.get(e);null!=r&&(o=2==i||3==i?r.version_voice_boko:r.version_voice);break;case 2:var a=n.default.model.furniture.getData(e);null!=a&&(o=a.version)}return o}function i(e,i,n){void 0===n&&(n=1);var o=t.get(e,i,n);return"1"!=o?"?version="+o:""}t.get=e,t.getResourceVersion=i}(e.VersionUtil||(e.VersionUtil={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(198),r=function(t){function e(e){void 0===e&&(e=1);var i=t.call(this)||this;return i._subtype=e,i}return n(e,t),Object.defineProperty(e.prototype,"subtype",{get:function(){return this._subtype},enumerable:!0,configurable:!0}),e}(o.SceneModel);e.ItemSceneModel=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(303),s=i(10),a=function(t){function e(e){void 0===e&&(e=!0);var i=t.call(this)||this;return i._stype_name=new o.TextBox(27,16777215),i._stype_name.position.set(116.5,87),i._stype_name.anchor.set(0,0),i._ship_name=new o.TextBox(45,16777215),i._ship_name.position.set(116,135),i._ship_name.anchor.set(0,0),i._ship_name.style.align="center",i._text=new o.TextBox(27,16777215),i._text.position.set(246,87),i._text.style.breakWords=!0,i._text.style.wordWrap=!0,i._text.style.wordWrapWidth=792,i.addChild(i._stype_name),i.addChild(i._ship_name),i.addChild(i._text),1==e&&(i._get_icon=new r.GetIcon,i._get_icon.position.set(1068,53),i.addChild(i._get_icon)),i}return n(e,t),e.prototype.initialize=function(t){this.texture=s.COMMON_MISC.getTexture(120),this._stype_name.text="",this._ship_name.text="",this._text.text="",this._message=t.replace(/<br\s*>/g,"\n").replace(/\u2019/g,"'"),null!=this._get_icon&&this._get_icon.initialize()},e.prototype.append=function(t){this._message=t.replace(/<br\s*>/g,"\n").replace(/\u2019/g,"'")},e.prototype.initializeForShip=function(t,e,i){for(this.texture=s.COMMON_MISC.getTexture(120),this._stype_name.text=t,this._ship_name.text=e,this._ship_name.width>216&&e.length>10&&(this._ship_name.text=this._ship_name.text.replace(" ","\n"));this._ship_name.width>216;)this._ship_name.style.fontSize=this._ship_name.style.fontSize-1;this._stype_name.position.x=21+Math.floor(95.5-this._stype_name.width/2),this._ship_name.position.x=8+Math.floor(108-this._ship_name.width/2),this._text.text="",this._message=i.replace(/<br\s*>/g,"\n").replace(/\u2019/g,"'"),null!=this._get_icon&&this._get_icon.initialize()},e.prototype.initializeForSlot=function(t,e,i){this.texture=s.COMMON_MISC.getTexture(120),this._stype_name.text="",this._ship_name.text="",this._text.text="",this._message=t+(i>0?"(\u2605+"+i+")":"")+"\u3092",e>1&&(this._message+=e+"\u500b"),this._message+="\u624b\u306b\u5165\u308c\u307e\u3057\u305f\u3002",null!=this._get_icon&&this._get_icon.initialize()},e.prototype.initializeForUseitem=function(t,e){this.texture=s.COMMON_MISC.getTexture(120),this._stype_name.text="",this._ship_name.text="",this._text.text="",this._message=t+"\u3092",e>1&&(this._message+=e+"\u500b"),this._message+="\u624b\u306b\u5165\u308c\u307e\u3057\u305f\u3002",null!=this._get_icon&&this._get_icon.initialize()},e.prototype.initializeForFood=function(t){this.texture=s.COMMON_MISC.getTexture(120),this._stype_name.text="",this._ship_name.text="",this._text.text="",this._message="\u4e3b\u8a08\u79d1\u5175\u7ad9\u304b\u3089\u5f37\u596a\u3055\u308c\u305f\u300c"+t+"\u300d\u3092\u3001\u7121\u4e8b\u56de\u53ce\u3057\u307e\u3057\u305f\u3002",null!=this._get_icon&&this._get_icon.initialize()},e.prototype.initializeForFurniture=function(t){this.texture=s.COMMON_MISC.getTexture(120),this._stype_name.text="",this._ship_name.text="",this._text.text="",this._message=t+"\u3092\u624b\u306b\u5165\u308c\u307e\u3057\u305f\u3002",null!=this._get_icon&&this._get_icon.initialize()},e.prototype.activate=function(t){var e=this;void 0===t&&(t=null),null!=this._get_icon&&this._get_icon.activate(),null==this._t&&null!=this._message&&0!=this._message.length&&(this._t=createjs.Tween.get(null,{loop:!0}).wait(100).call(function(){var i=e._message.substr(0,1);" "==e._text.text?e._text.text=i:e._text.text+=i,e._message=e._message.substr(1),0==e._message.length&&(e._t.setPaused(!0),e._t=null,null!=t&&t())}))},e.prototype.deactivate=function(){null!=this._get_icon&&this._get_icon.deactivate(),null!=this._t&&(this._t.setPaused(!0),this._t=null)},e.prototype.dispose=function(){this.deactivate(),this.removeChildren(),this._stype_name.destroy(),this._ship_name.destroy(),this._text.destroy(),null!=this._get_icon&&this._get_icon.dispose()},e}(PIXI.Sprite);e.MessageBox=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("tutorial_main_"+t)}t.getTexture=e}(e.TUTORIAL_MAIN||(e.TUTORIAL_MAIN={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(21),r=function(t){function e(){var e=t.call(this)||this;e._MAX_NUM=5;for(var i=new Array(e._MAX_NUM),n=0;n<e._MAX_NUM;n++){var r=new PIXI.Sprite(o.COMMON_MAIN.getTexture(52));r.x=Math.floor(18*n),r.visible=!1,i[n]=r,e.addChild(r)}return e.stars=i,e}return n(e,t),e.prototype.update=function(t){for(var e=0;e<this._MAX_NUM;e++){var i=this.stars[e],n=e<t;i.visible=!1,n&&(i.visible=!0)}},e.prototype.dispose=function(){for(var t=0;t<this.stars.length;t++)this.removeChild(this.stars[t]),this.stars[t].texture=PIXI.Texture.EMPTY,this.stars[t]=null;this.stars=null,this._MAX_NUM=null,this.removeChildren()},e}(PIXI.Container);e.StarRateView=r},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(199)),n(i(714)),n(i(283)),n(i(151)),n(i(37)),n(i(85))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(265),s=i(151),a=i(24),_=function(t){function e(e,i,n){var s=t.call(this,i)||this;if(s.LOG=!1,s._mst_id=0,s._onLoadComplete=function(){if(1!=s._aborted)if(null==s._sprite)s._endTask();else{var t=o.default.resources.getSlotitem(s._mst_id,s._type);s._sprite.texture=t,s._endTask()}},s._type=e,n instanceof r.SlotitemModel){var a=n;s._mst_id=a.mstID}else s._mst_id=n;return s}return n(e,t),e.prototype.start=function(){t.prototype.start.call(this)},e.prototype._start=function(){this._mst_id>0?this._load():this._endTask()},e.prototype._load=function(){var t=new a.SlotLoader;t.add(this._mst_id,this._type),t.load(this._onLoadComplete)},e.prototype._log=function(t){if(this.LOG){o.default.model.slot.getMst(this._mst_id)}},e}(s.TaskLoadBase);e.TaskLoadSlotResource=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(4),s=i(1),a=function(t){function e(){var e=t.call(this)||this;e.PAGER_COUNT=5,e.color_on=1949120,e.color_off=5523516,e.color_no=16774898,e.BASE_Y=12,e.BASE_X=143,e.PADDING=53,e.focusIndex=0,e._onClickPrev_First=function(){e.focusIndex=0,e.updatePageNumbers(0),e.onChangePage(e.focusIndex)},e._onClickPrev_5=function(){e.focusIndex-=5,e.focusIndex<0&&(e.focusIndex=0),e.updatePageNumbers(e.focusIndex),e.onChangePage(e.focusIndex)},e._onClickNext_5=function(){e.focusIndex+=5,e.pageCount<=e.focusIndex&&(e.focusIndex=e.pageCount-1),e.updatePageNumbers(e.focusIndex),e.onChangePage(e.focusIndex)},e._onClickNext_Last=function(){e.focusIndex=e.pageCount-1,e.updatePageNumbers(e.focusIndex),e.onChangePage(e.focusIndex)},e._onClickChange_0=function(){e.focusIndex<2||e.pageCount<=5?e.focusIndex=0:e.pageCount-3<e.focusIndex?e.focusIndex=e.pageCount-5:e.focusIndex=e.focusIndex-2,e.updatePageNumbers(e.focusIndex),e.onChangePage(e.focusIndex)},e._onClickChange_1=function(){e.focusIndex<2||e.pageCount<=5?e.focusIndex=1:e.pageCount-3<e.focusIndex?e.focusIndex=e.pageCount-4:e.focusIndex=e.focusIndex-1,e.updatePageNumbers(e.focusIndex),e.onChangePage(e.focusIndex)},e._onClickChange_2=function(){e.focusIndex<2||e.pageCount<=5?e.focusIndex=2:e.pageCount-3<e.focusIndex?e.focusIndex=e.pageCount-3:e.focusIndex=e.focusIndex,e.updatePageNumbers(e.focusIndex),e.onChangePage(e.focusIndex)},e._onClickChange_3=function(){e.focusIndex<2||e.pageCount<=5?e.focusIndex=3:e.pageCount-3<e.focusIndex?e.focusIndex=e.pageCount-2:e.focusIndex=e.focusIndex+1,e.updatePageNumbers(e.focusIndex),e.onChangePage(e.focusIndex)},e._onClickChange_4=function(){e.focusIndex<2||e.pageCount<=5?e.focusIndex=4:e.pageCount-3<e.focusIndex?e.focusIndex=e.pageCount-1:e.focusIndex=e.focusIndex+2,e.updatePageNumbers(e.focusIndex),e.onChangePage(e.focusIndex)},e.buttonPrev_First=new PIXI.Sprite(o.COMMON_MAIN.getTexture(6)),e.buttonPrev_5=new PIXI.Sprite(o.COMMON_MAIN.getTexture(8)),e.buttonNext_5=new PIXI.Sprite(o.COMMON_MAIN.getTexture(7)),e.buttonNext_Last=new PIXI.Sprite(o.COMMON_MAIN.getTexture(5)),e.textChanges=[],e.buttonChanges=[];for(var i=0;i<e.PAGER_COUNT;i++){var n=new r.TextBox(24,e.color_no);n.anchor.set(0,0),n.interactive=!0,e.textChanges.push(n);var a=new PIXI.Graphics;a.beginFill(0,0),a.drawRect(0,0,30,30),a.endFill(),a.x=e.BASE_X+e.PADDING*i-Math.floor(15),a.y=0,a.interactive=!0,e.buttonChanges.push(a)}return e.buttonPrev_First.on(s.EventType.CLICK,e._onClickPrev_First),e.buttonPrev_5.on(s.EventType.CLICK,e._onClickPrev_5),e.buttonNext_5.on(s.EventType.CLICK,e._onClickNext_5),e.buttonNext_Last.on(s.EventType.CLICK,e._onClickNext_Last),e.buttonChanges[0].on(s.EventType.CLICK,e._onClickChange_0),e.buttonChanges[1].on(s.EventType.CLICK,e._onClickChange_1),e.buttonChanges[2].on(s.EventType.CLICK,e._onClickChange_2),e.buttonChanges[3].on(s.EventType.CLICK,e._onClickChange_3),e.buttonChanges[4].on(s.EventType.CLICK,e._onClickChange_4),e.buttonPrev_First.position.set(20,-1),e.buttonPrev_5.position.set(74,-1),e.buttonNext_5.position.set(393,-1),e.buttonNext_Last.position.set(446,-1),e.buttonPrev_First.interactive=e.buttonPrev_5.interactive=e.buttonNext_5.interactive=e.buttonNext_Last.interactive=!0,e.addChild(e.buttonPrev_First,e.buttonPrev_5),e.textChanges.forEach(function(t){e.addChild(t)}),e.buttonChanges.forEach(function(t){e.addChild(t)}),e.addChild(e.buttonNext_5,e.buttonNext_Last),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.buttonChanges.forEach(function(t){t.off(s.EventType.CLICK)}),this.buttonPrev_First.off(s.EventType.CLICK),this.buttonPrev_5.off(s.EventType.CLICK),this.buttonNext_5.off(s.EventType.CLICK),this.buttonNext_Last.off(s.EventType.CLICK),this.textChanges.forEach(function(t){t.destroy()}),this.buttonPrev_First=null,this.buttonPrev_5=null,this.textChanges=null,this.buttonChanges=null,this.buttonNext_5=null,this.buttonNext_Last=null,this.onChangePage=null},e.prototype.init=function(t){var e=this;this.pageCount=t,this.focusIndex=0,this.buttonChanges.forEach(function(t){t.interactive=!1}),this.textChanges.forEach(function(t){t.style.fill=e.color_no});for(var i=0;i<this.PAGER_COUNT;i++)i<this.pageCount&&(this.buttonChanges[i].interactive=!0,this.textChanges[i].style.fill=this.color_off);this.updatePageNumbers(this.focusIndex)},e.prototype.changePage=function(t){this.focusIndex=t,this.updatePageNumbers(this.focusIndex)},e.prototype.updatePageNumbers=function(t){var e=0;if(t<2||this.pageCount<=5){e=t;for(var i=0;i<this.PAGER_COUNT;i++)this.textChanges[i].text=(i+1).toString()}else if(this.pageCount-3<t){e=5-(this.pageCount-t);for(var i=0;i<this.PAGER_COUNT;i++)this.textChanges[i].text=(this.pageCount-(this.PAGER_COUNT-1-i)).toString()}else{for(var i=0;i<this.PAGER_COUNT;i++)this.textChanges[i].text=(t+1+(-2+i)).toString();e=2}for(var i=0;i<this.PAGER_COUNT;i++)i<this.pageCount?this.textChanges[i].style.fill=this.color_off:this.textChanges[this.PAGER_COUNT-1].style.fill=this.color_no,this.textChanges[i].style.fontSize=24,e==i&&(this.textChanges[i].style.fill=this.color_on,this.textChanges[i].style.fontSize=30),this.textChanges[i].position.set(this.BASE_X-Math.floor(this.textChanges[i].width/2)+this.PADDING*i,this.BASE_Y-Math.floor(this.textChanges[i].height/2))},e}(PIXI.Container);e.PagerView=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.update=function(t){switch(t[0]){case 1:var e=t[1];this.texture=0==e?o.COMMON_MISC.getTexture(71):o.COMMON_MISC.getTexture(74);break;case 2:this.texture=o.COMMON_MISC.getTexture(77);break;case 3:this.texture=o.COMMON_MISC.getTexture(80);break;case 4:this.texture=o.COMMON_MISC.getTexture(83);break;default:this.texture=PIXI.Texture.EMPTY}},e.prototype.dispose=function(){this.texture=PIXI.Texture.EMPTY},e}(PIXI.Sprite);e.ShipInDeckFlag=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=function(t){function e(){var e=t.call(this)||this;return e._text=new PIXI.Sprite,e._text.y=11,e.addChild(e._text),e}return n(e,t),e.prototype.initialize=function(t,e){this.texture=o.COMMON_MAIN.getTexture(64),this._text.texture=t,this._text.x=e},e.prototype.dispose=function(){this.removeChildren(),this._text.destroy(),this._text=null},e}(PIXI.Sprite);e.TitleBar=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(51),o=i(135),r=i(28),s=i(0),a=i(785);!function(t){function e(t,e){var i=s.default.model.ship_upgrade.getRequiredLevel(t);return 0!=i&&!(e<i)}function i(t){switch(t){case 149:case 277:case 594:case 350:return!0;default:return!1}}function _(t){var e=0==t?0:t/n.RemodelConst.ITEM_NUM;return e+=0==t?0:0<t%n.RemodelConst.ITEM_NUM?1:0,e=Math.floor(e)}function l(t,e){return 0==t.isExtraSlot()&&t.level>=n.RemodelConst.EXTRA_SLOT_LEVEL&&0<e}function u(t){var e=new Array,i=t.powUp;0<i[0]&&e.push(o.PowerUpCategory.Karyoku),0<i[1]&&e.push(o.PowerUpCategory.Raisou),0<i[2]&&e.push(o.PowerUpCategory.Taiku),0<i[3]&&e.push(o.PowerUpCategory.Soukou);for(var n=0;n<4&&e.length<4;n++)e.push(o.PowerUpCategory.EMPTY);return e}function c(t,e){function i(t,e,i,n){return t.getClassType()==e&&(void 0==i[t.yomi]&&(i[t.yomi]=0),++i[t.yomi]>=n)}for(var n=t[0],o=t[1],r=o.hougMax-o.hougMin,s=o.raigMax-o.raigMin,_=o.tykuMax-o.tykuMin,l=o.soukMax-o.soukMin,u=0,c=0,h=0,p=0,d=0,f=0;f<e.length;f++){var y=e[f],m=y.powUp;u+=m[0],c+=m[1],h+=m[2],p+=m[3],d+=m[4]}for(var g=0,v={},b={},w={},x=!1,I=!1,f=0;f<e.length;f++){var T=e[f],O=T.shipTypeID,C=T.getClassType().toString();if(1==O){var P=v[C];P||(v[C]=P=new Array),-1==P.indexOf(T.yomi)&&P.push(T.yomi),g++}0==x&&(x=i(e[f],62,b,2)),0==I&&(I=i(e[f],72,w,2))}var k=o.getClassType(),S=!1;if(n.gradeUpTaikyu<n.VHP&&n.taikyu<o.taikyuMax){var M=!1;for(var A in v){var P=v[A];2<=P.length&&(M=!0)}M?S=!0:x&&[62,72].indexOf(k)>=0?S=!0:I&&[72,62,41,37].indexOf(k)>=0&&(S=!0)}u=Math.floor(1.2*u+.3),c=Math.floor(1.2*c+.3),h=Math.floor(1.2*h+.3),p=Math.floor(1.2*p+.3),d=Math.floor(1.2*d+.3);var E=n.gradeUpHoug+u,j=n.gradeUpRaig+c,N=n.gradeUpTyku+h,L=n.gradeUpSouk+p;r<=E&&(u=r-n.gradeUpHoug),s<=j&&(c=s-n.gradeUpRaig),_<=N&&(h=_-n.gradeUpTyku),l<=L&&(p=l-n.gradeUpSouk);var B=Math.max(o.luckMax-o.luckMin-n.gradeUpLuck,0);d=Math.min(d,B);var R=!1,D=!1;return g>=1&&(R=!0,D=!0,B<=0&&(D=!1),n.gradeUpTaisen>=n.VAS?R=!1:n.taisenMax<=0&&(R=!1)),new a.PowerUpCheckModel(u,c,h,p,d,D,S,R)}function h(){var t=new Array;t=r.ShipUtil.getMemIDsInExpedition(),t=t.concat(s.default.model.ndock.getShipMemIDs()),t.push(s.default.model.deck.get(1).getShipMemID(0));var e=s.default.model.ship.getAll();return r.ShipUtil.filter(e,!0,t)}function p(t,e){var i=new Array,n=s.default.model.shipType.getAllExId(),o=s.default.model.slot.getExtraEquipShipData(t),r=s.default.model.equip.get(t).equip_type,a=new Array;r.forEach(function(t){-1<n.indexOf(t)&&a.push(t)});var _=s.default.model.slot.createUnsetList(a),l=[];-1<r.indexOf(17)&&(l=s.default.model.slot.createUnsetListFromMstId(33));for(var u=[],c=(new Array,0);c<o.length;c++){var h=o[c],p=s.default.model.slot.createUnsetListFromMstId(h);u=u.concat(p)}for(var d=0;d<_.length;d++){var f=_[d],y=-1<i.indexOf(f)==0;y&&i.push(f)}for(var d=0;d<l.length;d++){var f=l[d],y=-1<i.indexOf(f)==0;y&&i.push(f)}for(var d=0;d<u.length;d++){var f=u[d],y=-1<i.indexOf(f)==0;y&&i.push(f)}return i}function d(t,e,i){var n=s.default.model.ship.get(t),o=[],r=n.getSlotitemEx(),a=n.getSlotitems(),_=null==r?-1:r.memID;o.push(_),a.forEach(function(t){t&&o.push(t.memID)});var l=[],u={},c=s.default.model.shipType.getAllExId(),h=s.default.model.slot.getExtraEquipShipData(e),p=s.default.model.equip.get(e).equip_type,d=new Array;p.forEach(function(t){-1<c.indexOf(t)&&d.push(t)});var f=s.default.model.slot.createSetList(d),y=[[],{}];-1<p.indexOf(17)&&(y=s.default.model.slot.createSetListFromMstId(33));for(var m=[[],{}],g=(new Array,0);g<h.length;g++){var v=h[g],b=s.default.model.slot.createSetListFromMstId(v);m[0]=m[0].concat(b[0]);for(var w=0;w<b[0].length;w++){var x=b[0][w].memID;m[1][x]=b[1][x]}}for(var w=0;w<f[0].length;w++){var I=f[0][w],T=-1<l.indexOf(I)==0;T&&(l.push(I),u[I.memID]=f[1][I.memID])}for(var w=0;w<y[0].length;w++){var I=y[0][w],T=-1<l.indexOf(I)==0;T&&(l.push(I),u[I.memID]=y[1][I.memID])}for(var w=0;w<m[0].length;w++){var I=m[0][w],T=-1<l.indexOf(I)==0;T&&(l.push(I),u[I.memID]=m[1][I.memID])}return l=l.filter(function(t){return-1==o.indexOf(t.memID)}),o.forEach(function(t){delete u[t]}),[l,u]}t.canKaizo=e,t.isSpKaizo=i,t.calcPageCount=_,t.testExtensionableExtraslot=l,t.genPowUpCategories=u,t.calcPowerUpParams=c,t.createShipListForPowerUp=h,t.createUnSetListEx=p,t.createSetListEx=d}(e.RemodelUtil||(e.RemodelUtil={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);i(3);!function(t){function e(t,e,i,o,r,s){return!(n.default.model.useItem.get(31).count<t)&&(!(n.default.model.useItem.get(32).count<e)&&(!(n.default.model.useItem.get(33).count<i)&&(!(n.default.model.useItem.get(34).count<o)&&(!(n.default.model.useItem.get(3).count<r)&&!(n.default.model.useItem.get(2).count<s)))))}function i(t,e,i,o,r){return!(n.default.model.useItem.get(31).count<t)&&(!(n.default.model.useItem.get(32).count<e)&&(!(n.default.model.useItem.get(33).count<i)&&(!(n.default.model.useItem.get(34).count<o)&&!(n.default.model.useItem.get(3).count<r))))}function o(t){var e=n.default.model.ship.get(t);if(1==e.isLocked())return!1;if(1==e.isRepair())return!1;if(e.hasLockedSlotitem())return!1;var i=n.default.model.deck.isInDeck(t);if(i){if(1==i[0]&&0==i[1])return!1;if(null!=n.default.model.deck.get(i[0]).expedition)return!1}return!0}function r(t){switch(t){case 0:return 165;case 1:return 166;case 2:return 167;case 3:return 168;case 4:return 169;case 5:return 170;case 6:return 171;case 7:return 172;case 8:return 173;case 9:return 174}throw new Error("unsupported param:"+t)}function s(t){switch(t){case 0:return 125;case 1:return 126;case 2:return 127;case 3:return 128;case 4:return 129;case 5:return 130;case 6:return 131;case 7:return 132;case 8:return 133;case 9:return 134}throw new Error("unsupported param:"+t)}t.BuildValidation=e,t.DevelopValidation=i,t.ShipDisassemblyValidation=o,t.getWhiteNumberResourceId=r,t.getRedNumberResourceId=s}(e.Util||(e.Util={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(PIXI.Container);e.ViewBase=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),r=i(9),s=i(201),a=i(149),_=i(127),l=i(148),u=function(t){function e(e,i,n){var o=t.call(this)||this;return o._url="api_req_member/itemuse",o._result=new h,o._mst_id=e,o._force=i,o._exchange_type=n,o}return n(e,t),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e.prototype._connect=function(){this._post_data.api_useitem_id=this._mst_id,this._post_data.api_force_flag=this._force?1:0,this._exchange_type>0&&(this._post_data.api_exchange_type=this._exchange_type),t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._result.setData(this._raw_data),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.UseItemUseAPI=u;var c=function(){function t(){this._has_material_reward=!1,this._has_slotitem_reward=!1,this._has_coin_reward=!1,this._has_useitem_reward=!1,this._has_furniture_reward=!1,this._rewards=null}return Object.defineProperty(t.prototype,"rewards",{get:function(){return this._rewards},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cautionFlg",{get:function(){return o.ObjUtil.getNumber(this._o,"api_caution_flag")},enumerable:!0,configurable:!0}),t.prototype.hasCaution=function(){return this.cautionFlg>=1},t.prototype.hasMaterialReward=function(){return this._has_material_reward},t.prototype.hasSlotitemReward=function(){return this._has_slotitem_reward},t.prototype.hasCoinReward=function(){return this._has_coin_reward},t.prototype.hasUseitemReward=function(){return this._has_useitem_reward},t.prototype.hasFurnitureReward=function(){return this._has_furniture_reward},t.prototype.getSlotitemObjects=function(){var t=[];if(null!=this._o&&this._o.hasOwnProperty("api_getitem")){var e=o.ObjUtil.getObjectArray(this._o,"api_getitem");if(null!=e)for(var i=0,n=e;i<n.length;i++){var r=n[i],s=o.ObjUtil.getObject(r,"api_slotitem");t.push(s)}}return t},t}();e.UseItemUseResult=c;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.setData=function(t){this._o=t,this._rewards=[],this._initMaterialReward(),this._initRewardItem()},e.prototype._initRewardItem=function(){var t=o.ObjUtil.getObjectArray(this._o,"api_getitem");if(null!=t)for(var e=0,i=t;e<i.length;e++){var n=i[e],r=o.ObjUtil.getNumber(n,"api_usemst"),u=o.ObjUtil.getNumber(n,"api_mst_id"),c=o.ObjUtil.getNumber(n,"api_getcount");if(0!=c)if(2==r){this._has_slotitem_reward=!0;for(var h=0;h<c;h++)this._rewards.push(new a.RewardModelSlotitem(u,1))}else if(5==r)this._has_coin_reward=!0,this._rewards.push((new s.RewardModelMultiUseitem).add(u,c));else if(6==r)if(10==u||11==u||12==u)this._has_useitem_reward=!0,this._rewards.push((new s.RewardModelMultiUseitem).add(u,c));else{this._has_useitem_reward=!0;for(var h=0;h<c;h++)this._rewards.push(new _.RewardModelUseitem(u,1))}else 1==r&&(this._has_furniture_reward=!0,this._rewards.push(new l.RewardModelFurniture(u)))}},e.prototype._initMaterialReward=function(){var t=o.ObjUtil.getNumArray(this._o,"api_material");if(null!=t)for(var e=[31,32,33,34,2,1,3,4],i=null,n=0;n<t.length;n++){var r=t[n];if(!(r<=0)){null==i&&(this._has_material_reward=!0,i=new s.RewardModelMultiUseitem,this.rewards.push(i));var a=e[n];i.add(a,r)}}},e}(c)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(17),s=i(132),a=i(1),_=function(t){function e(e){var i=t.call(this)||this;return i._result=!1,i._onYes=function(){i._result=!0,i._dialog.btn_no.off(a.EventType.CLICK,i._onNo),i._hideDialog()},i._onNo=function(){i._dialog.btn_yes.off(a.EventType.CLICK,i._onYes),i._hideDialog()},i._layer=e,i}return n(e,t),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e.prototype._start=function(){this._showFade()},e.prototype._showFade=function(){var t=this;this._fade=new r.FadeBox(.2),this._fade.hide(0),this._layer.addChild(this._fade),this._fade.show(200,function(){t._showDialog()})},e.prototype._showDialog=function(){var t=this;this._dialog=new l,this._dialog.position.set(219,207),this._dialog.alpha=0,this._fade.addChild(this._dialog),this._dialog.initialize(),createjs.Tween.get(this._dialog).to({alpha:1},250).call(function(){t._waitSelect()})},e.prototype._waitSelect=function(){this._dialog.btn_yes.once(a.EventType.CLICK,this._onYes),this._dialog.btn_no.once(a.EventType.CLICK,this._onNo)},e.prototype._hideDialog=function(){var t=this;createjs.Tween.get(this._fade).to({alpha:0},300).call(function(){t._layer.removeChild(t._fade),t._fade=null,t._dialog=null,t._endTask()})},e}(o.TaskBase);e.TaskItemOverflowConfirm=_;var l=function(t){function e(){var e=t.call(this)||this;return e._btn_yes=new PIXI.Sprite,e._btn_yes.position.set(203,216),e._btn_yes.interactive=!0,e._btn_yes.buttonMode=!0,e.addChild(e._btn_yes),e._btn_no=new PIXI.Sprite,e._btn_no.position.set(419,216),e._btn_no.interactive=!0,e._btn_no.buttonMode=!0,e.addChild(e._btn_no),e}return n(e,t),Object.defineProperty(e.prototype,"btn_yes",{get:function(){return this._btn_yes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_no",{get:function(){return this._btn_no},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.texture=s.ITEM_ILIST.getTexture(34),this._btn_yes.texture=s.ITEM_ILIST.getTexture(9),this._btn_no.texture=s.ITEM_ILIST.getTexture(3)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(22),s=i(2),a=i(23),_=i(27),l=i(16),u=i(1341),c=function(t){function e(e,i){var n=t.call(this)||this;return n._voice_ship=null,n._scene=e,n._record=i,n}return n(e,t),e.prototype._start=function(){this._record.getRation().length>0?this._ration():this._ration_combined()},e.prototype._ration=function(){for(var t=this,e=this._scene.data.model.deck_f.ships,i=this._record.getRation(),n=this._createDic(e,i),o=new _.ParallelTask,r=0,s=e;r<s.length;r++){var a=s[r];if(null!=a&&0!=n.hasOwnProperty(a.mem_id.toString())){var l=n[a.mem_id];if(1==l.length)o.add(new h(this._scene,a,l[0]));else if(2==l.length){var u=this._voice_ship==a;o.add(new p(this._scene,a,l[0],l[1],u))}}}o.start(function(){createjs.Tween.get(null).wait(500).call(function(){t._ration_combined()})})},e.prototype._ration_combined=function(){var t=this,e=this._record.getRationCombined();if(e.length>0){for(var i=this._scene.data.model.deck_f.ships,n=this._createDic(i,e),o=new _.ParallelTask,r=0,s=i;r<s.length;r++){var a=s[r];if(null!=a&&0!=n.hasOwnProperty(a.mem_id.toString())){var l=n[a.mem_id];if(1==l.length)o.add(new h(this._scene,a,l[0]));else if(2==l.length){var u=this._voice_ship==a;o.add(new p(this._scene,a,l[0],l[1],u))}}}o.start(function(){createjs.Tween.get(null).wait(500).call(function(){t._endTask()})})}else this._endTask()},e.prototype._endTask=function(){this._scene=null,this._record=null,this._voice_ship=null,t.prototype._endTask.call(this)},e.prototype._createDic=function(t,e){for(var i={},n=0,o=t;n<o.length;n++){var r=o[n];if(null!=r){var s=r.mem_id;if(e.indexOf(s)>=0){var a=r.useRation();null==this._voice_ship&&a.length>1&&(this._voice_ship=r),i[r.mem_id]=a}}}return i},e}(s.TaskBase);e.PhaseRation=c;var h=function(t){function e(e,i,n){var o=t.call(this)||this;return o._scene=e,o._ship=i,o._ration_mst_id=n,o}return n(e,t),e.prototype._start=function(){var t=this,e=this._scene.view.bannerGroupLayer.getBanner(this._ship),i=e.getGlobalPos(),n=new d;n.initialize(this._ration_mst_id),n.x=i.x+r.BannerSize.W/2+20-75,n.y=i.y,n.alpha=0;var o=this._scene.view.bannerGroupLayer.effect_layer;o.addChild(n),createjs.Tween.get(n).to({x:i.x+r.BannerSize.W/2+20,alpha:1},200,createjs.Ease.sineOut).wait(250).to({scaleX:1.2,scaleY:1.2},150,createjs.Ease.sineOut).to({scaleX:1,scaleY:1},300,createjs.Ease.sineOut).call(function(){new u.TaskBannerParticle(o,i).start()}).wait(1e3).to({scaleX:1.2,scaleY:1.2},150,createjs.Ease.sineOut).to({scaleX:0,scaleY:0},100).call(function(){t._endTask()})},e}(s.TaskBase),p=function(t){function e(e,i,n,o,r){var s=t.call(this)||this;return s._scene=e,s._ship=i,s._ration_mst_id_1=n,s._ration_mst_id_2=o,s._voice=r,s}return n(e,t),e.prototype._start=function(){var t=this,e=this._scene.view.bannerGroupLayer.getBanner(this._ship),i=e.getGlobalPos(),n=new d;n.initialize(this._ration_mst_id_1),n.x=i.x+r.BannerSize.W/2+20-75,n.y=i.y,n.alpha=0;var s=this._scene.view.bannerGroupLayer.effect_layer;s.addChild(n),createjs.Tween.get(n).to({x:i.x+r.BannerSize.W/2+20,alpha:1},200,createjs.Ease.sineOut).wait(250).to({scaleX:1.2,scaleY:1.2},150,createjs.Ease.sineOut).to({scaleX:1,scaleY:1},300,createjs.Ease.sineOut).wait(1e3).to({scaleX:1.2,scaleY:1.2},150,createjs.Ease.sineOut).to({scaleX:0,scaleY:0},100);var a=new d;a.initialize(this._ration_mst_id_2),a.x=i.x+r.BannerSize.W/2+20+75-75,a.y=i.y,a.alpha=0,s.addChild(a),createjs.Tween.get(a).wait(100).to({x:i.x+r.BannerSize.W/2+20+75,alpha:1},200,createjs.Ease.sineOut).wait(250).to({scaleX:1.2,scaleY:1.2},150,createjs.Ease.sineOut).to({scaleX:1,scaleY:1},300,createjs.Ease.sineOut).call(function(){new u.TaskBannerParticle(s,i).start(),1==t._voice&&o.default.sound.voice.play(t._ship.mst_id.toString(),26)}).wait(1e3).to({scaleX:1.2,scaleY:1.2},150,createjs.Ease.sineOut).to({scaleX:0,scaleY:0},100).call(function(){t._endTask()}),this._endTask()},e}(s.TaskBase),d=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite,e._img.y=-22,e.addChild(e._img),e}return n(e,t),e.prototype.initialize=function(t){this._img.texture=this._getTexture(t)},e.prototype._getTexture=function(t){switch(t){case 145:return l.BATTLE_MAIN.getTexture(53);case 150:return l.BATTLE_MAIN.getTexture(57);case 241:return l.BATTLE_MAIN.getTexture(54);default:return PIXI.Texture.EMPTY}},e}(a.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(29),r=i(38),s=i(250),a=i(251),_=i(63),l=i(1350),u=i(183),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._start=function(){this._data=this._record.raw.air_unit_jet,null==this._data?this._endTask():this._preload()},e.prototype._preload=function(){var t=this,e=this._data.getTaikuShipIndex(),i=this._scene.data.model.deck_f.ships[e];if(null!=i){var n=i.mst_id,o=i.isDamaged(),r=this._data.getTaikuSlotMstIDs();this._aaCutin=new a.CutinAntiAircraft(n,o,r),this._aaCutin.preload(function(){t._enterEnemy()})}else this._enterEnemy()},e.prototype._enterEnemy=function(){var t=this,e=new o.SerialTask;e.add(new _.PhaseEnemyEnter(this._scene,this._record)),e.add(new r.WaitTask(600)),e.start(function(){t._showTouchPlane()})},e.prototype._showTouchPlane=function(){var t=this,e=this._data,i=e.getTouchPlaneFriend(),n=e.getTouchPlaneEnemy();new u.TaskShowTouchPlane(this._scene,i,n).start(function(){t._animation(e)})},e.prototype._animation=function(t){var e=this,i=this._scene.data.model.deck_f.ships,n=this._scene.data.model.deck_e.ships;new l.TaskAirUnitJet(this._scene,t,i,n,this._damage_cutin,this._aaCutin).start(function(){e._afterAnimetion()})},e.prototype._afterAnimetion=function(){var t=this._scene.view.raderLayer;t.rader_e.touch_plane.hide(),t.rader_f.touch_plane.hide(),this._endTask()},e}(s.PhaseAirBase);e.PhaseAirUnitJet=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(450),r=i(64),s=i(1362),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._start=function(){this._data=this._record.raw.air_war_jet,0==this._hasPhase()?this._endTask():this._preload()},e.prototype._cutin=function(t,e){var i=this,n=new o.CutinFunnel;n.addCutinFromModel(t,!0),n.addCutinFromModel(e,!0);var r=n.view;n.preload_task.start(function(){i._scene.view.layer_cutin.addChild(r),n.start(function(){i._scene.view.layer_cutin.removeChild(r),i._showTouchPlane()})})},e.prototype._main=function(){var t=this,e=this._scene.data.model.deck_f.ships,i=this._scene.data.model.deck_e.ships;new s.TaskAirWarJet(this._scene,this._data,e,i,this._damage_cutin,this._aaCutin).start(function(){t._endTask()})},e}(r.PhaseAirWar);e.PhaseAirWarJet=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(29),r=i(38),s=i(250),a=i(251),_=i(63),l=i(446),u=i(1363),c=i(183),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._current_idx=0,e}return n(e,t),e.prototype._start=function(){this._data=this._record.raw.air_unit,0==this._hasPhase()?this._endTask():(this._scene.view.layer_title.show(4),this._enterEnemy())},e.prototype._enterEnemy=function(){var t=this,e=new o.SerialTask;e.add(new _.PhaseEnemyEnter(this._scene,this._record)),e.add(new r.WaitTask(600)),e.start(function(){null==t._scene.data.model.gekimetsu_data?t._showTelop():t._beforeAnimation()})},e.prototype._showTelop=function(){var t=this,e=this._scene.view.layer_info2;new u.TaskAirUnitAttackStartTelop(e).start(function(){t._beforeAnimation()})},e.prototype._beforeAnimation=function(){var t=this,e=this._data[this._current_idx],i=e.getTaikuShipIndex(),n=this._scene.data.model.deck_f.ships[i];if(null!=n){var o=n.mst_id,r=n.isDamaged(),s=e.getTaikuSlotMstIDs();this._aaCutin=new a.CutinAntiAircraft(o,r,s),this._aaCutin.preload(function(){t._showTouchPlane(e)})}else this._showTouchPlane(e)},e.prototype._showTouchPlane=function(t){var e=this,i=t.getTouchPlaneFriend(),n=t.getTouchPlaneEnemy();new c.TaskShowTouchPlane(this._scene,i,n).start(function(){e._animation(t)})},e.prototype._animation=function(t){var e=this,i=this._scene.data.model.deck_f.ships,n=this._scene.data.model.deck_e.ships;new l.TaskAirUnit(this._scene,t,i,n,this._damage_cutin,this._aaCutin).start(function(){e._afterAnimetion()})},e.prototype._afterAnimetion=function(){var t=this._scene.view.raderLayer;t.rader_e.touch_plane.hide(),t.rader_f.touch_plane.hide(),this._current_idx++,this._current_idx<this._data.length?this._beforeAnimation():this._endTask()},e.prototype._endTask=function(){var e=this;this._scene.view.layer_title.hide(function(){t.prototype._endTask.call(e)})},e.prototype._hasPhase=function(){return null!=this._data&&this._data.length>0},e}(s.PhaseAirBase);e.PhaseAirUnit=h},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(64),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._start=function(){this._data=this._record.raw.air_war2,0==this._hasPhase()?this._endTask():(this._scene.view.layer_title.show(4),this._preload())},e}(o.PhaseAirWar);e.PhaseAirWar2=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(63),r=i(77),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._start=function(){var t=this;if(this._data=this._record.raw.raigeki_opening,null==this._data)this._endTask();else{new o.PhaseEnemyEnter(this._scene,this._record).start(function(){t._ready()})}},e}(r.PhaseRaigeki);e.PhaseRaigekiOpening=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(63),a=i(252),_=i(253),l=i(254),u=i(255),c=i(457),h=i(257),p=i(259),d=function(t){function e(e,i,n){var o=t.call(this)||this;return o._current_index=0,o._scene=e,o._record=i,o._data=n,o}return n(e,t),e.prototype._start=function(){var t=this;if(null==this._data||null==this._data.list||0==this._data.list.length)this._endTask();else{new s.PhaseEnemyEnter(this._scene,this._record).start(function(){t._hougekiCycle()})}},e.prototype._hougekiCycle=function(){if(this._current_index<this._data.list.length){var t=this._data.list[this._current_index];this._current_index++,this._hougeki(t)}else this._endTask()},e.prototype._hougeki=function(t){var e=t.type;0==e?this._normal(t):2==e?this._double(t):this._special(t)},e.prototype._normal=function(t){var e=this,i=this._scene,n=this._getAShip(t.a_index,t.flag),o=this._getDShip(t.d_indexes[0],t.flag);if(null!=n&&null!=o){var r=t.getSlotitem(0),s=t.getDamage(0),c=t.getHitType(0),h=t.isShield(0),d=this._getNormalAttackType(n,o,r),f=this._getDaihatsuEffectType(n,o);if(1==this._hasRocketEffect(n,o,d)){var y=new p.PhaseAttackRocket(i,n,o,s,c,h);y.setOptionalEffects(f),y.start(function(){e._hougekiCycle()})}else if(0==d){var y=new a.PhaseAttackNormal(i,n,o,r,s,c,h);y.setOptionalEffects(f),y.start(function(){e._hougekiCycle()})}else if(1==d){var y=new _.PhaseAttackKansaiki(i,n,o,r,s,c,h);y.setOptionalEffects(f),y.start(function(){e._hougekiCycle()})}else if(2==d){var y=new l.PhaseAttackBakurai(i,n,o,r,s,c,h);y.setOptionalEffects(f),y.start(function(){e._hougekiCycle()})}else{if(3!=d)throw new Error;var y=new u.PhaseAttackRaigeki(i,n,o,r,s,c,h);y.setOptionalEffects(f),y.start(function(){e._hougekiCycle()})}}},e.prototype._double=function(t){var e=this,i=this._getAShip(t.a_index,t.flag),n=this._getDShip(t.d_indexes[0],t.flag),o=t.getSlotitem(0),r=t.getDamage(0),s=t.getHitType(0),a=t.isShield(0),_=this._getDShip(t.d_indexes[1],t.flag),l=t.getSlotitem(1),u=t.getDamage(1),c=t.getHitType(1),p=t.isShield(1);new h.PhaseAttackDouble(this._scene,i,n,o,r,s,a,_,l,u,c,p).start(function(){e._hougekiCycle()})},e.prototype._special=function(t){var e=this,i=this._getAShip(t.a_index,t.flag),n=this._getDShip(t.d_indexes[0],t.flag);if(null!=i&&null!=n){var o=t.getSlotitem(0),r=t.getSlotitem(1),s=t.getSlotitem(2),a=t.getDamage(0),_=t.getHitType(0),l=t.isShield(0);new c.PhaseAttackDanchaku(this._scene,t.type,i,n,o,r,s,a,_,l).start(function(){e._hougekiCycle()})}},e.prototype._getAShip=function(t,e){return 0==e?this._scene.data.model.deck_f.ships[t]:this._scene.data.model.deck_e.ships[t]},e.prototype._getDShip=function(t,e){return 0==e?this._scene.data.model.deck_e.ships[t]:this._scene.data.model.deck_f.ships[t]},e.prototype._getNormalAttackType=function(t,e,i){for(var n=0,r=0,s=t.slots,a=0,_=s;a<_.length;a++){var l=_[a];if(null!=l){var u=l.equipType;8==u||58==u?(n++,l.taisen>0&&r++):11!=u&&25!=u||r++}}var c=t.stype;if(352==t.mst_id){if(1==e.isSubMarine())return r>0?1:2;if(n>0)return 1}if(7==c||11==c||18==c)return 1;if(e.isSubMarine())return 6==c||10==c||16==c||17==c?1:2;var h=o.default.model.slot.getMst(i);return null==h||5!=h.equipTypeSp&&32!=h.equipTypeSp?0:3},e.prototype._hasRocketEffect=function(t,e,i){if(0==e.isGround())return!1;if(1==i)return!1;for(var n=t.slots,o=0,r=n;o<r.length;o++){var s=r[o];if(null!=s){var a=s.mst_id;if(126==a||346==a||347==a||348==a||349==a)return!0}}return!1},e.prototype._getDaihatsuEffectType=function(t,e){var i=["\u96e2\u5cf6\u68f2\u59eb","\u7832\u53f0\u5c0f\u9b3c","\u96c6\u7a4d\u5730\u68f2\u59eb","\u96c6\u7a4d\u5730\u68f2\u59eb-\u58ca","\u6cca\u5730\u6c34\u9b3c \u30d0\u30ab\u30f3\u30b9mode","\u96c6\u7a4d\u5730\u68f2\u59eb \u30d0\u30ab\u30f3\u30b9mode","\u96c6\u7a4d\u5730\u68f2\u59eb \u30d0\u30ab\u30f3\u30b9mode-\u58ca","\u98db\u884c\u5834\u59eb"];if(t.hasSlot(355)&&i.indexOf(e.name)>=0)return 6;if(t.hasSlot(193)&&i.indexOf(e.name)>=0)return 2;if(t.hasSlot(166)&&i.indexOf(e.name)>=0)return 3;if(t.hasSlot(167))if(t.isSubMarine()){if(e.isGround())return 4}else if(i.indexOf(e.name)>=0)return 4;return 0},e.prototype._log=function(t,e,i,n,o){},e.prototype._getIndex=function(t){var e=this._scene.data.model.deck_f.ships.indexOf(t);return e>=0?e:this._scene.data.model.deck_e.ships.indexOf(t)},e}(r.TaskBase);e.PhaseHougekiOpening=d},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(25),s=i(2),a=i(12),_=i(14),l=i(6),u=i(1373),c=i(63),h=function(t){function e(e,i){var n=t.call(this)||this;return n._scene=e,n._record=i,n._layer=new p,n}return n(e,t),e.prototype._start=function(){var t=this;if(null!=this._scene.data.model.gekimetsu_data)this._endTask();else if(this._scene.data.model.map_info.isAirRaid())this._endTask();else if(this._scene.data.model.map_info.isLongRangeFires())this._endTask();else{var e=new c.PhaseEnemyEnter(this._scene,this._record);e.start(function(){var e=t._record.common.formation_id_f,i=t._record.common.formation_id_e,n=t._record.common.formation_id_c;t._layer.preInitialize(e,i,function(){t._layer.initialize(n),t._scene.view.layer_info.addChild(t._layer),t._anim1()})})}},e.prototype._anim1=function(){var t=this,e=this._scene.view.raderLayer,i=e.rader_f,n=e.rader_e;this._scene.view.layer_cutin.addChild(i),this._scene.view.layer_cutin.addChild(n),createjs.Tween.get(this._layer.barTop.scale).to({y:1},300),createjs.Tween.get(this._layer.barBottom.scale).to({y:1},300).call(function(){t._anim2()})},e.prototype._anim2=function(){var t=this,e=o.default.width/2-399+this._layer.formation_name_f.width/2;createjs.Tween.get(this._layer.formation_name_f).to({x:e},400,createjs.Ease.sineOut),e=o.default.width/2+399-this._layer.formation_name_e.width/2,createjs.Tween.get(this._layer.formation_name_e).to({x:e},400,createjs.Ease.sineOut).call(function(){t._anim3()})},e.prototype._anim3=function(){var t=this;this._layer.cross.play(),this._layer.cross.once("complete",function(){t._anim4()})},e.prototype._anim4=function(){var t=this;createjs.Tween.get(this._layer.advantageous).to({scaleX:1,scaleY:1,alpha:1},250).wait(250).call(function(){t._anim5()})},e.prototype._anim5=function(){var t=this;createjs.Tween.get(this._layer.barTop.scale).wait(200).to({y:0},200),createjs.Tween.get(this._layer.barBottom.scale).wait(200).to({y:0},200);var e=0-this._layer.formation_name_f.width/2;createjs.Tween.get(this._layer.formation_name_f).to({x:e},400,createjs.Ease.sineIn),e=o.default.width+this._layer.formation_name_e.width/2,createjs.Tween.get(this._layer.formation_name_e).to({x:e},400,createjs.Ease.sineIn),createjs.Tween.get(this._layer.cross).to({x:-o.default.width/2},400),createjs.Tween.get(this._layer.advantageous).to({x:-o.default.width/2},400).call(function(){t._preEnd()})},e.prototype._preEnd=function(){this._scene.view.layer_info.removeChild(this._layer),this._layer.dispose(),this._scene.view.raderLayer.resetChildren(),this._endTask()},e}(s.TaskBase);e.PhaseFormation=h;var p=function(t){function e(){return t.call(this)||this}return n(e,t),Object.defineProperty(e.prototype,"barTop",{get:function(){return this._barTop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"barBottom",{get:function(){return this._barBottom},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formation_name_f",{get:function(){return this._formation_name_f},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formation_name_e",{get:function(){return this._formation_name_e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cross",{get:function(){return this._cross},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"advantageous",{get:function(){return this._advantageous},enumerable:!0,configurable:!0}),e.prototype.preInitialize=function(t,e,i){var n=this;this._initializeBars(),this._formation_name_f=new PIXI.Sprite,this._formation_name_f.anchor.set(.5),this.addChild(this._formation_name_f),this._formation_name_e=new PIXI.Sprite,this._formation_name_e.anchor.set(.5),this.addChild(this._formation_name_e);var s=new _.UIImageLoader("battle"),a="battle_jin/"+r.MathUtil.zeroPadding(t,3)+"_f.png";s.add(a,"battle_jin_f");var l="battle_jin/"+r.MathUtil.zeroPadding(e,3)+"_e.png";s.add(l,"battle_jin_e"),s.load(function(){n._formation_name_f.texture=PIXI.Texture.fromFrame("battle_jin_f"),n._formation_name_f.x=o.default.width+n._formation_name_f.width/2,n._formation_name_f.y=o.default.height/2+243,n._formation_name_e.texture=PIXI.Texture.fromFrame("battle_jin_e"),n._formation_name_e.x=0-n._formation_name_e.width/2,n._formation_name_e.y=o.default.height/2-243,i()})},e.prototype.initialize=function(t){if(this._cross=new d,this._cross.position.set(o.default.width/2,o.default.height/2),this.addChild(this._cross),this._cross.initialize(t),3==t){this._cross.y-=38;var e=u.BATTLE_JIN.getTexture(6);this._advantageous=new a.Sprite(e)}else if(4==t){this._cross.y-=38;var e=u.BATTLE_JIN.getTexture(5);this._advantageous=new a.Sprite(e)}else this._advantageous=new a.Sprite(PIXI.Texture.EMPTY);this._advantageous.anchor.set(.5),this._advantageous.position.set(o.default.width/2,458),this._advantageous.scale.set(2),this._advantageous.alpha=0,this.addChild(this._advantageous)},e.prototype.dispose=function(){this.removeChildren()},e.prototype._createBar=function(){var t=new PIXI.Graphics;return t.beginFill(0,.8),t.drawRect(-o.default.width/2,-83,o.default.width,165),t.endFill(),t},e.prototype._initializeBars=function(){this._barTop=this._createBar(),this._barBottom=this._createBar(),this._barTop.position.set(o.default.width/2,o.default.height/2-243),this._barBottom.position.set(o.default.width/2,o.default.height/2+243),this._barTop.scale.y=0,this._barBottom.scale.y=0,this.addChild(this._barTop),this.addChild(this._barBottom)},e}(PIXI.Container),d=function(t){function e(){var e=t.call(this)||this;return e._playSE=function(){l.SE.play("109")},e._c1=new a.Sprite,e._c2=new a.Sprite,e._c3=new a.Sprite,e._c1.anchor.set(.5),e._c2.anchor.set(.5),e._c3.anchor.set(.5),e}return n(e,t),e.prototype.initialize=function(t){this._c1.position.x=-278,this._c3.position.x=278,this._c1.scale.set(2),this._c2.scale.set(2),this._c3.scale.set(2),1==t?(this._c1.texture=u.BATTLE_JIN.getTexture(0),this._c2.texture=u.BATTLE_JIN.getTexture(2),this._c3.texture=u.BATTLE_JIN.getTexture(3)):2==t?(this._c1.texture=u.BATTLE_JIN.getTexture(1),this._c2.texture=u.BATTLE_JIN.getTexture(2),this._c3.texture=u.BATTLE_JIN.getTexture(3)):(this._c1.texture=u.BATTLE_JIN.getTexture(4),this._c2.texture=u.BATTLE_JIN.getTexture(7),this._c3.texture=u.BATTLE_JIN.getTexture(3))},e.prototype.play=function(){var t=this;createjs.Tween.get(this._c1).call(function(){t.addChild(t._c1)}).to({scaleX:1,scaleY:1},300).call(this._playSE),createjs.Tween.get(this._c2).wait(200).call(function(){t.addChild(t._c2)}).to({scaleX:1,scaleY:1},300).call(this._playSE),createjs.Tween.get(this._c3).wait(400).call(function(){t.addChild(t._c3)}).to({scaleX:1,scaleY:1},300).call(function(){t._playSE(),t.emit("complete")})},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(63),a=i(252),_=i(253),l=i(254),u=i(255),c=i(257),h=i(457),p=i(459),d=i(259),f=i(461),y=i(462),m=i(463),g=i(464),v=i(1387),b=i(14),w=function(t){function e(e,i,n){var o=t.call(this)||this;return o._current_index=0,o._scene=e,o._record=i,o._data=n,o}return n(e,t),e.prototype._start=function(){var t=this;if(null==this._data||null==this._data.list||0==this._data.list.length)this._endTask();else{new s.PhaseEnemyEnter(this._scene,this._record).start(function(){t._scene.view.layer_title.show(5),t._hougekiCycle()})}},e.prototype._hougekiCycle=function(){if(this._current_index<this._data.list.length){var t=this._data.list[this._current_index];this._current_index++,this._hougeki(t)}else this._endTask()},e.prototype._hougeki=function(t){var e=t.type;0==e?this._normal(t):2==e?this._double(t):7==e?this._kuboCI(t):100==e?this._nelson_touch(t):101==e?this._nagato_cutin(t):102==e?this._mutsu_cutin(t):103==e?this._colorado_cutin(t):200==e?this._zuiunCutin(t):this._special(t)},e.prototype._normal=function(t){var e=this,i=this._scene,n=this._getAShip(t.a_index,t.flag),o=this._getDShip(t.d_indexes[0],t.flag);if(null!=n&&null!=o){var r=t.getSlotitem(0),s=t.getDamage(0),c=t.getHitType(0),h=t.isShield(0),p=this._getNormalAttackType(n,o,r),f=this._getDaihatsuEffectType(n,o);if(1==this._hasRocketEffect(n,o,p)){var y=new d.PhaseAttackRocket(i,n,o,s,c,h);y.setOptionalEffects(f),y.start(function(){e._hougekiCycle()})}else if(i.data.model.map_info.isLongRangeFires()){var y=new a.PhaseAttackNormal(i,n,o,r,s,c,h);y.setOptionalEffects(f),y.start(function(){e._hougekiCycle()})}else if(0==p){var y=new a.PhaseAttackNormal(i,n,o,r,s,c,h);y.setOptionalEffects(f),y.start(function(){e._hougekiCycle()})}else if(1==p){var y=new _.PhaseAttackKansaiki(i,n,o,r,s,c,h);y.setOptionalEffects(f),y.start(function(){e._hougekiCycle()})}else if(2==p){var y=new l.PhaseAttackBakurai(i,n,o,r,s,c,h);y.setOptionalEffects(f),y.start(function(){e._hougekiCycle()})}else{if(3!=p)throw new Error;var y=new u.PhaseAttackRaigeki(i,n,o,r,s,c,h);y.setOptionalEffects(f),y.start(function(){e._hougekiCycle()})}}},e.prototype._double=function(t){var e=this,i=this._getAShip(t.a_index,t.flag),n=this._getDShip(t.d_indexes[0],t.flag),o=t.getSlotitem(0),r=t.getDamage(0),s=t.getHitType(0),a=t.isShield(0),_=this._getDShip(t.d_indexes[1],t.flag),l=t.getSlotitem(1),u=t.getDamage(1),h=t.getHitType(1),p=t.isShield(1);new c.PhaseAttackDouble(this._scene,i,n,o,r,s,a,_,l,u,h,p).start(function(){e._hougekiCycle()})},e.prototype._kuboCI=function(t){var e=this,i=this._scene,n=this._getAShip(t.a_index,t.flag),o=this._getDShip(t.d_indexes[0],t.flag),r=t.getSlotitem(0),s=t.getSlotitem(1),a=t.getSlotitem(2),_=t.getDamage(0),l=t.getHitType(0),u=t.isShield(0),c=this._getDaihatsuEffectType(n,o),h=new p.PhaseAttackKuboCutin(i,n,o,r,s,a,_,l,u);h.setOptionalEffects(c),h.start(function(){e._hougekiCycle()})},e.prototype._nelson_touch=function(t){for(var e=this,i=[],n=0;n<3;n++){var o=this._getDShip(t.d_indexes[n],t.flag);o&&i.push(o)}var r=[t.getDamage(0),t.getDamage(1),t.getDamage(2)],s=[t.getHitType(0),t.getHitType(1),t.getHitType(2)],a=[t.isShield(0),t.isShield(1),t.isShield(2)];new f.PhaseNelsonTouch(this._scene,i,r,s,a).start(function(){e._hougekiCycle()})},e.prototype._nagato_cutin=function(t){for(var e=this,i=[],n=0;n<3;n++){var o=this._getDShip(t.d_indexes[n],t.flag);o&&i.push(o)}var r=[t.getDamage(0),t.getDamage(1),t.getDamage(2)],s=[t.getHitType(0),t.getHitType(1),t.getHitType(2)],a=[t.isShield(0),t.isShield(1),t.isShield(2)];new y.PhaseNagatoAttack(this._scene,i,r,s,a).start(function(){e._hougekiCycle()})},e.prototype._mutsu_cutin=function(t){for(var e=this,i=[],n=0;n<3;n++){var o=this._getDShip(t.d_indexes[n],t.flag);o&&i.push(o)}var r=[t.getDamage(0),t.getDamage(1),t.getDamage(2)],s=[t.getHitType(0),t.getHitType(1),t.getHitType(2)],a=[t.isShield(0),t.isShield(1),t.isShield(2)];new m.PhaseMutsuAttack(this._scene,i,r,s,a).start(function(){e._hougekiCycle()})},e.prototype._colorado_cutin=function(t){for(var e=this,i=[],n=0;n<3;n++){var o=this._getDShip(t.d_indexes[n],t.flag);o&&i.push(o)}var r=[t.getDamage(0),t.getDamage(1),t.getDamage(2)],s=[t.getHitType(0),t.getHitType(1),t.getHitType(2)],a=[t.isShield(0),t.isShield(1),t.isShield(2)];new g.PhaseColoradoAttack(this._scene,i,r,s,a).start(function(){e._hougekiCycle()})},e.prototype._special=function(t){var e=this,i=this._getAShip(t.a_index,t.flag),n=this._getDShip(t.d_indexes[0],t.flag);if(null!=i&&null!=n){var o=t.getSlotitem(0),r=t.getSlotitem(1),s=t.getSlotitem(2),a=t.getDamage(0),_=t.getHitType(0),l=t.isShield(0);new h.PhaseAttackDanchaku(this._scene,t.type,i,n,o,r,s,a,_,l).start(function(){e._hougekiCycle()})}},e.prototype._zuiunCutin=function(t){var e=this,i=new b.UIImageLoader("battle");i.add("battle_zrk.json"),i.load(function(){var i=e._getAShip(t.a_index,t.flag),n=e._getDShip(t.d_indexes[0],t.flag),o=t.getSlotitem(0),r=t.getSlotitem(2),s=t.getDamage(0),a=t.getHitType(0),_=t.isShield(0);new v.PhaseZRK(e._scene,i,n,o,r,s,a,_).start(function(){e._hougekiCycle()})})},e.prototype._getAShip=function(t,e){return 0==e?this._scene.data.model.deck_f.ships[t]:this._scene.data.model.deck_e.ships[t]},e.prototype._getDShip=function(t,e){return 0==e?this._scene.data.model.deck_e.ships[t]:this._scene.data.model.deck_f.ships[t]},e.prototype._getNormalAttackType=function(t,e,i){for(var n=0,r=0,s=t.slots,a=0,_=s;a<_.length;a++){var l=_[a];if(null!=l){var u=l.equipType;8==u||58==u?(n++,l.taisen>0&&r++):11!=u&&25!=u||r++}}var c=t.stype;if(352==t.mst_id){if(1==e.isSubMarine())return r>0?1:2;if(n>0)return 1}if(7==c||11==c||18==c)return 1;if(e.isSubMarine())return 6==c||10==c||16==c||17==c?1:2;var h=o.default.model.slot.getMst(i);return null==h||5!=h.equipTypeSp&&32!=h.equipTypeSp?0:3},e.prototype._hasRocketEffect=function(t,e,i){if(0==e.isGround())return!1;if(1==i)return!1;for(var n=t.slots,o=0,r=n;o<r.length;o++){var s=r[o];if(null!=s){var a=s.mst_id;if(126==a||346==a||347==a||348==a||349==a)return!0}}return!1},e.prototype._getDaihatsuEffectType=function(t,e){var i=["\u96e2\u5cf6\u68f2\u59eb","\u7832\u53f0\u5c0f\u9b3c","\u96c6\u7a4d\u5730\u68f2\u59eb","\u96c6\u7a4d\u5730\u68f2\u59eb-\u58ca","\u6cca\u5730\u6c34\u9b3c \u30d0\u30ab\u30f3\u30b9mode","\u96c6\u7a4d\u5730\u68f2\u59eb \u30d0\u30ab\u30f3\u30b9mode","\u96c6\u7a4d\u5730\u68f2\u59eb \u30d0\u30ab\u30f3\u30b9mode-\u58ca","\u98db\u884c\u5834\u59eb"];if(1==t.hasSlot(355)&&1==e.isGround())return 6;if(1==t.hasSlot(230))return 1==e.isGround()?5:0;if(1==t.hasSlot(355)&&i.indexOf(e.name)>=0)return 6;if(1==t.hasSlot(167)){if(1==t.isSubMarine()){if(1==e.isGround())return 4}else if(i.indexOf(e.name)>=0)return 4;return 0}return 1==t.hasSlot(166)&&i.indexOf(e.name)>=0?3:1==t.hasSlot(193)&&i.indexOf(e.name)>=0?3:1==t.hasSlot(68)&&i.indexOf(e.name)>=0?3:0},e.prototype._log=function(t,e,i,n,o){},e.prototype._getIndex=function(t){var e=this._scene.data.model.deck_f.ships.indexOf(t);return e>=0?e:this._scene.data.model.deck_e.ships.indexOf(t)},e}(r.TaskBase);e.PhaseHougeki=w},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(178),a=function(t){function e(e,i){var n=t.call(this)||this;return n._scene=e,n._record=i,n}return n(e,t),Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"record",{get:function(){return this._record},enumerable:!0,configurable:!0}),e.prototype._start=function(){this._waitGaugeExplodeAnimation()},e.prototype._waitGaugeExplodeAnimation=function(){var t=this;1==this._scene.view.layer_gauge.isAnimation()?createjs.Tween.get(null).wait(500).call(function(){t._waitGaugeExplodeAnimation()}):this._fadeOutBGM()},e.prototype._fadeOutBGM=function(){var t=this,e=this._scene.data.model.map_info.area_id,i=this._scene.data.model.map_info.map_no,n=this._scene.data.model.map_info.isBoss();if(1==o.default.model.mst_bgm.isSameBGM(e,i,n)&&1==this._record.raw.isNightBattle())return void this._playBossLastGasp();1==o.default.sound.bgm.playing?(o.default.sound.bgm.fadeOut(2e3),createjs.Tween.get(this).wait(2e3).call(function(){t._playBossLastGasp()})):this._playBossLastGasp()},e.prototype._playBossLastGasp=function(){if(o.default.option.vol_voice<=0)return void this._wait();var t=this._scene.data.model.deck_e.ships[0];if(0==(0==t.damageType&&t.hp_init>0))return void this._wait();var e=this._scene.view.layer_gauge.isExploded(),i=s.EnemyVoiceConst.getLastGaspVoiceID(this._scene,t);return e&&i>0?void this._playBossVoice(i):(i=s.EnemyVoiceConst.getSourGrapesVoiceID(this._scene,t))>0?void this._playBossVoice(i):void this._wait()},e.prototype._playBossVoice=function(t){var e=this;o.default.sound.voice.play("9998",t,function(){e._wait()})},e.prototype._wait=function(){var t=this;createjs.Tween.get(this).wait(1e3).call(function(){t._endTask()})},e}(r.TaskBase);e.PhaseEnding=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(29),a=i(38),_=i(13),l=i(54),u=i(63),c=i(465),h=i(466),p=i(467),d=i(469),f=i(470),y=function(t){function e(e,i){var n=t.call(this)||this;return n._scene=e,n._record=i,n._damage_cutin=new l.PhaseDamageCutin(n._scene),n}return n(e,t),e.prototype._start=function(){var t=this._record.raw.support_air;if(null!=t)return void this._supportAir(t);var e=this._record.raw.support_hou;if(null!=e)return void this._supportHou(e);var i=this._record.raw.support_rai;if(null!=i)return void this._supportRai(i);var n=this._record.raw.support_taisen;if(null!=n)return void this._supportTaisen(n);this._endTask()},e.prototype._supportAir=function(t){var e=this;new u.PhaseEnemyEnter(this._scene,this._record).start(function(){e._scene.view.layer_title.show(1);for(var i=e._scene.view.layer_cutin,n=t.getShipList(),r=[],_=0,l=n;_<l.length;_++){var u=l[_];if(null!=u){var c=o.default.model.ship.get(u.mem_id);null!=c?r.push({mst_id:c.mstID,damaged:u.damaged}):r.push(null)}else r.push(null)}var h=new s.SerialTask,d=new f.TaskSupportDeckCutin(i,r);h.add(d);var y=r[0].mst_id,g=r[0].damaged;h.add(new m(i,y,g));var v=e._scene.data.model.deck_f.ships,b=e._scene.data.model.deck_e.ships;h.add(new p.TaskSupportAir(e._scene,t,v,b,e._damage_cutin,null)),h.start(function(){e._scene.view.layer_title.hide(function(){new a.WaitTask(800).start(function(){e._endTask()})})})})},e.prototype._supportHou=function(t){var e=this;new u.PhaseEnemyEnter(this._scene,this._record).start(function(){e._scene.view.layer_title.show(2);for(var i=e._scene.view.layer_cutin,n=t.getShipList(),r=[],_=0,l=n;_<l.length;_++){var u=l[_];if(null!=u){var h=o.default.model.ship.get(u.mem_id);null!=h?r.push({mst_id:h.mstID,damaged:u.damaged}):r.push(null)}else r.push(null)}var p=new s.SerialTask,d=new f.TaskSupportDeckCutin(i,r);p.add(d);var y=r[0].mst_id,g=r[0].damaged;p.add(new m(i,y,g)),p.add(new c.PhaseSupportHou(e._scene,t,e._scene.data.model.deck_e.ships)),p.start(function(){e._scene.view.layer_title.hide(function(){new a.WaitTask(800).start(function(){e._endTask()})})})})},e.prototype._supportRai=function(t){var e=this;new u.PhaseEnemyEnter(this._scene,this._record).start(function(){e._scene.view.layer_title.show(3);for(var i=e._scene.view.layer_cutin,n=t.getShipList(),r=[],_=0,l=n;_<l.length;_++){var u=l[_];if(null!=u){var c=o.default.model.ship.get(u.mem_id);null!=c?r.push({mst_id:c.mstID,damaged:u.damaged}):r.push(null)}else r.push(null)}var p=new s.SerialTask,d=new f.TaskSupportDeckCutin(i,r);p.add(d);var y=r[0].mst_id,g=r[0].damaged;p.add(new m(i,y,g)),p.add(new h.PhaseSupportRai(e._scene,t,e._scene.data.model.deck_e.ships)),p.start(function(){e._scene.view.layer_title.hide(function(){new a.WaitTask(800).start(function(){e._endTask()})})})})},e.prototype._supportTaisen=function(t){var e=this;new u.PhaseEnemyEnter(this._scene,this._record).start(function(){for(var i=e._scene.view.layer_cutin,n=t.getShipList(),r=[],_=0,l=n;_<l.length;_++){var u=l[_];if(null!=u){var c=o.default.model.ship.get(u.mem_id);null!=c?r.push({mst_id:c.mstID,damaged:u.damaged}):r.push(null)}else r.push(null)}var h=new s.SerialTask,p=new f.TaskSupportDeckCutin(i,r);h.add(p);var y=r[0].mst_id,g=r[0].damaged;h.add(new m(i,y,g));var v=e._scene.data.model.deck_f.ships,b=e._scene.data.model.deck_e.ships;h.add(new d.TaskSupportTaisen(e._scene,t,v,b,e._damage_cutin,null)),h.start(function(){new a.WaitTask(800).start(function(){e._endTask()})})})},e.prototype._endTask=function(){var e=this;this._damage_cutin.start(function(){e._scene=null,e._record=null,e._damage_cutin=null,t.prototype._endTask.call(e)})},e}(r.TaskBase);e.PhaseSupport=y;var m=function(t){function e(e,i,n){var o=t.call(this)||this;return o._layer=e,o._mst_id=i,o._damaged=n,o}return n(e,t),e.prototype._start=function(){var t=this,e=new _.ShipLoader;e.add(this._mst_id,this._damaged,"full"),e.load(function(){t._show()})},e.prototype._show=function(){var t=this,e=o.default.model.ship_graph.get(this._mst_id).getBattleOffset(this._damaged),i=-740+e.x,n=o.default.resources.getShip(this._mst_id,this._damaged,"full");this._s=new PIXI.Sprite(n),this._s.x=i,this._s.y=-105+e.y,this._s.alpha=0,this._layer.addChild(this._s),createjs.Tween.get(this._s).to({x:i+665,alpha:1},500).to({x:i+740},300).call(function(){o.default.sound.voice.playAtRandom(t._mst_id.toString(),[16,17,18],[33,33,34])}).wait(300).to({x:i+1070,alpha:0},500).call(function(){t._layer.removeChild(t._s),t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._s=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskFlagShip=m},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(266);!function(t){function e(t){var e=0;if(null!=t&&""!=t)for(var i=0;i<t.length;i++)e+=t.charCodeAt(i);return e}function i(e,i){var o=e.toString().match(/\d+/);if(null==o||0==o.length)return"";var r=parseInt(o[0]),s=t.createKey(i),a=null==i||0==i.length?1:i.length;return(17*(r+7)*n.resource[(s+r*a)%100]%8973+1e3).toString()}t.createKey=e,t.create=i}(e.SuffixUtil||(e.SuffixUtil={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this)||this;return i._url="api_get_member/useitem",i._debug=e,i}return n(e,t),e.prototype._completedEnd=function(){o.default.model.useItem.setMemData(this._raw_data),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.UseItemAPI=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("port_ringmenu_"+t)}t.getTexture=e}(e.PORT_RINGMENU||(e.PORT_RINGMENU={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMAGE_FILE={BG:"bg",CRUMB:"crumb_bg",TITLE_BG:"title_bg",MSG_BOX:"message_box"},e.CHARA={FUBUKI:"009",MURAKUMO:"033",SAZANAMI:"094",INADUMA:"037",SAMIDARE:"046"},e.CHARA_PREFIX="chara",e.CHARA_SUFFIX={FULL:"full",BG:"bg",TXT:"txt"}},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.initialize=function(){return null},e.prototype.start=function(){return null},e.prototype.dispose=function(){return null},e}(PIXI.Container);e.SceneBase=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("item_fshop_"+t)}t.getTexture=e}(e.ITEM_FSHOP||(e.ITEM_FSHOP={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=i(1),s=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this)||this;i._toRelease=e,i._tween=null,i._onMouseOver=function(t){i._balloon.visible=t.type===r.EventType.MOUSEOVER},i._onClick=function(){i.onClick()},i._frame=new PIXI.Sprite(o.COMMON_MISC.getTexture(155)),i._frame.alpha=0;var n=Math.round(i._frame.width/2),s=new PIXI.Sprite(o.COMMON_MISC.getTexture(157));return s.anchor.set(.5,.5),s.position.set(n+1,Math.round(i._frame.height/2)+2),i._text=new PIXI.Sprite(o.COMMON_MISC.getTexture(154)),i._text.anchor.set(.5,0),i._text.position.set(n,-10),i.addChild(i._frame,s,i._text),i._toRelease&&(i._balloon=new PIXI.Sprite(o.COMMON_MISC.getTexture(156)),i._balloon.position.set(29,-29),i._balloon.visible=!1,i.addChild(i._balloon),i._text.on(r.EventType.MOUSEOVER,i._onMouseOver).on(r.EventType.MOUSEOUT,i._onMouseOver).on(r.EventType.CLICK,i._onClick),i._text.interactive=i._text.buttonMode=!0),i}return n(e,t),e.prototype.adjustFramePosition=function(t,e){this._frame.x+=t,this._frame.y+=e},e.prototype.activate=function(){null===this._tween&&(this._tween=createjs.Tween.get(this._frame,{loop:!0}).to({alpha:1},800).to({alpha:0},800).wait(200).play(null))},e.prototype.deactivate=function(){null!==this._tween&&(this._tween.setPaused(!0),createjs.Tween.removeTweens(this._frame),this._tween=null),this._frame.alpha=0},e.prototype.dispose=function(){this.deactivate(),this._toRelease&&(this._text.interactive=!1,this._text.off(r.EventType.MOUSEOVER,this._onMouseOver).off(r.EventType.MOUSEOUT,this._onMouseOver).off(r.EventType.CLICK,this._onClick)),this.onClick=null,this.removeChildren()},e}(PIXI.Container);e.CombinedView=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(28),s=function(t){function e(){var e=t.call(this)||this,i=o.default.resources.getUIImage("hpgauge/hp_gauge_mask.png","common"),n=new PIXI.Sprite(i);i=o.default.resources.getUIImage("hpgauge/hp_s_bg2.png","common");var r=new PIXI.Sprite(i),s=new PIXI.Sprite,a=new PIXI.Graphics,_=new PIXI.Graphics;i=o.default.resources.getUIImage("hpgauge/hp_gauge_mask.png","common");var l=new PIXI.Sprite(i);s.position.set(-34,-27),s.texture=o.default.resources.getUIImage("hpgauge/hp_s_red_light.png","common"),s.visible=!1,a.beginFill(16777215),a.drawRect(0,0,98,11),a.endFill();var u=new PIXI.Container;u.mask=n,u.addChild(a,n),u.cacheAsBitmap=!0;var c=new PIXI.Container;return c.mask=l,c.addChild(_,l),e.addChild(u,s,c,r),e.spriteRedLight=s,e.graphicsGauge=_,e.containerGaugeBackground=u,e.containerGauge=c,e}return n(e,t),e.prototype.update=function(t,e){var i=t/e*100;i<=0?i=0:100<=i&&(i=100),this.updateGauge(i);var n=r.ShipUtil.getDamageType(t,e),o=25==n,s=50==n;this.updateTaihaLamp(o||s)},e.prototype.updateTaihaLamp=function(t){if(createjs.Tween.removeTweens(this.spriteRedLight),t){this.spriteRedLight.visible=!0,this.spriteRedLight.alpha=0;var e=createjs.Tween.get(this.spriteRedLight).to({alpha:.7},1e3).to({alpha:0},1e3);e.loop=!0,e.play(null)}else this.spriteRedLight.visible=!1,this.spriteRedLight.alpha=0},e.prototype.updateGauge=function(t){var e=0;t<33.3?(e=255<<16,e+=t/33.3*128<<8):t<66.6?(e=255<<16,e+=32768,e+=(t-33.3)/33.3*128<<8):(e=255-(t-66.6)/33.3*255<<16,e+=65280),this.containerGauge.cacheAsBitmap=!1,this.graphicsGauge.clear(),this.graphicsGauge.beginFill(e),this.graphicsGauge.drawRect(0,0,t/100*98,11),this.graphicsGauge.endFill(),this.containerGauge.cacheAsBitmap=!0},e.prototype.dispose=function(){createjs.Tween.removeTweens(this.spriteRedLight),this.containerGauge.cacheAsBitmap=!1,this.containerGauge.mask=null,this.containerGauge.removeChildren(),this.containerGauge=null,this.containerGaugeBackground.cacheAsBitmap=!1,this.containerGaugeBackground.mask=null,this.containerGaugeBackground.removeChildren(),this.containerGaugeBackground=null,this.removeChildren()},e}(PIXI.Container);e.HpGaugeView=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=i(1),s=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this)||this;return i._btm=!1,i._onClick=function(){null!=i._cb_onClick&&(i._cb_onClick(),i._mouseTimer=setInterval(function(){if(0==i.visible)return clearInterval(i._mouseTimer),!1;i._cb_onClick()},300))},i._onMouseUp=function(){clearInterval(i._mouseTimer)},i._btm=e,i._canvas=new PIXI.Container,i.addChild(i._canvas),0==i._btm?i._img=new PIXI.Sprite(o.COMMON_MISC.getTexture(1)):i._img=new PIXI.Sprite(o.COMMON_MISC.getTexture(0)),i._img.interactive=!0,i._img.x=-Math.round(i._img.width/2),i._img.y=-Math.round(i._img.height/2),i._canvas.addChild(i._img),i}return n(e,t),e.prototype.initialize=function(t){void 0===t&&(t=null),this._cb_onClick=t},e.prototype.activate=function(){this._img.buttonMode=!0,null==this._tween&&(this._img.on(r.EventType.MOUSEUP,this._onMouseUp),this._img.on(r.EventType.MOUSEDOWN,this._onClick),this._tween=createjs.Tween.get(this._canvas),this._tween.loop=!0,0==this._btm?this._tween.to({y:-11},350,createjs.Ease.cubicOut):this._tween.to({y:11},350,createjs.Ease.cubicOut),this._tween.to({y:0},350,createjs.Ease.quadIn))},e.prototype.deactivate=function(){this._img.buttonMode=!1,this._canvas.y=0,null!=this._tween&&(this._img.off(r.EventType.MOUSEUP,this._onMouseUp),this._img.off(r.EventType.MOUSEDOWN,this._onClick),this._tween.setPaused(!0),createjs.Tween.removeTweens(this._canvas),this._tween=null)},e.prototype.dispose=function(){this.removeChildren(),this.deactivate(),this._btm=null,this._canvas=null,this._img=null,this._cb_onClick=null,this._mouseTimer=null},e.prototype.resetInterval=function(){null!=this._mouseTimer&&clearInterval(this._mouseTimer)},e}(PIXI.Container);e.ArrowButton=s;var a=function(t){function e(){var e=t.call(this)||this;e._onClick=function(){e.onClick()};var i=o.COMMON_MISC.getTexture(1),n=new PIXI.Sprite(i),s=createjs.Tween.get(n);return s.loop=!0,s.to({y:0}).to({y:-11},350,createjs.Ease.cubicOut).to({y:0},350,createjs.Ease.quadIn),n.interactive=n.buttonMode=!0,n.addListener(r.EventType.CLICK,e._onClick),e.addChild(n),e.spriteArrowTopS=n,e}return n(e,t),e.prototype.dispose=function(){createjs.Tween.removeTweens(this.spriteArrowTopS),this.spriteArrowTopS.removeAllListeners(r.EventType.CLICK),this.spriteArrowTopS.texture=PIXI.Texture.EMPTY,this.spriteArrowTopS=null,this.removeChildren()},e}(PIXI.Container);e.ArrowTopButton=a;var _=function(t){function e(){var e=t.call(this)||this;e._onClick=function(){e.onClick()};var i=o.COMMON_MISC.getTexture(0),n=new PIXI.Sprite(i),s=createjs.Tween.get(n);return s.loop=!0,n.interactive=n.buttonMode=!0,s.to({y:0}).to({y:11},350,createjs.Ease.cubicOut).to({y:0},350,createjs.Ease.quadIn),n.addListener(r.EventType.CLICK,e._onClick),e.addChild(n),e.spriteArrowBtmS=n,e}return n(e,t),e.prototype.dispose=function(){createjs.Tween.removeTweens(this.spriteArrowBtmS),this.spriteArrowBtmS.removeAllListeners(r.EventType.CLICK),this.spriteArrowBtmS.texture=PIXI.Texture.EMPTY,this.spriteArrowBtmS=null,this.removeChildren()},e}(PIXI.Container);e.ArrowBottomButton=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=function(t){function e(){var e=t.call(this)||this;e.texture=o.COMMON_MAIN.getTexture(26);var i=o.COMMON_MAIN.getTexture(27),n=new PIXI.Sprite(i),r=new PIXI.Sprite(i);n.alpha=0,r.alpha=0,r.position.set(0,15),e.addChild(n,r);var s=createjs.Tween.get(n).to({alpha:0}).wait(250).to({alpha:1}).wait(250).to({alpha:0}).wait(250),a=createjs.Tween.get(r).to({alpha:0}).wait(250).to({alpha:0}).wait(250).to({alpha:1}).wait(250);return s.loop=a.loop=!0,s.play(null),a.play(null),e.tweenIcon_arrow_on_0=s,e.tweenIcon_arrow_on_1=a,e}return n(e,t),e.prototype.dispose=function(){this.tweenIcon_arrow_on_0.setPaused(!0),this.tweenIcon_arrow_on_1.setPaused(!0),createjs.Tween.removeTweens(this.tweenIcon_arrow_on_0.target),createjs.Tween.removeTweens(this.tweenIcon_arrow_on_1.target),this.tweenIcon_arrow_on_0=null,this.tweenIcon_arrow_on_1=null,this.removeChildren()},e}(PIXI.Sprite);e.DownArrowAnimationView=r;var s=function(t){function e(){var e=t.call(this)||this;return e.texture=o.COMMON_MAIN.getTexture(26),e}return n(e,t),e}(PIXI.Sprite);e.DisableDownArrowAnimationView=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(224),s=i(80),a=i(34),_=i(69),l=i(35),u=i(876),c=i(878),h=i(892),p=i(894),d=i(896),f=i(898),y=i(899),m=i(900),g=i(901),v=i(902),b=i(346),w=i(904);e.SYNC_KEY_JUMP="sync_key_jump";var x,I=function(){function t(){this.ANIMATION_SYNC_KEY={}}return t.prototype.setNumber=function(t,e){this.ANIMATION_SYNC_KEY[t]=e},t.prototype.getNumber=function(t){return this.ANIMATION_SYNC_KEY[t]},t}();!function(t){t[t.UpdateOnly=0]="UpdateOnly",t[t.WaitComplete=1]="WaitComplete"}(x=e.ArsenalTimerMode||(e.ArsenalTimerMode={}));var T=function(t){function i(){var i=t.call(this)||this;i.syncAnimationKey=new I,i.KDOCK_IDS=[1,2,3,4],i.normalSettingMemory={ammo:30,fuel:30,steel:30,baux:30,buildKit:0,devKit:1},i.largeSettingMemory={ammo:1500,fuel:1500,steel:2e3,bauxite:1e3,buildKit:0,devKit:1},i.arsenalTimerMode=x.UpdateOnly,i._onClickGet=function(t){i.receive(t);var e=new m.GetShipAPI(t);e.start(function(){var n=e.ship.mstID,r=o.default.model.ship.getMst(n);i._getShipAnimation(t,r,e.kDocks)})},i._onClickNoDock=function(t){o.default.view.clickGuard=!0,new v.OpenNewDockAPI(t).start(function(){i.unLockDock(t),o.default.model.kdock.get(t).__open__();var e=o.default.model.kdock.getAll().filter(function(t){return-1==t.state});if(e.length>0){var n=e[0],r=o.default.model.useItem.get(49).count>0;i.noDock(n.id,!0,r)}o.default.view.clickGuard=!1})},i._onClickSelect=function(t){i.onClickSelect(t)},i._onClickHighSpeed=function(t){var e=new u.HighSpeedConfirmContainer;o.default.view.overLayer.addChild(e);var n=o.default.model.kdock.get(t).isLargeBuild(),s=o.default.model.useItem.get(2).count,a=s-(n?10:1);e.show(s,a,function(n){if(n){o.default.view.clickGuard=!0;var s=o.default.model.kdock.get(t),a=s.complete_time;new y.CreateShipSpeedChangeAPI(t,s.isLargeBuild()).start(function(){var n=o.default.model.kdock.get(t),s=Date.now();i.useBurner(n.id,a,s);var _=r.ArsenalUtil.developLimit();i.hideHighSpeedButton(t);var l=t.toString();i.kDockViews[l].changeState(3),o.default.model.kdock.getAll().forEach(function(t){2==t.state&&i.updateHighSpeedButtonState(t.id),i.onUpdateCondition(t.id,_.forShip,_.forSlot)}),e.hide(function(){o.default.view.overLayer.removeChild(e),e.dispose(),o.default.view.clickGuard=!1})})}else o.default.view.clickGuard=!0,e.hide(function(){o.default.view.overLayer.removeChild(e),e.dispose(),o.default.view.clickGuard=!1})})},i._onClickDock=function(t){i._materialAmountContainer||(i._materialAmountContainer=new p.MaterialAmountContainerShip(i.parent),i._materialAmountContainer.play(t,i.normalSettingMemory,!0,o.default.model.basic.isLargeBuild(),i._onCompleteMaterialAmountShip,i._onGoToLargeBuild,function(){i._onGoToShop()}))},i._onCompleteMaterialAmountShip=function(t){switch(t){case!1:o.default.view.clickGuard=!0,i._materialAmountContainer.hide(function(){i._materialAmountContainer.dispose(),i._materialAmountContainer=null,o.default.view.clickGuard=!1}),r.ArsenalUtil.playVoiceOnBuildComplete();break;case!0:var e=i._materialAmountContainer.kDockId,n=i._materialAmountContainer.ammo,s=i._materialAmountContainer.fuel,l=i._materialAmountContainer.steel,u=i._materialAmountContainer.bauxite,c=i._materialAmountContainer.buildKit,h=i._materialAmountContainer.devKit,p=0<c,d=new f.CreateShipAPI(e,0,s,n,l,u,h,p?1:0),y=new g.KDockAPI,m=new a.APIConnector;0==o.default.model.basic.getTutorialProgress()&&m.add(new _.UpdateTutorialAPI(10)),m.add(d),m.add(y),o.default.view.clickGuard=!0,m.start(function(){i._materialAmountContainer.dispose(),i._materialAmountContainer=null;var t=o.default.model.kdock.get(e),n=(o.default.model.kdock.getAll(),o.default.model.ship.getMst(t.ship_mst_id)),s=n.build_time,a=.5<Math.random(),_=.5<Math.random()||0==a,l=0<o.default.model.useItem.get(2).count,u=Date.now(),c=t.complete_time;p&&(c=u+60*s*1e3);var h=o.default.model.shipType.get(n.shipTypeID).build_phase_num;i.build(t.id,!1,p,l,a,_,s,c,u,h),o.default.view.portMain.updateInfo(),i.arsenalTimerMode=x.WaitComplete;var d=r.ArsenalUtil.developLimit();i.hideHighSpeedButton(e),o.default.model.kdock.getAll().forEach(function(t){2==t.state&&i.updateHighSpeedButtonState(t.id),i.onUpdateCondition(t.id,d.forShip,d.forSlot)}),o.default.view.clickGuard=!1,!1===p&&r.ArsenalUtil.playVoiceOnBuildComplete()}),i.normalSettingMemory.ammo=i._materialAmountContainer.ammo,i.normalSettingMemory.fuel=i._materialAmountContainer.fuel,i.normalSettingMemory.steel=i._materialAmountContainer.steel,i.normalSettingMemory.baux=i._materialAmountContainer.bauxite,i.normalSettingMemory.buildKit=0,i.normalSettingMemory.devKit=i._materialAmountContainer.devKit}},i._onGoToLargeBuild=function(){var t=new h.LargeBuildConfirmContainer;o.default.view.overLayer.addChild(t);var e=o.default.sound.voice.play("9999",318);t.show(function(n){if(o.default.view.clickGuard=!0,o.default.sound.voice.stop(e),t.hide(function(){o.default.view.overLayer.removeChild(t),t.dispose(),o.default.view.clickGuard=!1}),n){var s=i._materialAmountContainer.kDockId;i._materialAmountContainer.dispose(),i._materialAmountContainer=null;var _=new d.LargeConfigureMaterialContainer(i.parent);_.onComplete=function(t){switch(t){case d.Result.CHANGE_NORMAL:_.dispose(),i._materialAmountContainer=new p.MaterialAmountContainerShip(i.parent),i._materialAmountContainer.play(s,i.normalSettingMemory,!1,o.default.model.basic.isLargeBuild(),i._onCompleteMaterialAmountShip,i._onGoToLargeBuild,function(){i._onGoToShop()});break;case d.Result.CANCEL:o.default.view.clickGuard=!0,_.hide(function(){_.dispose(),o.default.view.clickGuard=!1});break;case d.Result.START:var e=_.ammo,n=_.fuel,l=_.steel,u=_.bauxite,c=_.buildKit,h=_.devKit,y=0<c,m=new f.CreateShipAPI(s,1,n,e,l,u,h,y?1:0),v=new g.KDockAPI,b=new a.APIConnector;b.add(m),b.add(v),o.default.view.clickGuard=!0,b.start(function(){o.default.view.portMain.updateInfo();var t=o.default.model.kdock.get(s),e=o.default.model.ship.getMst(t.ship_mst_id),n=e.build_time,a=.5<Math.random(),l=.5<Math.random()||0==a,u=Date.now(),c=9<o.default.model.useItem.get(2).count;_.dispose();var h=t.complete_time;y&&(h=u+60*n*1e3);var p=r.ArsenalUtil.developLimit();i.hideHighSpeedButton(s),o.default.model.kdock.getAll().forEach(function(t){2==t.state&&i.updateHighSpeedButtonState(t.id),i.onUpdateCondition(t.id,p.forShip,p.forSlot)}),o.default.view.clickGuard=!1;var d=o.default.model.shipType.get(e.shipTypeID).build_phase_num;i.build(t.id,!0,y,c,a,l,n,h,u,d)}),i.largeSettingMemory.ammo=_.ammo,i.largeSettingMemory.fuel=_.fuel,i.largeSettingMemory.steel=_.steel,i.largeSettingMemory.bauxite=_.bauxite,i.largeSettingMemory.buildKit=0,i.largeSettingMemory.devKit=1}},_.play(i.largeSettingMemory.fuel,i.largeSettingMemory.ammo,i.largeSettingMemory.steel,i.largeSettingMemory.bauxite,i.largeSettingMemory.devKit,i.largeSettingMemory.buildKit)}})},i.kDockViews={};var n=new PIXI.Sprite(l.ARSENAL_MAIN.getTexture(144)),s=new PIXI.Sprite(l.ARSENAL_MAIN.getTexture(145)),b=new PIXI.Sprite(l.ARSENAL_MAIN.getTexture(145)),w=new PIXI.Sprite(l.ARSENAL_MAIN.getTexture(145)),T=new PIXI.Container;i.layerBases=new Array,i.layerBuilds=new Array,i.layerInteractives=new Array,s.position.set(34,4),b.position.set(214,4),w.position.set(661,4);for(var O=0;O<i.KDOCK_IDS.length;O++){var C=51+117*O,P=new PIXI.Container,k=new PIXI.Container,S=new PIXI.Container;P.position.set(0,C),k.position.set(0,C),S.position.set(0,C),i.layerBases.push(P),i.layerBuilds.push(k),i.layerInteractives.push(S)}for(var O=0;O<i.KDOCK_IDS.length;O++){var M=i.KDOCK_IDS[O],P=i.layerBases[O],k=i.layerBuilds[O],S=i.layerInteractives[O],A=new c.KDockView(M,P,k,S,i.syncAnimationKey);A.updateCondition(!0,!0),A.onClickGet=i._onClickGet,A.onClickSelect=i._onClickDock,A.onClickHighSpeed=i._onClickHighSpeed,A.onClickNoDock=i._onClickNoDock;var E=M.toString();i.kDockViews[E]=A}i.addChild(n);for(var O=0;O<i.KDOCK_IDS.length;O++)i.addChild(i.layerBases[O]);for(var O=0;O<i.KDOCK_IDS.length;O++)i.addChild(i.layerBuilds[O]);i.addChild(s,b,w);for(var O=0;O<i.KDOCK_IDS.length;O++)i.addChild(i.layerInteractives[O]);return i.addChild(T),i.syncAnimationKey.setNumber(e.SYNC_KEY_JUMP,0),i.animation=createjs.Tween.get(i.syncAnimationKey.ANIMATION_SYNC_KEY,{loop:!0}),i.animation.call(function(){i.syncAnimationKey.setNumber(e.SYNC_KEY_JUMP,0)}).to({sync_key_jump:1},800,createjs.Ease.quintOut).to({sync_key_jump:0},500,createjs.Ease.quintIn).wait(500),i.arsenalTimerMode=x.WaitComplete,i}return n(i,t),Object.defineProperty(i.prototype,"ArsenalTimerMode",{get:function(){return this.arsenalTimerMode},enumerable:!0,configurable:!0}),i.prototype.getKDockView=function(t){var e=t.toString();return this.kDockViews[e]},i.prototype.notifyTime=function(t,e){this.kDockViews[t].onUpdateTime(e)},i.prototype.updateCondition=function(t,e,i){var n=t.toString();this.kDockViews[n].updateCondition(e,i)},i.prototype.build=function(t,e,i,n,o,r,s,a,_,l){var u=t.toString();this.kDockViews[u].Build(i,e,n,o,r,s,a,_,l)},i.prototype.resume=function(t,e,i,n,o,r,s,a,_){var l=t.toString();this.kDockViews[l].Resume(e,i,n,o,r,s,a,_)},i.prototype.showHighSpeedButton=function(t,e){var i=t.toString();this.kDockViews[i].showHighSpeedButton(e)},i.prototype.hideHighSpeedButton=function(t){var e=t.toString();this.kDockViews[e].hideHighSpeedButton()},i.prototype.updateMotivation=function(t,e,i){var n=t.toString();this.kDockViews[n].updateMotivation(e,i)},i.prototype.complete=function(t){var e=t.toString();this.kDockViews[e].Complete()},i.prototype.noDock=function(t,e,i){var n=t.toString();this.kDockViews[n].NoDock(e,i)},i.prototype.unLockDock=function(t){var e=t.toString();this.kDockViews[e].UnLockDock()},i.prototype.completed=function(t,e,i){var n=t.toString();this.kDockViews[n].Completed(e,i)},i.prototype.standby=function(t){var e=t.toString();this.kDockViews[e].Standby()},i.prototype.useBurner=function(t,e,i){var n=t.toString();this.kDockViews[n].UseBanner(e,i)},i.prototype.receive=function(t){var e=t.toString();this.kDockViews[e].Receive()},i.prototype.received=function(t){var e=t.toString();this.kDockViews[e].Received()},i.prototype.forceComplete=function(t,e){var i=t.toString();this.kDockViews[i].forceComplete(e)},i.prototype.dispose=function(){for(var t=0;t<this.KDOCK_IDS.length;t++){var e=this.KDOCK_IDS[t].toString();this.kDockViews[e].dispose(),this.kDockViews[e]=null}createjs.Tween.removeTweens(this.animation.target);for(var i=0;i<this.layerBases.length;i++)this.layerBases[i].removeChildren(),this.layerBases[i]=null;for(var i=0;i<this.layerBuilds.length;i++)this.layerBuilds[i].removeChildren(),this.layerBuilds[i]=null;for(var i=0;i<this.layerInteractives.length;i++)this.layerInteractives[i].removeChildren(),this.layerInteractives[i]=null;this.onUpdateCondition=null,this.layerBases=null,this.layerBuilds=null,this.layerInteractives=null,this.onClickNoDock=null,this.onClickSelect=null,this.kDockViews=null,this.animation=null,this._materialAmountContainer&&(this._materialAmountContainer.dispose(),this._materialAmountContainer=null),this.removeChildren()},i.prototype._getShipAnimation=function(t,e,i){var n=this,s=new b.ReceiveAnimation(544),a=new w.RewardAnimationShip;o.default.view.overLayer.addChild(s),s.preload(function(){a.preloadFromMst(e,function(){s.play(function(){o.default.model.kdock.__setData__(i),o.default.view.overLayer.removeChild(s),o.default.view.overLayer.addChild(a),a.play(function(){o.default.view.portMain.updateInfo();var e=r.ArsenalUtil.developLimit();n.hideHighSpeedButton(t),o.default.model.kdock.getAll().forEach(function(t){2==t.state&&n.updateHighSpeedButtonState(t.id),n.onUpdateCondition(t.id,e.forShip,e.forSlot)}),n.received(t)},function(){o.default.view.overLayer.removeChild(a),a.dispose(),r.ArsenalUtil.playVoiceOnBuildComplete()})})})})},i.prototype.updateHighSpeedButtonState=function(t){var e=o.default.model.kdock.get(t);if(this.hideHighSpeedButton(t),e.isLargeBuild()){var i=9<o.default.model.useItem.get(2).count;this.showHighSpeedButton(e.id,i)}else{var i=0<o.default.model.useItem.get(2).count;this.showHighSpeedButton(e.id,i)}},i.prototype._onGoToShop=function(){o.default.scene.change(24,new s.ItemSceneModel)},i}(PIXI.Container);e.DockLayer=T},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=function(t){function e(e,i){var n=t.call(this)||this;return n._onMouseOut=function(t){n.onMouseOut&&n.onMouseOut(t),n.texture=n.textureDefault},n._onMouseOver=function(t){n.onMouseOver&&n.onMouseOver(t),n.texture=n.textureHover},n.textureDefault=e,n.textureHover=i,n.texture=n.textureDefault,n.on(o.EventType.MOUSEOVER,n._onMouseOver),n.on(o.EventType.MOUSEOUT,n._onMouseOut),n.interactive=n.buttonMode=!0,n}return n(e,t),e.prototype.reset=function(){this.texture=this.textureDefault},e.prototype.dispose=function(){this.removeAllListeners(o.EventType.CLICK),this.removeAllListeners(o.EventType.MOUSEOVER),this.removeAllListeners(o.EventType.MOUSEOUT),this.texture=PIXI.Texture.EMPTY,this.onClick=null,this.onMouseOut=null,this.onMouseOver=null,this.textureDefault=null,this.textureHover=null,this.removeChildren()},e}(PIXI.Sprite);e.SimpleButton=r},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(1079)),n(i(1080)),n(i(1081)),n(i(385)),n(i(1082)),n(i(1083)),n(i(1084)),n(i(395)),n(i(1101)),n(i(1102))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITEMLIST_ORDER=[55,57,4,59,60,56,61,74,10,11,12,54,58,52,63,64,1,2,3,49,50,51,62,68,70,65,71,69,66,67,73,-1,-1,89,78,75,77,92,76,91,86,80,88,90],e.PAYITEMLIST_ORDER=[1,2,3,4,11,14,24,5,6,7,8,9,10,25,13,15,17,16,18,19,26,20,21,23,22,27,28,-1],e.RELATED_USERDATA_PAYITEM=[16],e.RELATED_MATERIAL_PAYITEM=[1,2,3,4,5,6,7,8,9,10,13,17,19,21,22,28],e.RELATED_SLOTITEM_PAYITEM=[11,14,24,25],e.RELATED_USEITEM_PAYITEM=[10,15,18,20,21,23,26,27,28]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("duty_common_"+t)}t.getTexture=e}(e.DUTY_COMMON||(e.DUTY_COMMON={}))},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(1188)),n(i(1189)),n(i(1190)),n(i(1191)),n(i(1192)),n(i(1193))},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(420)),n(i(243)),n(i(424)),n(i(425))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(22),a=i(43),_=i(2),l=i(7),u=i(20),c=i(17),h=i(24),p=i(6),d=i(16),f=i(1342),y=function(t){function e(e,i){var n=t.call(this)||this;return n._scene=e,n._record=i,n}return n(e,t),e.prototype._start=function(){for(var t=this,e=!1,i=this._scene.data.model.deck_f.ships,n=0;n<i.length;n++){var o=i[n];if(null!=o&&1==o.isSubMarine()){var r=this._scene.view.bannerGroupLayer.getBanner(o);this._playSubMarineAnimation(r),e=!0}}for(var s=this._scene.data.model.deck_e.ships,n=0;n<s.length;n++){var o=s[n];if(null!=o&&1==o.isSubMarine()){var r=this._scene.view.bannerGroupLayer.getBanner(o);this._playSubMarineAnimation(r),e=!0}}1==e?(p.SE.play("256"),p.SE.play("108"),createjs.Tween.get(null).wait(2e3).call(function(){t._readySakuteki()})):this._readySakuteki()},e.prototype._playSubMarineAnimation=function(t){var e=t.getGlobalPos(!0),i=new f.SubMarineWave;i.initialize(),i.position.set(e.x,e.y+s.BannerSize.H/6),this._scene.view.layer_cutin.addChild(i),i.play(),t.showBabble()},e.prototype._readySakuteki=function(){var t=this._record.raw.sakuteki;0==t.hasPlane_f()&&0==t.isSuccess_f()?this._endTask():this._startSakuteki()},e.prototype._startSakuteki=function(){var t=this;this._scene.view.layer_title.show(0),this._scene.view.layer_info2.once("complete",function(){0==t._record.raw.sakuteki.hasPlane_f()&&t._noPlane()}),this._scene.view.layer_info2.showCenter(0),createjs.Tween.get(null).wait(950).call(function(){if(1==t._record.raw.sakuteki.hasPlane_f()){var e=t._searchEquipedSlotitems();t._loadPlaneImage(e)}})},e.prototype._noPlane=function(){var t=this,e=new c.FadeBox(.5);e.hide(0),this._scene.view.layer_title.addChild(e),e.show(700,function(){t._showTelop(null,e)})},e.prototype._loadPlaneImage=function(t){var e=this;if(null==t){var i=new PIXI.Sprite(d.BATTLE_MAIN.getTexture(55));i.anchor.set(.5),this._flyPlane(i)}else{var n=t.mst_id,o=new h.SlotLoader;o.add(n,"item_up"),o.load(function(){var i=new PIXI.Container,o=new PIXI.Sprite(d.BATTLE_MAIN.getTexture(31));o.anchor.set(.5,0);var s=new PIXI.Sprite(r.default.resources.getSlotitem(n,"item_up"));s.anchor.set(.5);var _=1,u=1;if(1==a.PlaneConst.OFFSET.hasOwnProperty(n.toString())){var c=a.PlaneConst.OFFSET[n],h=l.ObjUtil.getNumber(c,"x"),p=l.ObjUtil.getNumber(c,"y"),f=l.ObjUtil.getNumber(c,"r"),y=l.ObjUtil.getNumber(c,"sx",1);s.x+=h,s.y+=p,s.rotation+=-f/180*Math.PI,_*=y}1==a.PlaneConst.SAKUTEKI_SPSCALE_MSTID.hasOwnProperty(t.mst_id.toString())?(_*=.44,u*=.44):1==a.PlaneConst.SAKUTEKI_SPSCALE_ETYPE.hasOwnProperty(t.equipTypeSp.toString())?(_*=.4,u*=.4):(_*=.32,u*=.32),s.scale.set(_,u),o.scale.set(3.125*_,3.125*u),i.addChild(o),i.addChild(s),e._flyPlane(i)})}},e.prototype._flyPlane=function(t){var e=this,i=new PIXI.Sprite(d.BATTLE_MAIN.getTexture(85));i.anchor.set(.5),i.rotation=-Math.PI/3,i.scale.set(0),i.position.set(o.default.width/2,o.default.height/2);var n=new c.FadeBox(.5);n.hide(0),t.position.set(-99,789),this._scene.view.layer_title.addChild(i,n,t),createjs.Tween.get(i.scale).to({x:2.85,y:2.85},500).wait(1300).call(function(){e._scene.view.raderLayer.rader_e.wave()}),n.show(700),createjs.Tween.get(t).wait(200).call(function(){p.SE.play("113")}).to({x:1298,y:0},2e3).call(function(){e._scene.view.layer_info2.removeChild(t),e._showTelop(i,n)})},e.prototype._showTelop=function(t,e){var i,n=this,o=this._record.raw.sakuteki;i=1==o.isSuccess_f()?1==o.hasMikikan_f()?2:1:1==o.hasMikikan_f()?4:3;var r=this._scene.view.raderLayer,s=r.rader_e;if(this._scene.view.layer_cutin.addChild(s),1==this._record.raw.sakuteki.isSuccess_f()){var a=this._scene.data.model.deck_e,_=a.formation,l=a.type,u=a.getCountMainDeck(),c=a.getCountSubDeck();this._scene.data.model.map_info.isLongRangeFires()?s.show(_,l,0,0,!0):s.show(_,l,u,c,!1)}this._scene.view.layer_info2.once("complete",function(){r.resetChildren()}),this._scene.view.layer_info2.showTop(i),null!=t?createjs.Tween.get(t).wait(1300).call(function(){e.hide(500)}).to({alpha:0},500).call(function(){t.parent.removeChild(t),e.parent.removeChild(e),n._showLastTelop()}):createjs.Tween.get(this).wait(1300).call(function(){e.hide(500)}).call(function(){e.parent.removeChild(e),n._showLastTelop()})},e.prototype._showLastTelop=function(){var t=this;if(1==this._record.raw.sakuteki.isSuccess_f()){this._scene.data.model.map_info.isLongRangeFires()||this._scene.view.layer_info2.showCenter(5);var e=new u.TweenTask;e.addTweens(this._scene.view.bannerGroupLayer.enemies.createSakutekiTweens()),e.addTweens(this._scene.view.bannerGroupLayer.enemies_combined.createSakutekiTweens()),e.start(function(){t._endTask()})}else this._endTask()},e.prototype._endTask=function(){var e=this;this._scene.view.layer_title.hide(function(){t.prototype._endTask.call(e)})},e.prototype._searchEquipedSlotitems=function(){for(var t=null,e=0,i=this._scene.data.model.deck_f.ships,n=0;n<i.length;n++){var o=i[n];if(null!=o)for(var r=0;r<o.slots.length;r++){var s=o.slots[r];if(null!=s){var _=s.equipType;if(a.PlaneConst.SAKUTEKI.indexOf(_)>=0){var l=o.getTousai(r);if(l>0){var u=s.sakuteki+Math.sqrt(s.level);u>e&&(e=u,t=s)}}}}}var n,o,r,s,_,l;return null!=t&&25==t.mst_id&&(t=null),t},e}(_.TaskBase);e.PhaseSakuteki=y},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(22),r=i(2),s=i(16),a=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._layer=e,r._a_banner=i,r._d_banner=n,r._type=o,r}return n(e,t),e.prototype._start=function(){var t=this,e=new _;e.initialize(this._type);var i=this._a_banner.getGlobalPos(),n=this._d_banner.getGlobalPos();e.x=i.x,e.y=i.y-15,e.alpha=0,1==this._a_banner.friend?(e.x+=o.BannerSize.W/3*2,e.rotation-=Math.PI/180*10):(e.x-=o.BannerSize.W/3*2,e.rotation+=Math.PI/180*10,e.scale.x=-1);var r=new PIXI.Point;r.x=600,r.y=i.y+(n.y-i.y)/2,this._layer.addChild(e),createjs.Tween.get(e).to({y:i.y,alpha:1,rotation:0},1e3,createjs.Ease.bounceOut).to({x:r.x,y:r.y},1e3,createjs.Ease.sineIn),createjs.Tween.get(e.img).wait(1800).to({alpha:0},200).call(function(){t._layer.removeChild(e),t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._a_banner=null,this._d_banner=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskDaihatsuEff=a;var _=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite,e.addChild(e._img),e}return n(e,t),Object.defineProperty(e.prototype,"img",{get:function(){return this._img},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){switch(t){case 1:this._img.texture=s.BATTLE_MAIN.getTexture(145),this._img.position.set(-45,-21);break;case 2:this._img.texture=s.BATTLE_MAIN.getTexture(144),this._img.position.set(-53,-24);break;case 3:this._img.texture=s.BATTLE_MAIN.getTexture(142),this._img.position.set(-45,-21);break;case 4:this._img.texture=s.BATTLE_MAIN.getTexture(143),this._img.position.set(-35,-24);break;case 5:this._img.texture=s.BATTLE_MAIN.getTexture(146),this._img.position.set(-45,-26);break;case 6:this._img.texture=s.BATTLE_MAIN.getTexture(147),this._img.position.set(-45,-26);break;default:this._img.texture=PIXI.Texture.EMPTY}},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(12),r=i(16),s=function(t){function e(){var e=t.call(this)||this;return e._light1=new PIXI.Sprite,e._light2=new PIXI.Sprite,e._circle=new o.Sprite,e._light1.anchor.set(.5),e._light2.anchor.set(.5),e._circle.anchor.set(.5),e._light1.scale.set(0),e._light2.scale.set(0),e._circle.scale.set(0),e.addChild(e._light1),e.addChild(e._light2),e.addChild(e._circle),e}return n(e,t),e.prototype.initialize=function(){this._light1.texture=r.BATTLE_MAIN.getTexture(52),this._light2.texture=r.BATTLE_MAIN.getTexture(52);var t=new PIXI.Graphics;t.lineStyle(5,16777215,.1),t.drawCircle(0,0,68),t.lineStyle(5,16777215,.2),t.drawCircle(0,0,75),this._circle.addChild(t)},e.prototype.play=function(){var t=this;this._activate(),createjs.Tween.get(this._circle).to({scaleX:.3,scaleY:.3},200).to({scaleX:.6,scaleY:.6,alpha:0},200),createjs.Tween.get(this._light1.scale).to({x:1,y:1},100).wait(100).to({x:0,y:0},100),createjs.Tween.get(this._light2.scale).to({x:1,y:1},100).wait(100).to({x:0,y:0},100).call(function(){t._deactivate(),null!=t.parent&&(t.parent.removeChild(t),t.emit("complete"))})},e.prototype._activate=function(){null==this._t1&&(this._t1=createjs.Tween.get(this._light1).to({rotation:2*Math.PI},1e3),this._t1.loop=!0),null==this._t2&&(this._light2.rotation=Math.PI/4,this._t2=createjs.Tween.get(this._light2).to({rotation:2*-Math.PI},1e3),this._t2.loop=!0)},e.prototype._deactivate=function(){null!=this._t1&&(this._t1.setPaused(!0),this._t1=null),null!=this._t2&&(this._t2.setPaused(!0),this._t2=null)},e}(PIXI.Container);e.Picket=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(){}return t.getMouseGlobalPos=function(){var t=this._getMouse();return null==t?null:t.global},t.getMouseLocalPos=function(t){var e=this._getMouse();return null==e?null:e.getLocalPosition(t)},t.isOnMouse=function(t){if(null==t)return!1;if(null!=t.hitArea){var e=this.getMouseLocalPos(t);return null!=e&&t.hitArea.contains(e.x,e.y)}var e=this.getMouseGlobalPos();return null!=e&&(t instanceof PIXI.Sprite?t.containsPoint(e):void this._containsPoint(t,e))},t._containsPoint=function(t,e){if(t instanceof PIXI.Sprite)return t.containsPoint(e);for(var i=0,n=t.children;i<n.length;i++){var o=n[i];if(this._containsPoint(o,e))return!0}return!1},t._getMouse=function(){var t=n.default.settings.renderer;if(null==t)return null;var e=t.plugins.interaction;return null==e?null:e.mouse},t}();e.InteractiveUtil=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t._getRectItem=function(t,e){if(!1===this._items.hasOwnProperty(t))return void(this._items[t]=[]);var i=this._items[t].filter(function(t){for(var i=t.data,n=!0,o=0,r=i.length;o<r;o++)if(i[o]!==e[o]){n=!1;break}return n});if(0!==i.length)return i[0].sprite},t.gradientLeftToRight=function(t,e,i,n){var o=this._getRectItem("L2R",[t,e,i,n]);if(void 0!==o)return new PIXI.Sprite(o);var r=document.createElement("canvas");r.width=t,r.height=e;var s=r.getContext("2d");s.beginPath();var a=s.createLinearGradient(0,0,t,0);a.addColorStop(0,"#ffffff"),a.addColorStop(i,"#ffffff"),a.addColorStop(n,"#000000"),a.addColorStop(1,"#000000"),s.fillStyle=a,s.rect(0,0,t,e),s.fill();var _=PIXI.Texture.fromCanvas(r);return this._items.L2R.push({data:[t,e,i,n],sprite:_}),new PIXI.Sprite(_)},t._items={},t}();e.CreateRect=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(46),s=function(t){function e(e,i,n){void 0===n&&(n=null);var o=t.call(this)||this;return o._mst_id=e,o._count=i,o._message=n,o}return n(e,t),Object.defineProperty(e.prototype,"mst_id",{get:function(){return this._mst_id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){var t=o.default.model.useItem.get(this._mst_id);return null==t?"":t.name},enumerable:!0,configurable:!0}),e}(r.RewardModel);e.RewardModelUseitem=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=function(t){function e(){var e=t.call(this)||this;return e._url="api_get_member/slot_item",e}return n(e,t),e.prototype._completedEnd=function(){var e=this._raw_data;o.default.model.slot.setMemData(e),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.UserSlotItemAPI=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=function(t){function e(){var e=t.call(this)||this;return e._url="api_get_member/unsetslot",e}return n(e,t),e.prototype._completedEnd=function(){o.default.model.slot.setUnsetData(this._raw_data),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.UnsetSlotAPI=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("remodel_powerup_"+t)}t.getTexture=e}(e.REMODEL_POWERUP||(e.REMODEL_POWERUP={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("album_main_"+t)}t.getTexture=e}(e.ALBUM_MAIN||(e.ALBUM_MAIN={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("item_ilist_"+t)}t.getTexture=e}(e.ITEM_ILIST||(e.ITEM_ILIST={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("item_ishop_"+t)}t.getTexture=e}(e.ITEM_ISHOP||(e.ITEM_ISHOP={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){try{return PIXI.Texture.fromFrame("common_icon_weapon_id_"+t)}catch(t){return PIXI.Texture.EMPTY}}t.getTextureFromMstID=e}(e.COMMON_ICON_WEAPON||(e.COMMON_ICON_WEAPON={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.EMPTY=0]="EMPTY",t[t.Karyoku=1]="Karyoku",t[t.Raisou=2]="Raisou",t[t.Taiku=3]="Taiku",t[t.Soukou=4]="Soukou",t[t.Lucky=5]="Lucky"}(e.PowerUpCategory||(e.PowerUpCategory={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.UNSET=0]="UNSET",t[t.SET=1]="SET"}(e.SlotListMode||(e.SlotListMode={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(136);!function(t){t.shipSortKeyType=1,t.slotItemPage=0,t.slotItemFilter=0,t.listMode=n.SlotListMode.UNSET}(e.SceneMemory||(e.SceneMemory={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("sally_map_parts_"+t)}t.getTexture=e}(e.SALLY_MAP_PARTS||(e.SALLY_MAP_PARTS={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("prac_main_"+t)}t.getTexture=e}(e.PRAC_MAIN||(e.PRAC_MAIN={}))},function(t,e,i){"use strict";function n(){var t=new Date,e=t.getTime(),i=-5;i=i<0?24+i:i;var n=new Date(e).setUTCHours(i,40,0,0),r=o(e,n);return r}function o(t,e){if(t==e)return!0;if(t>e){return t-e<246e4}var i=new Date(e);return o(t,i.setUTCDate(i.getUTCDate()-1))}Object.defineProperty(e,"__esModule",{value:!0});i(15);e.isNeedKeyAtBattleStartAPI=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var i=t.call(this)||this;return i._air_raid=!1,i._air_raid=e,i._planes_f=new Array,i._planes_e=new Array,i._now_animation=new Array,i}return n(e,t),Object.defineProperty(e.prototype,"planes_f",{get:function(){return this._planes_f},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"planes_e",{get:function(){return this._planes_e},enumerable:!0,configurable:!0}),e.prototype.addPlanes_f=function(t){for(var e=t.concat().sort(function(t,e){return t.y<e.y?-1:t.y>e.y?1:0}),i=0,n=e;i<n.length;i++){var o=n[i];this.addChild(o),this._planes_f.push(o)}},e.prototype.addPlanes_e=function(t){for(var e=t.concat().sort(function(t,e){return t.y<e.y?-1:t.y>e.y?1:0}),i=0,n=e;i<n.length;i++){var o=n[i];this.addChild(o),this._planes_e.push(o)}},e.prototype.play=function(t){var e=this;if(0==this._planes_f.length&&0==this._planes_e.length)return void t();for(var i=this,n=0,o=this._planes_f;n<o.length;n++){var r=o[n];!function(n){var o=new PIXI.Point(1500,n.y-555);1==i._air_raid&&(o.x+=-570,o.y+=-450),n.play(o,3700),i._now_animation.push(n),n.once("complete",function(){var i=e._now_animation.indexOf(n);e._now_animation.splice(i,1),0==e._now_animation.length&&t()})}(r)}for(var s=this,a=0,_=this._planes_e;a<_.length;a++){var r=_[a];!function(i){var n=new PIXI.Point(-173,i.y-1005);i.play(n,3700),s._now_animation.push(i),i.once("complete",function(){var n=e._now_animation.indexOf(i);e._now_animation.splice(n,1),0==e._now_animation.length&&t()})}(r)}},e.prototype.dispose=function(){for(var t=0,e=this._planes_f;t<e.length;t++){var i=e[t];i.dispose()}this._planes_f=null;for(var n=0,o=this._planes_e;n<o.length;n++){var i=o[n];i.dispose()}this._planes_e=null},e}(PIXI.Container);e.AirWarCanvas=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(43),a=i(25),_=i(45),l=i(66),u=i(6),c=i(16),h=i(181),p=function(t){function e(){var e=t.call(this)||this;return e._damaged=!1,e._crashed=!1,e.power=1,e._img=new d,e._img.position.set(1,1),e.addChild(e._img),e}return n(e,t),Object.defineProperty(e.prototype,"mst_id",{get:function(){return this._mst_id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"friend",{get:function(){return this._friend},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"damaged",{get:function(){return this._damaged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"crashed",{get:function(){return this._crashed},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e,i,n){this._mst_id=t,this._friend=e,this.x=i.x+n.x,this.y=i.y+n.y,this._offset=n.clone(),this._img.initialize(t,e)},e.prototype.dispose=function(){this.removeChildren(),this._offset=null,this._end=null,null!=this._img&&(this._img.dispose(),this._img=null),null!=this._tween&&(this._tween.setPaused(!0),this._tween=null),this._state=null},e.prototype.startFluctuations=function(){this._img.startFluctuations()},e.prototype.stopFluctuations=function(){this._img.stopFluctuations()},e.prototype.fire=function(){this._img.fire.play()},e.prototype.damage=function(){var t=this;if(1!=this._damaged){this._damaged=!0;var e=new h.Explosion;this.addChild(e),u.SE.play("102"),e.play(function(){t.removeChild(e)}),createjs.Tween.get(null).wait(200).call(function(){if(null!=t._img&&(t._img.smoke.activate(),null!=t._tween)){t._tween.setPaused(!0);var e=createjs.Ticker.framerate,i=Math.pow(.95,1/e);Math.abs(t._state.diff_x)>5&&(i=Math.pow(.5,1/e));var n=Math.pow(5.3,1/e);t._tween=createjs.Tween.get(null,{loop:!0,onChange:function(){t._state.diff_x*=i,t._state.diff_y*=n,t.x+=t._state.diff_x,t.y+=t._state.diff_y,(t.x<-150||t.x>o.default.width+150||t.y>o.default.height+150)&&(t._tween.setPaused(!0),t.emit("complete"))}})}})}},e.prototype.crash=function(){var t=this;if(1!=this._crashed){this._crashed=!0;var e=new h.Explosion;this.addChild(e),u.SE.play("102"),e.play(function(){t.removeChild(e)}),createjs.Tween.get(null).wait(200).call(function(){null!=t._img&&(t._img.visible=!1),null!=t._tween&&(t._tween.setPaused(!0),t._tween=null),t.emit("complete")})}},e.prototype.play=function(t,e){var i,n,o=this,r=new PIXI.Point(this.x,this.y),s=new PIXI.Point(t.x+this._offset.x,t.y+this._offset.y),a=r.x<=s.x,_=s.x-r.x,u=Math.max(s.y,r.y)+150;1==a?(i=new PIXI.Point(Math.min(r.x,s.x)+_/3,u),n=new PIXI.Point(Math.min(r.x,s.x)+_/3*2,u)):(i=new PIXI.Point(Math.max(r.x,s.x)+_/3,u),n=new PIXI.Point(Math.max(r.x,s.x)+_/3*2,u));var c={onChange:function(t){null!=o._state&&(o._state.diff_x=o.x-o._state.pre_x,o._state.diff_y=Math.abs(o.y-o._state.pre_y)+.01,o._state.diff_t=t.timeStamp-o._state.pre_t,o._state.pre_x=o.x,o._state.pre_y=o.y,o._state.pre_t=t.timeStamp)}};return this._state={pre_x:this.x,pre_y:this.y,pre_t:Date.now(),diff_x:0,diff_y:0,diff_t:0},this._tween=l.TweenUtil.create3BezierTween(this,r,i,n,s,e,c),this._tween.call(function(){o.emit("complete")}),this._end=s,{s:r,c1:i,c2:n,e:s}},e.prototype.playForJet=function(t,e){var i,n,o=this,r=new PIXI.Point(this.x,this.y),s=new PIXI.Point(t.x+this._offset.x,t.y+this._offset.y),a=(r.x,s.x,Math.min(r.x,s.x)),_=s.x-r.x,u=Math.max(s.y,r.y)+75;i=new PIXI.Point(a+_/3,u),n=new PIXI.Point(a+_/3*2,u);var c={onChange:function(t){null!=o._state&&(o._state.diff_x=o.x-o._state.pre_x,o._state.diff_y=Math.abs(o.y-o._state.pre_y)+.01,o._state.diff_t=t.timeStamp-o._state.pre_t,o._state.pre_x=o.x,o._state.pre_y=o.y,o._state.pre_t=t.timeStamp)}};return this._state={pre_x:this.x,pre_y:this.y,pre_t:Date.now(),diff_x:0,diff_y:0,diff_t:0},this._tween=l.TweenUtil.create3BezierTween(this,r,i,n,s,e,c),this._tween.call(function(){o.emit("complete")}),this._end=s,{s:r,c1:i,c2:n,e:s}},e.prototype.play2=function(t,e,i){var n=this;void 0===e&&(e=NaN);var o,r,s=new PIXI.Point(this.x,this.y),a=new PIXI.Point(t.x+this._offset.x,t.y+this._offset.y),_=s.x<=a.x;1==_?(o=new PIXI.Point(Math.min(s.x,a.x)+(a.x-s.x)/3,Math.max(a.y,s.y)+150),r=new PIXI.Point(Math.min(s.x,a.x)+(a.x-s.x)/3*2,Math.max(a.y,s.y)+150)):(o=new PIXI.Point(Math.max(s.x,a.x)+(a.x-s.x)/3,Math.max(a.y,s.y)+150),r=new PIXI.Point(Math.max(s.x,a.x)+(a.x-s.x)/3*2,Math.max(a.y,s.y)+150));var c;if(0==isNaN(e)){var h=.99,p=1-h,d=Math.pow(p,3)*s.x+3*Math.pow(p,2)*h*o.x+3*p*h*h*r.x+h*h*h*a.x,f=Math.pow(p,3)*s.y+3*Math.pow(p,2)*h*o.y+3*p*h*h*r.y+h*h*h*a.y,y=a.y+(e-a.x)*(a.y-f)/(a.x-d),m=a.x-d,g=(e-a.x)/m,v=i/(100+g)*100,b=i/(100+g)*g;this._tween=l.TweenUtil.create3BezierTween(this,s,o,r,a,v),this._tween.call(function(){n.emit("attacked")}),this._tween.to({x:e,y:y},b),c=new PIXI.Point(e,y)}else this._tween=l.TweenUtil.create3BezierTween(this,s,o,r,a,i),this._tween.call(function(){n.emit("attacked")}),c=new PIXI.Point(a.x,a.y);return this._tween.call(function(){n.emit("complete")}),createjs.Tween.get(null).wait(.7*i).call(function(){u.SE.play("116"),n.fire()}),this._end=a,{s:s,c1:o,c2:r,e:a,ex:c}},e}(PIXI.Container);e.Plane=p;var d=function(t){function e(){var e=t.call(this)||this;return e.anchor.set(.5),e.scale.set(.75),e._fire=new f,e._smoke=new y,e.addChild(e._fire),e.addChild(e._smoke),e}return n(e,t),Object.defineProperty(e.prototype,"fire",{get:function(){return this._fire},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"smoke",{get:function(){return this._smoke},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e){var i;if(1==_.SlotUtil.isEnemyItem(t)){var n=s.PlaneConst.getEnemyPlaneGraphicsType(t);i="e"+a.MathUtil.zeroPadding(n,3),this.scale.x*=e?-1:1}else{var o=r.default.model.slot.getMst(t),l=o.planeIconType;l=Math.max(1,l),i=a.MathUtil.zeroPadding(l,3),i=(e?"":"r")+i,this.scale.x*=e?1:-1}this.texture=PIXI.Texture.fromImage(r.default.settings.path_root+"resources/plane/"+i+".png"),this._fire.initialize(),this._smoke.initialize()},e.prototype.dispose=function(){this.removeChildren(),this._fire=null,this._smoke.dispose(),this._smoke=null,this.stopFluctuations()},e.prototype.startFluctuations=function(){null==this._t&&this._tween()},e.prototype.stopFluctuations=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e.prototype._tween=function(){var t=this,e=Math.round(46*Math.random()-23),i=Math.round(46*Math.random()-23),n=100*Math.sqrt(Math.pow(e-this.x,2)+Math.pow(i-this.y,2));this._t=createjs.Tween.get(this).to({y:i,x:e},n).call(function(){t._tween()})},e}(PIXI.Sprite),f=function(t){function e(){var e=t.call(this)||this;return e.visible=!1,e._fire1=new PIXI.Sprite,e._fire2=new PIXI.Sprite,e._fire1.position.set(-17,-27),e._fire2.position.set(0,-54),e._fire2.scale.set(.8),e.addChild(e._fire1),e.addChild(e._fire2),e}return n(e,t),e.prototype.initialize=function(){this._fire1.texture=c.BATTLE_MAIN.getTexture(79),this._fire2.texture=c.BATTLE_MAIN.getTexture(79)},e.prototype.play=function(){var t=this;createjs.Tween.get(this).wait(200*Math.random()).call(function(){t.visible=!0}).wait(100).call(function(){t.visible=!1}).wait(100).call(function(){t.visible=!0}).wait(100).call(function(){t.visible=!1})},e}(PIXI.Container),y=function(t){function e(){var e=t.call(this)||this;return e._reverseImage=function(){e._content.scale.x=-1*e._content.scale.x,e._content.scale.y=-1*e._content.scale.y,-1==e._content.scale.x?e._content.position.y=-65:e._content.position.y=-54},e.visible=!1,e._content=new PIXI.Sprite,e._content.anchor.set(.5),e._content.position.set(-57,-54),e.addChild(e._content),e}return n(e,t),e.prototype.initialize=function(){this._content.texture=c.BATTLE_MAIN.getTexture(80)},e.prototype.activate=function(){null==this._t&&(this.scale.set(0),this.visible=!0,createjs.Tween.get(this.scale).to({x:1,y:1},300),this._t=createjs.Tween.get(this._content,{loop:!0}).wait(100).call(this._reverseImage))},e.prototype.deactivate=function(){null!=this._t&&(this.visible=!1,this._t.setPaused(!0),this._t=null)},e.prototype.dispose=function(){this.deactivate()},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(43),s=i(23),a=i(45),_=i(7),l=function(t){function e(e){void 0===e&&(e=1);var i=t.call(this)||this;return i._rad=0,i._direction=!0,i._threshold=0,i._base_scale=e,i._content=new PIXI.Sprite,i._content.scale.set(e),i._content.anchor.set(.5),i.addChild(i._content),i}return n(e,t),e.prototype.initialize=function(t,e){this._content.texture=o.default.resources.getSlotitem(t,"item_up");var i=a.SlotUtil.isEnemyItem(t)?-1:1;if(1==r.PlaneConst.OFFSET.hasOwnProperty(t.toString())){var n=r.PlaneConst.OFFSET[t],s=_.ObjUtil.getNumber(n,"x"),l=_.ObjUtil.getNumber(n,"y"),u=_.ObjUtil.getNumber(n,"r"),c=_.ObjUtil.getNumber(n,"sx",1);this._content.position.set(s,l),this._content.rotation=-u/180*Math.PI*(e?1:-1),this._content.scale.x=this._base_scale*c*i*(e?1:-1),this._content.scale.y=this._base_scale*Math.abs(c)}else this._content.position.set(0,0),this._content.rotation=0,this._content.scale.x=this._base_scale*i*(e?1:-1),this._content.scale.y=this._base_scale;138==t&&(this._content.scale.x*=1.4,this._content.scale.y*=1.4),this._baseY=this._content.y,this._rad_accel=60*(.05+.05*Math.random())/createjs.Ticker.framerate},e.prototype.activate=function(){var t=this;if(null==this._t){var e=createjs.Ticker.framerate,i=function(){t._rad+=t._rad_accel,t._content.y=t._baseY+900/e*Math.sin(t._rad),t._threshold+=1/e,t._threshold>1/30&&(t._threshold=0,t._direction=!t._direction,t._content.y+=t._direction?1:-1)};this._t=createjs.Tween.get(this,{loop:!0,onChange:i})}},e.prototype.deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(s.Container);e.Plane=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(2),a=i(12),_=i(13),l=i(24),u=i(44),c=i(453),h=i(454),p=function(t){function e(e,i,n,o,r){var s=t.call(this)||this;s._attacker=e,s._slot=i,s._showStatus=o,s._showTelop=r,s._friend=s._attacker.friend;var a=s._friend?-162:435;s._base_pos=new PIXI.Point(a,-131),s._view=new c.CutinCanvas;var _=Math.floor(3*Math.random());return s._telop=new h.CutinTelop(_,n),1==s._showTelop?s._preload_task=new d(e,i):s._preload_task=new d(e,null),s}return n(e,t),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0}),e.prototype.getPreloadTask=function(){return this._preload_task},e.prototype._start=function(){var t=this._attacker.mst_id,e=this._attacker.isDamaged(),i=r.default.resources.getShip(t,e,"full"),n=new a.Sprite(i),o=new u.ShipFlash(i),s=r.default.model.ship_graph.get(t),_=s.getBattleOffset(e);n.x=o.x=_.x,n.y=o.y=_.y;var l=this._friend?1:-1,c=Math.floor(4*Math.random());0==c?this.play_type1(n,o,l):1==c?this.play_type2(n,o,l,_):2==c?this.play_type3(n,o,l):this.play_type4(n,o,l,_),this._view.chara.addChild(n),this._view.chara.addChild(o),this._animBox(this._attacker,this._slot),this._animTelop(this._slot,this._attacker.friend)},e.prototype.play_type1=function(t,e,i){var n=this;this._view.chara.position.set(this._base_pos.x-180*i,this._base_pos.y+120),this._view.chara.alpha=0;var o=createjs.Tween.get(this._view.chara).to({x:this._base_pos.x-30*i,y:this._base_pos.y+15,alpha:1},300).to({x:this._base_pos.x,y:this._base_pos.y},250);this._addAttackTween(e,o),o.to({x:this._base_pos.x+38*i,y:this._base_pos.y-23},135),o.to({x:this._base_pos.x+135*i,y:this._base_pos.y-75,alpha:0},335),o.call(function(){n._tweenEnd(e)})},e.prototype.play_type2=function(t,e,i,n){var o=this;this._view.chara.position.set(this._base_pos.x,this._base_pos.y);var r=344-n.x,s=597-n.y;t.x+=r,t.y+=s,t.anchor.set(r/t.width,s/t.height),t.scale.set(1.25),t.alpha=0,e.position=t.position,e.anchor=t.anchor,e.scale=t.scale,e.alpha=t.alpha;var a=createjs.Tween.get(t).to({scaleX:1,scaleY:1,alpha:1},533,createjs.Ease.sineOut);a.call(function(){e.scale.x=1,e.scale.y=1}),this._addAttackTween(e,a),a.call(function(){createjs.Tween.get(e).to({scaleX:1.25,scaleY:1.25},466)}),a.to({scaleX:1.25,scaleY:1.25,alpha:0},466),a.call(function(){o._tweenEnd(e)})},e.prototype.play_type3=function(t,e,i){var n=this;this._view.chara.position.set(this._base_pos.x-180*i,this._base_pos.y),this._view.chara.alpha=0;var o=createjs.Tween.get(this._view.chara).to({x:this._base_pos.x-30*i,alpha:1},300).to({x:this._base_pos.x},250);this._addAttackTween(e,o),o.to({x:this._base_pos.x+78*i,alpha:0},466),o.call(function(){n._tweenEnd(e)})},e.prototype.play_type4=function(t,e,i,n){var o=this;this._view.chara.position.set(this._base_pos.x-180*i,this._base_pos.y),this._view.chara.alpha=0;var r=344-n.x,s=597-n.y;t.x+=r,t.y+=s,t.anchor.set(r/t.width,s/t.height),e.position=t.position,e.anchor=t.anchor;var a=createjs.Tween.get(this._view.chara).to({x:this._base_pos.x-30*i,alpha:1},300).to({x:this._base_pos.x},250);this._addAttackTween(e,a),a.call(function(){createjs.Tween.get(t).to({scaleY:1.66,alpha:0},466),createjs.Tween.get(e).to({scaleY:1.66},466).call(function(){o._tweenEnd(e)})})},e.prototype._tweenEnd=function(t){t.parent.removeChild(t),this._endTask()},e.prototype._addAttackTween=function(t,e){var i=this;return e.call(function(){i._view.emit("attack"),t.play()}),e.wait(135),e},e.prototype._animBox=function(t,e){if(null!=t&&null!=e&&0!=this._showStatus){var i=this._view.box;i.initilize(t);var n=0;1==t.friend?i.x=-60:(n=o.default.width-i.width,i.x=n+60),i.y=o.default.height-i.height,i.alpha=0,createjs.Tween.get(i).wait(220).to({x:n,alpha:1},165).wait(900).to({alpha:0},200)}},e.prototype._animTelop=function(t,e){null!=t&&0!=this._showTelop&&(this._telop.initialize(t.mstID,e),this._view.addChildAt(this._telop,0),this._telop.play())},e.prototype._endTask=function(){this._attacker=null,this._slot=null,this._base_pos=null,null!=this._view.parent&&this._view.parent.removeChild(this._view),this._view.dispose(),this._view=null,this._telop=null,this._preload_task=null,t.prototype._endTask.call(this)},e}(s.TaskBase);e.CutinAttack=p;var d=function(t){function e(e,i){var n=t.call(this)||this;return n._attacker=e,n._slot=i,n}return n(e,t),e.prototype._start=function(){this._loadShipImage()},e.prototype._loadShipImage=function(){var t=this,e=new _.ShipLoader;e.add(this._attacker.mst_id,this._attacker.isDamaged(),"full"),e.load(function(){t._loadSlotTextImage()})},e.prototype._loadSlotTextImage=function(){var t=this;if(null!=this._slot){var e=new l.SlotLoader;e.add(this._slot.mstID,"btxt_flat"),e.load(function(){t._endTask()})}else this._endTask()},e}(s.TaskBase)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.FILTERING_CATEGORIES={1:[6,56],2:[7,8,57,58],3:[9,10,11,25,26,45,59,94],4:[1,2,3,38],5:[4,21],6:[5,22,32],7:[14,15,40],8:[12,13,93],9:[24,30,46,50],10:[43,44],11:[41,47,49]},t.SLOTITEM_RARITY_NAMES=["\u30b3\u30e2\u30f3","\u30ec\u30a2","\u30db\u30ed","S\u30db\u30ed","SS\u30db\u30ed","SS\u30db\u30ed","SS\u30db\u30ed+","SS++"],t}();e.SlotConst=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(){}return t.getMapBGMID=function(t,e){var i=n.default.model.mst_bgm.getMapBGM(t,e);return i>0?{id:i,battle_bgm:!0}:{id:103,battle_bgm:!1}},t}();e.MapConst=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.init=function(t,e,i,n,o,r){void 0===n&&(n=16),void 0===o&&(o=0),void 0===r&&(r="font_j");var s=this._editArea;s.style.left=t+"px",s.style.top=e+"px",s.style.width=i+"px";var a=this._editBox;a.style.fontFamily="'"+r+"'",a.style.width=s.style.width,a.style.fontSize=s.style.fontSize=n+"pt",a.style.color="#"+("000000"+o.toString(16)).slice(-6)},t.setVisibility=function(t){this._editArea.style.display=t?"block":"none"},Object.defineProperty(t,"text",{get:function(){return this._editBox.value},set:function(t){this._editBox.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"width",{set:function(t){this._editBox.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"height",{set:function(t){this._editBox.height=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onkeyup",{get:function(){return this._editBox.onkeyup},set:function(t){this._editBox.onkeyup=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"oninput",{set:function(t){this._editBox.oninput=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onkeydown",{get:function(){return this._editBox.onkeydown},set:function(t){this._editBox.onkeydown=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"visible",{get:function(){return this._editArea.style.display},enumerable:!0,configurable:!0}),t.onLengthCheck=function(t,e,i){var n=this;void 0===t&&(t=12);var o=null;this.onkeydown=function(t){o=t.keyCode,i&&i()},this.onkeyup=function(e){o!=e.keyCode&&"Enter"!=e.key||n.text.length>t&&(n.text=n.text.slice(0,t))},this.oninput=function(){e&&e()}},t.onEventDestroy=function(){this.onkeydown=null,this.onkeyup=null,this.oninput=null},Object.defineProperty(t,"_editArea",{get:function(){return window.document.getElementById("r_editarea")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"_editBox",{get:function(){return window.document.getElementById("r_editbox")},enumerable:!0,configurable:!0}),t.validation=function(t,e,i){return void 0===i&&(i=!0),""!=t&&(0!=t.length&&((!t.match(/^\s*$|^\u3000*$/)||!i)&&(t!=e&&!(t.length>12))))},t}();e.EditTextBoxUtil=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(46),s=function(t){function e(e,i,n){void 0===i&&(i=null),void 0===n&&(n=null);var o=t.call(this)||this;return o._mst_id=e,o._name=i,o._message=n,o}return n(e,t),Object.defineProperty(e.prototype,"mst_id",{get:function(){return this._mst_id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){if(null!=this._name&&this._name.length>0)return this._name;var t=o.default.model.furniture.getData(this._mst_id);return null==t?"":t.name},enumerable:!0,configurable:!0}),e}(r.RewardModel);e.RewardModelFurniture=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(46),s=function(t){function e(e,i,n){void 0===n&&(n=null);var o=t.call(this)||this;return o._mst_id=e,o._count=i,o._message=n,o}return n(e,t),Object.defineProperty(e.prototype,"mst_id",{get:function(){return this._mst_id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){var t=o.default.model.slot.get(this._mst_id);return null==t?"":t.name},enumerable:!0,configurable:!0}),e}(r.RewardModel);e.RewardModelSlotitem=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(7),s=i(28),a=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"mstID",{get:function(){return r.ObjUtil.getNumber(this._o,"api_ship_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"memID",{get:function(){return r.ObjUtil.getNumber(this._o,"api_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return o.default.model.ship.getMst(this.mstID).name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yomi",{get:function(){return o.default.model.ship.getMst(this.mstID).yomi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return r.ObjUtil.getNumber(this._o,"api_lv")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hpMax",{get:function(){return r.ObjUtil.getNumber(this._o,"api_maxhp")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hpNow",{get:function(){return r.ObjUtil.getNumber(this._o,"api_nowhp")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tired",{get:function(){return r.ObjUtil.getNumber(this._o,"api_cond")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"karyoku",{get:function(){var t=r.ObjUtil.getNumArray(this._o,"api_karyoku");return null!=t&&t.length>0?t[0]:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"soukou",{get:function(){var t=r.ObjUtil.getNumArray(this._o,"api_soukou");return null!=t&&t.length>0?t[0]:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"raisou",{get:function(){var t=r.ObjUtil.getNumArray(this._o,"api_raisou");return null!=t&&t.length>0?t[0]:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kaihi",{get:function(){var t=r.ObjUtil.getNumArray(this._o,"api_kaihi");return null!=t&&t.length>0?t[0]:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"taiku",{get:function(){var t=r.ObjUtil.getNumArray(this._o,"api_taiku");return null!=t&&t.length>0?t[0]:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"taisen",{get:function(){var t=r.ObjUtil.getNumArray(this._o,"api_taisen");return null!=t&&t.length>0?t[0]:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"taisenMin",{get:function(){return this._taisen[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"taisenMax",{get:function(){return this._taisen[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_taisen",{get:function(){return r.ObjUtil.getNumArray(this._o,"api_taisen")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sakuteki",{get:function(){var t=r.ObjUtil.getNumArray(this._o,"api_sakuteki");return null!=t&&t.length>0?t[0]:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lucky",{get:function(){var t=r.ObjUtil.getNumArray(this._o,"api_lucky");return null!=t&&t.length>0?t[0]:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"speed",{get:function(){return r.ObjUtil.getNumber(this._o,"api_soku")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"speedType",{get:function(){return s.ShipUtil.getSpeedType(this.speed)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return r.ObjUtil.getNumber(this._o,"api_leng")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tousai",{get:function(){return o.default.model.ship.getMst(this.mstID).tousai},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"taikyu",{get:function(){return this.hpMax},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expNextLevel",{get:function(){var t=r.ObjUtil.getNumArray(this._o,"api_exp");return null==t||t.length<2?0:t[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expNowRate",{get:function(){var t=r.ObjUtil.getNumArray(this._o,"api_exp");return null==t||t.length<3?0:t[2]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"starNum",{get:function(){return r.ObjUtil.getNumber(this._o,"api_srate")+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slotNum",{get:function(){return o.default.model.ship.getMst(this.mstID).slotNum},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shipTypeID",{get:function(){return o.default.model.ship.getMst(this.mstID).shipTypeID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shipTypeName",{get:function(){return o.default.model.ship.getMst(this.mstID).shipTypeName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fuelNow",{get:function(){return r.ObjUtil.getNumber(this._o,"api_fuel")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ammoNow",{get:function(){return r.ObjUtil.getNumber(this._o,"api_bull")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fuelMax",{get:function(){return o.default.model.ship.getMst(this.mstID).fuelMax},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ammoMax",{get:function(){return o.default.model.ship.getMst(this.mstID).ammoMax},enumerable:!0,configurable:!0}),t.prototype.getClassType=function(){return o.default.model.ship.getMst(this.mstID).getClassType()},t.prototype.getFuelForSupply=function(){var t=this.fuelMax-this.fuelNow;return t=Math.max(0,t),t>0&&this.isMarriage()&&(t=Math.floor(.85*t),t=Math.max(t,1)),t},t.prototype.getAmmoForSupply=function(){var t=this.ammoMax-this.ammoNow;return t=Math.max(0,t),t>0&&this.isMarriage()&&(t=Math.floor(.85*t),t=Math.max(t,1)),t},t.prototype.getBauxForSupply=function(){for(var t=0,e=0;e<this.slotNum;e++){var i=this.getSlotitemTousai(e),n=this.getSlotitemTousaiMax(e),o=this.getSlotitems()[e];o&&41==o.equipTypeSp&&(n=1);t+=5*(n-i)}return t},Object.defineProperty(t.prototype,"sortNo",{get:function(){return o.default.model.ship.getMst(this.mstID).sortNo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gradeUpHoug",{get:function(){return this._kyouka[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gradeUpRaig",{get:function(){return this._kyouka[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gradeUpTyku",{get:function(){return this._kyouka[2]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gradeUpSouk",{get:function(){return this._kyouka[3]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gradeUpLuck",{get:function(){return this._kyouka[4]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gradeUpTaikyu",{get:function(){return this._kyouka[5]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gradeUpTaisen",{get:function(){return this._kyouka[6]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_kyouka",{get:function(){return r.ObjUtil.getNumArray(this._o,"api_kyouka",[0,0,0,0,0,0,0])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return r.ObjUtil.getNumber(this._o,"api_sally_area")},enumerable:!0,configurable:!0}),t.prototype.isLocked=function(){return 1==r.ObjUtil.getNumber(this._o,"api_locked")},t.prototype.hasLockedSlotitem=function(){return 1==r.ObjUtil.getNumber(this._o,"api_locked_equip")},t.prototype.getSlotitems=function(){for(var t=[],e=r.ObjUtil.getNumArray(this._o,"api_slot"),i=0;i<this.slotNum;i++){var n=-1;null!=e&&e.length>i&&(n=e[i]),n<=0?t.push(null):t.push(o.default.model.slot.get(n))}return t},t.prototype.getSlotViewMax=function(){var t=r.ObjUtil.getNumber(this._o,"api_slotnum");return t>4?t:4},t.prototype.getSlotitemTousai=function(t){var e=r.ObjUtil.getNumArray(this._o,"api_onslot");return null!=e&&e.length>t?e[t]:0},t.prototype.getSlotitemTousaiMax=function(t){return o.default.model.ship.getMst(this.mstID).getSlotitemTousaiMax(t)},t.prototype.isExtraSlot=function(){return 0!=r.ObjUtil.getNumber(this._o,"api_slot_ex")},t.prototype.getSlotitemEx=function(){var t=r.ObjUtil.getNumber(this._o,"api_slot_ex");return t>=0?o.default.model.slot.get(t):null},t.prototype.getDamageType=function(){return s.ShipUtil.getDamageType(this.hpNow,this.hpMax)},t.prototype.isDamaged=function(){return s.ShipUtil.isDamaged(this.hpNow,this.hpMax)},t.prototype.isMarriage=function(){return s.ShipUtil.isMarriage(this.level)},t.prototype.isRepair=function(){return-1<o.default.model.ndock.getShipMemIDs().indexOf(this.memID)},t.prototype.getRepairFuel=function(){return r.ObjUtil.getNumArray(this._o,"api_ndock_item",[0,0])[0]},t.prototype.getRepairSteel=function(){return r.ObjUtil.getNumArray(this._o,"api_ndock_item",[0,0])[1]},t.prototype.getRepairTime=function(){return r.ObjUtil.getNumber(this._o,"api_ndock_time",0)},t.prototype.getMaterialForBroken=function(t){var e=o.default.model.ship.getMst(this.mstID).getMaterialForBroken();if(1==t){var i=this.getSlotitems(),n=this.getSlotitemEx();i=i.concat(n);for(var r=0,s=i;r<s.length;r++){var a=s[r];if(null!=a){var _=o.default.model.slot.getMst(a.mstID);if(null!=_){var l=_.getMaterialsFromBroken();e.fuel+=l.fuel,e.ammo+=l.ammo,e.steel+=l.steel,e.baux+=l.baux}}}}return e},Object.defineProperty(t.prototype,"VHP",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"VAS",{get:function(){return 9},enumerable:!0,configurable:!0}),t}();e.ShipModel=a;var _=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.__update__=function(t){this._o=t},e.prototype.__setLocked__=function(t){this._o.api_locked=t?1:0},e.prototype.__updateAmmo__=function(t){this._o.api_bull=t},e.prototype.__updateFuel__=function(t){this._o.api_fuel=t},e.prototype.__updateOnSlot__=function(t){this._o.api_onslot=t},e.prototype.__updateSlot__=function(t,e){this._o.api_slot[t]=e},e.prototype.__updateSlotAll__=function(t){this._o.api_slot=t},e.prototype.__updateExtraSlot__=function(t){this._o.api_slot_ex=-1},e.prototype.__updateNowHp__=function(t){this._o.api_nowhp=t},e.prototype.__updateNDockTime__=function(t){this._o.api_ndock_time=t},e.prototype.__updateNDockItem__=function(t){this._o.api_ndock_item=t},e.prototype.__updateCond__=function(t){this._o.api_cond=t},e}(a);e.ShipModelEdit=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=function(t){function e(i){var n=t.call(this)||this;return n._aborted=!1,n._sprite=i,null==e._queue&&(e._queue=[]),n}return n(e,t),e.abortAll=function(){e._queue=[],null!=e._current&&(e._current._abort(),e._current=null)},e.abortBy=function(t){if(null!=t){if(null!=e._queue){for(var i=[],n=0,o=e._queue;n<o.length;n++){var r=o[n];0==r._isChildElement(t)?i.push(r):r._log("discard")}e._queue=i}if(null!=e._current){var s=e._current;1==s._isChildElement(t)&&(s._log("stop(current)"),s._abort(),e._current=null)}}},e.prototype.start=function(){if(null==e._current)e._current=this,this._start();else{for(var t=[],i=0,n=e._queue;i<n.length;i++){var o=n[i];o._sprite!=this._sprite?t.push(o):o._log("discard(same sprite)")}e._queue=t,e._queue.push(this);var r=e._current;r._sprite==this._sprite&&(r._sprite=null)}},e.prototype._abort=function(){this._aborted=!0,this._endTask()},e.prototype._endTask=function(){this._sprite=null,t.prototype._endTask.call(this)},e.prototype._completedEnd=function(){t.prototype._completedEnd.call(this),0==this._aborted&&this._next()},e.prototype._failedEnd=function(){t.prototype._failedEnd.call(this),0==this._aborted&&this._next()},e.prototype._next=function(){if(e._current=null,0!=e._queue.length){var t=e._queue.shift();e._current=t,t._start()}},e.prototype._isChildElement=function(t){if(null==this._sprite)return!1;for(var e=this._sprite;null!=e&&e!=t;)e=e.parent;return null!=e},e._current=null,e._queue=null,e}(o.TaskBase);e.TaskLoadBase=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(14),s=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.setDay=function(t){this._load("bg_h",t)},e.prototype.setNight=function(t){this._load("bg_y",t)},e.prototype.dispose=function(){this._loader=null},e.prototype._load=function(t,e){var i=this,n=r.UIImageLoader.getVersion("map");n=n?"?version="+n:"";var s=o.default.settings.path_root+"img/common/bg_map/"+t+".png"+n;if(null!=PIXI.utils.TextureCache[s]&&(this.texture=PIXI.utils.TextureCache[s],null!=e))return void e();this._loader=new PIXI.loaders.Loader,this._loader.add(s),this._loader.load(function(t){if(i._loader==t){i._loader=null;var n=t.resources[s];i.texture=n.texture,null!=e&&e()}})},e}(PIXI.Sprite);e.MapBG=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("common_expedition_"+t)}t.getTexture=e}(e.COMMON_EXPEDITION||(e.COMMON_EXPEDITION={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=function(t){function e(){var e=t.call(this)||this;return e._ground=!1,e}return n(e,t),e.prototype.initialize=function(t){this._ground=t},e.prototype.setDamagedIcon=function(t){if(25==t){var e=this._ground?107:109;this.texture=o.COMMON_MISC.getTexture(e),this.visible=!0}else if(50==t){var e=this._ground?106:99;this.texture=o.COMMON_MISC.getTexture(e),this.visible=!0}else if(75==t){var e=this._ground?104:105;this.texture=o.COMMON_MISC.getTexture(e),this.visible=!0}else if(0==t){var e=this._ground?103:102;this.texture=o.COMMON_MISC.getTexture(e),this.visible=!0}else this.clear()},e.prototype.setExpeditionIcon=function(){this.texture=o.COMMON_MISC.getTexture(100),this.visible=!0},e.prototype.setRepairIcon=function(){this.texture=o.COMMON_MISC.getTexture(108),this.visible=!0},e.prototype.setTaihiIcon=function(){this.texture=o.COMMON_MISC.getTexture(110),this.visible=!0},e.prototype.clear=function(){this.texture=PIXI.Texture.EMPTY,this.visible=!1},e}(PIXI.Sprite);e.BannerIcon=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.update=function(t){25==t?(this.texture=o.COMMON_MISC.getTexture(98),this.visible=!0):50==t?(this.texture=o.COMMON_MISC.getTexture(96),this.visible=!0):75==t?(this.texture=o.COMMON_MISC.getTexture(97),this.visible=!0):this.clear()},e.prototype.clear=function(){this.texture=PIXI.Texture.EMPTY,this.visible=!1},e}(PIXI.Sprite);e.BannerSoot=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("port_main_"+t)}t.getTexture=e}(e.PORT_MAIN||(e.PORT_MAIN={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(107),r=function(t){function e(){var e=t.call(this)||this;return e._w1=new s,e._w2=new s,e.addChild(e._w1),e.addChild(e._w2),e}return n(e,t),e.prototype.initialize=function(){this._w1.initialize(),this._w2.initialize()},e.prototype.dispose=function(){this._w1.dispose(),this._w2.dispose()},e.prototype.startAnimation=function(){this._w1.startAnimation(900),this._w2.startAnimation()},e.prototype.stopAnimation=function(){this._w1.stopAnimation(),this._w2.stopAnimation()},e}(PIXI.Container);e.RingMenuWaves=r;var s=function(t){function e(){var e=t.call(this)||this;return e.scale.set(0,0),e}return n(e,t),e.prototype.initialize=function(){this.texture=o.PORT_RINGMENU.getTexture(31),this.anchor.set(.5,.5)},e.prototype.dispose=function(){this.stopAnimation()},e.prototype.startAnimation=function(t){var e=this;void 0===t&&(t=0),this.stopAnimation(),t>0?this._waitTween=createjs.Tween.get(null).wait(t).call(function(){e._startAnimation()}):this._startAnimation()},e.prototype._startAnimation=function(){null!=this._waitTween&&(this._waitTween.setPaused(!0),this._waitTween=null);var t=createjs.Tween.get(this.scale,{loop:!0}).to({x:.75,y:.75},1100).to({x:1,y:1},400).set({x:0,y:0}),e=createjs.Tween.get(this,{loop:!0}).wait(1100).to({alpha:0},400).set({alpha:1});this._t=new createjs.Timeline([t,e],null,null),this._t.loop=!0},e.prototype.stopAnimation=function(){null!=this._waitTween&&(this._waitTween.setPaused(!0),this._waitTween=null),null!=this._t&&(this._t.setPaused(!0),this._t=null),this.scale.set(0,0),this.alpha=1},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=function(t){function e(){var e=t.call(this)||this;return e._url="api_get_member/basic",e}return n(e,t),e.prototype._completedEnd=function(){o.default.model.basic.setUserData(this._raw_data),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.UserDataAPI=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.BUY=0,t.COMMENT=1,t.DECK_NAME=2,t.NICK_NAME=3,t.AIRUNIT_DECK_NAME=4,t}();e.PostMessageType=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("supply_main_"+t)}t.getTexture=e}(e.SUPPLY_MAIN||(e.SUPPLY_MAIN={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=function(t){function e(){var e=t.call(this)||this;return e.texture=PIXI.Texture.EMPTY,e}return n(e,t),e.prototype.update=function(t){switch(t){case 1:this.texture=o.COMMON_MISC.getTexture(173);break;case 2:this.texture=o.COMMON_MISC.getTexture(174);break;case 3:this.texture=o.COMMON_MISC.getTexture(175);break;case 4:this.texture=o.COMMON_MISC.getTexture(176);break;case 5:this.texture=o.COMMON_MISC.getTexture(177);break;case 6:this.texture=o.COMMON_MISC.getTexture(178);break;case 7:this.texture=o.COMMON_MISC.getTexture(179);break;default:this.texture=PIXI.Texture.EMPTY}},e.prototype.dispose=function(){this.texture=PIXI.Texture.EMPTY},e}(PIXI.Sprite);e.AirPlaneLevel=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(3),s=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Container,n=new PIXI.Sprite(r.COMMON_MAIN.getTexture(30)),s=new PIXI.Sprite(r.COMMON_MAIN.getTexture(29)),a=new o.TextBox(20,1949120),_=new PIXI.Sprite(r.COMMON_MAIN.getTexture(31));return n.width=18,n.height=18,s.position.set(17,3),a.position.set(30,-3),_.position.set(8,-6),i.addChild(n,s,a),e.starLevel=i,e.text=a,e.starMax=_,e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.starLevel.removeChildren(),this.text.destroy(),this.starLevel=null,this.text=null,this.starMax=null},e.prototype.update=function(t){this.removeChildren(),10<=t?this.addChild(this.starMax):0<t&&(this.addChild(this.starLevel),this.text.text=t.toString())},e}(PIXI.Container);e.SlotItemLevel=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(18),s=i(703),a=i(704),_=i(705),l=i(320),u=i(321),c=i(322);!function(t){function e(){switch(r.MAMIYA_IRAKO_SEASON){case 4:i=new m;break;case 3:i=new y;break;case 2:i=new f;break;case 1:i=new d;break;default:i=new p}return i}t.EXTENDS_MAX=15,t.MAMIYA_DIALOG_VOICE=[[11,12],[50,50]],t.IRAKO_DIALOG_VOICE=[[13,14],[50,50]],t.MAMIYA_AND_IRAKO_DIALOG_VOICE=[[15,16],[50,50]],t.MAMIYA_MAX_EFFECT=24,t.MAMIYA_EFFECT_WAIT=100*(t.MAMIYA_MAX_EFFECT/2-1)+400;var i=null;t.getMamiyaOption=e}(e.OrganizeConst||(e.OrganizeConst={}));var h=function(){function t(){}return t.prototype.playVoiceDialogMamiya=function(){o.default.sound.voice.playAtRandom("9999",[11,12],[50,50])},t.prototype.playVoiceDialogIrako=function(){o.default.sound.voice.playAtRandom("9999",[13,14],[50,50])},t.prototype.playVoiceDialogMamiyaIrako=function(){o.default.sound.voice.playAtRandom("9999",[15,16],[50,50])},t.prototype.playVoiceAnimationMamiya=function(){o.default.sound.voice.playAtRandom("9999",[21,22],[50,50])},t.prototype.playVoiceAnimationIrako=function(){o.default.sound.voice.playAtRandom("9999",[23,24],[50,50])},t.prototype.playVoiceAnimationMamiyaIrako=function(){o.default.sound.voice.playAtRandom("9999",[25,26],[50,50])},t}();e.MamiyaOption=h;var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._DIALOG=s.ORGANIZE_HOKYU_DIALOG_DEFAULT,e._ANIMATION=l.ORGANIZE_MAMIYA_ANIMATION_DEFAULT,e}return n(e,t),Object.defineProperty(e.prototype,"res_info3",{get:function(){return this._DIALOG.getTexture(6)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_info4",{get:function(){return this._DIALOG.getTexture(7)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_info5",{get:function(){return this._DIALOG.getTexture(8)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_info6",{get:function(){return this._DIALOG.getTexture(9)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_mamiya",{get:function(){return this._DIALOG.getTexture(4)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_mamiya_g",{get:function(){return this._DIALOG.getTexture(5)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_irako",{get:function(){return this._DIALOG.getTexture(0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_irako_g",{get:function(){return this._DIALOG.getTexture(1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_m_i",{get:function(){return this._DIALOG.getTexture(2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_m_i_g",{get:function(){return this._DIALOG.getTexture(3)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_mamiya",{get:function(){return this._ANIMATION.getTexture(0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_irako",{get:function(){return this._ANIMATION.getTexture(1)},enumerable:!0,configurable:!0}),e}(h),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._DIALOG=s.ORGANIZE_HOKYU_DIALOG_DEFAULT,e._ANIMATION=l.ORGANIZE_MAMIYA_ANIMATION_DEFAULT,e}return n(e,t),Object.defineProperty(e.prototype,"res_info3",{get:function(){return this._DIALOG.getTexture(6)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_info4",{get:function(){return this._DIALOG.getTexture(7)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_info5",{get:function(){return this._DIALOG.getTexture(8)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_info6",{get:function(){return this._DIALOG.getTexture(9)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_mamiya",{get:function(){return this._DIALOG.getTexture(4)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_mamiya_g",{get:function(){return this._DIALOG.getTexture(5)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_irako",{get:function(){return this._DIALOG.getTexture(0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_irako_g",{get:function(){return this._DIALOG.getTexture(1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_m_i",{get:function(){return this._DIALOG.getTexture(2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_m_i_g",{get:function(){return this._DIALOG.getTexture(3)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_mamiya",{get:function(){return this._ANIMATION.getTexture(0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_irako",{get:function(){return this._ANIMATION.getTexture(1)},enumerable:!0,configurable:!0}),e.prototype.playVoiceDialogMamiya=function(){o.default.sound.voice.playAtRandom("9999",[27,12],[50,50])},e.prototype.playVoiceDialogIrako=function(){o.default.sound.voice.playAtRandom("9999",[28,14],[50,50])},e}(h),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._DIALOG=a.ORGANIZE_HOKYU_DIALOG_XMAS,e._ANIMATION=u.ORGANIZE_MAMIYA_ANIMATION_XMAS,e}return n(e,t),Object.defineProperty(e.prototype,"res_info3",{get:function(){return this._DIALOG.getTexture(6)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_info4",{get:function(){return this._DIALOG.getTexture(7)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_info5",{get:function(){return this._DIALOG.getTexture(8)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_info6",{get:function(){return this._DIALOG.getTexture(9)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_mamiya",{get:function(){return this._DIALOG.getTexture(4)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_mamiya_g",{get:function(){return this._DIALOG.getTexture(5)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_irako",{get:function(){return this._DIALOG.getTexture(0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_irako_g",{get:function(){return this._DIALOG.getTexture(1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_m_i",{get:function(){return this._DIALOG.getTexture(2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_m_i_g",{get:function(){return this._DIALOG.getTexture(3)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_mamiya",{get:function(){return this._ANIMATION.getTexture(0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_irako",{get:function(){return this._ANIMATION.getTexture(1)},enumerable:!0,configurable:!0}),e.prototype.playVoiceDialogMamiya=function(){o.default.sound.voice.playAtRandom("9999",[17,12],[50,50])},e.prototype.playVoiceDialogIrako=function(){o.default.sound.voice.playAtRandom("9999",[18,14],[50,50])},e.prototype.playVoiceAnimationMamiyaIrako=function(){o.default.sound.voice.playAtRandom("9999",[17,18],[50,50])},e}(h),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._DIALOG=s.ORGANIZE_HOKYU_DIALOG_DEFAULT,e._ANIMATION=l.ORGANIZE_MAMIYA_ANIMATION_DEFAULT,e}return n(e,t),Object.defineProperty(e.prototype,"res_info3",{get:function(){return this._DIALOG.getTexture(6)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_info4",{get:function(){return this._DIALOG.getTexture(7)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_info5",{get:function(){return this._DIALOG.getTexture(8)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_info6",{get:function(){return this._DIALOG.getTexture(9)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_mamiya",{get:function(){return this._DIALOG.getTexture(4)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_mamiya_g",{get:function(){return this._DIALOG.getTexture(5)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_irako",{get:function(){return this._DIALOG.getTexture(0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_irako_g",{get:function(){return this._DIALOG.getTexture(1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_m_i",{get:function(){return this._DIALOG.getTexture(2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_m_i_g",{get:function(){return this._DIALOG.getTexture(3)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_mamiya",{get:function(){return this._ANIMATION.getTexture(0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_irako",{get:function(){return this._ANIMATION.getTexture(1)},enumerable:!0,configurable:!0}),e.prototype.playVoiceDialogMamiya=function(){o.default.sound.voice.playAtRandom("9999",[37,12],[50,50])},e.prototype.playVoiceDialogIrako=function(){o.default.sound.voice.playAtRandom("9999",[38,14],[50,50])},e}(h),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._DIALOG=_.ORGANIZE_HOKYU_DIALOG_SUMMER,e._ANIMATION=c.ORGANIZE_MAMIYA_ANIMATION_SUMMER,e}return n(e,t),Object.defineProperty(e.prototype,"res_info3",{get:function(){return this._DIALOG.getTexture(6)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_info4",{get:function(){return this._DIALOG.getTexture(7)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_info5",{get:function(){return this._DIALOG.getTexture(8)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_info6",{get:function(){return this._DIALOG.getTexture(9)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_mamiya",{get:function(){return this._DIALOG.getTexture(4)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_mamiya_g",{get:function(){return this._DIALOG.getTexture(5)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_irako",{get:function(){return this._DIALOG.getTexture(0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_irako_g",{get:function(){return this._DIALOG.getTexture(1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_m_i",{get:function(){return this._DIALOG.getTexture(2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_btn_m_i_g",{get:function(){return this._DIALOG.getTexture(3)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_mamiya",{get:function(){return this._ANIMATION.getTexture(0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"res_irako",{get:function(){return this._ANIMATION.getTexture(1)},enumerable:!0,configurable:!0}),e}(h)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return t<50?4999235:t<80?1949146:t<100?1015126:t>=100?10775819:void 0}t.getLevelColor=e}(e.ColorUtil||(e.ColorUtil={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(759),r=i(760),s=i(10),a=function(t){function e(e,i,n,o){var a=t.call(this)||this;a._nowLevel=0,a.PLACE_INFOS=e;var _={},l={},u=new PIXI.Container,c=[],h=0;for(var p in e)if(!1!==e.hasOwnProperty(p)){var d=e[p];for(var f in d)if(!1!==d.hasOwnProperty(f)){var y=i.clone(),m=d[f],g=m.x,v=m.y,b=m.r;y.x=g,y.y=v,y.rotation=Math.PI/180*b,_[f]=y,l[f]=createjs.Tween.get(y),u.addChild(y),c.push("m"+(h+1)),h++}}var w=new PIXI.Sprite(o),x=new PIXI.Sprite(s.COMMON_MISC.getTexture(18)),I=new r.SupplyFloor;I.position.set(0,165);var T=new PIXI.Graphics;return T.beginFill(0,0),T.drawRect(0,0,137,317),T.endFill(),a.addChild(I,w,x,u,T),a._materials=_,a._mask=T,a._floor=I,a._lastTweens=l,a._materialContainer=u,a._materialKeys=c,a.MAGIC_NUMBER=n,a.MATERIAL_COUNT=h,a}return n(e,t),e.prototype.dispose=function(){for(var t in this.PLACE_INFOS)if(!1!==this.PLACE_INFOS.hasOwnProperty(t)){var e=this.PLACE_INFOS[t];for(var i in e)if(!1!==e.hasOwnProperty(i)){var n=this._lastTweens[i],o=this._materials[i];n&&createjs.Tween.removeTweens(n.target),o&&o.dispose(),this._lastTweens[i]=null,this._materials[i]=null}}this._materialContainer.removeChildren(),this._floor.dispose(),this._materialKeys=null,this._nowLevel=null,this._lastTweens=null,this._materials=null,this._materialContainer=null,this._mask=null,this._floor=null,this._materialKeys=null,this._nowLevel=null,this.PLACE_INFOS=null,this.MATERIAL_COUNT=null,this.MAGIC_NUMBER=null,this.removeChildren()},e.prototype.update=function(t){var e=3*Math.ceil(t/this.MAGIC_NUMBER);e=Math.min(this.MATERIAL_COUNT,e);var i,n,o,r=this._nowLevel;r<e?(i=r,n=e,o=function(t){t.updateRandomTexture(),t.playAdd()}):r>e&&(i=e,n=r,o=function(t){t.playRemove()});for(var s=this,a=i;a<n;a++)!function(t){var e=s._materialKeys[t],n=s._materials[e],r=50*(t-i),a=createjs.Tween.get(n),_=s._lastTweens[e];a.wait(r).call(function(){_.setPaused(!0),o(n)}),s._lastTweens[e]=a}(a);this._nowLevel=e},e.prototype.playSupply=function(t){var e=this,i=this._nowLevel,n=function(){},o=function(){e._floor.close(t)},r=function(){for(var t=0;t<i;t++)!function(t){var r=e._materialKeys[t],s=e._materials[r],a=50*(t-0),_=createjs.Tween.get(s),l=n;t==i-1&&(l=o);var u=function(){return s.playDrop(l)};_.wait(a).call(u).play(null)}(t)};this._floor.open(r),this._nowLevel=0},e}(PIXI.Container),_=function(t){function e(){var e={floor_00:{m1:{x:50,y:167,r:0},m2:{x:83,y:161,r:0},m3:{x:65,y:168,r:0},m7:{x:32,y:162,r:0},m9:{x:98,y:156,r:0},m11:{x:17,y:159,r:0}},floor_01:{m4:{x:53,y:141,r:0},m5:{x:74,y:141,r:0},m8:{x:38,y:137,r:0},m12:{x:101,y:131,r:0},m13:{x:15,y:134,r:0},m14:{x:86,y:135,r:0}},floor_02:{m6:{x:65,y:116,r:0},m10:{x:35,y:110,r:0},m15:{x:50,y:114,r:0},m16:{x:83,y:108,r:0},m17:{x:18,y:107,r:0},m19:{x:98,y:104,r:0}},floor_03:{m18:{x:42,y:84,r:0},m20:{x:78,y:87,r:0},m21:{x:26,y:81,r:0},m22:{x:57,y:89,r:0},m23:{x:90,y:83,r:0}},floor_04:{m24:{x:90,y:56,r:0},m25:{x:57,y:62,r:0},m26:{x:72,y:63,r:0},m27:{x:27,y:54,r:0},m30:{x:39,y:57,r:0}},floor_05:{m28:{x:71,y:38,r:0},m29:{x:87,y:30,r:0},m32:{x:51,y:35,r:0},m31:{x:32,y:30,r:0}},floor_06:{m33:{x:80,y:8,r:0},m34:{x:39,y:8,r:0},m35:{x:60,y:11,r:0}},floor_07:{m36:{x:14,y:173,r:0},m37:{x:29,y:179,r:0},m38:{x:77,y:176,r:0},m39:{x:23,y:152,r:0},m40:{x:104,y:176,r:0}}},i=s.COMMON_MISC.getTexture(13);return t.call(this,e,new o.SupplyMaterial(0),50,i)||this}return n(e,t),e}(a);e.FuelContainer=_;var l=function(t){function e(){var e={floor_00:{m1:{x:27,y:174,r:0},m2:{x:66,y:177,r:-11.2},m3:{x:48,y:174,r:24.7},m4:{x:84,y:174,r:9.7},m5:{x:48,y:168,r:0},m6:{x:77,y:164,r:13.2},m7:{x:39,y:165,r:0},m8:{x:66,y:159,r:0},m9:{x:86,y:159,r:21.4},m10:{x:36,y:159,r:9.2}},floor_01:{m11:{x:23,y:152,r:0},m12:{x:68,y:167,r:42.3},m13:{x:59,y:153,r:24.7},m14:{x:77,y:150,r:.7},m15:{x:53,y:149,r:-22},m16:{x:80,y:149,r:33.6},m17:{x:26,y:146,r:-21},m18:{x:69,y:134,r:13.7},m19:{x:41,y:140,r:9.7},m20:{x:54,y:144,r:9.2}},floor_02:{m21:{x:21,y:129,r:0},m22:{x:62,y:134,r:-11.2},m23:{x:44,y:129,r:24.7},m24:{x:80,y:129,r:9.7},m25:{x:44,y:123,r:0},m26:{x:72,y:120,r:13.2},m27:{x:33,y:120,r:0},m28:{x:60,y:114,r:0},m29:{x:84,y:125,r:-26.2},m30:{x:32,y:114,r:9.2}},floor_03:{m31:{x:33,y:119,r:-23},m32:{x:69,y:108,r:21.2},m33:{x:26,y:95,r:24.7},m34:{x:14,y:105,r:9.7},m35:{x:51,y:114,r:-11.2},m36:{x:41,y:93,r:13.2},m37:{x:81,y:105,r:-1.5},m38:{x:75,y:99,r:-14.2},m39:{x:21,y:87,r:9.2},m40:{x:56,y:87,r:15.2}},floor_04:{m41:{x:24,y:80,r:0},m42:{x:65,y:89,r:-11.2},m43:{x:47,y:84,r:24.7},m44:{x:83,y:86,r:9.7},m45:{x:47,y:80,r:0},m46:{x:75,y:75,r:13.2},m47:{x:36,y:77,r:0},m48:{x:63,y:71,r:0},m49:{x:89,y:65,r:32.7},m50:{x:36,y:66,r:9.2}},floor_05:{m51:{x:21,y:72,r:0},m52:{x:69,y:63,r:21.2},m53:{x:26,y:56,r:24.7},m54:{x:20,y:71,r:9.7},m55:{x:51,y:74,r:-11.2},m56:{x:45,y:56,r:13.2},m57:{x:81,y:65,r:-1.5},m58:{x:75,y:59,r:-14.2},m59:{x:21,y:47,r:9.2},m60:{x:56,y:47,r:15.2}},floor_06:{m61:{x:21,y:41,r:0},m62:{x:62,y:45,r:-11.2},m63:{x:44,y:41,r:24.7},m64:{x:80,y:41,r:9.7},m65:{x:44,y:35,r:0},m66:{x:72,y:30,r:13.2},m67:{x:33,y:32,r:0},m68:{x:60,y:26,r:0},m69:{x:81,y:21,r:24.4},m70:{x:33,y:32,r:9.2}},floor_07:{m71:{x:29,y:32,r:-25.7},m72:{x:48,y:23,r:0},m73:{x:72,y:14,r:16},m74:{x:35,y:12,r:9.7},m75:{x:60,y:8,r:0},m76:{x:42,y:0,r:22.1},m77:{x:84,y:192,r:0},m78:{x:81,y:173,r:24.7},m79:{x:53,y:186,r:8},m80:{x:17,y:194,r:-5.5}}},i=s.COMMON_MISC.getTexture(3);return t.call(this,e,new o.SupplyMaterial(1),25,i)||this}return n(e,t),e}(a);e.AmmoContainer=l;var u=function(t){function e(){var e={floor_00:{m1:{x:24,y:174,r:0},m2:{x:63,y:177,r:-11.2},m3:{x:45,y:174,r:24.7},m4:{x:81,y:174,r:9.7},m5:{x:47,y:165,r:0},m6:{x:74,y:164,r:13.2},m7:{x:36,y:165,r:0},m8:{x:63,y:159,r:0},m9:{x:83,y:159,r:21.4},m10:{x:33,y:159,r:9.2}},floor_01:{m11:{x:23,y:152,r:0},m12:{x:68,y:167,r:42.3},m13:{x:59,y:153,r:24.7},m14:{x:77,y:150,r:.7},m15:{x:53,y:149,r:-22},m16:{x:80,y:149,r:33.6},m17:{x:26,y:146,r:-21},m18:{x:69,y:134,r:13.7},m19:{x:41,y:140,r:9.7},m20:{x:54,y:144,r:9.2}},floor_02:{m21:{x:21,y:129,r:0},m22:{x:62,y:134,r:-11.2},m23:{x:44,y:129,r:24.7},m24:{x:80,y:129,r:9.7},m25:{x:44,y:123,r:13.2},m26:{x:72,y:120,r:0},m27:{x:33,y:120,r:0},m28:{x:60,y:114,r:0},m29:{x:84,y:125,r:-26.2},m30:{x:32,y:114,r:9.2}},floor_03:{m31:{x:33,y:119,r:-23},m32:{x:69,y:104,r:21.2},m33:{x:26,y:95,r:24.7},m34:{x:14,y:105,r:9.7},m35:{x:51,y:114,r:-11.2},m36:{x:41,y:93,r:13.2},m37:{x:81,y:105,r:-1.5},m38:{x:75,y:99,r:-14.2},m39:{x:21,y:87,r:9.2},m40:{x:56,y:87,r:15.2}},floor_04:{m41:{x:24,y:80,r:0},m42:{x:65,y:89,r:-11.2},m43:{x:47,y:84,r:24.7},m44:{x:83,y:86,r:9.7},m45:{x:47,y:80,r:0},m46:{x:75,y:75,r:13.2},m47:{x:36,y:77,r:0},m48:{x:63,y:71,r:0},m49:{x:89,y:65,r:32.7},m50:{x:36,y:66,r:9.2}},floor_05:{m51:{x:21,y:72,r:-13.1},m52:{x:69,y:63,r:21.2},m53:{x:26,y:56,r:24.7},m54:{x:20,y:71,r:9.7},m55:{x:51,y:74,r:-11.2},m56:{x:45,y:56,r:13.2},m57:{x:81,y:65,r:-1.5},m58:{x:75,y:59,r:-14.2},m59:{x:21,y:47,r:9.2},m60:{x:56,y:47,r:15.2}},floor_06:{m61:{x:21,y:41,r:0},m62:{x:62,y:45,r:-11.2},m63:{x:44,y:41,r:24.7},m64:{x:80,y:41,r:9.7},m65:{x:44,y:35,r:0},m66:{x:72,y:30,r:13.2},m67:{x:33,y:32,r:0},m68:{x:60,y:26,r:0},m69:{x:81,y:21,r:24.4},m70:{x:32,y:26,r:9.2}},floor_07:{m71:{x:29,y:32,r:-25.7},m72:{x:48,y:23,r:0},m73:{x:72,y:14,r:16},m74:{x:35,y:12,r:9.7},m75:{x:60,y:8,r:0},m76:{x:42,y:0,r:22.1},m77:{x:84,y:192,r:0},m78:{x:81,y:173,r:24.7},m79:{x:53,y:186,r:8},m80:{x:17,y:194,r:-5.5}}},i=s.COMMON_MISC.getTexture(3);return t.call(this,e,new o.SupplyMaterial(2),25,i)||this}return n(e,t),e}(a);e.BauxContainer=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(7),s=i(9),a=function(t){function e(e){var i=t.call(this)||this;return i._url="api_get_member/ship3",i.api_id=e,i}return n(e,t),e.prototype._connect=function(){this._post_data.api_shipid=this.api_id,this._post_data.api_sort_key="1",this._post_data.spi_sort_order="1",t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e=r.ObjUtil.getObjectArray(this._raw_data,"api_deck_data"),i=r.ObjUtil.getObjectArray(this._raw_data,"api_ship_data"),n=r.ObjUtil.getObjectArray(this._raw_data,"api_slot_data");o.default.model.deck.setData(e);for(var s=0,a=i;s<a.length;s++){var _=a[s];o.default.model.ship.updateData(_)}o.default.model.slot.setUnsetData(n),t.prototype._completedEnd.call(this)},e}(s.APIBase);e.Ship3API=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=function(t){function e(){var e=t.call(this)||this;return e._url="api_get_member/material",e}return n(e,t),e.prototype._completedEnd=function(){o.default.model.useItem.setMaterialData(this._raw_data),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.MaterialAPI=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t.ITEM_IN_COUNT=10,t.OPEN_KEY_ITEMID=49}(e.RepairConst||(e.RepairConst={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(28),r=i(226),s=function(){function t(t,e,i,n,o,r,s){void 0===s&&(s=-1),this._karyoku=0,this._raisou=0,this._taiku=0,this._soukou=0,this._hp_init=0,this._hp_now=0,this._hp_max=0,this._taihi=!1,this._type=t,this._practice=e,this._index=i,this._mst_id=n,this._mem_id=o,this._level=r,this._speed=s,this._slots=[]}return t.convert=function(e,i,n,o){var s=o.mstID,a=o.memID,_=new t(e,i,n,s,a,o.level,o.speed);_.initializeHPInfo(o.hpNow,o.hpMax);for(var l=r.SlotitemModelReplica.converts(o.getSlotitems()),u=r.SlotitemModelReplica.convert(o.getSlotitemEx()),c=new Array,h=0;h<o.slotNum;h++)c.push(o.getSlotitemTousai(h));return _.initializeSlots(l,u,c),_.initializeParams(o.karyoku,o.raisou,o.taiku,o.soukou),_},Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"friend",{get:function(){return 0==this._type||2==this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mst_id",{get:function(){return this._mst_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mem_id",{get:function(){return this._mem_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"karyoku",{get:function(){return this._karyoku},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"raisou",{get:function(){return this._raisou},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"taiku",{get:function(){return this._taiku},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"soukou",{get:function(){return this._soukou},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"speed",{get:function(){if(this._speed<0){var t=n.default.model.ship.getMst(this.mst_id);return null==t?0:t.speed}return this._speed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hp_init",{get:function(){return this._hp_init},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hp_now",{get:function(){return this._hp_now},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hp_max",{get:function(){return this._hp_max},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slots",{get:function(){return this._slots},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slot_ex",{get:function(){return this._slot_ex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"damageType",{get:function(){return o.ShipUtil.getDamageType(this._hp_now,this._hp_max)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"damageType_before",{get:function(){return this._pre_damage_type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var t=n.default.model.ship.getMst(this.mst_id);return null==t?"":t.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stype",{get:function(){var t=n.default.model.ship.getMst(this.mst_id);return null==t?-1:t.shipTypeID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stype_name",{get:function(){var t=n.default.model.ship.getMst(this.mst_id);return null==t?"":t.shipTypeName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yomi",{get:function(){var t=n.default.model.ship.getMst(this.mst_id);return null==t?"":t.yomi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slotNum",{get:function(){var t=n.default.model.ship.getMst(this.mst_id);return null==t?0:t.slotNum},enumerable:!0,configurable:!0}),t.prototype.initializeHPInfo=function(t,e){this._hp_init=t;var i=this._practice?1:0;this._hp_now=Math.max(i,t),this._hp_now=Math.floor(this._hp_now),this._hp_max=e,this._pre_damage_type=this.damageType},t.prototype.initializeSlots=function(t,e,i){if(this._slots=t,this._slot_ex=e,this._tousai=i,null!=this._slots){var n=this.slotNum;this._slots.length>n&&this._slots.pop(),this._slots.length<n&&this._slots.push(null),null!=this._tousai&&(this._tousai.length>this._slots.length&&this._tousai.pop(),this._tousai.length<this._slots.length&&this._tousai.push(0))}},t.prototype.initializeParams=function(t,e,i,n){this._karyoku=t,this._raisou=e,this._taiku=i,this._soukou=n},t.prototype.initializeTaihi=function(t){this._taihi=t},t.prototype.isTaihi=function(){return this._taihi},t.prototype.isSubMarine=function(){return 13==this.stype||14==this.stype},t.prototype.isGround=function(){return this.speed<=0},t.prototype.getTousai=function(t){return null==this._tousai?0:t<this._tousai.length?this._tousai[t]:0},t.prototype.isDamaged=function(){return o.ShipUtil.isDamaged(this._hp_now,this._hp_max)},t.prototype.isMarriage=function(){return o.ShipUtil.isMarriage(this._level)},t.prototype.causeDamage=function(t,e){void 0===e&&(e=!0),1==e&&(this._pre_damage_type=this.damageType),this._hp_now-=Math.floor(t);var i=this._practice?1:0;this._hp_now=Math.max(i,this._hp_now)},t.prototype.updateHpNow=function(t,e){void 0===e&&(e=!0),1==e&&(this._pre_damage_type=this.damageType),this._hp_now=Math.floor(t);var i=this._practice?1:0;this._hp_now=Math.max(i,this._hp_now),this._hp_now=Math.min(this._hp_max,this._hp_now)},t.prototype.hasSlot=function(t,e){void 0===e&&(e=!0);for(var i=0,n=this._slots;i<n.length;i++){var o=n[i];if(null!=o&&o.mst_id==t)return!0}return!(!e||null==this._slot_ex||this._slot_ex.mst_id!=t)},t.prototype.hasSlotByEquipType=function(t,e){void 0===e&&(e=!0);for(var i=0,n=this._slots;i<n.length;i++){var o=n[i];if(null!=o&&o.equipTypeSp==t)return!0}return!(!e||null==this._slot_ex||this._slot_ex.equipTypeSp!=t)},t.prototype.hasYouin=function(){return this.hasSlot(42)},t.prototype.hasMegami=function(){return this.hasSlot(43)},t.prototype.useReplenishment=function(){if(null!=this._slot_ex&&146==this._slot_ex.mst_id)return this._slot_ex=null,!0;var t=this._slots;if(null==t)return!1;for(var e=t.length-1;e>=0;e--){var i=t[e];if(null!=i&&146==i.mst_id)return this._slots.splice(e,1),this._slots.push(null),!0}return!1},t.prototype.useRation=function(){return 1==this._useRation(241)?1==this._useRation(150)?[241,150]:[241]:1==this._useRation(150)?1==this._useRation(145)?[145,150]:[150]:1==this._useRation(145)?[145]:[]},t.prototype._useRation=function(t){if(null!=this.slot_ex&&this.slot_ex.mst_id==t)return this._slot_ex=null,!0;var e=this._slots;if(null==e)return!1;for(var i=e.length-1;i>=0;i--){var n=e[i];if(null!=n&&n.mst_id==t)return this._slots.splice(i,1),this._slots.push(null),!0}return!1},t.prototype.useRepairItem=function(){if(null!=this._slot_ex){if(42==this._slot_ex.mst_id)return this._slot_ex=null,this._repair(1),1;if(43==this._slot_ex.mst_id)return this._slot_ex=null,this._repair(2),2}var t=this._slots;if(null==t)return 0;for(var e=0;e<t.length;e++){var i=t[e];if(null!=i){if(42==i.mst_id)return this._slots.splice(e,1),this._slots.push(null),this._repair(1),1;if(43==i.mst_id)return this._slots.splice(e,1),this._slots.push(null),this._repair(2),2}}return 0},t.prototype.selectRepairItem=function(t){var e;if(1==t)e=42;else{if(2!=t)return;e=43}if(null!=this._slot_ex&&this._slot_ex.mst_id==e)return this._slot_ex=null,void this._repair(t);var i=this._slots;if(null!=i)for(var n=0;n<i.length;n++){var o=i[n];if(null!=o&&o.mst_id==e)return this._slots.splice(n,1),this._slots.push(null),void this._repair(t)}},t.prototype.clone=function(){var e=new t(this._type,this._practice,this._index,this.mst_id,this.mem_id,this.level,this._speed);e.initializeHPInfo(this._hp_now,this._hp_max);var i=null;if(null!=this._slots){i=new Array;for(var n=0,o=this._slots;n<o.length;n++){var r=o[n];null==r?i.push(null):i.push(r.clone())}}var s=null;null!=this._slot_ex&&(s=this._slot_ex.clone());var a=null;if(null!=this._tousai){a=new Array;for(var _=0,l=this._tousai;_<l.length;_++){var u=l[_];a.push(u)}}return e.initializeSlots(i,s,a),e.initializeParams(this._karyoku,this._raisou,this.taiku,this._soukou),e.initializeTaihi(this._taihi),e},t.prototype._repair=function(t){if(1==t){var e=Math.floor(.2*this._hp_max);this.updateHpNow(e)}else 2==t&&this.updateHpNow(this._hp_max)},t.prototype.toString=function(){return"["+this.index+"]"+this.name+"("+this.mst_id+")"},t}();e.ShipModelReplica=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=i(4),s=function(t){function e(){var e=t.call(this)||this;return e.visible=!1,e}return n(e,t),e.prototype.initialize=function(){this._icon=new PIXI.Sprite(o.COMMON_MISC.getTexture(111)),this._text=new r.TextBox(21,4999235),this._text.position.set(35,15),this.addChild(this._icon),this.addChild(this._text)},e.prototype.update=function(t,e){void 0===e&&(e=4999235),t>0?(this._text.style.fill=e,this._text.text=t.toString(),this.visible=!0):this.visible=!1},e.prototype.dispose=function(){this.removeChildren(),this._text&&this._text.destroy()},e}(PIXI.Container);e.MedalIcon=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(1072))},function(t,e,i){"use strict";function n(t){try{return o.ITEM_PAYITEMICON.getTextureFromMstID(t)}catch(t){return PIXI.Texture.EMPTY}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1115);e.getPayitemIcon=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(74),s=i(1144),a=i(1147),_=i(1148),l=i(1149),u=i(1150),c=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this)||this;return i._title=new PIXI.Sprite,i.addChild(i._title),e&&(i._backBtn=new PIXI.Sprite,i._backBtn.interactive=!0,i._backBtn.buttonMode=!0,i._backBtn.position.set(705,26),i.addChild(i._backBtn)),i._btns=[],i}return n(e,t),e.prototype.initialize=function(t,e){this._backBtn?(this._title.texture=r.COMMON_SELECTABLE_REWARD.getTexture(10),this._backBtn.texture=r.COMMON_SELECTABLE_REWARD.getTexture(2),this._backBtn.on(o.EventType.CLICK,function(){e(null)})):this._title.texture=r.COMMON_SELECTABLE_REWARD.getTexture(11),this._btns=[];for(var i=0,n=t;i<n.length;i++){var s=n[i],a=this._createBtn(s,e);this.addChild(a),this._btns.push(a)}},e.prototype.activate=function(){for(var t=0,e=this._btns;t<e.length;t++){e[t].activate()}},e.prototype.deactivate=function(){for(var t=0,e=this._btns;t<e.length;t++){e[t].deactivate()}},e.prototype.showAlert=function(t){var e=this._getBtn(t);null!=e&&(null==this._alert&&(this._alert=new u.RewardSelectDialogFurnitureAlert,this._alert.initialize(),this.addChild(this._alert)),this._alert.x=e.x+71,this._alert.y=e.y-20,this._alert.show())},e.prototype._createBtn=function(t,e){if(11==t.type){var i=new a.RewardSelectDialogShipBtn(e);return i.initialize(t),i}if(12==t.type){var i=new _.RewardSelectDialogSlotitemBtn(e);return i.initialize(t),i}if(13==t.type){var i=new l.RewardSelectDialogUseitemBtn(e);return i.initialize(t),i}if(14==t.type){var i=new s.RewardSelectDialogFurnitureBtn(e);return i.initialize(t),i}return null},e.prototype._getBtn=function(t){for(var e=0,i=this._btns;e<i.length;e++){var n=i[e];if(n.candidate==t)return n}return null},e}(PIXI.Sprite);e.RewardSelectDialog=c;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initialize=function(e,i){t.prototype.initialize.call(this,e,i),this.texture=r.COMMON_SELECTABLE_REWARD.getTexture(8),this._btns[0].position.set(130,86),this._btns[1].position.set(407,86),this._title.x=Math.round(this.width-this._title.width)/2,this._title.y=38},e}(c);e.RewardSelectDialog2=h;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initialize=function(e,i){t.prototype.initialize.call(this,e,i),this.texture=r.COMMON_SELECTABLE_REWARD.getTexture(9),this._btns[0].position.set(78,86),this._btns[1].position.set(326,86),this._btns[2].position.set(578,86),this._title.x=Math.round(this.width-this._title.width)/2,this._title.y=38},e}(h);e.RewardSelectDialog3=p},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(1145),s=i(1146),a=function(t){function e(e){var i=t.call(this)||this;return i._onMouseOver=function(){i._canvas.scale.set(1),i._level.position.set(175,34)},i._onMouseOut=function(){i._canvas.scale.set(.9),i._level.position.set(165,44)},i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick(i._candidate)},i._cb_onClick=e,i._canvas=new PIXI.Sprite,i._canvas.position.set(113,147),i.addChild(i._canvas),i._icon=new PIXI.Sprite,i.addChild(i._icon),i._level=new r.LevelStar,i.addChild(i._level),i._count=new s.RewardSelectDialogCount,i._count.position.set(158,192),i.addChild(i._count),i._canvas.interactive=!0,i._onMouseOut(),i}return n(e,t),Object.defineProperty(e.prototype,"candidate",{get:function(){return this._candidate},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){this._candidate=t,this._initialize(),t.level>0&&this._level.update(t.level),this._count.initialize(),t.count>1?(this._count.update(t.count),this._count.visible=!0):this._count.visible=!1},e.prototype.activate=function(){1!=this._canvas.buttonMode&&(this._canvas.buttonMode=!0,this._canvas.on(o.EventType.MOUSEOVER,this._onMouseOver),this._canvas.on(o.EventType.MOUSEOUT,this._onMouseOut),this._canvas.on(o.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this._canvas.buttonMode=!1,this._canvas.off(o.EventType.MOUSEOVER,this._onMouseOver),this._canvas.off(o.EventType.MOUSEOUT,this._onMouseOut),this._canvas.off(o.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate(),this._candidate=null,this._cb_onClick=null},e}(PIXI.Container);e.RewardSelectDialogBtnBase=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=i(242),s=function(t){function e(e,i,n){var o=t.call(this)||this;return o._selected_page_no=e,o._selected_type=i,o._data=n,o}return n(e,t),e.prototype._start=function(){var t=this,e=this._selected_page_no,i=this._selected_type;new r.DutyListAPI(e,i,this._data).start(function(){t._retry()})},e.prototype._retry=function(){return this._data.models.length>0?void this._endTask():this._data.selected_page_no<=1?void this._endTask():(this._selected_page_no--,void this._start())},e}(o.TaskBase);e.TaskUpdateDutyListData=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("sally_jin_"+t)}t.getTexture=e}(e.SALLY_JIN||(e.SALLY_JIN={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("battle_night_"+t)}t.getTexture=e}(e.BATTLE_NIGHT||(e.BATTLE_NIGHT={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(18),o=function(){function t(){}return t.getAttackVoiceIDs=function(t,e){var i,o=t.data.model.map_info.area_id;return i=o==n.EVENT_AREA_ID?this._getVoiceIDsAtEvent(o,t,e):this._getVoiceIDs(o,t,e),null!=i?i.a:null},t.getDamagedVoiceIDs=function(t,e){var i,o=t.data.model.map_info.area_id;return i=o==n.EVENT_AREA_ID?this._getVoiceIDsAtEvent(o,t,e):this._getVoiceIDs(o,t,e),null!=i?i.d:null},t.getSourGrapesVoiceID=function(t,e){if(t.data.model.map_info.area_id!=n.EVENT_AREA_ID)return-1;if(0==t.data.model.map_info.isBoss())return-1;var i=(t.data.model.map_info.map_no,e.name);return"\u6f5c\u6c34\u65b0\u68f2\u59eb"==i||"\u6f5c\u6c34\u65b0\u68f2\u59eb \u30d0\u30ab\u30f3\u30b9mode"==i?391173640:"\u6226\u8266\u4ecf\u68f2\u59eb"==i||"\u6226\u8266\u4ecf\u68f2\u59eb \u30d0\u30ab\u30f3\u30b9mode"==i?394174540:"\u8b77\u885b\u72ec\u9084\u59eb"==i?423182140:"\u8b77\u885b\u72ec\u9084\u59eb-\u58ca"==i?423182140:"\u8239\u6e20\u68f2\u59eb"==i?424182740:"\u6b27\u5dde\u68f2\u59eb"==i?397175540:"\u6b27\u5dde\u6c34\u59eb"==i?425184040:"\u6df1\u6d77\u6d77\u6708\u59eb"==i?445171140:"\u592a\u5e73\u6d0b\u6df1\u6d77\u68f2\u59eb"==i||"\u592a\u5e73\u6d0b\u6df1\u6d77\u68f2\u59eb-\u58ca"==i?445187140:"\u6df1\u6d77\u5730\u4e2d\u6d77\u68f2\u59eb"==i?452187740:-1},t.getLastGaspVoiceID=function(t,e){if(t.data.model.map_info.area_id!=n.EVENT_AREA_ID)return-1;if(0==t.data.model.map_info.isBoss())return-1;var i=(t.data.model.map_info.map_no,e.name),o=e.mst_id;if("\u91cd\u5de1\u68f2\u59eb"==i){if(1659==o||1660==o||1661==o)return 33365940;if(1662==o||1663==o||1664==o)return 33366240}return"\u91cd\u5de1\u590f\u59eb"==i?35470540:"\u7a7a\u6bcd\u68f2\u9b3c"==i||"\u7a7a\u6bcd\u590f\u9b3c"==i?27305854:"\u7a7a\u6bcd\u68f2\u59eb"==i||"\u7a7a\u6bcd\u590f\u59eb"==i?29405864:"\u6f5c\u6c34\u590f\u59eb"==i?35169340:"\u6f5c\u6c34\u65b0\u68f2\u59eb"==i||"\u6f5c\u6c34\u65b0\u68f2\u59eb \u30d0\u30ab\u30f3\u30b9mode"==i?391173641:"\u6226\u8266\u4ecf\u68f2\u59eb"==i||"\u6226\u8266\u4ecf\u68f2\u59eb \u30d0\u30ab\u30f3\u30b9mode"==i?394174540:"\u6226\u8266\u4ecf\u68f2\u59eb-\u58ca"==i||"\u6226\u8266\u4ecf\u68f2\u59eb-\u58ca \u30d0\u30ab\u30f3\u30b9mode"==i?394174840:"\u6226\u8266\u68f2\u59eb"==i||"\u6226\u8266\u68f2\u59eb\u6539"==i||"\u6226\u8266\u590f\u59eb"==i?27605574:"\u6cca\u5730\u6c34\u9b3c"==i||"\u6cca\u5730\u6c34\u9b3c \u30d0\u30ab\u30f3\u30b9mode"==i?30506094:"\u8b77\u885b\u72ec\u9084\u59eb"==i?423182440:"\u8b77\u885b\u72ec\u9084\u59eb-\u58ca"==i?423182440:"\u6e2f\u6e7e\u590f\u59eb"==i||"\u6e2f\u6e7e\u590f\u59eb-\u58ca"==i?35369940:"\u96c6\u7a4d\u5730\u68f2\u59eb"==i||"\u96c6\u7a4d\u5730\u590f\u59eb"==i||"\u96c6\u7a4d\u5730\u68f2\u59eb \u30d0\u30ab\u30f3\u30b9mode"==i?33265340:"\u96c6\u7a4d\u5730\u68f2\u59eb-\u58ca"==i||"\u96c6\u7a4d\u5730\u68f2\u59eb \u30d0\u30ab\u30f3\u30b9mode-\u58ca"==i?33265640:"\u8239\u6e20\u68f2\u59eb"==i?424182740:"\u8239\u6e20\u68f2\u59eb-\u58ca"==i?424183040:"\u6b27\u5dde\u68f2\u59eb-\u58ca"==i?397175840:"\u6b27\u5dde\u6c34\u59eb"==i?425184040:"\u6b27\u5dde\u6c34\u59eb-\u58ca"==i?425184340:"\u6df1\u6d77\u96e8\u96f2\u59eb"==i?431184640:"\u6df1\u6d77\u96e8\u96f2\u59eb-\u58ca"==i?431184940:"\u5357\u65b9\u68f2\u9b3c"==i?432154640:"\u5357\u65b9\u68f2\u6226\u59eb"==i?433154740:"\u6df1\u6d77\u65e5\u68f2\u59eb"==i?433185240:"\u6df1\u6d77\u65e5\u68f2\u59eb-\u58ca"==i?433185540:"\u5317\u65b9\u68f2\u59b9"==i?443186540:"\u5317\u65b9\u68f2\u59b9-\u58ca"==i?443186840:"\u4e2d\u67a2\u68f2\u59eb"==i?34668440:"\u4e2d\u67a2\u68f2\u59eb-\u58ca"==i?34768740:"\u6df1\u6d77\u6d77\u6708\u59eb"==i?445171141:"\u592a\u5e73\u6d0b\u6df1\u6d77\u68f2\u59eb-\u58ca"==i?445187441:"\u6df1\u6d77\u5730\u4e2d\u6d77\u68f2\u59eb-\u58ca"==i?452188041:-1},t._getVoiceIDs=function(t,e,i){var n=e.data.model.map_info.map_no,o=i.mst_id,r=i.name;if(3==t&&5==n){if(1587==o||1589==o)return{a:[3505871,3505872],d:[3505873]};if(1588==o||1590==o)return{a:[3505881,3505882],d:[3505883]}}else if(4==t&&5==n){if(1573==o)return{a:[4505731],d:[4505732]};if(1613==o)return{a:[4506131],d:[4505732]}}else if(6==t&&1==n){if("\u7a7a\u6bcd\u68f2\u9b3c"==r)return{a:[6105851,6105852],d:[6105853]}}else if(6==t&&4==n){if("\u7832\u53f0\u5c0f\u9b3c"==r)return{a:[6466520],d:[6466530]};if("\u96e2\u5cf6\u68f2\u59eb"==r)return{a:[6466820],d:[6466830]}}},t._getVoiceIDsAtEvent=function(t,e,i){var n=(e.data.model.map_info.map_no,i.mst_id),o=i.name,r=0==i.index&&e.data.model.map_info.isBoss(),s=e.data.isBossDamaged();if("PT\u5c0f\u9b3c\u7fa4"==o)return{a:[32263720],d:[32263730]};if("\u7832\u53f0\u5c0f\u9b3c"==o)return{a:[6466520],d:[6466530]};if("\u99c6\u9010\u53e4\u59eb"==o)return{a:[34769020],d:[34769030]};if("\u99c6\u9010\u68f2\u59eb"==o)return{a:[30505972],d:[30505973]};if("\u99c6\u9010\u6c34\u9b3c"==o)return{a:[32564720],d:[32564730]};if("\u91cd\u5de1\u68f2\u59eb"==o){if(1659==n||1660==n||1661==n)return{a:[33365920],d:[33365930]};if(1662==n||1663==n||1664==n)return{a:[33366220],d:[33366230]}}if("\u91cd\u5de1\u590f\u59eb"==o)return{a:[35470520],d:[35470530]};if("\u7a7a\u6bcd\u68f2\u9b3c"==o||"\u7a7a\u6bcd\u590f\u9b3c"==o)return{a:[27305852],d:[27305853]};if("\u7a7a\u6bcd\u68f2\u59eb"==o||"\u7a7a\u6bcd\u590f\u59eb"==o)return{a:[29405862],d:[29405863]};if("\u6f5c\u6c34\u590f\u59eb"==o)return{a:[35169320],d:[35169330]};if("\u6f5c\u6c34\u65b0\u68f2\u59eb"==o||"\u6f5c\u6c34\u65b0\u68f2\u59eb \u30d0\u30ab\u30f3\u30b9mode"==o){var a=e.data.model.gauge_now,_=i.hp_now>=a;return r&&_?{a:[391173621],d:[391173630]}:{a:[391173620],d:[391173630]}}return"\u6226\u8266\u4ecf\u68f2\u59eb"==o||"\u6226\u8266\u4ecf\u68f2\u59eb \u30d0\u30ab\u30f3\u30b9mode"==o?{a:[394174520],d:[394174530]}:"\u6226\u8266\u4ecf\u68f2\u59eb-\u58ca"==o||"\u6226\u8266\u4ecf\u68f2\u59eb-\u58ca \u30d0\u30ab\u30f3\u30b9mode"==o?{a:[394174820],d:[394174830]}:"\u6226\u8266\u68f2\u59eb"==o||"\u6226\u8266\u68f2\u59eb\u6539"==o||"\u6226\u8266\u590f\u59eb"==o?{a:[27605572],d:[27605573]}:"\u98db\u884c\u5834\u59eb"==o?{a:[31406312],d:[31406313]}:"\u6cca\u5730\u6c34\u9b3c"==o||"\u6cca\u5730\u6c34\u9b3c \u30d0\u30ab\u30f3\u30b9mode"==o?{a:[30506092],d:[30506093]}:"\u8b77\u885b\u72ec\u9084\u59eb"==o?{a:[423182120],d:[423182130]}:"\u8b77\u885b\u72ec\u9084\u59eb-\u58ca"==o?{a:[423182420],d:[423182430]}:"\u6e2f\u6e7e\u590f\u59eb"==o||"\u6e2f\u6e7e\u590f\u59eb-\u58ca"==o?{a:[35369920],d:[35369930]}:"\u96c6\u7a4d\u5730\u68f2\u59eb"==o||"\u96c6\u7a4d\u5730\u590f\u59eb"==o||"\u96c6\u7a4d\u5730\u68f2\u59eb \u30d0\u30ab\u30f3\u30b9mode"==o?{a:[33265320],d:[33265330]}:"\u96c6\u7a4d\u5730\u68f2\u59eb-\u58ca"==o||"\u96c6\u7a4d\u5730\u68f2\u59eb \u30d0\u30ab\u30f3\u30b9mode-\u58ca"==o?{a:[33265620],d:[33265630]}:"\u8239\u6e20\u68f2\u59eb"==o?{a:[424182720],d:[424182730]}:"\u8239\u6e20\u68f2\u59eb-\u58ca"==o?{a:[424183020],d:[424183030]}:"\u6b27\u5dde\u68f2\u59eb"==o?{a:[397175520],d:[397175530]}:"\u6b27\u5dde\u68f2\u59eb-\u58ca"==o?{a:[397175820],d:[397175830]}:"\u6b27\u5dde\u6c34\u59eb"==o?{a:[425184020],d:[425184030]}:"\u6b27\u5dde\u6c34\u59eb-\u58ca"==o?s?{a:[425184320],d:[425184331]}:{a:[425184320],d:[425184330]}:"\u6df1\u6d77\u96e8\u96f2\u59eb"==o?{a:[431184620],d:[431184630]}:"\u6df1\u6d77\u96e8\u96f2\u59eb-\u58ca"==o?{a:[431184920],d:[431184930]}:"\u30ea\u30b3\u30ea\u30b9\u68f2\u59eb"==o?{a:[34567920],d:[34567930]}:"\u5357\u65b9\u68f2\u9b3c"==o?{a:[432154620],d:[432154630]}:"\u5357\u65b9\u68f2\u6226\u59eb"==o?{a:[433154720],d:[433154730]}:"\u6df1\u6d77\u65e5\u68f2\u59eb"==o?{a:[433185220],d:[433185230]}:"\u6df1\u6d77\u65e5\u68f2\u59eb-\u58ca"==o?{a:[433185520],d:[433185530]}:"\u5317\u65b9\u68f2\u59b9"==o?{a:[443186520],d:[443186530]}:"\u5317\u65b9\u68f2\u59b9-\u58ca"==o?{a:[443186820],d:[443186830]}:"\u4e2d\u67a2\u68f2\u59eb"==o?{a:[34668420],d:[34668430]}:"\u4e2d\u67a2\u68f2\u59eb-\u58ca"==o?{a:[34768720],d:[34768730]}:"\u6df1\u6d77\u6d77\u6708\u59eb"==o?{a:[445171120],d:[445171130]}:"\u592a\u5e73\u6d0b\u6df1\u6d77\u68f2\u59eb"==o?{a:[445187120],d:[445187130]}:"\u592a\u5e73\u6d0b\u6df1\u6d77\u68f2\u59eb-\u58ca"==o?{a:[445187420],d:[445187430]}:"\u6df1\u6d77\u5730\u4e2d\u6d77\u68f2\u59eb"==o?{a:[452187720],d:[452187730]}:"\u6df1\u6d77\u5730\u4e2d\u6d77\u68f2\u59eb-\u58ca"==o?{a:[452188020],d:[452188030]}:void 0},t}();e.EnemyVoiceConst=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("battle_cutin_gouchin_"+t)}t.getTexture=e}(e.BATTLE_CUTIN_GOUCHIN||(e.BATTLE_CUTIN_GOUCHIN={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(43),s=i(2),a=i(6),_=i(1352),l=i(1359),u=i(142),c=function(t){function e(e,i,n,o,r,s){var a=t.call(this)||this;return a._completeflg_plane=!1,a._complete_show_damage_number=!1,a._scene=e,a._data=i,a._ships_f=n,a._ships_e=o,a._damage_cutin=r,a._aaCutin=s,a._hunshin_danmaku=[],a}return n(e,t),e.prototype._start=function(){},e.prototype._log=function(){},e.prototype._getPlaneType=function(){return r.PlaneConst.getPlaneType(!0)},e.prototype._getPlanes=function(t,e){for(var i=this._getPlaneType(),n=[],o=t.slots,r=0,s=o;r<s.length;r++){var a=s[r];if(null!=a&&i.indexOf(a.equipTypeSp)>=-0){var _=new u.Plane,l=new PIXI.Point([45,18,-36][n.length],[18,-27,38][n.length]);if(_.initialize(a.mst_id,t.friend,e,l),n.push(_),n.length>=3)break}}return n},e.prototype._createPlanes=function(t,e){for(var i=0,n=t;i<n.length;i++){var o=n[i],r=e[o];if(null!=r){var s=this._scene.view.bannerGroupLayer.getBanner(r),a=s.getGlobalPos(!0);0==s.entered&&(a.x=s.friend?-240:1440);var _=this._getPlanes(r,a);1==r.friend?this._canvas.addPlanes_f(_):this._canvas.addPlanes_e(_)}}},e.prototype._startAircraftFlightAnimation=function(){for(var t=this,e=0,i=this._canvas.planes_f;e<i.length;e++){var n=i[e];n.startFluctuations()}for(var o=0,r=this._canvas.planes_f;o<r.length;o++){var n=r[o];n.startFluctuations()}this._canvas.play(function(){for(var e=0,i=t._canvas.planes_f;e<i.length;e++){var n=i[e];n.stopFluctuations()}for(var o=0,r=t._canvas.planes_f;o<r.length;o++){var n=r[o];n.stopFluctuations()}t._completeflg_plane=!0,t._endTask()})},e.prototype._fireDogFight=function(){var t=this._data.plane_from_f;if(null!=t&&0!=t.length){var e=this._data.plane_from_e;if(null!=e&&0!=e.length){var i=this._canvas.planes_f,n=this.__fireDogFight(i);i=this._canvas.planes_e;var o=this.__fireDogFight(i);(n||o)&&a.SE.play("116")}}},e.prototype.__fireDogFight=function(t){for(var e=!1,i=0,n=t;i<n.length;i++){var s=n[i],a=s.mst_id,_=o.default.model.slot.getMst(a);null!=_&&r.PlaneConst.ATTACKABLE_TYPE.indexOf(_.equipTypeSp)>=0&&(s.fire(),e=!0)}return e},e.prototype._showTaikuCutin=function(){var t=this;null!=this._aaCutin&&(createjs.Ticker.setPaused(!0),this._aaCutin.init(),this._scene.view.layer_cutin.addChild(this._aaCutin),this._aaCutin.play(function(){t._scene.view.layer_cutin.removeChild(t._aaCutin),createjs.Ticker.setPaused(!1)}))},e.prototype._damageAtStage1=function(){var t=this._data.plane_count_f.count,e=this._data.plane_count_f.lost_count_stage1,i=this._canvas.planes_f;this._planeDamage(t,e,i),t=this._data.plane_count_e.count,e=this._data.plane_count_e.lost_count_stage1,i=this._canvas.planes_e,this._planeDamage(t,e,i)},e.prototype._planeDamage=function(t,e,i){if(!(t<=0||e<=0)){e=Math.min(e,t),i=i.concat();for(var n=e/t,o=i.length*n;i.length>0&&o>0;){var r=Math.floor(Math.random()*i.length),s=i[r];if(s.power>0){var a=Math.min(o,s.power);o-=a,s.power-=a,0==s.power?s.crash():s.damage()}i.splice(r,1)}}},e.prototype._antiAircraft=function(){var t=this._data.plane_from_e;if(null!=t&&0!=t.length){for(var e=[],i=0,n=this._ships_f;i<n.length;i++){var o=n[i],r=this._getAntiAircraftAbility(o);if(0!=r){for(var s=this._data.stage3_f.getDamage(o.index),l=this._canvas.planes_e.concat(),u=null;l.length>0;){var c=Math.floor(Math.random()*l.length);if(l[c].power>0){u=l[c];break}l.splice(c,1)}var h=new _.TaskAirWarAntiAircraft(this._scene,o,s,r,u);e.push(h)}}if(0==e.length){for(var o=this._ships_f[0],s=this._data.stage3_f.getDamage(o.index),l=this._canvas.planes_e.concat(),u=null;l.length>0;){var c=Math.floor(Math.random()*l.length);if(l[c].power>0){u=l[c];break}l.splice(c,1)}var h=new _.TaskAirWarAntiAircraft(this._scene,o,s,1,u);e.push(h)}a.SE.play("116");for(var p=0,d=e;p<d.length;p++){var h=d[p];h.start()}}},e.prototype._getAntiAircraftAbility=function(t){if(null==t)return 0;if(0==t.damageType)return 0;if(1==t.isTaihi())return 0;var e=t.slots.slice();e.push(t.slot_ex);for(var i=[],n=[],o=[],r=0,s=e;r<s.length;r++){var a=s[r];null!=a&&(i.push(a.mst_id),n.push(a.equipType),o.push(a.iconType))}var _=!1;if(i.indexOf(274)>=0&&this._isHunshinhouShipType(t.stype)&&(_=!0,this._hunshin_danmaku.push(t)),n.indexOf(18)>=0)return _?6:5;if(_)return 4;if(i.indexOf(51)>=0)return 3;if(o.indexOf(16)>=0)return 2;if(n.indexOf(21)>=0)return 1;for(var l=0,u=e;l<u.length;l++){var c=u[l];if(null!=c&&(11==c.iconType&&c.taiku>0))return 1}},e.prototype._isHunshinhouShipType=function(t){return 6==t||(7==t||(10==t||(11==t||(16==t||18==t))))},e.prototype._damageAtStage2=function(){this._showSeikuResult();var t=this._data.plane_count_f.count,e=this._data.plane_count_f.lost_count_stage2,i=this._canvas.planes_f;this._planeDamage(t,e,i),t=this._data.plane_count_e.count,e=this._data.plane_count_e.lost_count_stage2,i=this._canvas.planes_e,this._planeDamage(t,e,i)},e.prototype._showSeikuResult=function(){},e.prototype._showBakuExplosion=function(){var t=this._data.stage3_f,e=this._bakuExplosion(t);t=this._data.stage3_e,1==(e=this._bakuExplosion(t)||e)&&a.SE.play("104")},e.prototype._bakuExplosion=function(t){var e=t.beBombed(),i=t.beBombedCombined();return 1==e&&(1==t.friend?this._scene.view.layer_explosion.playExplosions(132,306):this._scene.view.layer_explosion.playExplosions(1080,417)),1==i&&(1==t.friend?this._scene.view.layer_explosion.playExplosions(387,306):this._scene.view.layer_explosion.playExplosions(825,417)),1==e||i},e.prototype._showDamage=function(){for(var t=this._data.stage3_f,e=0,i=this._ships_f;e<i.length;e++){var n=i[e];this._damage(n,t)}t=this._data.stage3_e;for(var o=0,r=this._ships_e;o<r.length;o++){var n=r[o];this._damage(n,t)}},e.prototype._damage=function(t,e){if(null!=t){var i=t.index,n=e.getRai(i),o=e.getBak(i),r=e.getDamage(i);if(0==n&&(1==o||r>0)){var s=this._scene.view.bannerGroupLayer.getBanner(t),a=e.isShield(i);if(1==a){var _=this._scene.view.bannerGroupLayer.getShieldTargetBanner(s);this._scene.view.layer_damage.showShieldAtBanner(_)}s.moveAtDamage(a)}if(o||n||r>0){e.getHitType(i)}}},e.prototype._showDamageNumber=function(){var t=this,e=this._scene,i=this._data,n=this._damage_cutin,o=this._ships_f,r=this._ships_e;new l.TaskAirWarDamageNumber(e,i,n,o,r,this._hunshin_danmaku).start(function(){t._complete_show_damage_number=!0,t._endTask()})},e.prototype._endTask=function(){0!=this._completeflg_plane&&0!=this._complete_show_damage_number&&(this._scene=null,this._data=null,this._ships_f=null,this._ships_e=null,this._damage_cutin=null,null!=this._canvas.parent&&this._canvas.parent.removeChild(this._canvas),this._canvas.dispose(),this._canvas=null,t.prototype._endTask.call(this))},e}(s.TaskBase);e.TaskAircraftFlightBase=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1360),r=function(t){function e(){var e=t.call(this)||this;return e._current_frame=0,e._img=new PIXI.Sprite,e.addChild(e._img),e}return n(e,t),e.prototype.play=function(t){void 0===t&&(t=null),this._isPlaying||(this._isPlaying=!0,this.createTween(t))},e.prototype.createTween=function(t){var e=this;void 0===t&&(t=null),createjs.Tween.removeTweens(this),this._tween=createjs.Tween.get(this),this._tween.wait(33).call(function(){e._current_frame++,e._img.texture=e._getTexture(e._current_frame),e._setImageOffset(e._current_frame),e._current_frame<=15?e.createTween(t):(e._isPlaying=!1,e._current_frame=0,null!=t&&t())})},e.prototype.stop=function(){this._isPlaying&&(this._isPlaying=!1,this._tween.setPaused(!0)),this._current_frame=0,this._img.texture=this._getTexture(this._current_frame),this._setImageOffset(this._current_frame)},e.prototype._getTexture=function(t){switch(t){case 1:return o.COMMON_EXPLOSION.getTexture(0);case 2:return o.COMMON_EXPLOSION.getTexture(7);case 3:return o.COMMON_EXPLOSION.getTexture(8);case 4:return o.COMMON_EXPLOSION.getTexture(9);case 5:return o.COMMON_EXPLOSION.getTexture(10);case 6:return o.COMMON_EXPLOSION.getTexture(11);case 7:return o.COMMON_EXPLOSION.getTexture(12);case 8:return o.COMMON_EXPLOSION.getTexture(13);case 9:return o.COMMON_EXPLOSION.getTexture(14);case 10:return o.COMMON_EXPLOSION.getTexture(1);case 11:return o.COMMON_EXPLOSION.getTexture(2);case 12:return o.COMMON_EXPLOSION.getTexture(3);case 13:return o.COMMON_EXPLOSION.getTexture(4);case 14:return o.COMMON_EXPLOSION.getTexture(5);case 15:return o.COMMON_EXPLOSION.getTexture(6);default:return PIXI.Texture.EMPTY}},e.prototype._setImageOffset=function(t){switch(t){case 1:this._img.position.set(-71,-53);break;case 2:this._img.position.set(-74,-60);break;case 3:this._img.position.set(-77,-69);break;case 4:this._img.position.set(-78,-72);break;case 5:this._img.position.set(-81,-77);break;case 6:this._img.position.set(-84,-81);break;case 7:this._img.position.set(-84,-86);break;case 8:this._img.position.set(-87,-89);break;case 9:this._img.position.set(-89,-90);break;case 10:this._img.position.set(-90,-90);break;case 11:this._img.position.set(-87,-89);break;case 12:case 13:this._img.position.set(-87,-87);break;case 14:this._img.position.set(-87,-89);break;case 15:this._img.position.set(-90,-89);break;default:this._img.position.set(0)}},e}(PIXI.Container);e.Explosion=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(22),r=i(2),s=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._scene=e,r._data=i,r._from_planes=n,r._to_ships=o,r._tasks=new Array,r}return n(e,t),e.prototype._start=function(){for(var t=this,e=this,i=0,n=this._to_ships;i<n.length;i++){var o=n[i];!function(i){if(null==i)return"continue";if(1==(1==i.friend?e._data.stage3_f.getRai(i.index):e._data.stage3_e.getRai(i.index))&&e._from_planes.length>0){var n=Math.floor(Math.random()*e._from_planes.length),o=e._from_planes[n],r=e._scene.view.bannerGroupLayer.getBanner(i),s=1==i.friend?e._data.stage3_f:e._data.stage3_e,_=s.getDamage(i.index),l=s.isShield(i.index),u=new a(e._scene,o,r,_,l);e._tasks.push(u),u.start(function(){t._taskComplete(i,u)})}}(o)}0==this._tasks.length&&this._endTask()},e.prototype._taskComplete=function(t,e){var i=this._tasks.indexOf(e);this._tasks.splice(i,1),0==this._tasks.length&&this._endTask()},e.prototype._endTask=function(){this._scene=null,this._data=null,this._from_planes=null,this._to_ships=null,this._tasks=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskAirWarTorpedo=s;var a=function(t){function e(e,i,n,o,r){var s=t.call(this)||this;return s._explosion=function(){var t=s._shield;if(1==t){var e=s._scene.view.bannerGroupLayer.getShieldTargetBanner(s._to_banner);s._scene.view.layer_damage.showShieldAtBanner(e)}s._to_banner.moveAtDamage(t);var i=s._to_banner.getGlobalPos(!0),n=s._scene.view;n.layer_explosion.playDamageExplosion(i.x,i.y,s._damage),n.layer_explosion.playTorpedoWaterColumn(s._to_banner,function(){s._endTask()})},s._scene=e,s._from_plane=i,s._to_banner=n,s._damage=o,s._shield=r,s}return n(e,t),e.prototype._start=function(){this._torpedo()},e.prototype._torpedo=function(){var t=new PIXI.Point(this._from_plane.x,this._from_plane.y),e=this._to_banner.getGlobalPos();1==this._to_banner.friend?e.x+=o.BannerSize.W/2:e.x-=o.BannerSize.W/2,this._scene.view.layer_torpedo.playAerialTorpedo(t,e,this._explosion)},e.prototype._endTask=function(){this._scene=null,this._from_plane=null,this._to_banner=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskAirWarTorpedoOne=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(24),a=function(t){function e(e,i,n){var o=t.call(this)||this;return o._scene=e,o._plane_f=i,o._plane_e=n,o}return n(e,t),e.prototype._start=function(){this._plane_f<=0&&this._plane_e<=0?this._endTask():this._loadImage()},e.prototype._loadImage=function(){var t=this,e=this._scene.view.raderLayer,i=new s.SlotLoader;if(this._plane_f>0){o.default.model.slot.getMst(this._plane_f);i.add(this._plane_f,"item_up"),e.rader_e.touch_plane.initialize(this._plane_f)}if(this._plane_e>0){o.default.model.slot.getMst(this._plane_e);i.add(this._plane_e,"item_up"),e.rader_f.touch_plane.initialize(this._plane_e)}i.load(function(){t._show()})},e.prototype._show=function(){var t=this._scene.view.raderLayer;t.rader_f.touch_plane.show(),t.rader_e.touch_plane.show(),this._endTask()},e}(r.TaskBase);e.TaskShowTouchPlane=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(23),r=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.initialize=function(t,e){this.removeChildren();var i=t?e?"battle_telop_mes2_f_hbg":"battle_telop_mes2_f_ybg":e?"battle_telop_mes2_e_hbg":"battle_telop_mes2_e_ybg",n=PIXI.Sprite.fromFrame(i);n.x=-Math.floor(n.width/2),n.y=-Math.floor(n.height/2),this.addChild(n)},e}(o.Container);e.TelopBG=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(45),a=i(7),_=i(43),l=i(2),u=i(17),c=i(6),h=i(44),p=i(1366),d=i(1367),f=i(65),y=i(256),m=function(t){function e(e,i,n,s,a){void 0===a&&(a=0);var _=t.call(this)||this;_._preAnim=function(){var t=_._friend?1:-1,e=_._attacker.mst_id,i=_._attacker.isDamaged();_._canvas.chara.alpha=0,_._canvas.chara.position.set((_._friend?0:o.default.width/2)-99,410);var n=r.default.model.ship_graph.get(e).getBattleOffset(i);_._ship.texture=r.default.resources.getShip(e,i,"full"),_._ship.position.set(n.x,n.y),_._canvas.chara.addChild(_._ship),_._shipFlash=new h.ShipFlash(r.default.resources.getShip(e,i,"full")),_._shipFlash.position.set(n.x,n.y),_._canvas.chara.addChild(_._shipFlash),_._canvas.plane.position.set(o.default.width/2-917*t,372),_._canvas.plane.initialize(_._plane.mstID,_._friend),_._canvas.telop_bg.scale.set(2),_._canvas.telop.scale.set(2.6),_._anim1()},_._anim2=function(){var t=new y.Wave;t.initialize(),createjs.Tween.get(_._canvas.chara).wait(300).call(function(){_._shipFlash.play()}).wait(300).call(_._anim3),createjs.Tween.get(_._canvas.telop_bg).to({scaleX:1.3,scaleY:1.3,alpha:1},200).call(function(){c.SE.play("109")}),createjs.Tween.get(_._canvas.telop).wait(33).call(function(){c.SE.play("105")}).to({scaleX:1.14,scaleY:1.14,alpha:1},300),createjs.Tween.get(t).wait(133).call(function(){_._canvas.telop_bg.addChild(t),t.play()})},_._anim3=function(){var t=o.default.width;_._setSlotitemTextures();var e=_._friend?1:-1;_._canvas.slot1.position.set(t/2+825*e,390),_._canvas.slot2.position.set(t/2-1425*e,600),_._canvas.slot1_text.anchor.set(_._friend?1:0,.5),_._canvas.slot1_text.position.set(_._friend?0:t,390),_._canvas.slot2_text.anchor.set(_._friend?0:1,.5),_._canvas.slot2_text.position.set(_._friend?t:0,600),createjs.Tween.get(_._canvas.plane).to({x:t/2+863*e},400).call(function(){_._canvas.plane.deactivate()}).wait(100).call(_._anim4),createjs.Tween.get(_._canvas.slot_bg1).wait(200).call(function(){c.SE.play("105")}).to({x:t/2},266).call(function(){c.SE.play("109")}),createjs.Tween.get(_._canvas.slot1).wait(200).to({x:t/2-300*e,alpha:1},233),createjs.Tween.get(_._canvas.slot_bg2).wait(200).to({x:t/2},266),createjs.Tween.get(_._canvas.slot2).wait(200).to({x:t/2+300*e,alpha:1},233),createjs.Tween.get(_._canvas.slot1_text).wait(200).to({x:t/2+570*e,alpha:1},200,createjs.Ease.sineOut),createjs.Tween.get(_._canvas.slot2_text).wait(200).to({x:t/2-570*e,alpha:1},200,createjs.Ease.sineOut)},_._anim4=function(){createjs.Tween.get(_._canvas.chara).wait(900).call(function(){_._shipFlash.play()}).wait(200).call(function(){_._view.emit("attack"),_._anim5()})},_._anim6=function(t,e){_._canvas.dispose(),createjs.Tween.get(t).to({alpha:0},300),createjs.Tween.get(e).to({alpha:0},300).call(function(){t.deactivate(),_._view.removeChild(t),_._view.removeChild(e),_._endTask()})},_._attacker=e,_._plane=i,_._slot1=n,_._slot2=s,_._telopType=a,_._friend=_._attacker.friend,_._canvas=new d.CutinDanchakuCanvas,_._view=new PIXI.Container,_.view.addChild(_._canvas),_._ship=new PIXI.Sprite;var l=null==_._plane?0:_._plane.mstID,u=null==_._slot1?0:_._slot1.mstID,f=null==_._slot2?0:_._slot2.mstID;return _._preload_task=new p.PreloadCutinDanchaku(e,l,u,f,_._telopType),_}return n(e,t),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0}),e.prototype.getPreloadTask=function(){return this._preload_task},e.prototype._start=function(){var t=this;this._canvas.initialize(this._friend,this._telopType);var e=new u.FadeBox(1);e.hide(0),this._canvas.addChild(e),e.show(50,function(){e.hide(50,function(){t._canvas.removeChild(e),t._canvas.bg.show(250,t._preAnim)})})},e.prototype._anim1=function(){var t=this,e=this._friend?1:-1;this._canvas.bg.show(250),createjs.Tween.get(this._canvas.chara).wait(166).to({y:-87,alpha:1},500).call(this._anim2),createjs.Tween.get(this._canvas.plane).wait(300).call(function(){t._canvas.plane.activate()}).to({x:o.default.width/2-38*e},433)},e.prototype._setSlotitemTextures=function(){this._canvas.slot1.texture=r.default.resources.getSlotitem(this._slot1.mstID,"item_up"),this._canvas.slot2.texture=r.default.resources.getSlotitem(this._slot2.mstID,"item_up"),this._canvas.slot1_text.texture=r.default.resources.getSlotitem(this._slot1.mstID,"btxt_flat"),this._canvas.slot2_text.texture=r.default.resources.getSlotitem(this._slot2.mstID,"btxt_flat");var t=this._checkSlotOffset(this._slot1.mstID);t&&(this._canvas.slot1.rotation=t.rotation,this._canvas.slot1.scale.x=t.scale_x,this._canvas.slot1.scale.y=t.scale_y);var e=this._checkSlotOffset(this._slot2.mstID);e&&(this._canvas.slot2.rotation=e.rotation,this._canvas.slot2.scale.x=e.scale_x,this._canvas.slot2.scale.y=e.scale_y)},e.prototype._anim5=function(){createjs.Tween.get(this._canvas.chara).wait(100).to({y:-900,alpha:0},500),createjs.Tween.get(this._canvas.slot1).wait(300).to({scaleX:1.75,scaleY:1.75},500),createjs.Tween.get(this._canvas.slot2).wait(300).to({scaleX:1.75,scaleY:1.75},500);var t=new f.IntensiveLines;t.initialize(),t.alpha=0,this._view.addChild(t),createjs.Tween.get(t).wait(300).call(function(){t.activate()}).to({alpha:1},200);var e=new u.FadeBox(1,16777215);e.alpha=0,this._view.addChild(e),createjs.Tween.get(e).wait(300).to({alpha:1},500).call(this._anim6,[t,e])},e.prototype._endTask=function(){this._attacker=null,this._plane=null,this._slot1=null,this._slot2=null,null!=this._view.parent&&this._view.parent.removeChild(this._view),this._view=null,this._canvas=null,this._ship=null,this._preload_task=null,t.prototype._endTask.call(this)},e.prototype._checkSlotOffset=function(t){var e=s.SlotUtil.isEnemyItem(t)?-1:1;if(1==_.PlaneConst.OFFSET.hasOwnProperty(t.toString())){var i=_.PlaneConst.OFFSET[this._slot1.mstID],n=a.ObjUtil.getNumber(i,"x"),o=a.ObjUtil.getNumber(i,"y"),r=a.ObjUtil.getNumber(i,"r"),l=a.ObjUtil.getNumber(i,"sx",1);return{x:n,y:o,rotation:-r/180*Math.PI*(this._friend?1:-1),scale_x:l*e*(this._friend?1:-1),scale_y:Math.abs(l)}}return null},e}(l.TaskBase);e.CutinDanchaku=m;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._setSlotitemTextures=function(){this._canvas.slot1.texture=r.default.resources.getSlotitem(this._slot2.mstID,"item_up"),this._canvas.slot2.texture=r.default.resources.getSlotitem(this._slot1.mstID,"item_up"),this._canvas.slot1_text.texture=r.default.resources.getSlotitem(this._slot2.mstID,"btxt_flat"),0==this._telopType&&(this._canvas.slot2_text.texture=r.default.resources.getSlotitem(this._slot1.mstID,"btxt_flat"));var t=this._checkSlotOffset(this._slot1.mstID);t&&(this._canvas.slot2.rotation=t.rotation,this._canvas.slot2.scale.x=t.scale_x,this._canvas.slot2.scale.y=t.scale_y);var e=this._checkSlotOffset(this._slot2.mstID);e&&(this._canvas.slot1.rotation=e.rotation,this._canvas.slot1.scale.x=e.scale_x,this._canvas.slot1.scale.y=e.scale_y)},e}(m);e.CutinDanchaku1=g;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(m);e.CutinDanchaku2=v;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(g);e.CutinDanchaku3=b;var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(m);e.CutinDanchaku4=w},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=i(1437),r=function(){function t(t){this._o=t,this._plane_count_f=new s(!0,this._stage1,this._stage2),this._plane_count_e=new s(!1,this._stage1,this._stage2);var e=n.ObjUtil.getObject(t,"api_stage3");e=null==e?{}:e;var i=n.ObjUtil.getObject(t,"api_stage3_combined");this._stage3_f=new o.AirWarStage3Model(!0,e,i),this._stage3_e=new o.AirWarStage3Model(!1,e,i)}return Object.defineProperty(t.prototype,"plane_from_f",{get:function(){return this._plane_from_f},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plane_from_e",{get:function(){return this._plane_from_e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plane_count_f",{get:function(){return this._plane_count_f},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plane_count_e",{get:function(){return this._plane_count_e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stage3_f",{get:function(){return this._stage3_f},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stage3_e",{get:function(){return this._stage3_e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_stage1",{get:function(){return n.ObjUtil.getObject(this._o,"api_stage1")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_stage2",{get:function(){return n.ObjUtil.getObject(this._o,"api_stage2")},enumerable:!0,configurable:!0}),t.prototype.getTouchPlaneFriend=function(){if(null==this._stage1)return-1;var t=n.ObjUtil.getNumArray(this._stage1,"api_touch_plane");return null==t||t.length<1?-1:t[0]},t.prototype.getTouchPlaneEnemy=function(){if(null==this._stage1)return-1;var t=n.ObjUtil.getNumArray(this._stage1,"api_touch_plane");return null==t||t.length<2?-1:t[1]},t.prototype.getTaikuShipIndex=function(){var t=this._stage2;return null==t?-1:(t=n.ObjUtil.getObject(t,"api_air_fire"),null==t?-1:n.ObjUtil.getNumber(t,"api_idx",-1))},t.prototype.getTaikuSlotMstIDs=function(){var t=this._stage2;return null==t?null:(t=n.ObjUtil.getObject(t,"api_air_fire"),null==t?null:n.ObjUtil.getNumArray(t,"api_use_items"))},t.prototype.hasStage3Data=function(){return null!=this._o&&this._o.hasOwnProperty("api_stage3")},t.prototype._initPlaneFrom=function(){var t=n.ObjUtil.getObjectArray(this._o,"api_plane_from");if(null==t)this._plane_from_f=[],this._plane_from_e=[];else{t.length>0&&(this._plane_from_f=t[0],null==this._plane_from_f&&(this._plane_from_f=[])),t.length>1&&(this._plane_from_e=t[1],null==this._plane_from_e&&(this._plane_from_e=[]));for(var e=0;e<this._plane_from_f.length;e++)this._plane_from_f[e]--;for(var e=0;e<this._plane_from_e.length;e++)this._plane_from_e[e]--}},t}();e.AirWarDataBase=r;var s=function(){function t(t,e,i){this._friend=t,this._stage1=e,this._stage2=i}return Object.defineProperty(t.prototype,"count",{get:function(){var t=this._stage1;if(null==t)return 0;var e=this._friend?"api_f_count":"api_e_count";return n.ObjUtil.getNumber(t,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lost_count_stage1",{get:function(){var t=this._stage1;if(null==t)return 0;var e=this._friend?"api_f_lostcount":"api_e_lostcount";return n.ObjUtil.getNumber(t,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count_stage1",{get:function(){return this.count-this.lost_count_stage1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lost_count_stage2",{get:function(){var t=this._stage2;if(null==t)return 0;var e=this._friend?"api_f_lostcount":"api_e_lostcount";return n.ObjUtil.getNumber(t,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count_stage2",{get:function(){return this.count_stage1-this.lost_count_stage2},enumerable:!0,configurable:!0}),t}();e.PlaneCountData=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(46),s=function(t){function e(e,i){void 0===i&&(i=null);var n=t.call(this)||this;return n._mst_id=e,n._message=i,n}return n(e,t),Object.defineProperty(e.prototype,"mst_id",{get:function(){return this._mst_id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){var t=o.default.model.ship.get(this._mst_id);return null==t?"":t.name},enumerable:!0,configurable:!0}),e}(r.RewardModel);e.RewardModelShip=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("title_main_"+t)}t.getTexture=e}(e.TITLE_MAIN||(e.TITLE_MAIN={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.load=function(t){var e=this._getPath(t);this.texture=PIXI.Texture.fromImage(e)},e.prototype._getKeyName=function(){var t=location.hostname;if(t.match(/\./)){for(var e=t.split("."),i=0;i<e.length;i++)e[i]=("00"+e[i]).slice(-3);return e.join("_")}return t},e.prototype._getPath=function(t){var e=this._getKeyName();return"title"==t?o.default.settings.path_root+"resources/world/"+e+"_t.png":"small"==t?o.default.settings.path_root+"resources/world/"+e+"_s.png":"large"==t?o.default.settings.path_root+"resources/world/"+e+"_l.png":void 0},e}(PIXI.Sprite);e.WorldTextImage=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(10),s=function(t){function e(){var e=t.call(this)||this;return e._PETAL_NUM=20,e._NowPlaying=!1,e._petals=new Array,e}return n(e,t),e.prototype.startAnimation=function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=this._PETAL_NUM),!this._NowPlaying){this._NowPlaying=!0;for(var i=0;i<e;i++)this._petals[i]=new a(t),this.addChild(this._petals[i])}},e.prototype.stopAnimation=function(t){if(void 0===t&&(t=this._PETAL_NUM),this._NowPlaying){for(var e=0;e<t;e++)this._petals[e]instanceof a&&(this._petals[e].switchFlag(!1),this.removeChild(this._petals[e]));this._NowPlaying=!1}},e}(PIXI.Container);e.Sakura=s;var a=function(t){function e(e){void 0===e&&(e=null);var i=t.call(this)||this;return i._swt=!0,i._area=null==e?new PIXI.Rectangle(0,0,o.default.width,o.default.height):e,i.anchor.set(.5,.5),i._createTween(),i}return n(e,t),e.prototype._createTween=function(){var t=this;if(this._swt){for(var e=this._area.x,i=this._area.y;e<=this._area.x+this._area.width&&i<=this._area.y+this._area.height;)e=this._area.x+.8*this._area.width+this._randomInt(600),i=this._area.y+.2*this._area.height-this._randomInt(600);var n=5+this._randomInt(5),s=-5-this._randomInt(n*this._area.width/this._area.height-5),a=e,_=i,l=this._randomInt(960)-o.default.height;l=l*Math.PI/180;for(var u=0;a>-60&&_<780;)a+=s,_+=n,u++;this.x=e,this.y=i;var c=[149,150,151,152,153][this._randomInt(5)];this.texture=r.COMMON_MISC.getTexture(c),createjs.Tween.get(this).to({x:a,y:_,rotation:l},u/30*1e3).call(function(){t._createTween()})}},e.prototype.switchFlag=function(t){this._swt=t},e.prototype._randomInt=function(t){return Math.floor(Math.random()*t)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(11),s=i(15),a=function(t){function e(e){var i=t.call(this)||this;return i._url="api_req_furniture/music_list",i._furnitureJukeBoxBGMModel=e,i}return n(e,t),e.prototype._connect=function(){t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._furnitureJukeBoxBGMModel.SetAll(this._raw_data),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.UserFurnitureJukeBoxMusicListAPI=a;var _=function(t){function e(e){var i=t.call(this)||this;return i._url="api_req_furniture/music_play",i._post_data.api_music_id=e,i}return n(e,t),e.prototype._connect=function(){t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._updateMaterialCount(44,s.ObjUtil.getNumber(this._raw_data,"api_coin")),t.prototype._completedEnd.call(this)},e.prototype._updateMaterialCount=function(t,e){var i=o.default.model.useItem.get(t);null!=i&&i.__setCount__(e)},e}(r.APIBase);e.UserFurnitureJukeBoxMusicPlayAPI=_;var l=function(t){function e(e){var i=t.call(this)||this;return i._url="api_req_furniture/set_portbgm",i._post_data.api_music_id=e,i}return n(e,t),e.prototype._connect=function(){t.prototype._connect.call(this)},e.prototype._completedEnd=function(){t.prototype._completedEnd.call(this)},e}(r.APIBase);e.UserFurnitureJukeBoxSetPortBGMAPI=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("jukebox_common_"+t)}t.getTexture=e}(e.JUKEBOX_COMMON||(e.JUKEBOX_COMMON={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("port_skin_1_"+t)}t.getTexture=e}(e.PORT_SKIN_1||(e.PORT_SKIN_1={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("port_skin_2_"+t)}t.getTexture=e}(e.PORT_SKIN_2||(e.PORT_SKIN_2={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("port_skin_3_"+t)}t.getTexture=e}(e.PORT_SKIN_3||(e.PORT_SKIN_3={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("port_skin_3k_"+t)}t.getTexture=e}(e.PORT_SKIN_3K||(e.PORT_SKIN_3K={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(21),r=function(t){function e(){var e=t.call(this)||this,i=o.COMMON_MAIN.getTexture(32),n=new PIXI.Sprite(i),r=new PIXI.Sprite(i),s=new PIXI.Sprite(i),a=new PIXI.Sprite(i),_=new PIXI.Sprite(i),l=new PIXI.Sprite(i);return e.addChild(n,r,s,a,_,l),a.scale.x=_.scale.x=l.scale.x=-1,n.anchor.set(.5,.613793103448276),r.anchor.set(.5,.613793103448276),s.anchor.set(.5,.613793103448276),a.anchor.set(.5,.613793103448276),_.anchor.set(.5,.613793103448276),l.anchor.set(.5,.613793103448276),n.alpha=r.alpha=s.alpha=0,a.alpha=_.alpha=l.alpha=0,e.kemuri_L_0=n,e.kemuri_L_1=r,e.kemuri_L_2=s,e.kemuri_R_0=a,e.kemuri_R_1=_,e.kemuri_R_2=l,e.stop(),e}return n(e,t),e.prototype.play=function(t){switch(t){case 75:this._play(1e3);break;case 50:this._play(500);break;case 25:this._play(200);break;default:this.stop()}},e.prototype._play=function(t){this.stop();var e=createjs.Tween.get(this.kemuri_L_0).wait(t).to({x:-18,y:29,width:3.15,height:3.9,alpha:1}).to({x:-17.325,y:39,width:118.5,height:143.175},400).to({x:-18,y:39,width:139.5,height:168.525,alpha:0},400).wait(400),i=createjs.Tween.get(this.kemuri_L_1).wait(t).wait(200).to({x:-42,y:5,width:3.15,height:3.9,alpha:1}).to({x:-42,y:5,width:180,height:218},400).to({x:-42,y:5,width:225,height:271.875,alpha:0},400).wait(200),n=createjs.Tween.get(this.kemuri_L_2).wait(t).wait(500).to({x:-42,y:-27,width:3.15,height:3.9,alpha:1}).to({x:-42,y:-27,width:180,height:218},300).to({x:-42,y:-27,width:225,height:271.875,alpha:0},400),o=createjs.Tween.get(this.kemuri_R_0).wait(t).to({x:246,y:39,width:3.15,height:3.9,alpha:1}).to({x:266,y:29,width:118.5,height:143.175},400).to({x:282,y:11,width:139.5,height:168.525,alpha:0},400).wait(400),r=createjs.Tween.get(this.kemuri_R_1).wait(t).wait(200).to({x:288,y:5,width:2.1,height:2.6,alpha:1}).to({x:288,y:5,width:180,height:217.5},400).to({x:288,y:5,width:225,height:271.875,alpha:0},400).wait(200),s=createjs.Tween.get(this.kemuri_R_2).wait(t).wait(500).to({x:288,y:-27,width:3.15,height:3.9,alpha:1}).to({x:288,y:-27,width:180,height:217.5},300).to({x:288,y:-27,width:225,height:271.875,alpha:0},400);e.loop=i.loop=n.loop=!0,o.loop=r.loop=s.loop=!0,this.tweenKemuri_L_0=e,this.tweenKemuri_L_1=i,this.tweenKemuri_L_2=n,this.tweenKemuri_R_0=o,this.tweenKemuri_R_1=r,this.tweenKemuri_R_2=s,this.visible=!0},e.prototype.stop=function(){this.kemuri_L_0.width=this.kemuri_L_0.texture.width,this.kemuri_L_0.height=this.kemuri_L_0.texture.height,this.kemuri_L_1.width=this.kemuri_L_1.texture.width,this.kemuri_L_1.height=this.kemuri_L_1.texture.height,this.kemuri_L_2.width=this.kemuri_L_2.texture.width,this.kemuri_L_2.height=this.kemuri_L_2.texture.height,this.kemuri_R_0.width=this.kemuri_R_0.texture.width,this.kemuri_R_0.height=this.kemuri_R_0.texture.height,this.kemuri_R_1.width=this.kemuri_R_1.texture.width,this.kemuri_R_1.height=this.kemuri_R_1.texture.height,this.kemuri_R_2.width=this.kemuri_R_2.texture.width,this.kemuri_R_2.height=this.kemuri_R_2.texture.height,null!=this.tweenKemuri_L_0&&(this.tweenKemuri_L_0.setPaused(!0),createjs.Tween.removeTweens(this.tweenKemuri_L_0.target)),null!=this.tweenKemuri_L_1&&(this.tweenKemuri_L_1.setPaused(!0),createjs.Tween.removeTweens(this.tweenKemuri_L_1.target)),null!=this.tweenKemuri_L_2&&(this.tweenKemuri_L_2.setPaused(!0),createjs.Tween.removeTweens(this.tweenKemuri_L_2.target)),null!=this.tweenKemuri_R_0&&(this.tweenKemuri_R_0.setPaused(!0),createjs.Tween.removeTweens(this.tweenKemuri_R_0.target)),null!=this.tweenKemuri_R_1&&(this.tweenKemuri_R_1.setPaused(!0),createjs.Tween.removeTweens(this.tweenKemuri_R_1.target)),null!=this.tweenKemuri_R_2&&(this.tweenKemuri_R_2.setPaused(!0),createjs.Tween.removeTweens(this.tweenKemuri_R_2.target)),this.kemuri_L_0.alpha=this.kemuri_L_1.alpha=this.kemuri_L_2.alpha=0,this.kemuri_R_0.alpha=this.kemuri_R_1.alpha=this.kemuri_R_2.alpha=0,this.tweenKemuri_L_0=null,this.tweenKemuri_L_1=null,this.tweenKemuri_L_2=null,this.tweenKemuri_R_0=null,this.tweenKemuri_R_1=null,this.tweenKemuri_R_2=null,this.visible=!1},e.prototype.dispose=function(){this.stop(),this.removeChild(this.kemuri_L_0),this.removeChild(this.kemuri_L_1),this.removeChild(this.kemuri_L_2),this.removeChild(this.kemuri_R_0),this.removeChild(this.kemuri_R_1),this.removeChild(this.kemuri_R_2),this.kemuri_L_0=null,this.kemuri_L_1=null,this.kemuri_L_2=null,this.kemuri_R_0=null,this.kemuri_R_1=null,this.kemuri_R_2=null},e}(PIXI.Container);e.BannerSmoke=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t}();e.SceneModel=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(78),a=function(t){function e(e){var i=t.call(this)||this;return i.floor_id=0,i.wall_id=0,i.window_id=0,i.object_id=0,i.desk_id=0,i.chest_id=0,i._animationFlag=!1,i._animationFlag=e,i}return n(e,t),e.prototype._start=function(){var t=this,e=!1,i=new s.FurnitureLoader;e=this._addLoader(i,this.floor_id)||e,e=this._addLoader(i,this.wall_id)||e,e=this._addLoader(i,this.window_id)||e,e=this._addLoader(i,this.object_id)||e,e=this._addLoader(i,this.desk_id)||e,e=this._addLoader(i,this.chest_id)||e,1==e?i.load(function(){t._loadOutside()}):this._loadOutside()},e.prototype._loadOutside=function(){var t=this;o.default.view.portMain.furnitureLayer.outside.load(this.window_id,function(){t._onComplete()})},e.prototype._onComplete=function(){var t=o.default.view.portMain.furnitureLayer,e=[this.floor_id,this.wall_id,this.window_id,this.object_id,this.desk_id,this.chest_id];t.updateAll(e),t.animationFlag=this._animationFlag,this._endTask()},e.prototype._addLoader=function(t,e){return e>0&&(t.add(e,"normal"),!0)},e}(r.TaskBase);e.FurnitureLoadTask=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(2),a=i(17),_=i(296),l=i(297),u=i(298),c=i(148),h=i(299),p=i(300),d=i(301),f=i(201),y=i(187),m=i(149),g=i(127),v=i(302),b=i(622),w=i(623),x=i(634),I=i(635),T=i(636),O=i(637),C=i(638),P=i(639),k=i(640),S=i(641),M=i(642),A=i(643),E=i(644),j=i(206),N=function(t){function e(e,i,n){void 0===n&&(n=-1);var o=t.call(this)||this;return o._layer=e,o._rewards=i,o._quest_id=n,o}return n(e,t),e.prototype._start=function(){var t=this;this._fade=new a.FadeBox(.6),this._layer.addChild(this._fade),this._fade.show(300,function(){t._addDialog()})},e.prototype._addDialog=function(){this._dialog=new b.RewardDialog,this._dialog.position.set(o.default.width/2,o.default.height/2),this._dialog.initialize(),this._layer.addChild(this._dialog),this._showReward()},e.prototype._showReward=function(){var t=this;if(null==this._rewards||0==this._rewards.length)return void this._removeDialog();var e=this._rewards.shift(),i=this._getTask(e);null==i?this._removeDialog():i.start(function(){t._showReward()})},e.prototype._removeDialog=function(){this._layer.removeChild(this._dialog),this._dialog.dispose(),this._dialog=null,this._hideFade()},e.prototype._hideFade=function(){var t=this;this._fade.hide(200,function(){t._layer.removeChild(t._fade),t._fade=null,t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._rewards=null,t.prototype._endTask.call(this)},e.prototype._getTask=function(t){return t instanceof y.RewardModelShip?682==this._quest_id||882==this._quest_id||883==this._quest_id?new L(this._layer,t.mst_id):new S.TaskRewardDialogShip(this._dialog,t):t instanceof m.RewardModelSlotitem?new M.TaskRewardDialogSlotitem(this._dialog,t):t instanceof g.RewardModelUseitem?new A.TaskRewardDialogUseitem(this._dialog,t):t instanceof f.RewardModelMultiUseitem?new k.TaskRewardDialogMultiUseitem(this._dialog,t):t instanceof c.RewardModelFurniture?new T.TaskRewardDialogFurniture(this._dialog,t):t instanceof l.RewardModelDeck?new x.TaskRewardDialogDeck(this._dialog,t):t instanceof u.RewardModelExtraSupply?new I.TaskRewardDialogExtraSupply(this._dialog,t):t instanceof h.RewardModelLargeBuild?new O.TaskRewardDialogLargeBuild(this._dialog,t):t instanceof d.RewardModelModelChange?new P.TaskRewardDialogModelChange(this._dialog,t,this._quest_id,this._fade):t instanceof _.RewardModelAirUnit?new w.TaskRewardDialogAirUnit(this._dialog,t):t instanceof v.RewardModelWarResult?new E.TaskRewardDialogWarResult(this._dialog,t):t instanceof p.RewardModelMap?new C.TaskRewardDialogMap(this._dialog,t):void 0},e}(s.TaskBase);e.TaskReward=N;var L=function(t){function e(e,i){return t.call(this,e,i,!0)||this}return n(e,t),e.prototype._finalize=function(t){var e=this;r.default.sound.bgm.fadeOut(1200),createjs.Tween.get(t).to({alpha:0},300).call(function(){t.deactivate(),e._bonus.removeChild(t)}),createjs.Tween.get(this._bonus).wait(100).to({alpha:0},300).call(function(){e.dispose(),e._endTask()})},e}(j.TaskBonusShip)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(46),r=i(127),s=function(t){function e(){var e=t.call(this)||this;return e._rewards=[],e}return n(e,t),Object.defineProperty(e.prototype,"rewards",{get:function(){return this._rewards},enumerable:!0,configurable:!0}),e.prototype.add=function(t,e){var i=new r.RewardModelUseitem(t,e);return this._rewards.push(i),this},e}(o.RewardModel);e.RewardModelMultiUseitem=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=function(t){function e(){var e=t.call(this)||this;return e._activated=!1,e._enabled=!0,e.__onMouseOver=function(){e._update(!0)},e.__onMouseOut=function(){e._update(!1)},e.__onClick=function(){null!=e._cb_onClick&&e._cb_onClick()},e.interactive=!0,e}return n(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled!=t&&(this._enabled=t,1==this._enabled&&1==this._activated?this._activate():this._deactivate(),this._update(!1))},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){void 0===t&&(t=null),this._deactivate(),this._cb_onClick=t,1==this._enabled&&1==this._activated&&this.activate(),this._update(!1)},e.prototype.activate=function(){this._activated=!0,1!=this.buttonMode&&0!=this.enabled&&this._activate()},e.prototype.deactivate=function(){this._activated=!1,this._deactivate()},e.prototype.dispose=function(){this.deactivate(),this._cb_onClick=null},e.prototype._activate=function(){this.buttonMode=!0,this.on(o.EventType.MOUSEOVER,this._onMouseOver),this.on(o.EventType.MOUSEOUT,this._onMouseOut),this.on(o.EventType.CLICK,this._onClick)},e.prototype._deactivate=function(){this.buttonMode=!1,this.off(o.EventType.MOUSEOVER,this._onMouseOver),this.off(o.EventType.MOUSEOUT,this._onMouseOut),this.off(o.EventType.CLICK,this._onClick)},e.prototype._onMouseOver=function(){this.__onMouseOver()},e.prototype._onMouseOut=function(){this.__onMouseOut()},e.prototype._onClick=function(){this.__onClick()},e}(PIXI.Sprite);e.BtnBase=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=i(31),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._update=function(t){this.texture=0==t?o.COMMON_MISC.getTexture(20):o.COMMON_MISC.getTexture(21)},e}(r.BtnBase);e.BackBtn=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(31),r=function(t){function e(e){void 0===e&&(e=null);var i=t.call(this)||this;return i._img=new PIXI.Sprite,i.addChild(i._img),null!=e&&i.update(e),i}return n(e,t),e.prototype.update=function(t){this._img.texture=t,this._img.x=-Math.round(this._img.width/2),this._img.y=-Math.round(this._img.height/2)},e}(o.Container);e.CenteringSprite=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(55),s=i(25),a=i(14),_=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.setTexture=function(t){this._loader=null,this.texture=t},e.prototype.setImage=function(t,e,i){void 0===i&&(i=null),this._load(t,e,i)},e.prototype.dispose=function(){this._loader=null},e.prototype._load=function(t,e,i){var n=this,_=s.MathUtil.zeroPadding(t,3),l=s.MathUtil.zeroPadding(e,2),u=r.MapUtil.toMapID(t,e),c=a.UIImageLoader.getResourceVersionMap(u),h=o.default.settings.path_root+"resources/map/"+_+"/"+l+".png"+(c?"?version="+c:"");if(null!=PIXI.utils.TextureCache[h])return this.texture=PIXI.utils.TextureCache[h],void(null!=i&&i());this._loader=new PIXI.loaders.Loader,this._loader.add(h),this._loader.load(function(t){if(n._loader==t){n._loader=null;var e=t.resources[h];n.texture=e.texture,null!=i&&i()}})},e}(PIXI.Sprite);e.MapThumbnailImage=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(1),a=i(66),_=i(8),l=i(40),u=i(13),c=i(207),h=i(646),p=i(209),d=function(t){function e(e,i,n,u){void 0===u&&(u=null);var c=t.call(this)||this;return c._moveCard=function(){null!=c._pre_task&&(c._pre_task.dispose(),c._pre_task=null),c._play_bgm&&r.default.sound.bgm.play(132,!0,1e3);var t=new PIXI.Point(c._insert.card.x,c._insert.card.y),e=new PIXI.Point(o.default.width/2,o.default.height/2),i=new PIXI.Point(t.x+300,t.y),n=new PIXI.Point(e.x+150,e.y+150);a.TweenUtil.create3BezierTween(c._insert.card,t,i,n,e,700),createjs.Tween.get(c._insert.card).to({scaleX:.86,scaleY:.86,rotation:4*Math.PI},700).to({scaleX:1,scaleY:1},133).wait(700).call(function(){c._insert.particle.activate()}).wait(1e3).call(c._flash)},c._flash=function(){var t=r.default.model.ship.getMst(c._mst_id),e=r.default.model.ship_graph.get(c._mst_id),i=e.getCenterOffset(!1);c._bonus.alpha=1,c._bonus.initialize(t.mstID,t.name,t.shipTypeName,t.message_text,i),createjs.Tween.get(c._insert.card).to({alpha:0},800),createjs.Tween.get(c._insert.flash).to({scaleX:3.5,scaleY:3.5},800),createjs.Tween.get(c._bonus).to({alpha:1},400),createjs.Tween.get(c._insert).wait(800).to({alpha:0},200).call(function(){c._layer.removeChild(c._insert),c._insert.dispose(),c._insert=null,c._showBonus()})},c._showMessageBox=function(){createjs.Tween.get(c._bonus.message_box).to({y:480},300).call(c._waitClick)},c._waitClick=function(){c._bonus.message_box.activate();var t=new l.GearBtnHome;t.position.set(1140,660),t.initialize(),t.activate(),c._bonus.addChild(t);var e=new _.AreaBox(0);e.interactive=!0,e.buttonMode=!0,c._bonus.addChild(e),c._voice=r.default.sound.voice.play(c._mst_id.toString(),1),e.once(s.EventType.CLICK,function(){r.default.sound.voice.stop(c._voice),c._voice=null,c._bonus.removeChild(e),c._finalize(t)})},c._layer=e,c._mst_id=i,c._pre_task=u,c._play_bgm=n,c}return n(e,t),e.prototype._start=function(){this._bonus=new h.BonusShip,this._bonus.alpha=0,this._layer.addChild(this._bonus),this._insert=new c.BonusInsert,this._loadBG()},e.prototype._loadBG=function(){var t=this,e=r.default.model.ship.getMst(this._mst_id);this._bonus.bg.initiailzeForShip(e.rarity,function(){t._loadShipImage()})},e.prototype._loadShipImage=function(){var t=this,e=new u.ShipLoader;e.add(this._mst_id,!1,"full"),e.load(function(){t._insert.preload(function(){t._showInsert()})})},e.prototype._showInsert=function(){this._insert.initialize(3),this._insert.alpha=0,this._insert.card.scale.set(.38),this._insert.card.position.set(o.default.width/2-228,o.default.height/2+521),this._insert.flash.position.set(o.default.width/2,o.default.height/2),this._layer.addChild(this._insert),createjs.Tween.get(this._insert).to({alpha:1},500).call(this._moveCard)},e.prototype._showBonus=function(){this._bonus.particle.activate(),createjs.Tween.get(null).wait(500).call(this._showMessageBox)},e.prototype._finalize=function(t){var e=this;this._play_bgm&&r.default.sound.bgm.fadeOut(1200),createjs.Tween.get(t).to({alpha:0},300).call(function(){t.deactivate(),e._bonus.removeChild(t),e._endTask()})},e.prototype.dispose=function(){this._bonus.dispose(),this._layer.removeChild(this._bonus),this._layer=null,this._bonus=null},e}(p.TaskBonusBase);e.TaskBonusShip=d},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(307),r=i(23),s=i(12),a=i(645),_=i(10),l=function(t){function e(){var e=t.call(this)||this;return e._bg_light=new o.GetBG,e._bg_dark=new o.GetBG,e._particle=new a.BonusInsertParticle,e._card=new u,e._flash=new s.Sprite,e._flash.anchor.set(.5),e._flash.scale.set(0),e.addChild(e._bg_light),e.addChild(e._bg_dark),e.addChild(e._particle),e.addChild(e._card),e.addChild(e._flash),e}return n(e,t),Object.defineProperty(e.prototype,"bg_dark",{get:function(){return this._bg_dark},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"particle",{get:function(){return this._particle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"card",{get:function(){return this._card},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flash",{get:function(){return this._flash},enumerable:!0,configurable:!0}),e.prototype.preload=function(t){var e=this;this._bg_light.initiailzeGetBG1(function(){e._bg_dark.initiailzeGetBG2(function(){null!=t&&t()})})},e.prototype.initialize=function(t){this._card.initialize(t),this._flash.texture=_.COMMON_MISC.getTexture(68)},e.prototype.dispose=function(){this.removeChildren(),this._bg_light=null,this._bg_dark=null,this._particle.dispose(),this._particle=null,this._card=null,this._flash=null},e}(PIXI.Container);e.BonusInsert=l;var u=function(t){function e(){var e=t.call(this)||this;return e._content=new PIXI.Sprite,e._content.anchor.set(.5),e.addChild(e._content),e}return n(e,t),e.prototype.initialize=function(t){this._content.texture=_.COMMON_MISC.getTexture(67),3!=t&&(this._content.scale.y=.7)},e}(r.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(10),s=function(t){function e(){var e=t.call(this)||this;return e._onChange=function(){e.children.length<30&&Math.random()<.05&&e.addChild(new a);for(var t=0,i=e.children;t<i.length;t++){i[t].update()}},e.visible=!1,e}return n(e,t),e.prototype.activate=function(){null==this._t&&(this._t=createjs.Tween.get(null,{loop:!0,onChange:this._onChange}),this.visible=!0)},e.prototype.deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null,this.visible=!1)},e.prototype.dispose=function(){this.deactivate(),this.removeChildren()},e}(PIXI.Container);e.BonusParticle=s;var a=function(t){function e(){var e=t.call(this)||this;e._rad=0;return e.texture=r.COMMON_MISC.getTexture(114),e._init(),e}return n(e,t),e.prototype.update=function(){this.rotation+=this._spdR/180*Math.PI,this.x=this._startX+this._haba*Math.sin(this._rad),this.y+=this._spdY,this._rad+=this._spdRad,this.y>o.default.height+30&&null!=this.parent&&this.parent.removeChild(this)},e.prototype._init=function(){var t=60/createjs.Ticker.framerate;this._startX=Math.random()*(o.default.width-60)+30,this._haba=45*Math.random(),this._spdY=(3*Math.random()+1)*t,this._spdR=(.5*Math.random()+.05)*t,this._spdRad=.05*Math.random()+5e-4,this.x=this._startX,this.y=390*Math.random()-420,this.scale.set(.6*Math.random()+.2)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(o.TaskBase);e.TaskBonusBase=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=function(t){function e(e){void 0===e&&(e=0);var i=t.call(this)||this;return i._mem_id=0,i._mem_id=e,i._url="api_get_member/ship2",i}return n(e,t),e.prototype._connect=function(){this._mem_id>0&&(this._post_data.api_shipid=this._mem_id),this._post_data.api_sort_key=5,this._post_data.spi_sort_order=2,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){if(this._mem_id>0){var e=this._raw_data,i=e[0];o.default.model.ship.updateData(i)}else o.default.model.ship.setData(this._raw_data);t.prototype._completedEnd.call(this)},e}(r.APIBase);e.UserShipAPI=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("common_sort_"+t)}t.getTexture=e}(e.COMMON_SORT||(e.COMMON_SORT={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(687),r=i(213),s=i(4),a=function(t){function e(e){var i=t.call(this)||this,n=new PIXI.Sprite(e);i.addChild(n);return i._textHp=new s.TextBox(20,5523516),i._textHp.anchor.x=1,i.addChild(i._textHp),i._textSoukou=new s.TextBox(20,5523516),i._textSoukou.anchor.x=1,i.addChild(i._textSoukou),i._textKaihi=new s.TextBox(20,5523516),i._textKaihi.anchor.x=1,i.addChild(i._textKaihi),i._textTousai=new s.TextBox(20,5523516),i._textTousai.anchor.x=1,i.addChild(i._textTousai),i._sokuryoku=new r.ShipSpeedImage,i.addChild(i._sokuryoku),i._shatei=new o.ShateiImage,i.addChild(i._shatei),i._textKaryoku=new s.TextBox(20,5523516),i._textKaryoku.anchor.x=1,i.addChild(i._textKaryoku),i._textRaisou=new s.TextBox(20,5523516),i._textRaisou.anchor.x=1,i.addChild(i._textRaisou),i._textTaiku=new s.TextBox(20,5523516),i._textTaiku.anchor.x=1,i.addChild(i._textTaiku),i._textTaisen=new s.TextBox(20,5523516),i._textTaisen.anchor.x=1,i.addChild(i._textTaisen),i._textSakuteki=new s.TextBox(20,5523516),i._textSakuteki.anchor.x=1,i.addChild(i._textSakuteki),i._textLucky=new s.TextBox(20,5523516),i._textLucky.anchor.x=1,i.addChild(i._textLucky),i._alignment(),i}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._sokuryoku.dispose(),this._shatei.dispose(),this._textHp.destroy(),this._textSoukou.destroy(),this._textKaihi.destroy(),this._textTousai.destroy(),this._textKaryoku.destroy(),this._textRaisou.destroy(),this._textTaiku.destroy(),this._textTaisen.destroy(),this._textSakuteki.destroy(),this._textLucky.destroy(),this._textHp=null,this._textSoukou=null,this._textKaihi=null,this._textTousai=null,this._sokuryoku=null,this._shatei=null,this._textKaryoku=null,this._textRaisou=null,this._textTaiku=null,this._textTaisen=null,this._textSakuteki=null,this._textLucky=null},e}(PIXI.Container);e.ShipParameterViewBase=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(28),r=i(3),s=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.dispose=function(){this.texture=PIXI.Texture.EMPTY},e.prototype.update=function(t){switch(o.ShipUtil.getSpeedType(t)){case 4:this.texture=r.COMMON_MAIN.getTexture(60);break;case 3:this.texture=r.COMMON_MAIN.getTexture(56);break;case 2:this.texture=r.COMMON_MAIN.getTexture(53);break;case 1:this.texture=r.COMMON_MAIN.getTexture(54);break;case 0:this.texture=r.COMMON_MAIN.getTexture(59);break;default:this.texture=PIXI.Texture.EMPTY}},e}(PIXI.Sprite);e.ShipSpeedImage=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.update=function(t){var e=PIXI.Texture.EMPTY;switch(t){case 0:e=o.COMMON_MISC.getTexture(26);break;case 1:e=o.COMMON_MISC.getTexture(27);break;case 2:e=o.COMMON_MISC.getTexture(28);break;case 3:e=o.COMMON_MISC.getTexture(29);break;case 4:e=o.COMMON_MISC.getTexture(30);break;case 5:e=o.COMMON_MISC.getTexture(31);break;case 6:e=o.COMMON_MISC.getTexture(32)}this.texture=e},e.prototype.dispose=function(){this.texture=PIXI.Texture.EMPTY},e}(PIXI.Sprite);e.DeckIndexEmblem=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=i(0),s=function(t){function e(e,i,n,o){void 0===e&&(e=!1);var r=t.call(this)||this;return r._url="api_req_hensei/change",r._debug=e,r.api_id=i,r.api_ship_idx=n,r.api_ship_id=o,r}return n(e,t),e.prototype._connect=function(){1==this._debug&&(-2==this.api_ship_id||this.api_ship_id),this._post_data.api_id=this.api_id,this._post_data.api_ship_idx=this.api_ship_idx,this._post_data.api_ship_id=this.api_ship_id,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e=r.default.model.deck.get(this.api_id);-2==this.api_ship_id?e.__removeAll__():-1==this.api_ship_id?e.__remove__(this.api_ship_idx):e.__change__(this.api_ship_idx,this.api_ship_id),t.prototype._completedEnd.call(this)},e}(o.APIBase);e.ChangeAPI=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(11),s=function(t){function e(e){var i=t.call(this)||this;return i._url="api_req_hensei/combined",i.api_combined_type=e,i}return n(e,t),e.prototype._connect=function(){this._post_data.api_combined_type=this.api_combined_type,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){o.default.model.deck.combined.__update__(this.api_combined_type),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.CombinedAPI=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t.shipSortKeyType=1}(e.OrganizeSceneMemory||(e.OrganizeSceneMemory={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);!function(t){function e(t){var e=0,i=0,o=0;return t.forEach(function(t){var r=n.default.model.ship.get(t);e+=r.getFuelForSupply(),i+=r.getAmmoForSupply(),o+=r.getBauxForSupply()}),{fuel:e,ammo:i,baux:o}}function i(e){for(var i=n.default.model.deck.get(e),o=i.getCount(),r=0;r<o;r++){var s=i.getShipMemID(r);if(t.CheckRequireSupplyShip(s))return!0}return!1}function o(e){for(var i=n.default.model.deck.get(e),o=i.getCount(),r=0;r<o;r++){var s=i.getShipMemID(r);if(t.CheckRequireSupplyShipAll(s))return!0}return!1}function r(e){for(var i=n.default.model.deck.get(e),o=i.getCount(),r=0;r<o;r++){var s=i.getShipMemID(r);if(t.CheckRequireSupplyShipBaux(s))return!0}return!1}function s(t){var e=n.default.model.ship.get(t);return!(0!=(e.ammoMax<=e.ammoNow&&e.fuelMax<=e.fuelNow))}function a(t){for(var e=n.default.model.ship.get(t),i=0==(e.ammoMax<=e.ammoNow&&e.fuelMax<=e.fuelNow),o=0;o<e.slotNum;o++){var r=e.getSlotitemTousai(o),s=e.getSlotitemTousaiMax(o),a=e.getSlotitems()[o];if(a&&41==a.equipTypeSp&&(s=1),s>r){i=!0;break}}return!!i}function _(t){for(var e=n.default.model.ship.get(t),i=!1,o=0;o<e.slotNum;o++){var r=e.getSlotitemTousai(o),s=e.getSlotitemTousaiMax(o),a=e.getSlotitems()[o];if(a&&41==a.equipTypeSp&&(s=1),s>r){i=!0;break}}return!!i}t.CalcRequireMaterials=e,t.CheckRequireSupplyDeck=i,t.CheckRequireSupplyDeckAll=o,t.CheckRequireSupplyDeckBaux=r,t.CheckRequireSupplyShip=s,t.CheckRequireSupplyShipAll=a,t.CheckRequireSupplyShipBaux=_}(e.SupplyUtil||(e.SupplyUtil={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=i(0),s=i(7),a=function(t){function e(e,i,n){var o=t.call(this)||this;return o._url="api_req_kaisou/slotset",o.api_id=e,o.api_item_id=i,o.api_slot_idx=n,o}return n(e,t),e.prototype._connect=function(){this._post_data.api_id=this.api_id,this._post_data.api_item_id=this.api_item_id,this._post_data.api_slot_idx=this.api_slot_idx,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){r.default.model.ship.get(this.api_id).__updateSlot__(this.api_slot_idx,this.api_item_id),this._set_bauxite(),t.prototype._completedEnd.call(this)},e.prototype._set_bauxite=function(){if(this._raw_data&&this._raw_data.hasOwnProperty("api_bauxite")){var t=s.ObjUtil.getNumber(this._raw_data,"api_bauxite");r.default.model.useItem.get(34).__setCount__(t)}},e}(o.APIBase);e.SlotSetAPI=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=function(t){function e(e,i){var n=t.call(this)||this;return n._url="api_req_kaisou/slotset_ex",n.api_id=e,n.api_item_id=i,n}return n(e,t),e.prototype._connect=function(){this._post_data.api_id=this.api_id,this._post_data.api_item_id=this.api_item_id,t.prototype._connect.call(this)},e}(o.APIBase);e.SlotSetExAPI=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(135),r=i(3),s=function(t){function e(){var e=t.call(this)||this;return e.textureRemodelCategory1=r.REMODEL_POWERUP.getTexture(23),e.textureRemodelCategory2=r.REMODEL_POWERUP.getTexture(24),e.textureRemodelCategory3=r.REMODEL_POWERUP.getTexture(25),e.textureRemodelCategory4=r.REMODEL_POWERUP.getTexture(26),e}return n(e,t),e.prototype.update=function(t){switch(this.texture=PIXI.Texture.EMPTY,t){case o.PowerUpCategory.Karyoku:this.texture=this.textureRemodelCategory1;break;case o.PowerUpCategory.Raisou:this.texture=this.textureRemodelCategory2;break;case o.PowerUpCategory.Taiku:this.texture=this.textureRemodelCategory3;break;case o.PowerUpCategory.Soukou:this.texture=this.textureRemodelCategory4}},e.prototype.dispose=function(){this.textureRemodelCategory1=null,this.textureRemodelCategory2=null,this.textureRemodelCategory3=null,this.textureRemodelCategory4=null},e}(PIXI.Sprite);e.IconCategory=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e._onClick=function(){e.onClick()},e.on(r.EventType.CLICK,e._onClick),e.interactive=e.buttonMode=!0,e}return n(e,t),e.prototype.dispose=function(){this.removeAllListeners(r.EventType.CLICK),this.texture=PIXI.Texture.EMPTY,this.onClick=null},e.prototype.update=function(t){switch(t){case 0:this.texture=o.COMMON_MAIN.getTexture(48);break;case 1:this.texture=o.COMMON_MAIN.getTexture(47);break;case 4:this.texture=o.COMMON_MAIN.getTexture(49);break;case 3:this.texture=o.COMMON_MAIN.getTexture(50);break;case 2:this.texture=o.COMMON_MAIN.getTexture(51)}},e}(PIXI.Sprite);e.ShipSortButton=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite(o.REPAIR_MAIN.getTexture(21)),n=new PIXI.Sprite(o.REPAIR_MAIN.getTexture(22)),r=new PIXI.Sprite(o.REPAIR_MAIN.getTexture(23)),s=new PIXI.Graphics;return r.position.set(-22,-25),r.visible=!1,e.addChild(n,s,i,r),e.redLight=r,e.gauge=s,e}return n(e,t),e.prototype.update=function(t,e){var i=t/e*100;i<=0?i=0:100<=i&&(i=100),this.updateGauge(i),this.updateBrokenLamp(t/e)},e.prototype.updateBrokenLamp=function(t){null!=this.tween&&(this.tween.setPaused(!0),this.tween=null);var e=.7*(1-t);this.redLight.visible=!0,this.redLight.alpha=0,this.tween=createjs.Tween.get(this.redLight),this.tween.to({alpha:e},1e3).to({alpha:0},1e3),this.tween.loop=!0,this.tween.play(null)},e.prototype.updateGauge=function(t){var e=0;t<33.3?(e=255<<16,e+=t/33.3*128<<8):t<66.6?(e=255<<16,e+=32768,e+=(t-33.3)/33.3*128<<8):(e=255-(t-66.6)/33.3*255<<16,e+=65280),this.gauge.clear(),this.gauge.beginFill(e),this.gauge.drawRect(0,0,t/100*237,10),this.gauge.endFill()},e.prototype.dispose=function(){this.removeChild(this.gauge),this.removeChild(this.redLight),null!=this.tween&&(this.tween.setPaused(!0),createjs.Tween.removeTweens(this.redLight)),this.gauge=null,this.redLight=null,this.tween=null,this.removeChildren()},e}(PIXI.Container);e.RepairHpGaugeView=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(){}return t.playVoiceOnBuildComplete=function(){n.default.model.kdock.getAll().some(function(t){return 3==t.state})&&this.playFlagshipVoice(5)},t.playFlagshipVoice=function(t){var e=n.default.model.deck.get(1).getShipList()[0].mstID;n.default.sound.voice.play(e.toString(),t)},t.developLimit=function(){var t=n.default.model.basic.slotMax-n.default.model.slot.num<=3;return{forShip:n.default.model.basic.shipMax<=n.default.model.ship.num,forSlot:t}},t}();e.ArsenalUtil=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(261),o=i(169),r=function(){function t(t,e,i,o,r,s,a,_,l){if(void 0===_&&(_=-1),void 0===l&&(l=""),this._medal_num=0,this._id_second=-1,this._name_second="",this._practice=e,this._medal_num=i,this._user_name=o,t instanceof n.DeckModel){var u=t;this._id=u.mstID,this._type=u.getCombinedType(),this._name=u.name,this.updateShipList(u),this._id_second=u.getSubDeckID(),this._name_second=u.getSubDeckName()}else this._id=t,this._type=r,this._name=s,this._ships=a.concat(),this._id_second=_,this._name_second=l;if(0!=this._type){for(;this._ships.length<12;)this._ships.push(null);if(this._ships.length>12)throw new Error("DeckModelReplica")}else{for(;this._ships.length<6;)this._ships.push(null);if(this._ships.length>7)throw new Error("DeckModelReplica")}}return Object.defineProperty(t.prototype,"practice",{get:function(){return this._practice},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"user_name",{get:function(){return this._user_name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"medal_num",{get:function(){return this._medal_num},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ships",{get:function(){return this._ships},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ships_main",{get:function(){if(0!=this._type)return this._ships.slice(0,6);for(var t=6;t<this._ships.length;t++)if(null==this._ships[t])return this._ships.slice(0,t);return this._ships},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ships_sub",{get:function(){return 0!=this._type?this._ships.slice(6):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formation",{get:function(){return this._formation_id},set:function(t){this._formation_id=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id_second",{get:function(){return this._id_second},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name_second",{get:function(){return this._name_second},enumerable:!0,configurable:!0}),t.prototype.isCombined=function(){return 0!=this._type},t.prototype.isYugeki=function(){return 12!=this._ships.length&&(this._ships.length>=7&&null!=this._ships[6])},t.prototype.getCount=function(){var t=0;if(null!=this._ships)for(var e=0,i=this._ships;e<i.length;e++){var n=i[e];null!=n&&t++}return t},t.prototype.getCountMainDeck=function(){if(null==this._ships)return 0;var t=0;t=0==this._type?this._ships.length:6;for(var e=0,i=0;i<t;i++){var n=this._ships[i];null!=n&&(1!=n.isTaihi()&&e++)}return e},t.prototype.getCountSubDeck=function(){if(null==this._ships)return 0;if(0==this._type)return 0;for(var t=0,e=6;e<this._ships.length;e++){var i=this._ships[e];null!=i&&(1!=i.isTaihi()&&t++)}return t},t.prototype.isSubmarineAll=function(){if(null==this._ships)return!1;for(var t=0,e=this._ships;t<e.length;t++){var i=e[t];if(null!=i&&0==i.isSubMarine())return!1}return!0},t.prototype.getTotalHP=function(){var t=0;if(null==this._ships)return 0;for(var e=0,i=this._ships;e<i.length;e++){var n=i[e];null!=n&&(t+=n.hp_now)}return t},t.prototype.updateShipList=function(t){var e=this._ships;this._ships=[];for(var i=t.getShipListAll(),n=0;n<i.length;n++){var r=i[n];if(null==r)this._ships.push(null);else{var s=o.ShipModelReplica.convert(0,this.practice,n,r);if(null!=e&&e.length>n){var a=e[n];null!=a&&s.initializeTaihi(a.isTaihi())}this._ships.push(s)}}},t}();e.DeckModelReplica=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(t,e,i,n){void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=-1),this._mem_id=0,this._level=0,this._mst_id=t,this._mem_id=e,this._level=i,this._sakuteki=n}return t.convert=function(e){return null==e?null:new t(e.mstID,e.memID,e.level,e.sakuteki)},t.convertFromMstIDs=function(e){if(null==e)return null;for(var i=new Array,n=0,o=e;n<o.length;n++){var r=o[n];r>0?i.push(new t(r)):i.push(null)}return i},t.converts=function(e){if(null==e)return null;var i=new Array;if(null!=e)for(var n=0,o=e;n<o.length;n++){var r=o[n];i.push(t.convert(r))}return i},Object.defineProperty(t.prototype,"mst_id",{get:function(){return this._mst_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mem_id",{get:function(){return this._mem_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return n.default.model.slot.getMst(this._mst_id).name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconType",{get:function(){return n.default.model.slot.getMst(this._mst_id).iconType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"equipType",{get:function(){return n.default.model.slot.getMst(this._mst_id).equipType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"equipTypeSp",{get:function(){return n.default.model.slot.getMst(this._mst_id).equipTypeSp},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sakuteki",{get:function(){return this._sakuteki>=0?this._sakuteki:n.default.model.slot.getMst(this._mst_id).sakuteki},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"taiku",{get:function(){return n.default.model.slot.getMst(this._mst_id).taiku},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"taisen",{get:function(){return n.default.model.slot.getMst(this._mst_id).taisen},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this._mst_id,this._mem_id,this._level,this._sakuteki)},t}();e.SlotitemModelReplica=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(PIXI.Container);e.ViewMainBase=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(202),r=i(30),s=function(t){function e(e,i,n){var o=t.call(this)||this;return o._cb_onChange=n,o._btn_sortie=new a(0),o._btn_practice=new a(1),o._btn_expedition=new a(2),o._btn_expedition.enabled=i,0==e?o._btn_sortie.selected=!0:1==e?o._btn_practice.selected=!0:2==e&&(o._btn_expedition.selected=!0),o._btn_practice.x=129,o._btn_expedition.x=255,o.addChild(o._btn_sortie),o.addChild(o._btn_practice),o.addChild(o._btn_expedition),o}return n(e,t),e.prototype.initialize=function(){var t=this;this._btn_sortie.initialize(function(){null!=t._cb_onChange&&t._cb_onChange(0)}),this._btn_practice.initialize(function(){null!=t._cb_onChange&&t._cb_onChange(1)}),this._btn_expedition.initialize(function(){null!=t._cb_onChange&&t._cb_onChange(2)})},e.prototype.activate=function(){this._btn_sortie.activate(),this._btn_practice.activate(),this._btn_expedition.activate()},e.prototype.deactivate=function(){this._btn_sortie.deactivate(),this._btn_practice.deactivate(),this._btn_expedition.deactivate()},e.prototype.dispose=function(){this._btn_sortie.dispose(),this._btn_practice.dispose(),this._btn_expedition.dispose(),this._cb_onChange=null},e}(PIXI.Container);e.CompSwitchBtns=s;var a=function(t){function e(e){var i=t.call(this)||this;return i._selected=!1,i._type=e,i}return n(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected=t,this.enabled=0==this._selected},enumerable:!0,configurable:!0}),e.prototype._update=function(t){switch(this._type){case 0:return void(1==t||1==this._selected?this.texture=r.SALLY_COMMON.getTexture(58):this.texture=r.SALLY_COMMON.getTexture(57));case 1:return void(1==t||1==this._selected?this.texture=r.SALLY_COMMON.getTexture(53):this.texture=r.SALLY_COMMON.getTexture(52));case 2:return void(0==this.enabled&&0==this._selected?this.texture=r.SALLY_COMMON.getTexture(55):1==t||1==this._selected?this.texture=r.SALLY_COMMON.getTexture(56):this.texture=r.SALLY_COMMON.getTexture(54))}this.texture=PIXI.Texture.EMPTY},e}(o.BtnBase)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(30),r=function(t){function e(){var e=t.call(this)||this;return e._activated=!1,e._enabled=!0,e._supply_max=!1,e}return n(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled!=t&&(this._enabled=t,1==this._activated&&(1==this._enabled?this.activate():(this._on1.visible=!1,this._on2.visible=!1,this._on3.visible=!1,this._deactivate())))},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){var t=new PIXI.Sprite(o.SALLY_COMMON.getTexture(25));this._on1=new PIXI.Sprite,this._on2=new PIXI.Sprite,this._on3=new PIXI.Sprite,this._on1.position.set(4,16),this._on2.position.set(33,16),this._on3.position.set(61,4),this.addChild(t),this.addChild(this._on1),this.addChild(this._on2),this.addChild(this._on3),this.update(!0)},e.prototype.update=function(t){this._supply_max!=t&&(this._supply_max=t,1==t?(this._on1.texture=o.SALLY_COMMON.getTexture(22),this._on2.texture=o.SALLY_COMMON.getTexture(22),this._on3.texture=o.SALLY_COMMON.getTexture(21)):(this._on1.texture=o.SALLY_COMMON.getTexture(24),this._on2.texture=o.SALLY_COMMON.getTexture(24),this._on3.texture=o.SALLY_COMMON.getTexture(23)))},e.prototype.activate=function(){var t=this;this._activated=!0,null==this._t&&(this._on1.visible=!1,this._on2.visible=!1,this._on3.visible=!1,0!=this._enabled&&(this._t=createjs.Tween.get(this,{loop:!0}).wait(300).call(function(){t._on1.visible=!0}).wait(300).call(function(){t._on1.visible=!1,t._on2.visible=!0}).wait(300).call(function(){t._on2.visible=!1,t._on3.visible=!0}).wait(300).call(function(){t._on3.visible=!1})))},e.prototype.deactivate=function(){this._activated=!1,this._deactivate()},e.prototype.dispose=function(){this.deactivate(),this.removeChildren()},e.prototype._deactivate=function(){this._stopAnimation(),this._on1.visible=!1,this._on2.visible=!1,this._on3.visible=!1},e.prototype._stopAnimation=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Container);e.CompArrow2=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;i._activated=!1,i._onClick=function(t){null!=i._cb&&i._cb(t)},i._cb=e,i._btns=new Array;var n=new a(1,i._onClick);return i._btns.push(n),n=new a(2,i._onClick),n.x=45,i._btns.push(n),n=new a(3,i._onClick),n.x=90,i._btns.push(n),n=new a(4,i._onClick),n.x=135,i._btns.push(n),i}return n(e,t),e.prototype.initialize=function(t){for(var e=0,i=this._btns;e<i.length;e++){var n=i[e];n.initialize(),n.setEnabled(-1!=t.indexOf(n.id)),this.addChild(n)}},e.prototype.activate=function(){if(1!=this._activated){for(var t=0,e=this._btns;t<e.length;t++){e[t].activate()}this._activated=!0}},e.prototype.deactivate=function(){for(var t=0,e=this._btns;t<e.length;t++){e[t].deactivate()}this._activated=!1},e.prototype.dispose=function(){for(var t=0,e=this._btns;t<e.length;t++){e[t].dispose()}this._cb=null},e.prototype.setSelected=function(t){for(var e=0,i=this._btns;e<i.length;e++){var n=i[e];n.setSelected(t==n.id)}},e}(PIXI.Container);e.CompDeckBtns=s;var a=function(t){function e(e,i){var n=t.call(this)||this;return n._enabled=!0,n._selected=!1,n._activated=!1,n._texture_no=-1,n._texture_no_on=-1,n._texture_no_off=-1,n._onClick=function(){null!=n._cb&&n._cb(n._id)},n._id=e,n._cb=i,n}return n(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){1==this._id?(this._texture_no=73,this._texture_no_on=74,this._texture_no_off=72):2==this._id?(this._texture_no=76,this._texture_no_on=77,this._texture_no_off=75):3==this._id?(this._texture_no=79,this._texture_no_on=80,this._texture_no_off=78):4==this._id&&(this._texture_no=82,this._texture_no_on=83,this._texture_no_off=81),this._updateTexture()},e.prototype.setEnabled=function(t){this._enabled=t,this._updateTexture(),this.deactivate()},e.prototype.setSelected=function(t){this._selected=t,this._updateTexture(),1==this._selected?this.deactivate():this.activate()},e.prototype.activate=function(){1!=this._activated&&0!=this._enabled&&1!=this._selected&&(this.interactive=this.buttonMode=!0,this.on(r.EventType.CLICK,this._onClick),this._activated=!0)},e.prototype.deactivate=function(){this.interactive=this.buttonMode=!1,this.off(r.EventType.CLICK,this._onClick),this._activated=!1},e.prototype.dispose=function(){this.deactivate(),this._cb=null},e.prototype._updateTexture=function(){-1!=this._texture_no&&(0==this._enabled?this._setTexture(this._texture_no_off):1==this._selected?this._setTexture(this._texture_no_on):this._setTexture(this._texture_no))},e.prototype._setTexture=function(t){this.texture=o.COMMON_MISC.getTexture(t)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(55),s=i(68),a=i(232),_=i(205),l=i(52),u=i(1002),c=i(1003),h=i(1004),p=i(370),d=i(1),f=function(t){function e(e,i,n,o,r){var s=t.call(this)||this;return s._mst_id=0,s._enabled=!1,s._onMouseOver=function(){s._update(!0),null!=s._cb_onMouseOver&&s._cb_onMouseOver(s._mst_id)},s._onMouseOut=function(){s._update(!1),null!=s._cb_onMouseOut&&s._cb_onMouseOut(s._mst_id)},s._onClick=function(t){if(null!=s._cb_onClick){var e=t.data.global,i=new PIXI.Point(e.x,e.y);s._cb_onClick(s._mst_id,i)}},s._onClickAirUnitBadge=function(){null!=s._cb_onClickAirUnitBadge&&s._cb_onClickAirUnitBadge()},s._type=e,s._cb_onClick=i,s._cb_onClickAirUnitBadge=n,s._cb_onMouseOver=o,s._cb_onMouseOut=r,s._image=new _.MapThumbnailImage,s._clear=new c.ClearBadge,s._focus=new PIXI.Sprite,s._focus.visible=!1,s._lock=s._createLock(),s._gauge=new a.GaugeHorizontal,s._airUnitBanner=new h.AirUnitBadge(s._onClickAirUnitBadge),s._setPositions(),s.interactive=!0,s}return n(e,t),Object.defineProperty(e.prototype,"mst_id",{get:function(){return this._mst_id},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){if(this._focus.visible=!1,this._airUnitBanner.visible=!1,null==t)this._enabled=!1,this._mst_id=0,this._image.setTexture(this._getNoneTexture()),this._lock.initialize(1),this._lock.visible=!0;else{this._mst_id=t.mst_id;var e=r.MapUtil.toAreaID(this._mst_id),i=r.MapUtil.toMapNo(this._mst_id);if(this._image.setImage(e,i),1==t.isOpened()){if(this._enabled=!0,this._focus.texture=this._getFocusTexture(),this._lock.visible=!1,t.availableAirUnitCount>0){var n=u.getType(this._mst_id);this._airUnitBanner.initialize(n),this._airUnitBanner.update(t.availableAirUnitCount);var o=u.getPosition(this._mst_id);null!=o?this._airUnitBanner.position.set(o.x,o.y):this._airUnitBanner.position.set(0,0),this._airUnitBanner.visible=!0}}else this._enabled=!1,65==t.mst_id?this._lock.initialize(3):this._lock.initialize(0),this._lock.visible=!0}this._initClearBadge(t),this.updateGauge(t),this.addChild(this._image),this.addChild(this._focus),this.addChild(this._clear),this.addChild(this._lock),this.addChild(this._gauge),this.addChild(this._airUnitBanner)},e.prototype.updateAirUnitEnabled=function(t){this._airUnitBanner.enabled=t},e.prototype.updateGauge=function(t){if(null!=t){if(t.gauge_max>0){if(t.gauge_now<=0)return}else if(t.defeat_required<=0)return;if(0!=t.isOpened()){var e=t.area_id,i=t.map_no,n=t.getGaugeNum(),r=s.GaugeSetModel.createKey(e,i,n),a=o.default.resources.gauge.getGaugeInfo(r);if(null!=a)if(this._gauge.initialize(a),this._gauge.x=a.x,this._gauge.y=a.y,this._gauge.tp_visible=0!=t.getSelectedOperationType(),t.defeat_required>0){var _=t.defeat_required,l=_-t.defeat_count;this._gauge.update(l,_)}else{var l=t.gauge_now,_=t.gauge_max;this._gauge.update(l,_)}}}},e.prototype._initClearBadge=function(t){if(null==t||0==t.isOpened()||0==t.isCleared())return void this._clear.hide();var e=t.getSelectedOperationType();this._clear.show(e)},e.prototype._setPositions=function(){3==this._type?this._clear.position.set(930,8):4==this._type&&this._clear.position.set(434,8)},e.prototype._getNoneTexture=function(){return 3==this._type?l.SALLY_SORTIE.getTexture(40):4==this._type?l.SALLY_SORTIE.getTexture(39):PIXI.Texture.EMPTY},e.prototype._getFocusTexture=function(){return 3==this._type?l.SALLY_SORTIE.getTexture(38):4==this._type?l.SALLY_SORTIE.getTexture(37):PIXI.Texture.EMPTY},e.prototype.activate=function(){0==this.buttonMode&&1==this._enabled&&(this.buttonMode=!0,this.on(d.EventType.MOUSEOVER,this._onMouseOver),this.on(d.EventType.MOUSEOUT,this._onMouseOut),this.on(d.EventType.CLICK,this._onClick)),1==this._lock.visible&&this._lock.activate()},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(d.EventType.MOUSEOVER,this._onMouseOver),this.off(d.EventType.MOUSEOUT,this._onMouseOut),this.off(d.EventType.CLICK,this._onClick),this._lock.deactivate()},e.prototype.dispose=function(){this.interactive=!1,this.deactivate(),this._gauge.dispose(),this._airUnitBanner.dispose(),this._cb_onClick=null,this._cb_onClickAirUnitBadge=null},e.prototype._createLock=function(){return new p.MapThumbnailLocked(this._type)},e.prototype._update=function(t){this._focus.visible=1==t},e}(PIXI.Container);e.MapThumbnail=f},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(10),s=function(t){function e(){var e=t.call(this)||this;return e._now=-1,e._max=100,e._tp_visible=!0,e._bar=new a,e._img=new PIXI.Sprite,e._light=new PIXI.Sprite,e._tp=new _,e.addChild(e._bar),e.addChild(e._img),e.addChild(e._light),e.addChild(e._tp),e.visible=!1,e}return n(e,t),Object.defineProperty(e.prototype,"tp_visible",{get:function(){return this._tp_visible},set:function(t){this._tp_visible=t,this._tp.visible=this._tp.enabled&&this._tp_visible},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){if(null==t)return this._stopTween(),this._tp.enabled=!1,void(this.visible=!1);this._img.texture=o.default.resources.gauge.getTexture(t.image_path),this._light.texture=o.default.resources.gauge.getTexture(t.image_light_path),this._light.x=t.lightX,this._light.y=t.lightY,this._bar.x=t.barX,this._bar.y=t.barY,this._bar.initialize(t.barColor,t.barW,t.barH),this._tp.visible=!1,1==t.isTransport()?(this._tp.initialize(),this._tp.x=t.transportX,this._tp.y=t.transportY,this._tp.enabled=!0):this._tp.enabled=!1,this.visible=!0,this._startTween()},e.prototype.update=function(t,e,i){void 0===i&&(i=null),this._now=t,this._max=e;var n=this._now/this._max;n=Math.max(n,0),n=Math.min(n,1),this._bar.update(n,i),1==this._tp.enabled?(this._tp.update(t,e),this._tp.visible=this._tp_visible):this._tp.visible=!1},e.prototype.dispose=function(){this._stopTween(),this._bar.dispose()},e.prototype._startTween=function(){null==this._t&&(this._light.alpha=0,this._t=createjs.Tween.get(this._light,{loop:!0}).to({alpha:1},500).to({alpha:0},500))},e.prototype._stopTween=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null),this._light.alpha=0},e}(PIXI.Container);e.GaugeHorizontal=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initialize=function(t,e,i){this.clear(),this.beginFill(t),this.drawRect(0,0,e,i),this.endFill()},e.prototype.update=function(t,e){if(void 0===e&&(e=null),this._stopAnimation(),null==e)this.scale.x=t;else{var i=this.width-this.width*t,n=i/2/30*1e3;this._t=createjs.Tween.get(this.scale).to({x:t},n).call(function(){null!=e&&e()})}},e.prototype.dispose=function(){this._stopAnimation()},e.prototype._stopAnimation=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Graphics),_=function(t){function e(){var e=t.call(this)||this;return e._enabled=!1,e._title=new PIXI.Sprite,e._slash=new PIXI.Sprite,e._slash.x=62,e._now=new l,e._now.x=30,e._max=new l,e._max.x=68,e.addChild(e._title),e.addChild(e._slash),e.addChild(e._now),e.addChild(e._max),e}return n(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._title.texture=r.COMMON_MISC.getTexture(66),this._slash.texture=r.COMMON_MISC.getTexture(65)},e.prototype.update=function(t,e){this._now.update(t),this._max.update(e)},e}(PIXI.Container),l=function(t){function e(){var e=t.call(this)||this;e._nums=[];for(var i=0;i<4;i++){var n=new u;n.x=8*i,e.addChild(n),e._nums.push(n)}return e}return n(e,t),e.prototype.update=function(t){if(t=Math.floor(t),t=Math.max(0,t),0!=(t=Math.min(9999,t)))for(var e=!1,i=0;i<this._nums.length;i++){var n=Math.pow(10,this._nums.length-i-1),o=Math.floor(t/n);o>0||1==e?(this._nums[i].update(o),e=!0):this._nums[i].update(-1),t%=n}else for(var i=0;i<this._nums.length;i++)i==this._nums.length-1?this._nums[i].update(0):this._nums[i].update(-1)},e}(PIXI.Container),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.update=function(t){t>=0&&t<=9?(this.texture=r.COMMON_MISC.getTexture(e._TEXTURES[t]),this.visible=!0):this.visible=!1},e._TEXTURES=[55,56,57,58,59,60,61,62,63,64],e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var i=t.call(this)||this;return i._offset=0,i._offset=e,i._maps=[],i}return n(e,t),Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"num",{get:function(){return this._maps.length},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){for(var e=0;e<this._maps.length;e++){var i=e+this._offset,n=t.length>i?t[i]:null;this._maps[e].initialize(n)}},e.prototype.updateAirUnitEnabled=function(t){for(var e=0,i=this._maps;e<i.length;e++){i[e].updateAirUnitEnabled(t)}},e.prototype.updateGauge=function(t){for(var e=t.mst_id,i=0,n=this._maps;i<n.length;i++){var o=n[i];if(o.mst_id==e)return void o.updateGauge(t)}},e.prototype.activate=function(){for(var t=0,e=this._maps;t<e.length;t++){e[t].activate()}},e.prototype.deactivate=function(){for(var t=0,e=this._maps;t<e.length;t++){e[t].deactivate()}},e.prototype.dispose=function(){for(var t=0,e=this._maps;t<e.length;t++){e[t].dispose()}},e}(PIXI.Container);e.LayoutBase=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o,r=i(58),s=i(376),a=i(235);!function(t){t[t.LIST=0]="LIST",t[t.DETAIL=1]="DETAIL"}(o=e.ShadowType||(e.ShadowType={}));var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.update=function(t,e){var i=a.shipTypeIdToCategory(t),n=this._shipTypeToResourceID(i,e);this.texture=e?s.SALLY_EXPEDITION_DETAIL.getTexture(n):r.SALLY_EXPEDITION.getTexture(n)},e.prototype._shipTypeToResourceID=function(t,e){if(e==o.DETAIL)switch(t){case 0:return 4;case 1:return 6;case 2:return 7;case 3:return 8;case 4:return 9;case 5:return 10;case 6:return 11;case 7:return 12;case 8:return 5;case 9:return 13}else switch(t){case 0:return 106;case 1:return 108;case 2:return 109;case 3:return 110;case 4:return 111;case 5:return 112;case 6:return 113;case 7:return 114;case 8:return 107;case 9:return 115}},e.prototype.dispose=function(){this.texture=PIXI.Texture.EMPTY},e}(PIXI.Sprite);e.ShipShadow=_},function(t,e,i){"use strict";function n(t){return t<=0?"\u306a\u3057":t<=.3?"\u5c11\u91cf":"\u666e\u901a"}function o(t){var e=Math.floor(t/6e4/60),i=Math.floor(t/6e4%60),n="";return e<10&&(n+="0"),n+=e+":",i<10&&(n+="0"),n+=""+i}function r(t){var e=Math.floor(t/60),i=Math.floor(t%60),n="";return 0<e&&(n=e+":",i<10&&(n+="0")),n+=""+i}function s(t){switch(t){case 1:return 5;case 2:return 4;case 3:case 4:return 3;case 5:case 6:return 2;case 7:return 1;case 8:case 9:return 0;case 10:return 8;case 11:return 1;case 12:return 0;case 13:case 14:return 6;case 15:case 16:case 17:return 7;case 18:return 1;case 19:case 20:return 7;case 21:return 9;case 22:return 7}throw new Error("UNSUPPORT_TYPE")}Object.defineProperty(e,"__esModule",{value:!0}),e.useMaterialToString=n,e.millisecondToFormatHHMM=o,e.minuteToFormatHHMM=r,e.shipTypeIdToCategory=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("record_parts_"+t)}t.getTexture=e}(e.RECORD_PARTS||(e.RECORD_PARTS={}))},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(381)),n(i(1061)),n(i(1062)),n(i(382))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=function(t){function e(e){var i=t.call(this)||this;return i._url="api_get_member/payitem",i._modelManager=e,i}return n(e,t),e.prototype._completedEnd=function(){this._modelManager.setData(this._raw_data),this._modelManager=null,t.prototype._completedEnd.call(this)},e}(o.APIBase);e.PayItemAPI=r},function(t,e,i){"use strict";function n(){return r(e.POSTER_TYPE)}function o(){return r(e.POSTER_TYPE)}function r(t){return"gd"==t?new PIXI.Point(108,12):"xmas"==t?new PIXI.Point(104,3):"nw"==t?new PIXI.Point(8,12):"happi"==t?new PIXI.Point(32,12):null}Object.defineProperty(e,"__esModule",{value:!0}),e.POSTER_TYPE="smm",e.POSTER_KEY_1="item_poster_1",e.POSTER_KEY_2="item_poster_2",e.getPosterOffsetWelcome=n,e.getPosterOffsetPurchased=o},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(1118)),n(i(93))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.POSTER_GIRL="summer",e.POSTER_KEY_1="duty_poster_1",e.POSTER_KEY_2="duty_poster_2",e.BUTAI_SAIHENSEI=[626,629,630,659,660]},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(417)),n(i(415)),n(i(1200)),n(i(1201))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("revamp_list_"+t)}t.getTexture=e}(e.REVAMP_LIST||(e.REVAMP_LIST={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1226),o=function(){function t(t){this._supplied=-1,this._use_ration=-1,this._gauge_now=0,this._gauge_max=0,this._stage=1,this.m1=0,this._gekimetsu_data=null,this._practice=t,this._map_info=new r,this._ship_info=new s}return Object.defineProperty(t.prototype,"map_info",{get:function(){return this._map_info},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ship_info",{get:function(){return this._ship_info},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"flag",{get:function(){return this._flag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"supplied",{get:function(){return this._supplied},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"use_ration",{get:function(){return this._use_ration},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gauge_now",{get:function(){return this._gauge_now},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gauge_max",{get:function(){return this._gauge_max},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stage",{get:function(){return this._stage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gauge_type",{get:function(){return this._gauge_type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deck_f",{get:function(){return this._deck_f},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deck_e",{get:function(){return this._deck_e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actual_survey_time",{get:function(){return this._actual_survey_time},set:function(t){this._actual_survey_time=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"prediction_time",{get:function(){return this._prediction_time},set:function(t){this._prediction_time=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gekimetsu_data",{get:function(){return this._gekimetsu_data},enumerable:!0,configurable:!0}),t.prototype.updateDeckData=function(t,e){this._deck_f=t,this._deck_e=e},t.prototype.setMapData=function(t,e,i){this._flag=t,this._supplied=e,this._use_ration=i},t.prototype.setMapGaugeInfo=function(t,e,i,n){this._gauge_now=t,this._gauge_max=e,this._gauge_type=i,this._stage=n},t.prototype.setGekimetsuData=function(t){this._gekimetsu_data=t},t.prototype.isPractice=function(){return this._practice},t}();e.BattleSceneModel=o;var r=function(){function t(){this._area_id=0,this._map_no=0,this._cell_no=0,this._boss=!1,this._type=1}return Object.defineProperty(t.prototype,"area_id",{get:function(){return this._area_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"map_no",{get:function(){return this._map_no},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cell_no",{get:function(){return this._cell_no},enumerable:!0,configurable:!0}),t.prototype.init=function(t,e,i,n,o){this._area_id=t,this._map_no=e,this._cell_no=i,this._boss=n,this._type=o},t.prototype.isBoss=function(){return this._boss},t.prototype.isNightStart=function(){return 2==this._type||this.isNightToDayStart()},t.prototype.isNightToDayStart=function(){return 3==this._type||7==this._type},t.prototype.isAirBattle=function(){return 4==this._type},t.prototype.isVS12=function(){return 5==this._type||7==this._type},t.prototype.isAirRaid=function(){return 6==this._type},t.prototype.isLongRangeFires=function(){return 8==this._type},t}(),s=function(){function t(){this._list=[]}return t.prototype.add=function(t,e){var i=new n.DeckInstantModel;i.addList(t);var o=new n.DeckInstantModel;o.addList(e);var r={f:i,e:o};this._list.push(r)},t.prototype.getFirstData=function(t){if(null==this._list)return null;if(0==this._list.length)return null;var e=this._list[0];return t?e.f:e.e},t.prototype.getLastData=function(t){if(null==this._list)return null;if(0==this._list.length)return null;var e=this._list.length,i=this._list[e-1];return t?i.f:i.e},t}()},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(176),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initialize=function(t){this.texture=1==t?o.SALLY_JIN.getTexture(13):o.SALLY_JIN.getTexture(12)},e.prototype.initializeForCombinedMain=function(t,e){if(1==t)switch(e){case 1:this.texture=o.SALLY_JIN.getTexture(27);break;case 2:this.texture=o.SALLY_JIN.getTexture(31);break;case 3:this.texture=o.SALLY_JIN.getTexture(32);break;default:this.texture=PIXI.Texture.EMPTY}else this.texture=o.SALLY_JIN.getTexture(29)},e.prototype.initializeForCombinedSub=function(t){this.texture=1==t?o.SALLY_JIN.getTexture(28):o.SALLY_JIN.getTexture(30)},e}(PIXI.Sprite);e.FormationPoint=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(12),r=i(19),s=function(t){function e(){var e=t.call(this)||this;e._activated=!1;var i=r.MAP_COMMON.getTexture(17);return e._wave=new o.Sprite(i),e._wave.anchor.set(.5),e._wave.scale.set(0),e.addChild(e._wave),e}return n(e,t),e.prototype.activate=function(){1!=this._activated&&(this._activated=!0,this._startTween())},e.prototype.deactivate=function(){this._activated=!1,this._stopTween()},e.prototype.dispose=function(){this.deactivate(),this._wave=null},e.prototype._startTween=function(){null==this._t&&(this._wave.scale.set(0),this._wave.alpha=1,this._t=createjs.Tween.get(this._wave,{loop:!0}).to({scaleX:1,scaleY:1},800).to({scaleX:1.35,scaleY:1.35,alpha:0},300).to({scaleX:0,scaleY:0,alpha:1},0))},e.prototype._stopTween=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Graphics);e.CellWave=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(19),r=function(t){function e(e){void 0===e&&(e=void 0);var i=t.call(this)||this;return i._img=new PIXI.Sprite,i.addChild(i._img),void 0!=e&&i.update(e),i}return n(e,t),e.prototype.update=function(t){if(-1==t)return this._img.position.set(-9,-9),void(this._img.texture=o.MAP_COMMON.getTexture(75));switch(this._img.position.set(-8,-11),t){case 0:this._img.texture=o.MAP_COMMON.getTexture(65);break;case 1:this._img.texture=o.MAP_COMMON.getTexture(66);break;case 2:this._img.texture=o.MAP_COMMON.getTexture(67);break;case 3:this._img.texture=o.MAP_COMMON.getTexture(68);break;case 4:this._img.texture=o.MAP_COMMON.getTexture(69);break;case 5:this._img.texture=o.MAP_COMMON.getTexture(70);break;case 6:this._img.texture=o.MAP_COMMON.getTexture(71);break;case 7:this._img.texture=o.MAP_COMMON.getTexture(72);break;case 8:this._img.texture=o.MAP_COMMON.getTexture(73);break;case 9:this._img.texture=o.MAP_COMMON.getTexture(74);break;default:this._img.texture=PIXI.Texture.EMPTY}},e}(PIXI.Container);e.NumericalDisplay=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(66),a=i(8),_=i(40),l=i(67),u=i(207),c=i(1280),h=i(209),p=i(1),d=function(t){function e(e,i,n,l,u){void 0===u&&(u=null);var c=t.call(this)||this;return c._moveCard=function(){null!=c._pre_task&&(c._pre_task.dispose(),c._pre_task=null),c._play_bgm&&r.default.sound.bgm.play(132,!0,1e3);var t=new PIXI.Point(c._insert.card.x,c._insert.card.y),e=new PIXI.Point(o.default.width/2,o.default.height/2),i=new PIXI.Point(t.x+300,t.y),n=new PIXI.Point(e.x+150,e.y+150);s.TweenUtil.create3BezierTween(c._insert.card,t,i,n,e,700),createjs.Tween.get(c._insert.card).to({scaleX:.86,scaleY:.86,rotation:4*Math.PI},700).to({scaleX:1,scaleY:1},133).wait(700).call(function(){c._insert.particle.activate()}).wait(1e3).call(c._flash)},c._flash=function(){var t=c._mst_id,e=c._count,i=r.default.model.useItem.get(t),n=null==i?"":i.name;c._bonus.alpha=1,c._bonus.initialize(t,e,n),createjs.Tween.get(c._insert.card).to({alpha:0},800),createjs.Tween.get(c._insert.bg_dark).to({alpha:0},800),createjs.Tween.get(c._insert.flash).to({scaleX:3.5,scaleY:3.5},800),createjs.Tween.get(c._insert).wait(800).to({alpha:0},200).call(function(){c._layer.removeChild(c._insert),c._insert.dispose(),c._insert=null,c._showBonus()})},c._showMessageBox=function(){createjs.Tween.get(c._bonus.message_box).to({y:480},300).call(c._waitClick)},c._waitClick=function(){c._bonus.message_box.activate();var t=new _.GearBtnHome;t.position.set(1140,660),t.initialize(),t.activate(),c._bonus.addChild(t);var e=new a.AreaBox(0);e.interactive=!0,e.buttonMode=!0,c._bonus.addChild(e),e.once(p.EventType.CLICK,function(){c._bonus.removeChild(e),c._finalize(t)})},c._layer=e,c._mst_id=i,c._count=n,c._pre_task=u,c._play_bgm=l,c}return n(e,t),e.prototype._start=function(){this._bonus=new c.BonusUseItem,this._bonus.alpha=0,this._layer.addChild(this._bonus),this._insert=new u.BonusInsert,this._loadBG()},e.prototype._loadBG=function(){var t=this;this._bonus.bg.initiailzeForUseitem(function(){t._loadImage()})},e.prototype._loadImage=function(){var t=this,e=new l.UseitemLoader;e.add(this._mst_id,1),e.load(function(){t._insert.preload(function(){t._showInsert()})})},e.prototype._showInsert=function(){this._insert.initialize(6),this._insert.alpha=0,this._insert.card.scale.set(.38),this._insert.card.position.set(o.default.width/2-228,o.default.height/2+521),this._insert.flash.position.set(o.default.width/2,o.default.height/2),this._layer.addChild(this._insert),createjs.Tween.get(this._insert).to({alpha:1},500).call(this._moveCard)},e.prototype._showBonus=function(){this._bonus.particle.activate(),createjs.Tween.get(this._bonus.white).to({alpha:0},500).call(this._showMessageBox)},e.prototype._finalize=function(t){var e=this;this._play_bgm&&r.default.sound.bgm.fadeOut(1200),createjs.Tween.get(t).to({alpha:0},300).call(function(){t.deactivate(),e._bonus.removeChild(t),e._endTask()})},e.prototype.dispose=function(){this._bonus.dispose(),this._layer.removeChild(this._bonus),this._layer=null,this._bonus=null},e}(h.TaskBonusBase);e.TaskBonusUseItem=d},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=function(t){function e(){var e=t.call(this)||this;return e._bg=new PIXI.Sprite,e.addChild(e._bg),e._gear=new PIXI.Sprite,e._gear.anchor.set(.5),e._gear.position.set(32,45),e.addChild(e._gear),e._text=new PIXI.Sprite,e._text.x=60,e.addChild(e._text),e}return n(e,t),e.prototype.initialize=function(t){0==t?(this._bg.texture=o.COMMON_MISC.getTexture(180),this._gear.texture=o.COMMON_MISC.getTexture(182)):(this._bg.texture=o.COMMON_MISC.getTexture(181),this._gear.texture=o.COMMON_MISC.getTexture(183))},e.prototype.update=function(t){this._text.texture=t,this._text.y=Math.round(45-this._text.height/2)},e.prototype.activate=function(){null==this._t&&(this._t=createjs.Tween.get(this._gear,{loop:!0}).to({rotation:2*Math.PI},6e3))},e.prototype.deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e.prototype.dispose=function(){this.deactivate()},e}(PIXI.Container);e.PhaseTitle=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(54),s=function(t){function e(e,i){var n=t.call(this)||this;return n._scene=e,n._record=i,n._damage_cutin=new r.PhaseDamageCutin(e),n}return n(e,t),e.prototype._start=function(){},e.prototype._endTask=function(){var e=this;this._damage_cutin.start(function(){e._aaCutin=null,t.prototype._endTask.call(e)})},e}(o.TaskBase);e.PhaseAirBase=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(20),a=i(12),_=i(8),l=i(13),u=i(24),c=i(6),h=i(1349),p=function(t){function e(e,i,n){var o=t.call(this)||this;if(o.ship_mstid=e,o.ship_damaged=i,o.slot_mstids=[0,0,0],null!=n)for(var r=0;r<n.length&&!(r>=o.slot_mstids.length);r++)o.slot_mstids[r]=n[r];return o.slotName1=new d,o.slotName2=new d,o.slotName3=new d,o}return n(e,t),e.prototype.preload=function(t){this.loadShipImage(t)},e.prototype.loadShipImage=function(t){var e=this,i=new l.ShipLoader;i.add(this.ship_mstid,this.ship_damaged,"full"),i.load(function(){e.loadSlotTextImage(t)})},e.prototype.loadSlotTextImage=function(t){for(var e=new u.SlotLoader,i=0,n=this.slot_mstids;i<n.length;i++){var o=n[i];o>0&&e.add(o,"btxt_flat")}e.load(function(){t()})},e.prototype.init=function(){this.bg=new f(h.BATTLE_CUTIN_ANTI_AIR.getTexture(4)),this.bg.initialize(),this.bg.alpha=0,this.addChild(this.bg);var t=r.default.resources.getShip(this.ship_mstid,this.ship_damaged,"full"),e=r.default.model.ship_graph.get(this.ship_mstid).getBattleOffset(this.ship_damaged);this.ship=new PIXI.Sprite(t),this.ship.position.set(e.x-118-450,e.y-140),this.ship.alpha=0,this.addChild(this.ship),this.slot_mstids[2]>0&&(this.slotName3.position.set(0,330),this.slotName3.init(r.default.resources.getSlotitem(this.slot_mstids[2],"btxt_flat")),this.addChild(this.slotName3)),this.slot_mstids[1]>0&&(this.slotName2.position.set(0,450),this.slotName2.init(r.default.resources.getSlotitem(this.slot_mstids[1],"btxt_flat")),this.addChild(this.slotName2)),this.slot_mstids[0]>0&&(this.slotName1.position.set(0,570),this.slotName1.init(r.default.resources.getSlotitem(this.slot_mstids[0],"btxt_flat")),this.addChild(this.slotName1));var i=[5,6,7,8,9];this.text=[];for(var n=0;n<5;n++){var o=h.BATTLE_CUTIN_ANTI_AIR.getTexture(i[n]),s=new a.Sprite(o);s.position.set(375+120*n,300),s.anchor.set(.5),s.alpha=0,s.scale.set(2.2),this.text.push(s),this.addChild(this.text[n])}this.text_f=[];for(var n=0;n<5;n++){var o=h.BATTLE_CUTIN_ANTI_AIR.getTexture(i[n]),s=new a.Sprite(o);s.position.set(375+120*n,300),s.anchor.set(.5),s.alpha=0,this.text_f.push(s),this.addChild(this.text_f[n])}this.white=new _.AreaBox(1,16777215),this.white.alpha=0,this.addChild(this.white)},e.prototype.play=function(t){this._createTask().start(t)},e.prototype._createTask=function(){var t,e=this,i=new s.TweenTask;t=createjs.Tween.get(this.bg).call(function(){e.bg.activate()}).to({alpha:1},500).wait(2e3).to({alpha:0},500).call(function(){e.bg.deactivate()}),t.ignoreGlobalPause=!0,i.addTween(t);for(var n=0;n<this.text.length;n++)t=createjs.Tween.get(this.text[n]).wait(400+100*n).to({alpha:1,scaleX:1,scaleY:1},400).call(function(){c.SE.play("118")}).wait(250).to({alpha:0,scaleX:2.2,scaleY:2.2},400),t.ignoreGlobalPause=!0,i.addTween(t);for(var n=0;n<this.text_f.length;n++)t=createjs.Tween.get(this.text_f[n]).wait(800+100*n).to({alpha:1},1).to({alpha:0,scaleX:1.3,scaleY:1.3},200),t.ignoreGlobalPause=!0,i.addTween(t);var o=r.default.model.ship_graph.get(this.ship_mstid).getBattleOffset(this.ship_damaged);if(t=createjs.Tween.get(this.ship).wait(700).to({x:o.x-118,y:o.y-140,alpha:1},400).call(function(){r.default.sound.voice.playAtRandom(e.ship_mstid.toString(),[15,17],[50,50])}).wait(400).call(c.SE.play,["116"]).wait(100).call(c.SE.play,["102"]).wait(300).to({x:o.x-118+210,alpha:0},400),t.ignoreGlobalPause=!0,i.addTween(t),this.slot_mstids[0]>0){i.addTweens(this.slotName1.createTweens(1150));var a=this._createExplosion(753,593,-30);this.addChild(a),i.addTweens(a.createTweens(1300))}if(this.slot_mstids[1]>0){i.addTweens(this.slotName2.createTweens(1200));var a=this._createExplosion(753,488,-50);this.addChild(a),i.addTweens(a.createTweens(1400))}if(this.slot_mstids[2]>0){i.addTweens(this.slotName3.createTweens(1250));var a=this._createExplosion(753,383,-70);this.addChild(a),i.addTweens(a.createTweens(1500))}return t=createjs.Tween.get(this.white).wait(1300).to({alpha:1},0).to({alpha:0},100).to({alpha:1},0).to({alpha:0},100).to({alpha:1},0).to({alpha:0},100),t.ignoreGlobalPause=!0,i.addTween(t),i},e.prototype._createExplosion=function(t,e,i){var n=new m;return n.initialize(),n.x=t,n.y=e,n.rotation=i/180*Math.PI,n},e}(PIXI.Container);e.CutinAntiAircraft=p;var d=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.init=function(t){this.name_txt=new PIXI.Sprite(t),this.name_txt.position.set(1180,50),this.name_txt.anchor.set(1,.5),this.name_txt.scale.set(.8),this.name_txt.alpha=0,this.line=new PIXI.Sprite(h.BATTLE_CUTIN_ANTI_AIR.getTexture(1)),this.line.position.set(1200,0),this.addChild(this.line),this.addChild(this.name_txt)},e.prototype.createTweens=function(t){var e,i=[];return e=createjs.Tween.get(this.line).wait(t).to({x:0},200).to({alpha:0},200),e.ignoreGlobalPause=!0,i.push(e),e=createjs.Tween.get(this.name_txt).wait(t+200).to({alpha:1},50).wait(500).to({alpha:0},200),e.ignoreGlobalPause=!0,i.push(e),i},e}(PIXI.Container),f=function(t){function e(e){var i=t.call(this,e)||this;i._clouds=[];for(var n=0;n<3;n++){var o=new y;i.addChild(o),i._clouds.push(o)}return i}return n(e,t),e.prototype.initialize=function(){for(var t=0,e=this._clouds;t<e.length;t++){e[t].initialize()}},e.prototype.activate=function(){for(var t=0,e=this._clouds;t<e.length;t++){e[t].activate()}},e.prototype.deactivate=function(){for(var t=0,e=this._clouds;t<e.length;t++){e[t].deactivate()}},e}(PIXI.Sprite),y=function(t){function e(){var e=t.call(this)||this;return e.alpha=0,e.x=Math.random()*(o.default.width-100)+50,e.y=Math.random()*(o.default.height-100)+50,e}return n(e,t),e.prototype.initialize=function(){this.anchor.set(.5),this.texture=h.BATTLE_CUTIN_ANTI_AIR.getTexture(0)},e.prototype.activate=function(){if(null==this._aTween){var t=1e3*Math.random()+500;this._aTween=createjs.Tween.get(this,{loop:!0}).to({alpha:1},t).to({alpha:1},t)}if(null==this._rTween){var e=(Math.random()>.5?1:-1)*Math.PI*2,t=2400*Math.random()+2400;this._rTween=createjs.Tween.get(this,{loop:!0}).to({rotation:e},t)}},e.prototype.deactivate=function(){null!=this._aTween&&(this._aTween.setPaused(!0),this._aTween=null),null!=this._rTween&&(this._rTween.setPaused(!0),this._rTween=null)},e}(PIXI.Sprite),m=function(t){function e(){var e=t.call(this)||this;return e._img1=new a.Sprite,e._img1.anchor.set(.45,.85),e._img1.scale.set(0),e.addChild(e._img1),e._img2=new a.Sprite,e._img2.anchor.set(.45,.85),e._img2.alpha=0,e.addChild(e._img2),e}return n(e,t),e.prototype.initialize=function(){this._img1.texture=h.BATTLE_CUTIN_ANTI_AIR.getTexture(2),this._img2.texture=h.BATTLE_CUTIN_ANTI_AIR.getTexture(3)},e.prototype.createTweens=function(t){var e=[],i=createjs.Tween.get(this._img1).wait(t).to({scaleX:1,scaleY:1},400).to({scaleX:1.15,scaleY:1.15,alpha:0},300);return i.ignoreGlobalPause=!0,e.push(i),i=createjs.Tween.get(this._img2).wait(t+400).to({alpha:1},200).to({scaleX:1.3,scaleY:1.3,alpha:0},500),i.ignoreGlobalPause=!0,e.push(i),e},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(6),r=i(144),s=i(123),a=i(39),_=function(t){function e(e,i,n,o,s,a,_){var l=t.call(this,e,i,o,s,a,_)||this;l._defender=n;var u=l._scene.data.isNight();return l._cutin=new r.CutinAttack(l._attacker,l._slot,u,!0,!0),l}return n(e,t),e.prototype._start=function(){var t=this;this._cutin.getPreloadTask().start(function(){t._completePreload()})},e.prototype._completePreload=function(){var t,e,i=this,n=this._attacker.friend,o=this._attacker.index,r=this._defender.index;1==n?(t=this._scene.view.bannerGroupLayer.getBanner(!0,o),e=this._scene.view.bannerGroupLayer.getBanner(!1,r)):(t=this._scene.view.bannerGroupLayer.getBanner(!1,o),e=this._scene.view.bannerGroupLayer.getBanner(!0,r)),t.moveFront(),0==this._shield&&e.moveFront(),this._cutin.view.once("attack",function(){i._playVoice(),i._attack(t,e)}),this._scene.view.layer_cutin.addChild(this._cutin.view),this._cutin.start()},e.prototype._attack=function(t,e){var i=this,n=this._scene.view.layer_content;new s.TaskDaihatsuEff(n,t,e,this._daihatsu_eff).start();var r=0;0!=this._daihatsu_eff&&(r=1300),createjs.Tween.get(null).wait(r).call(function(){o.SE.play("102"),t.attack(function(){i._damageEffect(t,e)})})},e.prototype._damageEffect=function(t,e){1==this._shield&&this._showShield(e),e.moveAtDamage(this._shield);var i=this._getDamage(this._defender);this._playExplosion(e,i),this._playDamageEffect(t,e,this._defender,i,this._hit)},e}(a.PhaseAttackBase);e.PhaseAttackNormal=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(43),r=i(455),s=i(144),a=i(123),_=i(456),l=i(39),u=function(t){function e(e,i,n,o,r,a,l,u){void 0===u&&(u=!1);var c=t.call(this,e,i,o,r,a,l)||this;c._onDamage=function(){1==c._shield&&c._showShield(c._d_banner),c._d_banner.moveAtDamage(c._shield);var t=c._getDamage(c._defender);c._playExplosion(c._d_banner,t),c._playDamageEffect(c._a_banner,c._d_banner,c._defender,t,c._hit,function(){c._complete_flg_damage=!0,c._endTask()})},c._complete_flg_plane=!1,c._complete_flg_damage=!1,c._defender=n,c._yasenkouku=u;var h=c._scene.data.isNight();return c._cutin=new s.CutinAttack(c._attacker,c._slot,h,!1,!1),c._trio=new _.PlaneTrio(i.friend),c}return n(e,t),e.prototype._start=function(){var t=this;this._cutin.getPreloadTask().start(function(){t._completePreload()})},e.prototype._completePreload=function(){var t=this,e=this._attacker.friend,i=this._attacker.index,n=this._defender.index;1==e?(this._a_banner=this._scene.view.bannerGroupLayer.getBanner(!0,i),this._d_banner=this._scene.view.bannerGroupLayer.getBanner(!1,n)):(this._a_banner=this._scene.view.bannerGroupLayer.getBanner(!1,i),this._d_banner=this._scene.view.bannerGroupLayer.getBanner(!0,n)),this._scene.view.layer_cutin.addChild(this._cutin.view),this._cutin.view.once("attack",function(){t._playVoice(),t._createPlanes()}),this._cutin.start()},e.prototype._createPlanes=function(){var t;t=1==this._defender.isSubMarine()?o.PlaneConst.getPlaneType(!0):o.PlaneConst.getPlaneType(!1);for(var e=this._attacker.slots,i=0,n=e;i<n.length;i++){var r=n[i];if(null!=r&&t.indexOf(r.equipTypeSp)>=-0){var s=r.mst_id;if(this._scene.data.isNight()&&"\u30a2\u30fc\u30af\u30ed\u30a4\u30e4\u30eb"==this._attacker.yomi&&0==this._yasenkouku&&242!=s&&243!=s&&244!=s)continue;var a=this._a_banner.getGlobalPos(!0);this._trio.x=a.x,this._trio.y=a.y,this._trio.addPlane(s)}}this._attack()},e.prototype._attack=function(){var t=this,e=this._scene.view.layer_content,i=this._a_banner,n=this._d_banner;new a.TaskDaihatsuEff(e,i,n,this._daihatsu_eff).start();var o=n.getGlobalPos(!0);new r.TaskPlane(e,this._trio,o,this._onDamage).start(function(){t._complete_flg_plane=!0,t._endTask()})},e.prototype._endTask=function(){0!=this._complete_flg_plane&&0!=this._complete_flg_damage&&t.prototype._endTask.call(this)},e}(l.PhaseAttackBase);e.PhaseAttackKansaiki=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(22),r=i(16),s=i(144),a=i(123),_=i(39),l=function(t){function e(e,i,n,o,r,a,_){var l=t.call(this,e,i,o,r,a,_)||this;l._defender=n;var u=l._scene.data.isNight();return l._cutin=new s.CutinAttack(l._attacker,l._slot,u,!1,!1),l}return n(e,t),e.prototype._start=function(){var t=this;this._cutin.getPreloadTask().start(function(){t._completePreload()})},e.prototype._completePreload=function(){var t,e,i=this,n=this._attacker.friend,o=this._attacker.index,r=this._defender.index;1==n?(t=this._scene.view.bannerGroupLayer.getBanner(!0,o),e=this._scene.view.bannerGroupLayer.getBanner(!1,r)):(t=this._scene.view.bannerGroupLayer.getBanner(!1,o),e=this._scene.view.bannerGroupLayer.getBanner(!0,r)),this._cutin.view.once("attack",function(){i._playVoice(),t.moveFront(function(){i._attack(t,e)}),0==i._shield&&e.moveFront()}),this._scene.view.layer_cutin.addChild(this._cutin.view),this._cutin.start()},e.prototype._attack=function(t,e){var i=this,n=this._scene.view.layer_content;new a.TaskDaihatsuEff(n,t,e,this._daihatsu_eff).start();var s=new PIXI.Sprite(r.BATTLE_MAIN.getTexture(60));s.anchor.set(.1,1.05);var _=new PIXI.Sprite(r.BATTLE_MAIN.getTexture(61));_.anchor.set(.88,1.03);var l=t.getGlobalPos(),u=e.getGlobalPos();1==t.friend?(l.x+=o.BannerSize.W/2,u.x-=o.BannerSize.W/4):(s.scale.x=-1,l.x-=o.BannerSize.W/2,_.scale.x=-1,u.x+=o.BannerSize.W/4),s.alpha=0,_.alpha=0,s.position.set(l.x,l.y),_.position.set(u.x,u.y),n.addChild(s),n.addChild(_);var c=0;0!=this._daihatsu_eff&&(c=1e3),createjs.Tween.get(s).wait(c).to({alpha:1},175).to({alpha:0},100),createjs.Tween.get(_).wait(c+350).to({alpha:1},250).call(function(){i._damageEffect(t,e)}).to({alpha:0},150).call(function(){i._scene.view.layer_content.removeChild(s),i._scene.view.layer_content.removeChild(_)})},e.prototype._damageEffect=function(t,e){var i=this;1==this._shield&&this._showShield(e),e.moveAtDamage(this._shield);var n=e.getGlobalPos(!0),r=this._scene.view.layer_explosion;e.friend?r.playWaterColumnToFriend(n.x+o.BannerSize.W/2,n.y):r.playWaterColumnToEnemy(n.x-o.BannerSize.W/2,n.y),this._scene.view.layer_explosion.playExplosionMiddle(n.x-o.BannerSize.W/4*(e.friend?-1:1),n.y),createjs.Tween.get(this).wait(500).call(function(){var n=i._getDamage(i._defender);i._playExplosion(e,n),i._playDamageEffect(t,e,i._defender,n,i._hit)})},e}(_.PhaseAttackBase);e.PhaseAttackBakurai=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(6),r=i(144),s=i(123),a=i(39),_=function(t){function e(e,i,n,o,s,a,_){var l=t.call(this,e,i,o,s,a,_)||this;l._defender=n;var u=l._scene.data.isNight();return l._cutin=new r.CutinAttack(l._attacker,l._slot,u,!1,!0),l}return n(e,t),e.prototype._start=function(){var t=this;this._cutin.getPreloadTask().start(function(){t._completePreload()})},e.prototype._completePreload=function(){var t=this,e=this._attacker.friend,i=this._attacker.index,n=this._defender.index;1==e?(this._a_banner=this._scene.view.bannerGroupLayer.getBanner(!0,i),this._d_banner=this._scene.view.bannerGroupLayer.getBanner(!1,n)):(this._a_banner=this._scene.view.bannerGroupLayer.getBanner(!1,i),this._d_banner=this._scene.view.bannerGroupLayer.getBanner(!0,n)),this._cutin.view.once("attack",function(){t._playVoice(),t._attack()}),this._scene.view.layer_cutin.addChild(this._cutin.view),this._cutin.start()},e.prototype._attack=function(){var t=this,e=this._scene.view.layer_content,i=this._a_banner,n=this._d_banner;new s.TaskDaihatsuEff(e,i,n,this._daihatsu_eff).start(),this._a_banner.moveShoot(function(){o.SE.play("112");var e=t._a_banner.getGlobalPos(!0),i=t._d_banner.getGlobalPos(!0);t._scene.view.layer_torpedo.playTorpedo(e,i,1900,function(){t._damageEffect(t._a_banner,t._d_banner)})})},e.prototype._damageEffect=function(t,e){1==this._shield&&this._showShield(e),e.moveAtDamage(this._shield);var i=this._getDamage(this._defender);this._playExplosion(e,i),this._playDamageEffect(t,e,this._defender,i,this._hit)},e}(a.PhaseAttackBase);e.PhaseAttackRaigeki=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(12),r=i(16),s=function(t){function e(){var e=t.call(this)||this;return e._wave1=new o.Sprite,e._wave1.scale.set(0),e._wave1.anchor.set(.5),e._wave2=new o.Sprite,e._wave2.scale.set(0),e._wave2.anchor.set(.5),e.addChild(e._wave1),e.addChild(e._wave2),e}return n(e,t),e.prototype.initialize=function(){this._wave1.texture=r.BATTLE_MAIN.getTexture(108),this._wave2.texture=r.BATTLE_MAIN.getTexture(108)},e.prototype.play=function(){var t=this;createjs.Tween.get(this._wave1).to({scaleX:1.83,scaleY:1.83},233).to({scaleX:6,scaleY:6,alpha:0},500,createjs.Ease.sineIn),createjs.Tween.get(this._wave2).wait(66).to({scaleX:1.83,scaleY:1.83},233).to({scaleX:6,scaleY:6,alpha:0},500,createjs.Ease.sineIn).call(function(){t.removeChildren(),null!=t.parent&&t.parent.removeChild(t)})},e}(PIXI.Container);e.Wave=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(6),s=i(458),a=i(1368),_=i(1369),l=i(1370),u=i(39),c=function(t){function e(e,i,n,u,c,h,p,d,f,y,m,g){var v=t.call(this,e,i,u,c,h,p)||this;v._completeDamageEffect=function(){v._cutin.resume(),v._cutin.view.once("attack",function(){r.SE.play("102"),v._a_banner.attack(function(){v._2ndDamageEffect()})})},v._defender=n,v._defender2=d,v._slot2=o.default.model.slot.getMst(f),v._damage2=y,v._hit2=m,v._shield2=g;var b=v._scene.data.isNight(),w=Math.floor(4*Math.random());return v._cutin=0==w?new s.CutinDouble1(v._attacker,v._slot,v._slot2,b):1==w?new a.CutinDouble2(v._attacker,v._slot,v._slot2,b):2==w?new _.CutinDouble3(v._attacker,v._slot,v._slot2,b):new l.CutinDouble4(v._attacker,v._slot,v._slot2,b),v}return n(e,t),e.prototype._start=function(){var t=this;this._cutin.getPreloadTask().start(function(){t._completePreload()})},e.prototype._completePreload=function(){if(1==this._scene.data.isNight()){var t=null!=this._slot?this._slot:this._slot2;if(null!=t){var e=t.equipTypeSp;if(5==e||32==e)return void this._doubleR()}}this._doubleH()},e.prototype._doubleH=function(){var t=this,e=this._attacker.friend,i=this._attacker.index,n=this._defender.index,o=this._defender2.index;1==e?(this._a_banner=this._scene.view.bannerGroupLayer.getBanner(!0,i),this._d_banner1=this._scene.view.bannerGroupLayer.getBanner(!1,n),this._d_banner2=this._scene.view.bannerGroupLayer.getBanner(!1,o)):(this._a_banner=this._scene.view.bannerGroupLayer.getBanner(!1,i),this._d_banner1=this._scene.view.bannerGroupLayer.getBanner(!0,n),this._d_banner2=this._scene.view.bannerGroupLayer.getBanner(!0,o)),this._a_banner.moveFront(),0==this._shield&&this._d_banner1.moveFront(),this._scene.view.layer_cutin.addChild(this._cutin.view),this._cutin.start(),this._cutin.view.once("attack",function(){t._playVoice(),t._attack(t._a_banner,t._d_banner1)})},e.prototype._doubleR=function(){},e.prototype._attack=function(t,e){r.SE.play("102"),t.attack(null),this._damageEffect(t,e)},e.prototype._damageEffect=function(t,e){var i=this;1==this._shield&&this._showShield(e);var n=this._getDamage(this._defender);e.moveAtDamage(this._shield);var o=e.getGlobalPos(!0);this._scene.view.layer_explosion.playDamageExplosion(o.x,o.y,n,null),this._scene.view.layer_damage.showAtBanner(e,n,this._hit),createjs.Tween.get(this).wait(200).call(function(){i._damage_cutin.causeDoubleDamage1st(i._defender,n),e.updateHp(i._defender.hp_now)}).wait(500).call(function(){i._completeDamageEffect()})},e.prototype._2ndDamageEffect=function(){var t=this,e=this._defender2,i=this._d_banner2,n=this._damage2;1==this._scene.data.model.isPractice()&&(n=Math.min(n,e.hp_now-1));var o=this._hit2;1==this._shield2&&this._showShield(i),i.moveAtDamage(this._shield2),this._playExplosion(i,n),this._scene.view.layer_damage.showAtBanner(i,n,o),createjs.Tween.get(this).wait(200).call(function(){t._damage_cutin.causeDoubleDamage2nd(e,n),i.updateHp(e.hp_now)}).wait(600).call(function(){t._endTask()})},e.prototype._playVoice=function(){this._playVoiceNight()},e.prototype._log=function(e){t.prototype._log.call(this,e+":1");var i="["+e+":2] ["+this._attacker.index+"]"+this._attacker.name+"("+this._attacker.mst_id+")";i+=" damage:"+this._damage2+" ",null!=this._slot&&(i+=" ["+this._slot2.mstID+"]"+this._slot2.name),2==this._hit2?i+=" [CRITICAL]":0==this._hit2&&(i+=" [MISS]")},e}(u.PhaseAttackBase);e.PhaseAttackDouble=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(13),s=i(24),a=i(453),_=i(454),l=function(t){function e(e,i,n,o){var r=t.call(this)||this;r._attacker=e,r._slot1=i,r._slot2=n,r._friend=r._attacker.friend,1==r._friend?r._base_pos=new PIXI.Point(-162,-131):r._base_pos=new PIXI.Point(435,-131),r._view=new a.CutinCanvas;var s=Math.floor(3*Math.random());r._telop1=new _.CutinTelop(s,o);var l=Math.floor(3*Math.random());return r._telop2=new _.CutinTelop(l,o),r._preload_task=new u(e,i,n),r}return n(e,t),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0}),e.prototype.getPreloadTask=function(){return this._preload_task},e.prototype._endTask=function(){this._attacker=null,this._slot1=null,this._slot2=null,this._base_pos=null,null!=this._view.parent&&this._view.parent.removeChild(this._view),this._view.dispose(),this._view=null,this._telop1=null,this._telop2=null,this._preload_task=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.CutinDouble=l;var u=function(t){function e(e,i,n){var o=t.call(this)||this;return o._attacker=e,o._slot1=i,o._slot2=n,o}return n(e,t),e.prototype._start=function(){this._loadShipImage()},e.prototype._loadShipImage=function(){var t=this,e=new r.ShipLoader;e.add(this._attacker.mst_id,this._attacker.isDamaged(),"full"),e.load(function(){t._loadSlotTextImage()})},e.prototype._loadSlotTextImage=function(){var t=this;if(null==this._slot1&&null==this._slot2)this._endTask();else{var e=new s.SlotLoader;null!=this._slot1&&e.add(this._slot1.mstID,"btxt_flat"),null!=this._slot2&&e.add(this._slot2.mstID,"btxt_flat"),e.load(function(){t._endTask()})}},e}(o.TaskBase)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(22),r=i(27),s=i(144),a=i(123),_=i(1371),l=i(1372),u=i(39),c=function(t){function e(e,i,n,l,u,c){var h=t.call(this,e,i,-1,l,u,c)||this;h._fire=function(t,e){var i=h._scene.view.layer_content,n=t.getGlobalPos(),s=1;1==t.friend?n.x+=o.BannerSize.W/2:(n.x-=o.BannerSize.W/2,s=-1);var l=new _.TaskRocketFire(i,n.x,n.y,s,0);if(0==h._daihatsu_eff)l.start(function(){h._impact(t,e)});else{var u=new a.TaskDaihatsuEff(i,t,e,h._daihatsu_eff),c=new r.ParallelTask;c.add(l),c.add(u),c.start(function(){h._impact(t,e)})}},h._defender=n;var p=h._scene.data.isNight();return h._cutin=new s.CutinAttack(h._attacker,h._slot,p,!0,!0),h}return n(e,t),e.prototype._start=function(){var t=this;this._cutin.getPreloadTask().start(function(){t._completePreload()})},e.prototype._completePreload=function(){var t,e,i=this,n=this._attacker.friend,o=this._attacker.index,r=this._defender.index;1==n?(t=this._scene.view.bannerGroupLayer.getBanner(!0,o),e=this._scene.view.bannerGroupLayer.getBanner(!1,r)):(t=this._scene.view.bannerGroupLayer.getBanner(!1,o),e=this._scene.view.bannerGroupLayer.getBanner(!0,r)),t.moveFront(),0==this._shield&&e.moveFront(),this._cutin.view.once("attack",function(){i._playVoice(),i._fire(t,e)}),this._scene.view.layer_cutin.addChild(this._cutin.view),this._cutin.start()},e.prototype._impact=function(t,e){var i=this,n=this._scene.view.layer_content,r=e.getGlobalPos();1==e.friend?r.x+=o.BannerSize.W/2:r.x-=o.BannerSize.W/2;new l.TaskRocketHit(n,r.x,r.y,300).start(function(){i._damageEffect(t,e)})},e.prototype._damageEffect=function(t,e){var i=this;1==this._shield&&this._showShield(e),e.moveAtDamage(this._shield);var n=e.getGlobalPos(!0);this._scene.view.layer_explosion.playExplosionMiddle(n.x-o.BannerSize.W/4*(e.friend?-1:1),n.y),createjs.Tween.get(this).wait(500).call(function(){var n=i._getDamage(i._defender);i._playExplosion(e,n),i._playDamageEffect(t,e,i._defender,n,i._hit)})},e}(u.PhaseAttackBase);e.PhaseAttackRocket=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITEMUP_REPLACE={516:516,517:517,518:518,519:516,520:517,521:518,522:516,523:516,524:517,525:518,526:518,546:518,547:547,548:548,549:549,550:3,551:128,552:76,553:3,554:554,555:555,556:556,557:557,558:558,561:561,562:562,563:162,564:549,565:79,566:547,567:13,568:161,569:562,570:15,571:571,572:572,573:573,574:574,575:574,576:231,577:245,578:190,579:7,580:58,581:581,582:582,583:583,584:7,585:161,586:574,587:298,588:266,589:310,590:309,591:284,592:332,593:314,594:594,595:595,596:340}},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(7),s=i(499),a=function(){function t(t){if(this._o=t,this._expedition=null,null!=this._o){var e=r.ObjUtil.getNumArray(this._o,"api_mission"),i=new s.DeckExpeditionModelEdit(e);i.expedition_id>0&&(this._expedition=i)}}return Object.defineProperty(t.prototype,"mstID",{get:function(){return r.ObjUtil.getNumber(this._o,"api_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return r.ObjUtil.getString(this._o,"api_name")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nameID",{get:function(){return r.ObjUtil.getString(this._o,"api_name_id")},enumerable:!0,configurable:!0}),t.prototype.__updateName__=function(t,e){this._o.api_name=t,this._o.api_name_id=e},Object.defineProperty(t.prototype,"expedition",{get:function(){return this._expedition},enumerable:!0,configurable:!0}),t.prototype.getCount=function(){return this._getShipMemIDArray().filter(function(t,e,i){return t>=0}).length},t.prototype.getShipMemID=function(t){var e=this._getShipMemIDArray();return null!=e&&e.length>t?e[t]:-1},t.prototype.getShipMemIDList=function(){return this._getShipMemIDArray().concat().filter(function(t,e,i){return t>0})},t.prototype.getShipModel=function(t){var e=this.getShipMemID(t);return e>0?o.default.model.ship.get(e):null},t.prototype.getShipList=function(){var t=[],e=this._getShipMemIDArray();if(null==e)return t;for(var i=0;i<e.length;i++){var n=e[i],r=o.default.model.ship.get(n);t.push(r)}return t},t.prototype.getShipListAll=function(){var t=o.default.model.deck.combined;if(0==t.isCombined())return this.getShipList();if(t.deck_id_main!=this.mstID&&t.deck_id_sub!=this.mstID)return this.getShipList();for(var e=[],i=o.default.model.deck.get(t.deck_id_main),n=i.getShipList(),r=0,s=n;r<s.length;r++){var a=s[r];e.push(a)}for(var _=o.default.model.deck.get(t.deck_id_sub),l=_.getShipList(),u=0,c=l;u<c.length;u++){var a=c[u];e.push(a)}return e},t.prototype.isInDeck=function(t){return this._getShipMemIDArray().indexOf(t)},t.prototype.getCombinedType=function(){return this.isCombined_Main()||this.isCombined_Sub()?o.default.model.deck.combined.type:0},t.prototype.isCombined_Main=function(){return o.default.model.deck.combined.deck_id_main==this.mstID},t.prototype.isCombined_Sub=function(){return o.default.model.deck.combined.deck_id_sub==this.mstID},t.prototype.getSubDeckID=function(){return 1==this.isCombined_Main()?o.default.model.deck.combined.deck_id_sub:-1},t.prototype.getSubDeckName=function(){if(1==this.isCombined_Main()){var t=o.default.model.deck.combined.deck_id_sub,e=o.default.model.deck.get(t);return null==e?"":e.name}return""},t.prototype._getShipMemIDArray=function(){return r.ObjUtil.getNumArray(this._o,"api_ship")},t}();e.DeckModel=a;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.updateName=function(t,e){this.__updateName__(t,e)},e.prototype.__change__=function(t,e,i){void 0===i&&(i=!1);var n=this._getShipMemIDArray(),r=o.default.model.ship.get(e),s=o.default.model.deck.isInDeck(r.memID),a=null;if(null!=s){a=o.default.model.deck.get(s[0])._getShipMemIDArray()}if(null!=s){var _=n[t];s[1];-1==_?(a.splice(s[1],1),a.push(-1)):a[s[1]]=_}n[t]=r.memID;for(var l=n.filter(function(t){return t>0}),u=0;u<n.length;u++)u>=l.length?n[u]=-1:n[u]=l[u]},e.prototype.__remove__=function(t,e){void 0===e&&(e=!1);var i=this._getShipMemIDArray(),n=i.length;for(i.splice(t,1);i.length<n;)i.push(-1)},e.prototype.__removeAll__=function(t){void 0===t&&(t=!1);for(var e=this._getShipMemIDArray(),i=1;i<e.length;i++)e[i]=-1},e}(a);e.DeckModelEdit=_},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(e){return e&&t.hasItem(e)?decodeURI(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+encodeURI(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null}function i(t,e,i,n,o,r){if(t&&!/^(?:expires|max\-age|path|domain|secure)$/i.test(t)){var s="";if(i)switch(i.constructor){case Number:s=i===1/0?"; expires=Tue, 19 Jan 2038 03:14:07 GMT":"; max-age="+i;break;case String:s="; expires="+i;break;case Date:s="; expires="+i.toUTCString()}document.cookie=encodeURI(t)+"="+encodeURI(e)+s+(o?"; domain="+o:"")+(n?"; path="+n:"")+(r?"; secure":"")}}function n(t){return new RegExp("(?:^|;\\s*)"+encodeURI(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}t.getItem=e,t.setItem=i,t.hasItem=n}(e.CookieUtil||(e.CookieUtil={}))},function(t,e,i){"use strict";function n(t,e,i){var n=(new Date).getTime(),r=Math.floor(n/1e3);e=Math.round(e)%1e3+1e3,i=Math.round(i)%1e3+1e3;var s=1e4*e+i;return s*=o.PORT_API_SEED[t%10],r.toString()+s.toString()}Object.defineProperty(e,"__esModule",{value:!0});var o=i(18);e.__create_serial_id__=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.normal=0,this.rengo=0,this.yugeki=0}return t.prototype.init=function(t){this.normal=0,this.rengo=0,this.yugeki=0,null!=t&&(t.length<1||(this.normal=t[0],t.length<2||(this.rengo=t[1],t.length<3||(this.yugeki=t[2]))))},t}();e.AllowedDeckTypeModel=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(7),r=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"mstID",{get:function(){return o.ObjUtil.getNumber(this._o,"api_slotitem_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"memID",{get:function(){return o.ObjUtil.getNumber(this._o,"api_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var t=n.default.model.slot.getMst(this.mstID);return null==t?"":t.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return o.ObjUtil.getNumber(this._o,"api_level")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skillLevel",{get:function(){return o.ObjUtil.getNumber(this._o,"api_alv")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cardType",{get:function(){var t=n.default.model.slot.getMst(this.mstID);return null==t?0:t.cardType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"equipType",{get:function(){var t=n.default.model.slot.getMst(this.mstID);return null==t?0:t.equipType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"equipTypeSp",{get:function(){var t=n.default.model.slot.getMst(this.mstID);return null==t?0:t.equipTypeSp},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconType",{get:function(){var t=n.default.model.slot.getMst(this.mstID);return null==t?0:t.iconType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){var t=n.default.model.slot.getMst(this.mstID);return null==t?0:t.range},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"karyoku",{get:function(){var t=n.default.model.slot.getMst(this.mstID);return null==t?0:t.karyoku},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"raisou",{get:function(){var t=n.default.model.slot.getMst(this.mstID);return null==t?0:t.raisou},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"taiku",{get:function(){var t=n.default.model.slot.getMst(this.mstID);return null==t?0:t.taiku},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"taisen",{get:function(){var t=n.default.model.slot.getMst(this.mstID);return null==t?0:t.taisen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bakusou",{get:function(){var t=n.default.model.slot.getMst(this.mstID);return null==t?0:t.bakusou},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"meichu",{get:function(){var t=n.default.model.slot.getMst(this.mstID);return null==t?0:t.meichu},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kaihi",{get:function(){var t=n.default.model.slot.getMst(this.mstID);return null==t?0:t.kaihi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sakuteki",{get:function(){var t=n.default.model.slot.getMst(this.mstID);return null==t?0:t.sakuteki},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"soukou",{get:function(){var t=n.default.model.slot.getMst(this.mstID);return null==t?0:t.soukou},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){var t=n.default.model.slot.getMst(this.mstID);return null==t?0:t.distance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cost",{get:function(){var t=n.default.model.slot.getMst(this.mstID);return null==t?0:t.cost},enumerable:!0,configurable:!0}),t.prototype.isLocked=function(){return 1==o.ObjUtil.getNumber(this._o,"api_locked")},t.prototype.__setLocked__=function(t){this._o.api_locked=t?1:0},t.prototype.__updateObject__=function(t){this._o=t},t.prototype.isPlane=function(){var t=n.default.model.slot.getMst(this.mstID);return null!=t&&t.isPlane()},t}();e.SlotitemModel=r},function(t,e){t.exports={resource:[6657,5699,3371,8909,7719,6229,5449,8561,2987,5501,3127,9319,4365,9811,9927,2423,3439,1865,5925,4409,5509,1517,9695,9255,5325,3691,5519,6949,5607,9539,4133,7795,5465,2659,6381,6875,4019,9195,5645,2887,1213,1815,8671,3015,3147,2991,7977,7045,1619,7909,4451,6573,4545,8251,5983,2849,7249,7449,9477,5963,2711,9019,7375,2201,5631,4893,7653,3719,8819,5839,1853,9843,9119,7023,5681,2345,9873,6349,9315,3795,9737,4633,4173,7549,7171,6147,4723,5039,2723,7815,6201,5999,5339,4431,2911,4435,3611,4423,9517,3243],voice:[2475,6547,1471,8691,7847,3595,1767,3311,2507,9651,5321,4473,7117,5947,9489,2669,8741,6149,1301,7297,2975,6413,8391,9705,2243,2091,4231,3107,9499,4205,6013,3393,6401,6985,3683,9447,3287,5181,7587,9353,2135,4947,5405,5223,9457,5767,9265,8191,3927,3061,2805,3273,7331]}},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(68),a=i(7),_=i(29),l=i(14),u=function(){function t(t,e){var i=this;this._onImageLoadComplete=function(t,e){null!=t&&i._cb_onLoadCompleteResources(t.resources),null!=i._cb_onTaskComplete&&i._cb_onTaskComplete(),i._cb_onLoadCompleteInfo=null,i._cb_onLoadCompleteResources=null,i._cb_onTaskComplete=null,i._keys=null,i._version_map=null},this._cb_onLoadCompleteInfo=t,this._cb_onLoadCompleteResources=e,this._keys=[],this._version_map={}}return Object.defineProperty(t.prototype,"count",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.add=function(t){if(-1==this._keys.indexOf(t)){this._keys.push(t);var e=s.GaugeSetModel.getMapId(t);this._version_map[t]=l.UIImageLoader.getResourceVersionMap(e)}return this},t.prototype.load=function(t){var e=this;void 0===t&&(t=null),this._cb_onTaskComplete=t;for(var i={},n=new _.SerialTask,o=0,r=this._keys;o<r.length;o++){var s=r[o],a=this._version_map[s];n.add(new p(s,a,i))}n.start(function(){e._onInfoLoadComplete(i)})},t}();e.GaugeLoader=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._onInfoLoadComplete=function(t){var e=new PIXI.loaders.Loader(o.default.settings.path_root),i=[];for(var n in t){var r=t[n];this._cb_onLoadCompleteInfo(n,r);var s=this._version_map[n]?"?version="+this._version_map[n]:"",a=r.image_path;-1==i.indexOf(a)&&null==PIXI.utils.TextureCache[a]&&(i.push(a),e.add(a,"resources/gauge/"+a+".png"+s)),a=r.image_light_path,-1==i.indexOf(a)&&null==PIXI.utils.TextureCache[a]&&(i.push(a),e.add(a,"resources/gauge/"+a+".png"+s))}0==i.length?this._onImageLoadComplete(null,null):e.load(this._onImageLoadComplete)},e}(u);e.HorizontalGaugeLoader=c;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._onInfoLoadComplete=function(t){var e=new PIXI.loaders.Loader(o.default.settings.path_root),i=[];for(var n in t){var r=t[n];this._cb_onLoadCompleteInfo(n,r);var s=r.vertical;if(null!=s){var a=this._version_map[n]?"?version="+this._version_map[n]:"",_=s.image_path;-1==i.indexOf(_)&&null==PIXI.utils.TextureCache[_]&&(i.push(_),e.add(_,"resources/gauge/"+_+".png"+a)),_=r.vertical.image_light_path,-1==i.indexOf(_)&&null==PIXI.utils.TextureCache[_]&&(i.push(_),e.add(_,"resources/gauge/"+_+".png?"+a))}}0==i.length?this._onImageLoadComplete(null,null):e.load(this._onImageLoadComplete)},e}(u);e.VerticalGaugeLoader=h;var p=function(t){function e(e,i,n){var o=t.call(this)||this;return o._onLoadComplete=function(t){if(200==a.ObjUtil.getNumber(t,"status")){var e=a.ObjUtil.getObject(t,"data");null!=e&&(o._dic[o._key]=new s.GaugeSetModel(e)),o._endTask()}else o._failedEnd()},o._onLoadFailed=function(t){o._failedEnd()},o._key=e,o._version=i,o._dic=n,o}return n(e,t),e.prototype._start=function(){var t=this._version?"?version="+this._version:"",e=o.default.settings.path_root+"resources/gauge/"+this._key+".json"+t;axios.get(e).then(this._onLoadComplete).catch(this._onLoadFailed)},e}(r.TaskBase)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){try{return PIXI.Texture.fromFrame("common_itemicons_id_"+t)}catch(t){return PIXI.Texture.EMPTY}}t.getTextureFromMstID=e}(e.COMMON_ITEMICONS||(e.COMMON_ITEMICONS={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(151),a=function(t){function e(e,i,n){var o=t.call(this)||this;return o._before=e,o._after=i,o._model=n,o}return n(e,t),Object.defineProperty(e.prototype,"before",{get:function(){return this._before},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this._after},enumerable:!0,configurable:!0}),e.prototype._start=function(){o.default.view.clickGuard=!0,this._doPrefinalize()},e.prototype._doPrefinalize=function(){var t=this;s.TaskLoadBase.abortAll();var e=o.default.view.getNowScene(),i=e.getPreFinalizeTask();null!=i?i.start(function(){t._fadeOn()}):this._fadeOn()},e.prototype._fadeOn=function(){var t=this,e=this._getFadeBox(this._before,this._after);e.visible=!0,e.show(300,function(){t._doFinalize()})},e.prototype._doFinalize=function(){var t=this,e=o.default.view.getNowScene(),i=e.getFinalizeTask();null!=i?i.start(function(){t._loadBackground()}):this._loadBackground()},e.prototype._loadBackground=function(){var t=this;o.default.view.bg.setImage(this._after,function(){t._change()})},e.prototype._change=function(){if(o.default.view.portMain.playChangeAnimation(this._after),0==this._after)o.default.view.portMain.setContent(null),o.default.view.portMain.update(0),o.default.view.portMain.visible=!0,o.default.view.mapLayer.setContent(null);else{var t=e.__factory__(this._after);33==this._after||32==this._after?(o.default.view.portMain.setContent(null),o.default.view.portMain.visible=!1,o.default.view.mapLayer.setContent(t)):(o.default.view.portMain.setContent(t),o.default.view.portMain.update(this._after),o.default.view.portMain.visible=!0,o.default.view.mapLayer.setContent(null))}this._doPreInitialize()},e.prototype._doPreInitialize=function(){var t=this,e=o.default.view.getNowScene(),i=e.getPreInitializeTask(this._before,this._model);null!=i?i.start(function(){t._fadeOff()}):this._fadeOff()},e.prototype._fadeOff=function(){var t=this,e=this._getFadeBox(this._before,this._after),i=0==this._after;i&&o.default.view.portMain.ringMenu.prePosition(),e.hide(300,function(){e.visible=!1,t._doInitialize(),i&&o.default.view.portMain.ringMenu.startAnimation()})},e.prototype._doInitialize=function(){var t=this,e=o.default.view.getNowScene(),i=e.getInitializeTask(this._before);null!=i?i.start(function(){t._preEnd()}):this._preEnd()},e.prototype._preEnd=function(){o.default.view.clickGuard=!1,this._endTask()},e.prototype._getFadeBox=function(t,e){return 23==t||23==e?o.default.view.fadeLayer:25==t||25==e?o.default.view.fadeLayer:33==t||33==e?o.default.view.fadeLayer:32==t||32==e?o.default.view.fadeLayer:o.default.view.portMain.fadeLayer},e}(r.TaskBase);e.TaskSceneChange=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(25),r=i(105),s=i(540),a=i(18),_=function(){function t(){this._bgm=new l,this._se=new u,this._voice=new s.VoiceManagerHolder}return Object.defineProperty(t.prototype,"bgm",{get:function(){return this._bgm},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"se",{get:function(){return this._se},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"voice",{get:function(){return this._voice},enumerable:!0,configurable:!0}),t}();e.SoundManager=_;var l=function(){function t(){this._sub_id="",this._bgm_id=0,this._bgm=null}return Object.defineProperty(t.prototype,"bgm_id",{get:function(){return this._bgm_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return null!=this._bgm},enumerable:!0,configurable:!0}),t.prototype.playBattleBGM=function(t,e,i,n){void 0===e&&(e=!0),void 0===i&&(i=0),void 0===n&&(n=null),this.play(t,e,i,"battle",n)},t.prototype.play=function(t,e,i,s,_){if(void 0===e&&(e=!0),void 0===i&&(i=0),void 0===s&&(s="port"),void 0===_&&(_=null),(null==this._bgm||this._sub_id!=s||this._bgm_id!=t)&&s){this.stop(),this._bgm_id=t,this._sub_id=s;var l=n.default.option.vol_bgm/100;if(0!=l){var u=o.MathUtil.zeroPadding(t,3),c=r.SuffixUtil.create(t,"bgm_"+s),h=u+"_"+c,p=n.default.settings.path_root+"resources/bgm/"+s+"/"+h+".mp3",d={src:[p],html5:a.HTML5_AUDIO,onend:_};d.autoplay=!0,d.loop=e,i>0?(d.volume=0,this._bgm=new Howl(d),this._bgm.fade(0,l,i)):(d.volume=l,this._bgm=new Howl(d))}}},t.prototype.stop=function(){null!=this._bgm&&(this._bgm.stop(),this._bgm.unload(),this._bgm=null)},t.prototype.fadeOut=function(t){var e=this;if(null!=this._bgm&&1==this._bgm.playing()){var i=this._bgm.volume();this._bgm.fade(i,0,t);var n=this._bgm;setTimeout(function(){n.stop(),n.unload(),n==e._bgm&&(e._bgm=null)},t)}},t.prototype.changeVolume=function(t){if(null==this._bgm)return!1;this._bgm.volume(t/100)},t}(),u=function(){function t(){}return t.prototype.play=function(t){if(0!=n.default.option.vol_se){var e,i={src:[t]};i.autoplay=!0,i.volume=n.default.option.vol_se/100,i.onend=function(){e&&(e.unload(),e=null)},e=new Howl(i)}},t}()},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(8),s=function(t){function e(){for(var e=t.call(this,0,0,o.default.width,o.default.height)||this,i=0;i<20;i++){var n=4.5*i;e.beginFill(0,.8*Math.cos(n*Math.PI/180)),e.drawRect(0,o.default.height-3*i,o.default.width,3),e.endFill()}return e._arc=PIXI.Sprite.fromImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAA1ElEQVQ4jaWUzRGCMBBGv8x4xw60Ay3BDrQDSqEFO4gl2IF0gFagHUQreB5EHcku4PBu7LBvfxKQOgALIAKJnAYouzkZQGUkWzTAaqrkzdWSlH9KUtYRr51Mk7SiOFnSijyuQNEZ35b0iPzKDjMnfg4hXIyihaS18f7dE82d+EbS0YjXfTv6ucFAwesiWsSZpJukpVHlAMwlndvnvTPWp6Oqp6sxJKAYankM3xUAK+yvfYiYDdnK/umscvb1OZnTgCBh/JOCI9xK2hmnWUvahxAe3ZwnVxLPxY8eTuoAAAAASUVORK5CYII="),e._arc.anchor.set(.5,.5),e._arc.x=o.default.width-23,e._arc.y=o.default.height-23,e._arc.scale.set(1.5),e._arc.alpha=.8,e.addChild(e._arc),e}return n(e,t),e.prototype.show=function(t,e){var i=this;void 0===t&&(t=0),void 0===e&&(e=null),this._stopTween(),this._setVisiblity(!0),t<=0?(this.alpha=1,null!=e&&e()):this._tween=createjs.Tween.get(this).to({alpha:1},t).call(function(){i._tween=null,null!=e&&e()})},e.prototype.hide=function(t,e){var i=this;void 0===t&&(t=0),void 0===e&&(e=null),this._stopTween(),t<=0?(this.alpha=0,this._setVisiblity(!1),null!=e&&e()):this._tween=createjs.Tween.get(this).to({alpha:0},t).call(function(){i._setVisiblity(!1),i._tween=null,null!=e&&e()})},e.prototype._setVisiblity=function(t){this.visible=t,1==t?this._startArcTween():this._stopArcTween()},e.prototype._startArcTween=function(){null==this._tween_arc&&(this._arc.rotation=0,this._tween_arc=createjs.Tween.get(this._arc,{loop:!0}).to({rotation:2*Math.PI},1200))},e.prototype._stopArcTween=function(){null!=this._tween_arc&&(this._tween_arc.setPaused(!0),this._tween_arc=null)},e.prototype._stopTween=function(){null!=this._tween&&(this._tween.setPaused(!0),this._tween=null)},e}(r.AreaBox);e.LoadingBox=s},function(t,e){e.arrayToObject=function(t){for(var e={},i=0,n=t.length;i<n;++i)void 0!==t[i]&&(e[i]=t[i]);return e},e.merge=function(t,i){if(!i)return t;if("object"!=typeof i)return t.push(i),t;if("object"!=typeof t)return t=[t].concat(i);Array.isArray(t)&&!Array.isArray(i)&&(t=e.arrayToObject(t));for(var n=Object.keys(i),o=0,r=n.length;o<r;++o){var s=n[o],a=i[s];t[s]?t[s]=e.merge(t[s],a):t[s]=a}return t},e.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},e.compact=function(t,i){if("object"!=typeof t||null===t)return t;i=i||[];var n=i.indexOf(t);if(-1!==n)return i[n];if(i.push(t),Array.isArray(t)){for(var o=[],r=0,s=t.length;r<s;++r)void 0!==t[r]&&o.push(t[r]);return o}for(var a=Object.keys(t),r=0,_=a.length;r<_;++r){var l=a[r];t[l]=e.compact(t[l],i)}return t},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isBuffer=function(t){return null!==t&&void 0!==t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(188))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(273),r=function(t){function e(){var e=t.call(this)||this;e._particle=new Array;for(var i=[51,257,44,8,168,53,158,113,275,194,251,0,197],n=[51,30,87,222,213,129,122,222,216,0,194,149,84],o=0;o<i.length;o++){var r=new s;r.position.set(i[o],n[o]),e.addChild(r),e._particle.push(r)}return e}return n(e,t),e.prototype.initialize=function(){for(var t=0,e=this._particle;t<e.length;t++){var i=e[t];i.initialize(),i.startAnim()}},e.prototype.dispose=function(){for(var t=0,e=this._particle;t<e.length;t++){e[t].stopAnim()}},e}(PIXI.Container);e.KiraLayer=r;var s=function(t){function e(){var e=t.call(this)||this;return e.alpha=0,e}return n(e,t),e.prototype.initialize=function(){this.texture=o.TITLE_MAIN.getTexture(2)},e.prototype.startAnim=function(){this._anim()},e.prototype.stopAnim=function(){null!=this._tween&&(this._tween.setPaused(!0),this._tween=null)},e.prototype._anim=function(){var t=this;this._tween=createjs.Tween.get(this).wait(1e3*Math.random()+1e3).to({alpha:1},150).to({alpha:0},150).call(function(){t._tween=null,t._anim()})},e}(PIXI.Sprite)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.TIME_CHK_COUNT_MAX=15,t.DEF_ANIMATE_FRAME=5e3,t.HIT_ALPHA=.001,t}();e.FurnitureConst=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(14),r=i(50),s=i(152),a=function(t){function e(){var e=t.call(this)||this;return e._bg=new s.MapBG,e.addChild(e._bg),e._content=new PIXI.Container,e._shutter2=new r.Shutter,e.addChild(e._content),e.addChild(e._shutter2),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shutter2",{get:function(){return this._shutter2},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){this._shutter2.initializeDark()},e.prototype.dispose=function(){o.UIImageLoader.clearMemoryCache("battle")},e.prototype.start=function(){},e}(PIXI.Container);e.BattleSceneBase=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(14),r=i(50),s=function(t){function e(){var e=t.call(this)||this;return e._shutter=new r.Shutter,e.addChild(e._shutter),e}return n(e,t),Object.defineProperty(e.prototype,"shutter",{get:function(){return this._shutter},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.shutter.initializeDark(),this.shutter.close(0)},e.prototype.start=function(t){this._model=t},e.prototype.dispose=function(){o.UIImageLoader.clearMemoryCache("battle_result")},e}(PIXI.Container);e.BattleResultSceneBase=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),o=i(0),r=i(7),s=function(){function t(){}return t.isAreaHit=function(t,e,i){if(null==t)return!1;if(e.x<0||e.y<0||e.x>n.default.width||e.y>n.default.height)return!1;if(e.x<i.x||i.x+i.width<e.x||e.y<i.y||i.y+i.height<e.y)return!1;var o=Math.floor(e.x)-i.x,r=Math.floor(e.y)-i.y,s=4*(o+i.width*r);return!(s+3>=t.length)&&t[s+3]>0},t.getCounterBarTextureName=function(t,e,i){for(var n=0,r=0,s=t.shipid;r<s.length;r++){var a=s[r];if(a.list.indexOf(e)>=0){n=a.group;break}}if(0==n)for(var _=o.default.model.ship.getMst(e),l=null==_?"":_.yomi,u=0,c=t.shipyomi;u<c.length;u++){var a=c[u];if(a.list.indexOf(l)>=0){n=a.group;break}}for(var h,p=0,d=t.timetable;p<d.length;p++){var a=d[p];if(!(parseInt(a.time.replace(/\//g,"").replace(/ /g,"").replace(/:/g,""))<=i))break;h=a.list[n]-1e3}return 1==h?"":"f230_c052_counterBar_"+h+".png"},t.getDressingRoomTextureName=function(t,e){for(var i=1,n=o.default.model.ship.getMst(e),r=null==n?"":n.yomi,s=0,a=t.shipyomi;s<a.length;s++){var _=a[s];if(_.list.indexOf(r)>=0){i=_.fileno;break}}if(1==i)for(var l=null==n?0:n.getClassType(),u=0,c=t.shipclass;u<c.length;u++){var _=c[u];if(_.list.indexOf(l)>=0){i=_.fileno;break}}if(1==i)for(var h=null==n?0:n.shipTypeID,p=0,d=t.shiptype;p<d.length;p++){var _=d[p];if(_.list.indexOf(h)>=0){i=_.fileno;break}}return"f239_e052_dressingroom_C_"+i+".png"},t.getSecretaryDeskTextureName=function(t,e){var i=o.default.model.ship.getMst(e);if(null==i)return"";for(var n=i.yomi,r=i.getClassType(),s=1,a=0,_=t.shipyomi;a<_.length;a++){var l=_[a];if(l.list.indexOf(n)>=0){s=l.fileno;break}}if(1==s)for(var u=0,c=t.shipclass;u<c.length;u++){var l=c[u];if(l.list.indexOf(r)>=0){s=l.fileno;break}}return"f171_f103_secretary1_B"+s+".png"},t.getUmbrellarackTextures=function(t,e){for(var i=o.default.model.ship.getMst(e),n=null==i?"":i.yomi,s=3,a=null==i?0:i.shipTypeID,_=0,l=t.shiptype;_<l.length;_++){var u=l[_];if(u.list.indexOf(a)>=0){s=u.fileno;break}}for(var c,h,p="f385_e07"+(s-1)+"_umbrellarack",d=0,f=t.shipyomi;d<f.length;d++){var u=f[d];if(c=u.list.indexOf(n)+1,s==u.fileno&&(h=u.list.length),c>0)break}var y=r.ObjUtil.getObjectArray(t.standard,"data"),m=[];m.push(p+"_"+s+"_A.png");for(var g=1;g<y.length&&!(g>h);g++)m.push(p+"_"+s+"_B"+g+".png");return m},t.getHydrangeaDeskTextures=function(t,e){var i=o.default.model.ship.getMst(e);if(null==i)return"";for(var n=i.yomi,r=0,s=t.shipid;r<s.length;r++){var a=s[r];if(a.list.indexOf(e)>=0)return"f442_f109_Purple_"+a.fileno+".png"}for(var _=0,l=t.shipyomi;_<l.length;_++){var a=l[_];if(a.list.indexOf(n)>=0)return"f442_f109_Purple_"+a.fileno+".png"}return"f442_f109_Purple_1.png"},t}();e.FurnitureUtil=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(PIXI.Container);e.CircleContent=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),s=i(194),a=i(279),_=i(281),l=function(t){function e(){var e=t.call(this)||this;return e._onClick=function(){0==o.default.scene.now?o.default.view.portMain.showPortUI(!1):o.default.scene.change(0)},e._background=new PIXI.Sprite,e.addChild(e._background),e._content=new _.CircleContentWithSwitching,e.addChild(e._content),e._hit_area=new PIXI.Graphics,e._hit_area.beginFill(0,0),e._hit_area.drawCircle(0,0,95),e._hit_area.endFill(),e._hit_area.position.set(68,60),e.addChild(e._hit_area),e}return n(e,t),e.prototype.initialize=function(){this._background.texture=s.PORT_SKIN_2.getTexture(0),this._background.position.set(-46,-55),this._content.initialize(),this._content.position.set(67,58),this._hit_area.interactive=!0,this._hit_area.buttonMode=!0,this._hit_area.on(r.EventType.CLICK,this._onClick),this._startAnimation()},e.prototype.dispose=function(){this._hit_area.interactive=!1,this._hit_area.buttonMode=!1,this._hit_area.off(r.EventType.CLICK,this._onClick),this._content.dispose(),this._stopAnimation(),this._content_tween=null},e.prototype.startMoveAnimation=function(t){this._content.startAnimation(t)},e.prototype._startAnimation=function(){null==this._content_tween?this._content_tween=createjs.Tween.get(this._content,{loop:!0}).to({rotation:2*Math.PI},3e4):this._content_tween.play(null)},e.prototype._stopAnimation=function(){null!=this._content_tween&&this._content_tween.setPaused(!0)},e}(a.CircleContent);e.CircleContentSkin2=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(591),r=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.initialize=function(){this._skipTween(),null==this._content&&(this._content=new s,this._content.initialize(this._getTexture(0),this._getTextureOver(0)),this.addChild(this._content))},e.prototype.dispose=function(){this._stopTween(),null!=this._content&&this._content.dispose(),null!=this._content_tmp&&this._content_tmp.dispose()},e.prototype.startAnimation=function(t){var e=this;this._skipTween(),this._content_tmp=new s,this._content_tmp.initialize(this._getTexture(t),this._getTextureOver(t)),this._content_tmp.alpha=0,this.addChild(this._content_tmp),this._tween=createjs.Tween.get(this._content_tmp).to({alpha:1},600).call(function(){e._content.dispose(),e.removeChild(e._content),e._content=e._content_tmp,e._content_tmp=null})},e.prototype._stopTween=function(){null!=this._tween&&(this._tween.setPaused(!0),this._tween=null)},e.prototype._skipTween=function(){this._stopTween(),null!=this._content_tmp&&(this._content.dispose(),this.removeChild(this._content),this._content_tmp.alpha=1,this._content=this._content_tmp,this._content_tmp=null)},e.prototype._getTexture=function(t){return 11==t?o.PORT_SKIN_CIRCLE_2.getTexture(4):12==t?o.PORT_SKIN_CIRCLE_2.getTexture(6):13==t?o.PORT_SKIN_CIRCLE_2.getTexture(8):14==t?o.PORT_SKIN_CIRCLE_2.getTexture(12):15==t?o.PORT_SKIN_CIRCLE_2.getTexture(10):31==t?o.PORT_SKIN_CIRCLE_2.getTexture(0):16==t?o.PORT_SKIN_CIRCLE_2.getTexture(14):o.PORT_SKIN_CIRCLE_2.getTexture(2)},e.prototype._getTextureOver=function(t){return 11==t?o.PORT_SKIN_CIRCLE_2.getTexture(5):12==t?o.PORT_SKIN_CIRCLE_2.getTexture(7):13==t?o.PORT_SKIN_CIRCLE_2.getTexture(9):14==t?o.PORT_SKIN_CIRCLE_2.getTexture(13):15==t?o.PORT_SKIN_CIRCLE_2.getTexture(11):31==t?o.PORT_SKIN_CIRCLE_2.getTexture(1):16==t?o.PORT_SKIN_CIRCLE_2.getTexture(15):o.PORT_SKIN_CIRCLE_2.getTexture(3)},e}(PIXI.Container);e.CircleContentWithSwitching=r;var s=function(t){function e(){var e=t.call(this)||this;return e._under=new PIXI.Sprite,e.addChild(e._under),e._over=new PIXI.Sprite,e.addChild(e._over),e}return n(e,t),e.prototype.initialize=function(t,e){this._under.texture=t,this._over.texture=e,this.pivot.x=Math.round(this._under.width/2),this.pivot.y=Math.round(this._under.height/2),this._over.alpha=0,this._tween=createjs.Tween.get(this._over,{loop:!0}).to({alpha:.6},1e3,createjs.Ease.getPowOut(4)).to({alpha:0},1e3,createjs.Ease.getPowIn(4))},e.prototype.dispose=function(){null!=this._tween&&this._tween.setPaused(!0),this._tween=null},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(18),s=i(9),a=i(7),_=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this)||this;return i._url="api_port/port",i._debug=e,i}return n(e,t),e.prototype._connect=function(){this._post_data.api_sort_key=5,this._post_data.spi_sort_order=2,this._post_data.api_port=this._createKey(o.default.model.basic.member_id),t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e=o.default.model.basic;e.setUserData(a.ObjUtil.getObject(this._raw_data,"api_basic")),e.setPortBGMID(a.ObjUtil.getNumber(this._raw_data,"api_p_bgm_id")),e.setDutyExcutableCount(a.ObjUtil.getNumber(this._raw_data,"api_parallel_quest_count")),e.setDestroyShipSlotType(a.ObjUtil.getNumber(this._raw_data,"api_dest_ship_slot")),e.setEventData(a.ObjUtil.getObject(this._raw_data,"api_event_object")),e.setCFlag(a.ObjUtil.getNumber(this._raw_data,"api_c_flag")),o.default.model.deck.setData(a.ObjUtil.getObjectArray(this._raw_data,"api_deck_port")),o.default.model.deck.combined.__update__(a.ObjUtil.getNumber(this._raw_data,"api_combined_flag")),o.default.model.log.setData(a.ObjUtil.getObjectArray(this._raw_data,"api_log")),o.default.model.ship.setData(a.ObjUtil.getObjectArray(this._raw_data,"api_ship")),o.default.model.useItem.setMaterialData(a.ObjUtil.getObjectArray(this._raw_data,"api_material")),o.default.model.ndock.setData(a.ObjUtil.getObjectArray(this._raw_data,"api_ndock"));var i=a.ObjUtil.getObject(this._raw_data,"api_friendly_setting"),n=a.ObjUtil.getNumber(i,"api_request_flag"),r=a.ObjUtil.getNumber(i,"api_request_type");o.default.friendlyRequest.setData(n,r);var s=o.default.model.slot,_=a.ObjUtil.getObject(this._raw_data,"api_plane_info");if(null!=_){var l=a.ObjUtil.getNumArray(_,"api_base_convert_slot");null!=l?s.setAirUnitRelocation(l):s.setAirUnitRelocation(null);var u=a.ObjUtil.getObjectArray(_,"api_unset_slot");if(null!=u)for(var c=0,h=u;c<h.length;c++){var p=h[c],d=a.ObjUtil.getNumber(p,"api_type3No"),f=a.ObjUtil.getNumArray(p,"api_slot_list");s.updateUnsetData(d,f)}}else s.setAirUnitRelocation(null);t.prototype._completedEnd.call(this)},e.prototype._getSeed=function(t){return r.PORT_API_SEED[t%10]},e.prototype._createKey=function(t){var e=this._getSeed(t),i=Math.floor(Date.now()/1e3),n=1e3*(Math.floor(9*Math.random())+1)+t%1e3,o=Math.floor(8999*Math.random())+1e3,r=Math.floor(32767*Math.random())+32768,s=Math.floor(10*Math.random()),a=Math.floor(10*Math.random()),_=Math.floor(10*Math.random()),l=parseInt(t.toString().substr(0,4)),u=(4132653+r)*(l+1e3)-i+(1875979+9*r),c=u-t,h=c*e,p=n.toString()+h.toString()+o.toString();p=s.toString()+p;var d=p.substr(0,8),f=p.substr(8);return p=d+a+f,d=p.substr(0,18),f=p.substr(18),(p=d+_+f)+r.toString()},e}(s.APIBase);e.PortAPI=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(22),a=i(2),_=i(284),l=i(32),u=i(13),c=function(t){function e(e,i){var n=t.call(this)||this;return n._deck=r.default.model.deck.get(e),n._ships=n._deck.getShipList(),n._result=i,n}return n(e,t),e.prototype._start=function(){r.default.view.clickGuard=!0,this._loadResources()},e.prototype._loadResources=function(){for(var t=this,e=new u.ShipLoader,i=0,n=this._ships;i<n.length;i++){var o=n[i];null!=o&&e.add(o.mstID,o.isDamaged(),"banner")}e.load(function(){t._initCutin()})},e.prototype._initCutin=function(){this._cutin=new _.ExpeditionCutin,this._cutin.initialize(!1),this._createShipContainerU(),this._createShipContainerB(),this._cutin.bg.scale.set(1,0),this._cutin.message.position.set(1440,o.default.height/2),this._cutin.banner_top.position.set(0,243),this._cutin.banner_top.alpha=0,this._cutin.banner_bottom.position.set(o.default.width-this._cutin.banner_bottom.width,417),this._cutin.banner_bottom.alpha=0,this._playCutin()},e.prototype._playCutin=function(){var t=this;r.default.view.overLayer.addChild(this._cutin);var e=this._ships[0],i=e.mstID.toString();r.default.sound.voice.play(i,7),createjs.Tween.get(this._cutin.bg.scale).to({y:2},300).wait(1500).to({y:0},300).call(function(){t._endTask()}),createjs.Tween.get(this._cutin.message).wait(400).to({x:660},400).to({x:525},800).to({x:420,alpha:0},400),createjs.Tween.get(this._cutin.banner_top).wait(300).to({alpha:1},100).to({x:o.default.width/2-this._cutin.banner_top.width/2},800,createjs.Ease.cubicInOut).to({x:o.default.width-this._cutin.banner_top.width,alpha:0},800,createjs.Ease.cubicInOut),createjs.Tween.get(this._cutin.banner_bottom).wait(300).to({alpha:1},100).to({x:o.default.width/2-this._cutin.banner_bottom.width/2},800,createjs.Ease.cubicInOut).to({x:0,alpha:0},800,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(700).call(function(){t._cutin.particles.startAnim()})},e.prototype._createShipContainerU=function(){var t,e=this._ships[0],i=this._ships[2],n=this._ships[4];t=null==i?[e]:null==n?[i,e]:[i,e,n];for(var o=0;o<t.length;o++){var r=t[o],a=new l.ShipBanner;a.update(r,!1),a.position.x=s.BannerSize.W*o,this._cutin.banner_top.addChild(a)}},e.prototype._createShipContainerB=function(){var t,e=this._ships[1],i=this._ships[3],n=this._ships[5],o=this._ships[6];t=null==n?null==i?null==e?[]:[e]:[e,i]:null==o?[n,e,i]:[n,e,i,o];for(var r=0;r<t.length;r++){var a=t[r],_=new l.ShipBanner;_.update(a,!1),_.position.x=s.BannerSize.W*r,this._cutin.banner_bottom.addChild(_)}},e.prototype._endTask=function(e){void 0===e&&(e=!1),r.default.view.overLayer.removeChild(this._cutin),this._cutin.dispose(),r.default.view.clickGuard=!1,t.prototype._endTask.call(this)},e}(a.TaskBase);e.TaskExpeditionEndCutin=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(153),s=function(t){function e(){return t.call(this)||this}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this._message},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"banner_top",{get:function(){return this._banner_top},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"banner_bottom",{get:function(){return this._banner_bottom},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"particles",{get:function(){return this._particles},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){this._bg=new PIXI.Sprite(r.COMMON_EXPEDITION.getTexture(10)),this._bg.anchor.set(.5,.5),this._bg.position.set(o.default.width/2,o.default.height/2),this._message=1==t?new PIXI.Sprite(r.COMMON_EXPEDITION.getTexture(4)):new PIXI.Sprite(r.COMMON_EXPEDITION.getTexture(3)),this._message.anchor.set(.5,.5),this._banner_top=new a,this._banner_bottom=new a,this._particles=new _,this._particles.initialize(),this.addChild(this._bg),this.addChild(this._message),this.addChild(this._banner_top),this.addChild(this._banner_bottom),this.addChild(this._particles)},e.prototype.dispose=function(){this._bg=null,this._message=null,null!=this._banner_top&&this._banner_top.dispose(),this._banner_top=null,null!=this._banner_bottom&&this._banner_bottom.dispose(),this._banner_bottom=null,null!=this._particles&&this._particles.dispose(),this._particles=null},e}(PIXI.Container);e.ExpeditionCutin=s;var a=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.dispose=function(){for(var t=0,e=this.children;t<e.length;t++){var i=e[t],n=i;null!=n&&n.dispose()}this.removeChildren()},e}(PIXI.Container),_=function(t){function e(){var e=t.call(this)||this;return e.XPOS=[-164,-116,-102,-62,-36,0,65,90,141,195,215,270],e.YPOS=[-33,32,-51,-24,48,-3,-47,51,-30,29,-45,-14],e}return n(e,t),e.prototype.initialize=function(){this._particles=new Array;for(var t in this.XPOS){var e=new PIXI.Sprite(r.COMMON_EXPEDITION.getTexture(5));e.anchor.set(.5,.5),e.scale.set(0,0),e.position.set(this.XPOS[t]+o.default.width/2,this.YPOS[t]+o.default.height/2),this.addChild(e),this._particles.push(e)}},e.prototype.startAnim=function(){if(null==this._tweens){this._tweens=[];for(var t=0;t<this._particles.length;t++){var e=this._particles[t],i=createjs.Tween.get(e.scale).wait(100*t).to({x:1,y:1},100).to({x:0,y:0},100);this._tweens.push(i)}}},e.prototype.dispose=function(){for(var t=0,e=this._tweens;t<e.length;t++){e[t].setPaused(!0)}this._tweens=null,this._particles=null,this.removeChildren()},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(286),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.__getPositions__=function(){return[[27.75,-14.25],[38.25,21.75],[-8.25,35.25],[183,-23.25],[219,-.75],[210.75,35.25]]},e}(o.BaseKirakira);e.BannerKirakira=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(287),r=i(21),s=function(t){function e(){for(var e=t.call(this)||this,i=e.__getPositions__(),n=r.COMMON_MAIN.getTexture(33),s=r.COMMON_MAIN.getTexture(34),a=new Array,_=0;_<i.length;_++){var l=new PIXI.Sprite,u=i[_];l.position.x=u[0],l.position.y=u[1],l.alpha=1;var c=new o.KiraAnimation(l,n,s);a.push(c),e.addChild(l)}return e.kiraAnimations=a,e.visible=!1,e}return n(e,t),e.prototype.play=function(){this.visible=!0;for(var t=0;t<this.kiraAnimations.length;t++){var e=Math.floor(3*Math.random());this.kiraAnimations[t].play(e)}},e.prototype.stop=function(){this.visible=!1;for(var t=0;t<this.kiraAnimations.length;t++)this.kiraAnimations[t].stop()},e.prototype.dispose=function(){for(var t=0;t<this.kiraAnimations.length;t++)this.kiraAnimations[t].dispose(),this.kiraAnimations[t]=null;this.kiraAnimations=null,this.removeChildren()},e}(PIXI.Container);e.BaseKirakira=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i){this.UpdateInterval=1e3/30;var n=-(.3*Math.random()+.1);this.kira=t,this.light_ss_yellow_01=e,this.light_ss_yellow_02=i,this.animationSpeed=n}return t.prototype.play=function(t){this._stop(),this._playAlphaTween(),this._playTextureSwitchTween(t)},t.prototype.stop=function(){this._stop()},t.prototype.dispose=function(){this._stop(),this.kira=null,this.light_ss_yellow_01=null,this.light_ss_yellow_02=null,this.animationSpeed=null},t.prototype._playTextureSwitchTween=function(t){var e=this,i=createjs.Tween.get(this);switch(i.loop=!0,t){case 0:i.call(function(){e.kira.texture=e.light_ss_yellow_01}).wait(3*this.UpdateInterval).call(function(){e.kira.texture=e.light_ss_yellow_02}).wait(2*this.UpdateInterval);break;case 1:i.call(function(){e.kira.texture=e.light_ss_yellow_01}).wait(3*this.UpdateInterval).call(function(){e.kira.texture=e.light_ss_yellow_02}).wait(4*this.UpdateInterval);break;case 2:i.call(function(){e.kira.texture=e.light_ss_yellow_01}).wait(3*this.UpdateInterval).call(function(){e.kira.texture=e.light_ss_yellow_02}).wait(40)}},t.prototype._playAlphaTween=function(){var t=this,e=createjs.Tween.get(this);e.loop=!0,e.wait(40).call(function(){t.kira.alpha+=t.animationSpeed,1<t.kira.alpha?t.animationSpeed=-(.3*Math.random()+.1):t.kira.alpha<.3&&(t.animationSpeed=.3*Math.random()+.1)})},t.prototype._stop=function(){createjs.Tween.removeTweens(this),this.kira.alpha=0},t}();e.KiraAnimation=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype._start=function(){this._check()},e.prototype._check=function(){var t=o.default.model.deck.getAll();t=t.filter(function(t,e,i){return null!=t.expedition&&2==t.expedition.state});var e=o.default.view.portMain.expedition_alert;t.length>0?(e.initialize(t[0].mstID),e.activate(),e.visible=!0):(e.deactive(),e.visible=!1),this._endTask()},e}(r.TaskBase);e.TaskExpeditionAlertUpdate=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var e=t.call(this)||this;return e.dispose=function(){e.deactivate()},e._onTimer=function(){e.rotation+=Math.PI/180*2},e}return n(e,t),e.prototype.setUp=function(t){this.texture=t,this.pivot.set(this.width/2,this.height/2)},e.prototype.activate=function(){null==this._t&&(this._t=createjs.Tween.get(this,{loop:!0}).wait(1e3).call(this._onTimer))},e.prototype.deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Sprite);e.Gear=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.getMoveXValue=function(t){switch(t){case 49:case 253:return-this._MOVE_DISTANCE_SHORT;default:return-this._MOVE_DISTANCE}},t._MOVE_DISTANCE=200,t._MOVE_DISTANCE_SHORT=150,t}();e.PortConst=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.Sequence=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new a(t)},t.Parallel=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new d(t)},t.Delay=function(t){return new _(t)},t.Call=function(t){return new l(t)},t.Condition=function(e,i,n){return void 0===n&&(n=function(){return t.DoNothing()}),new s(e,i,n)},t.DoNothing=function(){return new r},t.WaitForTask=function(t,e){return new h(t,e)},t.LoopFor=function(t,e){return new p(t,e)},t.Value=function(t,e,i,n,o,r){return void 0===n&&(n=createjs.Ease.linear),void 0===o&&(o=function(){}),void 0===r&&(r=!1),new c(t,e,i,o,n,r)},t.WaitForFrame=function(t){return new u(t)},t.Tick=function(t,e){return new o(t,e)},t.SILENT=function(){},t.ENDLESS=t.SILENT,t}();e.$_$=n;var o=function(){function t(t,e){var i=this;this.onTick=function(t){var e=t;i._checkCall()?i._onTick(e):(createjs.Ticker.removeEventListener("tick",i.onTick),i._onComplete())},this._onTick=e,this._checkCall=t}return t.prototype.execute=function(t){createjs.Ticker.addEventListener("tick",this.onTick),this._onComplete=t},t.prototype.dispose=function(){this._onTick=null,this._checkCall=null,this._onComplete=null},t.prototype.interrupt=function(){createjs.Ticker.removeEventListener("tick",this.onTick)},t.prototype.interruptible=function(){return!0},t}(),r=function(){function t(){}return t.prototype.interruptible=function(){return!0},t.prototype.interrupt=function(){},t.prototype.execute=function(t){t()},t.prototype.dispose=function(){},t}(),s=function(){function t(t,e,i){this._testCondition=t,this._trueCase=e,this._falseCase=i}return t.prototype.interruptible=function(){return this._job.interruptible()},t.prototype.interrupt=function(){this._job.interrupt(),this._trueCase=function(){},this._falseCase=function(){},this._testCondition=function(){}},t.prototype.execute=function(t){var e=this._testCondition(),i=e?this._trueCase():this._falseCase();this._job=i,i.execute(t)},t.prototype.dispose=function(){this._job.dispose(),this._job=null,this._testCondition=null,this._trueCase=null,this._falseCase=null},t}(),a=function(){function t(t){var e=this;this._next=function(){if(e._job&&e._job.dispose(),e._job=null,e._seek<e._tasks.length){var t=e._tasks[e._seek++],i=t();e._job=i,i.execute(e._next)}else e._onComplete()},this._tasks=t}return t.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];1==t.length?this._tasks.push(t[0]):this._tasks=this._tasks.concat(t)},t.prototype.execute=function(t){this._onComplete=t,this._start()},t.prototype._start=function(){this._seek=0,this._next()},t.prototype.interruptible=function(){return this._job&&this._job.interruptible(),!0},t.prototype.interrupt=function(){this._job&&this._job.interrupt()},t.prototype.dispose=function(){var t=this;this._job&&this._job.dispose(),this._job=null,this._tasks.forEach(function(e,i){t._tasks[i]=null}),this._onComplete=null},t}(),_=function(){function t(t){this._duration=t}return t.prototype.execute=function(t){var e=createjs.Tween.get(this).wait(this._duration),i=e.call(t);this._tween=i,i.play(null)},t.prototype.interruptible=function(){return!0},t.prototype.interrupt=function(){createjs.Tween.removeTweens(this._tween.target)},t.prototype.dispose=function(){this._tween=null,this._duration=null},t}(),l=function(){function t(t){this._call=t}return t.prototype.execute=function(t){this._call(),t()},t.prototype.dispose=function(){this._call=null},t.prototype.interruptible=function(){return!0},t.prototype.interrupt=function(){},t}(),u=function(){function t(t){this._frame=t}return t.prototype.execute=function(t){var e=createjs.Tween.get(this,{useTicks:!0}).wait(this._frame).call(function(){t()});this._tween=e,e.play(null)},t.prototype.dispose=function(){this._tween=null,this._frame=null},t.prototype.interruptible=function(){return!0},t.prototype.interrupt=function(){createjs.Tween.removeTweens(this._tween.target)},t}(),c=function(){function t(t,e,i,n,o,r){var s=this;this._complete=function(){s._tween.removeEventListener("change",s.__onUpdate__),s.__onUpdate__(),s.__onComplete__()},this.__onComplete__=function(){s._onComplete&&s._onComplete()},this.__onUpdate__=function(){s._onUpadte&&s._onUpadte(s._target)},this._target=t,this._to=e,this._duration=i,this._onUpadte=n,this._easing=o}return t.prototype.execute=function(t){var e=this;this._onComplete=t;var i=createjs.Tween.get(this._target).to(this._to,this._duration,this._easing).call(function(){e._complete()});i.addEventListener("change",this.__onUpdate__),this._tween=i,i.play(null)},t.prototype.dispose=function(){this._target=null,this._to=null,this._duration=null,this._tween=null,this._easing=null,this._onUpadte=null},t.prototype.interruptible=function(){return!0},t.prototype.interrupt=function(){createjs.Tween.removeTweens(this._tween.target),this._complete=function(){},this.__onUpdate__=function(){},this._onComplete=null,this._onUpadte=null},t}(),h=function(){function t(t,e){var i=this;this._completeLoopJob=function(){i._loopJob.dispose(),i._loopJob=null,i._startLoopJob()},this._completeMainJob=function(){i._mainJob.dispose(),i._mainJob=null},this._mainTask=t,this._loopTask=e}return t.prototype.execute=function(t){this._onComplete=t,this._startMainJob(),this._startLoopJob()},t.prototype._startMainJob=function(){var t=this._mainTask();this._mainJob=t,t.execute(this._completeMainJob)},t.prototype._startLoopJob=function(){if(null==this._mainJob)this._onComplete();else{var t=this._loopTask();this._loopJob=t,t.execute(this._completeLoopJob)}},t.prototype.dispose=function(){this._loopTask=null,this._mainTask=null,this._loopJob=null,this._mainJob=null,this._onComplete=null},t.prototype.interrupt=function(){this._loopJob&&this._loopJob.interrupt(),this._mainJob&&this._mainJob.interrupt()},t.prototype.interruptible=function(){var t=!0;return this._loopJob&&(t=t&&this._loopJob.interruptible()),this._mainJob&&(t=t&&this._mainJob.interruptible()),t},t}(),p=function(){function t(t,e){var i=this;this._for_=function(){if(i._job&&i._job.dispose(),i._job=null,i._checkCondition()){var t=i._task();i._job=t,t.execute(i._for_)}else i._onComplete()},this._checkCondition=t,this._task=e}return t.prototype.execute=function(t){this._onComplete=t,this._for_()},t.prototype.interruptible=function(){return!this._job||this._job.interruptible()},t.prototype.interrupt=function(){this._for_=function(){},this._job&&this._job.interrupt()},t.prototype.dispose=function(){this._job&&this._job.dispose(),this._onComplete=null,this._job=null,this._checkCondition=null},t}(),d=function(){function t(t){var e=this;this._complete_call=function(){e._doneCounter++,e._tasks.length<=e._doneCounter&&e._onComplete()},this._tasks=t,this._jobs=[],this._doneCounter=0}return t.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];1==t.length?this._tasks.push(t[0]):this._tasks=this._tasks.concat(t)},t.prototype.interruptible=function(){var t=!0;return this._jobs.forEach(function(e){var i=e.interruptible();t=t&&i}),t},t.prototype.interrupt=function(){this._jobs.forEach(function(t){return t.interrupt()}),this._onComplete=function(){}},t.prototype.execute=function(t){this._onComplete=t,this.__call__()},t.prototype.__call__=function(){var t=this;if(0==this._tasks.length)return void this._complete_call();this._tasks.forEach(function(e){var i=e();t._jobs.push(i),i.execute(t._complete_call)})},t.prototype.dispose=function(){var t=this;this._jobs.forEach(function(e,i){e.dispose(),t._jobs[i]=null}),this._jobs=null,this._complete_call=null,this._tasks.forEach(function(e,i){t._tasks[i]=null}),this._onComplete=null,this._doneCounter=null},t}()},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(107),r=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite,e.addChild(e._img),e}return n(e,t),e.prototype.initialize=function(){this._img.texture=o.PORT_RINGMENU.getTexture(7),this._img.x=-Math.round(this._img.width/2),this._img.y=-Math.round(this._img.height/2)},e.prototype.activate=function(){null==this._t&&(this._t=createjs.Tween.get(this,{loop:!0}).to({rotation:2*Math.PI},24e3))},e.prototype.deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e.prototype.dispose=function(){this.deactivate()},e}(PIXI.Container);e.RingMenuBtnBgOn=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(107),r=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite,e._img.visible=!1,e.addChild(e._img),e}return n(e,t),e.prototype.initialize=function(t){var e;if(11==t)e=9;else if(12==t)e=14;else if(13==t)e=10;else if(14==t)e=11;else if(15==t)e=8;else{if(31!=t)return void(this._img.texture=PIXI.Texture.EMPTY);e=12}this._img.texture=o.PORT_RINGMENU.getTexture(e)},e.prototype.show=function(){var t=this;1!=this._img.visible&&null==this._t&&(this._img.position.set(5,-23),this._img.alpha=0,this._img.visible=!0,this._t=createjs.Tween.get(this._img).wait(400).to({x:35,alpha:1},100).call(function(){t._t=null}))},e.prototype.hide=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null),this._img.visible=!1},e.prototype.dispose=function(){this.hide()},e}(PIXI.Container);e.RingMenuBtnDescription=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(107),r=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite,e.addChild(e._img),e}return n(e,t),e.prototype.initialize=function(t){this._img.texture=this._getTexture(t),this._img.x=-Math.round(this._img.width/2),this._img.y=-Math.round(this._img.height/2)},e.prototype._getTexture=function(t){var e;if(11==t)e=15;else if(12==t)e=29;else if(13==t)e=17;else if(14==t)e=19;else if(15==t)e=5;else{if(31!=t)return PIXI.Texture.EMPTY;e=21}return o.PORT_RINGMENU.getTexture(e)},e}(PIXI.Container);e.RingMenuBtnImg=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(107),r=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite,e.addChild(e._img),e}return n(e,t),e.prototype.initialize=function(t){this._img.texture=this._getTexture(t),this._img.x=1-Math.round(this._img.width/2),this._img.y=1-Math.round(this._img.height/2),31==t&&(this._img.x+=21,this._img.y-=8)},e.prototype._getTexture=function(t){var e;if(11==t)e=16;else if(12==t)e=30;else if(13==t)e=18;else if(14==t)e=20;else if(15==t)e=6;else{if(31!=t)return PIXI.Texture.EMPTY;e=22}return o.PORT_RINGMENU.getTexture(e)},e}(PIXI.Container);e.RingMenuBtnImgOn=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(46),r=function(t){function e(e,i,n){var o=t.call(this)||this;return o._area_id=e,o._message1=i,o._message2=n,o}return n(e,t),Object.defineProperty(e.prototype,"area_id",{get:function(){return this._area_id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message1",{get:function(){return this._message1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message2",{get:function(){return this._message2},enumerable:!0,configurable:!0}),e}(o.RewardModel);e.RewardModelAirUnit=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(46),r=function(t){function e(e,i){var n=t.call(this)||this;return n._deck_id=e,n._deck_name=i,n}return n(e,t),Object.defineProperty(e.prototype,"deck_id",{get:function(){return this._deck_id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deck_name",{get:function(){return this._deck_name},enumerable:!0,configurable:!0}),e}(o.RewardModel);e.RewardModelDeck=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(46),r=function(t){function e(e){var i=t.call(this)||this;return i._flag=e,i}return n(e,t),Object.defineProperty(e.prototype,"flag",{get:function(){return this._flag},enumerable:!0,configurable:!0}),e}(o.RewardModel);e.RewardModelExtraSupply=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(46),r=function(t){function e(){return t.call(this)||this}return n(e,t),e}(o.RewardModel);e.RewardModelLargeBuild=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(46),r=function(t){function e(e,i){var n=t.call(this)||this;return n._area_id=e,n._map_no=i,n}return n(e,t),Object.defineProperty(e.prototype,"area_id",{get:function(){return this._area_id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"map_no",{get:function(){return this._map_no},enumerable:!0,configurable:!0}),e}(o.RewardModel);e.RewardModelMap=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(46),s=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._need_basic_update=!1,r._need_useitem_update=!1,r._mst_id_from=e,r._mst_id_to=i.toString(),r._message1=n,r._message2=o,r}return n(e,t),Object.defineProperty(e.prototype,"mst_id_from",{get:function(){return this._mst_id_from},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name_from",{get:function(){var t=o.default.model.slot.getMst(this._mst_id_from);return null==t?"":t.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mst_id_to",{get:function(){var t=this._mst_id_to.match(/\d+/);return null==t?0:parseInt(t[0])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name_to",{get:function(){var t=this.mst_id_to;return 1==this.isUseitemTo()?o.default.model.useItem.get(t).name:o.default.model.slot.getMst(t).name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message1",{get:function(){return this._message1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message2",{get:function(){return this._message2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"need_basic_update",{get:function(){return this._need_basic_update},set:function(t){this._need_basic_update=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"need_useitem_update",{get:function(){return this._need_useitem_update},set:function(t){this._need_useitem_update=t},enumerable:!0,configurable:!0}),e.prototype.isUseitemTo=function(){return-1!=this._mst_id_to.search(/u$/)},e}(r.RewardModel);e.RewardModelModelChange=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(46),r=function(t){function e(e){var i=t.call(this)||this;return i._value=e,i}return n(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}(o.RewardModel);e.RewardModelWarResult=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=function(t){function e(){var e=t.call(this)||this;return e.SWING=.1,e.R_SPEED=30/createjs.Ticker.framerate*.12,e._init_scale=1,e._rad=0,e._onChange=function(){e._rad+=e.R_SPEED;var t=e._init_scale+e.SWING*Math.sin(e._rad);e.scale.set(t)},e.anchor.set(.5),e.visible=!1,e}return n(e,t),e.prototype.initialize=function(){this.texture=o.COMMON_MISC.getTexture(70)},e.prototype.activate=function(){null==this._t&&(this._t=createjs.Tween.get(null,{loop:!0,onChange:this._onChange}),this.visible=!0)},e.prototype.deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null,this.visible=!1)},e.prototype.dispose=function(){this.deactivate()},e}(PIXI.Sprite);e.GetIcon=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(624),r=i(625),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.setItemFrom=function(t,e){return void 0===e&&(e=!1),this._mst_id_from=t,this._type_from=1==e?6:2,this},e.prototype.setItemTobe=function(t,e){return void 0===e&&(e=!1),this._mst_id_tobe=t,this._type_tobe=1==e?6:2,this},e.prototype.setMessage=function(t,e){return this._message1=t,this._message2=e,this},e.prototype.addMeltIntoSlotitem=function(t,e,i){void 0===i&&(i=-1);for(var n=new o.ModelChangeMeltIntoModel(e,0),r=0,s=t;r<s.length;r++){var a=s[r];i>0?n.addItem(a,2,i):n.addItem(a,2)}return this._melt_into_items.push(n),this},e.prototype.addMeltIntoUseitem=function(t,e,i){void 0===i&&(i=-1);for(var n=new o.ModelChangeMeltIntoModel(e,1),r=0,s=t;r<s.length;r++){var a=s[r];i>0?n.addItem(a,6,i):n.addItem(a,6)}return this._melt_into_items.push(n),this},e.prototype.addMeltIntoTojoin=function(t,e){void 0===t&&(t=70),void 0===e&&(e=2);var i=new o.ModelChangeMeltIntoModel(e,2);return i.addItem(t,6),this._melt_into_items.push(i),this},e.prototype.addMeltInto=function(t,e,i){for(var n=new o.ModelChangeMeltIntoModel(e,i),r=0,s=t;r<s.length;r++){var a=s[r];a.size>0?n.addItem(a.id,a.type,a.size):n.addItem(a.id,a.type)}return this._melt_into_items.push(n),this},e}(r.ModelChangeModel);e.ModelChangeModelEdit=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),s=i(2),a=i(8),_=i(60),l=i(40),u=i(29),c=i(24),h=i(67),p=i(10),d=i(204),f=i(628),y=i(629),m=i(630),g=function(t){function e(e,i){var n=t.call(this)||this;return n._layer=e,n._model=i,n}return n(e,t),e.prototype._start=function(){this._loadSlotitemResoucres()},e.prototype._loadSlotitemResoucres=function(){var t=this,e=new c.SlotLoader;if(0==this._model.isUseitemFrom()){var i=this._model.mst_id_from;i>0&&e.add(i,"card")}if(0==this._model.isUseitemTo()){var n=this._model.mst_id_tobe;n>0&&e.add(n,"card")}e.load(function(){t._loadUseitemResoucres()})},e.prototype._loadUseitemResoucres=function(){var t=this,e=new h.UseitemLoader;if(1==this._model.isUseitemFrom()){var i=this._model.mst_id_from;i>0&&e.add(i,1)}if(1==this._model.isUseitemTo()){var n=this._model.mst_id_tobe;n>0&&e.add(n,1)}e.load(function(){t._initBG()})},e.prototype._initBG=function(){var t=this;if(this._bg=new _.RarityBG,1==this._model.isUseitemTo())this._bg.initiailzeForUseitem(function(){t._animation()});else{var e=this._model.rarity_tobe;this._bg.initiailzeForSlotitem(e,function(){t._animation()})}},e.prototype._createItemFrom=function(t,e){var i;i=-1==t?p.COMMON_MISC.getTexture(37):1==e?o.default.resources.getUseitem(t,1):o.default.resources.getSlotitem(t,"card");var n=new d.CenteringSprite(i);return n.position.set(600,630),n.alpha=0,n},e.prototype._createItemTobe=function(t,e){var i;i=-1==t?p.COMMON_MISC.getTexture(49):1==e?o.default.resources.getUseitem(t,1):o.default.resources.getSlotitem(t,"card");var n=new d.CenteringSprite(i);return n.position.set(600,240),n.alpha=0,n.scale.set(.7),n},e.prototype._animation=function(){var t=this;this._layer.addChild(this._bg),this._item_tobe=this._createItemTobe(this._model.mst_id_tobe,this._model.isUseitemTo()),this._layer.addChild(this._item_tobe),this._item_from=this._createItemFrom(this._model.mst_id_from,this._model.isUseitemFrom()),this._layer.addChild(this._item_from),createjs.Tween.get(this._item_from).to({y:240,alpha:1},1e3).wait(1e3).call(function(){-1!=t._model.mst_id_tobe&&(t._item_tobe.alpha=.5),t._meltInto()}),this._particle_layer=new y.ModelChangeParticleLayer,this._layer.addChild(this._particle_layer),this._messagebox=new f.ModelChangeMessageBox,this._messagebox.initialize(this._model.message1),this._messagebox.y=720,this._layer.addChild(this._messagebox),createjs.Tween.get(this._messagebox).wait(500).to({y:480},300),this._white=new a.AreaBox(1,16777215),this._layer.addChild(this._white),createjs.Tween.get(this._white).to({alpha:0},500).call(function(){t._layer.removeChild(t._white)})},e.prototype._meltInto=function(){for(var t=this,e=new u.SerialTask,i=0,n=this._model.melt_into_items;i<n.length;i++){var o=n[i],r=o.items,s=o.direction,a=o.eff_type,_=new m.MeltIntoTask(this._layer,r,s,a);e.add(_)}e.start(function(){t._change()})},e.prototype._change=function(){var t=this;createjs.Tween.get(this._item_from).to({x:405,scaleX:.9,scaleY:.9,alpha:.75},650,createjs.Ease.sineOut).to({x:600,scaleX:.6,scaleY:.6,alpha:.5},600,createjs.Ease.sineIn).to({alpha:0},50),createjs.Tween.get(this._item_tobe).to({x:795,scaleX:.9,scaleY:.9,alpha:1},650,createjs.Ease.sineOut).call(function(){var e=t._layer.getChildIndex(t._item_from);t._layer.addChildAt(t._item_tobe,e)}).to({x:600,scaleX:1,scaleY:1},650,createjs.Ease.sineIn).call(function(){t._waitClick()})},e.prototype._waitClick=function(){var t=this;this._particle_layer.activate(),this._messagebox.changeText(this._model.message2),createjs.Tween.get(null).wait(1500).call(function(){var e=new l.GearBtnHome;e.position.set(1140,660),e.initialize(),e.activate(),t._layer.addChild(e);var i=new a.AreaBox(0);i.buttonMode=!0,t._layer.addChild(i),i.once(r.EventType.CLICK,function(){t._showLastWhite(e,i)})})},e.prototype._showLastWhite=function(t,e){var i=this;this._layer.addChild(this._white),createjs.Tween.get(this._white).to({alpha:1},400).call(function(){t.deactivate(),t.dispose(),i._layer.removeChild(t),i._layer.removeChild(e),i._messagebox.dispose(),i._layer.removeChild(i._messagebox),i._particle_layer.deactivate(),i._layer.removeChild(i._particle_layer),i._layer.removeChild(i._item_tobe),i._layer.removeChild(i._item_from),i._layer.removeChild(i._bg),i._hideLastWhite()})},e.prototype._hideLastWhite=function(){var e=this;createjs.Tween.get(this._white).to({alpha:0},100).call(function(){var i=e._white.parent;null!=i&&i.removeChild(e._white),t.prototype._endTask.call(e)})},e.prototype._endTask=function(){this._layer=null,this._model=null,this._bg=null,this._item_from=null,this._item_tobe=null,this._particle_layer=null,this._messagebox=null,this._white=null,t.prototype._endTask.call(this)},e}(s.TaskBase);e.ModelChangeTask=g},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this)||this;i._isOldType=e,i._img=new PIXI.Sprite,i.addChild(i._img);var n=new PIXI.Graphics;return n.beginFill(0),n.drawRect(0,0,240,300),n.endFill(),n.position.set(3,4),i.addChild(n),i._img.mask=n,i._isOldType&&(i._frame=new PIXI.Sprite,i.addChild(i._frame)),i}return n(e,t),e.prototype.initialize=function(){this._isOldType?(this.texture=o.COMMON_MISC.getTexture(52),this._frame.texture=o.COMMON_MISC.getTexture(54)):this.texture=o.COMMON_MISC.getTexture(53)},e.prototype.update=function(t){this._img.texture=t},e.prototype.clean=function(){this._img.texture=PIXI.Texture.EMPTY},e}(PIXI.Sprite);e.FurnitureThumbnail=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.initiailzeGetBG1=function(t){this._load("g1",t)},e.prototype.initiailzeGetBG2=function(t){this._load("g2",t)},e.prototype.dispose=function(){this._loader=null},e.prototype._load=function(t,e){var i=this,n=o.default.settings.path_root+"img/common/bg/"+t+".png";if(null!=PIXI.utils.TextureCache[n]&&(this.texture=PIXI.utils.TextureCache[n],null!=e))return void e();this._loader=new PIXI.loaders.Loader,this._loader.add(n),this._loader.load(function(t){if(i._loader==t){i._loader=null;var o=t.resources[n];i.texture=o.texture,null!=e&&e()}})},e}(PIXI.Sprite);e.GetBG=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(82),s=i(5),a=i(108),_=function(t){function e(e,i){var n=t.call(this)||this;n._ImageManager=e,n._ev=i;var _=new PIXI.Sprite(n._ImageManager.use(a.IMAGE_FILE.MSG_BOX));n.btn=new PIXI.Container;var l=new PIXI.Sprite(r.TUTORIAL_MAIN.getTexture(3));return l.anchor.set(.5,.5),n._btnOuter=new PIXI.Sprite(r.TUTORIAL_MAIN.getTexture(4)),n._btnOuter.anchor.set(.5,.5),n.btn.addChild(l,n._btnOuter),n.btn.width=n._btnOuter.width,n.btn.height=n._btnOuter.height,n.btn.position.set(s.default.width-Math.floor(n._btnOuter.width/2)-20,170),n.message=new o.TextBox(27,16777215),n.message.text="",n.message.position.set(250,85),n.position.set(0,465),n.addChild(_,n.message,n.btn),n}return n(e,t),e.prototype.start=function(){createjs.Tween.get(this._btnOuter,{loop:!0}).to({rotation:2*Math.PI},6e3,createjs.Ease.linear)},e.prototype.flashText=function(t,e){var i=this;void 0===e&&(e=40);var n=createjs.Tween.get(null,{loop:!0}).wait(e).call(function(){var e=t.substr(0,1);" "==i.message.text?i.message.text=e:i.message.text+=e,t=t.substr(1),0==t.length&&(n.setPaused(!0),n=null)})},e.prototype.dispose=function(){createjs.Tween.removeTweens(this._btnOuter)},e}(PIXI.Container);e.MessageBoxView=_},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("common_animation_"+t)}t.getTexture=e}(e.COMMON_ANIMATION||(e.COMMON_ANIMATION={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("organize_ship_"+t)}t.getTexture=e}(e.ORGANIZE_SHIP||(e.ORGANIZE_SHIP={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("remodel_gradeup_"+t)}t.getTexture=e}(e.REMODEL_GRADEUP||(e.REMODEL_GRADEUP={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("remodel_animation_"+t)}t.getTexture=e}(e.REMODEL_ANIMATION||(e.REMODEL_ANIMATION={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("arsenal_animation_"+t)}t.getTexture=e}(e.ARSENAL_ANIMATION||(e.ARSENAL_ANIMATION={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("item_mini_"+t)}t.getTexture=e}(e.ITEM_MINI||(e.ITEM_MINI={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(28),s=i(685),a=i(70),_=i(37),l=i(10),u=function(t){function e(e,i){var n=t.call(this)||this;n.kira=!1;var o=new PIXI.Sprite,r=new PIXI.Sprite,_=new PIXI.Sprite,l=new c,u=new s.CardKirakira,h=new a.RingLarge;return h.initialize(),h.activate(),h.position.set(263,383),_.position.set(200,342),n.addChild(o,r,_),l.position.x=165,i&&n.addChild(l),e&&(n.addChild(u),u.visible=!1,u.play()),n.addChild(h),n.shipCard=o,n.burned=r,n.state=_,n.tired=l,n.cardKirakira=u,n.kira=e,n.ring=h,n}return n(e,t),e.prototype.dispose=function(){this.shipCard.texture=PIXI.Texture.EMPTY,this.burned.texture=PIXI.Texture.EMPTY,this.state.texture=PIXI.Texture.EMPTY,this.tired.dispose(),this.cardKirakira.dispose(),this.ring.dispose(),this.ring=null,this.cardKirakira=null,this.shipCard=null,this.burned=null,this.state=null,this.tired=null,this.tired=null,this.removeChildren()},e.prototype.update=function(t,e){this.__updateTexture__(t.mstID,t.isDamaged());var i=t.isRepair();if(this.ring.visible=!1,t.isMarriage()&&(this.ring.visible=!0),i)this.__updateState__(5);else if(e)this.__updateState__(4);else{var n=r.ShipUtil.getDamageType(t.hpNow,t.hpMax);switch(n){case 75:this.__updateState__(1);break;case 50:this.__updateState__(2);break;case 25:this.__updateState__(3);break;default:this.__updateState__(0)}}this.__updateTired__(t.tired)},e.prototype.__updateTexture__=function(t,e){_.TaskLoadShipResource.abortBy(this.shipCard),1==o.default.resources.isLoadedShip(t,e,"card")?this.shipCard.texture=o.default.resources.getShip(t,e,"card"):(this.shipCard.texture=PIXI.Texture.EMPTY,new _.TaskLoadShipResource("card",this.shipCard,t,e).start())},e.prototype.__updateState__=function(t){switch(t){case 0:this.state.texture=PIXI.Texture.EMPTY;break;case 1:this.state.texture=l.COMMON_MISC.getTexture(93);break;case 2:this.state.texture=l.COMMON_MISC.getTexture(90);break;case 3:this.state.texture=l.COMMON_MISC.getTexture(95);break;case 4:this.state.texture=l.COMMON_MISC.getTexture(91);break;case 5:this.state.texture=l.COMMON_MISC.getTexture(94)}},e.prototype.__updateTired__=function(t){this.tired.updateTired(t),this.cardKirakira.visible=!1,t>=50&&this.kira&&(this.cardKirakira.visible=!0)},e}(PIXI.Container);e.ShipCard=u;var c=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite,n=new PIXI.Sprite;return n.position.set(152,212),e.bg=i,e.face=n,e}return n(e,t),e.prototype.updateTired=function(t){this.removeChildren(),this.bg.texture=PIXI.Texture.EMPTY,this.face.texture=PIXI.Texture.EMPTY,t<20?(this.bg.texture=l.COMMON_MISC.getTexture(34),this.face.texture=l.COMMON_MISC.getTexture(113)):t<30&&(this.bg.texture=l.COMMON_MISC.getTexture(33),this.face.texture=l.COMMON_MISC.getTexture(112)),this.addChild(this.bg,this.face)},e.prototype.dispose=function(){this.removeChildren(),this.bg.texture=PIXI.Texture.EMPTY,this.face.texture=PIXI.Texture.EMPTY,this.bg=null,this.face=null},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(21),r=function(t){function e(){var e=t.call(this)||this;e.bar=new PIXI.Sprite(o.COMMON_MAIN.getTexture(21));var i=new PIXI.Sprite(o.COMMON_MAIN.getTexture(20));return e.bar.x=3,e.bar.y=3,e.bar.scale.x=0,e.addChild(i,e.bar),e}return n(e,t),e.prototype.update=function(t){this.bar.scale.x=.01*t,1<=this.bar.scale.x?this.bar.scale.x=1:this.bar.scale.x<=0&&(this.bar.scale.x=0)},e.prototype.dispose=function(){this.removeChildren(),this.bar=null},e}(PIXI.Container);e.ExpGaugeView=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(21),r=i(688),s=function(t){function e(e,i){void 0===i&&(i=!1);var n=t.call(this)||this;n.maxSlot=e,n.emptyViews=[];for(var s=0;s<e;s++){var a=new PIXI.Sprite(o.COMMON_MAIN.getTexture(46));a.position.set(0,47*s),a.visible=!1,n.addChild(a),n.emptyViews.push(a)}n.normalViews=[];for(var s=0;s<e;s++){var _=new r.SlotItemSlotView(i);_.position.set(0,47*s),_.visible=!1,n.addChild(_),n.normalViews.push(_)}return n}return n(e,t),e.prototype.dispose=function(){for(var t=0;t<this.normalViews.length;t++)this.normalViews[t].dispose(),this.normalViews[t]=null;this.maxSlot=null,this.emptyViews=null,this.normalViews=null,this.removeChildren()},e.prototype.updateSlot=function(t,e){for(var i=t.getSlotViewMax(),n=0;n<this.maxSlot;n++){var o=e[n];n<t.slotNum?(this.normalViews[n].visible=!0,this.emptyViews[n].visible=!1,o?this.normalViews[n].update(o.iconType,o.name,o.isPlane(),t.getSlotitemTousai(n),o.level,o.skillLevel,o.isLocked()):this.normalViews[n].clear()):(this.normalViews[n].visible=!1,this.emptyViews[n].visible=n<i)}},e.prototype.updateExSlot=function(t){this.normalViews[0].visible=!1,this.emptyViews[0].visible=!1,t?(this.normalViews[0].visible=!0,this.normalViews[0].update(t.iconType,t.name,t.isPlane(),-1,t.level,t.skillLevel,t.isLocked())):this.emptyViews[0].visible=!0},e}(PIXI.Container);e.SlotItemSlotContainer=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShipAreaPosition=[[0,0],[513,0],[0,168],[513,168],[0,336],[513,336]],e.ShipOffsetPosition=[180,198]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(28);!function(t){function e(){for(var t=new Array,e=0;e<=99;e++)t.push(0);return t}function i(t,e,i,n){t[e]++,-1!=a[60].indexOf(e)&&t[60]++,-1!=a[53].indexOf(e)&&t[53]++,-1!=a[52].indexOf(e)&&t[52]++,-1!=a[55].indexOf(e)&&t[55]++,-1!=a[51].indexOf(e)&&t[51]++,-1!=a[57].indexOf(e)&&t[57]++,-1!=a[54].indexOf(e)&&t[54]++,-1!=a[59].indexOf(e)&&t[59]++,-1!=a[61].indexOf(e)&&t[61]++,-1!=a[56].indexOf(e)&&t[56]++,-1!=a[58].indexOf(e)&&t[58]++,8!=e&&(-1==a[62].indexOf(e)||1!=i&&0!=i)||t[63]++,-1==a[62].indexOf(e)||2!=i&&3!=i&&4!=i||t[62]++,7==e&&n>0&&t[64]++}function r(e,r,a){for(var l=[0,0],u=["",""],c=e.getShipList(),h=r.getShipList(),p=0==h.indexOf(null),d=t.initArray(),f=t.initArray(),y=0;y<_;y++){var m=c[y];null!=m&&i(d,m.shipTypeID,o.ShipUtil.getSpeedType(m.speed),n.default.model.ship.getMst(m.mstID).taisen_base)}for(var y=0;y<_;y++){var g=h[y];null!=g&&i(f,g.shipTypeID,o.ShipUtil.getSpeedType(g.speed),n.default.model.ship.getMst(g.mstID).taisen_base)}if(p)s(l,u,1,"\u7b2c2\u8266\u968a\u304c\u7a7a\u3067\u3059\u3002");else{if(null!=r.expedition)s(l,u,1,"\u7b2c"+r+"\u8266\u968a\u304c\u9060\u5f81\u4e2d\u3067\u3059\u3002");else{var v=h[0];switch(a){case 2:case 1:f[3]<1&&s(l,u,1,"\u8efd\u5de1\u6d0b\u8266\u306e\u914d\u5099\u304c\u5fc5\u8981\u3067\u3059\u3002"),f[3]>1&&s(l,u,1,"\u8efd\u5de1\u6d0b\u8266\u3092\uff12\u96bb\u4ee5\u4e0a\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),f[51]<2&&s(l,u,1,"\u99c6\u9010\u8266\uff12\u96bb\u4ee5\u4e0a\u306e\u914d\u5099\u304c\u5fc5\u8981\u3067\u3059\u3002"),f[53]>2&&s(l,u,1,"\u91cd\u5de1\u7d1a\u3092\uff13\u96bb\u4ee5\u4e0a\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),f[56]>1&&s(l,u,1,"\u6c34\u4e0a\u6a5f\u6bcd\u8266\u3092\uff12\u96bb\u4ee5\u4e0a\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),f[62]>0&&s(l,u,1,"\u4f4e\u901f\u6226\u8266\u306f\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),f[63]>2&&s(l,u,1,"\u9ad8\u901f\u6226\u8266\u3092\uff13\u96bb\u4ee5\u4e0a\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),f[57]>0&&s(l,u,1,"\u6b63\u898f\u7a7a\u6bcd\u306f\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),f[7]>1&&s(l,u,1,"\u8efd\u7a7a\u6bcd\u3092\uff12\u96bb\u4ee5\u4e0a\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),13==v.shipTypeID?s(l,u,1,"\u9023\u5408\u8266\u968a\u65d7\u8266\u306f\u6f5c\u6c34\u8266\u4e0d\u53ef\u3067\u3059\u3002"):14==v.shipTypeID&&s(l,u,1,"\u9023\u5408\u8266\u968a\u65d7\u8266\u306f\u6f5c\u6c34\u8266\u4e0d\u53ef\u3067\u3059\u3002");break;case 3:f[60]<3&&s(l,u,1,"\u8b66\u6212\u968a\u306f3\u96bb\u4ee5\u4e0a\u306e\u99c6\u9010\u7d1a\u304c\u5fc5\u8981\u3067\u3059\u3002"),3!=v.shipTypeID&&21!=v.shipTypeID&&s(l,u,1,"\u8b66\u6212\u968a\u306f\u8efd\u5de1/\u7df4\u5de1\u306e\u65d7\u8266\u304c\u5fc5\u8981\u3067\u3059\u3002"),f[4]>0&&s(l,u,1,"\u8b66\u6212\u968a\u306b\u91cd\u96f7\u88c5\u8266\u306f\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),f[55]>0&&s(l,u,1,"\u8b66\u6212\u968a\u306b\u822a\u7a7a\u6bcd\u8266\u306f\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),f[54]>0&&s(l,u,1,"\u8b66\u6212\u968a\u306b\u6226\u8266\u306f\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),f[61]>0&&s(l,u,1,"\u8b66\u6212\u968a\u306b\u6f5c\u6c34\u8266\u306f\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),f[16]>0&&s(l,u,1,"\u8b66\u6212\u968a\u306b\u6c34\u4e0a\u6a5f\u6bcd\u8266\u306f\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),f[17]>0&&s(l,u,1,"\u8b66\u6212\u968a\u306b\u63da\u9678\u8266\u306f\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),f[19]>0&&s(l,u,1,"\u8b66\u6212\u968a\u306b\u5de5\u4f5c\u8266\u306f\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),f[20]>0&&s(l,u,1,"\u8b66\u6212\u968a\u306b\u6f5c\u6c34\u6bcd\u8266\u306f\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),f[22]>0&&s(l,u,1,"\u8b66\u6212\u968a\u306b\u88dc\u7d66\u8266\u306f\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),f[5]+f[6]>2&&s(l,u,1,"\u91cd\u5de1/\u822a\u5de1\u3092\u8a08\uff13\u96bb\u4ee5\u4e0a\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),f[3]+f[21]>2&&s(l,u,1,"\u8b66\u6212\u968a\u3078\u306e\u8efd\u5de1\u7d1a\u914d\u5099\u306f\u6700\u5927\uff12\u96bb\uff01")}var b=c[0];switch(a){case 3:d[60]<4&&s(l,u,0,"\u8f38\u9001\u672c\u968a\u306f\u99c6\u9010\u7d1a\uff14\u96bb\u4ee5\u4e0a\u304c\u5fc5\u8981\u3067\u3059\u3002"),d[4]>0&&s(l,u,0,"\u8f38\u9001\u672c\u968a\u306b\u91cd\u96f7\u88c5\u8266\u306f\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),d[5]>0&&s(l,u,0,"\u8f38\u9001\u672c\u968a\u306b\u91cd\u5de1\u6d0b\u8266\u306f\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),d[57]>0&&s(l,u,0,"\u8f38\u9001\u672c\u968a\u306b\u822a\u7a7a\u6bcd\u8266\u306f\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),d[7]-d[64]>0&&s(l,u,0,"\u8f38\u9001\u672c\u968a\u306b\u822a\u7a7a\u6bcd\u8266\u306f\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),d[59]>0&&s(l,u,0,"\u8f38\u9001\u672c\u968a\u306b\u6226\u8266\u306f\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),d[61]>0&&s(l,u,0,"\u8f38\u9001\u672c\u968a\u306b\u6f5c\u6c34\u8266\u306f\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),d[19]>1&&s(l,u,0,"\u5de5\u4f5c\u8266\u30922\u96bb\u4ee5\u4e0a\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),d[64]>1&&s(l,u,0,"\u8f38\u9001\u672c\u968a\u3078\u306e\u8efd\u7a7a\u6bcd\u914d\u5099\u306f\u6700\u5927\uff11\u96bb\uff01");break;case 1:d[55]<2&&s(l,u,0,"\u7a7a\u6bcd\uff12\u96bb\u4ee5\u4e0a\u306e\u914d\u5099\u304c\u5fc5\u8981\u3067\u3059\u3002"),d[55]>4&&s(l,u,0,"\u7a7a\u6bcd\uff15\u96bb\u4ee5\u4e0a\u306f\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),d[54]>2&&s(l,u,0,"\u6226\u8266\uff13\u96bb\u4ee5\u4e0a\u306f\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),13==b.shipTypeID?s(l,u,0,"\u9023\u5408\u8266\u968a\u65d7\u8266\u306f\u6f5c\u6c34\u8266\u4e0d\u53ef\u3067\u3059\u3002"):14==b.shipTypeID&&s(l,u,0,"\u9023\u5408\u8266\u968a\u65d7\u8266\u306f\u6f5c\u6c34\u8266\u4e0d\u53ef\u3067\u3059\u3002");break;case 2:d[54]>4&&s(l,u,0,"\u6226\u8266\uff15\u96bb\u4ee5\u4e0a\u306f\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),d[53]>4&&s(l,u,0,"\u91cd\u5de1\u7d1a\uff15\u96bb\u4ee5\u4e0a\u306f\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),d[58]<2&&s(l,u,0,"\u8907\u6570\u306e\u5de1\u6d0b\u8266\u4ee5\u4e0a\u306e\u8266\u8247\u304c\u5fc5\u8981\u3067\u3059\u3002"),d[57]>1&&s(l,u,0,"\u8907\u6570\u306e\u6b63\u898f\u7a7a\u6bcd\u306f\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),1==d[57]&&d[7]>0&&s(l,u,0,"\u6b63\u898f\u7a7a\u6bcd\u3092\u542b\u3080\uff12\u96bb\u4ee5\u4e0a\u306e\u822a\u7a7a\u6bcd\u8266\u3092\u914d\n\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),0==d[57]&&d[7]>2&&s(l,u,0,"\uff13\u96bb\u4ee5\u4e0a\u306e\u822a\u7a7a\u6bcd\u8266\u306f\u914d\u5099\u3067\u304d\u307e\u305b\u3093\u3002"),13==b.shipTypeID?s(l,u,0,"\u9023\u5408\u8266\u968a\u65d7\u8266\u306f\u6f5c\u6c34\u8266\u4e0d\u53ef\u3067\u3059\u3002"):14==b.shipTypeID&&s(l,u,0,"\u9023\u5408\u8266\u968a\u65d7\u8266\u306f\u6f5c\u6c34\u8266\u4e0d\u53ef\u3067\u3059\u3002")}}}return""==u[0]&&""==u[1]?[!0,"",""]:[!1,u[0],u[1]]}function s(t,e,i,n){t[i]<3&&(""!=e[i]&&(e[i]=e[i]+"\n"),e[i]=e[i]+n,t[i]++)}var a={};a[60]=[1,2],a[51]=[2],a[52]=[3,4],a[58]=[3,4,5,6,8,9,10],a[53]=[5,6],a[54]=[8,9,10],a[55]=[7,11,18],a[57]=[11,18],a[56]=[16],a[59]=[8,9],a[61]=[13,14],a[62]=[9,10];var _=6;t.initArray=e,t.checkCombinable=r}(e.CombineUtil||(e.CombineUtil={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("organize_mamiya_animation_default_"+t)}t.getTexture=e}(e.ORGANIZE_MAMIYA_ANIMATION_DEFAULT||(e.ORGANIZE_MAMIYA_ANIMATION_DEFAULT={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("organize_mamiya_animation_xmas_"+t)}t.getTexture=e}(e.ORGANIZE_MAMIYA_ANIMATION_XMAS||(e.ORGANIZE_MAMIYA_ANIMATION_XMAS={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("organize_mamiya_animation_summer_"+t)}t.getTexture=e}(e.ORGANIZE_MAMIYA_ANIMATION_SUMMER||(e.ORGANIZE_MAMIYA_ANIMATION_SUMMER={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(324),s=i(84),a=function(t){function e(){var e=t.call(this)||this;e.empties=new Array,e.banners=new Array;for(var i=0;i<6;i++){var n=new PIXI.Sprite(o.COMMON_MAIN.getTexture(19)),s=new r.LongShipBanner,a=76*i;n.y=a,s.y=a,e.empties.push(n),e.banners.push(s),e.addChild(n,s)}return e}return n(e,t),e.prototype.dispose=function(){s.TaskLoadShipResource.abortBy(this);for(var t=0;t<this.empties.length;t++)this.empties[t].texture=PIXI.Texture.EMPTY,this.empties[t]=null;this.empties=null;for(var t=0;t<this.banners.length;t++)this.banners[t].dispose(),this.banners[t]=null;this.banners=null,this.removeChildren()},e.prototype.update=function(t,e){s.TaskLoadShipResource.abortBy(this);for(var i=0;i<6;i++){var n=this.banners[i],o=this.empties[i];if(n.visible=!1,o.visible=!0,i<t.length){var r=t[i];null!=r&&(n.update(i,r,e),n.visible=!0,o.visible=!1)}}},e}(PIXI.Container);e.LongShipBannerContainer=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(28),s=i(214),a=i(112),_=i(70),l=i(83),u=i(4),c=i(285),h=i(197),p=i(37),d=i(21),f=i(10),y=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite,n=new PIXI.Sprite,o=new PIXI.Sprite,r=new PIXI.Sprite,p=new h.BannerSmoke,f=new c.BannerKirakira,y=new a.HpGaugeView,m=new l.StarRateView,g=new u.TextBox(27,16777215),v=new u.TextBox(30,16777215),b=new s.DeckIndexEmblem,w=new PIXI.Sprite(d.COMMON_MAIN.getTexture(18)),x=new _.RingSmall;o.x=12,o.y=6,x.initialize(),x.activate(),x.position.set(215,33),y.position.set(14,42),m.position.set(122,39),v.anchor.x=1,b.position.set(15,18),w.position.set(251,6),v.position.set(212,2);var I=new PIXI.Graphics;I.beginFill(0,0),I.drawRect(0,0,105,36),I.endFill();var T=new PIXI.Container;T.position.set(9,5),T.mask=I,T.addChild(g,I),w.addChild(T,v,y,m),p.visible=!1;var O=new PIXI.Container;return O.width=240,O.height=60,O.addChild(p,f),e.addChild(i,o,n,O,w,r,b,x),e.shipBanner=i,e.burned=n,e.state=o,e.tired=r,e.smoke=p,e.textLevel=v,e.textName=g,e.starRateView=m,e.hpGaugeView=y,e.kirakira=f,e.ring=x,e.hitArea=new PIXI.Rectangle(0,0,240,60),e.containerName=T,e.containerEffect=O,e.deckIndexEmblem=b,e}return n(e,t),e.prototype.dispose=function(){this.containerName.cacheAsBitmap=!1,this.containerName.removeChildren(),this.containerEffect.removeChildren(),this.hpGaugeView.dispose(),this.starRateView.dispose(),this.smoke.dispose(),this.kirakira.dispose(),this.ring.dispose(),this.textLevel.destroy(),this.textName.destroy(),this.containerName.mask=null,this.containerName=null,this.containerEffect=null,this.shipBanner=null,this.hpGaugeView=null,this.starRateView=null,this.deckIndexEmblem=null,this.textLevel=null,this.textName=null,this.burned=null,this.state=null,this.tired=null,this.smoke=null,this.kirakira=null,this.ring=null,this.removeChildren()},e.prototype._updateName_=function(t,e){this.containerName.cacheAsBitmap=!1,this.textName.text=t;var i=16777215;e&&(i=16766947),this.textName.style.fill=i,this.containerName.cacheAsBitmap=!0},e.prototype._updateRing_=function(t){this.ring.visible=!1,t&&(this.ring.visible=!0)},e.prototype.update=function(t,e,i){var n=e.isRepair(),o=r.ShipUtil.getDamageType(e.hpNow,e.hpMax),s=e.isMarriage();this.hpGaugeView.update(e.hpNow,e.hpMax),this.starRateView.update(e.starNum),this.textLevel.text=e.level.toString(),this._updateTexture_(e.mstID,e.isDamaged()),this._updateName_(e.name,s),this._updateRing_(s),this._updateStatus_(n,i,o),this._updateBurned_(o),this._updateTired_(e.tired),this.deckIndexEmblem.update(t)},e.prototype._updateStatus_=function(t,e,i){if(this.smoke.stop(),t)this.updateState(5);else if(e)this.updateState(4);else switch(this.smoke.play(i),i){case 75:this.updateState(1);break;case 50:this.updateState(2);break;case 25:this.updateState(3);break;default:this.updateState(0)}},e.prototype._updateTexture_=function(t,e){p.TaskLoadShipResource.abortBy(this.shipBanner),1==o.default.resources.isLoadedShip(t,e,"supply_character")?this.shipBanner.texture=o.default.resources.getShip(t,e,"supply_character"):(this.shipBanner.texture=PIXI.Texture.EMPTY,new p.TaskLoadShipResource("supply_character",this.shipBanner,t,e).start())},e.prototype._updateBurned_=function(t){switch(t){case 75:this.burned.texture=f.COMMON_MISC.getTexture(97);break;case 50:this.burned.texture=f.COMMON_MISC.getTexture(96);break;case 25:this.burned.texture=f.COMMON_MISC.getTexture(98);break;default:this.burned.texture=PIXI.Texture.EMPTY}},e.prototype.updateState=function(t){switch(t){case 0:this.state.texture=PIXI.Texture.EMPTY;break;case 1:this.state.texture=f.COMMON_MISC.getTexture(105);break;case 2:this.state.texture=f.COMMON_MISC.getTexture(99);break;case 3:this.state.texture=f.COMMON_MISC.getTexture(109);break;case 4:this.state.texture=f.COMMON_MISC.getTexture(100);break;case 5:this.state.texture=f.COMMON_MISC.getTexture(108)}},e.prototype._updateTired_=function(t){if(this.tired.removeChildren(),t<20){var e=new PIXI.Sprite(f.COMMON_MISC.getTexture(36)),i=new PIXI.Sprite(f.COMMON_MISC.getTexture(113));i.x=Math.floor(e.width-i.width/2),i.y=Math.floor(e.height/2-i.height/2),e.x=240-e.texture.width+11,e.y=5,e.addChild(i),this.tired.addChild(e)}else if(t<30){var e=new PIXI.Sprite(f.COMMON_MISC.getTexture(35)),i=new PIXI.Sprite(f.COMMON_MISC.getTexture(112));i.x=Math.floor(e.width-i.width/2),i.y=Math.floor(e.height/2-i.height/2),e.x=240-e.texture.width+11,e.y=5,e.addChild(i),this.tired.addChild(e)}t>=50?this.kirakira.play():this.kirakira.stop()},e}(PIXI.Container);e.LongShipBanner=y},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(56),r=function(t){function e(e){var i=t.call(this)||this,n=null,r=null;switch(e){case 1:n=o.ORGANIZE_MAIN.getTexture(55),r=o.ORGANIZE_MAIN.getTexture(56);break;case 2:n=o.ORGANIZE_MAIN.getTexture(51),r=o.ORGANIZE_MAIN.getTexture(52)}return i.txt_txt1=new PIXI.Sprite(n),i.txt_txt2=new PIXI.Sprite(r),i.txt_txt2.anchor.set(1,1),i.txt_txt2.position.set(540,42),i.addChild(i.txt_txt1,i.txt_txt2),i}return n(e,t),e.prototype.hideTxt2=function(){this.txt_txt2.visible=!1},e.prototype.showTxt2=function(){this.txt_txt2.visible=!0},e.prototype.dispose=function(){this.txt_txt1=null,this.txt_txt2=null,this.removeChildren()},e}(PIXI.Container);e.PresetTitle=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=function(t){function e(e){var i=t.call(this)||this;return i._url="api_req_hensei/preset_delete",i.presetNo=e,i}return n(e,t),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e.prototype._connect=function(){this._post_data.api_preset_no=this.presetNo,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._result=this._raw_data,t.prototype._completedEnd.call(this)},e}(o.APIBase);e.PresetDeleteAPI=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o,r=i(0),s=i(3),a=i(4);!function(t){t[t.Top=0]="Top",t[t.Bottom=1]="Bottom"}(o=e.Direction||(e.Direction={}));var _=function(t){function e(){var e=t.call(this)||this;e.balloon=new PIXI.Sprite,e.shipInfos=new Array;var i=new l,n=new l,o=new l,r=new l,a=new l,_=new l;e.container=new PIXI.Container,i.position.set(0,0),n.position.set(190,0),o.position.set(0,43),r.position.set(190,43),a.position.set(0,85),_.position.set(190,85);var u=s.ORGANIZE_MAIN.getTexture(34);e.balloon.texture=u,e.shipInfos.push(i,n,o,r,a,_);for(var c=0;c<e.shipInfos.length;c++){var h=e.shipInfos[c];e.container.addChild(h)}return e.addChild(e.balloon,e.container),e}return n(e,t),e.prototype.dispose=function(){for(var t=0;t<this.shipInfos.length;t++)this.shipInfos[t].dispose(),this.shipInfos[t]=null;this.shipInfos=null,this.balloon=null,this.container=null,this.removeChildren()},e.prototype.update=function(t,e,i){for(var n=i.getShipCount(),a=0;a<6;a++){var _=this.shipInfos[a];if(a<n){if(i.isLostShip(a))_.updateLost();else{var l=i.ships[a],u=r.default.model.ship.getMst(l.mstID).getClassType(),c=0==i.isOtherDeckShip(a,t);_.update(l.name,u,l.shipTypeID,c)}}else _.updateUnSet()}switch(e){case o.Bottom:var h=s.ORGANIZE_MAIN.getTexture(34);this.balloon.texture=h,this.container.position.set(3,6);break;case o.Top:var p=s.ORGANIZE_MAIN.getTexture(35);this.balloon.texture=p,this.container.position.set(4,16)}},e.prototype.getFinePosition=function(t){switch(t){case o.Bottom:return new PIXI.Point(-192,-157);case o.Top:return new PIXI.Point(-192,-3)}return new PIXI.Point},e}(PIXI.Container);e.PresetPreviewBalloon=_;var l=function(t){function e(){var e=t.call(this)||this,i=r.default.resources.getUIImage("mask"),n=new PIXI.Sprite(i);return e.shipShadow=new PIXI.Sprite,e.containerName=new PIXI.Container,e.textName=new a.TextBox(18,5523516),e.shipShadow.position.set(0,10),e.containerName.position.set(69,10),n.anchor.set(1,0),n.scale.x=-1,e.containerName.mask=n,e.containerName.addChild(e.textName,n),e.addChild(e.shipShadow,e.containerName),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.containerName.cacheAsBitmap=!1,this.containerName.removeChildren(),this.containerName.mask=null,this.textName.destroy(),this.containerName=null,this.textName=null,this.shipShadow=null},e.prototype.update=function(t,e,i,n){this.containerName.cacheAsBitmap=!1,this.textName.text=t;var o=this.getShadowTextureName(e,i),r=s.ORGANIZE_SHIP.getTexture(o);this.shipShadow.texture=r,this.shipShadow.alpha=1,this.textName.alpha=1,this.shipShadow.position.set(0,10),this.shipShadow.alpha=.5,this.textName.alpha=.5,n&&(this.shipShadow.alpha=1,this.textName.alpha=1),this.containerName.cacheAsBitmap=!0},e.prototype.updateLost=function(){this.containerName.cacheAsBitmap=!1,this.textName.text="\u9664\u7c4d\u8266",this.shipShadow.position.set(8,8);var t=s.ORGANIZE_SHIP.getTexture(0);this.shipShadow.texture=t,this.shipShadow.alpha=.5,this.textName.alpha=.5,this.containerName.cacheAsBitmap=!0},e.prototype.updateUnSet=function(){this.containerName.cacheAsBitmap=!1,this.textName.alpha=0,this.shipShadow.alpha=0,this.containerName.cacheAsBitmap=!0},e.prototype.getShadowTextureName=function(t,e){switch(t){case 37:return 11;case 41:return 13;case 52:return 14}switch(e){case 1:return 15;case 2:return 1;case 3:return 12;case 4:return 17;case 5:return 16;case 6:return 18;case 7:return 21;case 8:case 9:return 19;case 10:return 20;case 11:return 22;case 12:return 19;case 13:return 2;case 14:return 3;case 15:return 10;case 16:return 4;case 17:return 8;case 18:return 6;case 19:return 7;case 20:return 5;case 21:return 9;case 22:return 10}},e}(PIXI.Container)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("organize_filter_"+t)}t.getTexture=e}(e.ORGANIZE_FILTER||(e.ORGANIZE_FILTER={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite,n=new PIXI.Sprite;return n.position.set(-29,-27),n.alpha=0,e.addChild(n,i),e.meter=i,e.meterLight=n,e}return n(e,t),e.prototype.update=function(t,e){this.meter.texture=o.COMMON_MISC.getTexture(121),this.meterLight.texture=o.COMMON_MISC.getTexture(132),null!=this.meterLightTween&&(this.meterLightTween.setPaused(!0),this.meterLightTween=null);var i;0==t?i=0:t==e?i=10:(i=Math.floor(9*t/e)+1,10<i&&(i=10),i<0&&(i=0));var n;n=0==i?1:10==i?0:(11-i)/11;var r=this.getTextureNoProgressImage(i);this.meter.texture=o.COMMON_MISC.getTexture(r),this.meterLightTween=createjs.Tween.get(this.meterLight).to({alpha:0}).to({alpha:n},1e3).to({alpha:0},1e3),this.meterLightTween.loop=!0,this.meterLightTween.play(null)},e.prototype.dispose=function(){null!=this.meterLightTween&&this.meterLightTween.setPaused(!0),createjs.Tween.removeTweens(this.meterLight),this.removeChild(this.meter),this.removeChild(this.meterLight),this.meterLightTween=null,this.meter=null,this.meterLight=null},e.prototype.getTextureNoProgressImage=function(t){switch(t){case 0:return 121;case 1:return 122;case 2:return 124;case 3:return 125;case 4:return 126;case 5:return 127;case 6:return 128;case 7:return 129;case 8:return 130;case 9:return 131;case 10:return 123}},e}(PIXI.Container);e.MaterialMeterView=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=i(7),a=function(t){function e(e,i,n){void 0===n&&(n=!0);var o=t.call(this)||this;return o._usedBauxite=!1,o._url="api_req_hokyu/charge",o._kind=e,o._id_items=i,o._onslot=n,o}return n(e,t),Object.defineProperty(e.prototype,"usedBauxite",{get:function(){return this._usedBauxite},enumerable:!0,configurable:!0}),e.prototype._connect=function(){this._post_data.api_kind=this._kind,this._post_data.api_id_items=this._id_items.join(","),this._post_data.api_onslot=this._onslot?1:0,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e=s.ObjUtil.getNumArray(this._raw_data,"api_material");o.default.model.useItem.get(31).__setCount__(e[0]),o.default.model.useItem.get(32).__setCount__(e[1]),o.default.model.useItem.get(33).__setCount__(e[2]),o.default.model.useItem.get(34).__setCount__(e[3]),o.default.view.portMain.updateInfo();for(var i=s.ObjUtil.getObjectArray(this._raw_data,"api_ship"),n=0;n<i.length;n++){var r=i[n],a=s.ObjUtil.getNumber(r,"api_id"),_=s.ObjUtil.getNumber(r,"api_fuel"),l=s.ObjUtil.getNumber(r,"api_bull"),u=s.ObjUtil.getNumArray(r,"api_onslot",[]),c=o.default.model.ship.get(a);c.__updateFuel__(_),c.__updateAmmo__(l),c.__updateOnSlot__(u)}var h=s.ObjUtil.getNumber(this._raw_data,"api_use_bou");this._usedBauxite=!!h,t.prototype._completedEnd.call(this)},e}(r.APIBase);e.ChargeAPI=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(329),s=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite(o.SUPPLY_MAIN.getTexture(25)),n=new r.MaterialMeterView,s=new r.MaterialMeterView;return n.position.set(12,8),s.position.set(119,8),e.addChild(i,n,s),e.fuelMaterialMeterView=n,e.ammoMaterialMeterView=s,e}return n(e,t),e.prototype.dispose=function(){this.fuelMaterialMeterView.dispose(),this.ammoMaterialMeterView.dispose(),this.fuelMaterialMeterView=null,this.ammoMaterialMeterView=null,this.removeChildren()},e.prototype.update=function(t,e,i,n){this.fuelMaterialMeterView.update(t,e),this.ammoMaterialMeterView.update(i,n)},e}(PIXI.Container);e.MaterialView=s;var a=i(750),_=i(10),l=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite(_.COMMON_MISC.getTexture(144)),n=new a.MaterialMeterViewS,o=new a.MaterialMeterViewS;return n.position.set(29,6),o.position.set(165,6),e.addChild(i,n,o),e.fuelMaterialMeterView=n,e.ammoMaterialMeterView=o,e}return n(e,t),e.prototype.dispose=function(){this.fuelMaterialMeterView.dispose(),this.ammoMaterialMeterView.dispose(),this.fuelMaterialMeterView=null,this.ammoMaterialMeterView=null,this.removeChildren()},e.prototype.update=function(t,e,i,n){this.fuelMaterialMeterView.update(t,e),this.ammoMaterialMeterView.update(i,n)},e}(PIXI.Container);e.MaterialViewS=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.update=function(t){switch(t){case 1:this.texture=o.SUPPLY_MAIN.getTexture(20);break;case 2:this.texture=o.SUPPLY_MAIN.getTexture(21);break;case 3:this.texture=o.SUPPLY_MAIN.getTexture(22);break;case 0:this.texture=PIXI.Texture.EMPTY}},e.prototype.dispose=function(){this.memShipId=null},e}(PIXI.Sprite);e.SupplyCheckBox=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.memShipIds=[]}return t.prototype.getMemShipIds=function(){return this.memShipIds},t.prototype.containts=function(t){return-1!=this.memShipIds.indexOf(t)},t.prototype.push=function(t){this.memShipIds.push(t)},t.prototype.remove=function(t){var e=this.memShipIds.indexOf(t);this.memShipIds.splice(e,1)},t.prototype.clear=function(){this.memShipIds=[]},t}();e.SupplyEditor=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e._onClick=function(){e.onClick()},e.slotIconDelete=new PIXI.Sprite(o.REMODEL_MAIN.getTexture(50)),e.clickArea=new PIXI.Graphics,e.clickArea.beginFill(0,0),e.clickArea.drawRect(0,0,30,45),e.clickArea.y=-e.clickArea.height/2+e.slotIconDelete.height/2,e.clickArea.endFill(),e.clickArea.renderable=!1,e.addChild(e.clickArea,e.slotIconDelete),e.interactive=e.buttonMode=!0,e.on(r.EventType.CLICK,e._onClick),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.off(r.EventType.CLICK),this.clickArea.clear(),this.slotIconDelete=null,this.clickArea=null,this.onClick=null},e}(PIXI.Container);e.DetachButton=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(11),s=i(15),a=function(t){function e(e){var i=t.call(this)||this;return i._url="api_req_kaisou/lock",i.api_slotitem_id=e,i}return n(e,t),e.prototype._connect=function(){this._post_data.api_slotitem_id=this.api_slotitem_id,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e=1==s.ObjUtil.getNumber(this._raw_data,"api_locked");o.default.model.slot.get(this.api_slotitem_id).__setLocked__(e),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.SlotItemLockAPI=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e._onMouseOver=function(){e.texture=e._textureOn},e._onMouseOut=function(){e.texture=e._textureOff},e._onClick=function(){null!=e._cb_onClick&&e._cb_onClick()},e._textureOff=o.REMODEL_MAIN.getTexture(1),e._textureOn=o.REMODEL_MAIN.getTexture(2),e.texture=e._textureOff,e.interactive=e.buttonMode=!0,e.on(r.EventType.CLICK,e._onClick),e.on(r.EventType.MOUSEOVER,e._onMouseOver),e.on(r.EventType.MOUSEOUT,e._onMouseOut),e}return n(e,t),e.prototype.initialize=function(t){this._cb_onClick=t},e.prototype.dispose=function(){this._textureOff=null,this._textureOn=null,this.off(r.EventType.CLICK,this._onClick),this.off(r.EventType.MOUSEOVER,this._onMouseOver),this.off(r.EventType.MOUSEOUT,this._onMouseOut),this._cb_onClick=null,this.removeChildren()},e}(PIXI.Sprite);e.CancelButton=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.LeafAnimation=function(t,e){var i=0,n=[[0+e.x,0+e.y,0],[179+e.x,80+e.y,.0984848484848485],[386.95+e.x,126+e.y,.196969696969697],[578.95+e.x,95+e.y,.287878787878788],[527.95+e.x,62+e.y,.386363636363636],[489.95+e.x,102+e.y,.454545454545455],[660.95+e.x,164+e.y,.53030303030303],[869.95+e.x,173+e.y,.621212121212121],[1026.95+e.x,132+e.y,.71969696969697],[1034.95+e.x,116+e.y,.78030303030303],[1071.95+e.x,155+e.y,.840909090909091],[1190.95+e.x,222+e.y,.916666666666667],[1331.95+e.x,246+e.y,1]],o={progress:0},r=createjs.Tween.get(o,{loop:!0}),s=function(){for(var e=0;e<n.length;e++){var i=n[e],r=i[0],s=i[1],a=i[2];if(o.progress<a){var _=e-1;_<0&&(_=0);var l=n[_],u=l[0],c=l[1],h=l[2],p=(o.progress-h)/(a-h),d=u+(r-u)*p,f=c+(s-c)*p;return t.position.x=d,void(t.position.y=f)}}},a=function(){i++},_=function(){i%2==0&&s()};return o.progress=0,s(),r.call(function(){return r.addEventListener("change",a),r.addEventListener("change",_),r}).to({progress:1},4400,createjs.Ease.quadOut).call(function(){r.removeAllEventListeners("change"),o.progress=1,s()}),r},t.LeafWithDashAnimation=function(t,e,i){var n=0,o=[[0+i.x,0+i.y,0],[179+i.x,80+i.y,.0984848484848485],[386.95+i.x,126+i.y,.196969696969697],[578.95+i.x,95+i.y,.287878787878788],[527.95+i.x,62+i.y,.386363636363636],[489.95+i.x,102+i.y,.454545454545455],[660.95+i.x,164+i.y,.53030303030303],[869.95+i.x,173+i.y,.621212121212121],[1026.95+i.x,132+i.y,.71969696969697],[1034.95+i.x,116+i.y,.78030303030303],[1071.95+i.x,155+i.y,.840909090909091],[1190.95+i.x,222+i.y,.916666666666667],[1331.95+i.x,246+i.y,1]],r={progress:0},s=createjs.Tween.get(r),a=function(){for(var e=0;e<o.length;e++){var i=o[e],n=i[0],s=i[1],a=i[2];if(r.progress<a){var _=e-1;_<0&&(_=0);var l=o[_],u=l[0],c=l[1],h=l[2],p=(r.progress-h)/(a-h),d=u+(n-u)*p,f=c+(s-c)*p;return t.position.x=d,void(t.position.y=f)}}},_=function(){n++},l=function(){n%2==0&&a()},u=function(){if(n%8==0){var i=e[Math.floor(n%e.length)];i.x=t.x-15,i.y=t.y+75,i.alpha=1,createjs.Tween.removeTweens(i),createjs.Tween.get(i).to({alpha:0},1e3).play(null)}};return r.progress=0,a(),s.call(function(){return s.addEventListener("change",_),s.addEventListener("change",l),s.addEventListener("change",u),s}).to({progress:1},4400,createjs.Ease.quadOut).call(function(){s.removeAllEventListeners("change"),r.progress=1,a()}),s},t}();e.LeafAnimationUtil=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=function(t){function e(){var e=t.call(this)||this;e._light=new PIXI.Sprite(o.COMMON_ANIMATION.getTexture(3)),e._light.position.set(600,195),e._light.anchor.set(.5,.5),e.addChild(e._light),e._light_place=new PIXI.Sprite(o.COMMON_ANIMATION.getTexture(4)),e._light_place.position.set(600,360),e._light_place.anchor.set(.5,.5),e.addChild(e._light_place);var i=new PIXI.Sprite(o.COMMON_ANIMATION.getTexture(2));return i.position.set(509,276),e.addChild(i),e}return n(e,t),Object.defineProperty(e.prototype,"light",{get:function(){return this._light},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"light_place",{get:function(){return this._light_place},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.removeChildren(),this._light=null,this._light_place=null},e}(PIXI.Container);e.FailedPenguin=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(8),s=i(60),a=i(13),_=i(814),l=function(t){function e(e){var i=t.call(this)||this;return i._clickGuard=new r.AreaBox(0),i._background=new s.RarityBG,i._ship=new PIXI.Sprite,i._elements=new u(e),i._white=new r.AreaBox(1,16777215),i}return n(e,t),e.prototype.preload=function(t,e,i,n){var r=this,s=new a.ShipLoader;s.add(t,e,"full"),s.load(function(){r._ship.texture=o.default.resources.getShip(t,e,"full"),e?(r._ship.x=i.x+228,r._ship.y=i.y-27):(r._ship.x=i.x+213,r._ship.y=i.y-62),r._background.initiailzeForShip(3,function(){null!=n&&n()})})},e.prototype.play=function(t,e){this._cb_onPreComplete=t,this._cb_onComplete=e,this.addChild(this._clickGuard),this._background.visible=!1,this.addChild(this._background),this._ship.visible=!1,this.addChild(this._ship),this._01_whiteInOut()},e.prototype._01_whiteInOut=function(){var t=this;this._white.alpha=0,this.addChild(this._white),createjs.Tween.get(this._white).to({alpha:1},500).call(function(){t._background.visible=!0,t._ship.visible=!0}).to({alpha:0},500).call(function(){t.removeChild(t._white),t._02_animElements()})},e.prototype._02_animElements=function(){var t=this;this.addChild(this._elements),this._elements.play(function(){t.removeChild(t._elements),null!=t._cb_onPreComplete&&t._cb_onPreComplete(),t._03_link()})},e.prototype.dispose=function(){this.removeChildren(),this._cb_onPreComplete=null,this._cb_onComplete=null,this._clickGuard=null,this._background.dispose(),this._background=null,this._ship=null,this._elements.dispose(),this._elements=null,this._white=null},e}(PIXI.Container);e.PowerUpAnimation=l;var u=function(t){function e(e){var i=t.call(this)||this;i.PROGRESS_WEIGHT=50,i.ALLROT=4,i.animation={progress:0},i._onUpdate=function(){for(var t=i.animation.progress,e=i._positions,n=2+t*i.PROGRESS_WEIGHT*.05,o=0;o<i._elements.length;o++){var r=i._elements[o];if(r.alpha=0,o<e.length){var s=1;t>.5&&(s=1-(t-.5)/.5);var a=e[o][0]-600,_=e[o][1]-360,l=Math.sqrt(a*a+_*_),u=Math.atan2(_,a);u+=i.ALLROT*Math.PI/180*(t*i.PROGRESS_WEIGHT),l-=n*(t*i.PROGRESS_WEIGHT);var c=l*Math.cos(u)+600,h=l*Math.sin(u)+360;r.x=c,r.y=h,r.alpha=s}}},i._elements=[];for(var n=0;n<e;n++){var o=new _.PowerElement;o.renderable=!1,o.updateRotationTable(),i._elements.push(o)}return i._positions=i._getPowerElementOffset(e),i}return n(e,t),e.prototype.play=function(t){for(var e=this,i=0,n=this._elements;i<n.length;i++){var o=n[i];o.renderable=!0,o.alpha=0,this.addChild(o)}this.animation.progress=0,this._onUpdate();var r=createjs.Tween.get(this.animation,{onChange:this._onUpdate}).to({progress:1},1600).call(function(){r.removeAllEventListeners("change"),createjs.Tween.removeTweens(r.target),e.animation.progress=1,e._onUpdate();for(var i=0,n=e._elements;i<n.length;i++){var o=n[i];o.renderable=!1,e.removeChild(o)}t()})},e.prototype.dispose=function(){createjs.Tween.removeTweens(this.animation);for(var t=0,e=this._elements;t<e.length;t++){e[t].dispose()}this._elements=null},e.prototype._getPowerElementOffset=function(t){switch(t){case 1:return[[293,353]];case 2:return[[176,192],[1092,621]];case 3:return[[176,192],[1092,362],[311,648]];case 4:return[[114,86],[1092,173],[311,648],[1022,585]];case 5:return[[71,248],[1092,191],[420,69],[1022,585],[171,632]]}return[]},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(1),a=i(190),_=i(40),l=i(13),u=i(14),c=i(835),h=i(836),p=18,d=20,f=8,y=3,m=1.75,g=function(t){function e(e,i){void 0===i&&(i=null);var n=t.call(this)||this;return n.Dispose=function(){r.default.view.portMain.visible=!0,null!=n.voice&&r.default.sound.voice.stop(n.voice),null!=n.btn&&n.btn.dispose(),n.shipModel=null,n.sakura=null,n.voice=null,n.btn=null,n.endAction=null,n.faceRect=null,n.touchArea=null,n.sBG=null,n.sFeather=null,n.sLight=null,n.sBlueLight=null,n.maskBg=null,n.sWhiteFrame=null,n.sBox1=null,n.sBox2=null,n.sBox3=null,n.sBox4=null,n.sRing=null,n.sText=null,n.sTextBack=null,n.sShip1=null,n.sShip2=null,n.sWhiteFrame=null,n.lightTween=null,n.blueTween=null,n.mainTween=null,n.timelineS1=null,n.tweenS2_1=null,n.tweenS2_2=null,n.timelineS2=null,n.tweenS3_1=null,n.timelineS3_1=null,n.timelineS3_2=null,n.tweenS4_1=null,n.tweenS4_2=null,n.tweenS5_1=null,n.tweenS5_2=null,n.timelineS5_2=null,n.timelineS5_2=null,n.tweenS6_1=null,n.timelineS6_1=null,n.tweenS7_1=null,n.timelineS7_1=null,n.timelineS7_2=null,n.timelineS7_3=null,n.timelineS7_4=null,u.UIImageLoader.clearMemoryCache("wedding")},n.Hide=function(){null!=n.voice&&r.default.sound.voice.stop(n.voice),r.default.sound.bgm.stop(),n.stopTween(n.mainTween),n.stopTween(n.timelineS1),n.stopTween(n.tweenS2_1),n.stopTween(n.tweenS2_2),n.stopTween(n.timelineS2),n.stopTween(n.tweenS3_1),n.stopTween(n.timelineS3_1),n.stopTween(n.timelineS3_2),n.stopTween(n.tweenS4_1),n.stopTween(n.tweenS4_2),n.stopTween(n.tweenS5_1),n.stopTween(n.tweenS5_2),n.stopTween(n.timelineS5_1),n.stopTween(n.timelineS5_2),n.stopTween(n.tweenS6_1),n.stopTween(n.timelineS6_1),n.stopTween(n.tweenS7_1),n.stopTween(n.timelineS7_1),n.stopTween(n.timelineS7_2),n.stopTween(n.timelineS7_3),n.stopTween(n.timelineS7_4),n.stopLight(),n.stopBlueTwinkle(),n.hideSakura(),n.removeChildren(0,n.children.length)},n.Play=function(t,e){(new l.ShipLoader).add(n.shipModel.mstID,!1,"full").load(function(){n.sShip1.texture=r.default.resources.getShip(n.shipModel.mstID,!1,"full"),n.sShip2.texture=r.default.resources.getShip(n.shipModel.mstID,!1,"full"),null==n.faceRect&&(n.faceRect=r.default.model.ship_graph.get(n.shipModel.mstID).getFaceRect(!1)),n.sShip1.scale.set(2,2),n.sShip2.scale.set(1,1),n.startAnimation(t,e)})},n.playVoice=function(){n.voice=r.default.sound.voice.play(n.shipModel.mstID.toString(),24)},n.randomLight=function(){n.lightTween=[];for(var t=0;t<f;t++)!function(t){var e=createjs.Tween.get(n.sLight[t],{paused:!0});e.call(function(){var e=n._getWhiteLightTextureNo(Math.floor(10*Math.random())+1);n.sLight[t].texture=h.WEDDING_MARRIAGE.getTexture(e),n.sLight[t].position.set(Math.floor(Math.random()*o.default.width),Math.floor(Math.random()*o.default.height))}).set({visible:!0}).wait(Math.floor(2e3*Math.random())).to({alpha:1},1e3).wait(500).to({alpha:0},1e3),e.loop=!0,e.setPaused(!0),n.lightTween.push(e)}(t)},n.playRandomLight=function(){for(var t=0;t<n.lightTween.length;t++)n.lightTween[t].setPaused(!1)},n.startAnimation=function(t,e){for(var i=432/n.faceRect.height,a=600-(n.faceRect.x+n.faceRect.width/2)*i,_=240-(n.faceRect.y+n.faceRect.height/2)*i,l=[{x:1200,y:600,time:2.6},{x:600,y:-150,time:2.2},{x:675,y:-150,time:2},{x:975,y:-150,time:1.8},{x:1200,y:-150,time:1.6},{x:1200,y:150,time:1.2},{x:1200,y:525,time:1},{x:300,y:-150,time:1.6},{x:675,y:-150,time:1.3},{x:825,y:-150,time:1},{x:1200,y:300,time:.7},{x:1200,y:600,time:1.6},{x:525,y:-150,time:1.6},{x:1200,y:300,time:1.2},{x:750,y:-150,time:.8},{x:1200,y:360,time:0},{x:750,y:-150,time:1},{x:975,y:-150,time:0},{x:1125,y:-150,time:0},{x:1350,y:150,time:0}],u=Array(d),c=Array(d),h=0;h<d;h++)u[h]=n.sFeather[h].position.x,c[h]=n.sFeather[h].position.y;n.endAction=function(){n.touchArea.interactive=!1,n.touchArea.buttonMode=!1,n.Hide(),null!=e&&e()},n.touchArea.interactive=!!t,n.touchArea.buttonMode=!!t,n.touchArea.on(s.EventType.CLICK,n.endAction);for(var h=0;h<8;h++)n.sText[h].scale.set(0,0),n.sTextBack[h].scale.set(0,0);for(var f=Array(d),h=0;h<d;h++)f[h]=(-3+Math.floor(6*Math.random()))*Math.PI/180,0==f[h]&&(f[h]=1*Math.PI/180),f[h]=150*f[h];var y=function(t){for(var e=t.target.target.time,i=0;i<d;i++)n.sFeather[i].position.x=u[i]+(l[i].x-u[i])*e,n.sFeather[i].position.y=c[i]+(l[i].y-c[i])*e,n.sFeather[i].position.x-=(l[i].x-u[i])*(.1*l[i].time),n.sFeather[i].position.y-=(l[i].y-c[i])*(.1*l[i].time),n.sFeather[i].rotation=0+f[i]*e};n.randomLight(),n.mainTween=createjs.Tween.get(null).call(function(){var t={time:0};n.timelineS1=new createjs.Timeline([],{start:0},{paused:!0}),n.timelineS1.addTween(createjs.Tween.get(n.sBG[0]).set({visible:!0}).to({alpha:1},1e3).call(function(){r.default.sound.bgm.play(133,!1),r.default.view.portMain.visible=!1,n.playRandomLight()}).to({y:2325},6e3)),n.timelineS1.addTween(createjs.Tween.get(t,{onChange:y}).wait(1e3).to({time:1.4},8500)),n.timelineS1.gotoAndPlay("start")}).wait(5200).call(function(){n.tweenS2_1=createjs.Tween.get(n.maskBg).to({alpha:1},1e3).call(function(){for(var t=0;t<d;t++)n.sFeather[t].visible=!1;n.sBG[0].visible=!1,n.sBG[1].visible=!0,n.sBG[1].alpha=1,n.sBG[1].scale.set(.5),n.sBG[1].position.y=o.default.height/2,n.sWhiteFrame.alpha=1,n.sShip1.alpha=0,n.sShip1.position.set(o.default.width/2-n.sShip1.width/2,2*-(n.faceRect.y+n.faceRect.height)),n.timelineS2=new createjs.Timeline([],{start:0},{paused:!0}),n.timelineS2.addTween(createjs.Tween.get(n.sBG[1].scale).wait(500).to({x:1,y:1},8e3)),n.timelineS2.addTween(createjs.Tween.get(n.sBG[1]).wait(500).to({y:270},8e3)),n.timelineS2.gotoAndPlay("start")}).wait(500).to({alpha:0},3e3).call(function(){n.showSakura(600,0,600,720),n.tweenS2_2=createjs.Tween.get(n.sShip1).to({alpha:1},1e3).wait(1e3).to({alpha:0},1e3)})}).wait(7e3).call(function(){n.tweenS3_1=createjs.Tween.get(n.maskBg).to({alpha:1},2500).call(function(){n.sBG[1].visible=!1,n.sBG[2].visible=!0,n.sBG[2].alpha=1,n.sBox1.alpha=1,n.hideSakura(),n.timelineS3_1=new createjs.Timeline([],{start:0},{paused:!0}),n.timelineS3_1.addTween(createjs.Tween.get(n.sBG[2]).to({y:720},5e3)),n.timelineS3_1.addTween(createjs.Tween.get(n.sBox1).to({y:357},5e3)),n.timelineS3_1.gotoAndPlay("start")}).wait(1800).to({alpha:0},4e3).call(function(){n.sBG[2].alpha=1,n.sBox1.alpha=1,n.timelineS3_2=new createjs.Timeline([],{start:0},{paused:!0}),n.timelineS3_2.addTween(createjs.Tween.get(n.sBox1).wait(500).to({alpha:0},1e3).call(function(){n.randomBlueTwinkle(0)})),n.timelineS3_2.addTween(createjs.Tween.get(n.sBox2).to({alpha:1},1e3)),n.timelineS3_2.gotoAndPlay("start")})}).wait(11e3).call(function(){var t=2*(n.faceRect.y+n.faceRect.height),e=n.sShip1.height-720,i=2*(e-t)/3+t,o=1*(e-t)/3+t,r=0*(e-t)/3+t;n.tweenS4_1=createjs.Tween.get(n.maskBg).to({alpha:1},3500).call(function(){n.sBG[3].visible=!1,n.stopBlueTwinkle(),n.sWhiteFrame.alpha=0,n.whiteBG.alpha=1,n.sShip1.alpha=1,n.sShip1.position.set(0,-e)}).to({alpha:0},1e3).wait(1e3).to({alpha:1},1500).call(function(){n.sShip1.position.set(1200-n.sShip1.width,-i)}).to({alpha:0},1e3).wait(1e3).to({alpha:1},1500).call(function(){n.sShip1.position.set(0,-o)}).to({alpha:0},1e3).wait(1e3).to({alpha:1},1500).call(function(){n.sShip1.position.set(1200-n.sShip1.width,-r)}).to({alpha:0},1e3).wait(1e3).to({alpha:1},1500).call(function(){n.sShip1.position.set(600-n.sShip1.width/2,-n.sShip1.height)}).wait(1e3).to({alpha:0},1e3).call(function(){n.tweenS4_2=createjs.Tween.get(n.sShip1).to({y:2*-(n.faceRect.y+n.faceRect.height)},6e3,createjs.Ease.cubicOut)}).wait(3e3).to({alpha:1},2500)}).wait(26500).call(function(){n.tweenS5_1=createjs.Tween.get(n.maskBg).call(function(){n.sBG[2].visible=!1,n.sBG[3].visible=!0,n.sBG[3].alpha=1,n.sBG[3].scale.set(.5),n.whiteBG.alpha=0,n.sShip1.scale.set(m,m),n.sShip1.position.set(600-(n.faceRect.x+n.faceRect.width/2)*m,15-n.faceRect.y*m),n.sBox3.position.y=510}).to({alpha:0},2500).call(function(){n.playVoice(),n.tweenS5_2=createjs.Tween.get(n.sBox3).wait(1e3).to({y:564,alpha:1},1e3)}).wait(2e3).call(function(){n.timelineS5_1=new createjs.Timeline([],{start:0},{paused:!0}),n.timelineS5_1.addTween(createjs.Tween.get(n.sBox3).wait(1600).to({alpha:0},1e3)),n.timelineS5_1.addTween(createjs.Tween.get(n.sBox4).wait(1e3).to({alpha:1},1e3).call(function(){n.randomBlueTwinkle(1)})),n.timelineS5_1.addTween(createjs.Tween.get(n.sRing).wait(1e3).to({alpha:1},1e3)),n.timelineS5_1.gotoAndPlay("start")}).wait(2400).call(function(){n.timelineS5_2=new createjs.Timeline([],{start:0},{paused:!0}),n.timelineS5_2.addTween(createjs.Tween.get(n.sBox4).to({alpha:0},1e3)),n.timelineS5_2.addTween(createjs.Tween.get(n.sRing).wait(1e3).wait(1500).call(function(){n.sBG[3].alpha=1,n.stopBlueTwinkle()}).to({alpha:0},2e3)),n.timelineS5_2.addTween(createjs.Tween.get(n.sBG[3].scale).wait(4200).to({x:1,y:1},6e3)),n.timelineS5_2.gotoAndPlay("start")})}).wait(13e3).call(function(){var t=720/n.sShip2.height,e=600-n.sShip2.width*t/2;n.tweenS6_1=createjs.Tween.get(n.maskBg).to({alpha:1},3e3).call(function(){n.sBG[3].visible=!1,n.sBG[5].visible=!0,n.sBG[3].alpha=0,n.sRing.alpha=0,n.sShip1.alpha=0,n.sBG[5].alpha=1,n.sShip2.alpha=1,n.sShip2.scale.set(t,t),n.sShip2.position.set(e,0),n.showSakura(0,0,o.default.width,o.default.height)}).wait(500).to({alpha:0}).call(function(){n.timelineS6_1=new createjs.Timeline([],{start:0},{paused:!0}),n.timelineS6_1.addTween(createjs.Tween.get(n.sShip2).wait(3700).to({x:a,y:_},4e3)),n.timelineS6_1.addTween(createjs.Tween.get(n.sShip2.scale).wait(3700).to({x:i,y:i},4e3)),n.timelineS6_1.gotoAndPlay("start")}).wait(5500).to({alpha:1},2500).call(function(){n.sBG[5].visible=!1,n.sBG[5].alpha=0,n.sShip2.alpha=0,n.whiteBG.alpha=1}).to({alpha:0},500)}).wait(12800).call(function(){for(var t=0;t<8;t++)n.sText[t].alpha=0,n.sTextBack[t].alpha=0,n.sText[t].scale.set(1,1),n.sTextBack[t].scale.set(1,1);n.timelineS7_1=new createjs.Timeline([],{start:0},{paused:!0}),n.timelineS7_2=new createjs.Timeline([],{start:0},{paused:!0}),n.timelineS7_3=new createjs.Timeline([],{start:0},{paused:!0}),n.timelineS7_4=new createjs.Timeline([],{start:0},{paused:!0});for(var t=0;t<8;t++){var e=700*t;n.sText[t].visible=!0,n.sTextBack[t].visible=!0,n.timelineS7_1.addTween(createjs.Tween.get(n.sText[t]).wait(e).to({alpha:1},100)),n.timelineS7_1.addTween(createjs.Tween.get(n.sTextBack[t]).wait(e).to({alpha:1},100)),n.timelineS7_1.addTween(createjs.Tween.get(n.sText[t].scale).wait(e).to({x:1.258,y:1.258},133,createjs.Ease.quadOut).to({x:1.5,y:1.5},200).to({x:1,y:1},333,createjs.Ease.quadIn)),n.timelineS7_1.addTween(createjs.Tween.get(n.sTextBack[t].scale).wait(e).to({x:1.258,y:1.258},133,createjs.Ease.quadOut).to({x:1.5,y:1.5},200).to({x:1,y:1},333,createjs.Ease.quadIn))}for(var t=8;t<p-1;t++)n.timelineS7_2.addTween(createjs.Tween.get(n.sText[t]).set({visible:!0}).to({alpha:1},1e3)),n.timelineS7_2.addTween(createjs.Tween.get(n.sTextBack[t]).set({visible:!0}).to({alpha:1},1e3));n.timelineS7_3.addTween(createjs.Tween.get(n.sText[17]).set({visible:!0}).to({alpha:1},1e3)),n.timelineS7_3.addTween(createjs.Tween.get(n.sTextBack[17]).set({visible:!0}).to({alpha:1},1e3)),n.tweenS7_1=createjs.Tween.get(null).call(function(){n.timelineS7_1.gotoAndPlay("start")}).wait(5600).call(function(){n.timelineS7_2.gotoAndPlay("start")}).wait(1e3).call(function(){n.timelineS7_3.gotoAndPlay("start")}).wait(800).wait(3e3).call(function(){for(var t=0;t<p;t++)n.timelineS7_4.addTween(createjs.Tween.get(n.sText[t]).to({alpha:0},1500).set({visible:!1})),n.timelineS7_4.addTween(createjs.Tween.get(n.sTextBack[t]).to({alpha:0},1500).set({visible:!1}));n.timelineS7_4.gotoAndPlay("start")}).wait(1500).call(function(){n.showButton()})})},n.stopLight=function(){if(null!=n.lightTween)for(var t=0;t<n.lightTween.length;t++)n.stopTween(n.lightTween[t]),n.sLight[t].alpha=0,n.sLight[t].visible=!1},n.randomBlueTwinkle=function(t){var e=0==t?210:180,i=0==t?75:180,o=0==t?495:510,r=0==t?360:465;n.blueTween=[];for(var s=0;s<y;s++)!function(t){var s=createjs.Tween.get(n.sBlueLight[t]);s.call(function(){n.sBlueLight[t].position.set(o+Math.floor(Math.random()*e),r+Math.floor(Math.random()*i))}).set({visible:!0}).wait(Math.floor(600*Math.random())).to({alpha:1},300).to({alpha:0},300).set({visible:!1}),s.loop=!0,n.blueTween.push(s)}(s)},n.stopBlueTwinkle=function(){if(null!=n.blueTween)for(var t=0;t<n.blueTween.length;t++)n.stopTween(n.blueTween[t]),n.sBlueLight[t].alpha=0,n.sBlueLight[t].visible=!1},n.showSakura=function(t,e,i,o){var r=new PIXI.Rectangle(t,e,i,o);n.sakura.startAnimation(r)},n.hideSakura=function(){null!=n.sakura&&n.sakura.stopAnimation()},n.showButton=function(){n.btn=new _.GearBtnHome,n.btn.position.set(1130,648),n.btn.initialize(),n.btn.activate(),n.addChild(n.btn),n.touchArea.interactive=!0,n.touchArea.buttonMode=!0},n.shipModel=r.default.model.ship.getMst(e),n.sShip1=new PIXI.Sprite,n.sShip2=new PIXI.Sprite,n.sakura=new a.Sakura,n.faceRect=i,n}return n(e,t),e.prototype.Initialize=function(){this.sShip1.anchor.set(0),this.sShip1.position.set(o.default.width/2,o.default.height/2),this.sShip1.alpha=0,this.sShip2.anchor.set(0),this.sShip2.position.set(o.default.width/2,o.default.height/2),this.sShip2.alpha=0,this.sBG=Array(5),this.sBG[0]=this.createSprite(c.WEDDING_MARRIAGE_BG.getTexture(0),0,1,0,o.default.height,0),this.sBG[1]=this.createSprite(c.WEDDING_MARRIAGE_BG.getTexture(4),.5,.5,o.default.width/2,360,0),this.sBG[2]=this.createSprite(c.WEDDING_MARRIAGE_BG.getTexture(2),.5,1,o.default.width/2,o.default.height+450,0),this.sBG[3]=this.createSprite(c.WEDDING_MARRIAGE_BG.getTexture(1),.5,.5,o.default.width/2,o.default.height/2,0),this.sBG[4]=this.createSprite(c.WEDDING_MARRIAGE_BG.getTexture(1),.5,.5,o.default.width/2,o.default.height/2,0),this.sBG[5]=this.createSprite(c.WEDDING_MARRIAGE_BG.getTexture(3),.5,.5,o.default.width/2,o.default.height/2,0);for(var t=0;t<this.sBG.length;t++)this.sBG[t].visible=!1;this.whiteBG=new PIXI.Graphics,this.whiteBG.beginFill(16777215),this.whiteBG.drawRect(0,0,o.default.width,o.default.height),this.whiteBG.endFill(),this.whiteBG.alpha=0,this.maskBg=new PIXI.Graphics,this.maskBg.beginFill(16777215),this.maskBg.drawRect(0,0,o.default.width,o.default.height),this.maskBg.endFill(),this.maskBg.alpha=0,this.touchArea=new PIXI.Graphics,this.touchArea.beginFill(16777215),this.touchArea.drawRect(0,0,o.default.width,o.default.height),this.touchArea.endFill(),this.touchArea.alpha=.001,this.sFeather=Array(d);for(var e=[0,0,0,0,0,0,0,1,1,1,1,1,2,2,2,2,3,3,3,3],t=0;t<d;t++){var i=this.getFeatherType(e[t]);this.sFeather[t]=this.createSprite(h.WEDDING_MARRIAGE.getTexture(i),.5,.5,-150,870,1)}this.sLight=Array(f);for(var t=0;t<f;t++){var n=this._getWhiteLightTextureNo(t);this.sLight[t]=this.createSprite(h.WEDDING_MARRIAGE.getTexture(n),.5,.5,0,0,0)}this.sBlueLight=Array(y);for(var t=0;t<y;t++)this.sBlueLight[t]=this.createSprite(h.WEDDING_MARRIAGE.getTexture(25),.5,.5,0,0,0);this.sWhiteFrame=this.createSprite(h.WEDDING_MARRIAGE.getTexture(24),0,0,0,0,0),this.sBox1=this.createSprite(h.WEDDING_MARRIAGE.getTexture(21),.5,.5,615,807,0),this.sBox2=this.createSprite(h.WEDDING_MARRIAGE.getTexture(20),.5,.5,615,357,0),this.sBox3=this.createSprite(h.WEDDING_MARRIAGE.getTexture(23),.5,.5,600,450,0),this.sBox4=this.createSprite(h.WEDDING_MARRIAGE.getTexture(22),.5,.5,600,564,0),this.sRing=this.createSprite(h.WEDDING_MARRIAGE.getTexture(26),.5,.5,600,564,0),this.sText=[this.createSprite(h.WEDDING_MARRIAGE.getTexture(29),.5,.5,285,299,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(37),.5,.5,324,339,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(43),.5,.5,384,329,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(37),.5,.5,441,341,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(31),.5,.5,497,308,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(37),.5,.5,570,341,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(39),.5,.5,632,276,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(37),.5,.5,645,341,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(27),.5,.5,705,360,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(37),.5,.5,743,360,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(44),.5,.5,780,360,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(37),.5,.5,818,360,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(32),.5,.5,855,360,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(37),.5,.5,893,360,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(27),.5,.5,930,360,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(37),.5,.5,968,360,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(41),.5,.5,1005,360,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(35),.5,.5,606,516,0)],this.sTextBack=[this.createSprite(h.WEDDING_MARRIAGE.getTexture(30),.5,.5,285,299,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(38),.5,.5,324,339,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(46),.5,.5,384,329,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(38),.5,.5,441,341,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(34),.5,.5,497,308,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(38),.5,.5,570,341,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(40),.5,.5,632,276,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(38),.5,.5,645,341,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(28),.5,.5,705,360,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(38),.5,.5,743,360,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(45),.5,.5,780,360,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(38),.5,.5,818,360,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(33),.5,.5,855,360,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(38),.5,.5,893,360,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(28),.5,.5,930,360,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(38),.5,.5,968,360,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(42),.5,.5,1005,360,0),this.createSprite(h.WEDDING_MARRIAGE.getTexture(36),.5,.5,606,516,0)],this.addChild(this.sBG[0]),this.addChild(this.sBG[1]);for(var t=0;t<d;t++)this.addChild(this.sFeather[t]);this.addChild(this.sBG[2]),this.addChild(this.sBox1),this.addChild(this.sBox2),this.addChild(this.sBG[5]),this.addChild(this.sBG[3]),this.addChild(this.whiteBG),this.addChild(this.sShip2),this.addChild(this.sakura),this.addChild(this.sShip1),this.addChild(this.sBox3),this.addChild(this.sBox4),this.addChild(this.sRing);for(var t=0;t<p;t++)this.sTextBack[t].visible=!1,this.addChild(this.sTextBack[t]);for(var t=0;t<p;t++)this.sText[t].visible=!1,this.addChild(this.sText[t]);this.addChild(this.sWhiteFrame);for(var t=0;t<y;t++)this.addChild(this.sBlueLight[t]);for(var t=0;t<f;t++)this.addChild(this.sLight[t]);this.addChild(this.maskBg),this.addChild(this.touchArea)},e.prototype.PreLoad=function(t){var e=new u.UIImageLoader("wedding");e.add("wedding_marriage_bg.json"),e.add("wedding_marriage.json"),e.load(function(){null!=t&&t()})},e.prototype.stopTween=function(t){null!=t&&(t.setPaused(!0),t.removeAllEventListeners())},e.prototype.createSprite=function(t,e,i,n,o,r){var s=new PIXI.Sprite(t);return s.anchor.set(e,i),s.position.set(n,o),s.alpha=r,s},e.prototype.getFeatherType=function(t){switch(t){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;default:return 0}},e.prototype._getWhiteLightTextureNo=function(t){return[9,12,13,14,15,16,17,18,19,10,11][t]},e}(PIXI.Container);e.MarriageAnimation=g},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=function(t){function e(){var e=t.call(this)||this;return e._url="api_get_member/ndock",e}return n(e,t),e.prototype._completedEnd=function(){var e=o.default.model.ndock.get(1),i=o.default.model.ndock.get(2),n=o.default.model.ndock.get(3),r=o.default.model.ndock.get(4);o.default.model.ndock.setData(this._raw_data);var s=o.default.model.ndock.get(1),a=o.default.model.ndock.get(2),_=o.default.model.ndock.get(3),l=o.default.model.ndock.get(4);if(1==e.state&&0==s.state){var u=o.default.model.ship.get(e.shipMemID);u.__updateNowHp__(u.hpMax),u.__updateNDockTime__(0),u.__updateNDockItem__([0,0]),u.tired<40&&u.__updateCond__(40)}if(1==i.state&&0==a.state){var u=o.default.model.ship.get(i.shipMemID);u.__updateNowHp__(u.hpMax),u.__updateNDockTime__(0),u.__updateNDockItem__([0,0]),u.tired<40&&u.__updateCond__(40)}if(1==n.state&&0==_.state){var u=o.default.model.ship.get(n.shipMemID);u.__updateNowHp__(u.hpMax),u.__updateNDockTime__(0),u.__updateNDockItem__([0,0]),u.tired<40&&u.__updateCond__(40)}if(1==r.state&&0==l.state){var u=o.default.model.ship.get(r.shipMemID);u.__updateNowHp__(u.hpMax),u.__updateNDockTime__(0),u.__updateNDockItem__([0,0]),u.tired<40&&u.__updateCond__(40)}t.prototype._completedEnd.call(this)},e}(r.APIBase);e.NDockAPI=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var e=t.call(this)||this;e.WIDTH=150;var i=new PIXI.Graphics;i.beginFill(16777215,1),i.drawRect(0,0,e.WIDTH,3),i.endFill();var n=new PIXI.Graphics;n.beginFill(0,1),n.drawRect(0,0,e.WIDTH,1),n.endFill();var o=n.clone();return n.position.y=3,o.position.y=0,e.addChild(i,n,o),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren()},e}(PIXI.Container);e.Wire=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(35),s=i(344),a=i(90),_=function(t){function e(e,i,n){var a=t.call(this)||this;a._value=0,a.avail=0,a._onClick1Up=function(){a.up(a._value+1),a.onChangeValue()},a._onClick10Up=function(){a.up(a._value+10),a.onChangeValue()},a._onClick100Up=function(){a.up(a._value+100),a.onChangeValue()},a._onClick1Down=function(){a.down(a._value-1),a.onChangeValue()},a._onClick10Down=function(){a.down(a._value-10),a.onChangeValue()},a._onClick100Down=function(){a.down(a._value-100),a.onChangeValue()},a._onClickReset=function(){a.updateValue(a._min),a.onChangeValue()},a._onClickMax=function(){var t=Math.min(a.avail,a._max);t<a._min&&(t=a._max),a.updateValue(t),a.onChangeValue()},a._min=i,a._max=n;var _=new s.MaterialIconText;a.n_100=new PIXI.Sprite,a.n_10=new PIXI.Sprite,a.n_1=new PIXI.Sprite;var l=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(81)),u=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(16)),c=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(16)),h=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(11)),p=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(11));return a.n_100.position.set(36,91),a.n_10.position.set(63,91),a.n_1.position.set(90,91),_.position.set(7,7),u.position.set(181,13),c.position.set(181,54),h.position.set(259,13),p.position.set(259,54),_.update(e),a.addChild(l,_,a.n_100,a.n_10,a.n_1),a.btn_sozai_up=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(43)),a.btn_sozai_up.interactive=!0,a.btn_sozai_up.buttonMode=!0,a.btn_sozai_up.position.set(72,48),a.addChild(a.btn_sozai_up),a.btn_sozai_down=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(42)),a.btn_sozai_down.interactive=!0,a.btn_sozai_down.buttonMode=!0,a.btn_sozai_down.position.set(72,150),a.addChild(a.btn_sozai_down),a.addChild(u,c,h,p),a._btnReset=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(38)),a._btnReset.interactive=!0,a._btnReset.buttonMode=!0,a._btnReset.position.set(178,99),a.addChild(a._btnReset),a._btnMax=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(34)),a._btnMax.interactive=!0,a._btnMax.buttonMode=!0,a._btnMax.position.set(178,139),a.addChild(a._btnMax),a.minus10=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(15)),a.minus10.interactive=!0,a.minus10.buttonMode=!0,a.minus10.position.set(181,13),a.addChild(a.minus10),a.minus100=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(15)),a.minus100.interactive=!0,a.minus100.buttonMode=!0,a.minus100.position.set(181,54),a.addChild(a.minus100),a.plus10=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(10)),a.plus10.interactive=!0,a.plus10.buttonMode=!0,a.plus10.position.set(259,13),a.addChild(a.plus10),a.plus100=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(10)),a.plus100.interactive=!0,a.plus100.buttonMode=!0,a.plus100.position.set(259,54),a.addChild(a.plus100),a._btnReset.on(o.EventType.CLICK,a._onClickReset),a._btnMax.on(o.EventType.CLICK,a._onClickMax),a.btn_sozai_up.on(o.EventType.CLICK,a._onClick1Up),a.btn_sozai_down.on(o.EventType.CLICK,a._onClick1Down),a.minus10.on(o.EventType.CLICK,a._onClick10Down),a.minus100.on(o.EventType.CLICK,a._onClick100Down),a.plus10.on(o.EventType.CLICK,a._onClick10Up),a.plus100.on(o.EventType.CLICK,a._onClick100Up),a}return n(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._btnReset.off(o.EventType.CLICK,this._onClickReset),this._btnMax.off(o.EventType.CLICK,this._onClickMax),this.btn_sozai_up.off(o.EventType.CLICK,this._onClick1Up),this.btn_sozai_down.off(o.EventType.CLICK,this._onClick1Down),this.minus10.off(o.EventType.CLICK,this._onClick10Down),this.minus100.off(o.EventType.CLICK,this._onClick100Down),this.plus10.off(o.EventType.CLICK,this._onClick10Up),this.plus100.off(o.EventType.CLICK,this._onClick100Up),this.n_100.texture=PIXI.Texture.EMPTY,this.n_10.texture=PIXI.Texture.EMPTY,this.n_1.texture=PIXI.Texture.EMPTY,this.onChangeValue=null,this._value=null,this.avail=null,this.n_100=null,this.n_10=null,this.n_1=null,this.removeChildren()},e.prototype.up=function(t){this._max<t&&(t=this._max),this.updateValue(t)},e.prototype.down=function(t){t<this._min&&(t=this._min),this.updateValue(t)},e.prototype.updateValue=function(t){var e,i,n,o=this.splitNumber(t);this.btn_sozai_down.visible=!1,this.btn_sozai_up.visible=!1,this.minus10.visible=!1,this.minus100.visible=!1,this.plus10.visible=!1,this.plus100.visible=!1,t<=this.avail?(e=a.Util.getWhiteNumberResourceId(o[0]),i=a.Util.getWhiteNumberResourceId(o[1]),n=a.Util.getWhiteNumberResourceId(o[2])):(e=a.Util.getRedNumberResourceId(o[0]),i=a.Util.getRedNumberResourceId(o[1]),n=a.Util.getRedNumberResourceId(o[2])),this._min<t&&(this.minus10.visible=!0,this.minus100.visible=!0,this.btn_sozai_down.visible=!0),t<this._max&&(this.plus10.visible=!0,this.plus100.visible=!0,this.btn_sozai_up.visible=!0),this.n_100.texture=r.ARSENAL_MAIN.getTexture(e),this.n_10.texture=r.ARSENAL_MAIN.getTexture(i),this.n_1.texture=r.ARSENAL_MAIN.getTexture(n),this._value=t},e.prototype.setAvail=function(t){this.avail=t},e.prototype.splitNumber=function(t){var e=0==t?0:t%1e3,i=0,n=0,o=0;return 0<e&&(i=Math.floor(e/100),e-=100*i),0<e&&(n=Math.floor(e/10),e-=10*n),o=Math.floor(e),[i,n,o]},e}(PIXI.Container);e.MaterialAmountView=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.update=function(t){var e=this.getMaterialIconTextResourceid(t);this.texture=o.ARSENAL_MAIN.getTexture(e)},e.prototype.getMaterialIconTextResourceid=function(t){switch(t){case 31:return 158;case 32:return 160;case 33:return 162;case 34:return 164}throw new Error("unsupported param")},e}(PIXI.Sprite);e.MaterialIconText=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(){var e=t.call(this)||this;e.animation={light:0},e._onClick=function(){e.onClick()},e._onMouseOver=function(){e.stop(),e.texture=e.textureHover,e.popup.visible=!0},e._onMouseOut=function(){e.play(),e.popup.visible=!1};var i=o.ARSENAL_MAIN.getTexture(75),n=o.ARSENAL_MAIN.getTexture(76);return e.popup=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(67)),e.tween=createjs.Tween.get(e.animation),e.popup.position.set(-346,-37),e.popup.visible=!1,e.tween.to({light:0}),e.tween.to({light:1},300),e.tween.to({light:0},300),e.tween.loop=!0,e.tween.addEventListener("change",function(){.5<=e.animation.light?e.texture=e.textureDefault:e.texture=e.textureHover}),e.addChild(e.popup),e.textureDefault=i,e.textureHover=n,e.on(r.EventType.CLICK,e._onClick),e.on(r.EventType.MOUSEOVER,e._onMouseOver),e.on(r.EventType.MOUSEOUT,e._onMouseOut),e.interactive=e.buttonMode=!0,e}return n(e,t),e.prototype.play=function(){this.tween.setPosition(0,createjs.Tween.LOOP),this.tween.setPaused(!1)},e.prototype.stop=function(){this.tween.setPaused(!0)},e.prototype.dispose=function(){this.removeChildren(),createjs.Tween.removeTweens(this.tween.target),this.onClick=null,this.popup=null,this.textureDefault=null,this.textureHover=null,this.animation=null,this.tween=null},e}(PIXI.Sprite);e.ShopButton=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(8),s=i(307),a=i(23),_=i(12),l=i(3),u=i(903),c=function(t){function e(e){var i=t.call(this)||this;i._clickGuard=new r.AreaBox(0),i.addChild(i._clickGuard),i._bg=new s.GetBG,i._card=new a.Container;var n=new PIXI.Sprite(l.ARSENAL_ANIMATION.getTexture(4));return n.width=393,n.height=e,n.x=-n.width/2,n.y=-n.height/2,i._card.addChild(n),i._bigflash=new _.Sprite(l.ARSENAL_ANIMATION.getTexture(0)),i._particles=new u.ScatterCircleParticle,i._white=new r.AreaBox(1,16777215),i}return n(e,t),e.prototype.preload=function(t){this._bg.initiailzeGetBG1(function(){null!=t&&t()})},e.prototype.play=function(t){var e=this;this._cb_onComplete=t,this._bg.alpha=0,this.addChild(this._bg),createjs.Tween.get(this._bg).to({alpha:1},100).call(function(){e._01_flyCard()})},e.prototype._01_flyCard=function(){var t=this;this._card.position.set(o.default.width/2,o.default.height/2+540),this._card.alpha=0,this._card.scale.set(0),this.addChild(this._card),createjs.Tween.get(this._card).to({y:o.default.height/2-660,scaleX:.57,scaleY:.57,alpha:1},700).to({y:o.default.height/2,scaleX:1,scaleY:1},500).call(function(){t._01_light()})},e.prototype._01_light=function(){var t=this;this._bigflash.x=o.default.width/2,this._bigflash.y=o.default.height/2,this._bigflash.scale.set(0),this._bigflash.anchor.set(.5,.5),this.addChild(this._bigflash),createjs.Tween.get(this._bigflash).to({scaleX:3.3,scaleY:3.3},300).to({scaleX:2,scaleY:2},1700),createjs.Tween.get(null).wait(1500).call(function(){t._particles.x=o.default.width/2,t._particles.y=o.default.height/2,t.addChild(t._particles),t._particles.play()}).wait(2e3).call(function(){t._02_whiteIn()})},e.prototype._02_whiteIn=function(){var t=this;this._white.alpha=0,this.addChild(this._white),createjs.Tween.get(this._white).to({alpha:1},500).call(function(){null!=t._cb_onComplete&&t._cb_onComplete()})},e.prototype.dispose=function(){this._cb_onComplete=null,this.removeChildren(),this._clickGuard=null,this._bg=null,this._card=null,this._bigflash=null,this._particles=null,this._white=null},e}(PIXI.Container);e.ReceiveAnimation=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(8),s=i(40),a=i(60),_=i(81),l=i(905),u=i(1),c=function(t){function e(){var e=t.call(this)||this;return e._message="",e._clickGuard=new r.AreaBox(0),e._rarityBG=new a.RarityBG,e._target=new PIXI.Sprite,e._materialCircleRollAnimation=new l.MaterialCircleRollAnimation,e._materialCircleRollAnimation.x=o.default.width/2,e._materialCircleRollAnimation.y=o.default.height/2,e._messageBox=new _.MessageBox,e._gearBtnHome=new s.GearBtnHome,e._gearBtnHome.position.set(1140,660),e._gearBtnHome.initialize(),e._white=new r.AreaBox(1,16777215),e}return n(e,t),e.prototype.play=function(t,e){this._cb_onWhiteOut=t,this._cb_onComplete=e,this.addChild(this._clickGuard),this.addChild(this._rarityBG),this.addChild(this._target),this.addChild(this._materialCircleRollAnimation),this._01_whiteOut()},e.prototype._01_whiteOut=function(){var t=this;this._materialCircleRollAnimation.play(),this.addChild(this._white),createjs.Tween.get(this._white).to({alpha:0},500).call(function(){t.removeChild(t._white),t._02_showMessageBox()})},e.prototype._02_showMessageBox=function(){var t=this;this._messageBox.y=o.default.height,this.addChild(this._messageBox),createjs.Tween.get(this._messageBox).to({y:480},300,createjs.Ease.cubicOut).call(function(){t._gearBtnHome.activate(),t.addChild(t._gearBtnHome),t._messageBox.activate(),t._03_waitClick()})},e.prototype._03_waitClick=function(){var t=this,e=new r.AreaBox(0);e.buttonMode=!0,this.addChild(e),e.once(u.EventType.CLICK,function(){t._04_whiteInOut()})},e.prototype._04_whiteInOut=function(){var t=this;this._white.alpha=0,this.addChild(this._white),createjs.Tween.get(this._white).to({alpha:1},100).call(function(){t.removeChild(t._rarityBG),t.removeChild(t._target),t.removeChild(t._materialCircleRollAnimation),t.removeChild(t._messageBox),t._messageBox.deactivate(),t.removeChild(t._gearBtnHome),t._gearBtnHome.deactivate(),null!=t._cb_onWhiteOut&&t._cb_onWhiteOut()}).to({alpha:0},500).call(function(){t.removeChild(t._white),null!=t._cb_onComplete&&t._cb_onComplete()})},e.prototype.dispose=function(){this._cb_onWhiteOut=null,this._cb_onComplete=null,this.removeChildren(),this._clickGuard=null,this._rarityBG.dispose(),this._rarityBG=null,this._target=null,this._materialCircleRollAnimation.dispose(),this._materialCircleRollAnimation=null,this._messageBox.dispose(),this._messageBox=null,this._gearBtnHome.dispose(),this._gearBtnHome=null,this._white=null},e}(PIXI.Container);e.RewardAnimation=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t.shipSortKeyType=0}(e.ArsenalSceneMemory||(e.ArsenalSceneMemory={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(3),s=function(t){function e(){var e=t.call(this)||this;return e.iconMaterial=new PIXI.Sprite,e.textCount=new o.TextBox(25,5523516),e.iconMaterial.position.set(0,18),e.textCount.anchor.set(1,0),e.textCount.position.set(261,9),e.addChild(e.iconMaterial,e.textCount),e}return n(e,t),e.prototype.update=function(t,e){switch(t){case 31:this.iconMaterial.texture=r.ARSENAL_MAIN.getTexture(157);break;case 32:this.iconMaterial.texture=r.ARSENAL_MAIN.getTexture(159);break;case 33:this.iconMaterial.texture=r.ARSENAL_MAIN.getTexture(161);break;case 34:this.iconMaterial.texture=r.ARSENAL_MAIN.getTexture(163)}this.textCount.text=e.toString()},e.prototype.dispose=function(){this.removeChildren(),this.textCount.destroy(),this.iconMaterial=null,this.textCount=null},e}(PIXI.Container);e.DisassemblyMaterialItem=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=i(3),s=i(31),a=function(t){function e(e,i){void 0===e&&(e=240),void 0===i&&(i=60);var n=t.call(this)||this;n._mokuTextureList=[],n._mokuArea=[],n._mokuTween=[],n._materialTextureList=[],n._materialArea=[],n._materialTween=[];var a=new PIXI.Container;n._materialTextureList=[o.COMMON_MISC.getTexture(86),o.COMMON_MISC.getTexture(87),o.COMMON_MISC.getTexture(88),o.COMMON_MISC.getTexture(89)];for(var _=0;_<5;_++){var l=new s.Sprite;l.alpha=0,a.addChild(l),n._materialArea.push(l)}var u=new PIXI.Container;n._mokuTextureList=[r.ARSENAL_MAIN.getTexture(123),r.ARSENAL_MAIN.getTexture(124)];for(var c=0;c<20;c++){var l=new s.Sprite;l.alpha=0,l.anchor.set(.5,.5),u.addChild(l),n._mokuArea.push(l)}return n.RANGE={width:e,height:i},n.addChild(a,u),n}return n(e,t),e.prototype.play=function(t){void 0===t&&(t=5),this._stop(),this._mokuAnimation(),this._materialAnimation(t)},e.prototype._stop=function(){for(var t=0,e=this._mokuTween.length;t<e;t++)createjs.Tween.removeTweens(this._mokuTween[t]),this._mokuTween[t]=null;for(var i=0,n=this._materialTween.length;i<n;i++)this._materialTween[i].removeAllEventListeners("change"),createjs.Tween.removeTweens(this._materialTween[i]),this._materialTween[i]=null},e.prototype._mokuAnimation=function(){for(var t=0,e=this._mokuArea.length;t<e;t++){var i=this._mokuArea[t],n=2*Math.random()>>0;i.texture=this._mokuTextureList[n];var o=.75*(.4*Math.random()+.6);i.x=Math.random()*this.RANGE.width,i.y=Math.random()*this.RANGE.height,i.alpha=0,this._mokuTween[t]=createjs.Tween.get(i,{loop:!0}).wait(100*t).to({alpha:0,scaleX:o,scaleY:o}).to({alpha:1,scaleX:0,scaleY:0},600,createjs.Ease.linear).play(null)}},e.prototype._materialAnimation=function(t){for(var e=this,i=this,n=0,o=this._materialArea.length;n<o;n++)!function(n,o){var r=i._materialArea[n];if(r.alpha=0,i._materialTween[n]=null,n>t)return"continue";var s={progress:0},a=createjs.Tween.get(s,{loop:!0}).wait(1e3*n).call(function(){var t=4*Math.random()>>0;r.texture=e._materialTextureList[t];var i=30/createjs.Ticker.framerate,n=Math.random()*e.RANGE.width,o=Math.random()*e.RANGE.height,_=1.999*Math.random()*Math.PI,l=.4*Math.random()+.6,u=8*l*Math.cos(_),c=8*l*Math.sin(_)-8,h=function(){r.x+=u*i,r.y+=c*i,r.alpha=1-s.progress,c+=.7*i};r.alpha=1,r.position.set(n,o),a.addEventListener("change",h)}).to({progress:1},600).call(function(){a.removeAllEventListeners("change")}).play(null);i._materialTween[n]=a}(n)},e.prototype.dispose=function(){this._stop(),this.removeChildren()},e}(PIXI.Container);e.DisassemblyAnimation=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(68),a=function(t){function e(e){var i=t.call(this)||this;return i._maps=e,i}return n(e,t),e.prototype._start=function(){this._load()},e.prototype._load=function(){for(var t=this,e=o.default.resources.gauge.createLoaderHorizontal(),i=0,n=this._maps;i<n.length;i++){var r=n[i];if((0!=r.defeat_required||0!=r.gauge_max)&&0!=r.isOpened()){var a=r.area_id,_=r.map_no,l=r.getGaugeNum(),u=s.GaugeSetModel.createKey(a,_,l);e.add(u)}}e.count>0?e.load(function(){t._endTask()}):this._endTask()},e.prototype._endTask=function(){this._maps=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskLoadGaugeResources=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(18),a=i(24),_=i(25),l=i(26),u=function(t){function e(){var e=t.call(this)||this;return e.NUM_TEXTURE_M=[67,68,69,70,71,72,73,74,75,76],e.PULS_TEXTURE=[87,88,89],e._setTexture=function(t){e.texture=l.SALLY_AIRUNIT.getTexture(t)},e._fairy=new PIXI.Sprite,e.addChild(e._fairy),e._area=new PIXI.Sprite,e._area.position.set(5,5),e.addChild(e._area),e._distanceLayer=new PIXI.Container,e.addChild(e._distanceLayer),e._text=new PIXI.Sprite(l.SALLY_AIRUNIT.getTexture(132)),e._text.position.set(5,46),e._distanceLayer.addChild(e._text),e._distance1=new PIXI.Sprite,e._distanceLayer.addChild(e._distance1),e._distance2=new PIXI.Sprite,e._distanceLayer.addChild(e._distance2),e._plusNum=new PIXI.Sprite,e._distanceLayer.addChild(e._plusNum),e}return n(e,t),e.prototype.initialize=function(t){var e=_.MathUtil.zeroPadding(t,3),i="./resources/area/airunit/"+e+".png";i=i+"?"+s.START_TIME,this._area.texture=PIXI.Texture.fromImage(i)},e.prototype.update=function(t,e,i,n){var o=this;this._stopLoadImage(),e>0?(this._load_task=new c(e,this._fairy),this._load_task.start(function(){o._load_task=null})):this._fairy.texture=PIXI.Texture.EMPTY,this._stopAnimation(),1==t?this._t=createjs.Tween.get(null,{loop:!0}).call(this._setTexture,[0]).wait(150).call(this._setTexture,[1]).wait(150):2==t?this.texture=l.SALLY_AIRUNIT.getTexture(2):3==t?this._t=createjs.Tween.get(null,{loop:!0}).call(this._setTexture,[3]).wait(150).call(this._setTexture,[4]).wait(150):this.texture=PIXI.Texture.EMPTY;var r=i,s=n;if(this._distanceLayer.visible=!1,this._plusNum.visible=!1,this._distance2.visible=!1,r>0){switch(this._distanceLayer.visible=!0,s){case 1:case 2:case 3:this._plusNum.visible=!0,this._plusNum.texture=l.SALLY_AIRUNIT.getTexture(this.PULS_TEXTURE[s-1])}if(r>=10){var a=r.toString().split(""),_=parseInt(a[0]),u=parseInt(a[1]);this._distance2.visible=!0,this._distance1.position.set(86,35),this._distance2.position.set(102,35),this._plusNum.position.set(120,40),this._distance1.texture=l.SALLY_AIRUNIT.getTexture(this.NUM_TEXTURE_M[_]),this._distance2.texture=l.SALLY_AIRUNIT.getTexture(this.NUM_TEXTURE_M[u])}else this._distance1.position.set(86,35),this._plusNum.position.set(102,40),this._distance1.texture=l.SALLY_AIRUNIT.getTexture(this.NUM_TEXTURE_M[r])}},e.prototype.dispose=function(){this.removeChildren(),this._distanceLayer.removeChildren(),this._stopLoadImage(),this._stopAnimation()},e.prototype._stopLoadImage=function(){null!=this._load_task&&(this._load_task.cancel(),this._load_task=null)},e.prototype._stopAnimation=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Sprite);e.AirUnitPanelBanner=u;var c=function(t){function e(e,i){var n=t.call(this)||this;return n._mst_id=e,n._target=i,n}return n(e,t),e.prototype._start=function(){var t=this;this._l=new a.SlotLoader,this._l.add(this._mst_id,"airunit_fairy"),this._l.load(function(){null!=t._target&&(t._target.texture=o.default.resources.getSlotitem(t._mst_id,"airunit_fairy"),t._endTask())})},e.prototype.cancel=function(){this._endTask()},e.prototype._endTask=function(){this._target=null,this._l=null,t.prototype._endTask.call(this)},e}(r.TaskBase)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),s=i(26),a=i(951),_=i(952),l=i(953),u=i(954),c=i(955),h=i(956),p=i(957),d=function(t){function e(e,i){var n=t.call(this)||this;return n.NUM_TEXTURE_S=[77,78,79,80,81,82,83,84,85,86],n._activated=!1,n._onMouseDown=function(){null!=n._cb_onMouseDown&&n._cb_onMouseDown(n._index)},n._onSupply=function(){null!=n._cb_onSupply&&n._cb_onSupply(n._index)},n._onMouseOver=function(){n._isSlot&&(n._distanceLayer.visible=!0)},n._onMouseOut=function(){n._isSlot&&(n._distanceLayer.visible=!1)},n._cb_onMouseDown=e,n._cb_onSupply=i,n._isSlot=!1,n._bg=new PIXI.Sprite,n._bg.position.set(11,23),n.addChild(n._bg),n._banner=new PIXI.Sprite,n._banner.position.set(11,23),n.addChild(n._banner),n._none_label=new PIXI.Sprite,n.addChild(n._none_label),n._label=new PIXI.Sprite,n._label.position.set(8,0),n.addChild(n._label),n._name=new PIXI.Sprite,n._name.position.set(93,0),n.addChild(n._name),n._detail=new _.AirUnitPanelItemDetailInfoPanel,n._detail.position.set(29,30),n.addChild(n._detail),n._skill=new h.AirUnitPanelItemSkillLevelIcon,n._skill.position.set(128,24),n.addChild(n._skill),n._fatigue=new l.AirUnitPanelItemFatigueIcon,n._fatigue.position.set(0,21),n.addChild(n._fatigue),n._level=new u.AirUnitPanelItemLevelIcon,n._level.position.set(167,54),n.addChild(n._level),n._supply_btn=new p.AirUnitPanelItemSupplyButton(n._onSupply),n._supply_btn.position.set(123,26),n.addChild(n._supply_btn),n._relocation=new c.AirUnitPanelItemRelocationLayer,n._relocation.position.set(11,23),n.addChild(n._relocation),n._distanceLayer=new PIXI.Container,n.addChild(n._distanceLayer),n._distanceLayer.visible=!1,n._numText=new PIXI.Sprite(s.SALLY_AIRUNIT.getTexture(133)),n._distanceLayer.addChild(n._numText),n._distance1=new PIXI.Sprite,n._distanceLayer.addChild(n._distance1),n._distance2=new PIXI.Sprite,n._distanceLayer.addChild(n._distance2),n._bg.interactive=!0,n}return n(e,t),Object.defineProperty(e.prototype,"mst_id",{get:function(){return this._mst_id},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){switch(this._index=t,this._bg.texture=s.SALLY_AIRUNIT.getTexture(66),this._none_label.texture=s.SALLY_AIRUNIT.getTexture(142),this._none_label.position.set(138,44),t){case 0:this._label.texture=s.SALLY_AIRUNIT.getTexture(137);break;case 1:this._label.texture=s.SALLY_AIRUNIT.getTexture(138);break;case 2:this._label.texture=s.SALLY_AIRUNIT.getTexture(139);break;case 3:this._label.texture=s.SALLY_AIRUNIT.getTexture(140);break;default:this._label.texture=PIXI.Texture.EMPTY}this._detail.initialize(),this._level.initialize(),this._supply_btn.initialize(),this._relocation.initialize()},e.prototype.update=function(t){var e=this;if(null!=this._load_task&&this._load_task.cancel(),null==t||-1==t.mst_id)return this._showNone(),void(1==this._activated&&this._activate());if(this._mst_id=t.mst_id,this._bg.texture=s.SALLY_AIRUNIT.getTexture(66),this._none_label.visible=!1,this._distanceLayer.visible=!1,this._relocation.update(!1),1==t.isRelocation())this._isSlot=!1,this._detail.visible=!1,this._skill.update(0),this._fatigue.update(1),this._level.update(0),this._supply_btn.update(!1),this._relocation.update(!0),1==this._activated&&this._deactivate(),this._distanceLayer.visible=!1;else{this._isSlot=!0,this._detail.update(t.count,t.countMax),this._detail.visible=!0,this._skill.update(t.skill_level),this._fatigue.update(t.fatigue),this._level.update(t.level);var i=t.count<t.countMax;this._supply_btn.update(i),1==this._activated&&this._activate();var n=o.default.model.slot.getMst(this._mst_id),r=n.distance;if(this._distance2.visible=!1,r>=10){var _=r.toString().split(""),l=parseInt(_[0]),u=parseInt(_[1]);this._numText.position.set(213,68),this._distance2.visible=!0,this._distance1.position.set(288,63),this._distance2.position.set(299,63),this._distance1.texture=s.SALLY_AIRUNIT.getTexture(this.NUM_TEXTURE_S[l]),this._distance2.texture=s.SALLY_AIRUNIT.getTexture(this.NUM_TEXTURE_S[u])}else this._numText.position.set(222,68),this._distance1.position.set(299,63),this._distance1.texture=s.SALLY_AIRUNIT.getTexture(this.NUM_TEXTURE_S[r])}this._load_task=new a.TaskAirUnitImageLoader(this._mst_id),this._load_task.start(function(){e._load_task=null,e._banner.texture=o.default.resources.getSlotitem(e._mst_id,"airunit_banner"),e._name.texture=o.default.resources.getSlotitem(e._mst_id,"airunit_name"),e._name.visible=!0})},e.prototype.activate=function(){this._activated=!0,this._activate()},e.prototype.deactivate=function(){this._activated=!1,this._deactivate()},e.prototype.dispose=function(){this.removeChildren(),this._distanceLayer.removeChildren(),this.deactivate(),this._detail.dispose(),this._supply_btn.dispose(),this._relocation.dispose(),null!=this._load_task&&this._load_task.cancel(),this._cb_onMouseDown=null,this._cb_onSupply=null},e.prototype.isNoneData=function(){return this._none_label.visible},e.prototype.isRelocation=function(){return this._relocation.visible},e.prototype._activate=function(){1!=this._bg.buttonMode&&1!=this._relocation.visible&&(this._bg.buttonMode=!0,this._bg.on(r.EventType.MOUSEDOWN,this._onMouseDown),this._bg.on(r.EventType.MOUSEOVER,this._onMouseOver),this._bg.on(r.EventType.MOUSEOUT,this._onMouseOut))},e.prototype._deactivate=function(){this._bg.buttonMode=!1,this._bg.off(r.EventType.MOUSEDOWN),this._bg.off(r.EventType.MOUSEOVER),this._bg.off(r.EventType.MOUSEOUT),this._distanceLayer.visible=!1},e.prototype._showNone=function(){this._isSlot=!1,this._bg.texture=s.SALLY_AIRUNIT.getTexture(66),this._banner.texture=PIXI.Texture.EMPTY,this._none_label.visible=!0,this._name.visible=!1,this._detail.visible=!1,this._skill.update(0),this._fatigue.update(1),this._level.update(0),this._supply_btn.update(!1),this._relocation.update(!1),this._distanceLayer.visible=!1},e.prototype.contains=function(t,e){return t>=this._bg.x&&t<=this._bg.x+this._bg.width&&e>=this._bg.y&&e<=this._bg.y+this._bg.height},e}(PIXI.Container);e.AirUnitPanelItem=d},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(26),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i._onMouseOver=function(){null==i._t&&(i._light.alpha=0,i._t=createjs.Tween.get(i._light,{loop:!0}).to({alpha:1},500).to({alpha:0},500))},i._onMouseOut=function(){null!=i._t&&(i._t.setPaused(!0),i._t=null,i._light.alpha=0)},i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick()},i._light=new PIXI.Sprite,i._light.position.set(-12,-12),i.addChild(i._light),i._light.alpha=0,i._img=new PIXI.Sprite,i.addChild(i._img),i._img.interactive=!0,i._cb_onClick=e,i}return n(e,t),e.prototype.initialize=function(){this._img.texture=o.SALLY_AIRUNIT.getTexture(21),this._light.texture=o.SALLY_AIRUNIT.getTexture(22)},e.prototype.update=function(t){this.visible=t,1==t?this._activate():this._deactivate()},e.prototype.dispose=function(){this._deactivate(),this._onMouseOut(),this.removeChildren(),this._cb_onClick=null},e.prototype._activate=function(){1!=this._img.buttonMode&&(this._img.buttonMode=!0,this._img.on(r.EventType.MOUSEOVER,this._onMouseOver),this._img.on(r.EventType.MOUSEOUT,this._onMouseOut),this._img.on(r.EventType.CLICK,this._onClick))},e.prototype._deactivate=function(){this._img.buttonMode=!1,this._img.off(r.EventType.MOUSEOVER,this._onMouseOver),this._img.off(r.EventType.MOUSEOUT,this._onMouseOut),this._img.off(r.EventType.CLICK,this._onClick)},e}(PIXI.Container);e.AirUnitPanelSupplyAllBtn=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(26),r=i(959),s=function(t){function e(e){var i=t.call(this)||this;i._total_num=0,i._tabs=[];for(var n=0;n<3;n++){var o=new r.AirUnitPanelTab(e);o.x=101*n,i.addChild(o),i._tabs.push(o)}return i}return n(e,t),e.prototype.initialize=function(t){this.texture=o.SALLY_AIRUNIT.getTexture(123),this._total_num=t;for(var e=0;e<this._tabs.length;e++){this._tabs[e].initialize(e+1,t)}},e.prototype.update=function(t){for(var e=0;e<this._tabs.length;e++){var i=this._tabs[e];i.selected=i.airunit_id==t}},e.prototype.activate=function(){for(var t=0,e=this._tabs;t<e.length;t++){e[t].activate()}},e.prototype.deactivate=function(){for(var t=0,e=this._tabs;t<e.length;t++){e[t].deactivate()}},e.prototype.dispose=function(){for(var t=0,e=this._tabs;t<e.length;t++){e[t].dispose()}},e}(PIXI.Sprite);e.AirUnitPanelTabContainer=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(23),r=i(8),s=i(6),a=i(26),_=i(1),l=function(t){function e(){var e=t.call(this)||this;return e._activated=!1,e._enabled=!0,e._state=-1,e._onMouseOver=function(){e.scale.set(1.1)},e._onMouseOut=function(){e.scale.set(1)},e._onClick=function(){var t;t=4==e._state?0:e._state+1,s.SE.play("223"),e.update(t,!0)},e._content=new u,e.addChild(e._content),e._hitArea=new r.AreaBox(0,0,42,74),e._hitArea.position.set(-21,-12),e._hitArea.interactive=!0,e.addChild(e._hitArea),e}return n(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled!=t&&(this._enabled=t,1==this._enabled?1==this._activated&&this.activate():1==this._activated&&this._deactivate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype.update=function(t,e){var i=this;this._state!=t&&null==this._t&&(this._state=t,0==e?this._content.update(t):this._t=createjs.Tween.get(this._content).to({scaleX:0},200,createjs.Ease.quadIn).call(function(){i._content.update(t)}).to({scaleX:1},200,createjs.Ease.quadOut).call(function(){i._t=null}))},e.prototype.skipAnimation=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null,this._content.update(this._state),this._content.scaleX=1)},e.prototype.activate=function(){this._activated=!0,1!=this._hitArea.buttonMode&&0!=this._enabled&&(this._hitArea.buttonMode=!0,this._hitArea.on(_.EventType.MOUSEOVER,this._onMouseOver),this._hitArea.on(_.EventType.MOUSEOUT,this._onMouseOut),this._hitArea.on(_.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this._activated=!1,this._deactivate()},e.prototype.dispose=function(){this.removeChildren(),this.deactivate(),this._content.dispose(),null!=this._t&&(this._t.setPaused(!0),this._t=null)},e.prototype._deactivate=function(){this._hitArea.buttonMode=!1,this._hitArea.off(_.EventType.MOUSEOVER,this._onMouseOver),this._hitArea.off(_.EventType.MOUSEOUT,this._onMouseOut),this._hitArea.off(_.EventType.CLICK,this._onClick)},e}(PIXI.Container);e.AirUnitPanelWoodenTag=l;var u=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite,e._img.position.set(-21,-12),e.addChild(e._img),e._light=new PIXI.Sprite,e._light.position.set(-24,-12),e.addChild(e._light),e}return n(e,t),e.prototype.update=function(t){this._stopAnimation(),0==t?(this._img.texture=a.SALLY_AIRUNIT.getTexture(144),this._light.visible=!1):1==t?(this._img.texture=a.SALLY_AIRUNIT.getTexture(145),this._light.texture=a.SALLY_AIRUNIT.getTexture(146),this._light.visible=!0,this._startAnimation()):2==t?(this._img.texture=a.SALLY_AIRUNIT.getTexture(147),this._light.texture=a.SALLY_AIRUNIT.getTexture(148),this._light.visible=!0,this._startAnimation()):3==t?(this._img.texture=a.SALLY_AIRUNIT.getTexture(149),this._light.texture=a.SALLY_AIRUNIT.getTexture(150),this._light.visible=!0,this._startAnimation()):4==t?(this._img.texture=a.SALLY_AIRUNIT.getTexture(151),this._light.texture=a.SALLY_AIRUNIT.getTexture(152),this._light.visible=!0,this._startAnimation()):(this._img.texture=PIXI.Texture.EMPTY,this._light.visible=!1)},e.prototype.dispose=function(){this._stopAnimation()},e.prototype._startAnimation=function(){null==this._t&&(this._light.alpha=0,this._t=createjs.Tween.get(this._light,{loop:!0}).to({alpha:1},1e3).to({alpha:0},300))},e.prototype._stopAnimation=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(o.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o,r=i(0),s=i(335),a=i(4),_=i(61),l=i(126),u=i(45),c=i(6),h=i(26),p=i(358),d=i(961),f=i(962),y=i(964),m=i(965),g=i(966),v=i(1);!function(t){t[t.NONE=0]="NONE",t[t.RELOCATION=1]="RELOCATION",t[t.DEPLOYMENT=2]="DEPLOYMENT"}(o=e.ListType||(e.ListType={}));var b=function(t){function e(e,i){var n=t.call(this)||this;return n._selected_page_no=1,n._onChangeTab=function(t){n._recordCurrentCategory(t),n.update(t,1)},n._onChangePage=function(t){n.update(n._selected_category,t)},n._bg=new PIXI.Sprite,n._bg.position.set(0,35),n.addChild(n._bg),n._title=new PIXI.Sprite,n._title.position.set(56,53),n.addChild(n._title),n._lines=new PIXI.Graphics,n.addChild(n._lines),n._tabs=new f.AirUnitListTabContainer(n._onChangeTab),n._tabs.x=36,n.addChild(n._tabs),n._list=new w(e),n._list.position.set(0,98),n.addChild(n._list),n._pager=new d.AirUnitListPager(n._onChangePage),n._pager.position.set(219,510),n.addChild(n._pager),n.interactive=!0,n._recordCurrentCategory=i,n}return n(e,t),e.prototype.initialize=function(t){this._bg.texture=h.SALLY_AIRUNIT.getTexture(60),this._title.texture=h.SALLY_AIRUNIT.getTexture(62),this._lines.lineStyle(1,13945534);for(var e=0;e<9;e++)this._lines.moveTo(93,141+45*e),this._lines.lineTo(711,141+45*e);this._tabs.initialize(),this._list.initialize(),this._pager.initialize(),this.update(t,1)},e.prototype.update=function(t,e){var i=r.default.model.slot.getAirUnitRelocation();if(this._selected_category!=t){this._selected_category=t,this._tabs.update(t);var n=p.getEquipTypes(t);this._items=r.default.model.slot.createUnsetList(n);for(var o=0,s=i;o<s.length;o++){var a=s[o],_=r.default.model.slot.get(a);n.indexOf(_.equipTypeSp)>=0&&this._items.push(_)}this._deployments=[];for(var l=r.default.model.airunit.getAirUnitList(),h=0,d=l;h<d.length;h++)for(var f=d[h],y=f.squadrons,m=0,g=y;m<g.length;m++){var v=g[m];if(!v.isRelocation()){var _=r.default.model.slot.get(v.mem_id);if(null==_)continue;this._deployments.push(v.mem_id),n.indexOf(_.equipTypeSp)>=0&&this._items.push(_)}}u.SlotUtil.sort(this._items,0,!1)}else this._selected_page_no!=e&&c.SE.play("249");this._selected_page_no=e,this._list.update(this._items,this._selected_page_no,i,this._deployments);var b=Math.ceil(this._items.length/9);this._pager.update(this._selected_page_no,b)},e.prototype.activate=function(){this._tabs.activate(),this._list.activate()},e.prototype.deactivate=function(){this._tabs.deactivate(),this._list.deactivate()},e.prototype.dispose=function(){this.removeChildren(),this._tabs.dispose(),this._list.dispose(),this._pager.dispose()},e}(PIXI.Container);e.AirUnitList=b;var w=function(t){function e(e){var i=t.call(this)||this;i._items=[];for(var n=0;n<9;n++){var o=new x(e);o.y=45*n,i.addChild(o),i._items.push(o)}return i}return n(e,t),e.prototype.initialize=function(){for(var t=0,e=this._items;t<e.length;t++){e[t].initialize()}},e.prototype.update=function(t,e,i,n){for(var r=(e-1)*this._items.length,s=0;s<this._items.length;s++){var a=this._items[s];if(r+s>=t.length)a.visible=!1;else{var _=t[r+s],l=o.NONE;i.indexOf(_.memID)>=0&&(l=o.RELOCATION),n.indexOf(_.memID)>=0&&(l=o.DEPLOYMENT),a.update(_,l),a.visible=!0}}},e.prototype.activate=function(){for(var t=0,e=this._items;t<e.length;t++){e[t].activate()}},e.prototype.deactivate=function(){for(var t=0,e=this._items;t<e.length;t++){e[t].deactivate()}},e.prototype.dispose=function(){for(var t=0,e=this._items;t<e.length;t++){e[t].dispose()}},e}(PIXI.Container),x=function(t){function e(e){var i=t.call(this)||this;return i._name=new a.TextBox(21,3355443),i._name.position.set(104,9),i.addChild(i._name),i._name_mask=l.CreateRect.gradientLeftToRight(270,30,.7,.88),i._name.mask=i._name_mask,i._name.addChild(i._name_mask),i._distance=new a.TextBox(18,3355443),i._distance.position.set(434,11),i.addChild(i._distance),i._status=new I,i._status.position.set(477,5),i.addChild(i._status),i._skill_level=new m.AirPlaneSkillLevel,i._skill_level.position.set(344,0),i.addChild(i._skill_level),i._level=new g.SlotitemLevel,i._level.position.set(390,11),i.addChild(i._level),i._icon=new _.IconWeapon,i._icon.position.set(51,-3),i.addChild(i._icon),i._over=new T(e),i._over.position.set(42,0),i.addChild(i._over),i._extra_layer=new y.AirUnitListItemExtraLayer,i._extra_layer.position.set(42,0),i.addChild(i._extra_layer),i}return n(e,t),e.prototype.initialize=function(){this._status.initialize(),this._level.initialize(),this._over.initialize(),this._extra_layer.initialize()},e.prototype.update=function(t,e){switch(this._name.text=t.name,this._distance.text=t.distance.toString(),this._distance.x=Math.round(450-this._distance.width/2),this._skill_level.update(t.skillLevel),this._level.update(t.level),this._icon.update(t.iconType),this._extra_layer.update(!1,null),this._status.viewStatus(3,!0),e){case o.NONE:this._status.taiku=t.taiku,this._status.bakusou=t.bakusou,this._status.raisou=t.raisou,48==t.equipTypeSp?this._status.taibaku=t.meichu:this._status.meichu=t.meichu,this._status.visible=!0,this._over.update(t),this._over.visible=!0;break;case o.RELOCATION:this._status.visible=!1,this._over.visible=!1,this._extra_layer.update(!0,e);break;case o.DEPLOYMENT:this._status.visible=!0,this._status.viewStatus(3,!1),this._status.taiku=t.taiku,this._status.bakusou=t.bakusou,this._status.raisou=t.raisou,this._over.visible=!1,this._extra_layer.update(!0,e)}},e.prototype.activate=function(){this._over.activate()},e.prototype.deactivate=function(){this._over.deactivate()},e.prototype.dispose=function(){this.removeChildren(),this._name.destroy(),this._distance.destroy(),this._status.dispose(),this._level.dispose(),this._icon.dispose(),this._over.dispose(),this._extra_layer.dispose()},e}(PIXI.Container),I=function(t){function e(){var e=t.call(this)||this;e._imgs=[],e._texts=[];for(var i=0;i<4;i++){var n=new PIXI.Sprite;n.x=51*i,e.addChild(n),e._imgs.push(n);var o=new a.TextBox(18,3355443);o.y=17,e.addChild(o),e._texts.push(o)}return e}return n(e,t),Object.defineProperty(e.prototype,"taiku",{set:function(t){this._texts[0].text=(t>0?"+":"")+t.toString(),this._texts[0].x=20-Math.round(this._texts[0].width/2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bakusou",{set:function(t){this._texts[1].text=(t>0?"+":"")+t.toString(),this._texts[1].x=71-Math.round(this._texts[1].width/2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"raisou",{set:function(t){this._texts[2].text=(t>0?"+":"")+t.toString(),this._texts[2].x=122-Math.round(this._texts[2].width/2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"meichu",{set:function(t){this._imgs[3].texture=h.SALLY_AIRUNIT.getTexture(108),this._texts[3].text=(t>0?"+":"")+t.toString(),this._texts[3].x=172-Math.round(this._texts[3].width/2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taibaku",{set:function(t){this._imgs[3].texture=h.SALLY_AIRUNIT.getTexture(109),this._texts[3].text=(t>0?"+":"")+t.toString(),this._texts[3].x=173-Math.round(this._texts[3].width/2)},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._imgs[0].texture=h.SALLY_AIRUNIT.getTexture(105),this._imgs[1].texture=h.SALLY_AIRUNIT.getTexture(106),this._imgs[2].texture=h.SALLY_AIRUNIT.getTexture(107),this._imgs[3].texture=h.SALLY_AIRUNIT.getTexture(108)},e.prototype.dispose=function(){this.removeChildren();for(var t=0,e=this._texts;t<e.length;t++){e[t].destroy()}},e.prototype.viewStatus=function(t,e){this._imgs[t].visible=e,this._texts[t].visible=e},e}(PIXI.Container),T=function(t){function e(e){var i=t.call(this)||this;return i._locked=!1,i._onMouseOver=function(){i._img.alpha=1,0==i._locked&&(i._lockicon.alpha=1)},i._onMouseOut=function(){i._img.alpha=0,0==i._locked&&(i._lockicon.alpha=0)},i._onClick=function(){null!=i._cb_onSelect&&i._cb_onSelect(i._data)},i._onClickLockIcon=function(t){t.stopPropagation();var e=i._data.memID;new s.SlotItemLockAPI(e).start(function(){i.update(i._data)})},i._cb_onSelect=e,i._img=new PIXI.Sprite,i.addChild(i._img),i._lockicon=new PIXI.Sprite,i._lockicon.position.set(638,-3),i.addChild(i._lockicon),i._img.alpha=0,i.interactive=!0,i._lockicon.interactive=!0,i}return n(e,t),e.prototype.initialize=function(){this._img.texture=h.SALLY_AIRUNIT.getTexture(38),this._img.width=681,this._img.height=42,this.on(v.EventType.MOUSEOVER,this._onMouseOver),this.on(v.EventType.MOUSEOUT,this._onMouseOut)},e.prototype.update=function(t){this._data=t,this._locked=t.isLocked(),1==this._locked?(this._lockicon.texture=h.SALLY_AIRUNIT.getTexture(64),this._lockicon.position.set(638,-2),this._lockicon.alpha=1):(this._lockicon.texture=h.SALLY_AIRUNIT.getTexture(63),this._lockicon.position.set(638,-3),this._lockicon.alpha=this._img.alpha)},e.prototype.activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(v.EventType.CLICK,this._onClick),this._lockicon.on(v.EventType.CLICK,this._onClickLockIcon))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(v.EventType.MOUSEOVER,this._onMouseOver),this.off(v.EventType.MOUSEOUT,this._onMouseOut),this.off(v.EventType.CLICK,this._onClick),this._lockicon.off(v.EventType.CLICK,this._onClickLockIcon)},e.prototype.dispose=function(){this.deactivate(),this._cb_onSelect=null},e}(PIXI.Container)},function(t,e,i){"use strict";function n(t){return 0==t?[47]:1==t?[48]:2==t?[6,56]:3==t?[7,8,57,58]:4==t?[9,10,11,41,45,49,59,94]:[]}function o(t){return[9,10,41,49,59,94].indexOf(t)>=0?4:18}Object.defineProperty(e,"__esModule",{value:!0}),e.getEquipTypes=n,e.getKadouCount=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(){}return t.killVoice=function(){null!=t.tween&&t.tween.setPaused(!0),null!=t.voice&&n.default.sound.voice.stop(t.voice),t.tween=null,t.voice=null},t.tween=null,t}();e.EventOperationVoice=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(30),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i._selected=!1,i._onMouseOver=function(){i._update(!0)},i._onMouseOut=function(){i._update(!1)},i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick(i)},i._area_id=e,i.interactive=!0,i}return n(e,t),Object.defineProperty(e.prototype,"area_id",{get:function(){return this._area_id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected!=t&&(this._selected=t,this._update(!1))},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){this._cb_onClick=t,this._update(!1)},e.prototype.activate=function(){0==this.buttonMode&&0==this._selected&&(this.buttonMode=!0,this.on(r.EventType.MOUSEOVER,this._onMouseOver),this.on(r.EventType.MOUSEOUT,this._onMouseOut),this.on(r.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(r.EventType.MOUSEOVER,this._onMouseOver),this.off(r.EventType.MOUSEOUT,this._onMouseOut),this.off(r.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.interactive=!1,this.deactivate(),this._cb_onClick=null},e.prototype._update=function(t){if(1==t||1==this._selected){var e=[-1,2,4,6,10,12,14,8];this._area_id>0&&this._area_id<e.length?this.texture=o.SALLY_COMMON.getTexture(e[this._area_id]):this.texture=PIXI.Texture.EMPTY}else{var e=[-1,1,3,5,9,11,13,7];this._area_id>0&&this._area_id<e.length?this.texture=o.SALLY_COMMON.getTexture(e[this._area_id]):this.texture=PIXI.Texture.EMPTY}},e}(PIXI.Sprite);e.AreaIconBtn=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(17),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i._onGo=function(t,e){void 0===t&&(t=0),null!=i._cb&&i._cb(t,e)},i._onCancel=function(){null!=i._cb&&1==i._cancelArea.buttonMode&&i._cb(0,-1)},i._cb=e,i._cancelArea=new o.FadeBox(.2),i._cancelArea.hide(0),i._cancelArea.interactive=!0,i.addChild(i._cancelArea),i}return n(e,t),Object.defineProperty(e.prototype,"cancelArea",{get:function(){return this._cancelArea},enumerable:!0,configurable:!0}),e.prototype.activate=function(){this._cancelArea.buttonMode=!0,this._cancelArea.on(r.EventType.CLICK,this._onCancel)},e.prototype.deactivate=function(){this._cancelArea.buttonMode=!1,this._cancelArea.off(r.EventType.CLICK,this._onCancel)},e.prototype.dispose=function(){this.deactivate(),this.removeChildren(),this._cancelArea=null,this._cb=null},e}(PIXI.Container);e.ContainerDeckSelectBase=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(37),r=i(363),s=i(989),a=function(t){function e(){var e=t.call(this)||this;return e._banners=[],e._levels=[],e}return n(e,t),e.prototype.dispose=function(){for(var t=0,e=this._banners;t<e.length;t++){e[t].dispose()}},e.prototype.update=function(t){for(o.TaskLoadShipResource.abortBy(this);this._banners.length>0;){var e=this._banners.pop();null!=e.parent&&e.parent.removeChild(e),e.dispose()}for(;this._levels.length>0;){var i=this._levels.pop();null!=i.parent&&i.parent.removeChild(i)}for(var n=0;n<t.length;n++){var a=new r.CompBannerAndLack;a.position.set(0,75*n),a.initialize(),a.update(t[n],!0),this.addChild(a),this._banners.push(a);var _=new s.CompBannerLevel;_.position.set(201,75*n),_.initialize(),_.update(t[n]),this.addChild(_),this._levels.push(_)}},e}(PIXI.Container);e.PanelDeckSelectBanners=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(32),s=i(988),a=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.initialize=function(){this._banner=new r.ShipBanner,this._alert=new s.CompLackAlerts,this._alert.initialize(),this._alert.position.set(188,53),this.addChild(this._banner),this.addChild(this._alert)},e.prototype.update=function(t,e){if(null==t)this.visible=!1;else{var i=!1,n=o.default.model.deck.isInDeck(t.memID);if(null!=n){null!=o.default.model.deck.get(n[0]).expedition&&(i=!0)}this._banner.update(t,i),this._banner.updatePlate(t.label),e&&this._banner.updateLockSlot(t),this._alert.update(t),this.visible=!0}},e.prototype.dispose=function(){this._banner.dispose()},e}(PIXI.Container);e.CompBannerAndLack=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(330),a=i(8),_=i(990),l=function(t){function e(e,i,n){var r=t.call(this)||this;r._ships=e,r._rader=i,r._onUpdate=n,r._fuel=0,r._ammo=0;for(var s=0;s<e.length;s++){var a=e[s];null!=a&&(r._fuel+=a.getFuelForSupply(),r._ammo+=a.getAmmoForSupply())}var _=o.default.model.useItem.getCount(31),l=o.default.model.useItem.getCount(32);return r._fuelActive=r._fuel>0&&r._fuel<=_,r._ammoActive=r._ammo>0&&r._ammo<=l,r}return n(e,t),e.prototype._start=function(){this._clickGuard=new a.AreaBox(0),o.default.view.overLayer.addChild(this._clickGuard),this._hideRader()},e.prototype._hideRader=function(){var t=this;createjs.Tween.get(this._rader.scale).to({x:0,y:0},300,createjs.Ease.quadIn).call(function(){t._showSupplyAnimationBox()})},e.prototype._showSupplyAnimationBox=function(){var t=this;this._box=new _.TempSupplyBox,this._box.initialize(),this._box.x=360,this._box.y=120,this._box.alpha=0;var e=this._rader.parent;null!=e&&e.addChild(this._box),this._box.update(this._fuel,this._ammo),createjs.Tween.get(this._box).to({alpha:1},500).call(function(){t._playSupplyAnimation()})},e.prototype._playSupplyAnimation=function(){var t=this;this._box.play(this._fuelActive,this._ammoActive,function(){1==t._fuelActive&&(t._fuel=0),1==t._ammoActive&&(t._ammo=0),t._box.update(t._fuel,t._ammo),t._connectionAPI()})},e.prototype._getSupplyType=function(){return 1==this._fuelActive?1==this._ammoActive?3:1:1==this._ammoActive?2:0},e.prototype._connectionAPI=function(){for(var t=this,e=this._getSupplyType(),i=[],n=0;n<this._ships.length;n++){var o=this._ships[n];null!=o&&i.push(o.memID)}new s.ChargeAPI(e,i,!1).start(function(){createjs.Tween.get(t._box).to({alpha:0},500).call(function(){t._reShowRader()})})},e.prototype._reShowRader=function(){var t=this;null!=this._onUpdate&&this._onUpdate(),null!=this._box.parent&&this._box.parent.removeChild(this._box),createjs.Tween.get(this._rader.scale).to({x:1,y:1},300,createjs.Ease.quadOut).call(function(){null!=t._clickGuard.parent&&t._clickGuard.parent.removeChild(t._clickGuard),t._endTask()})},e.prototype._endTask=function(){this._ships=null,this._rader=null,this._onUpdate=null,this._clickGuard=null,this._box&&this._box.dispose(),this._box=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskTemporarySupply=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(14),r=i(30),s=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.initialize=function(){this.alpha=0,this.visible=!1},e.prototype.update=function(t){var e=this;if(0==t)return this.texture=PIXI.Texture.EMPTY,void(this.visible=!1);this.texture=r.SALLY_COMMON.getTexture(0),this.visible=!0,this._type=t;var i=new o.UIImageLoader("sally"),n="sally_alert_alert_"+t;i.add("alert/alert_"+t+".png",n),i.load(function(){e._type==t&&(e.texture=PIXI.Texture.fromFrame(n))})},e.prototype.activate=function(){0==this.alpha&&createjs.Tween.get(this).to({alpha:1},300)},e}(PIXI.Sprite);e.AlertBalloon=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(367),r=function(t){function e(){var e=t.call(this)||this;return e._rader=new o.Rader,e._rader.x=-188,e._rader.y=-225,e.addChild(e._rader),e}return n(e,t),e.prototype.initialize=function(){this._rader.initialize()},e.prototype.update=function(t){this._rader.update(t)},e.prototype.dispose=function(){this._rader.dispose()},e}(PIXI.Container);e.RaderCanvas=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(30),s=function(t){function e(){var e=t.call(this)||this;return e._animation_progress=0,e._model=new a,e._karyoku=new o.TextBox(22,1949120),e._raisou=new o.TextBox(22,1949120),e._taiku=new o.TextBox(22,1949120),e._kaihi=new o.TextBox(22,1949120),e._taikyu=new o.TextBox(22,1949120),e._g=new PIXI.Graphics,e._karyoku.anchor.set(.5,0),e._raisou.anchor.set(.5,0),e._taiku.anchor.set(.5,0),e._kaihi.anchor.set(.5,0),e._taikyu.anchor.set(.5,0),e._karyoku.position.set(209,81),e._raisou.position.set(345,231),e._taiku.position.set(336,393),e._kaihi.position.set(93,393),e._taikyu.position.set(30,228),e._g.position.set(186,269),e}return n(e,t),e.prototype.initialize=function(){var t=new PIXI.Sprite(r.SALLY_COMMON.getTexture(48)),e=new PIXI.Sprite(r.SALLY_COMMON.getTexture(49)),i=new PIXI.Sprite(r.SALLY_COMMON.getTexture(49)),n=new PIXI.Sprite(r.SALLY_COMMON.getTexture(50)),o=new PIXI.Sprite(r.SALLY_COMMON.getTexture(43));t.position.set(0,44),e.position.set(281,0),n.position.set(95,0),o.position.set(0,44),this.addChild(t),this.addChild(e),this.addChild(i),this.addChild(n),this.addChild(o),this.addChild(this._karyoku),this.addChild(this._raisou),this.addChild(this._taiku),this.addChild(this._kaihi),this.addChild(this._taikyu),this.addChild(this._g)},e.prototype.update=function(t){if(null==t)return void this._clearDraw();this._model.update(t),this._karyoku.text=this._model.karyoku.toString(),this._raisou.text=this._model.raisou.toString(),this._taiku.text=this._model.taiku.toString(),this._kaihi.text=this._model.kaihi.toString(),this._taikyu.text=this._model.taikyu.toString(),this._startAnimation()},e.prototype.dispose=function(){this._stopAnimation(),this.removeChildren(),this._karyoku.destroy(),this._raisou.destroy(),this._taiku.destroy(),this._kaihi.destroy(),this._taikyu.destroy()},e.prototype._startAnimation=function(){var t=this;this._stopAnimation(),this._animation_progress=0,this._animation=createjs.Tween.get(this).to({animation_progress:1},500).call(function(){t._animation=null,t._animation_progress=0})},e.prototype._clearDraw=function(){this._stopAnimation(),this._g.clear(),this._karyoku.text="",this._raisou.text="",this._taiku.text="",this._kaihi.text="",this._taikyu.text=""},e.prototype._stopAnimation=function(){null!=this._animation&&(this._animation.setPaused(!0),this._animation=null)},Object.defineProperty(e.prototype,"animation_progress",{get:function(){return this._animation_progress},set:function(t){this._animation_progress=t,this._draw(this._animation_progress)},enumerable:!0,configurable:!0}),e.prototype._draw=function(t){var e=[(this._model.karyoku>350?350:this._model.karyoku)*t,(this._model.raisou>350?350:this._model.raisou)*t,(this._model.taiku>350?350:this._model.taiku)*t,(this._model.kaihi>350?350:this._model.kaihi)*t,(this._model.taikyu>350?350:this._model.taikyu)*t],i=e.map(function(t,e,i){var n=(72*e-90)/180*Math.PI;return[142*t/350*Math.cos(n),142*t/350*Math.sin(n)]});this._g.clear(),this._g.lineStyle(1,16774898),this._g.beginFill(1949120),this._g.moveTo(i[0][0],i[0][1]);for(var n=0;n<5;n++){var o=(n+1)%5;i[n][0]==i[o][0]&&i[n][1]==i[o][1]||this._g.lineTo(i[o][0],i[o][1])}this._g.endFill()},e}(PIXI.Container);e.Rader=s;var a=function(){function t(){this._karyoku=0,this._raisou=0,this._taiku=0,this._kaihi=0,this._taikyu=0}return Object.defineProperty(t.prototype,"karyoku",{get:function(){return this._karyoku},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"raisou",{get:function(){return this._raisou},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"taiku",{get:function(){return this._taiku},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kaihi",{get:function(){return this._kaihi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"taikyu",{get:function(){return this._taikyu},enumerable:!0,configurable:!0}),t.prototype.update=function(t){for(var e=0,i=0,n=0,o=0,r=0,s=0,a=0,_=t;a<_.length;a++){var l=_[a];null!=l&&(e+=l.karyoku,i+=l.raisou,n+=l.taiku,o+=l.kaihi,r+=l.hpMax,s++)}this._karyoku=this._getParam(e,s),this._raisou=this._getParam(i,s),this._taiku=this._getParam(n,s),this._kaihi=this._getParam(o,s),this._taikyu=this._getParam(r,s)},t.prototype._getParam=function(t,e){if(e<=0)return 0;var i=Math.round(t/e);if(1==e)return i;var n=Math.sqrt(e-1);return n*=i,i+Math.round(n)},t}()},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(30),r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e._enabled=!0,e._enabled_btn=new a,e.addChild(e._enabled_btn),e._disabled_btn=new _,e._disabled_btn.visible=!1,e.addChild(e._disabled_btn),e}return n(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled!=t&&(this._enabled=t,1==this._enabled?(this._enabled_btn.visible=!0,this._disabled_btn.visible=!1):(this._enabled_btn.visible=!1,this._disabled_btn.visible=!0))},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){void 0===t&&(t=null),this._enabled_btn.initialize(t),this._disabled_btn.initialize()},e.prototype.activate=function(){this._enabled_btn.activate()},e.prototype.deactivate=function(){this._enabled_btn.deactivate()},e.prototype.dispose=function(){this._enabled_btn.dispose()},e}(PIXI.Container);e.TempSupplyBtn=s;var a=function(t){function e(){var e=t.call(this)||this;return e._onMouseOver=function(){e._stopAnimation(),e._img.texture=o.SALLY_COMMON.getTexture(39),e._over.visible=!0},e._onMouseOut=function(){e._startAnimation(),e._over.visible=!1},e._onClick=function(){null!=e._cb_onClick&&e._cb_onClick()},e._img=new PIXI.Sprite,e.addChild(e._img),e._over=new PIXI.Sprite,e._over.x=63,e._over.y=-18,e._over.visible=!1,e.addChild(e._over),e._img.interactive=!0,e}return n(e,t),e.prototype.initialize=function(t){this._cb_onClick=t,this._img.texture=o.SALLY_COMMON.getTexture(37),this._over.texture=o.SALLY_COMMON.getTexture(46)},e.prototype.activate=function(){1!=this._img.buttonMode&&(this._img.buttonMode=!0,this._over.visible=!1,this._startAnimation(),this._img.on(r.EventType.MOUSEOVER,this._onMouseOver),this._img.on(r.EventType.MOUSEOUT,this._onMouseOut),this._img.on(r.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this._over.visible=!1,this._stopAnimation(),this._img.off(r.EventType.MOUSEOVER,this._onMouseOver),this._img.off(r.EventType.MOUSEOUT,this._onMouseOut),this._img.off(r.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate(),this._cb_onClick=null},e.prototype._startAnimation=function(){var t=this;null==this._t&&(this._t=createjs.Tween.get(this),this._t.loop=!0,this._t.call(function(){t._img.texture=o.SALLY_COMMON.getTexture(37)}),this._t.wait(300),this._t.call(function(){t._img.texture=o.SALLY_COMMON.getTexture(38)}),this._t.wait(300))},e.prototype._stopAnimation=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Container),_=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.initialize=function(){this.texture=o.SALLY_COMMON.getTexture(40)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=function(t){function e(e){var i=t.call(this)||this;return i._enabled=!0,i._overed=!1,i._onMouseOver=function(){i._overed=!0,i._updateTexture()},i._onMouseOut=function(){i._overed=!1,i._updateTexture()},i._onClick=function(){null!=i._cb&&1==i._btn.buttonMode&&i._cb()},i._cb=e,i._btn=new PIXI.Sprite,i.addChild(i._btn),i._btn.interactive=!0,i}return n(e,t),Object.defineProperty(e.prototype,"enabled",{set:function(t){this._enabled!=t&&(this._enabled=t,1==this._enabled?this.activate():this.deactivate(),this._updateTexture())},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._updateTexture()},e.prototype.activate=function(){1!=this._btn.buttonMode&&0!=this._enabled&&(this._btn.buttonMode=!0,this._btn.on(o.EventType.MOUSEOVER,this._onMouseOver),this._btn.on(o.EventType.MOUSEOUT,this._onMouseOut),this._btn.on(o.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this._btn.buttonMode=!1,this._btn.off(o.EventType.MOUSEOVER,this._onMouseOver),this._btn.off(o.EventType.MOUSEOUT,this._onMouseOut),this._btn.off(o.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate(),this._cb=null},e.prototype._updateTexture=function(){},e}(PIXI.Container);e.BtnGoBase=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(52),r=i(1005),s=function(t){function e(e){var i=t.call(this)||this;return i._type=e,i._black=new PIXI.Sprite,i._key=new PIXI.Sprite,i._cloud=new r.MapThumbnailLockedCloud,i._text=new PIXI.Container,i}return n(e,t),e.prototype.initialize=function(t){this._black.texture=this._getBlackTexture(),this._key.texture=o.SALLY_SORTIE.getTexture(30),this._cloud.initialize(),this._text.visible=!0,this._text.removeChildren();var e=new PIXI.Sprite;0==t?e.texture=o.SALLY_SORTIE.getTexture(42):1==t?e.texture=o.SALLY_SORTIE.getTexture(43):3==t?e.texture=o.SALLY_SORTIE.getTexture(44):this._text.visible=!1,1==this._text.visible&&(e.x=-Math.round(e.width/2),e.y=-Math.round(e.height/2),this._text.addChild(e)),this._setPositions(),this.addChild(this._black),this.addChild(this._key),this.addChild(this._cloud),this.addChild(this._text)},e.prototype.activate=function(){this._cloud.activate()},e.prototype.deactivate=function(){this._cloud.deactivate()},e.prototype._getBlackTexture=function(){switch(this._type){case 3:return o.SALLY_SORTIE.getTexture(36);case 4:return o.SALLY_SORTIE.getTexture(35)}return PIXI.Texture.EMPTY},e.prototype._setPositions=function(){3==this._type?(this._key.position.set(470,14),this._cloud.position.set(491,53),this._text.position.set(490,99)):4==this._type&&(this._key.position.set(218,42),this._cloud.position.set(239,81),this._text.position.set(240,152))},e}(PIXI.Container);e.MapThumbnailLocked=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(41),r=i(233),s=i(1008),a=i(1011),_=i(359),l=function(t){function e(e,i){var n=t.call(this,e)||this;n._onMouseOver=function(t){n._strategy_map.update(t)},n._onMouseOut=function(t){};var r=o.SALLY_EVENT.getTexture(4),_=new PIXI.Sprite(r);return _.position.set(182,207),n.addChild(_),n._strategy_map=new s.StrategyMap,n._strategy_map.position.set(204,261),n.addChild(n._strategy_map),n._airunitbtn=new a.AirUnitBtn(i),n._airunitbtn.position.set(206,570),n._airunitbtn.visible=!1,n.addChild(n._airunitbtn),n}return n(e,t),e.prototype.initialize=function(e){t.prototype.initialize.call(this,e);var i=e[this.offset].mst_id;this._strategy_map.update(i),this._airunitbtn.initialize()},e.prototype.updateAirUnitEnabled=function(e){t.prototype.updateAirUnitEnabled.call(this,e),this._airunitbtn.visible=e,1==e?this._airunitbtn.activate():this._airunitbtn.deactivate()},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._strategy_map.dispose(),this._airunitbtn.dispose(),_.EventOperationVoice.killVoice()},e}(r.LayoutBase);e.EventLayoutBase=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(41),r=i(231),s=i(1012),a=function(t){function e(e,i,n,o,r){return t.call(this,e,i,n,o,r)||this}return n(e,t),e.prototype._setPositions=function(){1==this._type?this._clear.position.set(600,0):2==this._type?this._clear.position.set(600,0):3==this._type?this._clear.position.set(600,0):3==this._type&&this._clear.position.set(612,-6)},e.prototype._getNoneTexture=function(){switch(this._type){case 2:return o.SALLY_EVENT.getTexture(38);case 3:return o.SALLY_EVENT.getTexture(37)}return PIXI.Texture.EMPTY},e.prototype._getFocusTexture=function(){switch(this._type){case 1:return o.SALLY_EVENT.getTexture(34);case 2:return o.SALLY_EVENT.getTexture(35);case 3:return o.SALLY_EVENT.getTexture(33)}return PIXI.Texture.EMPTY},e.prototype._createLock=function(){return new s.EventMapThumbnailLocked(this._type)},e}(r.MapThumbnail);e.EventMapThumbnail=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(53),r=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.update=function(t){this.visible=!0,3==t?this.texture=o.SALLY_PRACTICE.getTexture(17):2==t?this.texture=o.SALLY_PRACTICE.getTexture(18):1==t?this.texture=o.SALLY_PRACTICE.getTexture(16):this.visible=!1},e}(PIXI.Sprite);e.CompFlag=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(30),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick()},i._cb_onClick=e,i.interactive=!0,i}return n(e,t),e.prototype.initialize=function(){this.texture=o.SALLY_COMMON.getTexture(26)},e.prototype.activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(r.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(r.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate(),this._cb_onClick=null},e}(PIXI.Sprite);e.CloseBtn=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(234),r=function(t){function e(e){var i=t.call(this)||this;i.IMAGE_WIDTH=39,i.PADDING=16;var n=new PIXI.Container,r=new Array,s=0;i._shadowType=e,i._shadowType==o.ShadowType.DETAIL?(i.IMAGE_WIDTH=41,i.PADDING=2):(i.IMAGE_WIDTH=39,i.PADDING=16);for(var a=0;a<6;a++){var _=new o.ShipShadow;_.position.x=s,r.push(_),n.addChild(_),s+=i.IMAGE_WIDTH+i.PADDING}return i.addChild(n),i._shipShadows=r,i._container=n,i}return n(e,t),e.prototype.update=function(t){for(var e=0;e<this._shipShadows.length;e++){var i=this._shipShadows[e];if(i.visible=!1,e<t.length){var n=t[e];i.update(n,this._shadowType),i.visible=!0}}this._shadowType==o.ShadowType.DETAIL?this._container.x=-t.length*this.IMAGE_WIDTH:this._container.x=-t.length*(this.IMAGE_WIDTH+this.PADDING)},e.prototype.dispose=function(){this.removeChildren(),this._container.removeChildren(),this._shipShadows.forEach(function(t){return t.dispose()}),this._container=null,this._shipShadows=null},e}(PIXI.Container);e.FleetShadow=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("sally_expedition_detail_"+t)}t.getTexture=e}(e.SALLY_EXPEDITION_DETAIL||(e.SALLY_EXPEDITION_DETAIL={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(13),s=i(24),a=function(t){function e(e,i,n){var o=t.call(this)||this,r=new d,s=new PIXI.Container,a=new PIXI.Sprite,l=new S,u=new S,c=new PIXI.Container,h=new PIXI.Sprite,p=new PIXI.Sprite,f=new PIXI.Sprite,y=new _(e.mst_id,e.isDamaged(),i,n);return h.filters=[u],a.filters=[l],o._attacker=e,o._chara=a,o._container=s,o._pack=r,o._preload_task=y,o._zuiun=h,o._zuiunMstId=i,o._zuiunFlashFilter=u,o._charaFlashFilter=l,o._mainArmament=p,o._mainArmamentMstID=n,o._mainArmamentText=f,o._zuiunGraphicContainer=c,o}return n(e,t),e.prototype.getPreloadTask=function(){return this._preload_task},Object.defineProperty(e.prototype,"view",{get:function(){return this._container},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._container.removeChildren(),this._zuiunGraphicContainer.removeChildren(),this._pack.dispose(),this._chara.filters=[],this._zuiun.filters=[],this._chara.texture=PIXI.Texture.EMPTY,this._zuiun.texture=PIXI.Texture.EMPTY,this._mainArmament.texture=PIXI.Texture.EMPTY,this._mainArmamentText.texture=PIXI.Texture.EMPTY,this.onCallAttackEffect=null,this.onCallAttackVoice=null,this._attacker=null,this._container=null,this._zuiunGraphicContainer=null,this._pack=null,this._chara=null,this._zuiun=null,this._preload_task=null,this._zuiunMstId=null,this._mainArmament=null,this._mainArmamentText=null,this._zuiunFlashFilter=null,this._charaFlashFilter=null,this._mainArmamentMstID=null},e.prototype._start=function(){var t=this,e={x:0,y:0,scale_x:1,scale_y:1,rotation:0};if(this._pack.mainArmamemntContainer.position.set(1560,367.35*1.5),this._pack.zuiunContainer.position.set(-531,320.65*1.5),this._pack.zuiunContainer.scale.set(.6,.6),this._pack.mainArmamentTextContainer.position.set(1800,270),this._pack.smoke1.position.set(430.575,538.8),this._pack.smoke2.position.set(289.1*1.5+284.25,378.6),this._pack.smoke3.position.set(489,436.8),this._pack.smoke1.anchor.set(.5,.5),this._pack.smoke2.anchor.set(.5,.5),this._pack.smoke3.anchor.set(.5,.5),this._pack.smoke1.scale.set(.8,.8),this._pack.smoke2.scale.set(.1,.1),this._pack.smoke3.scale.set(.15,.15),this._pack.smoke1.alpha=0,this._pack.smoke2.alpha=0,this._pack.smoke3.alpha=0,this._pack.whiteBg.alpha=0,this._pack.blueBg.alpha=0,this._pack.zuiunFrame.alpha=0,this._pack.telopBG.alpha=0,1==c.PlaneConst.OFFSET.hasOwnProperty(this._zuiunMstId.toString())){var i=c.PlaneConst.OFFSET[this._zuiunMstId],n=h.ObjUtil.getNumber(i,"x"),o=h.ObjUtil.getNumber(i,"y"),r=h.ObjUtil.getNumber(i,"r"),s=h.ObjUtil.getNumber(i,"sx",1),a=s;e.scale_x=a,e.scale_y=1,e.x=n,e.y=o,e.rotation=-r}this._zuiun.rotation=e.rotation/180*Math.PI,this._zuiun.scale.set(e.scale_x,e.scale_y),this._zuiun.position.set(e.x,e.y),this._zuiunGraphicContainer.position.set(149.05*1.5,223.05*1.5),this._mainArmamentText.anchor.set(.5,.5),this._mainArmamentText.scale.set(.8,.8),this._mainArmamentText.texture=u.default.resources.getSlotitem(this._mainArmamentMstID,"btxt_flat"),this._chara.texture=u.default.resources.getShip(this._attacker.mst_id,this._attacker.isDamaged(),"full"),this._zuiun.texture=u.default.resources.getSlotitem(this._zuiunMstId,"item_up"),this._zuiun.anchor.set(.5,.5),this._mainArmament.texture=u.default.resources.getSlotitem(this._mainArmamentMstID,"item_up"),this._mainArmament.scale.set(1.5,1.5),this._mainArmament.anchor.set(.5,.5),this._zuiun.alpha=0,this._chara.alpha=0,this._pack.charaContainer.addChild(this._chara),this._zuiunGraphicContainer.addChild(this._zuiun),this._pack.zuiunContainer.addChild(this._zuiunGraphicContainer),this._pack.mainArmamemntContainer.addChild(this._mainArmament),this._pack.mainArmamentTextContainer.addChild(this._mainArmamentText),this._pack.zuiunFrame.update(this._attacker.friend),this._pack.telopBG.update(this._attacker.friend),this._container.addChild(this._pack.blueBg),this._container.addChild(this._pack.charaContainer),this._container.addChild(this._pack.zuiunContainer),this._container.addChild(this._pack.textZui,this._pack.textUn,this._pack.textRittaikougeki),this._container.addChild(this._pack.telopBG),this._container.addChild(this._pack.mainArmamentTextContainer),this._container.addChild(this._pack.mainArmamemntContainer),this._container.addChild(this._pack.zuiunFrame),this._container.addChild(this._pack.smoke1,this._pack.smoke2,this._pack.smoke3),this._container.addChild(this._pack.whiteBg);var _=m.Sequence(function(){return m.Call(function(){return t.onCallAttackVoice()})},function(){return t._CUT_01_TextEnter()},function(){return m.Delay(29/30*1e3)},function(){return m.Parallel(function(){return t._CUT_02_ZuiunEnter()},function(){return m.Sequence(function(){return m.Delay(7/30*1e3)},function(){return t._CUT_03_FrameEnter()})})},function(){return m.Delay(500)},function(){return m.Parallel(function(){return t._CUT_04_ZuiunAttack()},function(){return m.Sequence(function(){return m.Delay(300)},function(){return t._CUT_05_Explosion()})})},function(){return m.Delay(4/30*1e3)},function(){return t._CUT_06_WHITE_IN_OUT()});_.execute(function(){_.dispose(),t._completedEnd()})},e.prototype._CUT_04_ZuiunAttack=function(){var t=this;return m.Sequence(function(){return m.Call(function(){t._zuiunFlashFilter.factor=.8})},function(){return m.Delay(1/30*1e3)},function(){return m.Call(function(){t._zuiunFlashFilter.factor=0})},function(){return m.Delay(1/30*1e3)},function(){return m.Call(function(){return p.SE.play("113")})},function(){return m.Parallel(function(){return m.Value(t._zuiunGraphicContainer.scale,{x:1.1,y:1.1},7/30*1e3)},function(){return m.Value(t._zuiun,{rotation:t._zuiun.rotation+Math.PI/180*45},7/30*1e3)},function(){return m.Value(t._pack.zuiunContainer.position,{x:391.6*1.5,y:1.5*-41.3},7/30*1e3)})},function(){return m.Parallel(function(){return m.Value(t._zuiunGraphicContainer.scale,{x:.3,y:.3},400)},function(){return m.Value(t._pack.zuiunContainer.position,{x:1062.225,y:309.9*1.5},400)})})},e.prototype._CUT_06_WHITE_IN_OUT=function(){var t=this;return m.Sequence(function(){return m.Value(t._pack.whiteBg,{alpha:1},5/30*1e3)},function(){return m.Call(function(){t._container.removeChild(t._pack.charaContainer),t._container.removeChild(t._pack.zuiunContainer),t._container.removeChild(t._pack.textZui),t._container.removeChild(t._pack.textUn),t._container.removeChild(t._pack.textRittaikougeki),t._container.removeChild(t._pack.telopBG),t._container.removeChild(t._pack.mainArmamemntContainer),t._container.removeChild(t._pack.mainArmamentTextContainer),t._container.removeChild(t._pack.zuiunFrame),t._container.removeChild(t._pack.smoke1),t._container.removeChild(t._pack.smoke2),t._container.removeChild(t._pack.smoke3),t._container.removeChild(t._pack.blueBg)})},function(){return m.Delay(5/30*1e3)},function(){return m.Call(function(){t.onCallAttackEffect()})},function(){return m.Value(t._pack.whiteBg,{alpha:0},5/30*1e3)},function(){return m.Delay(4/30*1e3)})},e.prototype._CUT_05_Explosion=function(){var t=this;return m.Parallel(function(){return m.Call(function(){return p.SE.play("102")})},function(){return m.Sequence(function(){return m.Delay(1/30*1e3)},function(){return m.Call(function(){return p.SE.play("103")})})},function(){return m.Sequence(function(){return m.Delay(2/30*1e3)},function(){return m.Call(function(){return p.SE.play("104")})})},function(){return m.Sequence(function(){return m.Call(function(){t._charaFlashFilter.factor=.8})},function(){return m.Delay(1/30*1e3)},function(){return m.Call(function(){t._charaFlashFilter.factor=0})})},function(){return m.Sequence(function(){return m.Call(function(){t._mainArmament.position.set(-16,0)})},function(){return m.Delay(1/30*1e3)},function(){return m.Call(function(){t._mainArmament.position.set(-7,0)})},function(){return m.Delay(1/30*1e3)},function(){return m.Call(function(){t._mainArmament.position.set(0,0)})})},function(){return m.Sequence(function(){return m.Delay(2/30*1e3)},function(){return m.Parallel(function(){return m.Value(t._pack.smoke1,{alpha:1},200)},function(){return m.Value(t._pack.smoke1.scale,{x:1,y:1},200)})},function(){return m.Parallel(function(){return m.Value(t._pack.smoke1,{alpha:0},400)},function(){return m.Value(t._pack.smoke1.scale,{x:1.1,y:1.1},400)})})},function(){return m.Sequence(function(){return m.Delay(1/30*1e3)},function(){return m.Sequence(function(){return m.Parallel(function(){return m.Value(t._pack.smoke2,{alpha:.65},200)},function(){return m.Value(t._pack.smoke2.scale,{x:.45,y:.45},200)})},function(){return m.Parallel(function(){return m.Value(t._pack.smoke2,{alpha:.89},100)},function(){return m.Value(t._pack.smoke2.scale,{x:.7,y:.7},100)})},function(){return m.Value(t._pack.smoke2.scale,{x:.8,y:.8},100)})},function(){return m.Call(function(){t._pack.smoke2.alpha=0})})},function(){return m.Sequence(function(){return m.Parallel(function(){return m.Value(t._pack.smoke3,{alpha:.65},100)},function(){return m.Value(t._pack.smoke3.scale,{x:.5,y:.5},100)})},function(){return m.Parallel(function(){return m.Value(t._pack.smoke3.scale,{x:.75,y:.75},100)},function(){return m.Value(t._pack.smoke3,{alpha:.13},100)})},function(){return m.Call(function(){t._pack.smoke3.alpha=0})})})},e.prototype._CUT_02_ZuiunEnter=function(){var t=this;this._pack.zuiunContainer.position.set(-531,320.65*1.5),this._pack.zuiunContainer.scale.set(.6,.6),this._zuiun.alpha=0;var e=function(t){return(createjs.Ease.quintOut(2*t)+createjs.Ease.quintOut(t))*(1/3)};return m.Parallel(function(){return m.Call(function(){return p.SE.play("115")})},function(){return m.Value(t._pack.zuiunContainer.scale,{x:1,y:1},20/30*1e3,e)},function(){return m.Value(t._pack.zuiunContainer.position,{x:238.55*1.5,y:1.5*-50.55},20/30*1e3,e)},function(){return m.Value(t._zuiun,{alpha:1},20/30*1e3,e)})},e.prototype._CUT_03_FrameEnter=function(){var t=this;switch(this._pack.zuiunFrame.anchor.set(.5,.5),this._pack.zuiunFrame.position.set(600,360),this._pack.zuiunFrame.scale.set(1.15,1.15),this._pack.zuiunFrame.alpha=0,this._pack.telopBG.anchor.set(.5,.5),this._pack.telopBG.position.set(600,617.925),this._pack.telopBG.alpha=0,this._pack.charaContainer.position.set(636.95*1.5,-309),this._attacker.mst_id){case 553:this._attacker.isDamaged()?this._chara.position.set(85.5,307.5):this._chara.position.set(-201,348);break;case 554:this._attacker.isDamaged()?this._chara.position.set(241.5,399):this._chara.position.set(0,0)}this._chara.scale.set(1.5,1.5),this._chara.alpha=0,this._mainArmament.alpha=0;var e=function(t){return(createjs.Ease.quintOut(2*t)+createjs.Ease.quintOut(t))*(1/3)};return m.Parallel(function(){return m.Value(t._pack.zuiunFrame,{alpha:1},13/30*1e3,createjs.Ease.linear)},function(){return m.Sequence(function(){return m.Value(t._pack.zuiunFrame.scale,{x:1,y:1},13/30*1e3,createjs.Ease.linear)},function(){return m.Call(function(){return p.SE.play("105")})})},function(){return m.Value(t._pack.telopBG,{alpha:1},13/30*1e3,e)},function(){return m.Value(t._pack.charaContainer,{x:-535.425,y:-365.025},13/30*1e3,e)},function(){return m.Value(t._chara,{alpha:1},13/30*1e3,e)},function(){return m.Value(t._mainArmament,{alpha:1},13/30*1e3,e)},function(){return m.Value(t._pack.mainArmamemntContainer.position,{x:311.775,y:500.625},13/30*1e3,e)},function(){return m.Value(t._pack.mainArmamentTextContainer.position,{x:512.4*1.5,y:616.425},13/30*1e3,e)})},e.prototype._CUT_01_TextEnter=function(){var t=this;this._pack.textZui.anchor.set(.5,.5),this._pack.textUn.anchor.set(.5,.5),this._pack.textRittaikougeki.anchor.set(.5,.5),this._pack.textZui.position.set(372,359.5),this._pack.textUn.position.set(460.5,358.5),this._pack.textRittaikougeki.position.set(687,359.5),this._pack.textZui.scale.set(1.15,1.15),this._pack.textUn.scale.set(1.15,1.15),this._pack.textRittaikougeki.scale.set(1.15,1.15),this._pack.textZui.alpha=0,this._pack.textUn.alpha=0,this._pack.textRittaikougeki.alpha=0;return m.Parallel(function(){return m.Sequence(function(){return m.Call(function(){return p.SE.play("109")})},function(){return m.Delay(200)},function(){return m.Call(function(){return p.SE.play("109")})},function(){return m.Delay(200)},function(){return m.Call(function(){return p.SE.play("109")})})},function(){return m.Value(t._pack.blueBg,{alpha:.7},.3)},function(){return m.Parallel(function(){return m.Value(t._pack.textZui,{alpha:1},4/30*1e3)},function(){return m.Value(t._pack.textZui.scale,{x:1,y:1},4/30*1e3)})},function(){return m.Sequence(function(){return m.Delay(200)},function(){return m.Parallel(function(){return m.Value(t._pack.textUn,{alpha:1},4/30*1e3)},function(){return m.Value(t._pack.textUn.scale,{x:1,y:1},4/30*1e3)})})},function(){return m.Sequence(function(){return m.Delay(400)},function(){return m.Parallel(function(){return m.Value(t._pack.textRittaikougeki,{alpha:1},4/30*1e3)},function(){return m.Value(t._pack.textRittaikougeki.scale,{x:1,y:1},4/30*1e3)})})})},e}(o.TaskBase);e.CutinZRK=a;var _=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._ship_mst_id=e,r._plane_mst_id=n,r._slot_mst_id=o,r._damaged=i,r}return n(e,t),e.prototype._start=function(){this._loadShipImage()},e.prototype._loadShipImage=function(){var t=this,e=new r.ShipLoader;e.add(this._ship_mst_id,this._damaged,"full"),e.load(function(){t._loadSlotImage()})},e.prototype._loadSlotImage=function(){var t=this,e=new s.SlotLoader;e.add(this._plane_mst_id,"item_up"),e.add(this._slot_mst_id,"item_up"),e.add(this._slot_mst_id,"btxt_flat"),e.load(function(){t._endTask()})},e}(o.TaskBase),l=i(1044),u=i(0),c=i(18),h=i(15),p=i(3),d=function(){function t(){var t=new PIXI.Sprite(l.BATTLE_ZRK.getTexture(7)),e=new PIXI.Sprite(l.BATTLE_ZRK.getTexture(8)),i=new PIXI.Sprite(l.BATTLE_ZRK.getTexture(9)),n=new f,o=new y,r=new PIXI.Sprite(l.BATTLE_ZRK.getTexture(4)),s=new PIXI.Sprite(l.BATTLE_ZRK.getTexture(5)),a=new PIXI.Sprite(l.BATTLE_ZRK.getTexture(6)),_=new PIXI.Container,u=new PIXI.Container,c=new PIXI.Container,h=new PIXI.Container,p=(new PIXI.Graphics).beginFill(16777215).drawRect(0,0,1200,720).endFill(),d=(new PIXI.Graphics).beginFill(8900331).drawRect(0,0,1200,720).endFill();this._textZui=t,this._textUn=e,this._textRittaikougeki=i,this._zuiunFrame=n,this._telopBG=o,this._smoke1=r,this._smoke2=s,this._smoke3=a,this._charaContainer=_,this._whiteBg=p,this._zuiunContainer=u,this._mainArmamentContainer=c,this._mainArmamentTextContainer=h,this._blueBg=d}return Object.defineProperty(t.prototype,"textZui",{get:function(){return this._textZui},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textUn",{get:function(){return this._textUn},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textRittaikougeki",{get:function(){return this._textRittaikougeki},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zuiunFrame",{get:function(){return this._zuiunFrame},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"telopBG",{get:function(){return this._telopBG},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"smoke1",{get:function(){return this._smoke1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"smoke2",{get:function(){return this._smoke2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"smoke3",{get:function(){return this._smoke3},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"whiteBg",{get:function(){return this._whiteBg},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blueBg",{get:function(){return this._blueBg},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"charaContainer",{get:function(){return this._charaContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zuiunContainer",{get:function(){return this._zuiunContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mainArmamemntContainer",{get:function(){return this._mainArmamentContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mainArmamentTextContainer",{get:function(){return this._mainArmamentTextContainer},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._charaContainer.removeChildren(),this._zuiunContainer.removeChildren(),this._mainArmamentContainer.removeChildren(),this._mainArmamentTextContainer.removeChildren(),this._textZui.texture=PIXI.Texture.EMPTY,this._textUn.texture=PIXI.Texture.EMPTY,this._textRittaikougeki.texture=PIXI.Texture.EMPTY,this._telopBG.texture=PIXI.Texture.EMPTY,this._smoke1.texture=PIXI.Texture.EMPTY,this._smoke2.texture=PIXI.Texture.EMPTY,this._smoke3.texture=PIXI.Texture.EMPTY,this._textZui=null,this._textUn=null,this._textRittaikougeki=null,this._zuiunFrame=null,this._telopBG=null,this._smoke1=null,this._smoke2=null,this._smoke3=null,this._charaContainer=null,this._zuiunContainer=null,this._mainArmamentContainer=null,this._whiteBg=null,this._blueBg=null,this._mainArmamentTextContainer=null},t}(),f=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.update=function(t){var e;e=t?l.BATTLE_ZRK.getTexture(0):l.BATTLE_ZRK.getTexture(1),this.texture=e},e}(PIXI.Sprite),y=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.update=function(t){var e;e=t?l.BATTLE_ZRK.getTexture(3):l.BATTLE_ZRK.getTexture(2),this.texture=e},e}(PIXI.Sprite),m=function(){function t(){}return t.Sequence=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new w(t)},t.Parallel=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new k(t)},t.Delay=function(t){return new x(t)},t.Call=function(t){return new I(t)},t.Condition=function(e,i,n){return void 0===n&&(n=function(){return t.DoNothing()}),new b(e,i,n)},t.DoNothing=function(){return new v},t.WaitForTask=function(t,e){return new C(t,e)},t.LoopFor=function(t,e){return new P(t,e)},t.Value=function(t,e,i,n,o,r){return void 0===n&&(n=createjs.Ease.linear),void 0===o&&(o=function(){}),void 0===r&&(r=!1),new O(t,e,i,o,n,r)},t.WaitForFrame=function(t){return new T(t)},t.Tick=function(t,e){return new g(t,e)},t.SILENT=function(){},t.ENDLESS=t.SILENT,t}();e.$_$=m;var g=function(){function t(t,e){var i=this;this.onTick=function(t){var e=t;i._checkCall()?i._onTick(e):(createjs.Ticker.removeEventListener("tick",i.onTick),i._onComplete())},this._onTick=e,this._checkCall=t}return t.prototype.execute=function(t){createjs.Ticker.addEventListener("tick",this.onTick),this._onComplete=t},t.prototype.dispose=function(){this._onTick=null,this._checkCall=null,this._onComplete=null},t.prototype.interrupt=function(){createjs.Ticker.removeEventListener("tick",this.onTick)},t.prototype.interruptible=function(){return!0},t}(),v=function(){function t(){}return t.prototype.interruptible=function(){return!0},t.prototype.interrupt=function(){},t.prototype.execute=function(t){t()},t.prototype.dispose=function(){},t}(),b=function(){function t(t,e,i){this._testCondition=t,this._trueCase=e,this._falseCase=i}return t.prototype.interruptible=function(){return this._job.interruptible()},t.prototype.interrupt=function(){this._job.interrupt(),this._trueCase=function(){},this._falseCase=function(){},this._testCondition=function(){}},t.prototype.execute=function(t){var e=this._testCondition(),i=e?this._trueCase():this._falseCase();this._job=i,i.execute(t)},t.prototype.dispose=function(){this._job.dispose(),this._job=null,this._testCondition=null,this._trueCase=null,this._falseCase=null},t}(),w=function(){function t(t){var e=this;this._next=function(){if(e._job&&e._job.dispose(),e._job=null,e._seek<e._tasks.length){var t=e._tasks[e._seek++],i=t();e._job=i,i.execute(e._next)}else e._onComplete()},this._tasks=t}return t.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];1==t.length?this._tasks.push(t[0]):this._tasks=this._tasks.concat(t)},t.prototype.execute=function(t){this._onComplete=t,this._start()},t.prototype._start=function(){this._seek=0,this._next()},t.prototype.interruptible=function(){return this._job.interruptible()},t.prototype.interrupt=function(){this._job.interrupt()},t.prototype.dispose=function(){var t=this;this._job&&this._job.dispose(),this._job=null,this._tasks.forEach(function(e,i){t._tasks[i]=null}),this._onComplete=null},t}(),x=function(){function t(t){this._duration=t}return t.prototype.execute=function(t){var e=createjs.Tween.get(this).wait(this._duration),i=e.call(t);this._tween=i,i.play(null)},t.prototype.interruptible=function(){return!0},t.prototype.interrupt=function(){createjs.Tween.removeTweens(this._tween.target)},t.prototype.dispose=function(){this._tween=null,this._duration=null},t}(),I=function(){function t(t){this._call=t}return t.prototype.execute=function(t){this._call(),t()},t.prototype.dispose=function(){this._call=null},t.prototype.interruptible=function(){return!0},t.prototype.interrupt=function(){},t}(),T=function(){function t(t){this._frame=t}return t.prototype.execute=function(t){var e=createjs.Tween.get(this,{useTicks:!0}).wait(this._frame).call(function(){t()});this._tween=e,e.play(null)},t.prototype.dispose=function(){this._tween=null,this._frame=null},t.prototype.interruptible=function(){return!0},t.prototype.interrupt=function(){createjs.Tween.removeTweens(this._tween.target)},t}(),O=function(){function t(t,e,i,n,o,r){var s=this;this._complete=function(){s._tween.removeEventListener("change",s.__onUpdate__),s.__onUpdate__(),s.__onComplete__()},this.__onComplete__=function(){s._onComplete&&s._onComplete()},this.__onUpdate__=function(){s._onUpadte&&s._onUpadte(s._target)},this._target=t,this._to=e,this._duration=i,this._onUpadte=n,this._easing=o}return t.prototype.execute=function(t){var e=this;this._onComplete=t;var i=createjs.Tween.get(this._target).to(this._to,this._duration,this._easing).call(function(){e._complete()});i.addEventListener("change",this.__onUpdate__),this._tween=i,i.play(null)},t.prototype.dispose=function(){this._target=null,this._to=null,this._duration=null,this._tween=null,this._easing=null,this._onUpadte=null},t.prototype.interruptible=function(){return!0},t.prototype.interrupt=function(){createjs.Tween.removeTweens(this._tween.target),this._complete=function(){},this.__onUpdate__=function(){},this._onComplete=null,this._onUpadte=null},t}(),C=function(){function t(t,e){var i=this;this._completeLoopJob=function(){i._loopJob.dispose(),i._loopJob=null,i._startLoopJob()},this._completeMainJob=function(){i._mainJob.dispose(),i._mainJob=null},this._mainTask=t,this._loopTask=e}return t.prototype.execute=function(t){this._onComplete=t,this._startMainJob(),this._startLoopJob()},t.prototype._startMainJob=function(){var t=this._mainTask();this._mainJob=t,t.execute(this._completeMainJob)},t.prototype._startLoopJob=function(){if(null==this._mainJob)this._onComplete();else{var t=this._loopTask();this._loopJob=t,t.execute(this._completeLoopJob)}},t.prototype.dispose=function(){this._loopTask=null,this._mainTask=null,this._loopJob=null,this._mainJob=null,this._onComplete=null},t.prototype.interrupt=function(){this._loopJob&&this._loopJob.interrupt(),this._mainJob&&this._mainJob.interrupt()},t.prototype.interruptible=function(){var t=!0;return this._loopJob&&(t=t&&this._loopJob.interruptible()),this._mainJob&&(t=t&&this._mainJob.interruptible()),t},t}(),P=function(){function t(t,e){var i=this;this._for_=function(){if(i._job&&i._job.dispose(),i._job=null,i._checkCondition()){var t=i._task();i._job=t,t.execute(i._for_)}else i._onComplete()},this._checkCondition=t,this._task=e}return t.prototype.execute=function(t){this._onComplete=t,this._for_()},t.prototype.interruptible=function(){return!this._job||this._job.interruptible()},t.prototype.interrupt=function(){this._for_=function(){},this._job&&this._job.interrupt()},t.prototype.dispose=function(){this._job&&this._job.dispose(),this._onComplete=null,this._job=null,this._checkCondition=null},t}(),k=function(){function t(t){var e=this;this._complete_call=function(){e._doneCounter++,e._tasks.length<=e._doneCounter&&e._onComplete()},this._tasks=t,this._jobs=[],this._doneCounter=0}return t.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];1==t.length?this._tasks.push(t[0]):this._tasks=this._tasks.concat(t)},t.prototype.interruptible=function(){var t=!0;return this._jobs.forEach(function(e){var i=e.interruptible();t=t&&i}),t},t.prototype.interrupt=function(){this._jobs.forEach(function(t){return t.interrupt()}),this._onComplete=function(){}},t.prototype.execute=function(t){this._onComplete=t,this.__call__()},t.prototype.__call__=function(){var t=this;if(0==this._tasks.length)return void this._complete_call();this._tasks.forEach(function(e){var i=e();t._jobs.push(i),i.execute(t._complete_call)})},t.prototype.dispose=function(){var t=this;this._jobs.forEach(function(e,i){e.dispose(),t._jobs[i]=null}),this._jobs=null,this._complete_call=null,this._tasks.forEach(function(e,i){t._tasks[i]=null}),this._onComplete=null,this._doneCounter=null},t}(),S=function(t){function e(){var e=t.call(this,PIXI.Filter.defaultVertexSrc,["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","uniform float factor;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 coloring = vec4(0.960784314,0.996078431,0.619607843,1.0);","   vec4 blending = mix(sample,coloring,factor);","   gl_FragColor = blending;","   gl_FragColor *= sample.a;","}"].join("\n"))||this;return e.uniforms.factor=0,e}return n(e,t),Object.defineProperty(e.prototype,"factor",{get:function(){return this.uniforms.factor},set:function(t){this.uniforms.factor=t},enumerable:!0,configurable:!0}),e}(PIXI.Filter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.HEADER=0]="HEADER",t[t.CENTER=1]="CENTER",t[t.FOOTER=2]="FOOTER"}(e.ListType||(e.ListType={}));!function(t){t[t.NONE=-1]="NONE",t[t.EXPEDITION=0]="EXPEDITION",t[t.COMPLETE_MONTHLY=1]="COMPLETE_MONTHLY",t[t.TIME_OVER_MONTHLY=2]="TIME_OVER_MONTHLY"}(e.ExpeditionState||(e.ExpeditionState={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(11),s=function(t){function e(){var e=t.call(this)||this;return e._url="api_get_member/deck",e}return n(e,t),e.prototype._completedEnd=function(){o.default.model.deck.setData(this._raw_data),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.DeckAPI=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("record_menu_"+t)}t.getTexture=e}(e.RECORD_MENU||(e.RECORD_MENU={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(15),r=i(237),s=function(t){function e(e){return t.call(this,e)||this}return n(e,t),Object.defineProperty(e.prototype,"nickname",{get:function(){return this._nickname},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"comment",{get:function(){return this._comment},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rank",{get:function(){return this._rank},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"experience_now",{get:function(){return this._experience_now},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"experience_next",{get:function(){return this._experience_next},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"warWin",{get:function(){return this._war_win},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"warLose",{get:function(){return this._war_lose},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"warRate",{get:function(){return this._war_rate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"missionCount",{get:function(){return this._mission_count},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"missionSuccess",{get:function(){return this._mission_success},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"missionRate",{get:function(){return this._mission_rate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"practiceWin",{get:function(){return this._practice_win},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"practiceLose",{get:function(){return this._practice_lose},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"practiceRate",{get:function(){return this._practice_rate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deckNum",{get:function(){return this._deck},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kDockNum",{get:function(){return this._kdoc},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nDockNum",{get:function(){return this._ndoc},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shipNum",{get:function(){return this._shipNow},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shipMax",{get:function(){return this._shipMax},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slotitemNum",{get:function(){return this._slotitemNow},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slotitemMax",{get:function(){return this._slotitemMax},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"furnitureNum",{get:function(){return this._furniture},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"materialMax",{get:function(){return this._material_max},enumerable:!0,configurable:!0}),e.prototype.SetAll=function(t){var e;this._nickname=o.ObjUtil.getString(t,"api_nickname"),this._comment=o.ObjUtil.getString(t,"api_cmt"),this._level=o.ObjUtil.getNumber(t,"api_level"),this._rank=o.ObjUtil.getNumber(t,"api_rank");var i=o.ObjUtil.getNumArray(t,"api_experience");this._experience_now=i[0],this._experience_next=i[1],i=null,e=o.ObjUtil.getNumArray(t,"api_war"),this._war_win=o.ObjUtil.getNumber(e,"api_win"),this._war_lose=o.ObjUtil.getNumber(e,"api_lose"),this._war_rate=o.ObjUtil.getString(e,"api_rate"),e=o.ObjUtil.getNumArray(t,"api_mission"),this._mission_count=o.ObjUtil.getNumber(e,"api_count"),this._mission_success=o.ObjUtil.getNumber(e,"api_success"),this._mission_rate=o.ObjUtil.getString(e,"api_rate"),e=o.ObjUtil.getNumArray(t,"api_practice"),this._practice_win=o.ObjUtil.getNumber(e,"api_win"),this._practice_lose=o.ObjUtil.getNumber(e,"api_lose"),this._practice_rate=o.ObjUtil.getString(e,"api_rate"),this._deck=o.ObjUtil.getNumber(t,"api_deck"),this._kdoc=o.ObjUtil.getNumber(t,"api_kdoc"),this._ndoc=o.ObjUtil.getNumber(t,"api_ndoc"),i=o.ObjUtil.getNumArray(t,"api_ship"),this._shipNow=i[0],this._shipMax=i[1],i=null,i=o.ObjUtil.getNumArray(t,"api_slotitem"),this._slotitemNow=i[0],this._slotitemMax=i[1],i=null,this._furniture=o.ObjUtil.getNumber(t,"api_furniture"),this._material_max=o.ObjUtil.getNumber(t,"api_material_max")},e}(r.RecordModelBase);e.RecordInfoModel=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(15),r=i(237),s=function(t){function e(e){var i=t.call(this,e)||this;i._list=[],i._isLoaded=!1;for(var n=0;n<10;n++)i._list[n]=new a;return i}return n(e,t),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return this._isLoaded},set:function(t){this._isLoaded=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageCount",{get:function(){return this._page_count},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dispPage",{get:function(){return this._disp_page},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"list",{get:function(){return this._list},enumerable:!0,configurable:!0}),e.prototype.SetAll=function(t,e){this._count=o.ObjUtil.getNumber(t,"api_count"),this._page_count=o.ObjUtil.getNumber(t,"api_page_count"),this._disp_page=o.ObjUtil.getNumber(t,"api_disp_page");for(var i=o.ObjUtil.getObjectArray(t,"api_list"),n=0,r=0,s=i;r<s.length;r++){var a=s[r];this._list[n].rank=o.ObjUtil.getNumber(a,"api_mxltvkpyuklh"),this._list[n].nickname=o.ObjUtil.getString(a,"api_mtjmdcwtvhdr"),this._list[n].comment=o.ObjUtil.getString(a,"api_itbrdpdbkynm"),this._list[n].flagtype=o.ObjUtil.getNumber(a,"api_pbgkfylkbjuy"),this._list[n].classrank=o.ObjUtil.getNumber(a,"api_pcumlrymlujh"),this._list[n].medals=o.ObjUtil.getNumber(a,"api_itslcqtmrxtf"),this._list[n].score[0]=o.ObjUtil.getNumber(a,"api_wuhnhojjxmke"),this._list[n].score[1]=o.ObjUtil.getNumber(a,"api_xlqcmisdyfiu"),this._list[n].score[2]=o.ObjUtil.getNumber(a,"api_mcouotbbbzpx"),this._list[n].isLoaded=!0,n++}for(var _=n;_<n;_++)this._list[n].isLoaded=!1;i=null,this._isLoaded=!0,0==e&&this._disp_page>0&&this.SetAll(t,this._disp_page)},e.prototype.remove_list=function(){for(var t=0;t<this._list.length;t++)this._list[t].dispose();this._list=null},e}(r.RecordModelBase);e.RecordRankingModel=s;var a=function(){function t(){this._score=[],this._isLoaded=!1}return Object.defineProperty(t.prototype,"isLoaded",{get:function(){return this._isLoaded},set:function(t){this._isLoaded=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rank",{get:function(){return this._rank},set:function(t){this._rank=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nickname",{get:function(){return this._nickname},set:function(t){this._nickname=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"comment",{get:function(){return this._comment},set:function(t){this._comment=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"flagtype",{get:function(){return this._flagtype},set:function(t){this._flagtype=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classrank",{get:function(){return this._classrank},set:function(t){this._classrank=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"medals",{get:function(){return this._medals},set:function(t){this._medals=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"score",{get:function(){return this._score},set:function(t){this._score=t},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._score=null},t}();e.RecordRankingLineModel=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("record_mini_"+t)}t.getTexture=e}(e.RECORD_MINI||(e.RECORD_MINI={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(1078))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(14),s=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype._start=function(){this._load()},e.prototype._load=function(){var t=this,e=new r.UIImageLoader("album");e.add("album_main.json"),e.add("album_slot2.json"),e.add("album_slot3.json"),e.add("album_slot4.json"),e.load(function(){t._endTask()})},e}(o.TaskBase);e.TaskLoadResources=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),s=i(4),a=i(3),_=i(42),l=i(42),u=i(42),c=i(42),h=i(42),p=function(t){function e(e){var i=t.call(this)||this;return i._onClose=function(){null!=i._cb_onClose&&i._cb_onClose()},i._cb_onClose=e,i._title=new d,i._title.position.set(39,45),i.addChild(i._title),i._message=new s.TextBox(23,5523516),i._message.position.set(106,138),i._message.style.breakWords=!0,i._message.style.wordWrap=!0,i._message.style.wordWrapWidth=585,i._message.style.lineHeight=34.5,i.addChild(i._message),i._statusBox=new _.ShipDetailStatusBox,i._statusBox.position.set(107,354),i.addChild(i._statusBox),i._stype=new u.EngStypeView,i._stype.position.set(873,37),i.addChild(i._stype),i._rader=new c.RaderGraph,i._rader.position.set(255,513),i.addChild(i._rader),i._content=new h.ShipDetailContent,i._content.position.set(706,33),i.addChild(i._content),i._close_btn=new PIXI.Sprite,i._close_btn.position.set(1111,30),i._close_btn.interactive=!0,i.addChild(i._close_btn),i.interactive=!0,i}return n(e,t),e.prototype.initialize=function(t,e){this._model=t,this.texture=a.ALBUM_MAIN.getTexture(94);var i=t.no,n=t.mst_ids[0];this._title.initialize(i,n),this._message.text=t.message.replace(/<br>/g,"\n").replace(/\u2019/g,"'"),this._statusBox.initialize(t);var o=t.sType;this._stype.update(n,o),this._rader.update(null),this._content.initialize(t,e),this._close_btn.texture=a.ALBUM_MAIN.getTexture(21)},e.prototype.preactivate=function(){this._content.preactivate()},e.prototype.activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this._rader.update(this._model),this._content.activate(),this.on(r.EventType.CLICK,this._onClose))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(r.EventType.CLICK,this._onClose),this._content.deactivate()},e.prototype.dispose=function(){this.removeChildren(),this.deactivate(),this._title.dispose(),this._stype.dispose(),this._rader.dispose(),this._content.dispose(),this._statusBox.dispose(),this._message.destroy(),this._model=null,this._title=null,this._message=null,this._statusBox=null,this._stype=null,this._rader=null,this._content=null,this._close_btn=null,this._cb_onClose=null},e}(PIXI.Sprite);e.ShipDetailPanel=p;var d=function(t){function e(){var e=t.call(this)||this;return e._nums=new l.DetailPanelNumbers,e._nums.position.set(60,36),e.addChild(e._nums),e._img=new PIXI.Sprite,e.addChild(e._img),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._nums.dispose(),this._nums=null,this._img=null},e.prototype.initialize=function(t,e){this.texture=a.ALBUM_MAIN.getTexture(93),this._nums.update(t),this._img.texture=o.default.resources.getShip(e,!1,"album_status")},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(62),r=i(131),s=i(1),a=function(t){function e(){var e=t.call(this)||this;return e._startWait=function(){e._stopWait();var t=3e3*Math.random()+1e3;e._wait_tween=createjs.Tween.get(null).wait(t).call(function(){e._caterpillar.buttonMode=!1,0==Math.floor(5*Math.random())?e._action2():e._action1()})},e._onClick=function(){if(0!=e._caterpillar.buttonMode){e._caterpillar.buttonMode=!1;0==Math.floor(5*Math.random())?e._action3():e._action1()}},e._shadow=new o.CenteringSprite,e._shadow.position.set(60,92),e.addChild(e._shadow),e._frown=new PIXI.Sprite,e.addChild(e._frown),e._caterpillar=new o.CenteringSprite,e._caterpillar.position.set(63,77),e._caterpillar.interactive=!0,e.addChild(e._caterpillar),e}return n(e,t),e.prototype.initialize=function(){this.texture=r.ALBUM_MAIN.getTexture(117),this._shadow.texture=r.ALBUM_MAIN.getTexture(116),this._frown.texture=r.ALBUM_MAIN.getTexture(114);var t=new PIXI.Sprite(r.ALBUM_MAIN.getTexture(115));t.position.set(71,21),this._frown.addChild(t),this._caterpillar.texture=r.ALBUM_MAIN.getTexture(113),this._caterpillar.buttonMode=!0,this._caterpillar.on(s.EventType.CLICK,this._onClick)},e.prototype.activate=function(){this._startWait()},e.prototype.deactivate=function(){this._stopWait(),null!=this._action_tween&&(this._action_tween.setPaused(!0),this._action_tween=null)},e.prototype.dispose=function(){this.removeChildren(),this.deactivate(),this._caterpillar.off(s.EventType.CLICK,this._onClick),this._shadow=null,this._frown=null,this._caterpillar=null,this._wait_tween=null,this._action_tween=null},e.prototype._stopWait=function(){null!=this._wait_tween&&(this._wait_tween.setPaused(!0),this._wait_tween=null)},e.prototype._action1=function(){var t=this;null==this._action_tween&&(this._stopWait(),this._action_tween=createjs.Tween.get(this._caterpillar).to({y:-105},400,createjs.Ease.sineOut).to({y:77},400,createjs.Ease.sineIn).call(function(){t._action_tween=null,t._caterpillar.buttonMode=!0,t._startWait()}),createjs.Tween.get(this._shadow).to({alpha:.4,scaleX:.9,scaleY:.9},400).to({alpha:1,scaleX:1,scaleY:1},400))},e.prototype._action2=function(){var t=this;null==this._action_tween&&(this._stopWait(),this._action_tween=createjs.Tween.get(this._caterpillar).to({rotation:-30*Math.PI/180},200).to({rotation:25*Math.PI/180},400).to({rotation:0},200).call(function(){t._action_tween=null,t._caterpillar.buttonMode=!0,t._startWait()}))},e.prototype._action3=function(){var t=this;null==this._action_tween&&(this._stopWait(),this._action_tween=createjs.Tween.get(this._caterpillar).to({y:-584},500,createjs.Ease.sineOut).call(function(){createjs.Tween.get(t._frown).to({alpha:0},100)}).wait(700).to({y:77},500,createjs.Ease.sineIn).to({y:80,scaleY:.8},100).to({y:77,scaleY:1},100).call(function(){createjs.Tween.get(t._frown).to({alpha:1},100)}).call(function(){t._action_tween=null,t._caterpillar.buttonMode=!0,t._startWait()}),createjs.Tween.get(this._shadow).to({alpha:0,scaleX:.7,scaleY:.7},600).wait(400).to({alpha:1,scaleX:1,scaleY:1},400))},e}(PIXI.Sprite);e.MiniChara=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(389),r=function(t){function e(e){var i=t.call(this)||this;i.PAGE_NUM=7,i._pagers=[];for(var n=0;n<i.PAGE_NUM;n++){var r=new o.Pager(e);r.x=138*n,i.addChild(r),i._pagers.push(r)}return i}return n(e,t),e.prototype.initialize=function(){for(var t=0,e=this._pagers;t<e.length;t++){e[t].initialize()}},e.prototype.update=function(t,e){for(var i=0;i<this._pagers.length;i++){var n=this._pagers[i],o=t+10*i;n.update(o),n.selected=e>=o&&e<o+10}},e.prototype.activate=function(){for(var t=0,e=this._pagers;t<e.length;t++){e[t].activate()}},e.prototype.deactivate=function(){for(var t=0,e=this._pagers;t<e.length;t++){e[t].deactivate()}},e.prototype.dispose=function(){this.removeChildren();for(var t=0,e=this._pagers;t<e.length;t++){e[t].dispose()}this._pagers=null},e}(PIXI.Container);e.PagerContainer=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i._offset=0,i._activated=!1,i._selected=!1,i._onClick=function(){null!=i._cb_onChange&&i._cb_onChange(i._offset)},i._cb_onChange=e,i._dash=new PIXI.Sprite,i._dash.position.set(75,28),i.addChild(i._dash),i._from=new a,i._from.position.set(24,22),i.addChild(i._from),i._to=new a,i._to.position.set(95,22),i.addChild(i._to),i.interactive=!0,i}return n(e,t),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected!=t&&(this._selected=t,1==this._selected?this._deactivate():1==this._activated&&this._activate(),this.update(this._offset))},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._setBGTexture(),this._from.update(0,this._selected),this._to.update(0,this._selected)},e.prototype.update=function(t){this._offset=t,this._setBGTexture(),this._from.update(t+1,this._selected),this._to.update(t+10,this._selected)},e.prototype.activate=function(){1!=this._activated&&(this._activated=!0,this._activate())},e.prototype.deactivate=function(){this._activated=!1,this._deactivate()},e.prototype.dispose=function(){this.removeChildren(),this.deactivate(),this._from.dispose(),this._to.dispose(),this._dash=null,this._from=null,this._to=null,this._cb_onChange=null},e.prototype._setBGTexture=function(){0==this._selected?(this.texture=o.ALBUM_MAIN.getTexture(101),this._dash.texture=o.ALBUM_MAIN.getTexture(26)):(this.texture=o.ALBUM_MAIN.getTexture(102),this._dash.texture=o.ALBUM_MAIN.getTexture(27))},e.prototype._activate=function(){1!=this._selected&&(this.buttonMode=!0,this.on(r.EventType.CLICK,this._onClick))},e.prototype._deactivate=function(){this.buttonMode=!1,this.off(r.EventType.CLICK,this._onClick)},e}(PIXI.Sprite);e.Pager=s;var a=function(t){function e(){var e=t.call(this)||this;return e._n100=new _,e.addChild(e._n100),e._n010=new _,e._n010.x=15,e.addChild(e._n010),e._n001=new _,e._n001.x=30,e.addChild(e._n001),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._n100=null,this._n010=null,this._n001=null},e.prototype.update=function(t,e){if(t<0||t>999)this._n100.texture=PIXI.Texture.EMPTY,this._n010.texture=PIXI.Texture.EMPTY,this._n001.texture=PIXI.Texture.EMPTY;else{this._n100.update(Math.floor(t/100),e);var i=t%100;this._n010.update(Math.floor(i/10),e),i=t%10,this._n001.update(i,e)}},e}(PIXI.Sprite),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.update=function(t,e){if(t<0||t>9)this.texture=PIXI.Texture.EMPTY;else{var i=void 0;i=0==e?[48,50,52,54,56,58,60,62,64,66][t]:[49,51,53,55,57,59,61,63,65,67][t],this.texture=o.ALBUM_MAIN.getTexture(i)}},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(131),r=i(391),s=function(t){function e(e){var i=t.call(this)||this;i.TABMAX_SHIP=6,i.TABMAX_SLOT=6,i._ship_tabs=[];for(var n=0;n<i.TABMAX_SHIP;n++){var o=new r.TabBtn(1,n,e);o.position.set(0,53*n),o.visible=!0,i.addChild(o),i._ship_tabs.push(o)}i._slot_tabs=[];for(var n=0;n<i.TABMAX_SLOT;n++){var o=new r.TabBtn(2,n,e);o.position.set(0,53*n),o.visible=!1,i.addChild(o),i._slot_tabs.push(o)}return i}return n(e,t),e.prototype.initialize=function(){this._initializeTabBtns(this._ship_tabs),this._initializeTabBtns(this._slot_tabs)},e.prototype.update=function(t,e){if(1==t)for(var i=0,n=this._ship_tabs;i<n.length;i++){var o=n[i];o.selected=o.no==e}else for(var r=0,s=this._ship_tabs;r<s.length;r++){var o=s[r];o.selected=!1}if(2==t)for(var a=0,_=this._slot_tabs;a<_.length;a++){var o=_[a];o.selected=o.no==e}else for(var l=0,u=this._slot_tabs;l<u.length;l++){var o=u[l];o.selected=!1}},e.prototype.activate=function(){for(var t=0,e=this._ship_tabs;t<e.length;t++){var i=e[t];i.activate()}for(var n=0,o=this._slot_tabs;n<o.length;n++){var i=o[n];i.activate()}},e.prototype.deactivate=function(){for(var t=0,e=this._ship_tabs;t<e.length;t++){var i=e[t];i.deactivate()}for(var n=0,o=this._slot_tabs;n<o.length;n++){var i=o[n];i.deactivate()}},e.prototype.dispose=function(){this.removeChildren();for(var t=0,e=this._ship_tabs;t<e.length;t++){var i=e[t];i.dispose()}for(var n=0,o=this._slot_tabs;n<o.length;n++){var i=o[n];i.dispose()}this._ship_tabs=null,this._slot_tabs=null},e.prototype.switchViewAlbumMode=function(t){switch(t){case 1:this._ship_tabs.forEach(function(t){return t.visible=!0}),this._slot_tabs.forEach(function(t){return t.visible=!1});break;case 2:this._ship_tabs.forEach(function(t){return t.visible=!1}),this._slot_tabs.forEach(function(t){return t.visible=!0})}},e.prototype._getBtnTextureNo=function(t,e){return 1==t?e>=0&&e<this.TABMAX_SHIP?[80,82,84,86,88,90][e]:-1:2==t&&e>=0&&e<this.TABMAX_SLOT?[68,70,72,74,76,78][e]:-1},e.prototype._getBtnOnTextureNo=function(t,e){return 1==t?e>=0&&e<this.TABMAX_SHIP?[81,83,85,87,89,91][e]:-1:2==t&&e>=0&&e<this.TABMAX_SLOT?[69,71,73,75,77,79][e]:-1},e.prototype._initializeTabBtns=function(t){for(var e=0,i=t;e<i.length;e++){var n=i[e],r=n.mode,s=n.no,a=this._getBtnTextureNo(r,s),_=-1==a?PIXI.Texture.EMPTY:o.ALBUM_MAIN.getTexture(a),l=this._getBtnOnTextureNo(r,s),u=-1==l?PIXI.Texture.EMPTY:o.ALBUM_MAIN.getTexture(l);n.initialize(_,u)}},e}(PIXI.Container);e.TabBtnContainer=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=function(t){function e(e,i,n){var o=t.call(this)||this;return o._activated=!1,o._selected=!1,o._onMouseOver=function(){o._update(!0)},o._onMouseOut=function(){o._update(!1)},o._onClick=function(){null!=o._cb_onChange&&o._cb_onChange(o._mode,o._no)},o._mode=e,o._no=i,o._cb_onChange=n,o.interactive=!0,o}return n(e,t),Object.defineProperty(e.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"no",{get:function(){return this._no},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected!=t&&(this._selected=t,1==this._selected?this._deactivate():1==this._activated&&this._activate(),this._update(!1))},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e){this._texture_cache=t,this._texture_on_cache=e,this._update(!1)},e.prototype.activate=function(){1!=this._activated&&(this._activated=!0,this._activate())},e.prototype.deactivate=function(){this._activated=!1,this._deactivate()},e.prototype.dispose=function(){this.deactivate(),this._texture_cache=null,this._texture_on_cache=null,this._cb_onChange=null},e.prototype._update=function(t){1==this._selected||1==t?this.texture=this._texture_on_cache:this.texture=this._texture_cache},e.prototype._activate=function(){1!=this._selected&&(this.buttonMode=!0,this.on(o.EventType.MOUSEOVER,this._onMouseOver),this.on(o.EventType.MOUSEOUT,this._onMouseOut),this.on(o.EventType.CLICK,this._onClick))},e.prototype._deactivate=function(){this.buttonMode=!1,this.off(o.EventType.MOUSEOVER,this._onMouseOver),this.off(o.EventType.MOUSEOUT,this._onMouseOut),this.off(o.EventType.CLICK,this._onClick)},e}(PIXI.Sprite);e.TabBtn=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i._onMouseOver=function(){i._update(!0)},i._onMouseOut=function(){i._update(!1)},i._onClick=function(t){null!=i._cb_onClick&&i._cb_onClick(t)},i._cb_onClick=e,i.interactive=!0,i}return n(e,t),e.prototype.initialize=function(){this._update(!1)},e.prototype.activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(r.EventType.MOUSEOVER,this._onMouseOver),this.on(r.EventType.MOUSEOUT,this._onMouseOut),this.on(r.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(r.EventType.MOUSEOVER,this._onMouseOver),this.off(r.EventType.MOUSEOUT,this._onMouseOut),this.off(r.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate(),this._cb_onClick=null},e}(PIXI.Sprite),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._update=function(t){this.texture=0==t?o.ALBUM_MAIN.getTexture(5):o.ALBUM_MAIN.getTexture(6)},e}(s);e.NextBtn=a;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._update=function(t){this.texture=0==t?o.ALBUM_MAIN.getTexture(7):o.ALBUM_MAIN.getTexture(8)},e}(s);e.PrevBtn=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(31),r=i(3),s=i(1),a=function(t){function e(e){var i=t.call(this)||this;return i._onMouseOver=function(){i._update(!0)},i._onMouseOut=function(){i._update(!1)},i._onClick=function(t){null!=i._cb_onClick&&i._cb_onClick(t)},i._icon=new o.Sprite,i._icon.position.set(19,19),i._icon.anchor.set(.5),i._icon.scale.set(.5),i.addChild(i._icon),i._t=createjs.Tween.get(i._icon,{loop:!0}).to({scaleX:.8,scaleY:.8},1e3).to({scaleX:.5,scaleY:.5},1e3),i._t.setPaused(!0),i._cb_onClick=e,i.interactive=!0,i}return n(e,t),e.prototype.initialize=function(){var t=this;this._icon.texture=r.ALBUM_MAIN.getTexture(11),this._update(!1,function(){var e=t.texture;t.hitArea=new PIXI.Rectangle(0,0,e.width,e.height)})},e.prototype.activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(s.EventType.MOUSEOVER,this._onMouseOver),this.on(s.EventType.MOUSEOUT,this._onMouseOut),this.on(s.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(s.EventType.MOUSEOVER,this._onMouseOver),this.off(s.EventType.MOUSEOUT,this._onMouseOut),this.off(s.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.removeChildren(),this.deactivate(),this._t.setPaused(!0),createjs.Tween.removeTweens(this._icon),this._icon=null,this._t=null,this._cb_onClick=null},e.prototype._update=function(t,e){void 0===e&&(e=null),0==t?(this.texture=r.ALBUM_MAIN.getTexture(0),this._icon.visible=!0,this._t.setPaused(!1)):(this.texture=r.ALBUM_MAIN.getTexture(14),this._icon.visible=!1,this._t.setPaused(!0)),null!==e&&e()},e}(PIXI.Sprite);e.VoiceBtn=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(31),r=i(3),s=i(1),a=function(t){function e(e){var i=t.call(this)||this;return i._onMouseOver=function(){i._update(!0)},i._onMouseOut=function(){i._update(!1)},i._onClick=function(t){null!=i._cb_onClick&&i._cb_onClick(t)},i._bg=new PIXI.Sprite,i._bg.position.set(-12,-12),i.addChild(i._bg),i._icon=new o.Sprite,i._icon.position.set(18.5,18.5),i._icon.anchor.set(.5),i._icon.scale.set(.5),i.addChild(i._icon),i._t=createjs.Tween.get(i._icon,{loop:!0}).to({scaleX:.8,scaleY:.8},1e3).to({scaleX:.5,scaleY:.5},1e3),i._t.setPaused(!0),i._cb_onClick=e,i.interactive=!0,i}return n(e,t),e.prototype.initialize=function(){this._icon.texture=r.ALBUM_MAIN.getTexture(9),this._update(!1)},e.prototype.activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(s.EventType.MOUSEOVER,this._onMouseOver),this.on(s.EventType.MOUSEOUT,this._onMouseOut),this.on(s.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(s.EventType.MOUSEOVER,this._onMouseOver),this.off(s.EventType.MOUSEOUT,this._onMouseOut),this.off(s.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.removeChildren(),this.deactivate(),this._t.setPaused(!0),createjs.Tween.removeTweens(this._icon),this._bg=null,this._icon=null,this._t=null,this._cb_onClick=null},e.prototype._update=function(t){0==t?(this._bg.texture=r.ALBUM_MAIN.getTexture(2),this._icon.visible=!0,this._t.setPaused(!1)):(this._bg.texture=r.ALBUM_MAIN.getTexture(10),this._icon.visible=!1,this._t.setPaused(!0))},e}(PIXI.Container);e.MovieBtn=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(11),s=i(171),a=i(340),_=function(t){function e(e,i){var n=t.call(this)||this;return n._layer=e,n._mst_id=i,n._marriageAnimation=new a.MarriageAnimation(i),n}return n(e,t),e.prototype._start=function(){var t=this;this._marriageAnimation.PreLoad(function(){t._marriageAnimation.Initialize(),o.default.view.overLayer.addChild(t._marriageAnimation),t._marriageAnimation.Play(!0,function(){o.default.view.overLayer.removeChild(t._marriageAnimation),t._resetBGM()})})},e.prototype._resetBGM=function(){var t=s.AlbumConst.BGM_ID_FOR_SHIP;o.default.sound.bgm.play(t),this._endTask()},e.prototype._endTask=function(){this._layer=null,this._btn=null,this._marriageAnimation.Dispose(),this._marriageAnimation=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskWedding=_},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("item_menu_1_"+t)}t.getTexture=e}(e.ITEM_MENU_1||(e.ITEM_MENU_1={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("item_menu_2_"+t)}t.getTexture=e}(e.ITEM_MENU_2||(e.ITEM_MENU_2={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("item_menu_3_"+t)}t.getTexture=e}(e.ITEM_MENU_3||(e.ITEM_MENU_3={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1110),r=function(t){function e(e){var i=t.call(this)||this;i._btns=[],i._btns.push(new o.TabBtn(0,e)),i._btns.push(new o.TabBtn(1,e)),i._btns.push(new o.TabBtn(2,e));for(var n=0;n<i._btns.length;n++){var r=i._btns[n];r.y=61*n,i.addChild(r)}return i}return n(e,t),e.prototype.initialize=function(t){for(var e=0;e<this._btns.length;e++){this._btns[e].initialize(t)}},e.prototype.activate=function(){for(var t=0,e=this._btns;t<e.length;t++){e[t].activate()}},e.prototype.update=function(t){for(var e=0,i=this._btns;e<i.length;e++){var n=i[e];n.selected=n.target==t}},e.prototype.deactivate=function(){for(var t=0,e=this._btns;t<e.length;t++){e[t].deactivate()}},e.prototype.dispose=function(){for(var t=0,e=this._btns;t<e.length;t++){e[t].dispose()}},e}(PIXI.Container);e.TabContainer=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(31),r=i(3),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._update=function(t){0==this._enabled?this.texture=r.ITEM_COMMON.getTexture(1):this.texture=0==t?r.ITEM_COMMON.getTexture(0):r.ITEM_COMMON.getTexture(2)},e}(o.BtnBase);e.BackBtn=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(314),r=function(t){function e(){var e=t.call(this)||this;e._eye_open_flag=!0,e._onUpdate=function(){for(var t=0,i=e._flowers;t<i.length;t++){i[t].update()}},e._flowers=[];var i=new s;return i.position.set(151,10),e.addChild(i),e._flowers.push(i),i=new s,i.position.set(166,43),e.addChild(i),e._flowers.push(i),i=new s,i.position.set(40,177),e.addChild(i),e._flowers.push(i),e}return n(e,t),e.prototype.initialize=function(){for(var t=0,e=this._flowers;t<e.length;t++){e[t].initialize()}this._update()},e.prototype.activate=function(){this._startWaiting()},e.prototype.deactivate=function(){this._stopWaiting()},e.prototype.dispose=function(){this.deactivate()},e.prototype._update=function(){1==this._eye_open_flag?this.texture=o.ITEM_MINI.getTexture(0):this.texture=o.ITEM_MINI.getTexture(1)},e.prototype._startWaiting=function(){var t=this;if(null==this._t){var e=0;e=1==this._eye_open_flag?3e3*Math.random()+200:200*Math.random()+100,this._t=createjs.Tween.get(null,{onChange:this._onUpdate}).wait(e).call(function(){t._eye_open_flag=!t._eye_open_flag,t._update(),t._t=null,t._startWaiting()})}},e.prototype._stopWaiting=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Sprite);e.MiniChara=r;var s=function(t){function e(){var e=t.call(this)||this;return e._i=0,e._rnd=0,e._startY=0,e._rnd=.04*Math.random()+.05,e}return n(e,t),e.prototype.initialize=function(){this.texture=o.ITEM_MINI.getTexture(2),this._startY=this.y},e.prototype.update=function(){this.y=this._startY+2*Math.sin(this._i*this._rnd),this._i+=.5},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),s=i(4),a=i(3),_=i(172),l=function(t){function e(e){var i=t.call(this)||this;return i._mst_id=-1,i._onMouseOver=function(){i._over.visible=!0},i._onMouseOut=function(){i._over.visible=!1},i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick(i._mst_id)},i._cb_onClick=e,i.beginFill(0,0),i.drawRect(0,0,75,75),i.endFill(),i._img=new PIXI.Sprite,i.addChild(i._img),i._count=new c,i.addChild(i._count),i._over=new PIXI.Sprite,i._over.position.set(-3,-3),i._over.visible=!1,i.addChild(i._over),i.interactive=!0,i}return n(e,t),e.prototype.initialize=function(){this._over.texture=a.ITEM_ILIST.getTexture(15),this._count.initialize()},e.prototype.update=function(t,e){this._mst_id=t,t<=0||e<=0?this.visible=!1:(this._img.texture=this._getTexture(t),this._count.update(e),this.visible=!0)},e.prototype.activate=function(){0!=this.visible&&1!=this.buttonMode&&(this.buttonMode=!0,this.on(r.EventType.MOUSEOVER,this._onMouseOver),this.on(r.EventType.MOUSEOUT,this._onMouseOut),this.on(r.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(r.EventType.MOUSEOVER,this._onMouseOver),this.off(r.EventType.MOUSEOUT,this._onMouseOut),this.off(r.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate(),this._count.dispose()},e.prototype._getTexture=function(t){return o.default.resources.getUseitem(t,0)},e}(PIXI.Graphics);e.ItemIcon=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initialize=function(){this._over.texture=a.ITEM_ILIST.getTexture(15),this._count.initialize(99)},e.prototype._getTexture=function(t){return _.getPayitemIcon(t)},e}(l);e.PayItemIcon=u;var c=function(t){function e(){var e=t.call(this)||this;return e._max=0,e._bg=new PIXI.Sprite,e.addChild(e._bg),e._text=new s.TextBox(21,16777215),e.addChild(e._text),e}return n(e,t),e.prototype.initialize=function(t){void 0===t&&(t=9999),this._max=t,this.update(0)},e.prototype.update=function(t){t=Math.max(t,0),t=Math.min(t,this._max),this._text.text=t.toString();var e;t<100?(e=27,this._bg.position.set(36,36),this._text.position.set(54-Math.floor(this._text.width/2),42)):t<1e3?(e=28,this._bg.position.set(25,39),this._text.position.set(49-Math.floor(this._text.width/2),42)):(e=29,this._bg.position.set(12,40),this._text.position.set(43-Math.floor(this._text.width/2),40)),this._bg.texture=a.ITEM_ILIST.getTexture(e)},e.prototype.dispose=function(){this.removeChildren(),this._bg=null,this._text.destroy(),this._text=null},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1119),s=i(33),a=i(240),_=function(t){function e(e,i){var n=t.call(this)||this;return n._layer=e,n._target=i,n}return n(e,t),e.prototype._start=function(){this._connectAPI()},e.prototype._connectAPI=function(){var t=this,e=this._target.mstID,i=(o.default.view.overLayer,new r.UseItemUseAPI(e,!1,0)),n=i.result;i.start(function(){1==n.hasCaution()?t._confirm():(t._result=n,t._endTask())})},e.prototype._confirm=function(){var t=this,e=this._target.mstID,i=this._layer,n=new a.TaskItemOverflowConfirm(i);n.start(function(){if(1==n.result){var i=new r.UseItemUseAPI(e,!0,0),o=i.result;i.start(function(){t._result=o,t._endTask()})}else t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._target=null,t.prototype._endTask.call(this)},e}(s.TaskWithResult);e.TaskUseNormalItem=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._icon&&this._icon.dispose(),this._btn_yes.dispose(),this._btn_no.dispose()},e.prototype._initialize=function(t,e){this._icon.initialize(t,e),this._btn_yes.initialize(o.ITEM_ILIST_MEDAL.getTexture(6)),this._btn_no.initialize(o.ITEM_ILIST_MEDAL.getTexture(0)),this._btn_yes.activate(),this._btn_no.activate()},e}(PIXI.Sprite);e.ConfirmViewBase=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(4),s=function(t){function e(){var e=t.call(this)||this;return e._arrow=new r.TextBox(22,4999235),e._arrow.position.set(152,20),e.addChild(e._arrow),e._from=new r.TextBox(24,4999235),e._from.y=20,e.addChild(e._from),e._tobe=new r.TextBox(24,4999235),e._tobe.position.set(188,20),e.addChild(e._tobe),e}return n(e,t),e.prototype.initialize=function(t,e){void 0===e&&(e=1),this.texture=o.default.resources.getUseitem(57,0),this._arrow.text="\u2192",this._from.text=t.toString(),this._from.x=147-this._from.width,this._tobe.text=(t-e).toString()},e.prototype.dispose=function(){this.removeChildren(),this._arrow.destroy(),this._from.destroy(),this._tobe.destroy()},e}(PIXI.Sprite);e.MedalIcon=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(29),r=i(78),s=i(13),a=i(24),_=i(67),l=i(14),u=i(2),c=function(t){function e(){var e=t.call(this)||this;return e._task=new o.SerialTask,e}return n(e,t),e.prototype.addShip=function(t){this._task.add(new h(t))},e.prototype.addSlotitem=function(t){this._task.add(new p(t))},e.prototype.addUseitem=function(t){this._task.add(new d(t))},e.prototype.addFurniture=function(t){this._task.add(new f(t))},e.prototype._start=function(){var t=this,e=new l.UIImageLoader("common");e.add("common_selectable_reward.json"),e.load(function(){t._task.start(function(){t._endTask()})})},e}(u.TaskBase);e.TaskLoadResources=c;var h=function(t){function e(e){var i=t.call(this)||this;return i._mst_id=e,i}return n(e,t),e.prototype._start=function(){var t=this,e=new s.ShipLoader;e.add(this._mst_id,!1,"card_round"),e.add(this._mst_id,!1,"icon_box"),e.load(function(){t._endTask()})},e}(u.TaskBase),p=function(t){function e(e){var i=t.call(this)||this;return i._mst_id=e,i}return n(e,t),e.prototype._start=function(){var t=this,e=new a.SlotLoader;e.add(this._mst_id,"card"),e.load(function(){t._endTask()})},e}(u.TaskBase),d=function(t){function e(e){var i=t.call(this)||this;return i._mst_id=e,i}return n(e,t),e.prototype._start=function(){var t=this,e=new _.UseitemLoader;e.add(this._mst_id,1),e.add(this._mst_id,2),e.load(function(){t._endTask()})},e}(u.TaskBase),f=function(t){function e(e){var i=t.call(this)||this;return i._mst_id=e,i}return n(e,t),e.prototype._start=function(){var t=this,e=new r.FurnitureLoader;e.add(this._mst_id,"reward"),e.load(function(){t._endTask()})},e}(u.TaskBase)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(8),s=i(1143),a=function(t){function e(e,i){var n=t.call(this)||this;return n._result=!1,n._onSelected=function(t){n._result=t,n._dialog.dispose(),n._layer.removeChild(n._dialog),n._layer.removeChild(n._click_guard),n._endTask()},n._layer=e,n._texture=i,n}return n(e,t),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e.prototype._start=function(){this._click_guard=new r.AreaBox(0),this._layer.addChild(this._click_guard),this._dialog=new s.RewardSelectConfirm(this._onSelected),this._dialog.position.set(465,495),this._dialog.initialize(this._texture),this._layer.addChild(this._dialog),this._dialog.activate()},e.prototype._endTask=function(){this._layer=null,this._texture=null,this._click_guard=null,this._dialog=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskRewardSelectConfirm=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"no",{get:function(){return n.ObjUtil.getNumber(this._o,"api_no")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return n.ObjUtil.getNumber(this._o,"api_kind")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mst_id",{get:function(){return n.ObjUtil.getNumber(this._o,"api_mst_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return n.ObjUtil.getNumber(this._o,"api_slotitem_level")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return n.ObjUtil.getNumber(this._o,"api_count")},enumerable:!0,configurable:!0}),t}();e.SelectableRewardModel=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(133),s=i(172),a=i(1),_=function(t){function e(e,i,n){var r=t.call(this)||this;return r._mst=null,r._onBuyBtnMouseOver=function(){null!=r._mst&&null!=r._cb_onMouseOver&&r._cb_onMouseOver(r._type,r._mst.description_at_shop)},r._onBuyBtnMouseOut=function(){null!=r._mst&&null!=r._cb_onMouseOut&&r._cb_onMouseOut()},r._onBuyBtnClick=function(){null!=r._mst&&null!=r._cb_onClick&&r._cb_onClick(r._type,r._mst)},r._cb_onMouseOver=e,r._cb_onMouseOut=i,r._cb_onClick=n,r._img=new PIXI.Sprite,r.addChild(r._img),r._price=new o.TextBox(21,16711680),r._price.anchor.x=1,r.addChild(r._price),r._btn=new l(r._onBuyBtnMouseOver,r._onBuyBtnMouseOut,r._onBuyBtnClick),r.addChild(r._btn),r}return n(e,t),e.prototype.initialize=function(t){this._type=t,3==t?(this.texture=r.ITEM_ISHOP.getTexture(20),this._img.position.set(18,4),this._price.position.set(100,136),this._price.style.fill=15898880,this._btn.position.set(6,87)):(0==t?this.texture=r.ITEM_ISHOP.getTexture(14):1==t?this.texture=r.ITEM_ISHOP.getTexture(18):2==t&&(this.texture=r.ITEM_ISHOP.getTexture(16)),this._img.position.set(31,4),this._price.position.set(126,136),this._price.style.fill=16724736,this._btn.position.set(13,85)),this._btn.initialize(t)},e.prototype.update=function(t){this._mst=t,null==t?this.visible=!1:(this._img.texture=s.getPayitemIcon(t.id),this._price.text=Math.floor(t.price).toString(),this.visible=!0)},e.prototype.activate=function(){0!=this.visible&&this._btn.activate()},e.prototype.deactivate=function(){this._btn.deactivate()},e.prototype.dispose=function(){this._cb_onMouseOver=null,this._cb_onMouseOut=null,this._cb_onClick=null,this.deactivate(),this.removeChildren(),this._price.destroy(),this._btn.dispose()},e}(PIXI.Sprite);e.ItemIcon=_;var l=function(t){function e(e,i,n){var o=t.call(this)||this;return o._onMouseOver=function(){o._update(!0),null!=o._cb_onMouseOver&&o._cb_onMouseOver()},o._onMouseOut=function(){o._update(!1),null!=o._cb_onMouseOut&&o._cb_onMouseOut()},o._onClick=function(){null!=o._cb_onClick&&o._cb_onClick()},o._cb_onMouseOver=e,o._cb_onMouseOut=i,o._cb_onClick=n,o.interactive=!0,o}return n(e,t),e.prototype.initialize=function(t){this._type=t,this._update(!1)},e.prototype.activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(a.EventType.MOUSEOVER,this._onMouseOver),this.on(a.EventType.MOUSEOUT,this._onMouseOut),this.on(a.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(a.EventType.MOUSEOVER,this._onMouseOver),this.off(a.EventType.MOUSEOUT,this._onMouseOut),this.off(a.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate(),this._cb_onMouseOver=null,this._cb_onMouseOut=null,this._cb_onClick=null},e.prototype._update=function(t){var e;e=0==t?3==this._type?22:21:3==this._type?23:24,this._texture=r.ITEM_ISHOP.getTexture(e)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=function(t){function e(e,i){void 0===i&&(i=!1);var n=t.call(this)||this;return n._url="api_req_furniture/buy",n._model=e,n._discount=i,n}return n(e,t),e.prototype._connect=function(){this._post_data.api_type=this._model.type,this._post_data.api_no=this._model.no,1==this._discount&&(this._post_data.api_discount_flag=1),t.prototype._connect.call(this)},e.prototype._completedEnd=function(){if(1==this._discount||1==this._model.isNeedCraftsman()){var e=o.default.model.useItem.get(52);e.__setCount__(e.count-1)}var i=this._model.price;1==this._discount&&(i=this._model.getDiscountPrice());var n=o.default.model.useItem.get(44);n.__setCount__(n.count-i),this._model.updateHasFlag(!0),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.FurnitureExchangeAPI=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("interior_parts_"+t)}t.getTexture=e}(e.INTERIOR_PARTS||(e.INTERIOR_PARTS={}))},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(1186)),n(i(413)),n(i(414)),n(i(1187))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=i(296),r=i(297),s=i(298),a=i(148),_=i(299),l=i(300),u=i(301),c=i(201),h=i(187),p=i(149),d=i(127),f=i(302),y=function(){function t(t){this._duty_id=t,this._dic={},this._rewards=[]}return t.prototype.getRewards=function(t){return 0==this._dic.hasOwnProperty(t.toString())?[]:this._dic[t]},t.prototype.getRewardList=function(){return this._rewards.concat()},t.prototype.isNeedUpdateUserBasic=function(){for(var t=this.getRewards(13),e=0;e<t.length;e++){if(44==t[e].mst_id)return!0}t=this.getRewards(15);for(var e=0;e<t.length;e++){var i=t[e];if(1==i.need_basic_update)return!0}t=this.getRewards(16);for(var e=0;e<t.length;e++){var i=t[e];if(1==i.need_basic_update)return!0}return!1},t.prototype.isNeedUpdateSlotitem=function(){var t=this.getRewards(11);return t.length>0||(t=this.getRewards(12),t.length>0||(t=this.getRewards(15),t.length>0||(t=this.getRewards(16),t.length>0)))},t.prototype.isNeedUpdateUseitem=function(){var t=this.getRewards(3);if(t.length>0)return!0;if(t=this.getRewards(13),t.length>0)return!0;t=this.getRewards(15);for(var e=0;e<t.length;e++){var i=t[e];if(1==i.need_useitem_update)return!0}t=this.getRewards(16);for(var e=0;e<t.length;e++){var i=t[e];if(1==i.need_useitem_update)return!0}return!1},t.prototype._initialize=function(){var t=n.ObjUtil.getNumArray(this._o,"api_material");if(null!=t){for(;t.length<4;)t.push(0);this._addMaterialBonus(31,t[0]),this._addMaterialBonus(32,t[1]),this._addMaterialBonus(33,t[2]),this._addMaterialBonus(34,t[3])}var e=[],i=n.ObjUtil.getNumArray(this._o,"api_bounus");if(null!=i)for(var o=0;o<i.length;o++){var r=i[o];e.push(new m(r))}for(var o=0;o<e.length;o++){var s=e[o];if(1==s.type){if(s.count<=0)continue;var a=s.id;switch(a){case 5:a=2;break;case 6:a=1;break;case 7:a=3;break;case 8:a=4;break;default:a=-1}-1!=a&&this._addMaterialBonus(a,s.count)}else 2==s.type?this._addDeckBonus(s):3==s.type?this._addFBoxBonus(s):4==s.type?this._addLargeBonus(s):5==s.type?this._addAirunitBaseBonus(s):6==s.type?this._addExtraSupplyBonus(s):11==s.type?this._addShipBonus(s):12==s.type?this._addSlotitemBonus(s):13==s.type?this._addUseitemBonus(s):14==s.type?this._addFurnitureBonus(s):15==s.type?this._addModelChangeBonus(s):16==s.type?this._addModelChangeBonus(s):18==s.type&&this._addWarResultBonus(s)}},t.prototype._addMaterialBonus=function(t,e){if(0!=e){var i;null!=this._material&&this._material.rewards.length<6?i=this._material:(this._material=new c.RewardModelMultiUseitem,i=this._material,0==this._dic.hasOwnProperty(1..toString())&&(this._dic[1]=[]),this._dic[1].push(i),this._rewards.push(i)),i.add(t,e)}},t.prototype._addDeckBonus=function(t){var e=new r.RewardModelDeck(t.id,t.name);0==this._dic.hasOwnProperty(2..toString())&&(this._dic[2]=[]),this._dic[2].push(e),this._rewards.push(e)},t.prototype._addFBoxBonus=function(t){if(0!=t.count){var e;null!=this._fbox&&this._fbox.rewards.length<6?e=this._fbox:(this._fbox=new c.RewardModelMultiUseitem,e=this._fbox,0==this._dic.hasOwnProperty(3..toString())&&(this._dic[3]=[]),this._dic[3].push(e),this._rewards.push(e)),e.add(t.id,t.count)}},t.prototype._addLargeBonus=function(t){var e=new _.RewardModelLargeBuild;0==this._dic.hasOwnProperty(4..toString())&&(this._dic[4]=[]),this._dic[4].push(e),this._rewards.push(e)},t.prototype._addAirunitBaseBonus=function(t){var e=t.id,i=t.message_a,n=t.message,r=new o.RewardModelAirUnit(e,i,n);if(0==this._dic.hasOwnProperty(5..toString())&&(this._dic[5]=[]),this._dic[5].push(r),this._rewards.push(r),647==this._duty_id&&1==t.c_flag){var s=new l.RewardModelMap(6,5);this._rewards.push(s)}},t.prototype._addExtraSupplyBonus=function(t){var e=new s.RewardModelExtraSupply(t.id);0==this._dic.hasOwnProperty(6..toString())&&(this._dic[6]=[]),this._dic[6].push(e),this._rewards.push(e)},t.prototype._addShipBonus=function(t){var e=new h.RewardModelShip(t.id);0==this._dic.hasOwnProperty(11..toString())&&(this._dic[11]=[]),this._dic[11].push(e),this._rewards.push(e)},t.prototype._addSlotitemBonus=function(t){for(var e=0;e<t.count;e++){var i=new p.RewardModelSlotitem(t.id,1);0==this._dic.hasOwnProperty(12..toString())&&(this._dic[12]=[]),this._dic[12].push(i),this._rewards.push(i)}},t.prototype._addUseitemBonus=function(t){for(var e=0;e<t.count;e++){var i=new d.RewardModelUseitem(t.id,1);0==this._dic.hasOwnProperty(13..toString())&&(this._dic[13]=[]),this._dic[13].push(i),this._rewards.push(i)}},t.prototype._addFurnitureBonus=function(t){var e=new a.RewardModelFurniture(t.id,t.name);0==this._dic.hasOwnProperty(14..toString())&&(this._dic[14]=[]),this._dic[14].push(e),this._rewards.push(e)},t.prototype._addModelChangeBonus=function(t){var e=t.id_from,i=t.id_tobe,n=t.message,o=new u.RewardModelModelChange(e,i,"",n),r=t.type;0==this._dic.hasOwnProperty(r.toString())&&(this._dic[r]=[]),this._dic[r].push(o),this._rewards.push(o)},t.prototype._addWarResultBonus=function(t){var e=new f.RewardModelWarResult(t.count),i=t.type;0==this._dic.hasOwnProperty(i.toString())&&(this._dic[i]=[]),this._dic[i].push(e),this._rewards.push(e)},t}();e.DutyEndModel=y;var m=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"type",{get:function(){return n.ObjUtil.getNumber(this._o,"api_type")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return n.ObjUtil.getNumber(this._o,"api_count")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return 11==this.type?n.ObjUtil.getNumber(this._item,"api_ship_id"):n.ObjUtil.getNumber(this._item,"api_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id_from",{get:function(){return n.ObjUtil.getNumber(this._item,"api_id_from")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id_tobe",{get:function(){return n.ObjUtil.getNumber(this._item,"api_id_to")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return n.ObjUtil.getString(this._item,"api_name")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message_a",{get:function(){return n.ObjUtil.getString(this._item,"api_message_a")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return n.ObjUtil.getString(this._item,"api_message")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"c_flag",{get:function(){return 1==n.ObjUtil.getNumber(this._item,"api_c_flag")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_item",{get:function(){return n.ObjUtil.getObject(this._o,"api_item")},enumerable:!0,configurable:!0}),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(7),r=i(408),s=i(241),a=function(){function t(t){this._o=t,this._alert=this._initAlert()}return Object.defineProperty(t.prototype,"id",{get:function(){return o.ObjUtil.getNumber(this._o,"api_no",-1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return o.ObjUtil.getString(this._o,"api_title")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){return o.ObjUtil.getString(this._o,"api_detail")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"category",{get:function(){return o.ObjUtil.getNumber(this._o,"api_category",1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fuel",{get:function(){var t=o.ObjUtil.getNumArray(this._o,"api_get_material");return null==t||t.length<1?0:t[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ammo",{get:function(){var t=o.ObjUtil.getNumArray(this._o,"api_get_material");return null==t||t.length<2?0:t[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"steel",{get:function(){var t=o.ObjUtil.getNumArray(this._o,"api_get_material");return null==t||t.length<3?0:t[2]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baux",{get:function(){var t=o.ObjUtil.getNumArray(this._o,"api_get_material");return null==t||t.length<4?0:t[3]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"progress",{get:function(){var t=o.ObjUtil.getNumber(this._o,"api_progress_flag_",-1);return-1==t?this._getRawProgress():t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ObjUtil.getNumber(this._o,"api_type")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){var t=o.ObjUtil.getNumber(this._o,"api_state_",-1);return-1==t?this._getRawStatus():t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasVoiceID",{get:function(){return o.ObjUtil.getNumber(this._o,"api_voice_id",0)>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"voiceID",{get:function(){switch(o.ObjUtil.getNumber(this._o,"api_no",-1)){case 190:for(var t=void 0,e=void 0,i=1;i<=n.default.model.deck.getAll().length;i++){t=0,e=!1;var r=n.default.model.deck.get(i),s=r.getCount();if(4==s){for(var a=0;a<s;a++)switch(r.getShipModel(a).yomi){case"\u308f\u304b\u3070":case"\u306f\u3064\u306f\u308b":case"\u306f\u3064\u3057\u3082":t++;break;case"\u306d\u306e\u3072":e=!0}if(3==t&&e)break}}return e?1101:o.ObjUtil.getNumber(this._o,"api_voice_id",0);default:return o.ObjUtil.getNumber(this._o,"api_voice_id",0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alert",{get:function(){return this._alert},enumerable:!0,configurable:!0}),t.prototype.hasBonus=function(){return 0!=o.ObjUtil.getNumber(this._o,"api_bonus_flag")},t.prototype.hasShipBonus=function(){return 2==o.ObjUtil.getNumber(this._o,"api_bonus_flag")},t.prototype.isValid=function(){return 0==o.ObjUtil.getNumber(this._o,"api_invalid_flag")},t.prototype.getNeedMedalCount=function(){return o.ObjUtil.getNumber(this._o,"api_lost_badges")},t.prototype.getRewardCandidates=function(){var t=o.ObjUtil.getObjectArray(this._o,"api_select_rewards");if(null==t)return null;for(var e=[],i=0,n=t;i<n.length;i++){for(var s=n[i],a=[],_=0,l=s;_<l.length;_++){var u=l[_];a.push(new r.SelectableRewardModel(u))}e.push(a)}return e},t.prototype._getRawProgress=function(){return o.ObjUtil.getNumber(this._o,"api_progress_flag")},t.prototype._getRawStatus=function(){return o.ObjUtil.getNumber(this._o,"api_state")},t.prototype._initAlert=function(){if(1==this.hasShipBonus()){if(n.default.model.basic.shipMax-n.default.model.ship.num<1)return 1;if(n.default.model.basic.slotMax-n.default.model.slot.num<5)return 1}return 0==this.isValid()?318==this.id?5:683==this.id||684==this.id||685==this.id||686==this.id||687==this.id||620==this.id||621==this.id?4:this.getNeedMedalCount()>0?4:s.BUTAI_SAIHENSEI.indexOf(this.id)>=0?3:2:0},t}();e.DutyModel=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=function(t){function e(e,i,n){var o=t.call(this)||this;return o._url="api_get_member/questlist",o._page_no=e,o._type=i,o._data_holder=n,o}return n(e,t),e.prototype._connect=function(){this._post_data.api_page_no=this._page_no,this._post_data.api_tab_id=this._type,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._data_holder.update(this._type,this._raw_data),this._data_holder=null,t.prototype._completedEnd.call(this)},e}(o.APIBase);e.DutyListAPI=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(14),s=i(241),a=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype._start=function(){this._load()},e.prototype._load=function(){var t=this,e=new r.UIImageLoader("duty");e.add("duty_common.json"),e.load(function(){t._loadPosterGirlResoueces()})},e.prototype._loadPosterGirlResoueces=function(){var t=this,e=new r.UIImageLoader("duty");e.add("poster_girl/"+s.POSTER_GIRL+"1.png",s.POSTER_KEY_1),e.add("poster_girl/"+s.POSTER_GIRL+"2.png",s.POSTER_KEY_2),e.load(function(){t._endTask()})},e}(o.TaskBase);e.TaskLoadResources=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=i(413),s=function(t){function e(e,i){var n=t.call(this)||this;return n._url="api_req_quest/clearitemget",n._duty_id=e,n._selected_no_list=i,n._result=new a(e),n}return n(e,t),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e.prototype._connect=function(){if(this._post_data.api_quest_id=this._duty_id,null!=this._selected_no_list&&this._selected_no_list.length>0){this._post_data.api_select_no=this._selected_no_list[0];for(var e=1;e<this._selected_no_list.length;e++)this._post_data["api_select_no"+(e+1)]=this._selected_no_list[e]}t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._result.initialize(this._raw_data),t.prototype._completedEnd.call(this)},e}(o.APIBase);e.DutyEndAPI=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initialize=function(t){this._o=t,this._initialize()},e}(r.DutyEndModel)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(419),s=function(t){function e(e,i){var n=t.call(this)||this;return n._result=[],n._layer=e,n._candidates_list=null==i?[]:i.concat(),n}return n(e,t),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e.prototype._start=function(){var t=this;if(0==this._candidates_list.length)return void this._endTask();var e=this._candidates_list.shift(),i=new r.TaskRewardSelect(this._layer,e);i.start(function(){t._result.push(i.result),t._start()})},e.prototype._endTask=function(){this._layer=null,this._candidates_list=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskRewardSelectMulti=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(406),a=i(407),_=i(173),l=i(173),u=function(t){function e(e,i){var n=t.call(this)||this;return n._result=null,n._onSelect=function(t){var e=PIXI.Texture.EMPTY;if(11==t.type)e=o.default.resources.getShip(t.mst_id,!1,"icon_box");else if(12==t.type)e=o.default.resources.getSlotitem(t.mst_id,"card");else if(13==t.type)e=o.default.resources.getUseitem(t.mst_id,2);else if(14==t.type){e=o.default.resources.getFurniture(t.mst_id,"reward");var i=o.default.model.furniture.getData(t.mst_id);if(null==i||1==i.has())return void n._dialog.showAlert(t)}var r=new a.TaskRewardSelectConfirm(n._layer,e);r.start(function(){1==r.result&&(n._layer.removeChild(n._dialog),n._result=t,n._endTask())})},n._layer=e,n._candidates=i,n}return n(e,t),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e.prototype._start=function(){this._loadResources()},e.prototype._loadResources=function(){for(var t=this,e=new s.TaskLoadResources,i=0,n=this._candidates;i<n.length;i++){var o=n[i];11==o.type?e.addShip(o.mst_id):12==o.type?e.addSlotitem(o.mst_id):13==o.type?e.addUseitem(o.mst_id):14==o.type&&e.addFurniture(o.mst_id)}e.start(function(){3==t._candidates.length?(t._dialog=new l.RewardSelectDialog3,t._dialog.position.set(195,164)):(t._dialog=new _.RewardSelectDialog2,t._dialog.position.set(297,164)),t._dialog.initialize(t._candidates,t._onSelect),t._layer.addChild(t._dialog),t._dialog.activate()})},e.prototype._endTask=function(){this._layer=null,this._candidates=null,this._dialog=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskRewardSelect=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("revamp_box_"+t)}t.getTexture=e}(e.REVAMP_BOX||(e.REVAMP_BOX={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(15),r=i(1210),s=function(t){function e(e){var i=t.call(this,e)||this;i._list=new Array(3);for(var n=0;n<3;n++)i._list[n]=new a;return i}return n(e,t),Object.defineProperty(e.prototype,"list",{get:function(){return this._list},enumerable:!0,configurable:!0}),e.prototype.SetAll=function(t){for(var e=0;e<3;e++){var i=t[e];this._list[e].id=o.ObjUtil.getNumber(i,"api_id"),this._list[e].slot_id=o.ObjUtil.getNumber(i,"api_slot_id"),this._list[e].req_fuel=o.ObjUtil.getNumber(i,"api_req_fuel"),this._list[e].req_bull=o.ObjUtil.getNumber(i,"api_req_bull"),this._list[e].req_steel=o.ObjUtil.getNumber(i,"api_req_steel"),this._list[e].req_bauxite=o.ObjUtil.getNumber(i,"api_req_bauxite"),this._list[e].req_buildkit=o.ObjUtil.getNumber(i,"api_req_buildkit"),this._list[e].req_remodelkit=o.ObjUtil.getNumber(i,"api_req_remodelkit"),this._list[e].req_slot_id=o.ObjUtil.getNumber(i,"api_req_slot_id"),this._list[e].req_slot_num=o.ObjUtil.getNumber(i,"api_req_slot_num")}},e.prototype.SetDetail=function(t,e){this._list[e].req_buildkit=o.ObjUtil.getNumber(t,"api_req_buildkit"),this._list[e].req_remodelkit=o.ObjUtil.getNumber(t,"api_req_remodelkit"),this._list[e].certain_buildkit=o.ObjUtil.getNumber(t,"api_certain_buildkit"),this._list[e].certain_remodelkit=o.ObjUtil.getNumber(t,"api_certain_remodelkit"),this._list[e].req_slot_id=o.ObjUtil.getNumber(t,"api_req_slot_id"),this._list[e].req_slot_num=o.ObjUtil.getNumber(t,"api_req_slot_num"),this._list[e].req_useitem_id=o.ObjUtil.getNumber(t,"api_req_useitem_id"),this._list[e].req_useitem_num=o.ObjUtil.getNumber(t,"api_req_useitem_num"),this._list[e].req_useitem_id2=o.ObjUtil.getNumber(t,"api_req_useitem_id2"),this._list[e].req_useitem_num2=o.ObjUtil.getNumber(t,"api_req_useitem_num2"),this._list[e].change_flag=o.ObjUtil.getNumber(t,"api_change_flag")},e}(r.RevampModelBase);e.RevampSlotlistModel=s;var a=function(){function t(){this._id=-1,this._slot_id=-1,this._req_fuel=-1,this._req_bull=-1,this._req_steel=-1,this._req_bauxite=-1,this._req_buildkit=-1,this._req_remodelkit=-1,this._req_slot_id=-1,this._req_slot_num=-1,this._certain_buildkit=-1,this._certain_remodelkit=-1,this._req_useitem_id=-1,this._req_useitem_num=-1,this._req_useitem_id2=-1,this._req_useitem_num2=-1,this._change_flag=-1}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slot_id",{get:function(){return this._slot_id},set:function(t){this._slot_id=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"req_fuel",{get:function(){return this._req_fuel},set:function(t){this._req_fuel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"req_bull",{get:function(){return this._req_bull},set:function(t){this._req_bull=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"req_steel",{get:function(){return this._req_steel},set:function(t){this._req_steel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"req_bauxite",{get:function(){return this._req_bauxite},set:function(t){this._req_bauxite=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"req_buildkit",{get:function(){return this._req_buildkit},set:function(t){this._req_buildkit=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"req_remodelkit",{get:function(){return this._req_remodelkit},set:function(t){this._req_remodelkit=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"req_slot_id",{get:function(){return this._req_slot_id},set:function(t){this._req_slot_id=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"req_slot_num",{get:function(){return this._req_slot_num},set:function(t){this._req_slot_num=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"certain_buildkit",{get:function(){return this._certain_buildkit},set:function(t){this._certain_buildkit=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"certain_remodelkit",{get:function(){return this._certain_remodelkit},set:function(t){this._certain_remodelkit=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"req_useitem_id",{get:function(){return this._req_useitem_id},set:function(t){this._req_useitem_id=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"req_useitem_num",{get:function(){return this._req_useitem_num},set:function(t){this._req_useitem_num=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"req_useitem_id2",{get:function(){return this._req_useitem_id2},set:function(t){this._req_useitem_id2=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"req_useitem_num2",{get:function(){return this._req_useitem_num2},set:function(t){this._req_useitem_num2=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"change_flag",{get:function(){return this._change_flag},set:function(t){this._change_flag=t},enumerable:!0,configurable:!0}),t}();e.RevampSlotlistLineModel=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),o=function(){function t(){this._o={}}return Object.defineProperty(t.prototype,"remodel_id",{get:function(){return n.ObjUtil.getNumArray(this._o,"api_remodel_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"voice_ship_id",{get:function(){return n.ObjUtil.getNumber(this._o,"api_voice_ship_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"voice_id",{get:function(){return n.ObjUtil.getNumber(this._o,"api_voice_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"after_materials",{get:function(){var t=n.ObjUtil.getNumArray(this._o,"api_after_material");for(null==t&&(t=[]);t.length<8;)t.push(0);return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"target_slotitem_memid",{get:function(){var t=this.getItemObject();return n.ObjUtil.getNumber(t,"api_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"use_slotitem_memids",{get:function(){var t=n.ObjUtil.getNumArray(this._o,"api_use_slot_id");return null==t?[]:t},enumerable:!0,configurable:!0}),t.prototype.isSuccess=function(){return 1==n.ObjUtil.getNumber(this._o,"api_remodel_flag")},t.prototype.isChanged=function(){var t=n.ObjUtil.getNumArray(this._o,"api_remodel_id");return t[0]!=t[1]},t.prototype.getItemObject=function(){return n.ObjUtil.getObject(this._o,"api_after_slot")},t}();e.RevampRemodelSlotModel=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(121))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("revamp_pager_"+t)}t.getTexture=e}(e.REVAMP_PAGER||(e.REVAMP_PAGER={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("revamp_revamp_"+t)}t.getTexture=e}(e.REVAMP_REVAMP||(e.REVAMP_REVAMP={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(121),r=i(4),s=i(0),a=i(1),_=function(t){function e(){var e=t.call(this)||this;e._slotItemParamsValue=new Array(6),e._slotItemParams=new Array(10),e._icon_m16_light=new Array(2),e._icon_stars=new Array(10),e._isCertainly=!1,e._isBtnAnime=!1,e._isRevampableByItem=!1,e._isRevampableByKit=!1,e._isFlashFinished=!0,e._isVoiceFinished=!0,e._box_bg_selected=new l,e._box_bg_selected.position.set(-15,-15),e._box_bg_selected.initialize(0,2),e._box_bg_selected.width=457,e._box_bg_selected.height=192,e.addChild(e._box_bg_selected),e._box_set_bg=new PIXI.Sprite(o.REVAMP_BOX.getTexture(1)),e._box_set_bg.position.set(0,0),e.addChild(e._box_set_bg),e._frame_item=new PIXI.Sprite(o.REVAMP_BOX.getTexture(15)),e._frame_item.position.set(6,6),e.addChild(e._frame_item),e._frame_name=new PIXI.Sprite(o.REVAMP_BOX.getTexture(16)),e._frame_name.position.set(85,6),e.addChild(e._frame_name),e._icon_m1=new PIXI.Sprite(o.REVAMP_BOX.getTexture(18)),e._icon_m1.position.set(7,88),e.addChild(e._icon_m1),e._icon_m2=new PIXI.Sprite(o.REVAMP_BOX.getTexture(20)),e._icon_m2.position.set(73,88),e.addChild(e._icon_m2),e._icon_m3=new PIXI.Sprite(o.REVAMP_BOX.getTexture(21)),e._icon_m3.position.set(142,88),e.addChild(e._icon_m3),e._icon_m4=new PIXI.Sprite(o.REVAMP_BOX.getTexture(22)),e._icon_m4.position.set(210,88),e.addChild(e._icon_m4),e._icon_m8=new PIXI.Sprite(o.REVAMP_BOX.getTexture(23)),e._icon_m8.position.set(7,120),e.addChild(e._icon_m8),e._icon_m16=new PIXI.Sprite(o.REVAMP_BOX.getTexture(24)),e._icon_m16.position.set(70,120),e.addChild(e._icon_m16),e._slotItemIcon=new PIXI.Sprite,e._slotItemIcon.position.set(43,45),e._slotItemIcon.anchor.set(.5,.5),e._slotItemIcon.scale.set(.2,.2),e.addChild(e._slotItemIcon),e._slotItemIcon_mask=new PIXI.Graphics,e._slotItemIcon_mask.beginFill(16777215),e._slotItemIcon_mask.drawRect(0,0,82,85),e._slotItemIcon_mask.endFill(),e.addChild(e._slotItemIcon_mask),e._slotItemIcon.mask=e._slotItemIcon_mask,e._slotTypeItemIcon=new PIXI.Sprite,e._slotTypeItemIcon.position.set(108,28),e._slotTypeItemIcon.anchor.set(.5,.5),e.addChild(e._slotTypeItemIcon),e._frame_name_length_mask=new PIXI.Graphics,e._frame_name_length_mask.beginFill(16777215),e._frame_name_length_mask.drawRect(130,10,291,36),e.addChild(e._frame_name_length_mask),e._slotItemName=new r.TextBox(21,4999235),e._slotItemName.text="",e._slotItemName.mask=e._frame_name_length_mask,e._slotItemName.position.set(132,15),e.addChild(e._slotItemName),e._frame_name_mask=new PIXI.Sprite(o.REVAMP_BOX.getTexture(17)),e._frame_name_mask.scale.set(.4,1),e._frame_name_mask.position.set(373,10),e.addChild(e._frame_name_mask),e._frame_name_mask2=new PIXI.Sprite(o.REVAMP_BOX.getTexture(17)),e._frame_name_mask2.visible=!1,e._frame_name_mask2.position.set(301,10),e.addChild(e._frame_name_mask2);for(var i=0;i<4;i++)e._slotItemParams[i]=new r.TextBox(17,4999235),e._slotItemParams[i].position.set(37+67*i,91),e._slotItemParams[i].text="",e.addChild(e._slotItemParams[i]);for(var i=4;i<6;i++)e._slotItemParams[i]=new r.TextBox(17,4999235),e._slotItemParams[i].position.set(37+61*(i-4),129),e._slotItemParams[i].text="",e.addChild(e._slotItemParams[i]);e._btn_select=new PIXI.Sprite(o.REVAMP_BOX.getTexture(10)),e._btn_select.position.set(282,91),e.addChild(e._btn_select),e._btn_cancel=new l,e._btn_cancel.initialize(4,6),e._btn_cancel.visible=!1,e._btn_cancel.position.set(282,90),e.addChild(e._btn_cancel),e._btn_start=new l,e._btn_start.initialize(12,14),e._btn_start.visible=!1,e._btn_start.position.set(282,121),e.addChild(e._btn_start),e._icon_quickly=new PIXI.Sprite(o.REVAMP_BOX.getTexture(26)),e._icon_quickly.visible=!1,e._icon_quickly.position.set(351,49),e.addChild(e._icon_quickly),e._switch_btn=new l,e._switch_btn.initialize(8,8),e._switch_btn.visible=!1,e._switch_btn.position.set(337,64),e.addChild(e._switch_btn),e._switch_btn_maru=new PIXI.Sprite(o.REVAMP_BOX.getTexture(7)),e._switch_btn_maru.visible=!1,e._switch_btn_maru.position.set(402,64),e.addChild(e._switch_btn_maru);for(var i=0;i<2;i++)e._icon_m16_light[i]=new PIXI.Sprite(o.REVAMP_BOX.getTexture(19)),e._icon_m16_light[i].visible=!1,e._icon_m16_light[i].position.set(64*i-1,111),e.addChild(e._icon_m16_light[i]);for(var i=0;i<10;i++)e._icon_stars[i]=new PIXI.Sprite(o.REVAMP_BOX.getTexture(27)),e._icon_stars[i].visible=!1,e._icon_stars[i].position.set(85+19*i,60),e.addChild(e._icon_stars[i]);return e._icon_star=new PIXI.Sprite(o.REVAMP_BOX.getTexture(27)),e._icon_star.visible=!1,e._icon_star.position.set(376,19),e.addChild(e._icon_star),e._icon_plus=new PIXI.Sprite(o.REVAMP_BOX.getTexture(25)),e._icon_plus.visible=!1,e._icon_plus.position.set(393,22),e.addChild(e._icon_plus),e._text_level=new r.TextBox(17,4565413),e._text_level.visible=!1,e._text_level.position.set(406,18),e._text_level.text="",e.addChild(e._text_level),e._icon_starM=new PIXI.Sprite(o.REVAMP_BOX.getTexture(28)),e._icon_starM.visible=!1,e._icon_starM.position.set(387,13),e.addChild(e._icon_starM),e._need_item=new PIXI.Sprite(o.REVAMP_BOX.getTexture(31)),e._need_item.visible=!1,e._need_item.position.set(132,121),e.addChild(e._need_item),e._box_white_bg=new PIXI.Sprite(o.REVAMP_BOX.getTexture(3)),e._box_white_bg.visible=!0,e._box_white_bg.alpha=0,e.addChild(e._box_white_bg),e}return n(e,t),Object.defineProperty(e.prototype,"isCertainly",{get:function(){return this._isCertainly?1:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFlashFinished",{get:function(){return this._isFlashFinished},set:function(t){this._isFlashFinished=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVoiceFinished",{set:function(t){this._isVoiceFinished=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"box_bg_selected",{get:function(){return this._box_bg_selected},set:function(t){this._box_bg_selected=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slotItemIcon",{get:function(){return this._slotItemIcon},set:function(t){this._slotItemIcon=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slotTypeItemIcon",{get:function(){return this._slotTypeItemIcon},set:function(t){this._slotTypeItemIcon=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slotItemName",{get:function(){return this._slotItemName},set:function(t){this._slotItemName=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slotItemParamsValue",{get:function(){return this._slotItemParamsValue},set:function(t){this._slotItemParamsValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slotItemParams",{get:function(){return this._slotItemParams},set:function(t){this._slotItemParams=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_select",{get:function(){return this._btn_select},set:function(t){this._btn_select=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_cancel",{get:function(){return this._btn_cancel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_start",{get:function(){return this._btn_start},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon_quickly",{get:function(){return this._icon_quickly},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"switch_btn",{get:function(){return this._switch_btn},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon_m16_light",{get:function(){return this._icon_m16_light},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"need_item",{get:function(){return this._need_item},enumerable:!0,configurable:!0}),e.prototype.SlotItemParamsUpdate=function(){for(var t=0;t<6;t++)this._slotItemParams[t].text=(t>3?"x":"")+this._slotItemParamsValue[t].toString()},e.prototype.SetNumbers=function(t,e){this._slotItemParams[4].text="x"+t,this._slotItemParams[5].text="x"+e,this._req_buildkit=t,this._req_remodelkit=e},e.prototype.SetDetailNumbers=function(t,e,i){this._certain_buildkit=t,this._certain_remodelkit=e,this._revampableItems=i},e.prototype.ToggleCertainSwitch=function(){var t=this;this._isBtnAnime||(this._isBtnAnime=!0,this._isCertainly?(this._isCertainly=!1,this._tween0=createjs.Tween.get(this._switch_btn_maru).to({x:402},233,createjs.Ease.cubicOut).call(function(){t._tween0=null;for(var e=0;e<2;e++)t._icon_m16_light[e].visible=!1;t._switch_btn.dispose(),t._switch_btn.initialize(8,8),t._slotItemParams[4].text="x"+t._req_buildkit,t._slotItemParams[5].text="x"+t._req_remodelkit,t.CheckGoBtnNyCertainly()})):(this._isCertainly=!0,this._tween0=createjs.Tween.get(this._switch_btn_maru).to({x:337},233,createjs.Ease.cubicOut).call(function(){t._tween0=null;for(var e=0;e<2;e++)t._icon_m16_light[e].visible=!0;t._switch_btn.dispose(),t._switch_btn.initialize(9,9),t._slotItemParams[4].text="x"+t._certain_buildkit,t._slotItemParams[5].text="x"+t._certain_remodelkit,t.CheckGoBtnNyCertainly()})))},e.prototype.SetSwitchReset=function(){this._switch_btn_maru.position.set(402,64);for(var t=0;t<2;t++)this._icon_m16_light[t].visible=!1;this._switch_btn.dispose(),this._switch_btn.initialize(8,8),this._slotItemParams[4].text="x"+this._req_buildkit,this._slotItemParams[5].text="x"+this._req_remodelkit,this._isCertainly=!1},e.prototype.SetDetail=function(t){this._isCertainly=!1,this._box_bg_selected.visible=!t,this._box_bg_selected.interactive=this._box_bg_selected.buttonMode=!t,this._btn_select.visible=!t,this._btn_cancel.visible=t,this._btn_cancel.interactive=this._btn_cancel.buttonMode=t,this._btn_start.visible=t,this._btn_start.interactive=this._btn_start.buttonMode=t,this._icon_quickly.visible=t,this._switch_btn.visible=t,this._switch_btn.interactive=this._switch_btn.buttonMode=t,this._switch_btn_maru.visible=t,this._need_item.visible=t;for(var e=0;e<2;e++)this._icon_m16_light[e].visible=!1;t?this._btn_cancel.texture=o.REVAMP_BOX.getTexture(4):(this.SetStarts(0),this.SetSwitchReset(),this._need_item.texture=o.REVAMP_BOX.getTexture(31),this._btn_start.dispose(),this._btn_start.initialize(12,14),this._btn_start.interactive=this._btn_start.buttonMode=!0)},e.prototype.CheckGoBtnNyCertainly=function(){var t=!0;this._isCertainly?(this._certain_buildkit>s.default.model.useItem.getMaterialCounts().devKit||this._certain_remodelkit>s.default.model.useItem.getMaterialCounts().revKit)&&(t=!1):(this._req_buildkit>s.default.model.useItem.getMaterialCounts().devKit||this._req_remodelkit>s.default.model.useItem.getMaterialCounts().revKit)&&(t=!1),(this._slotItemParamsValue[0]>s.default.model.useItem.getMaterialCounts().fuel||this._slotItemParamsValue[1]>s.default.model.useItem.getMaterialCounts().ammo||this._slotItemParamsValue[2]>s.default.model.useItem.getMaterialCounts().steel||this._slotItemParamsValue[3]>s.default.model.useItem.getMaterialCounts().baux)&&(t=!1),this._isRevampableByKit=t,this.SetGoBtn()},e.prototype.CheckGoBtnByItem=function(t,e,i){var n=!0;t.req_slot_num>e&&(n=!1),0==t.req_buildkit&&0==t.req_remodelkit&&(this.SetNumbers(0,0),this._slotItemParams[4].text="x"+this._certain_buildkit,this._slotItemParams[5].text="x"+this._certain_remodelkit,n=!1),1==t.change_flag&&i&&(n=!1),t.req_useitem_num>s.default.model.useItem.getCount(t.req_useitem_id)&&(n=!1),t.req_useitem_num2>0&&t.req_useitem_num2>s.default.model.useItem.getCount(t.req_useitem_id2)&&(n=!1),this._isRevampableByItem=n,this.SetGoBtn()},e.prototype.CheckNeedItem=function(t){71==t.req_useitem_id?this._need_item.texture=o.REVAMP_BOX.getTexture(30):0!=t.req_slot_num?this._need_item.texture=o.REVAMP_BOX.getTexture(32):this._need_item.texture=o.REVAMP_BOX.getTexture(31)},e.prototype.SetGoBtn=function(){this._isRevampableByItem&&this._isRevampableByKit?(this._btn_start.dispose(),this._btn_start.initialize(12,14),this._btn_start.interactive=this._btn_start.buttonMode=!0):(this._btn_start.dispose(),this._btn_start.initialize(13,13),this._btn_start.interactive=this._btn_start.buttonMode=!1),this._isBtnAnime=!1},e.prototype.SetStarts=function(t){for(var e=0;e<t;e++)this._icon_stars[e].visible=!0;for(var e=t;e<10;e++)this._icon_stars[e].visible=!1;this._frame_name_mask2.visible=!0,t<1?(this._frame_name_mask2.visible=!1,this._icon_star.visible=!1,this._icon_plus.visible=!1,this._text_level.visible=!1,this._text_level.text="",this._icon_starM.visible=!1):t<10?(this._icon_star.visible=!0,this._icon_plus.visible=!0,this._text_level.visible=!0,this._text_level.text=t+"",this._icon_starM.visible=!1):(this._icon_star.visible=!1,this._icon_plus.visible=!1,this._text_level.visible=!1,this._text_level.text="",this._icon_starM.visible=!0)},e.prototype.initialize=function(){},e.prototype.RevampFlash=function(t){this._btn_start.dispose(),this._btn_start.initialize(13,13),this._btn_start.interactive=this._btn_start.buttonMode=!1,this._btn_cancel.dispose(),this._btn_cancel.initialize(5,5),this._btn_cancel.interactive=this._btn_start.buttonMode=!1,this._switch_btn.interactive=this._btn_start.buttonMode=!1,this._isVoiceFinished=!1,this._isFlashFinished=!1,t.voice_ship_id,this._blinkBox(),this._shakeBox()},e.prototype.noVoiceWait=function(t){var e=this;this._tween0=createjs.Tween.get(this).wait(t).call(function(){e._tween0=null,e._isVoiceFinished=!0})},e.prototype._blinkBox=function(){var t=this;this._tween1=createjs.Tween.get(this).to({alpha:0},750,createjs.Ease.sineIn).to({alpha:1},750,createjs.Ease.cubicInOut).call(function(){t._tween1=null,t._isVoiceFinished?t._flashBox():t._blinkBox()})},e.prototype._shakeBox=function(){var t=this;this._tween2=createjs.Tween.get(this).to({x:163},50).to({x:172},50).call(function(){t._tween2=null,t._isVoiceFinished?t.position.set(168,339):t._shakeBox()})},e.prototype._flashBox=function(){var t=this;this._tween3=createjs.Tween.get(this._box_white_bg).to({alpha:1},1e3).call(function(){t._tween3=null,t._isFlashFinished=!0})},e.prototype.FlashBoxOff=function(){var t=this;this._tween3=createjs.Tween.get(this._box_white_bg).to({alpha:0},500).call(function(){t._tween3=null})},e.prototype.dispose=function(){this.removeChildren(),this._slotItemName.destroy(),this._slotItemName=null,this._slotItemParams.forEach(function(t){t.destroy()}),this._slotItemParams=null,this._text_level.destroy(),this._text_level=null,this._icon_m16_light=null,this._icon_stars=null},e}(PIXI.Container);e.RevampRecipeBox=_;var l=function(t){function e(){var e=t.call(this)||this;return e._onMouseOver=function(){e._setTexture(e._texture_no_on)},e._onMouseOut=function(){e._setTexture(e._texture_no)},e}return n(e,t),e.prototype.initialize=function(t,e){this._texture_no=t,this._texture_no_on=e,this._setTexture(this._texture_no),null!=this._texture_no_on&&(this.interactive=this.buttonMode=!0,this.on(a.EventType.MOUSEOVER,this._onMouseOver),this.on(a.EventType.MOUSEOUT,this._onMouseOut))},e.prototype.dispose=function(){this.interactive=this.buttonMode=!1,this.off(a.EventType.MOUSEOVER,this._onMouseOver),this.off(a.EventType.MOUSEOUT,this._onMouseOut)},e.prototype._setTexture=function(t){this.texture=o.REVAMP_BOX.getTexture(t)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(4),s=i(134),a=i(425),_=i(428),l=function(t){function e(){var e=t.call(this)||this;e._fuki1_serif=new Array(8),e._fuki2_serif=new Array(2),e._fuki3_serif=new Array(5),e._fuki4_serif=new Array(2),e._fuki1_bg=new PIXI.Sprite(a.REVAMP_REVAMP.getTexture(16)),e._fuki1_bg.position.set(-33,4),e.addChild(e._fuki1_bg);for(var i=0;i<8;i++)e._fuki1_serif[i]=new r.TextBox(19,98690),e._fuki1_serif[i].scale.set(.95,1),e.addChild(e._fuki1_serif[i]);e._fuki1_mask0=new PIXI.Graphics,e._fuki1_mask0.beginFill(0),e._fuki1_mask0.drawRect(0,0,320,25),e._fuki1_mask0.endFill(),e._fuki1_serif[0].addChild(e._fuki1_mask0),e._fuki1_serif[0].mask=e._fuki1_mask0,e._fuki1_mask1=new PIXI.Graphics,e._fuki1_mask1.beginFill(0),e._fuki1_mask1.drawRect(3,0,320,25),e._fuki1_mask1.endFill(),e._fuki1_serif[1].addChild(e._fuki1_mask1),e._fuki1_serif[1].mask=e._fuki1_mask1,e._fuki1_slot_mask=new PIXI.Sprite(a.REVAMP_REVAMP.getTexture(20)),e._fuki1_slot_mask.position.set(0,0),e.addChild(e._fuki1_slot_mask),e._fuki2_bg=new PIXI.Sprite(a.REVAMP_REVAMP.getTexture(17)),e._fuki2_bg.position.set(7,294),e.addChild(e._fuki2_bg);for(var i=0;i<2;i++)e._fuki2_serif[i]=new r.TextBox(21,4999235),e._fuki2_serif[i].text="",e._fuki2_serif[i].anchor.set(1,0),e._fuki2_serif[i].position.set(253,314+34*i),e.addChild(e._fuki2_serif[i]);e._fuki3_bg=new PIXI.Sprite(a.REVAMP_REVAMP.getTexture(19)),e._fuki3_bg.position.set(-33,189),e.addChild(e._fuki3_bg);for(var i=0;i<6;i++)e._fuki3_serif[i]=new r.TextBox(19,98690),e._fuki3_serif[i].scale.set(.95,1),e.addChild(e._fuki3_serif[i]);return e._fuki4_bg=new PIXI.Sprite(a.REVAMP_REVAMP.getTexture(18)),e._fuki4_bg.position.set(-453,-30),e.addChild(e._fuki4_bg),e._fuki4_icon_type=new PIXI.Sprite(a.REVAMP_REVAMP.getTexture(14)),e._fuki4_icon_type.anchor.set(.5,.5),e._fuki4_icon_type.position.set(-417,26),e.addChild(e._fuki4_icon_type),e._fuki4_serif[0]=new r.TextBox(22,4999235),e._fuki4_serif[0].position.set(-426,-22),e.addChild(e._fuki4_serif[0]),e._fuki4_mask=new PIXI.Graphics,e._fuki4_mask.beginFill(16777215),e._fuki4_mask.drawRect(-400,12,270,39),e.addChild(e._fuki4_mask),e._fuki4_serif[1]=new r.TextBox(22,98690),e._fuki4_serif[1].position.set(-394,12),e._fuki4_serif[1].mask=e._fuki4_mask,e.addChild(e._fuki4_serif[1]),e._fuki4_slot_mask=new PIXI.Sprite(a.REVAMP_REVAMP.getTexture(15)),e._fuki4_slot_mask.position.set(-261,4),e.addChild(e._fuki4_slot_mask),e._fuki4_star=new PIXI.Sprite(a.REVAMP_REVAMP.getTexture(22)),e._fuki4_star.position.set(-429,48),e.addChild(e._fuki4_star),e._fuki4_plus=new PIXI.Sprite(a.REVAMP_REVAMP.getTexture(21)),e._fuki4_plus.position.set(-411,52),e.addChild(e._fuki4_plus),e._fuki4_starnum=new r.TextBox(22,98690),e._fuki4_starnum.position.set(-397,46),e._fuki4_starnum.text="",e.addChild(e._fuki4_starnum),e._fuki4_starM=new PIXI.Sprite(a.REVAMP_REVAMP.getTexture(23)),e._fuki4_starM.position.set(-426,45),e.addChild(e._fuki4_starM),e._revampLevelParticleLayer=new _.RevampLevelParticleLayer,e._revampLevelParticleLayer.position.set(-447,27),e.addChild(e._revampLevelParticleLayer),e._setBalloon1(9),e._setBalloon2(1),e._setBalloon3(0,0),e._setBalloon4(0),e}return n(e,t),e.prototype._setBalloon4=function(t){0==t?(this._fuki4_bg.visible=!1,this._fuki4_serif[0].visible=!1,this._fuki4_serif[1].visible=!1,this._fuki4_icon_type.visible=!1,this._fuki4_slot_mask.visible=!1,this._fuki4_star.visible=!1,this._fuki4_plus.visible=!1,this._fuki4_starnum.visible=!1,this._fuki4_starM.visible=!1,this.SetResultBalloonKira(!1)):(this._fuki4_bg.visible=!0,this._fuki4_serif[0].visible=!0,this._fuki4_serif[1].visible=!0,this._fuki4_icon_type.visible=!0,this._fuki4_slot_mask.visible=!0,this._fuki4_star.visible=!0,this._fuki4_plus.visible=!0,this._fuki4_starnum.visible=!0,this._fuki4_starM.visible=!0),1==t&&(this._fuki4_serif[0].text="",this._fuki4_serif[1].text="",this._fuki4_starnum.text="")},e.prototype._setBalloon3=function(t,e){if(0==t){this._fuki3_bg.visible=!1;for(var i=0;i<6;i++)this._fuki3_serif[i].visible=!1}else{this._fuki3_bg.visible=!0;for(var i=0;i<6;i++)this._fuki3_serif[i].visible=!0}if(0==e){for(var i=3;i<6;i++)this._fuki3_serif[i].visible=!1;this._fuki3_serif[0].position.set(20,215)}else{for(var i=3;i<6;i++)this._fuki3_serif[i].visible=!0;this._fuki3_serif[0].position.set(20,193)}1==t?(this._fuki3_serif[0].style.fontSize=19,this._fuki3_serif[0].style.fill=98690,this._fuki3_serif[0].text="",this._fuki3_serif[1].style.fontSize=19,this._fuki3_serif[1].style.fill=4999235,this._fuki3_serif[1].text="\u304c\u5fc5\u8981\u3067\u3059\u3002",this._fuki3_serif[1].position.set(this._fuki3_serif[0].position.x+this._fuki3_serif[0].width,this._fuki3_serif[0].position.y),this._fuki3_serif[2].style.fontSize=18,this._fuki3_serif[2].style.fill=4999235,this._fuki3_serif[2].text=""):2==t&&(this._fuki3_serif[0].style.fontSize=19,this._fuki3_serif[0].style.fill=15859712,this._fuki3_serif[0].text="",this._fuki3_serif[1].style.fontSize=19,this._fuki3_serif[1].style.fill=15859712,this._fuki3_serif[1].text="\u304c\u5fc5\u8981\u3067\u3059\u3002",this._fuki3_serif[1].position.set(this._fuki3_serif[0].position.x+this._fuki3_serif[0].width,this._fuki3_serif[0].position.y),this._fuki3_serif[2].style.fontSize=18,this._fuki3_serif[2].style.fill=4999235,this._fuki3_serif[2].text=""),1==e?(this._fuki3_serif[3].style.fontSize=19,this._fuki3_serif[3].style.fill=98690,this._fuki3_serif[3].text="",this._fuki3_serif[4].style.fontSize=19,this._fuki3_serif[4].style.fill=4999235,this._fuki3_serif[4].text="\u304c\u5fc5\u8981\u3067\u3059\u3002",this._fuki3_serif[4].position.set(this._fuki3_serif[3].position.x+this._fuki3_serif[3].width,this._fuki3_serif[3].position.y),this._fuki3_serif[5].style.fontSize=18,this._fuki3_serif[5].style.fill=4999235,this._fuki3_serif[5].text=""):2==e&&(this._fuki3_serif[3].style.fontSize=19,this._fuki3_serif[3].style.fill=15859712,this._fuki3_serif[3].text="",this._fuki3_serif[4].style.fontSize=19,this._fuki3_serif[4].style.fill=15859712,this._fuki3_serif[4].text="\u304c\u5fc5\u8981\u3067\u3059\u3002",this._fuki3_serif[4].position.set(this._fuki3_serif[3].position.x+this._fuki3_serif[3].width,this._fuki3_serif[3].position.y),this._fuki3_serif[5].style.fontSize=18,this._fuki3_serif[5].style.fill=4999235,this._fuki3_serif[5].text="")},e.prototype._setBalloon2=function(t){0==t?(this._fuki2_serif[0].visible=!1,this._fuki2_serif[1].visible=!1,this._fuki2_bg.visible=!1):(this._fuki2_serif[0].visible=!0,this._fuki2_serif[1].visible=!0,this._fuki2_bg.visible=!0),this._fuki2_serif[0].text=o.default.model.useItem.getMaterialCounts().devKit+"",this._fuki2_serif[1].text=o.default.model.useItem.getMaterialCounts().revKit+""},e.prototype._setBalloon1=function(t){if(0==t){for(var e=0;e<8;e++)this._fuki1_serif[e].visible=!1;this._fuki1_bg.visible=!1,this._fuki1_slot_mask.visible=!1}else{for(var e=0;e<8;e++)this._fuki1_serif[e].visible=!0;this._fuki1_bg.visible=!0,this._fuki1_slot_mask.visible=!0}9==t?(this._fuki1_serif[0].style.fontSize=22,this._fuki1_serif[0].style.fill=4999235,this._fuki1_serif[0].text="\u63d0\u7763\u3001\u660e\u77f3\u306e\u5de5\u5ee0\u3078\u3088\u3046\u3053\u305d\uff01",this._fuki1_serif[0].position.set(21,67),this._fuki1_serif[1].style.fontSize=22,this._fuki1_serif[1].style.fill=4999235,this._fuki1_serif[1].text="\u3069\u306e\u88c5\u5099\u306e\u6539\u4fee\u3092\u8a66\u307f\u307e\u3059\u304b\uff1f",this._fuki1_serif[1].position.set(21,93),this._fuki1_serif[2].style.fontSize=19,this._fuki1_serif[2].style.fill=4999235,this._fuki1_serif[2].text="",this._fuki1_serif[2].position.set(21,82),this._fuki1_serif[3].style.fontSize=19,this._fuki1_serif[3].style.fill=98690,this._fuki1_serif[3].text="",this._fuki1_serif[3].position.set(21,103),this._fuki1_serif[4].style.fontSize=19,this._fuki1_serif[4].style.fill=4999235,this._fuki1_serif[4].text="",this._fuki1_serif[4].position.set(21,124),this._fuki1_serif[5].style.fontSize=15,this._fuki1_serif[5].style.fill=4999235,this._fuki1_serif[5].text="",this._fuki1_serif[5].position.set(132,144),this._fuki1_serif[6].style.fontSize=15,this._fuki1_serif[6].style.fill=4999235,this._fuki1_serif[6].text="",this._fuki1_serif[6].position.set(21,153),this._fuki1_serif[7].style.fontSize=15,this._fuki1_serif[7].style.fill=98690,this._fuki1_serif[7].text="",this._fuki1_serif[7].position.set(174,153),this._fuki1_slot_mask.visible=!1):1==t?(this._fuki1_serif[0].style.fontSize=22,this._fuki1_serif[0].style.fill=98690,this._fuki1_serif[0].text="",this._fuki1_serif[0].position.set(21,64),this._fuki1_serif[1].style.fontSize=21,this._fuki1_serif[1].style.fill=4999235,this._fuki1_serif[1].text="\u3092\u3001\u6539\u4fee\u3057\u307e\u3059\u306d\uff01",this._fuki1_serif[1].position.set(21,90),this._fuki1_serif[2].style.fontSize=19,this._fuki1_serif[2].style.fill=4999235,this._fuki1_serif[2].text="",this._fuki1_serif[2].position.set(21,82),this._fuki1_serif[3].style.fontSize=19,this._fuki1_serif[3].style.fill=98690,this._fuki1_serif[3].text="",this._fuki1_serif[3].position.set(21,103),this._fuki1_serif[4].style.fontSize=19,this._fuki1_serif[4].style.fill=4999235,this._fuki1_serif[4].text="",this._fuki1_serif[4].position.set(21,124),this._fuki1_serif[5].style.fontSize=15,this._fuki1_serif[5].style.fill=4999235,this._fuki1_serif[5].text="",this._fuki1_serif[5].position.set(132,129),this._fuki1_serif[6].style.fontSize=15,this._fuki1_serif[6].style.fill=4999235,this._fuki1_serif[6].text="",this._fuki1_serif[6].position.set(21,153),this._fuki1_serif[7].style.fontSize=15,this._fuki1_serif[7].style.fill=98690,this._fuki1_serif[7].text="",this._fuki1_serif[7].position.set(174,153),this._fuki1_slot_mask.visible=!0,this._fuki1_slot_mask.position.set(231,50)):2==t?(this._fuki1_serif[0].style.fontSize=19,this._fuki1_serif[0].style.fill=98690,this._fuki1_serif[0].text="",this._fuki1_serif[0].position.set(21,19),this._fuki1_serif[1].style.fontSize=19,this._fuki1_serif[1].style.fill=4999235,this._fuki1_serif[1].text="\u3092\u3001\u6539\u4fee\u3057\u307e\u3059\u306d\uff01",this._fuki1_serif[1].position.set(21,42),this._fuki1_serif[2].style.fontSize=19,this._fuki1_serif[2].style.fill=4999235,this._fuki1_serif[2].text="\u3053\u306e\u6539\u4fee\u306b\u306f\u3001\u7121\u6539\u4fee\u306e",this._fuki1_serif[2].position.set(21,82),this._fuki1_serif[3].style.fontSize=19,this._fuki1_serif[3].style.fill=98690,this._fuki1_serif[3].text="",this._fuki1_serif[3].position.set(21,103),this._fuki1_serif[4].style.fontSize=19,this._fuki1_serif[4].style.fill=4999235,this._fuki1_serif[4].text="\u304c\u5fc5\u8981\u3067\u3059\u3002",this._fuki1_serif[4].position.set(21,124),this._fuki1_serif[5].style.fontSize=15,this._fuki1_serif[5].style.fill=4999235,this._fuki1_serif[5].text="\uff08\u203b\u6539\u4fee\u3067\u6d88\u8cbb\u3057\u307e\u3059\uff09",this._fuki1_serif[5].position.set(132,129),this._fuki1_serif[6].style.fontSize=15,this._fuki1_serif[6].style.fill=4999235,this._fuki1_serif[6].text="\u540c\u6539\u4fee\u6d88\u8cbb\u53ef\u80fd\u88c5\u5099\u6570",this._fuki1_serif[6].position.set(21,153),this._fuki1_serif[7].style.fontSize=15,this._fuki1_serif[7].style.fill=98690,this._fuki1_serif[7].text="\xd7",this._fuki1_serif[7].position.set(162,153),this._fuki1_slot_mask.visible=!0,this._fuki1_slot_mask.position.set(231,7)):3==t?(this._fuki1_serif[0].style.fontSize=19,this._fuki1_serif[0].style.fill=98690,this._fuki1_serif[0].text="",this._fuki1_serif[0].position.set(21,19),this._fuki1_serif[1].style.fontSize=19,this._fuki1_serif[1].style.fill=4999235,this._fuki1_serif[1].text="\u3092\u3001\u6539\u4fee\u3057\u307e\u3059\u306d\uff01",this._fuki1_serif[1].position.set(21,42),this._fuki1_serif[2].style.fontSize=19,this._fuki1_serif[2].style.fill=16711680,this._fuki1_serif[2].text="\u3053\u306e\u6539\u4fee\u306b\u5fc5\u8981\u3068\u306a\u308b",this._fuki1_serif[2].position.set(21,82),this._fuki1_serif[3].style.fontSize=19,this._fuki1_serif[3].style.fill=16711680,this._fuki1_serif[3].text="(\u7121\u6539\u4fee)",this._fuki1_serif[3].position.set(21,103),this._fuki1_serif[4].style.fontSize=19,this._fuki1_serif[4].style.fill=98690,this._fuki1_serif[4].text="",this._fuki1_serif[4].position.set(21,124),this._fuki1_serif[5].style.fontSize=19,this._fuki1_serif[5].style.fill=16711680,this._fuki1_serif[5].text="\u304c\u8db3\u308a\u307e\u305b\u3093\u3002",this._fuki1_serif[5].position.set(21,145),this._fuki1_serif[6].style.fontSize=15,this._fuki1_serif[6].style.fill=4999235,this._fuki1_serif[6].text="",this._fuki1_serif[6].position.set(21,153),this._fuki1_serif[7].style.fontSize=15,this._fuki1_serif[7].style.fill=98690,this._fuki1_serif[7].text="",this._fuki1_serif[7].position.set(168,153),this._fuki1_slot_mask.visible=!0,this._fuki1_slot_mask.position.set(231,7)):4==t&&(this._fuki1_serif[0].style.fontSize=19,this._fuki1_serif[0].style.fill=16711680,this._fuki1_serif[0].text="\u73fe\u5728\u9078\u629e\u3055\u308c\u305f\u88c5\u5099",this._fuki1_serif[0].position.set(21,39),this._fuki1_serif[1].style.fontSize=19,this._fuki1_serif[1].style.fill=98690,this._fuki1_serif[1].text="",this._fuki1_serif[1].position.set(21,61),this._fuki1_serif[2].style.fontSize=19,this._fuki1_serif[2].style.fill=16711680,this._fuki1_serif[2].text="\u306f\u3001\u3053\u308c\u4ee5\u4e0a\u306e\u6539\u4fee\u304c\u3067\u304d\u307e\u305b\u3093\u3002",this._fuki1_serif[2].position.set(21,82),this._fuki1_serif[3].style.fontSize=19,this._fuki1_serif[3].style.fill=16711680,this._fuki1_serif[3].text="",this._fuki1_serif[3].position.set(21,103),this._fuki1_serif[4].style.fontSize=19,this._fuki1_serif[4].style.fill=98690,this._fuki1_serif[4].text="",this._fuki1_serif[4].position.set(21,124),this._fuki1_serif[5].style.fontSize=19,this._fuki1_serif[5].style.fill=16711680,this._fuki1_serif[5].text="",this._fuki1_serif[5].position.set(21,145),this._fuki1_serif[6].style.fontSize=15,this._fuki1_serif[6].style.fill=4999235,this._fuki1_serif[6].text="",this._fuki1_serif[6].position.set(21,153),this._fuki1_serif[7].style.fontSize=15,this._fuki1_serif[7].style.fill=98690,this._fuki1_serif[7].text="",this._fuki1_serif[7].position.set(168,153),this._fuki1_slot_mask.visible=!0,this._fuki1_slot_mask.position.set(231,40))},e.prototype.ResetBaloon=function(){this._setBalloon1(9),this._setBalloon3(0,0),this._setBalloon4(0)},e.prototype._setstars=function(t){0==t?(this._fuki4_star.visible=!1,this._fuki4_plus.visible=!1,this._fuki4_starnum.visible=!1,this._fuki4_starM.visible=!1,this._fuki4_starnum.text=""):t<10?(this._fuki4_star.visible=!0,this._fuki4_plus.visible=!0,this._fuki4_starnum.visible=!0,this._fuki4_starM.visible=!1,this._fuki4_starnum.text=t+""):(this._fuki4_star.visible=!1,this._fuki4_plus.visible=!1,this._fuki4_starnum.visible=!1,this._fuki4_starM.visible=!0,this._fuki4_starnum.text="")},e.prototype.SetResultBalloon=function(t,e,i){if(t){this._fuki4_serif[0].text="\u6539\u4fee\u306b\u6210\u529f\u3057\u307e\u3057\u305f\uff01";var n=o.default.model.slot.getMst(e).iconType;switch(this._fuki4_icon_type.texture=s.COMMON_ICON_WEAPON.getTextureFromMstID(n),n){case 4:this._fuki4_icon_type.position.y=23;break;case 5:case 13:this._fuki4_icon_type.position.y=25;break;case 15:this._fuki4_icon_type.position.y=23;break;case 16:this._fuki4_icon_type.position.y=25;break;case 23:this._fuki4_icon_type.position.y=24;break;case 24:case 34:this._fuki4_icon_type.position.y=27;break;case 36:case 42:this._fuki4_icon_type.position.y=24;break;case 43:this._fuki4_icon_type.position.y=25;break;default:this._fuki4_icon_type.position.y=26}this._fuki4_serif[1].text=o.default.model.slot.getMst(e).name,this._fuki4_serif[1].visible=!0,this._fuki4_icon_type.visible=!0,this._fuki4_slot_mask.visible=!0,this._setstars(i)}else this._fuki4_serif[0].text="\u6539\u4fee\u306b\u5931\u6557\u3057\u307e\u3057\u305f...\u3002",this._fuki4_serif[1].visible=!1,this._fuki4_icon_type.visible=!1,this._fuki4_slot_mask.visible=!1,this._fuki4_star.visible=!1,this._fuki4_plus.visible=!1,this._fuki4_starnum.visible=!1,this._fuki4_starM.visible=!1},e.prototype.SetResultBalloonKira=function(t){this._revampLevelParticleLayer.visible=t,t?this._revampLevelParticleLayer.initialize():this._revampLevelParticleLayer.dispose()},e.prototype.SetBalloon=function(t,e,i){0==t.req_buildkit&&0==t.req_remodelkit?(this._setBalloon1(4),this._fuki1_serif[1].text=o.default.model.slot.getMst(t.slot_id).name):0==t.req_slot_num?(this._setBalloon1(1),this._fuki1_serif[0].text=o.default.model.slot.getMst(t.slot_id).name):0!=t.req_slot_num&&(e>=t.req_slot_num?1==t.change_flag&&i?(this._setBalloon1(3),this._fuki1_serif[2].style.fontSize=19,this._fuki1_serif[2].style.fill=16711680,this._fuki1_serif[2].text="\u3053\u306e\u88c5\u5099\u3092\u6539\u4fee\u3059\u308b\u306b\u306f",this._fuki1_serif[2].position.set(21,82),this._fuki1_serif[3].style.fontSize=19,this._fuki1_serif[3].style.fill=16711680,this._fuki1_serif[3].text="\u540c\u88c5\u5099\u306e\u30ed\u30c3\u30af\u89e3\u9664\u304c\u5fc5\u8981\u3067\u3059\u3002",this._fuki1_serif[3].position.set(21,103),this._fuki1_serif[4].style.fontSize=19,this._fuki1_serif[4].style.fill=98690,this._fuki1_serif[4].text="",this._fuki1_serif[4].position.set(21,124),this._fuki1_serif[5].style.fontSize=19,this._fuki1_serif[5].style.fill=16711680,this._fuki1_serif[5].text="",this._fuki1_serif[5].position.set(21,145)):(this._setBalloon1(2),this._fuki1_serif[3].text=o.default.model.slot.getMst(t.req_slot_id).name+"\xd7"+t.req_slot_num,this._fuki1_serif[7].text="\xd7"+e):(this._setBalloon1(3),this._fuki1_serif[4].text=o.default.model.slot.getMst(t.req_slot_id).name+"\xd7"+t.req_slot_num),this._fuki1_serif[0].text=o.default.model.slot.getMst(t.slot_id).name);var n=0;t.req_useitem_num2>0&&(n=1);var r=0,s=0;t.req_useitem_num>0&&(t.req_useitem_num<=o.default.model.useItem.getCount(t.req_useitem_id)?71==t.req_useitem_id?(this._setBalloon3(0,n),this._setBalloon1(2),this._fuki1_serif[0].text=o.default.model.slot.getMst(t.slot_id).name,this._fuki1_serif[2].style.fontSize=19,this._fuki1_serif[2].style.fill=4999235,this._fuki1_serif[2].text="\u3053\u306e\u6539\u4fee\u306b\u306f\u3001",this._fuki1_serif[2].position.set(21,82),this._fuki1_serif[3].style.fontSize=19,this._fuki1_serif[3].style.fill=6201187,this._fuki1_serif[3].text=o.default.model.useItem.get(t.req_useitem_id).name+(t.req_useitem_num<2?"":"\xd7"+t.req_useitem_num),this._fuki1_serif[3].position.set(21,103),this._fuki1_serif[4].style.fontSize=19,this._fuki1_serif[4].style.fill=4999235,this._fuki1_serif[4].text="\u304c\u5fc5\u8981\u3067\u3059\u3002",this._fuki1_serif[4].position.set(21,124),this._fuki1_serif[5].style.fontSize=15,this._fuki1_serif[5].style.fill=4999235,this._fuki1_serif[5].text="\uff08\u203b\u6539\u4fee\u3067\u6d88\u8cbb\u3057\u307e\u3059\uff09",this._fuki1_serif[5].position.set(132,129),this._fuki1_serif[6].style.fontSize=15,this._fuki1_serif[6].style.fill=4999235,this._fuki1_serif[6].text="",this._fuki1_serif[6].position.set(21,153),this._fuki1_serif[7].style.fontSize=15,this._fuki1_serif[7].style.fill=98690,this._fuki1_serif[7].text="",this._fuki1_serif[7].position.set(162,153)):r=1:71==t.req_useitem_id?(this._setBalloon3(0,n),this._setBalloon1(3),this._fuki1_serif[0].text=o.default.model.slot.getMst(t.slot_id).name,this._fuki1_serif[3].style.fontSize=19,this._fuki1_serif[3].style.fill=6201187,this._fuki1_serif[3].text=o.default.model.useItem.get(t.req_useitem_id).name+(t.req_useitem_num<2?"":"\xd7"+t.req_useitem_num),this._fuki1_serif[3].position.set(21,103),this._fuki1_serif[4].style.fontSize=19,this._fuki1_serif[4].style.fill=16711680,this._fuki1_serif[4].text="\u304c\u8db3\u308a\u307e\u305b\u3093\u3002",this._fuki1_serif[4].position.set(21,124),this._fuki1_serif[5].style.fontSize=19,this._fuki1_serif[5].style.fill=16711680,this._fuki1_serif[5].text="",this._fuki1_serif[5].position.set(21,145),this._fuki1_serif[6].style.fontSize=15,this._fuki1_serif[6].style.fill=4999235,this._fuki1_serif[6].text="",this._fuki1_serif[6].position.set(21,153),this._fuki1_serif[7].style.fontSize=15,this._fuki1_serif[7].style.fill=98690,this._fuki1_serif[7].text="",this._fuki1_serif[7].position.set(168,153)):r=2),t.req_useitem_num2>0&&(t.req_useitem_num2<=o.default.model.useItem.getCount(t.req_useitem_id2)?71==t.req_useitem_id2?(this._setBalloon3(0,n),this._setBalloon1(2),this._fuki1_serif[0].text=o.default.model.slot.getMst(t.slot_id).name,this._fuki1_serif[2].style.fontSize=19,this._fuki1_serif[2].style.fill=4999235,this._fuki1_serif[2].text="\u3053\u306e\u6539\u4fee\u306b\u306f\u3001",this._fuki1_serif[2].position.set(21,82),this._fuki1_serif[3].style.fontSize=19,this._fuki1_serif[3].style.fill=6201187,this._fuki1_serif[3].text=o.default.model.useItem.get(t.req_useitem_id).name+(t.req_useitem_num<2?"":"\xd7"+t.req_useitem_num),this._fuki1_serif[3].position.set(21,103),this._fuki1_serif[4].style.fontSize=19,this._fuki1_serif[4].style.fill=4999235,this._fuki1_serif[4].text="\u304c\u5fc5\u8981\u3067\u3059\u3002",this._fuki1_serif[4].position.set(21,124),this._fuki1_serif[5].style.fontSize=15,this._fuki1_serif[5].style.fill=4999235,this._fuki1_serif[5].text="\uff08\u203b\u6539\u4fee\u3067\u6d88\u8cbb\u3057\u307e\u3059\uff09",this._fuki1_serif[5].position.set(132,129),this._fuki1_serif[6].style.fontSize=15,this._fuki1_serif[6].style.fill=4999235,this._fuki1_serif[6].text="",this._fuki1_serif[6].position.set(21,153),this._fuki1_serif[7].style.fontSize=15,this._fuki1_serif[7].style.fill=98690,this._fuki1_serif[7].text="",this._fuki1_serif[7].position.set(162,153)):s=1:71==t.req_useitem_id2?(this._setBalloon3(0,n),this._setBalloon1(3),this._fuki1_serif[0].text=o.default.model.slot.getMst(t.slot_id).name,this._fuki1_serif[3].style.fontSize=19,this._fuki1_serif[3].style.fill=6201187,this._fuki1_serif[3].text=o.default.model.useItem.get(t.req_useitem_id).name+(t.req_useitem_num<2?"":"\xd7"+t.req_useitem_num),this._fuki1_serif[3].position.set(21,103),this._fuki1_serif[4].style.fontSize=19,this._fuki1_serif[4].style.fill=16711680,this._fuki1_serif[4].text="\u304c\u8db3\u308a\u307e\u305b\u3093\u3002",this._fuki1_serif[4].position.set(21,124),this._fuki1_serif[5].style.fontSize=19,this._fuki1_serif[5].style.fill=16711680,this._fuki1_serif[5].text="",this._fuki1_serif[5].position.set(21,145),this._fuki1_serif[6].style.fontSize=15,this._fuki1_serif[6].style.fill=4999235,this._fuki1_serif[6].text="",this._fuki1_serif[6].position.set(21,153),this._fuki1_serif[7].style.fontSize=15,this._fuki1_serif[7].style.fill=98690,this._fuki1_serif[7].text="",this._fuki1_serif[7].position.set(168,153)):s=2),this._setBalloon3(r,n*s),t.req_useitem_num>0&&(0==t.req_useitem_num2?(this._fuki3_serif[0].text=o.default.model.useItem.get(t.req_useitem_id).name+"\xd7"+t.req_useitem_num,this._fuki3_serif[1].position.set(this._fuki3_serif[0].position.x+this._fuki3_serif[0].width,this._fuki3_serif[0].position.y),this._fuki3_serif[2].text="\uff08\u73fe\u5728\u4fdd\u6709\u6570\xd7"+o.default.model.useItem.getCount(t.req_useitem_id)+"\uff09",this._fuki3_serif[2].position.set(this._fuki3_serif[0].position.x,this._fuki3_serif[0].position.y+this._fuki3_serif[0].height),this._fuki3_serif[3].visible=!1,this._fuki3_serif[4].visible=!1,this._fuki3_serif[5].visible=!1):(this._fuki3_serif[0].text=o.default.model.useItem.get(t.req_useitem_id).name+"\xd7"+t.req_useitem_num,this._fuki3_serif[1].position.set(this._fuki3_serif[0].position.x+this._fuki3_serif[0].width,this._fuki3_serif[0].position.y),this._fuki3_serif[2].text="\uff08\u73fe\u5728\u4fdd\u6709\u6570\xd7"+o.default.model.useItem.getCount(t.req_useitem_id)+"\uff09",this._fuki3_serif[2].position.set(this._fuki3_serif[0].position.x,this._fuki3_serif[0].position.y+this._fuki3_serif[0].height),this._fuki3_serif[3].visible=!0,this._fuki3_serif[4].visible=!0,this._fuki3_serif[5].visible=!0,this._fuki3_serif[3].text=o.default.model.useItem.get(t.req_useitem_id2).name+"\xd7"+t.req_useitem_num2,this._fuki3_serif[3].position.set(this._fuki3_serif[0].position.x,this._fuki3_serif[2].position.y+this._fuki3_serif[2].height+2),this._fuki3_serif[4].position.set(this._fuki3_serif[3].position.x+this._fuki3_serif[3].width,this._fuki3_serif[3].position.y),this._fuki3_serif[5].text="\uff08\u73fe\u5728\u4fdd\u6709\u6570\xd7"+o.default.model.useItem.getCount(t.req_useitem_id2)+"\uff09",this._fuki3_serif[5].position.set(this._fuki3_serif[2].position.x,this._fuki3_serif[3].position.y+this._fuki3_serif[3].height)))},e.prototype.initialize=function(){},e.prototype.dispose=function(){this.removeChildren(),this._fuki1_serif.forEach(function(t){t.destroy()}),this._fuki1_serif=null,this._fuki2_serif.forEach(function(t){t.destroy()}),this._fuki2_serif=null,this._fuki3_serif.forEach(function(t){t.destroy()}),this._fuki3_serif=null,this._fuki4_serif.forEach(function(t){t.destroy()}),this._fuki4_serif=null,this._fuki4_starnum.destroy(),this._fuki4_starnum=null},e}(PIXI.Container);e.RevampBalloon=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(121),r=function(t){function e(){var e=t.call(this)||this;e._particle=new Array;for(var i=[0,15,30,48],n=[0,21,4,18],o=0;o<i.length;o++){var r=new s;r.position.set(i[o],n[o]),e.addChild(r),e._particle.push(r)}return e}return n(e,t),e.prototype.initialize=function(){for(var t=0,e=this._particle;t<e.length;t++){var i=e[t];i.initialize(),i.startAnim()}},e.prototype.dispose=function(){for(var t=0,e=this._particle;t<e.length;t++){e[t].stopAnim()}},e}(PIXI.Container);e.RevampLevelParticleLayer=r;var s=function(t){function e(){var e=t.call(this)||this;return e.alpha=0,e}return n(e,t),e.prototype.initialize=function(){this.texture=o.REVAMP_REVAMP.getTexture(24)},e.prototype.startAnim=function(){this._anim()},e.prototype.stopAnim=function(){null!=this._tween&&(this._tween.setPaused(!0),this._tween=null)},e.prototype._anim=function(){var t=this;this._tween=createjs.Tween.get(this).wait(300*Math.random()+300).to({alpha:1},150).to({alpha:0},150).call(function(){2*Math.random()>1?t.texture=o.REVAMP_REVAMP.getTexture(24):t.texture=o.REVAMP_REVAMP.getTexture(25),t._tween=null,t._anim()})},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(121),r=function(t){function e(e){var i=t.call(this)||this;return i._eye_state=0,i._isDischarge=!1,i._onUpdate=function(){},i._ship1st=e,i._disposed=!1,i.akashiset(),i}return n(e,t),Object.defineProperty(e.prototype,"akashi",{get:function(){return this._akashi_body},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"akashi_eye",{get:function(){return this._akashi_eye},enumerable:!0,configurable:!0}),e.prototype.akashiset=function(){182==this._ship1st?(this._akashi_body=new PIXI.Sprite(o.REVAMP_REVAMP.getTexture(5)),this._akashi_body.position.set(256,156),this._akashi_eye=new PIXI.Sprite(o.REVAMP_REVAMP.getTexture(0)),this._akashi_eye.position.set(675,225)):(this._akashi_body=new PIXI.Sprite(o.REVAMP_REVAMP.getTexture(7)),this._akashi_body.position.set(256,156),this._akashi_eye=new PIXI.Sprite(o.REVAMP_REVAMP.getTexture(0)),this._akashi_eye.position.set(675,225)),this.addChild(this._akashi_body),this.addChild(this._akashi_eye),this._effect_1_2=new PIXI.Sprite(o.REVAMP_REVAMP.getTexture(10)),this._effect_1_2.position.set(499,559),this._effect_1_2.visible=!1,this._effect_1_2.anchor.set(.5,.5),this.addChild(this._effect_1_2),this._effect_3=new PIXI.Sprite(o.REVAMP_REVAMP.getTexture(12)),this._effect_3.position.set(541,275),this._effect_3.visible=!1,this.addChild(this._effect_3),this._effect_3_f=new PIXI.Sprite(o.REVAMP_REVAMP.getTexture(12)),this._effect_3_f.position.set(541,275),this._effect_3_f.visible=!1,this.addChild(this._effect_3_f)},e.prototype.initialize=function(){this._update()},e.prototype.activate=function(){this._startWaiting()},e.prototype.deactivate=function(){this._stopWaiting()},e.prototype.dispose=function(){this.deactivate(),this._disposed=!0},e.prototype.ChangeFace=function(t){},e.prototype.Spark=function(){var t=this;this._t=createjs.Tween.get(this._effect_1_2).wait(500).call(function(){t._effect_1_2.visible=!0,t._effect_1_2.position.set(499,559),t._effect_1_2.width=214,t._effect_1_2.height=247,t._effect_1_2.texture=o.REVAMP_REVAMP.getTexture(10)}).to({alpha:1},1).wait(100).to({alpha:0},1).call(function(){t._effect_1_2.position.set(511,547),t._effect_1_2.width=214,t._effect_1_2.height=247}).to({alpha:1},1).to({width:6.42,height:7.41},1).to({width:214,height:247},200).to({alpha:0},60).call(function(){t._effect_1_2.position.set(595,629),t._effect_1_2.width=214,t._effect_1_2.height=247}).to({alpha:1},1).wait(100).call(function(){t._effect_1_2.position.set(595,629),t._effect_1_2.texture=o.REVAMP_REVAMP.getTexture(11),t._effect_1_2.width=142,t._effect_1_2.height=165}).to({alpha:1},1).to({width:4.26,height:4.95},1).to({width:142,height:165},200).to({alpha:0},60).wait(1e3).call(function(){t._effect_1_2.position.set(548,537),t._effect_1_2.width=143,t._effect_1_2.height=165,t._effect_1_2.texture=o.REVAMP_REVAMP.getTexture(10)}).to({alpha:1},1).wait(100).call(function(){t._effect_1_2.position.set(554,531),t._effect_1_2.width=143,t._effect_1_2.height=165}).to({alpha:1},1).to({width:6.42,height:7.41},1).to({width:214,height:247},200).to({alpha:0},60).call(function(){t._effect_1_2.position.set(595,629),t._effect_1_2.texture=o.REVAMP_REVAMP.getTexture(11),t._effect_1_2.width=142,t._effect_1_2.height=165}).to({alpha:1},1).wait(100).call(function(){t._effect_1_2.position.set(595,629),t._effect_1_2.width=142,t._effect_1_2.height=165}).to({alpha:1},1).to({width:4.26,height:4.95},1).to({width:142,height:165},200).to({alpha:0},60).call(function(){t._t=null}),this._t2=createjs.Tween.get(this._effect_3_f).wait(500).call(function(){t._effect_3_f.visible=!0}).to({alpha:1},1).wait(100).to({alpha:0},1).call(function(){}).to({alpha:1},1).wait(1).wait(200).to({alpha:0},60).call(function(){}).to({alpha:1},1).wait(100).call(function(){}).to({alpha:1},1).wait(1).wait(200).to({alpha:0},60).wait(1e3).call(function(){}).to({alpha:1},1).wait(100).call(function(){}).to({alpha:1},1).wait(1).wait(200).to({alpha:0},60).call(function(){}).to({alpha:1},1).wait(100).call(function(){}).to({alpha:1},1).wait(1).wait(200).to({alpha:0},60).call(function(){t._t2=null})},e.prototype._eye_pattern=function(t,e,i){var n=this;this._t=createjs.Tween.get(this).wait(30).call(function(){n._akashi_eye.texture=o.REVAMP_REVAMP.getTexture(t)}).wait(30).call(function(){n._akashi_eye.texture=o.REVAMP_REVAMP.getTexture(e)}).wait(30).call(function(){n._akashi_eye.texture=o.REVAMP_REVAMP.getTexture(i),n._t=null})},e.prototype._eye_pattern_twice=function(t,e,i){var n=this;this._t=createjs.Tween.get(this).wait(30).call(function(){n._akashi_eye.texture=o.REVAMP_REVAMP.getTexture(t)}).wait(30).call(function(){n._akashi_eye.texture=o.REVAMP_REVAMP.getTexture(e)}).wait(30).call(function(){n._akashi_eye.texture=o.REVAMP_REVAMP.getTexture(i)}).wait(30).call(function(){n._akashi_eye.texture=o.REVAMP_REVAMP.getTexture(e)}).wait(30).call(function(){n._akashi_eye.texture=o.REVAMP_REVAMP.getTexture(t)}).wait(60).call(function(){n._akashi_eye.texture=o.REVAMP_REVAMP.getTexture(e)}).wait(30).call(function(){n._akashi_eye.texture=o.REVAMP_REVAMP.getTexture(i),n._t=null})},e.prototype.AkashiMove=function(t){var e=this;t||(182==this._ship1st?this._akashi_body.texture=o.REVAMP_REVAMP.getTexture(5):this._akashi_body.texture=o.REVAMP_REVAMP.getTexture(7)),this._t=createjs.Tween.get(this).wait(1).to({x:t?150:0},250,createjs.Ease.quintIn).call(function(){e._t=null,t&&(182==e._ship1st?e._akashi_body.texture=o.REVAMP_REVAMP.getTexture(6):e._akashi_body.texture=o.REVAMP_REVAMP.getTexture(8))})},e.prototype._update=function(){this._disposed||(0==this._eye_state?this._eye_pattern(0,1,2):1==this._eye_state?10*Math.random()>2?this._eye_pattern(2,1,0):this._eye_pattern_twice(2,1,0):2==this._eye_state?this._eye_pattern(4,3,2):10*Math.random()>2?this._eye_pattern(2,3,4):this._eye_pattern_twice(2,3,4))},e.prototype._startWaiting=function(){var t=this;if(null==this._t&&!this._disposed){var e=0;e=1==this._eye_state||3==this._eye_state?1e3*Math.random()+2e3:100*Math.random()+100,this._t=createjs.Tween.get(null,{onChange:this._onUpdate}).wait(e).call(function(){0==t._eye_state?10*Math.random()>2?t._eye_state=1:t._eye_state=3:1==t._eye_state?t._eye_state=0:2==t._eye_state?10*Math.random()>2?t._eye_state=1:t._eye_state=3:3==t._eye_state&&(t._eye_state=2),t._update(),t._t=null,t._startWaiting()})}},e.prototype._discharge=function(){var t=this;this._t=createjs.Tween.get(this._effect_3).to({alpha:1},25,createjs.Ease.bounceInOut).to({alpha:0},25,createjs.Ease.bounceInOut).call(function(){t._t=null,t._isDischarge&&t._discharge()})},e.prototype._stopWaiting=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Container);e.RevampAkashi=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(121),r=function(t){function e(e){void 0===e&&(e=0);var i=t.call(this)||this;i._wind=e,i._particle=new Array;for(var n=[300,600,900],o=[0,0,0],r=0;r<10;r++)0==e?n.push(1200*Math.random()):n.push(300*Math.random()+450),o.push(-30-105*Math.random());for(var r=0;r<n.length;r++){var a=new s(e);a.position.set(n[r],o[r]),i.addChild(a),i._particle.push(a)}return i}return n(e,t),e.prototype.activate=function(){this.initialize()},e.prototype.initialize=function(){for(var t=0,e=this._particle;t<e.length;t++){var i=e[t];i.initialize(),i.alpha=1,i.startAnim()}},e.prototype.dispose=function(){for(var t=0,e=this._particle;t<e.length;t++){var i=e[t];i.alpha=0,i.stopAnim()}},e}(PIXI.Container);e.RevampParticleLayer=r;var s=function(t){function e(e){var i=t.call(this)||this;return i._wind=e,i}return n(e,t),e.prototype.initialize=function(){this.alpha=0,this.anchor.set(.5,.5),this._rot=(2*Math.random()<1?1:-1)*Math.random()*5*Math.PI*2,this._scale=.75*Math.random()+.5,this._vx=(1*Math.random()*this._scale*this._scale+300)*this._wind,this._vy=6*Math.random()*this._scale*this._scale+2,this.scale.set(this._scale,this._scale),this.texture=o.REVAMP_REVAMP.getTexture(14)},e.prototype.startAnim=function(){this._anim()},e.prototype.stopAnim=function(){null!=this._tween&&(this._tween.setPaused(!0),this._tween=null)},e.prototype._calc=function(){0==this._wind?this.x=1200*Math.random():this.x=300*Math.random()+450,this.y=-30-105*Math.random(),this._rot+=(2*Math.random()<1?1:-1)*Math.random()*5*Math.PI*2},e.prototype._anim=function(){var t=this;this._tween=createjs.Tween.get(this).to({alpha:1}).to({y:800,x:this.x+this._vx,rotation:this._rot},3e3*Math.random()+1e3).call(function(){t._tween=null,t._calc(),t._anim()})},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(6),a=i(10),_=i(4),l=i(60),u=i(432),c=i(40),h=i(24),p=function(t){function e(){var e=t.call(this)||this;return e.showButton=function(){e.btn=new c.GearBtnHome,e.btn.position.set(1130,648),e.btn.initialize(),e.btn.activate(),e.addChild(e.btn),e._whiteMask.interactive=!0},e._CMB_getbg=new l.RarityBG,e._whiteMask=new PIXI.Graphics,e._whiteMask.beginFill(16777215),e._whiteMask.drawRect(0,0,o.default.width,o.default.height),e._IsFinished=!1,e._IsAnime=!1,e.alpha=0,e._whiteMask.interactive=!1,e._whiteMask.buttonMode=!1,e._whiteMask.alpha=1,e}return n(e,t),Object.defineProperty(e.prototype,"whiteMask",{get:function(){return this._whiteMask},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsFinished",{get:function(){return this._IsFinished},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsAnime",{get:function(){return this._IsAnime},enumerable:!0,configurable:!0}),e.prototype.preload=function(t,e,i){this._ItemID_before=t,this._ItemID_after=e;var n=r.default.model.slot.getMst(e),o=n.rarity;this._CMB_getbg.initiailzeForSlotitem(o,function(){var n=new h.SlotLoader;n.add(t,"card"),n.add(e,"card"),n.load(function(){null!=i&&i()})})},e.prototype.initialize=function(t){this._scene=t,this._IsFinished=!1,this._IsAnime=!1,this._CMB_getbg.visible=!0,this._CMB_getbg.alpha=.01,this._CMB_getbg.position.set(0,0),this.addChild(this._CMB_getbg),this._ItemCard_after=new PIXI.Sprite,this._ItemCard_after_texture=r.default.resources.getSlotitem(this._ItemID_after,"card"),this._ItemCard_after.texture=this._ItemCard_after_texture,this._ItemCard_after.visible=!0,this._ItemCard_after.alpha=.01,this._ItemCard_after.anchor.set(.5,.5),this._ItemCard_after.position.set(600,243),this._ItemCard_after.width=234,this._ItemCard_after.height=234,this.addChild(this._ItemCard_after),this._ItemCard_before=new PIXI.Sprite,this._ItemCard_before_texture=r.default.resources.getSlotitem(this._ItemID_before,"card"),this._ItemCard_before.texture=this._ItemCard_before_texture,this._ItemCard_before.visible=!0,this._ItemCard_before.alpha=.01,this._ItemCard_before.anchor.set(.5,.5),this._ItemCard_before.position.set(600,525),this.addChild(this._ItemCard_before),this._revampRingParticleLayer=new u.RevampRingParticleLayer,this.addChild(this._revampRingParticleLayer),this._CMM_mes_j_bg=new PIXI.Sprite(a.COMMON_MISC.getTexture(120)),this._CMM_mes_j_bg.visible=!0,this._CMM_mes_j_bg.alpha=.01,this._CMM_mes_j_bg.position.set(0,720),this.addChild(this._CMM_mes_j_bg),this._message=new _.TextBox(27,16777215),this._message.visible=!0,this._message.alpha=.01,this._message.text="",this._message.position.set(600-Math.floor(this._message.width/2),645),this.addChild(this._message),this._whiteMask.interactive=!1,this._whiteMask.buttonMode=!1,this.addChild(this._whiteMask)},e.prototype._scene0=function(){var t=this;this._IsAnime=!0,this._tween=createjs.Tween.get(this).wait(10).to({alpha:1},1e3).call(function(){t._scene.visible=!1,t._CMB_getbg.alpha=1,t._ItemCard_before.alpha=1,t._ItemCard_after.alpha=.01,t._CMM_mes_j_bg.alpha=1,t._message.alpha=.01,t._tween=null,t._tween2=createjs.Tween.get(t._whiteMask).wait(100).to({alpha:.75},250).call(function(){t._tween2=null,t._scene1()})})},e.prototype._scene1=function(){var t=this;this._whiteMask.interactive=!0,this._tween2=createjs.Tween.get(this._whiteMask).to({alpha:0},750).call(function(){t._tween2=null}),this._tween=createjs.Tween.get(this._ItemCard_before).to({y:243},1e3).wait(1e3).to({x:408,width:351,height:351},1e3,createjs.Ease.sineOut).call(function(){t._ItemCard_before.texture=t._ItemCard_after_texture}).to({x:792},0).to({x:600,width:390,height:390},1e3,createjs.Ease.sineIn).call(function(){t._tween=null}),this._tween1=createjs.Tween.get(this._ItemCard_after).wait(1e3).wait(1e3).to({x:792,width:351,height:351,alpha:1},1e3,createjs.Ease.sineOut).call(function(){t._ItemCard_after.texture=t._ItemCard_before_texture}).to({x:408},0).to({x:600,width:234,height:234,alpha:0},1e3,createjs.Ease.sineIn).call(function(){t._tween1=null}),this._tween2=createjs.Tween.get(this._CMM_mes_j_bg).wait(500).to({y:480},500).call(function(){t._tween2=null,t._message.text=" \u88c5\u5099\u6539\u4fee\u4e2d\u2026",t._message.position.set(600-Math.floor(t._message.width/2),600),t._tween2=createjs.Tween.get(t._message).to({alpha:1},250).wait(2500).to({alpha:0},250).call(function(){var e=r.default.model.slot.getMst(t._ItemID_after),i="";switch(e.mstID){case 344:i="\n"}t._message.text=e.name+"\u306b"+i+"\u88c5\u5099\u304c\u6539\u4fee\u66f4\u65b0\u3055\u308c\u307e\u3057\u305f\uff01",t._message.position.set(600-Math.floor(t._message.width/2),600),t._revampRingParticleLayer.initialize()}).to({alpha:1},250).wait(1e3).call(function(){r.default.sound.voice.play("9999",308),s.SE.play("210")}).wait(5e3).call(function(){t._tween2=null,t.showButton(),t._IsAnime=!1})})},e.prototype.dispose=function(){var t=this;this._revampRingParticleLayer.dispose(),null!=this.btn&&(this.btn.dispose(),this.btn=null),this._tween=createjs.Tween.get(this).wait(10).call(function(){t._scene.visible=!0}).to({alpha:0},500).call(function(){t.removeChildren(),t._message.destroy(),t._message=null,t._tween=null,t._whiteMask.alpha=1,t._whiteMask.interactive=!1,t._IsFinished=!0,t._IsAnime=!1})},e}(PIXI.Container);e.RevampItemChange=p},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(121),r=function(t){function e(){var e=t.call(this)||this;e._particle=new Array;for(var i=[600],n=[243],o=0;o<8;o++)i.push(555+90*Math.random()),n.push(243-90*Math.random());for(var o=0;o<i.length;o++){var r=new s;r.position.set(i[o],n[o]),e.addChild(r),e._particle.push(r)}return e}return n(e,t),e.prototype.activate=function(){this.initialize()},e.prototype.initialize=function(){for(var t=0,e=this._particle;t<e.length;t++){var i=e[t];!function(t){createjs.Tween.get(null).wait(1e3*Math.random()).call(function(){t.initialize(),t.alpha=1,t.startAnim()})}(i)}},e.prototype.dispose=function(){for(var t=0,e=this._particle;t<e.length;t++){var i=e[t];i.alpha=0,i.stopAnim()}},e}(PIXI.Container);e.RevampRingParticleLayer=r;var s=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.initialize=function(){this.alpha=0,this.anchor.set(.5,.5),this.scale.set(.5,.5),this._initXYSpeed(),this.texture=o.REVAMP_REVAMP.getTexture(13)},e.prototype.startAnim=function(){this._anim()},e.prototype.stopAnim=function(){null!=this._tween&&(this._tween.setPaused(!0),this._tween=null)},e.prototype._initXYSpeed=function(){this._vx=(2*Math.random()<1?1:-1)*(6*Math.random()+6),this._vy=-(6*Math.random()+6),this._rot=.025*(this._vx>0?1:-1)},e.prototype._anim=function(){var t=this;this._tween=createjs.Tween.get(this).to({alpha:1},0).to({x:this.x+this._vx,y:this.y+this._vy,rotation:this.rotation+this._rot},20).call(function(){t._tween=null,t.y>1200&&(t.y=243-90*Math.random(),t.x=555+90*Math.random(),t._initXYSpeed()),t._vy+=.4,t._anim()})},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(20),s=i(2),a=i(12),_=i(138),l=function(t){function e(e){var i=t.call(this)||this;return i._layer=e,i}return n(e,t),e.prototype._start=function(){this._canvas=new PIXI.Container,this._layer.addChild(this._canvas);var t=_.SALLY_MAP_PARTS.getTexture(1);this._bg=new PIXI.Sprite(t),this._bg.width=o.default.width,this._bg.anchor.set(.5,.5),this._bg.position.set(o.default.width/2,o.default.height/2),this._bg.scale.y=0,this._canvas.addChild(this._bg),t=_.SALLY_MAP_PARTS.getTexture(0),this._light=new PIXI.Sprite(t),this._light.width=o.default.width,this._light.anchor.set(0,.5),this._light.position.set(o.default.width,o.default.height/2),this._canvas.addChild(this._light),this._text1=new a.Sprite(_.SALLY_MAP_PARTS.getTexture(2)),this._text1.anchor.set(.5,.5),this._text1.position.set(o.default.width/2,o.default.height/2),this._text1.scale.set(1.6),this._text1.alpha=0,this._canvas.addChild(this._text1),this._text2=new a.Sprite(_.SALLY_MAP_PARTS.getTexture(2)),this._text2.anchor.set(.5,.5),this._text2.position.set(o.default.width/2,o.default.height/2),this._text2.scale.set(1.6),this._text2.alpha=0,this._canvas.addChild(this._text2),this._startAnimation()},e.prototype._startAnimation=function(){var t=this,e=new r.TweenTask;e.addTweens([createjs.Tween.get(this._bg.scale).to({y:1},200),createjs.Tween.get(this._light).to({x:0},400).wait(150).to({y:o.default.height/2+8},50).to({y:o.default.height/2-5},50).to({y:o.default.height/2},50),createjs.Tween.get(this._text1).wait(400).to({alpha:1,scaleX:1,scaleY:1},200),createjs.Tween.get(this._text2).wait(300).to({alpha:1,scaleX:1,scaleY:1},200)]),e.start(function(){createjs.Tween.get(t._canvas).to({alpha:0},200).call(function(){t._endTask()})})},e.prototype._endTask=function(){this._canvas.removeChildren(),this._layer.removeChild(this._canvas),this._layer=null,t.prototype._endTask.call(this)},e}(s.TaskBase);e.SallyAnimationTask=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(138),s=i(1229),a=i(435),_=function(t){function e(){var e=t.call(this)||this;return e._bg=new l,e._bg.position.set(0,633),e._bg.alpha=0,e._compass=new s.CompCompass,e._compass.position.set(54,766),e._compass.alpha=0,e.addChild(e._bg),e.addChild(e._compass),e}return n(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this._bg.text},set:function(t){this._bg.text=t},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._bg.initialize(),this._compass.initialize()},e.prototype.activate=function(t){var e=this;this._stopTweens(),this._t_bg=createjs.Tween.get(this._bg).to({alpha:1,y:580},400),this._compass.activate(),this._t_compass=createjs.Tween.get(this._compass).to({alpha:1,y:668,rotation:Math.PI/4},400).call(function(){e._t_bg=null,e._t_compass=null,null!=t&&t()})},e.prototype.deactivate=function(t){var e=this;void 0===t&&(t=null),this._stopTweens(),this._t_bg=createjs.Tween.get(this._bg).to({alpha:0,y:633},400),this._compass.activate(),this._t_compass=createjs.Tween.get(this._compass).to({alpha:0,y:766,rotation:0},400).call(function(){e._t_bg=null,e._t_compass=null,null!=t&&t()})},e.prototype.dispose=function(){this.removeChildren(),this._stopTweens(),this._bg.dispose(),this._bg=null,this._compass.dispose(),this._compass=null},e.prototype.showItemGetText=function(t,e){this._bg.showItemGetText(t,e)},e.prototype.showUzushioText=function(t,e,i){this._bg.showUzushioText(t,e,i)},e.prototype._stopTweens=function(){null!=this._t_bg&&(this._t_bg.setPaused(!0),this._t_bg=null),null!=this._t_compass&&(this._t_compass.setPaused(!0),this._t_compass=null)},e}(PIXI.Container);e.CompMessageBox=_;var l=function(t){function e(){var e=t.call(this)||this;return e._bg=new PIXI.Sprite,e._icon=new a.CompDropItemIcon,e._icon.position.set(416,23),e._icon.visible=!1,e._text=new o.TextBox(30,16777215),e._text.position.set(414,23),e._text.style.wordWrap=!1,e._text.style.breakWords=!1,e.addChild(e._bg),e.addChild(e._icon),e.addChild(e._text),e}return n(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this._text.text},set:function(t){this._text.text=t,this._icon.visible=!1},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._bg.texture=r.SALLY_MAP_PARTS.getTexture(18)},e.prototype.showItemGetText=function(t,e){this._icon.update(t),this._icon.visible=!0,this._text.text="\u3000\xd7"+e+"\n\u3092\u5165\u624b\u3057\u307e\u3057\u305f\uff01"},e.prototype.showUzushioText=function(t,e,i){this._icon.update(t),this._icon.visible=!0,this._text.text="\u3000\xd7"+e+"\n\u3092\u843d\u3068\u3057\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u2026\u3002",1==i&&(this._text.text+="\n(\u96fb\u63a2\u304c\u5f79\u7acb\u3063\u3066\u3001\u88ab\u5bb3\u3092\u6291\u3048\u3089\u308c\u305f\uff01)")},e.prototype.dispose=function(){this.removeChildren(),this._text.destroy()},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(138),r=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.update=function(t){this.texture=this._getTexture(t)},e.prototype._getTexture=function(t){var e=-1;return 31==t?e=3:32==t?e=9:33==t?e=10:34==t?e=11:2==t?e=4:1==t?e=12:3==t?e=13:4==t?e=8:44==t?e=14:10==t?e=5:11==t?e=6:12==t&&(e=7),e<0?PIXI.Texture.EMPTY:o.SALLY_MAP_PARTS.getTexture(e)},e}(PIXI.Sprite);e.CompDropItemIcon=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1230),r=function(t){function e(){var e=t.call(this)||this;e.KEIKAIJIN=!0,e._count=0,e._boxes=[];for(var i=0;i<(e.KEIKAIJIN?6:5);i++){var n=new o.FormationBox(!0);e.addChild(n),e._boxes.push(n)}return e}return n(e,t),Object.defineProperty(e.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e,i){void 0===i&&(i=-1),i<=0&&(i=t),this._count=0;for(var n=0;n<this._boxes.length;n++){var o=this._boxes[n];o.initialize(n+1,t,e,i),1==o.enabled&&this._count++}var r,s;1==this.KEIKAIJIN?6==this._count?(r=[581,776,974,581,776,974],s=[92,92,92,330,330,330]):(r=[680,876,1073,581,776,974],s=[92,92,92,330,330,330]):(r=[581,776,974,683,879],s=[92,92,92,330,330]);for(var n=0;n<this._boxes.length;n++){var o=this._boxes[n],a=r[n],_=s[n];o.position.set(a,_)}},e.prototype.activate=function(){for(var t=0,e=this._boxes;t<e.length;t++){e[t].activate()}},e.prototype.deactivate=function(){for(var t=0,e=this._boxes;t<e.length;t++){e[t].deactivate()}},e.prototype.dispose=function(){for(var t=0,e=this._boxes;t<e.length;t++){e[t].dispose()}},e}(PIXI.Container);e.FormationBoxContainer=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(245),r=function(t){function e(e){var i=t.call(this)||this;return i._POSITIONS_TANJUU=[null,[[-11,-11]],[[-29,-11],[8,-11]],[[-47,-11],[-11,-11],[26,-11]],[[-63,-11],[-29,-11],[8,-11],[42,-11]],[[-80,-11],[-47,-11],[-11,-11],[26,-11],[59,-11]],[[-98,-11],[-63,-11],[-29,-11],[8,-11],[42,-11],[77,-11]],[[-101,-11],[-71,-11],[-41,-11],[-11,-11],[20,-11],[50,-11],[80,-11]]],i._POSITIONS_FUKUJUU=[null,[[-11,-11]],null,[[-29,-27],[8,-27],[-29,6]],[[-29,-27],[8,-27],[-29,6],[8,6]],[[-47,-27],[-11,-27],[26,-27],[-47,6],[-11,6]],[[-47,-27],[-11,-27],[26,-27],[-47,6],[-11,6],[26,6]],[[-65,-27],[-29,-27],[8,-27],[-65,6],[-29,6],[8,6],[44,-11]]],i._POSITIONS_RINKEI=[null,[[-11,-11]],null,null,[[-11,-11],[-46,-11],[8,-44],[8,23]],[[-11,-11],[26,-11],[-47,-11],[-11,-44],[-11,23]],[[-29,-11],[8,-11],[42,-11],[-63,-11],[-11,-60],[-11,39]],[[-11,-11],[51,-11],[-72,-11],[-42,-65],[-42,44],[21,-65],[21,44]]],i._POSITIONS_TEIKEI=[null,[[-11,-11]],[[-23,-23],[0,0]],[[-33,-33],[-11,-11],[12,12]],[[-44,-44],[-21,-21],[0,0],[24,24]],[[-56,-56],[-33,-33],[-11,-11],[12,12],[35,35]],[[-66,-66],[-44,-44],[-21,-21],[0,0],[24,24],[47,47]],[[-69,-69],[-50,-50],[-30,-30],[-11,-11],[9,9],[29,29],[48,48]]],i._POSITIONS_TANOU=[null,[[-11,-11]],[[-11,-27],[-11,6]],[[-11,-43],[-11,-11],[-11,23]],[[-11,-60],[-11,-27],[-11,6],[-11,39]],[[-11,-77],[-11,-44],[-11,-11],[-11,23],[-11,56]],[[-11,-93],[-11,-60],[-11,-27],[-11,6],[-11,39],[-11,72]],[[-11,-101],[-11,-71],[-11,-41],[-11,-11],[-11,20],[-11,50],[-11,80]]],i._POSITIONS_KEIKAI=[null,[[-11,-11]],null,null,[[-11,-11],[26,-11],[-47,-41],[-47,20]],[[-11,-11],[26,-11],[-60,-11],[-41,-41],[-41,20]],[[-11,-11],[26,-11],[62,-11],[-60,-11],[-41,-41],[-41,20]],[[-3,-11],[33,-11],[69,-11],[-89,-11],[-53,-11],[-33,-41],[-33,20]]],i._friend=e,i._points=[],i}return n(e,t),e.prototype.initialize=function(t,e,i){void 0===i&&(i=-1),this._clearPoints(),i<=0&&(i=e);var n=this._getPositionsList(t);if(null!=n){var r=n[e];if(null!=r){r=n[i];for(var s=0;s<r.length;s++){var a=new o.FormationPoint,_=r[s][0],l=r[s][1];a.position.set(_,l),a.initialize(this._friend),a.visible=!1,this.addChild(a),this._points.push(a)}}}},e.prototype.show=function(t){void 0===t&&(t=100);for(var e=createjs.Tween.get(null),i=0,n=this._points;i<n.length;i++){var o=n[i];!function(i){e.wait(t),e.call(function(){i.visible=!0})}(o)}},e.prototype.dispose=function(){this._clearPoints()},e.prototype._getPositionsList=function(t){return 1==t?this._POSITIONS_TANJUU:2==t?this._POSITIONS_FUKUJUU:3==t?this._POSITIONS_RINKEI:4==t?this._POSITIONS_TEIKEI:5==t?this._POSITIONS_TANOU:6==t?this._POSITIONS_KEIKAI:null},e.prototype._clearPoints=function(){for(var t=0,e=this._points;t<e.length;t++){var i=e[t];this.removeChild(i)}this._points=[]},e}(PIXI.Container);e.FormationPoints=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(146),s=i(47),a=i(50),_=i(1238),l=i(1239),u=i(1240),c=i(1245),h=i(1246),p=i(1248),d=i(1251),f=i(1252),y=i(1288),m=i(1289),g=i(1290),v=i(1292),b=i(1294),w=i(440),x=i(1296),I=i(441),T=i(1304),O=i(1322),C=function(t){function e(e,i){var n=t.call(this)||this;return n._startScene=function(){n._appointAirUnit()},n._battle_cls=e,n._battle_result_cls=i,n._view=new T.ViewMain,n.addChild(n._view),n._resInfo=new u.MapResourceInfo,n._user_select=new c.UserSelectModel,n}return n(e,t),Object.defineProperty(e.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resInfo",{get:function(){return this._resInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"user_select",{get:function(){return this._user_select},enumerable:!0,configurable:!0}),e.prototype._appointAirUnit=function(){var t=this,e=this._model.sortie.map,i=e.availableAirUnitCount,n=e.area_id,r=o.default.model.airunit.getAirUnitList(n),s=o.default.model.airunit.getReadyAirUnitList(n);if(null==(s=s.slice(0,i))||s.length<=0)return void this._showFlagShip();var a=o.default.view.overLayer;new x.TaskAirUnitAppointment(a,n,r,s,this._model,this.view.map).start(function(){t._showFlagShip()})},e.prototype._showFlagShip=function(){var t=this,e=this._model.deck_f.ships,i=e[0],n=i.mst_id,o=i.isDamaged();new w.AnimFlagShip(this,n,o).start(function(){t._next(0)})},e.prototype._next=function(t){var e=this,i=new f.TaskNextSpot(this,this._model,t,this._battle_cls,this._battle_result_cls);i.start(function(){if(i.cell_open){var n=e._model.sortie.getNextCell();e._endScene(n)}else e._afterMove(i.battle_model,t)})},e.prototype._afterMove=function(t,e){var i=this,n=this._model.sortie.getNextCell();if(1==n.isDeadEnd()){var o=this._model.sortie.area_id,r=this._model.sortie.map_no,s=(n.getM1(),null==t?0:t.m1);if(7==o&&2==r&&1==s){var a=new I.EventTaskCellOpen(this._model.sortie.map_id,this._resInfo,this._view,this._model.sortie.map.getGaugeNum(),!0,!0,!0,!0,!1);return void a.start(function(){i._endScene(n)})}if(45==o&&1==r&&1==s){var a=new I.EventTaskCellOpen(this._model.sortie.map_id,this._resInfo,this._view,this._model.sortie.map.getGaugeNum(),!0,!1,!0,!0,!0);return void a.start(function(){i._endScene(n)})}if(45==o&&2==r&&1==s){var a=new I.EventTaskCellOpen(this._model.sortie.map_id,this._resInfo,this._view,this._model.sortie.map.getGaugeNum(),!0,!0,!0,!0,!1);return void a.start(function(){i._endScene(n)})}if(45==o&&3==r&&1==s){var a=new I.EventTaskCellOpen(this._model.sortie.map_id,this._resInfo,this._view,this._model.sortie.map.getGaugeNum(),!0,!0,!0,!0,!1);return void a.start(function(){i._endScene(n)})}if(45==o&&3==r&&2==s){var a=new I.EventTaskCellOpen(this._model.sortie.map_id,this._resInfo,this._view,this._model.sortie.map.getGaugeNum(),!0,!1,!0,!0,!1);return void a.start(function(){i._endScene(n)})}if(45==o&&3==r&&3==s){var a=new I.EventTaskCellOpen(this._model.sortie.map_id,this._resInfo,this._view,this._model.sortie.map.getGaugeNum(),!0,!1,!0,!0,!1,!0);return void a.start(function(){i._endScene(n)})}if(45==o&&3==r&&4==s){var a=new I.EventTaskCellOpen(this._model.sortie.map_id,this._resInfo,this._view,this._model.sortie.map.getGaugeNum(),!0,!1,!0,!0,!1,!1);return void a.start(function(){i._endScene(n)})}this._endScene(n)}else null!=t?this._preNextAfterBattle(n,t):this._preNext(n,t,e)},e.prototype._preNextAfterBattle=function(t,e){var i=this,n=e.deck_f.ships[0],o=25==n.damageType||0==n.damageType,r=n.hasYouin(),s=n.hasMegami(),a=this._model.sortie.area_id,_=this._model.sortie.map_no,l=null==e?0:e.m1;if(45==a&&3==_&&1==l){return void new I.EventTaskCellOpen(this._model.sortie.map_id,this._resInfo,this._view,this._model.sortie.map.getGaugeNum(),!0,!0,!0,!0,!1).start(function(){i._endScene(t)})}if(45==a&&3==_&&2==l){return void new I.EventTaskCellOpen(this._model.sortie.map_id,this._resInfo,this._view,this._model.sortie.map.getGaugeNum(),!0,!1,!0,!0,!1).start(function(){i._endScene(t)})}if(45==a&&3==_&&3==l){return void new I.EventTaskCellOpen(this._model.sortie.map_id,this._resInfo,this._view,this._model.sortie.map.getGaugeNum(),!0,!1,!0,!0,!1,!0).start(function(){i._endScene(t)})}if(45==a&&3==_&&4==l){return void new I.EventTaskCellOpen(this._model.sortie.map_id,this._resInfo,this._view,this._model.sortie.map.getGaugeNum(),!0,!1,!0,!0,!1,!1).start(function(){i._endScene(t)})}if(1==o&&0==r&&0==s){var u=e.deck_f.name;return void new v.TaskFlagShipDamaged(this._view,u,n.mst_id).start(function(){i._endScene(t)})}new O.EscapeTask(this,e).start(function(){for(var n=e.deck_f.ships,a=0;a<n.length;a++){var _=n[a];null!=_&&i.model.deck_f.ships[a].initializeTaihi(_.isTaihi())}1!=o||1!=r&&1!=s?i._selectGoAhead(t,e):i._selectTaihaShingun(t,e,r,s)})},e.prototype._selectGoAhead=function(t,e){var i=this,n=new y.TaskMarchRetreatSelect(this._view);n.start(function(){if(0==n.result)i._endScene(t);else{var s=i._model.sortie.area_id,a=i._model.sortie.map_no,_=r.MapConst.getMapBGMID(s,a);1==_.battle_bgm?o.default.sound.bgm.playBattleBGM(_.id):o.default.sound.bgm.play(_.id);var u=i._model.deck_f,c=[u.id];0!=u.type&&c.push(u.id_second);var h=i._model.sortie.getNextCell().no;new l.APIShipDeck(c,s,a,h).start(function(){var n=i._model.deck_f.id,r=o.default.model.deck.get(n);i._model.deck_f.updateShipList(r),i._preNext(t,e)})}})},e.prototype._selectTaihaShingun=function(t,e,i,n){var s=this,a=new m.TaskTaihaShingunSelect(this._view,i,n);a.start(function(){var i=a.result;if(0==i)s._endScene(t);else{var n=s._model.sortie.area_id,_=s._model.sortie.map_no,u=r.MapConst.getMapBGMID(n,_);1==u.battle_bgm?o.default.sound.bgm.playBattleBGM(u.id):o.default.sound.bgm.play(u.id);var c=s._model.deck_f,h=[c.id];0!=c.type&&h.push(c.id_second);var p=s._model.sortie.getNextCell().no;new l.APIShipDeck(h,n,_,p).start(function(){var n=s._model.deck_f.id,r=o.default.model.deck.get(n);s._model.deck_f.updateShipList(r),s._model.deck_f.ships[0].selectRepairItem(i);s._preNext(t,e,i)})}})},e.prototype._preNext=function(t,e,i){var n=this;if(void 0===i&&(i=0),1==t.isJunction()){t.getSelectableRoutes();this._viewNext(e,i,function(){n._view.map.plane_layer.hideAll();var t=new g.TaskBranchRoute(n,n._model);t.start(function(){var e=t.selected_no;new _.APIMapNext(n._model.sortie,i,e).start(function(){n._next(i)})})})}else{new _.APIMapNext(this._model.sortie,i).start(function(){n._viewNext(e,i,function(){n._view.map.plane_layer.hideAll(function(){n._next(i)})})})}},e.prototype._viewNext=function(t,e,i){var n=this;createjs.Tween.get(this._view.shutter).to({alpha:0},200),createjs.Tween.get(this._view.map).to({alpha:1},200),createjs.Tween.get(this._view.upper).to({alpha:1},200),createjs.Tween.get(this._view.gauge_layer).to({alpha:1},200),this._view.message_box.text="",this._view.message_box.activate(function(){n._view.map.enemy_layer.hide(function(){i()})})},e.prototype._endScene=function(t){var e=this;this._model.sortie.area_id,this._model.sortie.map_no,t.no;4==t.event_id||5==t.event_id?o.default.scene.change(0):8==t.event_id?o.default.scene.change(0):(this._view.message_box.deactivate(),createjs.Tween.get(this._view.gauge_layer).to({alpha:0},300).call(function(){var t=new a.Shutter;t.initializeDark(),e._view.universal_layer.addChild(t);var i=e._model.sortie.obtained_items;new b.TaskShowMapEndView(t,i).start(function(){o.default.scene.change(0)})}))},e.prototype.getPreInitializeTask=function(t,e){return this._model=e,new h.TaskInitPre(this,e)},e.prototype.getInitializeTask=function(t){return this.once("showed",this._startScene),new p.TaskInit(this,this._model)},e.prototype.getFinalizeTask=function(){return new d.TaskFinalize(this)},e}(s.SceneBase);e.MapScene=C},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(435),s=function(t){function e(){var e=t.call(this)||this;return e._icon=new r.CompDropItemIcon,e._icon.anchor.set(.5,1),e._text=new o.TextBox(20,16774898),e._text.position.set(17,-27),e.addChild(e._icon),e.addChild(e._text),e}return n(e,t),e.prototype.initialize=function(t,e){this._icon.update(t),this._text.text=e.toString()},e.prototype.dispose=function(){this.removeChildren(),this._text.destroy()},e}(PIXI.Container);e.CompDropItem=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(13),a=function(t){function e(e,i,n){var o=t.call(this)||this;return o._scene=e,o._ship_mst_id=i,o._ship_damaged=n,o}return n(e,t),e.prototype._start=function(){var t=this,e=new s.ShipLoader;e.add(this._ship_mst_id,this._ship_damaged,"full"),e.load(function(){t._loadComplete()})},e.prototype._loadComplete=function(){var t=this,e=o.default.resources.getShip(this._ship_mst_id,this._ship_damaged,"full"),i=PIXI.Sprite.from(e.baseTexture);i.alpha=0;var n=o.default.model.ship_graph.get(this._ship_mst_id).getMapOffset(this._ship_damaged);i.position.set(n.x-80,n.y-93),this._scene.view.chara_layer.addChild(i),createjs.Tween.get(i).to({alpha:1},300).wait(700).to({alpha:0,x:i.x-75},300).call(function(){t._scene.view.chara_layer.removeChild(i),t._endTask()})},e}(r.TaskBase);e.AnimFlagShip=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(20),a=i(50),_=i(55),l=i(25),u=i(7),c=i(68),h=function(t){function e(e,i,n,o,r,s,a,_,l,u){void 0===l&&(l=!0),void 0===u&&(u=!0);var c=t.call(this)||this;return c._map_id=e,c._mapInfo=i,c._view=n,c._stage=o,c._from=c._mapInfo.spots.length,c._mapAnime=r,c._gaugeAnime=s,c._enemyAnime=a,c._shutterAnime=_,c._gaugeLeft=l,c._gaugeView=u,c}return n(e,t),e.prototype._start=function(){this._mapAnime?this._loadInfo():this._hideEnemy()},e.prototype._loadInfo=function(){var t=this,e=(this._mapInfo.spots.length,this._mapInfo.spots.length),i=this._getPath("info"+e+".json");axios.get(i).then(function(i){var n=u.ObjUtil.getObject(i,"data");t._mapInfo.add(n),t._loadSpriteSheet(e)}).catch(function(e){t._failedEnd()})},e.prototype._loadSpriteSheet=function(t){var e=this,i=this._getPath("image"+t+".json");if(null!=PIXI.utils.TextureCache[i+"_image"])this._createLabel();else{var n=new PIXI.loaders.Loader;n.add(i),n.load(function(){e._createLabel()})}},e.prototype._createLabel=function(){for(var t=this._mapInfo.labels,e=0,i=t;e<i.length;e++){var n=i[e],o=_.MapUtil.toResKey(this._map_id),r="map"+o+"_"+n.img,s=PIXI.Texture.fromFrame(r);this._view.map.bg.addLabel(s,n.x,n.y)}this._createSpots()},e.prototype._createSpots=function(){for(var t=this._mapInfo.spots,e=this._from;e<t.length;e++){var i=t[e].no;this._view.map.addSpot(this._map_id,i,this._mapInfo),null!=t[e].landing&&this._view.map.spotLayer.addFlag(i,t[e].landing.x,t[e].landing.y)}this._createAirBase()},e.prototype._createAirBase=function(){var t=this._mapInfo.getAirBasePos();null!=t&&this._view.map.airbaseLayer.create(t),this._initCellColor()},e.prototype._initCellColor=function(){var t=[],e=this._view.map.spotLayer.getAllSpots();if(453==this._map_id&&29==this._from){for(var i=[],n=this._from;n<e.length;n++){var o=e[n];i.push(o.no)}for(var r=[],s=this,a=0,_=i;a<_.length;a++){var l=_[a];!function(t){if(r.indexOf(t)>=0)return"continue";var e=s._mapInfo.getSameSpotData(t),n=e.filter(function(e){return e.no!=t});if(n.length>0){if(n.some(function(t){return i.indexOf(t.no)>=0})&&r.indexOf(t)<0){var o=s._view.map.spotLayer.getSpot(t),a=s._mapInfo.getSpot(t).color;o.setColor(a),n.forEach(function(t){return r.push(t.no)})}}else{var o=s._view.map.spotLayer.getSpot(t),a=s._mapInfo.getSpot(t).color;o.setColor(a)}}(l)}}else for(var n=this._from;n<e.length;n++){var o=e[n];if(!(t.indexOf(o.no)>=0)){for(var u=0,c=this._mapInfo.getSameSpotData(o.no),h=0,p=c;h<p.length;h++){var d=p[h];t.push(d.no),0==u&&(u=d.color)}var f=c[0].no,y=this._view.map.spotLayer.getSpot(f);y.setColor(u)}}this.setView()},e.prototype.setView=function(){this._openSpot=[];for(var t=this._view.map.spotLayer.getAllSpots(),e=this._from;e<t.length;e++)this._openSpot.push(t[e]);this._openSpot.length>0?(this._initView(),this._hideEnemy()):this._endTask()},e.prototype._initView=function(){var t=this._view.map.bg.extraLayer;if(t)for(var e=0;e<t.children.length;e++){var i=t.getChildAt(e);i.scale.set(0),i.alpha=0}for(var n=0,o=this._openSpot;n<o.length;n++){var r=o[n],s=r.point;null!=s&&(s.scale.set(0),s.alpha=0);var a=r.route;null!=a&&(a.scale.set(0),a.alpha=0)}},e.prototype._hideEnemy=function(){var t=this;this._enemyAnime?createjs.Tween.get(null).wait(2e3).call(function(){t._view.map.plane_layer.hideAll(),t._view.map.enemy_layer.hide(function(){t._loadGaugeResource()})}):this._loadGaugeResource()},e.prototype._loadGaugeResource=function(){var t=this;if(this._gaugeAnime){this._view.gauge_layer.visible=!1;var e=Math.floor(this._map_id/10),i=this._map_id%10,n=this._stage+1,r=c.GaugeSetModel.createKey(e,i,n),s=o.default.resources.gauge.createLoaderVertical();s.add(r),s.load(function(){t._showMap()})}else this._showMap()},e.prototype._showMap=function(){var t=this;if(this._shutterAnime){var e=new a.Shutter;e.initializeDark(),e.close(0),this._view.addChild(e),this._view.shutter.alpha=0,this._view.map.alpha=1,this._view.upper.alpha=1,this._view.gauge_layer.alpha=this._gaugeView?1:0,createjs.Tween.get(null).wait(200).call(function(){e.open(),e.once("opened",function(){t._view.removeChild(e),createjs.Tween.get(null).wait(1e3).call(function(){t.animation()})})})}else this.animation()},e.prototype.animation=function(){var t=this;if(this._mapAnime){var e=new s.TweenTask,i=this._view.map.bg.extraLayer;if(i)for(var n=0;n<i.children.length;n++){var o=i.getChildAt(n),r=createjs.Tween.get(o);r.to({scaleX:1.2,scaleY:1.2,alpha:1},200),r.to({scaleX:1,scaleY:1},100),e.addTween(r)}for(var a=0,_=this._openSpot;a<_.length;a++){var l=_[a],u=l.point;if(null!=u){var r=createjs.Tween.get(u);r.to({scaleX:1.2,scaleY:1.2,alpha:1},200),r.to({scaleX:1,scaleY:1},100),e.addTween(r)}var c=l.route;if(null!=c){var r=createjs.Tween.get(c);r.wait(300),r.to({scaleX:1.2,scaleY:1.2,alpha:1},200),r.to({scaleX:1,scaleY:1},100),e.addTween(r)}}e.start(function(){t._showGauge()})}else this._showGauge()},e.prototype._showGauge=function(){var t=this;if(this._gaugeAnime){var e=Math.floor(this._map_id/10),i=this._map_id%10,n=this._stage+1,r=c.GaugeSetModel.createKey(e,i,n),s=o.default.resources.gauge.getGaugeInfo(r);if(null==s)this._wait();else{var a=s.vertical;null!=a&&this._view.gauge_layer.initialize(a,100,100),this._view.gauge_layer.visible=!0;var _=this._view.gauge_layer.createShowTween(this._gaugeLeft);_.wait(1500),_.call(function(){t._wait()})}}else this._wait()},e.prototype._wait=function(){var t=this;createjs.Tween.get(null).wait(3e3).call(function(){t._hideMap()})},e.prototype._hideMap=function(){var t=this;if(this._shutterAnime){var e=new a.Shutter;e.initializeDark(),this._view.addChild(e),createjs.Tween.get(null).wait(200).call(function(){e.close(),e.once("closed",function(){t._view.shutter.alpha=1,t._view.map.alpha=0,t._view.upper.alpha=0,t._view.gauge_layer.alpha=0,t._view.removeChild(e),t._endTask()})})}else this._endTask()},e.prototype._getPath=function(t){var e=_.MapUtil.toAreaID(this._map_id),i=_.MapUtil.toMapNo(this._map_id);return o.default.settings.path_root+"resources/map/"+l.MathUtil.zeroPadding(e,3)+"/"+l.MathUtil.zeroPadding(i,2)+"_"+t},e}(r.TaskBase);e.EventTaskCellOpen=h},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=function(t){function e(e,i,n,o,r){var s=t.call(this)||this;return s._area_id=e,s._map_no=i,s._cell_no=n,s._target_mem_id=o,s._towing_mem_id=r,s._towing_mem_id<=0?s._url="api_req_sortie/goback_port":s._url="api_req_combined_battle/goback_port",s}return n(e,t),e}(o.APIBase);e.GobackPortAPI=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(12),r=i(19),s=i(1),a=function(t){function e(e,i){var n=t.call(this)||this;return n._onMouseOver=function(){n._setTexture(!0),n._wave.start()},n._onMouseOut=function(){n._setTexture(!1),n._wave.stop()},n._onClick=function(){0!=n.buttonMode&&null!=n._cb_onClick&&n._cb_onClick(n._value)},n._value=e,n._cb_onClick=i,n._wave=new _,n._btn=new PIXI.Sprite,n.interactive=!0,n.addChild(n._wave),n.addChild(n._btn),n}return n(e,t),e.prototype._initialize=function(t,e){void 0===e&&(e=!1);for(var i=[new PIXI.Point(-17,-72),new PIXI.Point(83,-62),new PIXI.Point(101,12),new PIXI.Point(21,75),new PIXI.Point(-77,63),new PIXI.Point(-95,-9)],n=0,o=i;n<o.length;n++){o[n].x+=t}1==e&&this._drawHitArea(i),this.hitArea=new PIXI.Polygon(i),this._wave.initialize(),this._setTexture(!1)},e.prototype._drawHitArea=function(t){if(null!=t){var e=new PIXI.Graphics;e.beginFill(65280,.3),e.moveTo(t[0].x,t[0].y);for(var i=1;i<t.length;i++)e.lineTo(t[i].x,t[i].y);e.endFill(),this.addChildAt(e,0)}},e.prototype.activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(s.EventType.MOUSEOVER,this._onMouseOver),this.on(s.EventType.MOUSEOUT,this._onMouseOut),this.on(s.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.off(s.EventType.MOUSEOVER,this._onMouseOver),this.off(s.EventType.MOUSEOUT,this._onMouseOut),this.off(s.EventType.CLICK,this._onClick),this.buttonMode=!1},e.prototype.dispose=function(){this._wave.dispose(),this.deactivate(),this._cb_onClick=null},e}(PIXI.Container);e.WaveBtnBase=a;var _=function(t){function e(){var e=t.call(this)||this;return e._wave1=new o.Sprite,e._wave1.anchor.set(.5),e._initWave(e._wave1),e._wave2=new o.Sprite,e._wave2.anchor.set(.5),e._initWave(e._wave2),e._wave_tweens=new Array(2),e.addChild(e._wave1),e.addChild(e._wave2),e}return n(e,t),e.prototype.initialize=function(){this._wave1.texture=r.MAP_COMMON.getTexture(0),this._wave2.texture=r.MAP_COMMON.getTexture(0)},e.prototype.dispose=function(){this.stop()},e.prototype._initWave=function(t){t.scale.set(0),t.alpha=0},e.prototype.start=function(){this.stop(),this._wave_tweens[0]=createjs.Tween.get(this._wave1,{loop:!0}).to({alpha:1,scaleX:.4,scaleY:.4},400).to({alpha:0,scaleX:1,scaleY:1},400).to({scaleX:0,scaleY:0},0).wait(200),this._wave_tweens[1]=createjs.Tween.get(this._wave2,{loop:!0}).wait(200).to({alpha:1,scaleX:.4,scaleY:.4},400).to({alpha:0,scaleX:1,scaleY:1},400).to({scaleX:0,scaleY:0},0)},e.prototype.stop=function(){for(var t=0;t<this._wave_tweens.length;t++)null!=this._wave_tweens[t]&&(this._wave_tweens[t].setPaused(!0),this._wave_tweens[t]=null);this._initWave(this._wave1),this._initWave(this._wave2)},e}(PIXI.Container)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("battle_cutin_damage_"+t)}t.getTexture=e}(e.BATTLE_CUTIN_DAMAGE||(e.BATTLE_CUTIN_DAMAGE={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(141),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.play=function(t){for(var e=this,i=this,n=0,o=this._planes_f;n<o.length;n++){var r=o[n];!function(n){var o=new PIXI.Point(1373,n.y-405);1==i._air_raid&&(o.x+=-570,o.y+=-450),n.playForJet(o,1850),i._now_animation.push(n),n.once("complete",function(){var i=e._now_animation.indexOf(n);e._now_animation.splice(i,1),0==e._now_animation.length&&t()})}(r)}for(var s=this,a=0,_=this._planes_e;a<_.length;a++){var r=_[a];!function(i){var n=new PIXI.Point(-173,i.y-855);i.playForJet(n,1850),s._now_animation.push(i),i.once("complete",function(){var n=e._now_animation.indexOf(i);e._now_animation.splice(n,1),0==e._now_animation.length&&t()})}(r)}},e}(o.AirWarCanvas);e.AirWarJetCanvas=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=(i(0),i(43)),s=i(72),a=i(27),_=i(20),l=i(29),u=i(38),c=i(6),h=i(1351),p=i(141),d=i(180),f=i(142),y=i(182),m=i(448),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._showResult=function(){if(null==e._scene.data.model.gekimetsu_data){var t=e._scene.view.layer_info2,i=new h.AirUnitAttackResultTelop,n=e._data.plane_count_f.count,o=e._data.plane_count_f.count_stage2;i.play(t,n,o)}},e}return n(e,t),Object.defineProperty(e.prototype,"data_",{get:function(){return this._data},enumerable:!0,configurable:!0}),e.prototype._start=function(){this._log();var t=this._scene.data.model.map_info.isAirRaid();this._canvas=new p.AirWarCanvas(t),this._scene.view.layer_content.addChild(this._canvas),this._createFriendPlanes(),this._createPlanes(this._data.plane_from_e,this._ships_e),this._startAircraftFlightAnimation(),this._startMainTask()},e.prototype._log=function(){},e.prototype._startMainTask=function(){var t=this,e=new a.ParallelTask,i=createjs.Tween.get(null).call(c.SE.play,["114"]).wait(3450);e.add((new _.TweenTask).addTween(i)),e.add(new s.FuncTask(function(){t._showResult(),t._fireDogFight()},750)),e.add(new s.FuncTask(function(){t._showTaikuCutin()},900)),e.add(new s.FuncTask(function(){t._damageAtStage1()},1050)),e.add(new s.FuncTask(function(){t._antiAircraft()},1200)),e.add(new s.FuncTask(function(){t._damageAtStage2()},1350)),e.add((new l.SerialTask).add(new u.WaitTask(1700)).add((new a.ParallelTask).add(new y.TaskAirWarTorpedo(this._scene,this._data,this._canvas.planes_f,this._ships_e)).add(new y.TaskAirWarTorpedo(this._scene,this._data,this._canvas.planes_e,this._ships_f)))),e.add(new s.FuncTask(function(){t._showBakuExplosion()},2950)),e.add(new s.FuncTask(function(){t._showDamage()},3300)),this._main_task=e,this._main_task.start(function(){t._showDamageNumber()})},e.prototype._antiAircraft=function(){null==this._scene.data.model.gekimetsu_data&&t.prototype._antiAircraft.call(this)},e.prototype._showSeikuResult=function(){if(null!=this._scene.data.model.gekimetsu_data){var t=this._scene.view.layer_content;new m.TaskAirWarShowSeiku(t,this.data_.seiku).start()}},e.prototype._createFriendPlanes=function(){for(var t=(this.data_.airunit_id,this.data_.squadrons.length),e=o.default.height/Math.max(t,8),i=o.default.height/2-e*t/2,n=[],r=0;r<t;r++){var s=this.data_.squadrons[r],a=s.mst_id,_=new PIXI.Point(-75,i+e*r+.5*e);if(s.count>0){var l=new f.Plane,u=new PIXI.Point(45,18);l.initialize(a,!0,_,u),n.push(l)}if(s.count>6){var l=new f.Plane,u=new PIXI.Point(18,-27);l.initialize(a,!0,_,u),n.push(l)}}this._canvas.addPlanes_f(n)},e.prototype._getPlaneType=function(){return r.PlaneConst.getAirUnitPlaneType()},e}(d.TaskAircraftFlightBase);e.TaskAirUnit=g},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("battle_airunit_"+t)}t.getTexture=e}(e.BATTLE_AIRUNIT||(e.BATTLE_AIRUNIT={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(16),s=function(t){function e(e,i){var n=t.call(this)||this;return n._layer=e,n._seiku=i,n}return n(e,t),e.prototype._start=function(){var t=-1;if(1==this._seiku?t=136:2==this._seiku?t=140:4==this._seiku&&(t=138),t<0)this._endTask();else{var e=r.BATTLE_MAIN.getTexture(t);this._content=new PIXI.Sprite(e),this._anim()}},e.prototype._anim=function(){var t=this;this._content.position.set(600,600),this._content.anchor.set(.5),this._content.alpha=0,this._layer.addChild(this._content),createjs.Tween.get(this._content).to({alpha:1},400).wait(1800).to({alpha:0},300).call(function(){t._layer.removeChild(t._content),t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._content=null},e}(o.TaskBase);e.TaskAirWarShowSeiku=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(22),r=i(2),s=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._scene=e,r._data=i,r._from_planes=n,r._to_ships=o,r._tasks=new Array,r}return n(e,t),e.prototype._start=function(){for(var t=this,e=this,i=0,n=this._to_ships;i<n.length;i++){var o=n[i];!function(i){if(null==i)return"continue";if(1==(1==i.friend?e._data.stage3_f.getRai(i.index):e._data.stage3_e.getRai(i.index))&&e._from_planes.length>0){var n=Math.floor(Math.random()*e._from_planes.length),o=e._from_planes[n],r=e._scene.view.bannerGroupLayer.getBanner(i),s=1==i.friend?e._data.stage3_f:e._data.stage3_e,_=s.getDamage(i.index),l=s.isShield(i.index),u=new a(e._scene,o,r,_,l);e._tasks.push(u),u.start(function(){t._taskComplete(i,u)})}}(o)}0==this._tasks.length&&this._endTask()},e.prototype._taskComplete=function(t,e){var i=this._tasks.indexOf(e);this._tasks.splice(i,1),0==this._tasks.length&&this._endTask()},e.prototype._endTask=function(){this._scene=null,this._data=null,this._from_planes=null,this._to_ships=null,this._tasks=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskAerialTorpedoJet=s;var a=function(t){function e(e,i,n,o,r){var s=t.call(this)||this;return s._explosion=function(){var t=s._shield;if(1==t){var e=s._scene.view.bannerGroupLayer.getShieldTargetBanner(s._to_banner);s._scene.view.layer_damage.showShieldAtBanner(e)}s._to_banner.moveAtDamage(t);var i=s._to_banner.getGlobalPos(!0),n=s._scene.view;n.layer_explosion.playDamageExplosion(i.x,i.y,s._damage),n.layer_explosion.playTorpedoWaterColumn(s._to_banner,function(){s._endTask()})},s._scene=e,s._from_plane=i,s._to_banner=n,s._damage=o,s._shield=r,s}return n(e,t),e.prototype._start=function(){this._torpedo()},e.prototype._torpedo=function(){var t=new PIXI.Point(this._from_plane.x,this._from_plane.y),e=this._to_banner.getGlobalPos();1==this._to_banner.friend?e.x+=o.BannerSize.W/2:e.x-=o.BannerSize.W/2,this._scene.view.layer_torpedo.playAerialTorpedoJet(t,e,this._explosion)},e.prototype._endTask=function(){this._scene=null,this._from_plane=null,this._to_banner=null,t.prototype._endTask.call(this)},e}(r.TaskBase)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(43),a=i(2),_=i(29),l=i(6),u=i(143),c=i(451),h=i(451),p=i(1361),d=function(t){function e(){var e=t.call(this)||this;return e._current=-1,e._next=function(t){var i=t.view;e.view.content.addChild(i),t.start(function(){1==t.friend?e.view.overlay.showFromRight(function(){e.view.content.removeChild(i),e._cutin()}):e.view.overlay.showFromLeft(function(){e.view.content.removeChild(i),e._cutin()})})},e._tasks=new Array,e._view=new c.CutinCanvasFunnel,e}return n(e,t),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"preload_task",{get:function(){for(var t=new _.SerialTask,e=0,i=this._tasks;e<i.length;e++){var n=i[e];t.add(n.preload_task)}return t},enumerable:!0,configurable:!0}),e.prototype.addCutin=function(t,e,i,n,o,r){void 0===o&&(o=-1),void 0===r&&(r=-1);var s=new f(t,e,i,n,o,r);this._tasks.push(s)},e.prototype.addCutinFromModel=function(t,e){if(null!=t){var i,n=t.friend,o=t.mst_id,r=t.isDamaged();i=0==e?s.PlaneConst.getPlaneType(!0):s.PlaneConst.getJetPlaneType();for(var a=t.slots,_=new Array,l=0;l<a.length;l++){var u=a[l];null!=u&&(i.indexOf(u.equipTypeSp)>=0&&_.push(u.mst_id))}_.length>=3?this.addCutin(n,o,r,_[0],_[1],_[2]):2==_.length?this.addCutin(n,o,r,_[0],_[1]):1==_.length?this.addCutin(n,o,r,_[0]):this.addCutin(n,o,r,-1)}},e.prototype._start=function(){this._view.initialize(),this._view.bg.show(500),this._cutin()},e.prototype._cutin=function(){var t=this;if(++this._current<this._tasks.length){var e=this._tasks[this._current];0==this._current?this._next(e):this.view.overlay.hideToLeft(function(){t._next(e)})}else this._preEnd()},e.prototype._preEnd=function(){var t=this;this._view.bg.hide(250),this.view.overlay.hideToRight(function(){t._endTask()})},e}(a.TaskBase);e.CutinFunnel=d;var f=function(t){function e(e,i,n,s,a,_){var u=t.call(this)||this;return u._anim2=function(){var t=function(t,e,i){u._view.laser_effect.position.set(t,e),u._view.laser_effect.rotation=i/180*Math.PI},e=u._friend?1:-1;u._view.laser_effect.scale.x=e,t(o.default.width/2-330*e,150,9),u._view.laser_effect.visible=!0,l.SE.play("111"),createjs.Tween.get(null).wait(33).call(t,[o.default.width/2-315*e,144,2*e]).wait(33).call(t,[o.default.width/2-330*e,150,0]).wait(33).call(t,[o.default.width/2-315*e,144,2*e]).wait(33).call(t,[o.default.width/2-330*e,150,0]).wait(33).call(function(){u._view.laser_effect.visible=!1}).wait(100).call(u._anim3)},u._anim3=function(){1==u._friend&&r.default.sound.voice.playAtRandom(u._ship_mstid.toString(),[15,17],[50,50]),u._tweens=new Array;var t;u._plane1>0&&(t=u._createTweenPlane1(),u._tweens.push(t),t.call(u._onComplete,[t])),u._plane2>0&&(t=u._createTweenPlane2(),u._tweens.push(t),t.call(u._onComplete,[t])),u._plane3>0&&(t=u._createTweenPlane3(),u._tweens.push(t),t.call(u._onComplete,[t]));var e;e=u._friend?{x:-606,y:-252,alpha:0}:{x:1049,y:-251,alpha:0},t=createjs.Tween.get(u.view.ship).wait(900).to(e,200),u._tweens.push(t),t.call(u._onComplete,[t])},u._onComplete=function(t){var e=u._tweens.indexOf(t);e>=0&&u._tweens.splice(e,1),0==u._tweens.length&&u._endTask()},u._friend=e,u._ship_mstid=i,u._ship_damaged=n,u._plane1=s,u._plane2=a,u._plane3=_,u._view=new h.CutinCanvasFunnelOnce,u._preload_task=new p.PreloadCutinFunnel(i,n,s,a,_),u}return n(e,t),Object.defineProperty(e.prototype,"friend",{get:function(){return this._friend},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"preload_task",{get:function(){return this._preload_task},enumerable:!0,configurable:!0}),e.prototype._start=function(){this._ready()},e.prototype._ready=function(){this._view.initialize(this._friend),this._view.telop_bg.x=o.default.width/2+918*(this._friend?1:-1),this._view.telop_bg.y=683;var t=r.default.resources.getShip(this._ship_mstid,this._ship_damaged,"full");this._ship_sprite=new PIXI.Sprite(t);var e=r.default.model.ship_graph.get(this._ship_mstid);if(null!=e){var i=e.getBattleOffset(this._ship_damaged);null!=i&&(this._ship_sprite.x=i.x,this._ship_sprite.y=i.y)}this._view.ship.alpha=0,this._friend?this._view.ship.position.set(1010,165):this._view.ship.position.set(1049,-251),this._view.ship.addChild(this._ship_sprite),this._ship_sprite.mask=this._view.ship_mask,this._anim1()},e.prototype._anim1=function(){createjs.Tween.get(this._view.telop_bg).to({x:o.default.width/2,y:435},300);var t,e=this._friend;t=e?{x:17,y:-44,alpha:1}:{x:447,y:-15,alpha:1},createjs.Tween.get(this._view.ship).wait(200).to(t,200).call(this._anim2)},e.prototype._createTweenPlane1=function(){var t=this._friend?1:-1,e=new u.Plane;e.initialize(this._plane1,this._friend);var i=this._view.plane1;return i.addChild(e),i.position.set(o.default.width/2-926*t,411),i.scale.set(1.52),i.visible=!1,createjs.Tween.get(this._view.plane1).wait(200).call(function(){e.activate(),i.visible=!0,l.SE.play("107")}).to({x:o.default.width/2-563*t,y:666,scaleX:1.24,scaleY:1.24},300).to({x:o.default.width/2-458*t,y:630,scaleX:1,scaleY:1},200).wait(500).call(function(){l.SE.play("115")}).to({x:o.default.width/2+809*t,y:525},600,createjs.Ease.quadIn).call(function(){e.deactivate(),i.visible=!1})},e.prototype._createTweenPlane2=function(){var t=this._friend?1:-1,e=new u.Plane;e.initialize(this._plane2,this._friend);var i=this._view.plane2;return i.addChild(e),i.position.set(o.default.width/2-780*t,459),i.scale.set(1.16),e.activate(),l.SE.play("107"),createjs.Tween.get(this._view.plane2).to({x:o.default.width/2-453*t,y:626,scaleX:.93,scaleY:.93},200).to({x:o.default.width/2-255*t,y:495,scaleX:.88,scaleY:.88},200).wait(1e3).call(function(){l.SE.play("115")}).to({x:o.default.width/2+840*t,y:405},400,createjs.Ease.quadIn).call(function(){e.deactivate(),i.visible=!1})},e.prototype._createTweenPlane3=function(){var t=this._friend?1:-1,e=new u.Plane;e.initialize(this._plane3,this._friend);var i=this._view.plane3;return i.addChild(e),i.position.set(o.default.width/2-618*t,-221),i.scale.set(.87),i.visible=!1,createjs.Tween.get(this._view.plane3).wait(100).call(function(){e.activate(),i.visible=!0,l.SE.play("107")}).to({x:o.default.width/2-30*t,y:98,scaleX:.6,scaleY:.6},400).wait(500).call(function(){l.SE.play("115")}).to({x:o.default.width/2+900*t,y:23},800,createjs.Ease.quadIn).call(function(){e.deactivate(),i.visible=!1})},e.prototype._endTask=function(){this._view=null,this._ship_sprite=null,this._preload_task=null,t.prototype._endTask.call(this)},e}(a.TaskBase);e.CutinFunnelOnce=f},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(17),s=i(12),a=i(16),_=function(t){function e(){var e=t.call(this)||this;return e._bg=new r.FadeBox(.8),e._bg.hide(0),e._content=new PIXI.Container,e._overlay=new c,e.addChild(e._bg),e.addChild(e._content),e.addChild(e._overlay),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overlay",{get:function(){return this._overlay},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._overlay.initialize()},e}(PIXI.Container);e.CutinCanvasFunnel=_;var l=function(t){function e(){var e=t.call(this)||this;return e._telop_bg=new PIXI.Sprite,e._telop_bg.anchor.set(.5),e._laser_effect=new u,e._laser_effect.visible=!1,e._ship=new PIXI.Sprite,e._ship.alpha=0,e._ship_mask=new PIXI.Graphics,e._plane1=new s.Sprite,e._plane2=new s.Sprite,e._plane3=new s.Sprite,e.addChild(e._telop_bg),e.addChild(e._plane3),e.addChild(e._laser_effect),e.addChild(e._ship),e.addChild(e._ship_mask),e.addChild(e._plane2),e.addChild(e._plane1),e}return n(e,t),Object.defineProperty(e.prototype,"telop_bg",{get:function(){return this._telop_bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"laser_effect",{get:function(){return this._laser_effect},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ship",{get:function(){return this._ship},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ship_mask",{get:function(){return this._ship_mask},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plane1",{get:function(){return this._plane1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plane2",{get:function(){return this._plane2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plane3",{get:function(){return this._plane3},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){this._ship_mask.beginFill(16711680,.3),1==t?(this._telop_bg.texture=PIXI.Texture.fromFrame("battle_telop_kkcutin_f"),this._ship_mask.drawPolygon([new PIXI.Point(0,0),new PIXI.Point(o.default.width,0),new PIXI.Point(o.default.width,o.default.height),new PIXI.Point(o.default.width/4*3,o.default.height),new PIXI.Point(0,o.default.height/3*2)])):(this._telop_bg.texture=PIXI.Texture.fromFrame("battle_telop_kkcutin_e"),this._ship_mask.drawPolygon([new PIXI.Point(0,0),new PIXI.Point(o.default.width,0),new PIXI.Point(o.default.width,o.default.height/3*2),new PIXI.Point(o.default.width/4,o.default.height),new PIXI.Point(0,o.default.height)])),this._ship_mask.endFill()},e}(PIXI.Container);e.CutinCanvasFunnelOnce=l;var u=function(t){function e(){var e=t.call(this)||this;return e.lineStyle(2.6,65535),e.moveTo(24,198),e.lineTo(-420,-105),e.moveTo(90,174),e.lineTo(-90,-200),e.moveTo(177,177),e.lineTo(420,-195),e}return n(e,t),e}(PIXI.Graphics),c=function(t){function e(){var e=t.call(this)||this;return e._content=new PIXI.Graphics,e._content.visible=!1,e._gradient=new PIXI.Sprite,e._gradient.visible=!1,e.addChild(e._content),e._content.addChild(e._gradient),e}return n(e,t),Object.defineProperty(e.prototype,"showed",{get:function(){return this._content.visible},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._gradient.texture=a.BATTLE_MAIN.getTexture(42),this._gradient.height=o.default.height,this._content.beginFill(0),this._content.drawRect(0,0,o.default.width,o.default.height),this._content.endFill()},e.prototype.showFromRight=function(t){void 0===t&&(t=null),1!=this._content.visible&&(this._content.x=this._gradient.width+o.default.width,this._gradient.scale.x=1,this._gradient.x=-this._gradient.width,this._show(t))},e.prototype.showFromLeft=function(t){void 0===t&&(t=null),1!=this._content.visible&&(this._content.x=-this._gradient.width-o.default.width,this._gradient.scale.x=-1,this._gradient.x=o.default.width+this._gradient.width,this._show(t))},e.prototype.hideToRight=function(t){void 0===t&&(t=null),0!=this._content.visible&&(this._gradient.scale.x=1,this._gradient.x=-this._gradient.width,this._hide(o.default.width+this._gradient.width,t))},e.prototype.hideToLeft=function(t){void 0===t&&(t=null),0!=this._content.visible&&(this._gradient.scale.x=-1,this._gradient.x=o.default.width+this._gradient.width,this._hide(-o.default.width-this._gradient.width,t))},e.prototype._show=function(t){var e=this;void 0===t&&(t=null),this._stopAnimation(),this._gradient.visible=!0,this._content.visible=!0,this._t=createjs.Tween.get(this._content).to({x:0},250).call(function(){e._gradient.visible=!1,null!=t&&t()})},e.prototype._hide=function(t,e){var i=this;void 0===e&&(e=null),this._stopAnimation(),this._gradient.visible=!0,this._t=createjs.Tween.get(this._content).to({x:t},250).call(function(){i._gradient.visible=!1,i._content.visible=!1,null!=e&&e()})},e.prototype._stopAnimation=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(27),r=i(29),s=i(72),a=i(20),_=i(38),l=i(6),u=i(141),c=i(180),h=i(448),p=i(182),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),Object.defineProperty(e.prototype,"data_",{get:function(){return this._data},enumerable:!0,configurable:!0}),e.prototype._start=function(){this._log();var t=this._scene.data.model.map_info.isAirRaid();this._canvas=new u.AirWarCanvas(t),this._scene.view.layer_content.addChild(this._canvas),this._createPlanes(this._data.plane_from_f,this._ships_f),this._createPlanes(this._data.plane_from_e,this._ships_e),this._startAircraftFlightAnimation(),this._startMainTask()},e.prototype._log=function(){},e.prototype._startMainTask=function(){var t=this,e=new o.ParallelTask,i=createjs.Tween.get(null).call(l.SE.play,["114"]).wait(3450);e.add((new a.TweenTask).addTween(i)),e.add(new s.FuncTask(function(){t._fireDogFight()},750)),e.add(new s.FuncTask(function(){t._showTaikuCutin()},900)),e.add(new s.FuncTask(function(){t._damageAtStage1()},1050)),e.add(new s.FuncTask(function(){t._antiAircraft()},1200)),e.add(new s.FuncTask(function(){t._damageAtStage2()},1350)),e.add((new r.SerialTask).add(new _.WaitTask(1700)).add((new o.ParallelTask).add(new p.TaskAirWarTorpedo(this._scene,this._data,this._canvas.planes_f,this._ships_e)).add(new p.TaskAirWarTorpedo(this._scene,this._data,this._canvas.planes_e,this._ships_f)))),e.add(new s.FuncTask(function(){t._showBakuExplosion()},2950)),e.add(new s.FuncTask(function(){t._showDamage()},3300)),e.add(new s.FuncTask(function(){t._showDamageNumber()},3600)),this._main_task=e,this._main_task.start(function(){})},e.prototype._showSeikuResult=function(){var t=this._scene.view.layer_content;new h.TaskAirWarShowSeiku(t,this.data_.seiku).start()},e}(c.TaskAircraftFlightBase);e.TaskAirWar=d},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1365),r=function(t){function e(){var e=t.call(this)||this;return e._chara=new PIXI.Container,e._box=new o.CutinStatusBox,e.addChild(e._chara),e.addChild(e._box),e}return n(e,t),Object.defineProperty(e.prototype,"chara",{get:function(){return this._chara},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.removeChildren(),this._chara.removeChildren(),this._box.dispose()},e}(PIXI.Container);e.CutinCanvas=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(12),s=i(184),a=function(t){function e(e,i){var n=t.call(this)||this;return n._weight=1,n._type=e,n._night=i,n._bg=new s.TelopBG,n.addChild(n._bg),n._text=new r.Sprite,n.addChild(n._text),n}return n(e,t),e.prototype.initialize=function(t,e){switch(this._friend=e,this._text.texture=o.default.resources.getSlotitem(t,"btxt_flat"),this._text.scale.set(.83),this._setBGTexture(e),this._type){case 0:1==e?(this._bg_base_x=-600,this._text.anchor.set(1,.5),this._text_base_x=0):(this._bg_base_x=1800,this._text.anchor.set(0,.5),this._text_base_x=1200,this._weight=-1),this._bg.position.set(this._bg_base_x,516),this._text.position.set(this._text_base_x,516);break;case 1:this._text_w=this._text.width,this._bg.scale.set(1,1.5),this._bg.position.set(600,516),this._bg.alpha=0,1==e?(this._text.anchor.set(.5),this._text.position.set(1200-this._text_w/2,516)):(this._text.anchor.set(.5),this._text.position.set(0+this._text_w/2,516)),this._text.alpha=0,this._text.scale.set(.83+.2075);break;case 2:this._friend=e;var i=e?1:-1;1==e?(this._text.anchor.set(1,.5),this._text.rotation=-16/180*Math.PI,this._text.position.set(0,692)):(this._text.anchor.set(0,.5),this._text.rotation=16/180*Math.PI,this._text.position.set(1200,580)),this._bg.position.set(600-750*i,644)}},e.prototype._setBGTexture=function(t){switch(this._type){case 0:case 1:this._bg.initialize(t,!this._night);break;case 2:this._bg.removeChildren();var e=new PIXI.Sprite;1==t?0==this._night?e.texture=PIXI.Texture.fromFrame("battle_telop_mes_f_hbg"):e.texture=PIXI.Texture.fromFrame("battle_telop_mes_f_ybg"):0==this._night?e.texture=PIXI.Texture.fromFrame("battle_telop_mes_e_hbg"):e.texture=PIXI.Texture.fromFrame("battle_telop_mes_e_ybg"),e.x=-Math.round(e.width/2),e.y=-Math.round(e.height/2),this._bg.addChild(e)}},e.prototype.play=function(){switch(this._type){case 0:this.play_type1();break;case 1:this.play_type2();break;case 2:this.play_type3()}},e.prototype.play_type1=function(){createjs.Tween.get(this._bg).to({x:this._bg_base_x+1200*this._weight},200).wait(565).to({x:this._bg_base_x+1410*this._weight,alpha:0},200),createjs.Tween.get(this._text).wait(200).to({x:this._text_base_x+1155*this._weight},265).to({x:this._text_base_x+1200*this._weight},235).to({x:this._text_base_x+1800*this._weight,alpha:0},200)},e.prototype.play_type2=function(){createjs.Tween.get(this._bg).to({scaleY:1,alpha:1},433).wait(333).to({scaleY:1.5,alpha:0},200);var t=this._friend?1230-this._text_w/2:this._text_w/2-30;createjs.Tween.get(this._text).wait(200).to({scaleX:.83,scaleY:.83,alpha:1},333,createjs.Ease.sineOut).to({x:t},200).to({scaleX:.83+.2075,scaleY:.83+.2075,alpha:0},200)},e.prototype.play_type3=function(){var t=this._friend?1:-1,e=this._friend?356:244;createjs.Tween.get(this._bg).to({x:600,y:450},200).wait(566).to({alpha:0},200),createjs.Tween.get(this._text).wait(200).to({x:600+600*t,y:e},400,createjs.Ease.sineOut).to({x:600+630*t,y:e-8},100).to({x:600+1140*t,y:e-150,alpha:0},266)},e}(PIXI.Container);e.CutinTelop=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(6),s=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._onComplete=function(){r._layer.removeChild(r._planes),r._planes.stopFluctuations(),r._planes.dispose(),r._endTask()},r._layer=e,r._planes=i,r._to_pos=n,r._cb_onDamaged=o,r}return n(e,t),e.prototype._start=function(){var t=this;this._planes.startFluctuations(),this._planes.scale.set(0),this._layer.addChild(this._planes),r.SE.play("115"),createjs.Tween.get(this._planes.scale).to({x:1,y:1},250).call(function(){var e=t._to_pos,i=t._planes.friend?1275:-75;t._planes.play(e,i,2500,t._cb_onDamaged,t._onComplete)})},e.prototype._endTask=function(){this._layer=null,this._planes=null,this._to_pos=null,this._cb_onDamaged=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskPlane=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(66),r=i(6),s=i(142),a=function(t){function e(e){var i=t.call(this)||this;return i._friend=e,i._planes=[],i}return n(e,t),Object.defineProperty(e.prototype,"friend",{get:function(){return this._friend},enumerable:!0,configurable:!0}),e.prototype.addPlane=function(t,e){if(void 0===e&&(e=null),!(this._planes.length>=3)){var i=new s.Plane;null==e&&(e=new PIXI.Point,0==this._planes.length?(e.x=45,e.y=18):1==this._planes.length?(e.x=18,e.y=-27):2==this._planes.length&&(e.x=-36,e.y=38)),i.initialize(t,this._friend,new PIXI.Point,e),this._planes.push(i);for(var n=0;n<this._planes.length;n++){var o=this._planes[n];if(i.y<o.y){var r=this.getChildIndex(o);this.addChildAt(i,r);break}n==this._planes.length-1&&this.addChild(i)}}},e.prototype.dispose=function(){for(var t=0,e=this._planes;t<e.length;t++){e[t].dispose()}},e.prototype.startFluctuations=function(){for(var t=0,e=this._planes;t<e.length;t++){e[t].startFluctuations()}},e.prototype.stopFluctuations=function(){for(var t=0,e=this._planes;t<e.length;t++){e[t].stopFluctuations()}},e.prototype.fire=function(){for(var t=0,e=this._planes;t<e.length;t++){e[t].fire()}},e.prototype.play=function(t,e,i,n,s){var a=this;void 0===e&&(e=NaN),void 0===s&&(s=null);var _,l=new PIXI.Point(this.x,this.y),u=this._createControllPoints(l,t),c=u.c1,h=u.c2;if(0==isNaN(e)){var p=.99,d=1-p,f=Math.pow(d,3)*l.x+3*Math.pow(d,2)*p*c.x+3*d*p*p*h.x+p*p*p*t.x,y=Math.pow(d,3)*l.y+3*Math.pow(d,2)*p*c.y+3*d*p*p*h.y+p*p*p*t.y,m=t.y+(e-t.x)*(t.y-y)/(t.x-f),g=t.x-f,v=(e-t.x)/g,b=i/(100+v)*100,w=i/(100+v)*v;this._tween=o.TweenUtil.create3BezierTween(this,l,c,h,t,b),null!=n&&this._tween.call(n),this._tween.to({x:e,y:m},w),_=new PIXI.Point(e,m)}else this._tween=o.TweenUtil.create3BezierTween(this,l,c,h,t,i),null!=n&&this._tween.call(n),_=new PIXI.Point(t.x,t.y);return null!=s&&this._tween.call(s),createjs.Tween.get(null).wait(.7*i).call(function(){r.SE.play("116"),a.fire()}),{s:l,c1:c,c2:h,e:t,ex:_}},e.prototype.debugLine=function(t){var e=new PIXI.Graphics;return e.lineStyle(1,16711680),e.moveTo(t.s.x,t.s.y),e.bezierCurveTo(t.c1.x,t.c1.y,t.c2.x,t.c2.y,t.e.x,t.e.y),e.lineStyle(1,65280),e.lineTo(t.ex.x,t.ex.y),e},e.prototype._createControllPoints=function(t,e){var i,n,o=t.x<=e.x;return 1==o?(i=new PIXI.Point(Math.min(t.x,e.x)+(e.x-t.x)/3,Math.max(e.y,t.y)+150),n=new PIXI.Point(Math.min(t.x,e.x)+(e.x-t.x)/3*2,Math.max(e.y,t.y)+150)):(i=new PIXI.Point(Math.max(t.x,e.x)+(e.x-t.x)/3,Math.max(e.y,t.y)+150),n=new PIXI.Point(Math.max(t.x,e.x)+(e.x-t.x)/3*2,Math.max(e.y,t.y)+150)),{c1:i,c2:n}},e}(PIXI.Container);e.PlaneTrio=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(22),s=i(6),a=i(185),_=i(185),l=i(185),u=i(185),c=i(39),h=function(t){function e(e,i,n,r,s,c,h,p,d,f){var y=t.call(this,e,n,s,p,d,f)||this;if(y._slot2=o.default.model.slot.getMst(c),y._slot3=o.default.model.slot.getMst(h),y._defender=r,3==i)y._cutin=new a.CutinDanchaku1(n,y._slot,y._slot2,y._slot3);else if(4==i)y._cutin=new _.CutinDanchaku2(n,y._slot,y._slot2,y._slot3);else if(5==i)y._cutin=new l.CutinDanchaku3(n,y._slot,y._slot2,y._slot3);else if(6==i)y._cutin=new u.CutinDanchaku4(n,y._slot,y._slot2,y._slot3);else if(200==i)y._cutin=new a.CutinDanchaku1(n,y._slot,y._slot2,y._slot3,1);else{if(201!=i)throw new Error;y._cutin=new a.CutinDanchaku1(n,y._slot,y._slot2,y._slot3,2)}return y}return n(e,t),e.prototype._start=function(){var t=this;this._cutin.getPreloadTask().start(function(){t._completePreload()})},e.prototype._completePreload=function(){var t,e,i=this,n=this._attacker.friend,o=this._attacker.index,s=this._defender.index;1==n?(t=this._scene.view.bannerGroupLayer.getBanner(!0,o),e=this._scene.view.bannerGroupLayer.getBanner(!1,s)):(t=this._scene.view.bannerGroupLayer.getBanner(!1,o),e=this._scene.view.bannerGroupLayer.getBanner(!0,s)),t.moveFront(),e.moveFront(),this._scene.view.layer_cutin.addChild(this._cutin.view),this._cutin.start(),this._cutin.view.once("attack",function(){i._playVoice();var n=i._getDamage(i._defender),o=e.getGlobalPos(!0),s=Math.random()*r.BannerSize.W-r.BannerSize.W/2,a=Math.random()*r.BannerSize.H-r.BannerSize.H/2,_=Math.random()*r.BannerSize.W-r.BannerSize.W/2,l=Math.random()*r.BannerSize.H-r.BannerSize.H/2;createjs.Tween.get(null).wait(800).call(function(){e.moveAtDamage(i._shield),i._scene.view.layer_explosion.playDamageExplosion(o.x,o.y,n)}).wait(150).call(function(){i._scene.view.layer_explosion.playExplosionSmall(o.x+s,o.y+a)}).wait(100).call(function(){i._scene.view.layer_explosion.playExplosionSmall(o.x+_,o.y+l,function(){i._attack(t,e)})})})},e.prototype._attack=function(t,e){var i=this;s.SE.play("102"),t.attack(function(){i._damageEffect(t,e)})},e.prototype._damageEffect=function(t,e){1==this._shield&&this._showShield(e),e.moveAtDamage(this._shield);var i=this._getDamage(this._defender);this._playExplosion(e,i),this._playDamageEffect(t,e,this._defender,i,this._hit)},e.prototype._playVoice=function(){if(this._attacker.friend){var t=this._attacker.mst_id;o.default.sound.voice.play(t.toString(),17)}},e.prototype._log=function(t){},e}(c.PhaseAttackBase);e.PhaseAttackDanchaku=h},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(258),a=i(44),_=function(t){function e(e,i,n,o){return t.call(this,e,i,n,o)||this}return n(e,t),e.prototype.resume=function(){var t=this;null!=this._slot2?(this._telop2.initialize(this._slot2.mstID,this._attacker.friend),this._view.addChildAt(this._telop2,0),this._telop2.play(),createjs.Tween.get(this).wait(150).call(function(){t._resume()})):this._resume()},e.prototype._start=function(){var t=this,e=this._attacker.mst_id,i=this._attacker.isDamaged();this._ship_sprite=new PIXI.Sprite(r.default.resources.getShip(e,i,"full")),this._shipFlash=new a.ShipFlash(r.default.resources.getShip(e,i,"full"));var n=r.default.model.ship_graph.get(e).getBattleOffset(i);this._ship_sprite.x=n.x,this._ship_sprite.y=n.y;var s=this._base_pos,_=this._friend?1:-1;if(this._view.chara.position.set(s.x-180*_,s.y+120),this._view.chara.alpha=0,this._view.chara.addChild(this._ship_sprite),this._view.chara.addChild(this._shipFlash),createjs.Tween.get(this._view.chara).wait(235).to({x:s.x-30*_,y:s.y+15,alpha:1},300).to({x:s.x,y:s.y},250).call(function(){t._view.emit("attack"),t._shipFlash.position=t._ship_sprite.position,t._shipFlash.play()}).wait(135),null!=this._slot1||null!=this._slot2){var l=this._view.box;l.initilize(this._attacker);var u=0;1==this._attacker.friend?l.x=-60:(u=o.default.width-l.width,l.x=u+60),l.y=o.default.height-l.height,l.alpha=0,createjs.Tween.get(l).wait(365).to({x:u,alpha:1},165).wait(900).to({alpha:0},200),null!=this._slot1&&(this._telop1.initialize(this._slot1.mstID,this._attacker.friend),this._view.addChildAt(this._telop1,0),this._telop1.play())}},e.prototype._resume=function(){var t=this,e=this._base_pos,i=this._friend?1:-1;createjs.Tween.get(this._view.chara).call(function(){t._view.emit("attack"),t._shipFlash.play()}).wait(135).wait(200).to({x:e.x+38*i,y:e.y-23},135).to({x:e.x+135*i,y:e.y-75,alpha:0},335).call(function(){t._ship_sprite.parent.removeChild(t._ship_sprite),t._endTask()})},e}(s.CutinDouble);e.CutinDouble1=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(43),r=i(1374),s=i(1377),a=i(123),_=i(455),l=i(456),u=i(39),c=function(t){function e(e,i,n,o,a,_,u,c,h,p){void 0===p&&(p=!1);var d=t.call(this,e,i,o,u,c,h)||this;d._onAttack=function(){d._playVoice(),d._createPlanes()},d._onDamaged=function(){1==d._shield&&d._showShield(d._d_banner),d._d_banner.moveAtDamage(d._shield);var t=d._getDamage(d._defender);d._playExplosion(d._d_banner,t),d._playDamageEffect(d._a_banner,d._d_banner,d._defender,t,d._hit,function(){d._complete_flg_damage=!0,d._endTask()})},d._complete_flg_plane=!1,d._complete_flg_damage=!1,d._defender=n,d._yasenkouku=p;var f=d._scene.data.isNight(),y=d._scene.view.layer_cutin;return d._cutin=0==f?new r.CutinKuboDay(y,i,o,a,_):new s.CutinKuboNight(y,i,o,a,_),d._trio=new l.PlaneTrio(i.friend),d}return n(e,t),e.prototype._start=function(){var t=this;this._cutin.getPreloadTask().start(function(){t._completePreload()})},e.prototype._completePreload=function(){var t=this._attacker.friend,e=this._attacker.index,i=this._defender.index;1==t?(this._a_banner=this._scene.view.bannerGroupLayer.getBanner(!0,e),this._d_banner=this._scene.view.bannerGroupLayer.getBanner(!1,i)):(this._a_banner=this._scene.view.bannerGroupLayer.getBanner(!1,e),this._d_banner=this._scene.view.bannerGroupLayer.getBanner(!0,i)),this._cutin.setCallback(this._onAttack),this._cutin.start()},e.prototype._createPlanes=function(){var t;t=1==this._defender.isSubMarine()?o.PlaneConst.getPlaneType(!0):o.PlaneConst.getPlaneType(!1);for(var e=this._attacker.slots,i=0,n=e;i<n.length;i++){var r=n[i];if(null!=r&&t.indexOf(r.equipTypeSp)>=-0){var s=r.mst_id;if(this._scene.data.isNight()&&"\u30a2\u30fc\u30af\u30ed\u30a4\u30e4\u30eb"==this._attacker.yomi&&0==this._yasenkouku&&242!=s&&243!=s&&244!=s)continue;var a=this._a_banner.getGlobalPos(!0);this._trio.x=a.x,this._trio.y=a.y,this._trio.addPlane(s)}}this._attack()},e.prototype._attack=function(){var t=this,e=this._scene.view.layer_content,i=this._a_banner,n=this._d_banner;new a.TaskDaihatsuEff(e,i,n,this._daihatsu_eff).start();var o=n.getGlobalPos(!0);new _.TaskPlane(e,this._trio,o,this._onDamaged).start(function(){t._complete_flg_plane=!0,t._endTask()})},e.prototype._endTask=function(){0!=this._complete_flg_plane&&0!=this._complete_flg_damage&&t.prototype._endTask.call(this)},e}(u.PhaseAttackBase);e.PhaseAttackKuboCutin=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=i(1375),s=function(t){function e(e,i,n,o,s){var a=t.call(this)||this;return a._attacker=e,a._slot_mst_id1=i,a._slot_mst_id2=n,a._slot_mst_id3=o,a._preload_task=new r.PreloadCutinKubo(e,i,n,o,s),a}return n(e,t),e.prototype.getPreloadTask=function(){return this._preload_task},e.prototype.setCallback=function(t){this._cb_onAttack=t},e.prototype._endTask=function(){this._attacker=null,this._preload_task=null,this._cb_onAttack=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.CutinKuboBase=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(6),r=i(2),s=i(22),a=i(1379),_=i(54),l=function(t){function e(e,i,n,o,r){var s=t.call(this)||this;return s._scene=e,s._attackers=[s._scene.data.model.deck_f.ships[0],s._scene.data.model.deck_f.ships[2],s._scene.data.model.deck_f.ships[4]],s._defenders=i,s._hits=o,s._damages=n,s._shields=r,s._damage_cutin=new _.PhaseDamageCutin(e),s._cutin=new a.CutinNelsonTouch(s._attackers),s}return n(e,t),e.prototype._start=function(){var t=this;this._cutin.getPreloadTask().start(function(){t._completePreload()})},e.prototype._completePreload=function(){for(var t=this,e=this._attackers[0].friend,i=[],n=[],o=0;o<this._attackers.length;o++){var r=this._attackers[o].index,s=this._scene.view.bannerGroupLayer.getBanner(!!e,r);i.push(s),s.moveFront()}for(var o=0;o<this._defenders.length;o++){var a=this._defenders[o].index,_=this._scene.view.bannerGroupLayer.getBanner(!e,a);n.push(_)}this._scene.view.layer_cutin.addChild(this._cutin.view),this._cutin.start(function(){t._explosion(i,n,0)})},e.prototype._explosion=function(t,e,i){var n=this,o=e[i].getGlobalPos(!0),r=Math.random()*s.BannerSize.W-s.BannerSize.W/2,a=Math.random()*s.BannerSize.H-s.BannerSize.H/2,_=Math.random()*s.BannerSize.W-s.BannerSize.W/2,l=Math.random()*s.BannerSize.H-s.BannerSize.H/2;createjs.Tween.get(null).wait(200).call(function(){e[i].moveAtDamage(n._shields[i]),n._scene.view.layer_explosion.playDamageExplosion(o.x,o.y,n._damages[i])}).wait(150).call(function(){n._scene.view.layer_explosion.playExplosionSmall(o.x+r,o.y+a)}).wait(100).call(function(){n._scene.view.layer_explosion.playExplosionSmall(o.x+_,o.y+l,function(){n._attack(t,e,i)})})},e.prototype._attack=function(t,e,i){o.SE.play("102"),this._damageEffect(t,e,i)},e.prototype._damageEffect=function(t,e,i){1==this._shields[i]&&this._showShield(e[i]),e[i].moveAtDamage(this._shields[i]),this._playExplosion(e[i],this._damages[i]),this._playDamageEffect(t,e,i)},e.prototype._showShield=function(t){var e=this._scene.view.bannerGroupLayer.getShieldTargetBanner(t);this._scene.view.layer_damage.showShieldAtBanner(e)},e.prototype._playExplosion=function(t,e){var i=t.getGlobalPos(!0);this._scene.view.layer_explosion.playDamageExplosion(i.x,i.y,e)},e.prototype._playDamageEffect=function(t,e,i){var n=this;this._scene.view.layer_damage.showAtBanner(e[i],this._damages[i],this._hits[i]);var o=createjs.Tween.get(null);o.wait(200),o.call(function(){if(n._damage_cutin.causeDamage(n._defenders[i],n._damages[i]),e[i].updateHp(n._defenders[i].hp_now),i+1>=n._defenders.length)for(var o=0;o<n._attackers.length;o++)t[o].moveDefault()}),i+1>=this._defenders.length?(o.wait(1e3),o.call(function(){n._endTask()})):(o.wait(150),o.call(function(){n._explosion(t,e,i+1)}))},e.prototype._endTask=function(){var e=this;this._damage_cutin.start(function(){t.prototype._endTask.call(e)})},e.prototype._log=function(t){},e}(r.TaskBase);e.PhaseNelsonTouch=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(6),r=i(2),s=i(22),a=i(1381),_=i(54),l=function(t){function e(e,i,n,o,r){var s=t.call(this)||this;return s._scene=e,s._attackers=[s._scene.data.model.deck_f.ships[0],s._scene.data.model.deck_f.ships[1]],s._defenders=i,s._hits=o,s._damages=n,s._shields=r,s._damage_cutin=new _.PhaseDamageCutin(e),s._cutin=new a.CutinNagatoAttack(s._attackers),s}return n(e,t),e.prototype._start=function(){var t=this;this._cutin.getPreloadTask().start(function(){t._completePreload()})},e.prototype._completePreload=function(){for(var t=this,e=this._attackers[0].friend,i=[],n=[],o=0;o<this._attackers.length;o++){var r=this._attackers[o].index,s=this._scene.view.bannerGroupLayer.getBanner(!!e,r);i.push(s),s.moveFront()}for(var o=0;o<this._defenders.length;o++){var a=this._defenders[o].index,_=this._scene.view.bannerGroupLayer.getBanner(!e,a);n.push(_)}this._scene.view.layer_cutin.addChild(this._cutin.view),this._cutin.start(function(){t._explosion(i,n,0)})},e.prototype._explosion=function(t,e,i){var n=this,o=e[i].getGlobalPos(!0),r=Math.random()*s.BannerSize.W-s.BannerSize.W/2,a=Math.random()*s.BannerSize.H-s.BannerSize.H/2,_=Math.random()*s.BannerSize.W-s.BannerSize.W/2,l=Math.random()*s.BannerSize.H-s.BannerSize.H/2;createjs.Tween.get(null).wait(200).call(function(){e[i].moveAtDamage(n._shields[i]),n._scene.view.layer_explosion.playDamageExplosion(o.x,o.y,n._damages[i])}).wait(150).call(function(){n._scene.view.layer_explosion.playExplosionSmall(o.x+r,o.y+a)}).wait(100).call(function(){n._scene.view.layer_explosion.playExplosionSmall(o.x+_,o.y+l,function(){n._attack(t,e,i)})})},e.prototype._attack=function(t,e,i){o.SE.play("102"),this._damageEffect(t,e,i)},e.prototype._damageEffect=function(t,e,i){1==this._shields[i]&&this._showShield(e[i]),e[i].moveAtDamage(this._shields[i]),this._playExplosion(e[i],this._damages[i]),this._playDamageEffect(t,e,i)},e.prototype._showShield=function(t){var e=this._scene.view.bannerGroupLayer.getShieldTargetBanner(t);this._scene.view.layer_damage.showShieldAtBanner(e)},e.prototype._playExplosion=function(t,e){var i=t.getGlobalPos(!0);this._scene.view.layer_explosion.playDamageExplosion(i.x,i.y,e)},e.prototype._playDamageEffect=function(t,e,i){var n=this;this._scene.view.layer_damage.showAtBanner(e[i],this._damages[i],this._hits[i]);var o=createjs.Tween.get(null);o.wait(200),o.call(function(){if(n._damage_cutin.causeDamage(n._defenders[i],n._damages[i]),e[i].updateHp(n._defenders[i].hp_now),i+1>=n._defenders.length)for(var o=0;o<n._attackers.length;o++)t[o].moveDefault()}),i+1>=this._defenders.length?(o.wait(1e3),o.call(function(){n._endTask()})):(o.wait(150),o.call(function(){n._explosion(t,e,i+1)}))},e.prototype._endTask=function(){var e=this;this._damage_cutin.start(function(){t.prototype._endTask.call(e)})},e.prototype._log=function(t){},e}(r.TaskBase);e.PhaseNagatoAttack=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(6),r=i(2),s=i(22),a=i(1383),_=i(54),l=function(t){function e(e,i,n,o,r){var s=t.call(this)||this;return s._scene=e,s._attackers=[s._scene.data.model.deck_f.ships[0],s._scene.data.model.deck_f.ships[1]],s._defenders=i,s._hits=o,s._damages=n,s._shields=r,s._damage_cutin=new _.PhaseDamageCutin(e),s._cutin=new a.CutinMutsuAttack(s._attackers),s}return n(e,t),e.prototype._start=function(){var t=this;this._cutin.getPreloadTask().start(function(){t._completePreload()})},e.prototype._completePreload=function(){for(var t=this,e=this._attackers[0].friend,i=[],n=[],o=0;o<this._attackers.length;o++){var r=this._attackers[o].index,s=this._scene.view.bannerGroupLayer.getBanner(!!e,r);i.push(s),s.moveFront()}for(var o=0;o<this._defenders.length;o++){var a=this._defenders[o].index,_=this._scene.view.bannerGroupLayer.getBanner(!e,a);n.push(_)}this._scene.view.layer_cutin.addChild(this._cutin.view),this._cutin.start(function(){t._explosion(i,n,0)})},e.prototype._explosion=function(t,e,i){var n=this,o=e[i].getGlobalPos(!0),r=Math.random()*s.BannerSize.W-s.BannerSize.W/2,a=Math.random()*s.BannerSize.H-s.BannerSize.H/2,_=Math.random()*s.BannerSize.W-s.BannerSize.W/2,l=Math.random()*s.BannerSize.H-s.BannerSize.H/2;createjs.Tween.get(null).wait(200).call(function(){e[i].moveAtDamage(n._shields[i]),n._scene.view.layer_explosion.playDamageExplosion(o.x,o.y,n._damages[i])}).wait(150).call(function(){n._scene.view.layer_explosion.playExplosionSmall(o.x+r,o.y+a)}).wait(100).call(function(){n._scene.view.layer_explosion.playExplosionSmall(o.x+_,o.y+l,function(){n._attack(t,e,i)})})},e.prototype._attack=function(t,e,i){o.SE.play("102"),this._damageEffect(t,e,i)},e.prototype._damageEffect=function(t,e,i){1==this._shields[i]&&this._showShield(e[i]),e[i].moveAtDamage(this._shields[i]),this._playExplosion(e[i],this._damages[i]),this._playDamageEffect(t,e,i)},e.prototype._showShield=function(t){var e=this._scene.view.bannerGroupLayer.getShieldTargetBanner(t);this._scene.view.layer_damage.showShieldAtBanner(e)},e.prototype._playExplosion=function(t,e){var i=t.getGlobalPos(!0);this._scene.view.layer_explosion.playDamageExplosion(i.x,i.y,e)},e.prototype._playDamageEffect=function(t,e,i){var n=this;this._scene.view.layer_damage.showAtBanner(e[i],this._damages[i],this._hits[i]);var o=createjs.Tween.get(null);o.wait(200),o.call(function(){if(n._damage_cutin.causeDamage(n._defenders[i],n._damages[i]),e[i].updateHp(n._defenders[i].hp_now),i+1>=n._defenders.length)for(var o=0;o<n._attackers.length;o++)t[o].moveDefault()}),i+1>=this._defenders.length?(o.wait(1e3),o.call(function(){n._endTask()})):(o.wait(150),o.call(function(){n._explosion(t,e,i+1)}))},e.prototype._endTask=function(){var e=this;this._damage_cutin.start(function(){t.prototype._endTask.call(e)})},e.prototype._log=function(t){},e}(r.TaskBase);e.PhaseMutsuAttack=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(6),r=i(2),s=i(22),a=i(1385),_=i(54),l=function(t){function e(e,i,n,o,r){var s=t.call(this)||this;return s._scene=e,s._attackers=[s._scene.data.model.deck_f.ships[0],s._scene.data.model.deck_f.ships[1],s._scene.data.model.deck_f.ships[2]],s._defenders=i,s._hits=o,s._damages=n,s._shields=r,s._damage_cutin=new _.PhaseDamageCutin(e),s._cutin=new a.CutinColoradoAttack(s._attackers),s}return n(e,t),e.prototype._start=function(){var t=this;this._cutin.getPreloadTask().start(function(){t._completePreload()})},e.prototype._completePreload=function(){for(var t=this,e=this._attackers[0].friend,i=[],n=[],o=0;o<this._attackers.length;o++){var r=this._attackers[o].index,s=this._scene.view.bannerGroupLayer.getBanner(!!e,r);i.push(s),s.moveFront()}for(var o=0;o<this._defenders.length;o++){var a=this._defenders[o].index,_=this._scene.view.bannerGroupLayer.getBanner(!e,a);n.push(_)}this._scene.view.layer_cutin.addChild(this._cutin.view),this._cutin.start(function(){t._explosion(i,n,0)})},e.prototype._explosion=function(t,e,i){var n=this,o=e[i].getGlobalPos(!0),r=Math.random()*s.BannerSize.W-s.BannerSize.W/2,a=Math.random()*s.BannerSize.H-s.BannerSize.H/2,_=Math.random()*s.BannerSize.W-s.BannerSize.W/2,l=Math.random()*s.BannerSize.H-s.BannerSize.H/2;createjs.Tween.get(null).wait(200).call(function(){e[i].moveAtDamage(n._shields[i]),n._scene.view.layer_explosion.playDamageExplosion(o.x,o.y,n._damages[i])}).wait(150).call(function(){n._scene.view.layer_explosion.playExplosionSmall(o.x+r,o.y+a)}).wait(100).call(function(){n._scene.view.layer_explosion.playExplosionSmall(o.x+_,o.y+l,function(){n._attack(t,e,i)})})},e.prototype._attack=function(t,e,i){o.SE.play("102"),this._damageEffect(t,e,i)},e.prototype._damageEffect=function(t,e,i){1==this._shields[i]&&this._showShield(e[i]),e[i].moveAtDamage(this._shields[i]),this._playExplosion(e[i],this._damages[i]),this._playDamageEffect(t,e,i)},e.prototype._showShield=function(t){var e=this._scene.view.bannerGroupLayer.getShieldTargetBanner(t);this._scene.view.layer_damage.showShieldAtBanner(e)},e.prototype._playExplosion=function(t,e){var i=t.getGlobalPos(!0);this._scene.view.layer_explosion.playDamageExplosion(i.x,i.y,e)},e.prototype._playDamageEffect=function(t,e,i){var n=this;this._scene.view.layer_damage.showAtBanner(e[i],this._damages[i],this._hits[i]);var o=createjs.Tween.get(null);o.wait(200),o.call(function(){if(n._damage_cutin.causeDamage(n._defenders[i],n._damages[i]),e[i].updateHp(n._defenders[i].hp_now),i+1>=n._defenders.length)for(var o=0;o<n._attackers.length;o++)t[o].moveDefault()}),i+1>=this._defenders.length?(o.wait(1e3),o.call(function(){n._endTask()})):(o.wait(150),o.call(function(){n._explosion(t,e,i+1)}))},e.prototype._endTask=function(){var e=this;this._damage_cutin.start(function(){t.prototype._endTask.call(e)})},e.prototype._log=function(t){},e}(r.TaskBase);e.PhaseColoradoAttack=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(27),s=i(6),a=i(16),_=i(54),l=function(t){function e(e,i,n){var o=t.call(this)||this;return o.DELAYS=[0,266,33,366,133,200],o._scene=e,o._data=i,o._ships_e=n,o._damage_cutin=new _.PhaseDamageCutin(e),o}return n(e,t),e.prototype._start=function(){for(var t=this,e=this._scene.view.layer_content,i=new r.ParallelTask,n=0;n<6;n++){var o=new PIXI.Point(180-24*n,-60),a=(18+3*n)/180*Math.PI,_=new h(e,o,a,this.DELAYS[n]);i.add(_)}for(var l=[],p=this._ships_e,n=0;n<p.length;n++){var d=p[n];if(null!=d&&!(d.hp_now<=0)){var f=new u(this._scene,this._data,this._damage_cutin,d,1e3);if(i.add(f),1==this._data.isShield(n)){var y=this._scene.view.bannerGroupLayer.getBanner(d),m=this._scene.view.bannerGroupLayer.getShieldTargetBanner(y);-1==l.indexOf(m)&&l.push(m)}}}for(var g=0,v=l;g<v.length;g++){var b=v[g];i.add(new c(this._scene,b,1e3))}s.SE.play("101"),i.start(function(){t._endTask()})},e.prototype._endTask=function(){this._scene=null,this._data=null,this._ships_e=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.PhaseSupportHou=l;var u=function(t){function e(e,i,n,o,r){void 0===r&&(r=0);var s=t.call(this)||this;return s.__start=function(){var t=s._scene.view.bannerGroupLayer.getBanner(s._defender),e=s._defender.index,i=s._data.getDamage(e),n=s._data.getHitType(e),o=s._data.isShield(e);t.moveAtDamage(o);var r=t.getGlobalPos();s._scene.view.layer_explosion.playExplosionLarge(r.x,r.y),s._scene.view.layer_damage.showAtBanner(t,i,n),createjs.Tween.get(null).wait(200).call(function(){s._damage_cutin.causeDamage(s._defender,i),t.updateHp(s._defender.hp_now)}).wait(600).call(function(){s._endTask()})},s._scene=e,s._data=i,s._damage_cutin=n,s._defender=o,s._delay=r,s}return n(e,t),e.prototype._start=function(){this._delay>0?createjs.Tween.get(null).wait(this._delay).call(this.__start):this.__start()},e.prototype._endTask=function(){this._scene=null,this._data=null,this._damage_cutin=null,this._defender=null,t.prototype._endTask.call(this)},e}(o.TaskBase),c=function(t){function e(e,i,n){void 0===n&&(n=0);var o=t.call(this)||this;return o.__start=function(){o._scene.view.layer_damage.showShieldAtBanner(o._target),o._endTask()},o._scene=e,o._target=i,o._delay=n,o}return n(e,t),e.prototype._start=function(){this._delay>0?createjs.Tween.get(null).wait(this._delay).call(this.__start):this.__start()},e.prototype._endTask=function(){this._scene=null,this._target=null,t.prototype._endTask.call(this)},e}(o.TaskBase),h=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r.__start=function(){r._layer.addChild(r._canvas),r._canvas.rotation=r._rotate,r._createBulletTween(0,0,0,318,-2,441,-2),r._createBulletTween(0,-3,100,318,-6,441,-8),r._createBulletTween(0,2,200,326,0,452,-2),r._createBulletTween(0,-6,233,333,0,462,3),r._createBulletTween(0,0,300,333,-5,500,-6),r._createBulletTween(0,3,400,302,-5,452,-8),r._createBulletTween(0,2,433,327,5,491,6).call(function(){r._layer.removeChild(r._canvas),r._endTask()})},r._canvas=new PIXI.Container,r._layer=e,r._pos=i,r._rotate=n,r._delay=o,r}return n(e,t),e.prototype._start=function(){this._delay>0?createjs.Tween.get(null).wait(this._delay).call(this.__start):this.__start()},e.prototype._createBulletTween=function(t,e,i,n,o,r,s){var a=new p;return a.position.set(this._pos.x+t,this._pos.y+e),a.scale.set(.36),a.initialize(),this._canvas.addChild(a),createjs.Tween.get(a).wait(i).to({x:this._pos.x+n,y:this._pos.y+o},500).to({x:this._pos.x+r,y:this._pos.y+s,alpha:0},200)},e}(o.TaskBase),p=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite,e._img.x=-27,e._img.y=-15,e.addChild(e._img),e}return n(e,t),e.prototype.initialize=function(){this._img.texture=a.BATTLE_MAIN.getTexture(41)},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(27),s=i(6),a=i(16),_=i(54),l=function(t){function e(e,i,n){var o=t.call(this)||this;return o.DELAYS=[0,250,33,366,133,200],o._scene=e,o._data=i,o._ships_e=n,o._damage_cutin=new _.PhaseDamageCutin(e),o}return n(e,t),e.prototype._start=function(){for(var t=this,e=this._scene.view.layer_content,i=new r.ParallelTask,n=[],o=this._ships_e,a=0;a<o.length;a++){var _=o[a];if(null!=_&&!(_.hp_now<=0)){var l=this._scene.view.bannerGroupLayer.getBanner(_);if(null!=l){var d=new u;d.initialize(),d.x=180-24*a,d.y=-90;var f=l.getGlobalPos(),y=new c(e,d,f,this.DELAYS[a]);i.add(y);var m=new h(this._scene,this._data,this._damage_cutin,_,1500);if(i.add(m),1==this._data.isShield(a)){var g=this._scene.view.bannerGroupLayer.getShieldTargetBanner(l);-1==n.indexOf(g)&&n.push(g)}}}}for(var v=0,b=n;v<b.length;v++){var w=b[v];i.add(new p(this._scene,w,1500))}s.SE.play("112"),i.start(function(){t._endTask()})},e.prototype._endTask=function(){this._scene=null,this._data=null,this._ships_e=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.PhaseSupportRai=l;var u=function(t){function e(){var e=t.call(this)||this;return e.anchor.x=1,e.anchor.y=.5,e}return n(e,t),e.prototype.initialize=function(){this.texture=a.BATTLE_MAIN.getTexture(50)},e}(PIXI.Sprite),c=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._layer=e,r._torpedo=i,r._target=n,r._delay=o,r}return n(e,t),e.prototype._start=function(){var t=this,e=this._target.x-this._torpedo.x,i=this._target.y-this._torpedo.y;this._torpedo.rotation=Math.atan2(i,e),createjs.Tween.get(this._torpedo).wait(this._delay).call(function(){t._layer.addChild(t._torpedo)}).to({x:this._target.x,y:this._target.y},1400).call(function(){t._layer.removeChild(t._torpedo),t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._torpedo=null,this._target=null,t.prototype._endTask.call(this)},e}(o.TaskBase),h=function(t){function e(e,i,n,o,r){void 0===r&&(r=0);var s=t.call(this)||this;return s.__start=function(){var t=s._scene.view.bannerGroupLayer.getBanner(s._defender),e=s._defender.index,i=s._data.getDamage(e),n=s._data.getHitType(e),o=s._data.isShield(e);t.moveAtDamage(o);var r=t.getGlobalPos();s._scene.view.layer_explosion.playExplosionLarge(r.x,r.y),s._scene.view.layer_damage.showAtBanner(t,i,n),createjs.Tween.get(null).wait(200).call(function(){s._damage_cutin.causeDamage(s._defender,i),t.updateHp(s._defender.hp_now)}).wait(600).call(function(){s._endTask()})},s._scene=e,s._data=i,s._damage_cutin=n,s._defender=o,s._delay=r,s}return n(e,t),e.prototype._start=function(){this._delay>0?createjs.Tween.get(null).wait(this._delay).call(this.__start):this.__start()},e.prototype._endTask=function(){this._scene=null,this._data=null,this._damage_cutin=null,this._defender=null,t.prototype._endTask.call(this)},e}(o.TaskBase),p=function(t){function e(e,i,n){void 0===n&&(n=0);var o=t.call(this)||this;return o.__start=function(){o._scene.view.layer_damage.showShieldAtBanner(o._target),o._endTask()},o._scene=e,o._target=i,o._delay=n,o}return n(e,t),e.prototype._start=function(){this._delay>0?createjs.Tween.get(null).wait(this._delay).call(this.__start):this.__start()},e.prototype._endTask=function(){this._scene=null,this._target=null,t.prototype._endTask.call(this)},e}(o.TaskBase)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(72),s=i(27),a=i(20),_=i(29),l=i(38),u=i(6),c=i(141),h=i(180),p=i(142),d=i(468),f=i(182),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),Object.defineProperty(e.prototype,"data_",{get:function(){return this._data},enumerable:!0,configurable:!0}),e.prototype._start=function(){this._log();this._canvas=new c.AirWarCanvas(!1),this._scene.view.layer_content.addChild(this._canvas),this._createFriendPlanes(),this._createPlanes(this._data.plane_from_e,this._ships_e),this._startAircraftFlightAnimation(),this._startMainTask()},e.prototype._log=function(){},e.prototype._startMainTask=function(){var t=this,e=new s.ParallelTask,i=createjs.Tween.get(null).call(u.SE.play,["114"]).wait(3450);e.add((new a.TweenTask).addTween(i)),e.add(new r.FuncTask(function(){t._fireDogFight()},750)),e.add(new r.FuncTask(function(){t._showTaikuCutin()},900)),e.add(new r.FuncTask(function(){t._damageAtStage1()},1050)),e.add(new r.FuncTask(function(){t._antiAircraft()},1200)),e.add(new r.FuncTask(function(){t._damageAtStage2()},1350)),e.add((new _.SerialTask).add(new l.WaitTask(1700)).add((new s.ParallelTask).add(new d.TaskAirSupportTorpedo(this._scene,this._data,this._canvas.planes_f,this._ships_e)).add(new f.TaskAirWarTorpedo(this._scene,this._data,this._canvas.planes_e,this._ships_f)))),e.add(new r.FuncTask(function(){t._showBakuExplosion()},2950)),e.add(new r.FuncTask(function(){t._showDamage()},3300)),this._main_task=e,this._main_task.start(function(){t._showDamageNumber()})},e.prototype._createFriendPlanes=function(){for(var t=0,e=this.data_.getShipList(),i=0,n=e;i<n.length;i++){var r=n[i],s=r.mem_id,a=o.default.model.ship.get(s);null!=a&&(6==a.shipTypeID?t++:7==a.shipTypeID?t++:10==a.shipTypeID?t++:11==a.shipTypeID?t++:15==a.shipTypeID?t++:16==a.shipTypeID?t++:17==a.shipTypeID?t++:18==a.shipTypeID?t++:22==a.shipTypeID&&t++)}t=Math.min(6,t);for(var _=[],l=0;l<t;l++){var u=new p.Plane,c=new PIXI.Point(45*Math.random()-75-23,360/t*l+150+(45*Math.random()-23)),h=new PIXI.Point;u.initialize(16,!0,c,h),_.push(u)}this._canvas.addPlanes_f(_)},e}(h.TaskAircraftFlightBase);e.TaskSupportAir=y},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(22),r=i(2),s=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._scene=e,r._data=i,r._from_planes=n,r._to_ships=o,r._tasks=new Array,r}return n(e,t),e.prototype._start=function(){for(var t=this,e=this,i=0,n=this._to_ships;i<n.length;i++){var o=n[i];!function(i){if(null==i)return"continue";if(1==(1==i.friend?e._data.stage3_f.getRai(i.index):e._data.stage3_e.getRai(i.index))&&e._from_planes.length>0){var n=Math.floor(Math.random()*e._from_planes.length),o=e._from_planes[n],r=(e._scene.view.bannerGroupLayer,e._scene.view.bannerGroupLayer.getBanner(i)),s=1==i.friend?e._data.stage3_f:e._data.stage3_e,_=s.getDamage(i.index),l=s.isShield(i.index),u=new a(e._scene,o,r,_,l);e._tasks.push(u),u.start(function(){t._taskComplete(i,u)})}}(o)}0==this._tasks.length&&this._endTask()},e.prototype._taskComplete=function(t,e){var i=this._tasks.indexOf(e);this._tasks.splice(i,1),0==this._tasks.length&&this._endTask()},e.prototype._endTask=function(){this._scene=null,this._data=null,this._from_planes=null,this._to_ships=null,this._tasks=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskAirSupportTorpedo=s;var a=function(t){function e(e,i,n,o,r){var s=t.call(this)||this;return s._explosion=function(){var t=s._shield;if(1==t){var e=s._scene.view.bannerGroupLayer.getShieldTargetBanner(s._to_banner);s._scene.view.layer_damage.showShieldAtBanner(e)}s._to_banner.moveAtDamage(t);var i=s._to_banner.getGlobalPos(!0),n=s._scene.view;n.layer_explosion.playDamageExplosion(i.x,i.y,s._damage),n.layer_explosion.playTorpedoWaterColumn(s._to_banner,function(){s._endTask()})},s._scene=e,s._from_plane=i,s._to_banner=n,s._damage=o,s._shield=r,s}return n(e,t),e.prototype._start=function(){this._torpedo()},e.prototype._torpedo=function(){var t=new PIXI.Point(this._from_plane.x,this._from_plane.y),e=this._to_banner.getGlobalPos();1==this._to_banner.friend?e.x+=o.BannerSize.W/2:e.x-=o.BannerSize.W/2,this._scene.view.layer_torpedo.playAerialTorpedoSuper(t,e,this._explosion)},e.prototype._endTask=function(){this._scene=null,this._from_plane=null,this._to_banner=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskAirWarTorpedoOne=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(72),s=i(27),a=i(20),_=i(29),l=i(38),u=i(6),c=i(141),h=i(180),p=i(142),d=i(468),f=i(182),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),Object.defineProperty(e.prototype,"data_",{get:function(){return this._data},enumerable:!0,configurable:!0}),e.prototype._start=function(){this._log();this._canvas=new c.AirWarCanvas(!1),this._scene.view.layer_content.addChild(this._canvas),this._createFriendPlanes(),this._createPlanes(this._data.plane_from_e,this._ships_e),this._startAircraftFlightAnimation(),this._startMainTask()},e.prototype._log=function(){},e.prototype._startMainTask=function(){var t=this,e=new s.ParallelTask,i=createjs.Tween.get(null).call(u.SE.play,["114"]).wait(3450);e.add((new a.TweenTask).addTween(i)),e.add(new r.FuncTask(function(){t._fireDogFight()},750)),e.add(new r.FuncTask(function(){t._showTaikuCutin()},900)),e.add(new r.FuncTask(function(){t._damageAtStage1()},1050)),e.add(new r.FuncTask(function(){t._antiAircraft()},1200)),e.add(new r.FuncTask(function(){t._damageAtStage2()},1350)),e.add((new _.SerialTask).add(new l.WaitTask(1700)).add((new s.ParallelTask).add(new d.TaskAirSupportTorpedo(this._scene,this._data,this._canvas.planes_f,this._ships_e)).add(new f.TaskAirWarTorpedo(this._scene,this._data,this._canvas.planes_e,this._ships_f)))),e.add(new r.FuncTask(function(){t._showBakuExplosion()},2950)),e.add(new r.FuncTask(function(){t._showDamage()},3300)),this._main_task=e,this._main_task.start(function(){t._showDamageNumber()})},e.prototype._createFriendPlanes=function(){for(var t=0,e=this.data_.getShipList(),i=0,n=e;i<n.length;i++){var r=n[i],s=r.mem_id,a=o.default.model.ship.get(s);if(null!=a)for(var _=a.getSlotitems(),l=0;l<_.length;l++){var u=_[l];if(null!=u){var c=a.getSlotitemTousai(l);u.taisen>0&&c>0&&t++}}}for(var h=[],l=0;l<t;l++){var d=new p.Plane,f=new PIXI.Point(45*Math.random()-75-23,360/t*l+150+(45*Math.random()-23)),y=new PIXI.Point;d.initialize(16,!0,f,y),h.push(d)}this._canvas.addPlanes_f(h)},e}(h.TaskAircraftFlightBase);e.TaskSupportTaisen=y},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(22),a=i(2),_=i(13),l=i(1388),u=function(t){function e(e,i){var n=t.call(this)||this;return n._layer=e,n._ships=i,n}return n(e,t),e.prototype._start=function(){this._loadResources()},e.prototype._loadResources=function(){for(var t=this,e=new _.ShipLoader,i=0,n=this._ships;i<n.length;i++){var o=n[i];null!=o&&e.add(o.mst_id,o.damaged,"banner")}e.load(function(){t._initCutin()})},e.prototype._initCutin=function(){this._cutin=new l.SupportDeckCutin,this._cutin.initialize(),this._createShipContainerU(),this._createShipContainerB(),this._cutin.bg.scale.set(1,0),this._cutin.message.position.set(1440,360),this._cutin.banner_top.position.set(0,243),this._cutin.banner_top.alpha=0,this._cutin.banner_bottom.position.set(o.default.width-this._cutin.banner_bottom.width,417),this._cutin.banner_bottom.alpha=0,this._playCutin()},e.prototype._playCutin=function(){var t=this;this._layer.addChild(this._cutin),createjs.Tween.get(this._cutin.bg.scale).to({y:2},300).wait(1500).to({y:0},300).call(function(){t._endTask()}),createjs.Tween.get(this._cutin.message).wait(400).to({x:660},400).to({x:525},800).to({x:420,alpha:0},400),createjs.Tween.get(this._cutin.banner_top).wait(300).to({alpha:1},100).to({x:o.default.width/2-this._cutin.banner_top.width/2},800,createjs.Ease.cubicInOut).to({x:o.default.width-this._cutin.banner_top.width,alpha:0},800,createjs.Ease.cubicInOut),createjs.Tween.get(this._cutin.banner_bottom).wait(300).to({alpha:1},100).to({x:o.default.width/2-this._cutin.banner_bottom.width/2},800,createjs.Ease.cubicInOut).to({x:0,alpha:0},800,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(700).call(function(){t._cutin.particles.startAnim()})},e.prototype._createShipContainerU=function(){var t,e=this._ships[0],i=this._ships[2],n=this._ships[4];t=null==i?[e]:null==n?[e,i]:[n,e,i];for(var o=0;o<t.length;o++){var a=t[o],_=r.default.resources.getShip(a.mst_id,a.damaged,"banner"),l=new PIXI.Sprite(_);l.position.x=s.BannerSize.W*o,this._cutin.banner_top.addChild(l)}},e.prototype._createShipContainerB=function(){var t,e=this._ships[1],i=this._ships[3],n=this._ships[5];t=null==n?null==i?null==e?[]:[e]:[i,e]:[i,e,n];for(var o=0;o<t.length;o++){var a=t[o],_=r.default.resources.getShip(a.mst_id,a.damaged,"banner"),l=new PIXI.Sprite(_);l.position.x=s.BannerSize.W*o,this._cutin.banner_bottom.addChild(l)}},e.prototype._endTask=function(e){void 0===e&&(e=!1),this._layer.removeChild(this._cutin),this._cutin.dispose(),t.prototype._endTask.call(this)},e}(a.TaskBase);e.TaskSupportDeckCutin=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(27),r=i(2),s=i(1393),a=i(1397),_=function(t){function e(e,i){var n=t.call(this)||this;return n._scene=e,n._record=i,n}return n(e,t),e.prototype._start=function(){this._showLight()},e.prototype._showLight=function(){var t=this,e=this._scene.view.layer_cutin,i=this._getFlareBanner_f(),n=this._getFlareBanner_e(),o=this._createSearchLightTask();new s.TaskFlareEffect(e,i,n,o).start(function(){t._endTask()})},e.prototype._createSearchLightTask=function(){var t=this._getShips_f(),e=this._getSearchLightAnimationTask(t),i=this._getShips_e(),n=this._getSearchLightAnimationTask(i),r=new o.ParallelTask;return r.add(e),r.add(n),r},e.prototype._getSearchLightAnimationTask=function(t){for(var e=0,i=t;e<i.length;e++){var n=i[e];if(null!=n&&(!(n.hp_now<=1)&&1!=n.isTaihi()&&1==n.hasSlotByEquipType(42))){var o=this._scene.view.bannerGroupLayer.getBanner(n);return new a.TaskSearchLightAnimation(o,!0)}}for(var r=0,s=t;r<s.length;r++){var n=s[r];if(null!=n&&(!(n.hp_now<=1)&&1!=n.isTaihi()&&1==n.hasSlotByEquipType(29))){var o=this._scene.view.bannerGroupLayer.getBanner(n);return new a.TaskSearchLightAnimation(o,!1)}}return null},e}(r.TaskBase);e.PhaseLightingBase=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(252),r=i(253),s=i(254),a=i(255),_=i(1400),l=i(1403),u=i(257),c=i(1406),h=i(1409),p=i(1412),d=i(1415),f=i(459),y=i(259),m=i(461),g=i(462),v=i(463),b=i(464),w=i(1418),x=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._current_index=0,r._scene=e,r._data=i,r._ships_f=n,r._ships_e=o,r}return n(e,t),e.prototype._start=function(){null==this._data||null==this._data.list||0==this._data.list.length?this._endTask():this._hougekiCycle()},e.prototype._hougekiCycle=function(){if(this._current_index<this._data.list.length){var t=this._data.list[this._current_index];this._current_index++,this._hougeki(t)}else this._endTask()},e.prototype._hougeki=function(t){var e=t.type;0==e?this._normal(t):1==e?this._double(t):6==e?this._kuboCI(t):100==e?this._nelson_touch(t):101==e?this._nagato_cutin(t):102==e?this._mutsu_cutin(t):103==e?this._colorado_cutin(t):7==e?this._kuchiku_special(t):8==e?this._kuchiku_special(t):this._special(t)},e.prototype._normal=function(t){var e=this,i=this._getAShip(t.a_index,t.flag),n=this._getDShip(t.d_indexes[0],t.flag);if(null!=i&&null!=n){var _=t.getSlotitem(0),l=t.getDamage(0),u=t.getHitType(0),c=t.isShield(0),h=this._getNormalAttackType(i,n,_,t.yasen_kubo),p=this._getDaihatsuEffectType(i,n);if(1==this._hasRocketEffect(i,n,h)){var d=new y.PhaseAttackRocket(this._scene,i,n,l,u,c);d.setOptionalEffects(p),d.start(function(){e._hougekiCycle()})}else if(0==h){var d=new o.PhaseAttackNormal(this._scene,i,n,_,l,u,c);d.setOptionalEffects(p),d.start(function(){e._hougekiCycle()})}else if(1==h){var f=t.yasen_kubo,d=new r.PhaseAttackKansaiki(this._scene,i,n,_,l,u,c,f);d.setOptionalEffects(p),d.start(function(){e._hougekiCycle()})}else if(2==h){var d=new s.PhaseAttackBakurai(this._scene,i,n,_,l,u,c);d.setOptionalEffects(p),d.start(function(){e._hougekiCycle()})}else{if(3!=h)throw new Error;var d=new a.PhaseAttackRaigeki(this._scene,i,n,_,l,u,c);d.setOptionalEffects(p),d.start(function(){e._hougekiCycle()})}}},e.prototype._double=function(t){var e=this,i=this._getAShip(t.a_index,t.flag),n=this._getDShip(t.d_indexes[0],t.flag),o=this._getDShip(t.d_indexes[1],t.flag),r=t.getSlotitem(0),s=t.getDamage(0),a=t.getHitType(0),_=t.isShield(0),l=t.getSlotitem(1),c=t.getDamage(1),h=t.getHitType(1),p=t.isShield(1);new u.PhaseAttackDouble(this._scene,i,n,r,s,a,_,o,l,c,h,p).start(function(){e._hougekiCycle()})},e.prototype._kuboCI=function(t){var e=this,i=this._scene,n=this._getAShip(t.a_index,t.flag),o=this._getDShip(t.d_indexes[0],t.flag),r=t.getSlotitem(0),s=t.getSlotitem(1),a=t.getSlotitem(2),_=t.getDamage(0),l=t.getHitType(0),u=t.isShield(0),c=this._getDaihatsuEffectType(n,o),h=t.yasen_kubo,p=new f.PhaseAttackKuboCutin(i,n,o,r,s,a,_,l,u,h);p.setOptionalEffects(c),p.start(function(){e._hougekiCycle()})},e.prototype._nelson_touch=function(t){for(var e=this,i=[],n=0;n<3;n++){var o=this._getDShip(t.d_indexes[n],t.flag);o&&i.push(o)}var r=[t.getDamage(0),t.getDamage(1),t.getDamage(2)],s=[t.getHitType(0),t.getHitType(1),t.getHitType(2)],a=[t.isShield(0),t.isShield(1),t.isShield(2)];new m.PhaseNelsonTouch(this._scene,i,r,s,a).start(function(){e._hougekiCycle()})},e.prototype._nagato_cutin=function(t){for(var e=this,i=[],n=0;n<3;n++){var o=this._getDShip(t.d_indexes[n],t.flag);o&&i.push(o)}var r=[t.getDamage(0),t.getDamage(1),t.getDamage(2)],s=[t.getHitType(0),t.getHitType(1),t.getHitType(2)],a=[t.isShield(0),t.isShield(1),t.isShield(2)];new g.PhaseNagatoAttack(this._scene,i,r,s,a).start(function(){e._hougekiCycle()})},e.prototype._mutsu_cutin=function(t){for(var e=this,i=[],n=0;n<3;n++){var o=this._getDShip(t.d_indexes[n],t.flag);o&&i.push(o)}var r=[t.getDamage(0),t.getDamage(1),t.getDamage(2)],s=[t.getHitType(0),t.getHitType(1),t.getHitType(2)],a=[t.isShield(0),t.isShield(1),t.isShield(2)];new v.PhaseMutsuAttack(this._scene,i,r,s,a).start(function(){e._hougekiCycle()})},e.prototype._colorado_cutin=function(t){for(var e=this,i=[],n=0;n<3;n++){var o=this._getDShip(t.d_indexes[n],t.flag);o&&i.push(o)}var r=[t.getDamage(0),t.getDamage(1),t.getDamage(2)],s=[t.getHitType(0),t.getHitType(1),t.getHitType(2)],a=[t.isShield(0),t.isShield(1),t.isShield(2)];new b.PhaseColoradoAttack(this._scene,i,r,s,a).start(function(){e._hougekiCycle()})},e.prototype._kuchiku_special=function(t){var e=this,i=this._getAShip(t.a_index,t.flag),n=this._getDShip(t.d_indexes[0],t.flag),o=t.getSlotitem(0),r=t.getSlotitem(1),s=t.getSlotitem(2),a=t.getDamage(0),u=t.getHitType(0),c=t.isShield(0),h=t.type;if(7==h){var p=new l.PhaseAttackSpSRD(this._scene,i,n,o,r,s,a,u,c);p.start(function(){e._hougekiCycle()})}else{if(8!=h)throw new Error;var p=new _.PhaseAttackSpRDJ(this._scene,i,n,o,r,s,a,u,c);p.start(function(){e._hougekiCycle()})}},e.prototype._special=function(t){var e,i=this,n=this._getAShip(t.a_index,t.flag),o=this._getDShip(t.d_indexes[0],t.flag),r=t.getSlotitem(0),s=t.getSlotitem(1),a=t.getSlotitem(2),_=t.getHitType(0),l=t.isShield(0),u=t.type;if(2==u){var f=t.getDamage(0)+t.getDamage(1);e=new c.PhaseAttackSpSR(this._scene,t.type,n,o,r,s,f,_,l)}else if(3==u){var f=t.getDamage(0)+t.getDamage(1);e=new h.PhaseAttackSpRR(this._scene,t.type,n,o,r,s,f,_,l)}else if(4==u){var f=t.getDamage(0);e=new p.PhaseAttackSpSSF(this._scene,t.type,n,o,r,s,a,f,_,l)}else if(5==u){var f=t.getDamage(0);e=new d.PhaseAttackSpSSS(this._scene,t.type,n,o,r,s,a,f,_,l)}if(null==e)throw new Error;e.preload(function(){e.start(function(){i._hougekiCycle()})})},e.prototype._getAShip=function(t,e){return 0==e?this._ships_f[t]:this._ships_e[t]},e.prototype._getDShip=function(t,e){return 0==e?this._ships_e[t]:this._ships_f[t]},e}(w.PhaseHougekiBase);e.PhaseHougeki=x},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(13),a=i(24),_=function(t){function e(e,i,n,o,r,s){void 0===o&&(o=0),void 0===r&&(r=0),void 0===s&&(s=0);var a=t.call(this)||this;return a._ship_mst_id=e,a._ship_damaged=i,a._use_slotchara_image=n,a._slot_mst_id1=o,a._slot_mst_id2=r,a._slot_mst_id3=s,a}return n(e,t),Object.defineProperty(e.prototype,"slot_mst_id1",{get:function(){return this._slot_mst_id1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slot_mst_id2",{get:function(){return this._slot_mst_id2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slot_mst_id3",{get:function(){return this._slot_mst_id3},enumerable:!0,configurable:!0}),e.prototype.getShipTexture=function(){return o.default.resources.getShip(this._ship_mst_id,this._ship_damaged,"full")},e.prototype.getShipOffset=function(){return o.default.model.ship_graph.get(this._ship_mst_id).getBattleOffset(this._ship_damaged)},e.prototype.getSlot1Texture=function(){return this._getSlotTexture(this._slot_mst_id1)},e.prototype.getSlot2Texture=function(){return this._getSlotTexture(this._slot_mst_id2)},e.prototype.getSlot3Texture=function(){return this._getSlotTexture(this._slot_mst_id3)},e.prototype._getSlotTexture=function(t){return 1==this._isCharaOnImage(t)?o.default.resources.getSlotitem(t,"item_on"):o.default.resources.getSlotitem(t,"item_up")},e.prototype._start=function(){this._loadShipImage()},e.prototype._loadShipImage=function(){var t=this,e=new s.ShipLoader;e.add(this._ship_mst_id,this._ship_damaged,"full"),e.load(function(){t._loadSlotsTextImage()})},e.prototype._loadSlotsTextImage=function(){var t=this,e=new a.SlotLoader;this._slot_mst_id1>0&&this._addLoadTask(e,this._slot_mst_id1),this._slot_mst_id2>0&&this._addLoadTask(e,this._slot_mst_id2),this._slot_mst_id3>0&&this._addLoadTask(e,this._slot_mst_id3),e.load(function(){t._endTask()})},e.prototype._addLoadTask=function(t,e){1==this._isCharaOnImage(e)?t.add(e,"item_on"):t.add(e,"item_up"),t.add(e,"btxt_flat")},e.prototype._isCharaOnImage=function(t){if(t<=0)return!1;var e=o.default.model.slot.getMst(t);if(null==e)return!1;if(0==this._use_slotchara_image)return!1;var i=e.equipTypeSp;return 12==i||(13==i||(93==i||129==t))},e}(r.TaskBase);e.CutinResourcesPreloadTask=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(475),r=i(476),s=i(1434),a=function(t){function e(e){var i=t.call(this)||this;return i._o=e,i._raw=new s.RawDayBattleData(e),i._common=new r.BattleCommonModel(e),i}return n(e,t),Object.defineProperty(e.prototype,"phase",{get:function(){return"day"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"raw",{get:function(){return this._raw},enumerable:!0,configurable:!0}),e.prototype.getRation=function(){return this._raw.ration},e.prototype.getRationCombined=function(){return this._raw.ration_combined},e}(o.BattleRecord);e.BattleRecordDay=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return Object.defineProperty(t.prototype,"common",{get:function(){return this._common},enumerable:!0,configurable:!0}),t}();e.BattleRecord=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=i(1433),r=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"deck_id",{get:function(){return n.ObjUtil.getNumber(this._o,"api_deck_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formation_id_f",{get:function(){var t=n.ObjUtil.getNumArray(this._o,"api_formation")[0];return"string"==typeof t?parseInt(t):t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formation_id_e",{get:function(){return n.ObjUtil.getNumArray(this._o,"api_formation")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formation_id_c",{get:function(){return n.ObjUtil.getNumArray(this._o,"api_formation")[2]},enumerable:!0,configurable:!0}),t.prototype.getHPMaxFriend=function(t){return this._getNum(t,"api_f_maxhps","api_f_maxhps_combined")},t.prototype.getHPNowFriend=function(t){return this._getNum(t,"api_f_nowhps","api_f_nowhps_combined")},t.prototype.getMstIDEnemy=function(t){return this._getNum(t,"api_ship_ke","api_ship_ke_combined")},t.prototype.getLevelEnemy=function(t){return this._getNum(t,"api_ship_lv","api_ship_lv_combined",1)},t.prototype.getHPMaxEnemy=function(t){return this._getNum(t,"api_e_maxhps","api_e_maxhps_combined")},t.prototype.getHPNowEnemy=function(t){return this._getNum(t,"api_e_nowhps","api_e_nowhps_combined")},t.prototype.getSlotMstIDsEnemy=function(t){return this._getNumArray(t,"api_eSlot","api_eSlot_combined")},t.prototype.getParamsFriend=function(t){return this._getParams(t,"api_fParam","api_fParam_combined")},t.prototype.getParamsEnemy=function(t){return this._getParams(t,"api_eParam","api_eParam_combined")},t.prototype.isBossDamaged=function(){return 1==n.ObjUtil.getNumber(this._o,"api_xal01")},t.prototype.getTaihiShipIndexes=function(){var t=[],e=n.ObjUtil.getNumArray(this._o,"api_escape_idx");if(null!=e)for(var i=0,o=e;i<o.length;i++){var r=o[i];t.push(r-1)}if(null!=(e=n.ObjUtil.getNumArray(this._o,"api_escape_idx_combined")))for(var s=0,a=e;s<a.length;s++){var r=a[s];t.push(r-1+6)}return t},t.prototype.isCombinedFriend=function(){var t=n.ObjUtil.getNumArray(this._o,"api_f_maxhps_combined");return null!=t&&t.length>0&&t[0]>0},t.prototype.isCombinedEnemy=function(){var t=n.ObjUtil.getNumArray(this._o,"api_e_maxhps_combined");return null!=t&&t.length>0&&t[0]>0},t.prototype.getActiveDeckFriend=function(){var t=n.ObjUtil.getNumArray(this._o,"api_active_deck");return null==t||0==t.length?this.isCombinedFriend()?2:1:t[0]},t.prototype.getActiveDeckEnemy=function(){var t=n.ObjUtil.getNumArray(this._o,"api_active_deck");return null==t||0==t.length?this.isCombinedEnemy()?2:1:t[1]},t.prototype.getBossModels=function(){var t=n.ObjUtil.getObjectArray(this._o,"api_flavor_info");if(null==t)return null;for(var e=[],i=0,r=t;i<r.length;i++){var s=r[i],a=parseInt(n.ObjUtil.getString(s,"api_type")),_=parseInt(n.ObjUtil.getString(s,"api_boss_ship_id")),l=n.ObjUtil.getString(s,"api_class_name"),u=n.ObjUtil.getString(s,"api_ship_name"),c=new o.BossModel(a,_,l,u),h=n.ObjUtil.getString(s,"api_voice_id"),p=n.ObjUtil.getString(s,"api_message");c.setMessage(h,p);var d=parseInt(n.ObjUtil.getString(s,"api_pos_x")),f=parseInt(n.ObjUtil.getString(s,"api_pos_y"));c.setOffset(d,f),e.push(c)}return e},t.prototype._getNum=function(t,e,i,o){void 0===o&&(o=0);var r=n.ObjUtil.getNumArray(this._o,e);return null!=r&&r.length>t?r[t]:t>=6&&null!=(r=n.ObjUtil.getNumArray(this._o,i))&&r.length>t-6?r[t-6]:o},t.prototype._getNumArray=function(t,e,i){var o=n.ObjUtil.getObjectArray(this._o,e);return null!=o&&o.length>t?o[t]:t>=6&&null!=(o=n.ObjUtil.getObjectArray(this._o,i))&&o.length>t-6?o[t-6]:[]},t.prototype._getParams=function(t,e,i){var n={karyoku:0,raisou:0,taiku:0,soukou:0},o=this._getNumArray(t,e,i);return null!=o&&(o.length>0&&(n.karyoku=o[0]),o.length>1&&(n.raisou=o[1]),o.length>2&&(n.taiku=o[2]),o.length>3&&(n.soukou=o[3])),n},t}();e.BattleCommonModel=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),r=i(186),s=function(t){function e(e){var i=t.call(this,e)||this;return i._initPlaneFrom(),i}return n(e,t),e.prototype.getShipList=function(){for(var t=o.ObjUtil.getNumArray(this._o,"api_ship_id"),e=o.ObjUtil.getNumArray(this._o,"api_undressing_flag"),i=[],n=0;n<t.length;n++)i.push({mem_id:t[n],damaged:1==e[n]});return i},e}(r.AirWarDataBase);e.AirSupportData=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"deck_id",{get:function(){return n.ObjUtil.getNumber(this._o,"api_deck_id")},enumerable:!0,configurable:!0}),t.prototype.getShipList=function(){for(var t=n.ObjUtil.getNumArray(this._o,"api_ship_id"),e=n.ObjUtil.getNumArray(this._o,"api_undressing_flag"),i=[],o=0;o<t.length;o++)i.push({mem_id:t[o],damaged:1==e[o]});return i},t.prototype.getDamage=function(t){var e=n.ObjUtil.getNumArray(this._o,"api_damage");return null!=e&&e.length>t?Math.floor(e[t]):0},t.prototype.getHitType=function(t){var e=n.ObjUtil.getNumArray(this._o,"api_cl_list");return null==e?0:e.length<=t?0:1==e[t]?2:1},t.prototype.isShield=function(t){var e=n.ObjUtil.getNumArray(this._o,"api_damage");return null!=e&&(!(e.length<=t)&&e[t]%1!=0)},t}();e.SupportData=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(t){this._list=[];var e=n.ObjUtil.getObjectArray(t,"api_df_list");if(null!=e)for(var i=n.ObjUtil.getNumArray(t,"api_at_eflag"),o=n.ObjUtil.getNumArray(t,"api_sp_list"),s=n.ObjUtil.getNumArray(t,"api_at_list"),a=n.ObjUtil.getObjectArray(t,"api_si_list"),_=n.ObjUtil.getObjectArray(t,"api_cl_list"),l=n.ObjUtil.getObjectArray(t,"api_damage"),u=n.ObjUtil.getObjectArray(t,"api_n_mother_list"),c=0;c<e.length;c++){var h=i[c],p=o[c],d=s[c],f=e[c],y=a[c],m=_[c],g=l[c],v=1==u[c],b=new r(h,p,d,f,y,m,g,v);this._list.push(b)}}return Object.defineProperty(t.prototype,"list",{get:function(){return this._list},enumerable:!0,configurable:!0}),t}();e.HougekiListNightData=o;var r=function(){function t(t,e,i,n,o,r,s,a){this._flag=t,this._type=e,this._a_index=i,this._d_indexes=n,this._slotitems=o,this._hit_types=r,this._damages=s,this._yasen_kubo=a}return Object.defineProperty(t.prototype,"flag",{get:function(){return this._flag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"a_index",{get:function(){return this._a_index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"d_indexes",{get:function(){return this._d_indexes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yasen_kubo",{get:function(){return this._yasen_kubo},enumerable:!0,configurable:!0}),t.prototype.getSlotitem=function(t){return null==this._slotitems?-1:this._slotitems.length<=t?-1:this._slotitems[t]},t.prototype.getDamage=function(t){return null==this._damages?0:this._damages.length<=t?0:Math.floor(this._damages[t])},t.prototype.getHitType=function(t){return null==this._hit_types?0:this._hit_types.length<=t?0:this._hit_types[t]},t.prototype.isShield=function(t){return null!=this._damages&&(!(this._damages.length<=t)&&this._damages[t]%1>0)},t}();e.HougekiNightData=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(22),r=i(6),s=i(181),a=i(1447),_=i(1448),l=function(t){function e(){var e=t.call(this)||this;return e._under_layer=new PIXI.Sprite,e._over_layer=new PIXI.Sprite,e.addChild(e._under_layer),e.addChild(e._over_layer),e}return n(e,t),e.prototype.playDamageExplosion=function(t,e,i,n){void 0===n&&(n=null),i<0?null!=n&&n():i<16?this.playExplosionSmall(t,e,n):i<40?this.playExplosionMiddle(t,e,n):this.playExplosionLarge(t,e,n)},e.prototype.playExplosionSmall=function(t,e,i){void 0===i&&(i=null),r.SE.play("102"),this._explode(t,e,i)},e.prototype.playExplosionMiddle=function(t,e,i){var n=this;void 0===i&&(i=null),createjs.Tween.get(this).call(function(){r.SE.play("103"),n._explode(t-26,e+35)}).wait(100).call(function(){n._explode(t+27,e-23,i)})},e.prototype.playExplosionLarge=function(t,e,i){var n=this;void 0===i&&(i=null),createjs.Tween.get(this).call(function(){r.SE.play("104"),n._explode(t-5,e+33)}).wait(100).call(function(){n._explode(t+48,e-24)}).wait(100).call(function(){n._explode(t-50,e-8,i)})},e.prototype.playExplosions=function(t,e,i){var n=this;void 0===i&&(i=null),createjs.Tween.get(null).wait(166).call(function(){n._explode(t-98,e+135)}).wait(33).call(function(){n._explode(t-47,e+84)}).wait(33).call(function(){n._explode(t,e+30)}).wait(33).call(function(){n._explode(t+21,e-27)}).wait(33).call(function(){n._explode(t+56,e-95)}).wait(33).call(function(){n._explode(t-92,e-42)}).wait(33).call(function(){n._explode(t+50,e+134)}).wait(33).call(function(){n._explode(t-27,e-80)}).wait(33).call(function(){n._explode(t+36,e-161)}).wait(33).call(function(){n._explode(t-66,e-150)}).wait(33).call(function(){n._explode(t+81,e+44),n._explode(t-89,e-53)}).wait(33).call(function(){n._explode(t-68,e+146,i)})},e.prototype._explode=function(t,e,i){var n=this;void 0===i&&(i=null);var o=new s.Explosion;o.position.set(t,e),this.addChild(o),o.play(function(){n.removeChild(o),null!=i&&i()})},e.prototype.playTorpedoWaterColumn=function(t,e){void 0===e&&(e=null);var i=t.getGlobalPos(!0);i.y+=o.BannerSize.H/2,1==t.friend?(i.x+=o.BannerSize.W/2+45,this.playTorpedoWaterColumnToFriend(i.x,i.y,e)):(i.x-=o.BannerSize.W/2+45,this.playTorpedoWaterColumnToEnemy(i.x,i.y,e))},e.prototype.playTorpedoWaterColumnToFriend=function(t,e,i){void 0===i&&(i=null),this._playTorpedoWaterColumn(!0,t,e,i)},e.prototype.playTorpedoWaterColumnToEnemy=function(t,e,i){void 0===i&&(i=null),this._playTorpedoWaterColumn(!1,t,e,i)},e.prototype._playTorpedoWaterColumn=function(t,e,i,n){var o=this;void 0===n&&(n=null);var r=new a.TorpedoWaterColumn;r.initialize(),t&&(r.scale.x=-1),r.position.set(e,i),this.addChild(r),r.play(),r.once("complete",function(){o.removeChild(r),null!=n&&n()})},e.prototype.playWaterColumnToFriend=function(t,e,i){void 0===i&&(i=null),this._playWaterColumn(!0,t,e,i)},e.prototype.playWaterColumnToEnemy=function(t,e,i){void 0===i&&(i=null),this._playWaterColumn(!1,t,e,i)},e.prototype._playWaterColumn=function(t,e,i,n){var o=this;void 0===n&&(n=null);var r=new _.WaterColumn;r.initialize(),t&&(r.scale.x=-1),r.position.set(e,i),this.addChild(r),r.play(),r.once("complete",function(){o.removeChild(r),null!=n&&n()})},e}(PIXI.Container);e.LayerExplosion=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(12),s=i(36),a=function(t){function e(){var e=t.call(this)||this;return e._timer_handle=-1,e._update=function(){for(var t=0,i=e._particles;t<i.length;t++){i[t].update()}},e}return n(e,t),e.prototype.startKamihubuki=function(t){this.removeChildren(),this._particles=[];for(var e=0;e<t;e++){var i=new _;i.initialize(),this.addChild(i),this._particles.push(i)}-1==this._timer_handle&&(this._timer_handle=setInterval(this._update,1e3/30))},e.prototype.dispose=function(){-1!=this._timer_handle&&clearInterval(this._timer_handle),this.removeChildren(),this._particles=null},e}(PIXI.Container);e.KamihubukiLayer=a;var _=function(t){function e(){var e=t.call(this)||this;return e.anchor.set(.5),e}return n(e,t),e.prototype.initialize=function(){this._initialize()},e.prototype.update=function(){this.x=this._base_x+this._haba+Math.sin(this._rad),this.y+=this._spdY,this.rotation+=this._spdR,this._rad+=this._spdX,this.y>o.default.height+75&&this._initialize()},e.prototype._initialize=function(){var t;switch(Math.floor(5*Math.random())){case 0:t=15;break;case 1:t=16;break;case 2:t=17;break;case 3:t=18;break;case 4:t=19}this.texture=s.BATTLE_RESULT_MAIN.getTexture(t),this.x=1140*Math.random()+30,this.y=-150-150*Math.random(),this.scale.set(.3+.2*Math.random()),this._base_x=this.x,this._rad=0,this._haba=45*Math.random(),this._spdX=(15*Math.random()+1)/100,this._spdY=12*Math.random()+3,this._spdR=2*Math.random()/180*Math.PI},e}(r.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(1),a=i(66),_=i(8),l=i(40),u=i(24),c=i(207),h=i(1491),p=i(209),d=function(t){function e(e,i,n,u,c,h){void 0===h&&(h=null);var p=t.call(this)||this;return p._moveCard=function(){null!=p._pre_task&&(p._pre_task.dispose(),p._pre_task=null),p._play_bgm&&r.default.sound.bgm.play(132,!0,1e3);var t=new PIXI.Point(p._insert.card.x,p._insert.card.y),e=new PIXI.Point(o.default.width/2,o.default.height/2),i=new PIXI.Point(t.x+300,t.y),n=new PIXI.Point(e.x+150,e.y+150);a.TweenUtil.create3BezierTween(p._insert.card,t,i,n,e,700),createjs.Tween.get(p._insert.card).to({scaleX:.86,scaleY:.86,rotation:4*Math.PI},700).to({scaleX:1,scaleY:1},133).wait(700).call(function(){p._insert.particle.activate()}).wait(1e3).call(p._flash)},p._flash=function(){var t=r.default.model.slot.getMst(p._mst_id);p._bonus.alpha=1,p._bonus.initialize(t.mstID,p._count,p._level,t.name),createjs.Tween.get(p._insert.card).to({alpha:0},800),createjs.Tween.get(p._insert.bg_dark).to({alpha:0},800),createjs.Tween.get(p._insert.flash).to({scaleX:3.5,scaleY:3.5},800),createjs.Tween.get(p._insert).wait(800).to({alpha:0},200).call(function(){p._layer.removeChild(p._insert),p._insert.dispose(),p._insert=null,p._showBonus()})},p._showMessageBox=function(){createjs.Tween.get(p._bonus.message_box).to({y:480},300).call(p._waitClick)},p._waitClick=function(){p._bonus.message_box.activate();var t=new l.GearBtnHome;t.position.set(1140,660),t.initialize(),t.activate(),p._bonus.addChild(t);var e=new _.AreaBox(0);e.interactive=!0,e.buttonMode=!0,p._bonus.addChild(e),e.once(s.EventType.CLICK,function(){p._bonus.removeChild(e),p._finalize(t)})},p._layer=e,p._mst_id=i,p._count=n,p._level=u,p._pre_task=h,p._play_bgm=c,p}return n(e,t),e.prototype._start=function(){this._bonus=new h.BonusSlot,this._bonus.alpha=0,this._layer.addChild(this._bonus),this._insert=new c.BonusInsert,this._loadBG()},e.prototype._loadBG=function(){var t=this,e=r.default.model.slot.getMst(this._mst_id);this._bonus.bg.initiailzeForSlotitem(e.rarity,function(){t._loadSlotImage()})},e.prototype._loadSlotImage=function(){var t=this,e=new u.SlotLoader;e.add(this._mst_id,"card"),e.load(function(){t._insert.preload(function(){t._showInsert()})})},e.prototype._showInsert=function(){this._insert.initialize(2),this._insert.alpha=0,this._insert.card.scale.set(.38),this._insert.card.position.set(o.default.width/2-228,o.default.height/2+521),this._insert.flash.position.set(o.default.width/2,o.default.height/2),this._layer.addChild(this._insert),createjs.Tween.get(this._insert).to({alpha:1},500).call(this._moveCard)},e.prototype._showBonus=function(){this._bonus.particle.activate(),createjs.Tween.get(this._bonus.white).to({alpha:0},500).call(this._showMessageBox)},e.prototype._finalize=function(t){var e=this;this._play_bgm&&r.default.sound.bgm.fadeOut(1200),createjs.Tween.get(t).to({alpha:0},300).call(function(){t.deactivate(),e._bonus.removeChild(t),e._endTask()})},e.prototype.dispose=function(){this._bonus.dispose(),this._layer.removeChild(this._bonus),this._layer=null,this._bonus=null},e}(p.TaskBonusBase);e.TaskBonusSlot=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("battle_result_event_base_"+t)}t.getTexture=e}(e.BATTLE_RESULT_EVENT_BASE||(e.BATTLE_RESULT_EVENT_BASE={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(20),s=i(8),a=i(12),_=i(59),l=i(483),u=i(485),c=i(1),h=function(t){function e(e){var i=t.call(this)||this;return i._layer=e,i}return n(e,t),e.prototype._start=function(){this._showBG()},e.prototype._showBG=function(){var t=this;this._bg=new p,this._bg.initialize(),this._bg.alpha=0,this._layer.addChild(this._bg),createjs.Tween.get(this._bg).to({alpha:1},500).call(function(){t._initializeMapImages(),t._initializeStampImages(),t._showMaps()})},e.prototype.__createMapShowTweens=function(t){for(var e=[],i=0;i<this._maps.length;i++){var n=this._maps[i],o=n.x;n.x+=645;var r=createjs.Tween.get(n).wait(i*t).to({x:o-12,alpha:1},400).to({x:o},100);e.push(r)}return e},e.prototype.__createStampShowTweens=function(t){for(var e=[],i=0;i<this._stamps.length;i++){var n=this._stamps[i],o=createjs.Tween.get(n).wait(350+i*t).to({scaleX:1,scaleY:1,alpha:1},400);e.push(o)}return e},e.prototype._showMaps=function(){var t=this,e=new r.TweenTask;e.addTweens(this._createMapShowTweens()),e.addTweens(this._createStampShowTweens()),e.start(function(){t._showText()})},e.prototype.__showText=function(t){var e=this;this._texts=t,this._texts.initialize(),this._texts.text1.alpha=0,this._texts.text2.alpha=0,this._texts.text3.alpha=0,this._layer.addChild(this._texts),createjs.Tween.get(this._texts.text1).wait(200).to({alpha:1},400),createjs.Tween.get(this._texts.text2).wait(700).to({alpha:1},450),createjs.Tween.get(this._texts.text3).wait(1300).to({alpha:1},500).wait(500).call(function(){e._showLastStamp()}),this._createParticle()},e.prototype._createParticle=function(){this._particles=new u.ParticleLayer,this._particles.addParticle(1050,440),this._particles.addParticle(1121,392),this._particles.addParticle(1068,263),this._particles.addParticle(230,429),this._particles.addParticle(902,399),this._particles.addParticle(951,453),this._particles.addParticle(1089,323),this._particles.addParticle(128,383),this._particles.addParticle(207,278),this._particles.addParticle(68,320),this._particles.addParticle(296,471),this._particles.addParticle(122,272),this._particles.addParticle(93,467),this._particles.addParticle(53,425),this._layer.addChild(this._particles),this._particles.startAnimation()},e.prototype._showLastStamp=function(){var t=this;this._stamp_last=this._createStampLast();var e=this._layer.getChildIndex(this._texts);this._layer.addChildAt(this._stamp_last,e),createjs.Tween.get(this._stamp_last).wait(800).to({alpha:1},200);var i=new a.Sprite(this._stamp_last.texture);i.anchor.set(.5),i.position.set(this._stamp_last.x,this._stamp_last.y),i.scale.set(2),i.alpha=0,e=this._layer.getChildIndex(this._texts),this._layer.addChildAt(i,e+1),createjs.Tween.get(i).to({scaleX:1,scaleY:1,alpha:1},800).to({alpha:0},200).call(function(){t._layer.removeChild(i),t._waitClick()})},e.prototype._waitClick=function(){var t=this,e=new s.AreaBox(0);e.buttonMode=!0,this._layer.addChild(e);var i=new _.GearBtnNext;i.position.set(1139,561),i.initialize(),i.activate(),this._layer.addChild(i),e.once(c.EventType.CLICK,function(){i.dispose(),t._layer.removeChild(e),t._hide(i)})},e.prototype._hide=function(t){for(var e=this,i=new r.TweenTask,n=0;n<this._maps.length;n++){var o=this._maps[n],s=createjs.Tween.get(o).wait(50*n).to({x:o.x-75,alpha:0},200);i.addTween(s)}for(var n=0;n<this._stamps.length;n++){var a=this._stamps[n],_=createjs.Tween.get(a).wait(50*n).to({x:a.x-75,alpha:0},200);i.addTween(_)}var l=createjs.Tween.get(this._texts.text1).wait(100).to({x:this._texts.text1.x-47,alpha:0},200);i.addTween(l),l=createjs.Tween.get(this._texts.text2).wait(200).to({x:this._texts.text2.x-47,alpha:0},200),i.addTween(l),l=createjs.Tween.get(this._texts.text3).wait(150).to({x:this._texts.text3.x-47,alpha:0},200),i.addTween(l),l=createjs.Tween.get(this._stamp_last).wait(200).to({x:this._stamp_last.x-75,alpha:0},200),i.addTween(l),l=createjs.Tween.get(this._particles).wait(200).to({alpha:0},200).call(function(){e._particles.stopAnimation(),e._layer.removeChild(e._particles)}),i.addTween(l),l=createjs.Tween.get(t).to({alpha:0},500).call(function(){t.dispose(),e._layer.removeChild(t)}),i.addTween(l),l=createjs.Tween.get(this._bg).wait(200).to({alpha:0},300),i.addTween(l),i.start(function(){for(var t=0,i=e._maps;t<i.length;t++){var n=i[t];e._layer.removeChild(n)}for(var o=0,r=e._stamps;o<r.length;o++){var s=r[o];e._layer.removeChild(s)}e._layer.removeChild(e._texts),e._layer.removeChild(e._stamp_last),e._layer.removeChild(e._bg),e._endTask()})},e}(o.TaskBase);e.TaskEventEndingBase=h;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initialize=function(){var t=new PIXI.Sprite;t.texture=l.BATTLE_RESULT_EVENT_BASE.getTexture(5),t.position.set(0,65),t.alpha=.9,this.addChild(t);var e=l.BATTLE_RESULT_EVENT_BASE.getTexture(6),i=new PIXI.Sprite(e);i.position.set(270,8),this.addChild(i);var n=l.BATTLE_RESULT_EVENT_BASE.getTexture(3),o=new PIXI.Sprite(n);o.rotation=Math.PI,o.position.set(984,713),this.addChild(o)},e}(PIXI.Container),d=function(t){function e(){var e=t.call(this)||this;return e._text1=new PIXI.Sprite,e.addChild(e._text1),e._text2=new PIXI.Sprite,e.addChild(e._text2),e._text3=new PIXI.Sprite,e.addChild(e._text3),e}return n(e,t),Object.defineProperty(e.prototype,"text1",{get:function(){return this._text1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text2",{get:function(){return this._text2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text3",{get:function(){return this._text3},enumerable:!0,configurable:!0}),e}(PIXI.Container);e.TextsBase=d},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(31),r=i(10),s=function(t){function e(){var e=t.call(this)||this;return e._particles=[],e}return n(e,t),e.prototype.addParticle=function(t,e){var i=new a;i.initialize(),i.position.set(t,e),this.addChild(i),this._particles.push(i)},e.prototype.startAnimation=function(){for(var t=0,e=this._particles;t<e.length;t++){e[t].startAnimation()}},e.prototype.stopAnimation=function(){for(var t=0,e=this._particles;t<e.length;t++){e[t].stopAnimation()}},e}(PIXI.Container);e.ParticleLayer=s;var a=function(t){function e(){var e=t.call(this)||this;return e._r_canvas=new PIXI.Container,e.addChild(e._r_canvas),e._img=new PIXI.Sprite,e._r_canvas.addChild(e._img),e}return n(e,t),e.prototype.initialize=function(){this._img.texture=r.COMMON_MISC.getTexture(115),this._img.x=-Math.round(this._img.width/2),this._img.y=-Math.round(this._img.height/2),this.scale.set(0)},e.prototype.startAnimation=function(){var t=this;if(null==this._anim){var e=2e3*Math.random();this._anim=createjs.Tween.get(this).wait(e).to({scaleX:1,scaleY:1},100).to({scaleX:0,scaleY:0},200).call(function(){t._anim=null,t.startAnimation()}),this.rotation=Math.random()*Math.PI*2-Math.PI;var i=this.rotation+Math.random()*Math.PI/10-Math.PI/5;createjs.Tween.get(this._r_canvas).wait(e).to({rotation:i},300)}},e.prototype.stopAnimation=function(){null!=this._anim&&(this._anim.setPaused(!0),this._anim=null)},e}(o.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(170),r=i(4),s=i(36),a=function(t){function e(){var e=t.call(this)||this;return e._user_name=new r.TextBox(21,16774898),e._user_name.position.set(12,11),e.addChild(e._user_name),e._level=new _,e._level.position.set(276,12),e.addChild(e._level),e._deck_name=new l,e._deck_name.position.set(12,54),e.addChild(e._deck_name),e._medal=new o.MedalIcon,e._medal.position.set(420,47),e.addChild(e._medal),e}return n(e,t),Object.defineProperty(e.prototype,"user_name",{get:function(){return this._user_name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deck_name",{get:function(){return this._deck_name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"medal",{get:function(){return this._medal},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.removeChildren(),this._user_name.destroy(),this._level.dispose(),this._deck_name.dispose(),this._medal.dispose()},e}(PIXI.Container);e.DeckInfo=a;var _=function(t){function e(){var e=t.call(this)||this;return e._text=new r.TextBox(21,16774898),e._text.x=29,e._text.y=-1,e.addChild(e._text),e}return n(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this._text.text},set:function(t){this._text.text=t},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.texture=s.BATTLE_RESULT_MAIN.getTexture(68)},e.prototype.dispose=function(){this.removeChildren(),this._text.destroy()},e}(PIXI.Sprite),l=function(t){function e(){var e=t.call(this)||this;return e._text=new r.TextBox(21,16774898),e._text.x=71,e._text.y=-3,e.addChild(e._text),e}return n(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this._text.text},set:function(t){this._text.text=t},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.texture=s.BATTLE_RESULT_MAIN.getTexture(76)},e.prototype.dispose=function(){this.removeChildren(),this._text.destroy()},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var e=t.call(this)||this;e._MAX_=360;var i=new PIXI.Graphics;return e._draw(i,0),e.mask=i,e.addChild(i),e._bar=new PIXI.Graphics,e._bar.x=-e._MAX_,e.addChild(e._bar),e}return n(e,t),e.prototype.initialize=function(t){this._draw(this,16777215),this._draw(this._bar,t)},e.prototype.createTween=function(t,e,i){void 0===i&&(i=1e3);var n=Math.max(t-e,0),o=0==t?0:n/t,r=this._MAX_*o;return r=Math.min(this._MAX_,r),r=Math.max(0,r),createjs.Tween.get(this._bar).to({x:-this._MAX_+r},i)},e.prototype._draw=function(t,e){t.beginFill(e),t.arc(8,8,8,Math.PI/2,Math.PI/2*3),t.arc(353,8,8,-Math.PI/2,Math.PI/2),t.endFill()},e}(PIXI.Graphics);e.Gauge=o},function(t,e,i){"use strict";function n(){var t={},e=window.location.search.substring(1);if(e.length>0)for(var i=e.split("&"),n=0;n<i.length;n++){var o=i[n],r=o.split("=");2==r.length&&(t[r[0]]=r[1])}return t}function o(){createjs.Ticker.timingMode=createjs.Ticker.TIMEOUT,createjs.Ticker.setFPS(60),PIXI.settings.GC_MAX_IDLE=360,PIXI.settings.GC_MAX_CHECK_COUNT=180;var t={antialias:!1,backgroundColor:0},e=new PIXI.Application(s.default.width,s.default.height,t);document.body.appendChild(e.view),e.stage.addChild(r.default.view);var i=n();i.renderer=e.renderer,new a.AppInitializeTask(i).start()}Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(5),a=i(549),_={init:o};e.default=_},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(490),o=i(493),r=i(494),s=i(497),a=i(500),_=i(502),l=i(505),u=i(507),c=i(509),h=i(510),p=i(512),d=i(514),f=i(518),y=i(520),m=i(522),g=i(523),v=i(525),b=i(527),w=i(529),x=i(531),I=i(534),T=function(){function t(){this._const=new m.ServerConstModelEdit,this._basic=new o.BasicModelEdit,this._incentive=new c.IncentiveModelHolderEdit,this._log=new p.LogModelHolder,this._furniture=new u.FurnitureModelHolderEdit,this._furniture_graph=new l.FurnitureGraphModelHolder,this._deck=new s.DeckModelHolder,this._shiptype=new b.ShipTypeModelHolderEdit,this._ship=new v.ShipModelHolder,this._ship_graph=new g.ShipGraphModelHolder,this._ship_upgrade=new w.ShipUpgradeModelHolderEdit,this._slot=new x.SlotitemModelHolderEdit,this._useItem=new I.UseItemModelHolderEdit,this._kdock=new h.KDockModelHolderEdit,this._ndock=new f.NDockModelHolder,this._map=new d.MapModelHolderEdit,this._airunit=new n.AirUnitModelHolderEdit,this._mst_bgm=new r.BGMMstModelHolderEdit,this._expedition=new _.ExpeditionModelHolderEdit,this._payitem=new y.PayItemModelHolderEdit,this._equip=new a.EquipModelHolder}return Object.defineProperty(t.prototype,"const",{get:function(){return this._const},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"basic",{get:function(){return this._basic},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"incentive",{get:function(){return this._incentive},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"log",{get:function(){return this._log},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"furniture_graph",{get:function(){return this._furniture_graph},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"furniture",{get:function(){return this._furniture},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deck",{get:function(){return this._deck},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shipType",{get:function(){return this._shiptype},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ship",{get:function(){return this._ship},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ship_graph",{get:function(){return this._ship_graph},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ship_upgrade",{get:function(){return this._ship_upgrade},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slot",{get:function(){return this._slot},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"equip",{get:function(){return this._equip},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useItem",{get:function(){return this._useItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ndock",{get:function(){return this._ndock},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kdock",{get:function(){return this._kdock},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"map",{get:function(){return this._map},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"airunit",{get:function(){return this._airunit},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mst_bgm",{get:function(){return this._mst_bgm},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expedition",{get:function(){return this._expedition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"payitem",{get:function(){return this._payitem},enumerable:!0,configurable:!0}),t}();e.ModelManager=T},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(491),s=function(){function t(){this._dic={}}return t.prototype.getAirUnitList=function(t){var e=this;return null==this._dic?[]:void 0===t?Object.keys(this._dic).map(function(t){return e._dic[parseInt(t)]}).reduce(function(t,e){return t.concat.apply(t,e)}):null==this._dic[t]?[]:this._dic[t]},t.prototype.getAirUnit=function(t,e){var i=this.getAirUnitList(t);if(null==i)return null;for(var n=0,o=i;n<o.length;n++){var r=o[n];if(r.id==e)return r}return null},t.prototype.getReadyAirUnitList=function(t){for(var e=[],i=this.getAirUnitList(t),n=0,o=i;n<o.length;n++){var r=o[n];1==r.airUnitState&&(0!=r.hasActiveSquadron()&&e.push(r))}return e},t}();e.AirUnitModelHolder=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.setData=function(t){if(this._dic={},null!=t)for(var e=0,i=t;e<i.length;e++){var n=i[e],o=new r.AirUnitModelEdit(n),s=o.area_id;null==this._dic[s]&&(this._dic[s]=new Array),this._dic[s].push(o)}},e.prototype.addData=function(t){if(null!=this._dic){var e=new r.AirUnitModelEdit(t),i=e.area_id;null==this._dic[i]&&(this._dic[i]=new Array),this._dic[i].push(e)}},e.prototype.updateData=function(t,e,i,n,r){var s=this.getAirUnit(t,e),a=s.squadrons[i],_=a.state,l=a.mem_id;s.updateSquadronData(n,r);var u=s.squadrons[i];if(1==u.state&&o.default.model.slot.deleteUnsetData(u.mem_id),1==_){for(var c=!1,h=0,p=s.squadrons;h<p.length;h++){var d=p[h];if(1==d.state&&d.mem_id==l){c=!0;break}}0==c&&o.default.model.slot.addAirUnitRelocation(l)}},e}(s);e.AirUnitModelHolderEdit=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),r=i(492),s=function(){function t(t){this.name_tmp=null,this._state_tmp=-1,this._o=t,this._squadrons=[];for(var e=o.ObjUtil.getObjectArray(t,"api_plane_info"),i=0,n=e;i<n.length;i++){var s=n[i],a=new r.AirUnitSquadronModelEdit(s);this._squadrons.push(a)}}return Object.defineProperty(t.prototype,"area_id",{get:function(){return o.ObjUtil.getNumber(this._o,"api_area_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return o.ObjUtil.getNumber(this._o,"api_rid")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name_raw",{get:function(){return o.ObjUtil.getString(this._o,"api_name")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return null!=this.name_tmp?this.name_tmp:this.name_raw},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state_tmp",{get:function(){return this._state_tmp},set:function(t){this._state_tmp=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state_raw",{get:function(){return o.ObjUtil.getNumber(this._o,"api_action_kind")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"airUnitState",{get:function(){return-1!=this._state_tmp?this._state_tmp:this.state_raw},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance_base",{get:function(){var t=o.ObjUtil.getObject(this._o,"api_distance");return o.ObjUtil.getNumber(t,"api_base")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance_bonus",{get:function(){var t=o.ObjUtil.getObject(this._o,"api_distance");return o.ObjUtil.getNumber(t,"api_bonus")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this.distance_base+this.distance_bonus},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"squadrons",{get:function(){return this._squadrons},enumerable:!0,configurable:!0}),t.prototype.updateStateFromTemporaryInfo=function(){return-1!=this.state_tmp&&(this.state_tmp!=this.state_raw&&(this._o.api_action_kind=this._state_tmp,this._state_tmp=-1,!0))},t.prototype.updateNameFromTemporaryInfo=function(){return null!=this.name_tmp&&(this.name_tmp!=this.name_raw&&(this._o.api_name=this.name_tmp,this.name_tmp=null,!0))},t.prototype.hasActiveSquadron=function(){if(null==this._squadrons)return!1;for(var t=0,e=this._squadrons;t<e.length;t++){var i=e[t];if(1==i.state&&!(i.mem_id<=0||i.count<=0))return!0}return!1},t}();e.AirUnitModel=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.updateSquadronData=function(t,e){var i=this._o.api_distance;if(e.api_base>=0&&(i.api_base=e.api_base),i.api_bonus=e.api_bonus,null!=t)for(var n=0,r=t;n<r.length;n++)for(var s=r[n],a=o.ObjUtil.getNumber(s,"api_squadron_id"),_=0,l=this.squadrons;_<l.length;_++){var u=l[_];u.id==a&&u.update(s)}},e}(s);e.AirUnitModelEdit=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(7),s=function(){function t(t){this._initialize(t)}return Object.defineProperty(t.prototype,"id",{get:function(){return r.ObjUtil.getNumber(this._o,"api_squadron_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return r.ObjUtil.getNumber(this._o,"api_state")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mem_id",{get:function(){return r.ObjUtil.getNumber(this._o,"api_slotid")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return r.ObjUtil.getNumber(this._o,"api_count")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"countMax",{get:function(){return r.ObjUtil.getNumber(this._o,"api_max_count")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fatigue",{get:function(){return r.ObjUtil.getNumber(this._o,"api_cond")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mst_id",{get:function(){return null==this._model?-1:this._model.mstID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skill_level",{get:function(){return null==this._model?0:this._model.skillLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return null==this._model?0:this._model.level},enumerable:!0,configurable:!0}),t.prototype.isRelocation=function(){return o.default.model.slot.getAirUnitRelocation().indexOf(this.mem_id)>=0},t.prototype._initialize=function(t){this._o=t,this._model=o.default.model.slot.get(this.mem_id)},t}();e.AirUnitSquadronModel=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.update=function(t){this._initialize(t)},e}(s);e.AirUnitSquadronModelEdit=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(18),r=i(7),s=function(){function t(){this._skinID=101,this._flagship_pos_id_svr=0,this._flagship_pos_id_cli=0}return Object.defineProperty(t.prototype,"member_id",{get:function(){return this._o.api_member_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstFlag",{get:function(){return 1!=this._o.api_firstflag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nickName",{get:function(){return r.ObjUtil.getString(this._o,"api_nickname")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return r.ObjUtil.getNumber(this._o,"api_level")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rank",{get:function(){return r.ObjUtil.getNumber(this._o,"api_rank")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rankName",{get:function(){var t=o.RANK_NAME,e=this.rank;return e>0&&e<t.length?t[e]:t[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"port_bgm_id",{get:function(){return this._port_bgm_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"medal_num",{get:function(){return r.ObjUtil.getNumber(this._o,"api_medals")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shipMax",{get:function(){return r.ObjUtil.getNumber(this._o,"api_max_chara")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slotMax",{get:function(){return r.ObjUtil.getNumber(this._o,"api_max_slotitem")+3},enumerable:!0,configurable:!0}),t.prototype.getTutorialProgress=function(){return r.ObjUtil.getNumber(this._o,"api_tutorial_progress")},t.prototype.getPortFurnitureMstID=function(t){return this._o.api_furniture[t]},t.prototype.getDutyExecutableCount=function(){return this._duty_executable_count},t.prototype.getCFlag=function(){return this._c_flag},t.prototype.getComment=function(){return r.ObjUtil.getString(this._o,"api_comment")},t.prototype.isLargeBuild=function(){return 1==r.ObjUtil.getNumber(this._o,"api_large_dock")},t.prototype.getExtraSupplyExpedition=function(){return null!=this._extra_supply&&(!(this._extra_supply.length<1)&&1==this._extra_supply[0])},t.prototype.getExtraSupplySortie=function(){return null!=this._extra_supply&&(!(this._extra_supply.length<2)&&1==this._extra_supply[1])},t.prototype.getFilterStatusOrganizeList=function(){return this._filter_status_olist},t.prototype.isJapaneseOrganizeList=function(){return this._japanese_olist},t.prototype.getDestroyShipSlotType=function(){return this._destroy_ship_slot_type},t.prototype.getUISkinID=function(){return this._skinID},t.prototype.getMFlag2=function(){return null!=this._event_data&&(0!=this._event_data.hasOwnProperty("api_m_flag2")&&1==this._event_data.api_m_flag2)},t.prototype.getCNum=function(){return r.ObjUtil.getNumber(this._event_data,"api_c_num")},t.prototype.getFlagShipPosIDSvr=function(){return this._flagship_pos_id_svr},t.prototype.getFlagShipPosIDCli=function(){return this._flagship_pos_id_cli},t}();e.BasicModel=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.setUserData=function(t){this._o=t},e.prototype.updateTutorialProgress=function(t){null!=this._o&&(this._o.api_tutorial_progress=t)},e.prototype.updatePortFurnitureMstID=function(t,e){null!=this._o&&(this._o.api_furniture[t]=e)},e.prototype.setPortBGMID=function(t){this._port_bgm_id=t},e.prototype.setDutyExcutableCount=function(t){this._duty_executable_count=t},e.prototype.getCoinCount=function(){return r.ObjUtil.getNumber(this._o,"api_fcoin")},e.prototype.setCoinCount=function(t){null!=this._o&&(this._o.api_fcoin=t)},e.prototype.setExtraSupplyFlag=function(t){this._extra_supply=t},e.prototype.updateOrganizeListSetting=function(t,e){this._filter_status_olist=t,this._japanese_olist=e},e.prototype.setDestroyShipSlotType=function(t){this._destroy_ship_slot_type=t},e.prototype.setUISkinID=function(t){this._skinID=t},e.prototype.setEventData=function(t){this._event_data=t},e.prototype.setCFlag=function(t){this._c_flag=t},e.prototype.setFlagShipPosIDCli=function(t){this._flagship_pos_id_cli=t},e.prototype.setFlagShipPosIDSvr=function(t){this._flagship_pos_id_svr=t},e}(s);e.BasicModelEdit=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(495),r=i(496),s=function(){function t(){}return t.prototype.getMst=function(t){return null==this._dic?null:0==this._dic.hasOwnProperty(t.toString())?null:this._dic[t]},t.prototype.getMapBGM=function(t,e){var i=this._getMapBGMData(t,e);return null==i?0:i.mapBGMID},t.prototype.getCombatBGM=function(t,e,i,n){var o=this._getMapBGMData(t,e);return null==o?i?2:1:o.getBGM(i,n)},t.prototype.isSameBGM=function(t,e,i){var n=this._getMapBGMData(t,e);return null!=n&&n.getDayBGM(i)==n.getNightBGM(i)},t.prototype._getMapBGMData=function(t,e){var i=t.toString()+e.toString();return 1==this._dic_battle.hasOwnProperty(i)?this._dic_battle[i]:null},t}();e.BGMMstModelHolder=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.setMstBGMData=function(t){if(this._dic={},null!=t)for(var e=0;e<t.length;e++){var i=new r.BGMMstModel(t[e]),n=i.mstID;n>0&&(this._dic[n]=i)}},e.prototype.setMapBGMData=function(t){if(this._dic_battle={},null!=t)for(var e=0;e<t.length;e++){var i=t[e],n=new o.BattleBGMMstModel(i),r=n.mapID;if(r>0){var s=r.toString();this._dic_battle[s]=n}}},e}(s);e.BGMMstModelHolderEdit=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"mapID",{get:function(){return n.ObjUtil.getNumber(this._o,"api_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"areaID",{get:function(){return n.ObjUtil.getNumber(this._o,"api_maparea_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mapNo",{get:function(){return n.ObjUtil.getNumber(this._o,"api_no")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mapBGMID",{get:function(){return n.ObjUtil.getNumber(this._o,"api_moving_bgm")},enumerable:!0,configurable:!0}),t.prototype.getBGM=function(t,e){var i;i=0==e?n.ObjUtil.getNumArray(this._o,"api_map_bgm"):n.ObjUtil.getNumArray(this._o,"api_boss_bgm");var o=t?1:0;return null==i||i.length<=o?t?2:1:i[o]},t.prototype.getDayBGM=function(t){return this.getBGM(!1,t)},t.prototype.getNightBGM=function(t){return this.getBGM(!0,t)},t}();e.BattleBGMMstModel=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"mstID",{get:function(){return n.ObjUtil.getNumber(this._o,"api_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return n.ObjUtil.getNumber(this._o,"api_name")},enumerable:!0,configurable:!0}),t}();e.BGMMstModel=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(498),o=i(261),r=i(7),s=function(){function t(){this._exist3rdUnit=!1,this._combined=new n.DeckCombinedModelEdit}return Object.defineProperty(t.prototype,"num",{get:function(){var t=0;for(var e in this._map)t++;return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"combined",{get:function(){return this._combined},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exist3rdUnit",{get:function(){return this._exist3rdUnit},enumerable:!0,configurable:!0}),t.prototype.setData=function(t){if(this._map={},null!=t)for(var e=0;e<t.length;e++){var i=t[e],n=r.ObjUtil.getNumber(i,"api_id");if(n>0){var s=n.toString(),a=new o.DeckModelEdit(i);this._map[s]=a,2===e&&(this._exist3rdUnit=i.api_ship.length>=7)}}},t.prototype.updateData=function(t){if(null!=this._map&&null!=t){var e=new o.DeckModelEdit(t);if(!(e.mstID<=0)){var i=e.mstID.toString();1==this._map.hasOwnProperty(i)&&delete this._map[i],this._map[i]=e}}},t.prototype.get=function(t){var e=t.toString();return 1==this._map.hasOwnProperty(e)?this._map[e]:null},t.prototype.getAll=function(){var t,e=[];return null!=(t=this.get(1))&&e.push(t),null!=(t=this.get(2))&&e.push(t),null!=(t=this.get(3))&&e.push(t),null!=(t=this.get(4))&&e.push(t),e},t.prototype.getIDs=function(){return this.getAll().map(function(t,e,i){return t.mstID})},t.prototype.isInDeck=function(t){for(var e=this.getAll(),i=0,n=e;i<n.length;i++){var o=n[i],r=o.isInDeck(t);if(-1!=r)return[o.mstID,r]}return null},t.prototype.isCombined=function(){return this._combined.isCombined()},t}();e.DeckModelHolder=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){this._type=0}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deck_id_main",{get:function(){return 1==this.isCombined()?1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deck_id_sub",{get:function(){return 1==this.isCombined()?2:0},enumerable:!0,configurable:!0}),t.prototype.isCombined=function(){return 1==this._type||2==this._type||3==this._type},t}();e.DeckCombinedModel=o;var r=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.__update__=function(t){this._type=t},e}(o);e.DeckCombinedModelEdit=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this._a=t}return Object.defineProperty(t.prototype,"state",{get:function(){return null!=this._a&&this._a.length>0?this._a[0]:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expedition_id",{get:function(){return null!=this._a&&this._a.length>1?this._a[1]:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"complete_unixtime",{get:function(){return null!=this._a&&this._a.length>2?this._a[2]:-1},enumerable:!0,configurable:!0}),t}();e.DeckExpeditionModel=o;var r=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.__update__=function(t){this._a=t},e.prototype.__update_state__=function(t){for(null==this._a&&(this._a=[]);this._a.length<=0;)this._a.push(0);this._a[0]=t},e.prototype.__update_id__=function(t){for(null==this._a&&(this._a=[]);this._a.length<=1;)this._a.push(0);this._a[1]=t},e.prototype.__update_time__=function(t){for(null==this._a&&(this._a=[]);this._a.length<=2;)this._a.push(0);this._a[2]=t},e}(o);e.DeckExpeditionModelEdit=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(501),r=function(){function t(){this.__map__={}}return t.prototype.__initData__=function(t){for(var e=0;e<t.length;e++){var i=t[e],n=new o.EquipModel(i),r=n.ship_id.toString();this.__map__[r]=n}},t.prototype.get=function(t){var e=t.toString(),i=this.__map__[e];if(i)return i;var r=n.default.model.ship.getMst(t).shipTypeID,s=n.default.model.shipType.get(r).getEquippableTypes(),a={};return a.api_ship_id=t,a.api_equip_type=s,new o.EquipModel(a)},t}();e.EquipModelHolder=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"ship_id",{get:function(){return n.ObjUtil.getNumber(this._o,"api_ship_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"equip_type",{get:function(){return n.ObjUtil.getNumArray(this._o,"api_equip_type")},enumerable:!0,configurable:!0}),t}();e.EquipModel=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(503),r=i(15),s=function(){function t(){}return t.prototype.get=function(t){return 1==this._map.hasOwnProperty(t.toString())?this._map[t]:null},t.prototype.getLimitTime=function(t){switch(t){case 1:return this._limit_time[0];default:throw new Error}},t.prototype.getInArea=function(t,e){var i=[];for(var n in this._map){var o=this._map[n];o.areaID==t&&(1==e&&-1==o.state||i.push(o))}return i.sort(function(t,e){return t.mstID-e.mstID}),i},t.prototype.getserialID=function(){return this._serial_id},Object.defineProperty(t.prototype,"serial_id",{set:function(t){this._serial_id=t},enumerable:!0,configurable:!0}),t}();e.ExpeditionModelHolder=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.setMstData=function(t){if(this._map={},null!=t)for(var e=0;e<t.length;e++){var i=t[e],n=new o.ExpeditionModelEdit(i),r=n.mstID;if(r>0){var s=r.toString();this._map[s]=n}}},e.prototype.setData=function(t,e){if(null!=this._map&&null!=t){for(var i in this._map){var n=this.get(this._map[i].mstID);n.__setState__(-1)}for(var o=0,s=t;o<s.length;o++){var a=s[o],_=r.ObjUtil.getNumber(a,"api_mission_id");if(_>0){var n=this.get(_);if(null!=n){var l=r.ObjUtil.getNumber(a,"api_state"),u=l;n.__setState__(u)}}}this._limit_time=e}},e}(s);e.ExpeditionModelHolderEdit=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),r=function(){function t(t){this._o=t,this._state=-1}return Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mstID",{get:function(){return o.ObjUtil.getNumber(this._o,"api_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"areaID",{get:function(){return o.ObjUtil.getNumber(this._o,"api_maparea_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dispID",{get:function(){return o.ObjUtil.getString(this._o,"api_disp_no")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reset_type",{get:function(){return o.ObjUtil.getNumber(this._o,"api_reset_type")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"damage_type",{get:function(){return o.ObjUtil.getNumber(this._o,"api_damage_type")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return o.ObjUtil.getString(this._o,"api_name")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"difficulty",{get:function(){return o.ObjUtil.getNumber(this._o,"api_difficulty")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"detail",{get:function(){return o.ObjUtil.getString(this._o,"api_details")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"time",{get:function(){return o.ObjUtil.getNumber(this._o,"api_time")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fuel",{get:function(){return o.ObjUtil.getNumber(this._o,"api_use_fuel")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ammo",{get:function(){return o.ObjUtil.getNumber(this._o,"api_use_bull")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item1_id",{get:function(){var t=o.ObjUtil.getNumArray(this._o,"api_win_item1");return null!=t&&t.length>0?t[0]:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item1_count",{get:function(){var t=o.ObjUtil.getNumArray(this._o,"api_win_item1");return null!=t&&t.length>1?t[1]:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item2_id",{get:function(){var t=o.ObjUtil.getNumArray(this._o,"api_win_item2");return null!=t&&t.length>0?t[0]:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item2_count",{get:function(){var t=o.ObjUtil.getNumArray(this._o,"api_win_item2");return null!=t&&t.length>1?t[1]:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"win_mat_level",{get:function(){return o.ObjUtil.getNumArray(this._o,"api_win_mat_level")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sample_fleet",{get:function(){return o.ObjUtil.getNumArray(this._o,"api_sample_fleet")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required_num",{get:function(){return o.ObjUtil.getNumber(this._o,"api_deck_num")},enumerable:!0,configurable:!0}),t.prototype.isCancelable=function(){return 1==o.ObjUtil.getNumber(this._o,"api_return_flag")},t.prototype.isSupport=function(){return[33,34,301,302].indexOf(this.mstID)>=0},t}();e.ExpeditionModel=r;var s=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.__setState__=function(t){this._state=t},e}(r);e.ExpeditionModelEdit=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t,e){e||(e="YYYY/MM/DD hh:mm:ss");var i=new Date(t);return e=e.replace(/YYYY/g,i.getFullYear().toString()),e=e.replace(/MM/g,("0"+(i.getMonth()+1)).slice(-2)),e=e.replace(/DD/g,("0"+i.getDate()).slice(-2)),e=e.replace(/hh/g,("0"+i.getHours()).slice(-2)),e=e.replace(/mm/g,("0"+i.getMinutes()).slice(-2)),e=e.replace(/ss/g,("0"+i.getSeconds()).slice(-2))}t.format=e}(e.DateUtil||(e.DateUtil={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(506),o=function(){function t(){}return t.prototype.setData=function(t){if(this._dic={},null!=t)for(var e=0;e<t.length;e++){var i=t[e],o=new n.FurnitureGraphModel(i),r=o.mstID;if(r>0){var s=r.toString();this._dic[s]=o}}},t.prototype.isActive=function(t){return 1==this._dic.hasOwnProperty(t.toString())},t.prototype.get=function(t){return 1==this._dic.hasOwnProperty(t.toString())?this._dic[t.toString()]:null},t}();e.FurnitureGraphModelHolder=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"mstID",{get:function(){return n.ObjUtil.getNumber(this._o,"api_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"typeID",{get:function(){return n.ObjUtil.getNumber(this._o,"api_type")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberID",{get:function(){return n.ObjUtil.getNumber(this._o,"api_no")},enumerable:!0,configurable:!0}),t}();e.FurnitureGraphModel=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(508),r=i(7),s=function(){function t(){}return t.prototype.getData=function(t){var e=t.toString();return 1==this._map.hasOwnProperty(e)?this._map[e]:null},t.prototype.getOwnList=function(t){var e=[];for(var i in this._map){var n=this._map[i];n.type==t&&1==n.has()&&e.push(n)}return e},t.prototype.getOnSaleList=function(t){var e=[];for(var i in this._map){var n=this._map[i];n.type==t&&1==n.isOnSale()&&e.push(n)}return e.sort(function(t,e){return t.no>e.no?1:t.no<e.no?-1:0}),e},t.prototype.isActive=function(t){var e=this.getData(t);return null!=e&&e.isActive()},t}();e.FurnitureModelHolder=s;var a=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.setMstData=function(t){if(this._map={},null!=t)for(var e=0;e<t.length;e++){var i=t[e],n=new o.FurnitureModelEdit(i),r=n.mstID;this._map[r]=n}},e.prototype.setMemData=function(t){if(null!=this._map)for(var e=0,i=t;e<i.length;e++){var n=i[e],o=r.ObjUtil.getNumber(n,"api_id"),s=this.getData(o);null!=s&&s.updateHasFlag(!0)}},e}(s);e.FurnitureModelHolderEdit=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),r=function(){function t(t){this._hasFlag=!1,this._o=t}return Object.defineProperty(t.prototype,"mstID",{get:function(){return this._o.api_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"no",{get:function(){return this._o.api_no},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._o.api_type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._o.api_title},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outside",{get:function(){return this._o.hasOwnProperty("api_outside_id")?this._o.api_outside_id:4},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){return this._o.api_description},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"price",{get:function(){return o.ObjUtil.getNumber(this._o,"api_price")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rarity",{get:function(){return o.ObjUtil.getNumber(this._o,"api_rarity")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"seasonID",{get:function(){return o.ObjUtil.getNumber(this._o,"api_season")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return o.ObjUtil.getString(this._o,"api_version","1")},enumerable:!0,configurable:!0}),t.prototype.has=function(){return this._hasFlag},t.prototype.isOnSale=function(){return 1==o.ObjUtil.getNumber(this._o,"api_saleflg")},t.prototype.isNeedCraftsman=function(){return this.price>=2e3&&this.price<2e4},t.prototype.isHighGrade=function(){return this.price>=1e5},t.prototype.isActive=function(){return 1==this._o.api_active_flag},t.prototype.getDiscountPrice=function(){if(0==this.isHighGrade())return this.price;var t=.1*(this.price-1e5);return t=Math.max(t,0),Math.floor(t)},Object.defineProperty(t.prototype,"getVersion",{get:function(){return this._o.api_version},enumerable:!0,configurable:!0}),t}();e.FurnitureModel=r;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.updateHasFlag=function(t){this._hasFlag=t},e}(r);e.FurnitureModelEdit=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),r=i(148),s=i(149),a=i(187),_=i(127),l=function(){function t(){this._arr=[]}return t.prototype.hasIncentive=function(){return this._arr.length>0},t.prototype.getRewards=function(){return this._arr.concat()},t.prototype.clearData=function(){this._arr=[]},t}();e.IncentiveModelHolder=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.setData=function(t){if(this._arr=[],null!=t){var e=o.ObjUtil.getObjectArray(t,"api_item");if(null!=e)for(var i=0,n=e;i<n.length;i++){var l=n[i],u=(o.ObjUtil.getNumber(l,"api_mode"),o.ObjUtil.getNumber(l,"api_type")),c=o.ObjUtil.getNumber(l,"api_mst_id"),h=o.ObjUtil.getString(l,"api_getmes"),p=void 0;1==u?p=new a.RewardModelShip(c,h):2==u?p=new s.RewardModelSlotitem(c,1,h):3==u?p=new _.RewardModelUseitem(c,1,h):4==u||5==u&&(p=new r.RewardModelFurniture(c,"",h)),null!=p&&this._arr.push(p)}}},e}(l);e.IncentiveModelHolderEdit=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(511),r=function(){function t(){this._dic={}}return t.prototype.get=function(t){var e=t.toString();return 1==this._dic.hasOwnProperty(e)?this._dic[e]:null},t.prototype.getAll=function(){var t=new Array;for(var e in this._dic){var i=this._dic[e];t.push(i)}return t.sort(function(t,e){return t.id<e.id?-1:t.id>e.id?1:0}),t},t}();e.KDockModelHolder=r;var s=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.__setData__=function(t){if(null!=t){this._dic={};for(var e=0,i=t;e<i.length;e++){var n=i[e],r=new o.KDockModelEdit(n),s=r.id;if(s>0){var a=s.toString();this._dic[a]=r}}}},e}(r);e.KDockModelHolderEdit=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),r=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"id",{get:function(){return o.ObjUtil.getNumber(this._o,"api_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return o.ObjUtil.getNumber(this._o,"api_state",-1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ship_mst_id",{get:function(){return o.ObjUtil.getNumber(this._o,"api_created_ship_id",0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"complete_time",{get:function(){return o.ObjUtil.getNumber(this._o,"api_complete_time",0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fuel",{get:function(){return o.ObjUtil.getNumber(this._o,"api_item1",0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ammo",{get:function(){return o.ObjUtil.getNumber(this._o,"api_item2",0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"steel",{get:function(){return o.ObjUtil.getNumber(this._o,"api_item3",0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baux",{get:function(){return o.ObjUtil.getNumber(this._o,"api_item4",0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dev_kit",{get:function(){return o.ObjUtil.getNumber(this._o,"api_item5",0)},enumerable:!0,configurable:!0}),t.prototype.isLargeBuild=function(){return(2==this.state||3==this.state)&&this.fuel>=1e3},t}();e.KDockModel=r;var s=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.__open__=function(){-1==this.state&&(this._o.api_state=0)},e.prototype.__complete__=function(t){void 0===t&&(t=!1),(t||2==this.state)&&(this._o.api_state=3,this._o.api_complete_time=0,this._o.api_complete_time_str="")},e}(r);e.KDockModelEdit=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(513),o=function(){function t(){}return Object.defineProperty(t.prototype,"list",{get:function(){return this._list},enumerable:!0,configurable:!0}),t.prototype.setData=function(t){if(this._list=[],null!=t)for(var e=0;e<t.length;e++){var i=t[e];null!=i&&this._list.push(new n.LogModel(i))}},t}();e.LogModelHolder=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"type",{get:function(){return n.ObjUtil.getNumber(this._o,"api_type")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return n.ObjUtil.getString(this._o,"api_message")},enumerable:!0,configurable:!0}),t}();e.LogModel=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(55),r=i(515),s=i(516),a=i(517),_=function(){function t(){}return t.prototype.getArea=function(t){return null==this._area_msts?null:this._area_msts[t]},t.prototype.getMapMst=function(t,e){void 0===e&&(e=-1);var i=t;return-1!=e&&(i=o.MapUtil.toMapID(t,e)),null==this._map_msts||0==this._map_msts.hasOwnProperty(i.toString())?null:this._map_msts[i]},t.prototype.getMapMsts=function(t){if(null==this._map_msts)return null;var e=new Array;for(var i in this._map_msts){var n=this._map_msts[i];n.area_id==t&&e.push(n)}return e.sort(function(t,e){return t.map_no>e.map_no?1:t.map_no<e.map_no?-1:0}),e},t.prototype.getMapMem=function(t){if(null!=this._maps&&1==this._maps.hasOwnProperty(t.toString()))return this._maps[t];if(null!=this.getMapMst(t)){var e=new s.MapModelEdit(null);return e.setMstID(t),e}return null},t.prototype.getMapMems=function(t){for(var e=this.getMapMsts(t),i=[],n=0,o=e;n<o.length;n++){var r=o[n],s=r.mst_id,a=this.getMapMem(s);i.push(a)}return i},t}();e.MapModelHolder=_;var l=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.setAreaMst=function(t){if(this._area_msts={},null!=t)for(var e=0,i=t;e<i.length;e++){var n=i[e],o=new r.MapAreaModel(n),s=o.mstID;s>0&&(this._area_msts[s]=o)}},e.prototype.setMapMst=function(t){if(this._map_msts={},null!=t)for(var e=0,i=t;e<i.length;e++){var n=i[e],o=new a.MapMstModel(n),r=o.mst_id;r>0&&(this._map_msts[r]=o)}},e.prototype.setMapMem=function(t){if(this._maps={},null!=t)for(var e=0,i=t;e<i.length;e++){var n=i[e],o=new s.MapModelEdit(n),r=o.mst_id;r>0&&(this._maps[r]=o)}},e}(_);e.MapModelHolderEdit=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"mstID",{get:function(){return n.ObjUtil.getNumber(this._o,"api_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return n.ObjUtil.getString(this._o,"api_name")},enumerable:!0,configurable:!0}),t}();e.MapAreaModel=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(7),s=i(264),a=function(){function t(t){this._mst_id=0,this._o=t}return Object.defineProperty(t.prototype,"mst_id",{get:function(){return null!=this._o?r.ObjUtil.getNumber(this._o,"api_id"):this._mst_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"area_id",{get:function(){var t=this._mst;return null==t?0:t.area_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"map_no",{get:function(){var t=this._mst;return null==t?0:t.map_no},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var t=this._mst;return null==t?"":t.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"operation_name",{get:function(){var t=this._mst;return null==t?"":t.operation_name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"operation_detail",{get:function(){var t=this._mst;return null==t?"":t.operation_detail},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item_ids",{get:function(){var t=this._mst;return null==t?[]:t.item_ids},enumerable:!0,configurable:!0}),t.prototype.getAllowedDeckType=function(){var t=r.ObjUtil.getNumArray(this._o,"api_sally_flag");if(t){var e=new s.AllowedDeckTypeModel;return e.init(t),e}var i=this._mst;return null==i?new s.AllowedDeckTypeModel:i.getAllowedDeckType()},Object.defineProperty(t.prototype,"gauge_type",{get:function(){return r.ObjUtil.getNumber(this._o,"api_gauge_type",0)},enumerable:!0,configurable:!0}),t.prototype.getGaugeNum=function(){return r.ObjUtil.getNumber(this._o,"api_gauge_num",1)},Object.defineProperty(t.prototype,"defeat_required",{get:function(){return null==this._o?0:r.ObjUtil.getNumber(this._o,"api_required_defeat_count")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defeat_count",{get:function(){return null==this._o?0:r.ObjUtil.getNumber(this._o,"api_defeat_count")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gauge_now",{get:function(){var t=this._evene_data;return r.ObjUtil.getNumber(t,"api_now_maphp")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gauge_max",{get:function(){var t=this._evene_data;return r.ObjUtil.getNumber(t,"api_max_maphp")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"availableAirUnitCount",{get:function(){return r.ObjUtil.getNumber(this._o,"api_air_base_decks")},enumerable:!0,configurable:!0}),t.prototype.isCleared=function(){return 1==r.ObjUtil.getNumber(this._o,"api_cleared")},t.prototype.isOpened=function(){return null!=this._o},t.prototype.getSelectedOperationType=function(){var t=this._evene_data;return null==t?0:r.ObjUtil.getNumber(t,"api_selected_rank",0)},Object.defineProperty(t.prototype,"_mst",{get:function(){return o.default.model.map.getMapMst(this.mst_id)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_evene_data",{get:function(){return r.ObjUtil.getObject(this._o,"api_eventmap")},enumerable:!0,configurable:!0}),t}();e.MapModel=a;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.setMstID=function(t){this._mst_id=t},e.prototype.changeOperation=function(t,e,i,n,o){var r=this._evene_data;if(null!=r){if(this.getSelectedOperationType()!=t){r.api_selected_rank=t,r.api_max_maphp=n,r.api_now_maphp=o;var s=this._o;s.api_gauge_num=e,s.api_gauge_type=i}}},e.prototype.changeAllowedDeckType=function(t){if(null!=t){var e="api_sally_flag",i=this._o;0==i.hasOwnProperty(e)&&(i[e]=[]);for(var n=0;n<3;n++)i[e][n]=t[n]}},e}(a);e.MapModelEdit=_},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=i(264),r=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"mst_id",{get:function(){return n.ObjUtil.getNumber(this._o,"api_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"area_id",{get:function(){return n.ObjUtil.getNumber(this._o,"api_maparea_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"map_no",{get:function(){return n.ObjUtil.getNumber(this._o,"api_no")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return n.ObjUtil.getString(this._o,"api_name")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"operation_name",{get:function(){return n.ObjUtil.getString(this._o,"api_opetext")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"operation_detail",{get:function(){return n.ObjUtil.getString(this._o,"api_infotext")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item_ids",{get:function(){return n.ObjUtil.getNumArray(this._o,"api_item")},enumerable:!0,configurable:!0}),t.prototype.getAllowedDeckType=function(){var t=new o.AllowedDeckTypeModel,e=n.ObjUtil.getNumArray(this._o,"api_sally_flag");return t.init(e),t},t}();e.MapMstModel=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(519),o=function(){function t(){}return t.prototype.setData=function(t){if(this._map={},null!=t)for(var e=0;e<t.length;e++){var i=t[e],o=new n.NDockModelEdit(i),r=o.mstID;if(r>0){var s=r.toString();this._map[s]=o}}},t.prototype.get=function(t){var e=t.toString();return 1==this._map.hasOwnProperty(e)?this._map[e]:null},t.prototype.getAll=function(){var t=new Array;for(var e in this._map){var i=this._map[e];t.push(i)}return t},t.prototype.getShipMemIDs=function(){for(var t=[],e=this.getAll(),i=0,n=e;i<n.length;i++){var o=n[i];o.shipMemID>0&&t.push(o.shipMemID)}return t},t}();e.NDockModelHolder=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),r=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"mstID",{get:function(){return o.ObjUtil.getNumber(this._o,"api_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return o.ObjUtil.getNumber(this._o,"api_state",-1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shipMemID",{get:function(){return o.ObjUtil.getNumber(this._o,"api_ship_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"completeTime",{get:function(){return o.ObjUtil.getNumber(this._o,"api_complete_time")},enumerable:!0,configurable:!0}),t}();e.NDockModel=r;var s=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.__updateState__=function(t){this._o.api_state=t},e.prototype.__updateShipId__=function(t){this._o.api_ship_id=t},e.prototype.__updateCompleteTime__=function(t){this._o.api_complete_time=t},e}(r);e.NDockModelEdit=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),r=i(521),s=function(){function t(){this._dic={}}return t.prototype.getData=function(t){var e=t.toString();return 1==this._dic.hasOwnProperty(e)?this._dic[e]:null},t.prototype.getOrder=function(t){return null==this._orders?[]:this._orders.length<=t?[]:this._orders[t]},t}();e.PayItemModelHolder=s;var a=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.setData=function(t){if(this._dic={},null!=t)for(var e=0;e<t.length;e++){var i=t[e],n=new r.PayItemModel(i),o=n.id;o>0&&(this._dic[o]=n)}},e.prototype.setOrders=function(t){if(this._orders=[],null!=t){var e=o.ObjUtil.getNumArray(t,"api_cabinet_1");null==e?this._orders.push([]):this._orders.push(e),e=o.ObjUtil.getNumArray(t,"api_cabinet_2"),null==e?this._orders.push([]):this._orders.push(e)}},e}(s);e.PayItemModelHolderEdit=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"id",{get:function(){return n.ObjUtil.getNumber(this._o,"api_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return n.ObjUtil.getString(this._o,"api_name")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){return n.ObjUtil.getString(this._o,"api_description")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"price",{get:function(){return n.ObjUtil.getNumber(this._o,"api_price")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"description_at_shop",{get:function(){var t="api_shop_description";return 1==this._o.hasOwnProperty(t)?this._o[t]:this.description},enumerable:!0,configurable:!0}),t}();e.PayItemModel=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),r=function(){function t(){}return Object.defineProperty(t.prototype,"boko_max_ships",{get:function(){var t=o.ObjUtil.getObject(this._o,"api_boko_max_ships");return null==t?0:o.ObjUtil.getNumber(t,"api_int_value")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quest_max",{get:function(){var t=o.ObjUtil.getObject(this._o,"api_parallel_quest_max");return null==t?0:o.ObjUtil.getNumber(t,"api_int_value")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"voice_server",{get:function(){var t=o.ObjUtil.getObject(this._o,"api_voice_server_addr");return null==t?"":o.ObjUtil.getString(t,"api_string_value")},enumerable:!0,configurable:!0}),t}();e.ServerConstModel=r;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.setData=function(t){this._o=t},e}(r);e.ServerConstModelEdit=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(524),o=function(){function t(){}return t.prototype.setData=function(t){if(this._dic={},null!=t)for(var e=0;e<t.length;e++){var i=t[e],o=new n.ShipGraphModel(i),r=o.mstID;if(r>0){var s=r.toString();this._dic[s]=o}}},t.prototype.get=function(t){return 1==this._dic.hasOwnProperty(t.toString())?this._dic[t.toString()]:null},t}();e.ShipGraphModelHolder=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"mstID",{get:function(){return n.ObjUtil.getNumber(this._o,"api_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){var t=n.ObjUtil.getStrArray(this._o,"api_version");return null!=t&&t.length>0?t[0]:"1"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version_voice",{get:function(){var t=n.ObjUtil.getStrArray(this._o,"api_version");return null!=t&&t.length>1?t[1]:"1"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version_voice_boko",{get:function(){var t=n.ObjUtil.getStrArray(this._o,"api_version");return null!=t&&t.length>2?t[2]:"1"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unique_key",{get:function(){return n.ObjUtil.getString(this._o,"api_filename")},enumerable:!0,configurable:!0}),t.prototype.getPortOffset=function(t){void 0===t&&(t=!1);var e=t?"api_boko_d":"api_boko_n",i=n.ObjUtil.getNumArray(this._o,e);return null==i||i.length<2?new PIXI.Point(0,0):new PIXI.Point(i[0],i[1])},t.prototype.getCenterOffset=function(t){void 0===t&&(t=!1);var e=t?"api_kaizo_d":"api_kaizo_n",i=n.ObjUtil.getNumArray(this._o,e);return null==i||i.length<2?new PIXI.Point(0,0):new PIXI.Point(i[0],i[1])},t.prototype.getLeftOffset=function(t){void 0===t&&(t=!1);var e=t?"api_ensyuf_d":"api_ensyuf_n",i=n.ObjUtil.getNumArray(this._o,e);return null==i||i.length<2?new PIXI.Point(0,0):new PIXI.Point(i[0],i[1])},t.prototype.getMapOffset=function(t){void 0===t&&(t=!1);var e=t?"api_map_d":"api_map_n",i=n.ObjUtil.getNumArray(this._o,e);return null==i||i.length<2?new PIXI.Point(0,0):new PIXI.Point(i[0],i[1])},t.prototype.getRemodelPowupUIOffset=function(t){void 0===t&&(t=!1);var e=t?"api_kaisyu_d":"api_kaisyu_n",i=n.ObjUtil.getNumArray(this._o,e);return null==i||i.length<2?new PIXI.Point(0,0):new PIXI.Point(i[0],i[1])},t.prototype.getBattleOffset=function(t){void 0===t&&(t=!1);var e=t?"api_battle_d":"api_battle_n",i=n.ObjUtil.getNumArray(this._o,e);return null==i||i.length<2?new PIXI.Point(0,0):new PIXI.Point(i[0],i[1])},t.prototype.getFaceRect=function(t){void 0===t&&(t=!1);var e=n.ObjUtil.getNumArray(this._o,"api_weda"),i=n.ObjUtil.getNumArray(this._o,"api_wedb");return new PIXI.Rectangle(e[0],e[1],i[0],i[1])},t.prototype.getPaOffset=function(){var t=n.ObjUtil.getNumArray(this._o,"api_pa");return new PIXI.Point(t[0],t[1])},t}();e.ShipGraphModel=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(28),r=i(150),s=i(526),a=function(){function t(){}return Object.defineProperty(t.prototype,"num",{get:function(){var t=0;for(var e in this._map)t++;return t},enumerable:!0,configurable:!0}),t.prototype.setData=function(t){if(this._map={},null!=t)for(var e=0;e<t.length;e++){var i=t[e],n=new r.ShipModelEdit(i),o=n.memID;if(o>0){var s=o.toString();this._map[s]=n}}},t.prototype.get=function(t){var e=t.toString();return 1==this._map.hasOwnProperty(e)?this._map[e]:null},t.prototype.delete=function(t,e){void 0===e&&(e=!1);var i=this.get(t),o=i.getSlotitems(),r=i.getSlotitemEx(),s=i.memID.toString();if(1==this._map.hasOwnProperty(s)&&delete this._map[s],!1===e){for(var a=0;a<o.length;a++){var _=o[a];null!=_&&n.default.model.slot.delete(_.memID)}null!=r&&n.default.model.slot.delete(r.memID)}},t.prototype.getAll=function(){var t=new Array;for(var e in this._map){var i=this._map[e];t.push(i)}return t},t.prototype.getAllOther=function(){var t=o.ShipUtil.getMemIDsInAllDeck(),e=new Array;for(var i in this._map){var n=this._map[i];-1==t.indexOf(n.memID)&&e.push(n)}return e},t.prototype.setMstData=function(t){if(this._mapMst={},null!=t)for(var e=0;e<t.length;e++){var i=t[e],n=new s.ShipMstModel(i),o=n.mstID;if(o>0){var r=o.toString();this._mapMst[r]=n}}},t.prototype.getMst=function(t){var e=t.toString();return 1==this._mapMst.hasOwnProperty(e)?this._mapMst[e]:null},t.prototype.updateData=function(t){if(null==this._map)return null;var e=new r.ShipModelEdit(t),i=e.memID.toString();return 1==this._map.hasOwnProperty(i)&&delete this._map[i],this._map[i]=e,e},t}();e.ShipModelHolder=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(7),r=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"mstID",{get:function(){return o.ObjUtil.getNumber(this._o,"api_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return o.ObjUtil.getString(this._o,"api_name")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yomi",{get:function(){return o.ObjUtil.getString(this._o,"api_yomi")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortNo",{get:function(){return o.ObjUtil.getNumber(this._o,"api_sort_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slotNum",{get:function(){return o.ObjUtil.getNumber(this._o,"api_slot_num")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shipTypeID",{get:function(){return o.ObjUtil.getNumber(this._o,"api_stype",-1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shipTypeName",{get:function(){if(553==this.mstID||554==this.mstID)return"\u6539\u88c5\u822a\u7a7a\u6226\u8266";if(574==this.mstID)return"\u8efd(\u822a\u7a7a)\u5de1\u6d0b\u8266";var t=n.default.model.shipType.get(this.shipTypeID);return null==t?"":t.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fuelMax",{get:function(){return o.ObjUtil.getNumber(this._o,"api_fuel_max")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ammoMax",{get:function(){return o.ObjUtil.getNumber(this._o,"api_bull_max")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tousai",{get:function(){var t=o.ObjUtil.getNumArray(this._o,"api_maxeq");return null==t?0:t.reduce(function(t,e,i,n){return t+e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"speed",{get:function(){return o.ObjUtil.getNumber(this._o,"api_soku")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"remodeling_level",{get:function(){return o.ObjUtil.getNumber(this._o,"api_afterlv")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"remodeling_ammo",{get:function(){return o.ObjUtil.getNumber(this._o,"api_afterbull")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"remodeling_steel",{get:function(){return o.ObjUtil.getNumber(this._o,"api_afterfuel")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"remodeled_mst_id",{get:function(){return o.ObjUtil.getNumber(this._o,"api_aftershipid")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"availableBeLeftVoice",{get:function(){return(1&this._voiceFlag)>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"availableBeLeftVoices",{get:function(){return(4&this._voiceFlag)>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"availableTimeSignalVoice",{get:function(){return(2&this._voiceFlag)>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_voiceFlag",{get:function(){return o.ObjUtil.getNumber(this._o,"api_voicef")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"powUp",{get:function(){var t=o.ObjUtil.getNumArray(this._o,"api_powup");return"\u307e\u308b\u3086"==this.yomi?t.push(1):t.push(0),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hougMax",{get:function(){return this._houg[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hougMin",{get:function(){return this._houg[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_houg",{get:function(){return o.ObjUtil.getNumArray(this._o,"api_houg")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"raigMax",{get:function(){return this._raig[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"raigMin",{get:function(){return this._raig[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_raig",{get:function(){return o.ObjUtil.getNumArray(this._o,"api_raig")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tykuMax",{get:function(){return this._tyku[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tykuMin",{get:function(){return this._tyku[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_tyku",{get:function(){return o.ObjUtil.getNumArray(this._o,"api_tyku")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"soukMax",{get:function(){return this._souk[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"soukMin",{get:function(){return this._souk[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_souk",{get:function(){return o.ObjUtil.getNumArray(this._o,"api_souk")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"luckMax",{get:function(){return this._luck[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"luckMin",{get:function(){return this._luck[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_luck",{get:function(){return o.ObjUtil.getNumArray(this._o,"api_luck")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"taikyuMin",{get:function(){return this._taikyu[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"taikyuMax",{get:function(){return this._taikyu[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_taikyu",{get:function(){return o.ObjUtil.getNumArray(this._o,"api_taik")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"taisen_base",{get:function(){var t=o.ObjUtil.getNumArray(this._o,"api_tais");return null!=t&&t.length>0?t[0]:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rarity",{get:function(){return o.ObjUtil.getNumber(this._o,"api_backs")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"build_time",{get:function(){return o.ObjUtil.getNumber(this._o,"api_buildtime")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message_text",{get:function(){return o.ObjUtil.getString(this._o,"api_getmes")},enumerable:!0,configurable:!0}),t.prototype.getMaterialForBroken=function(){var t=o.ObjUtil.getNumArray(this._o,"api_broken");return{fuel:t[0],ammo:t[1],steel:t[2],baux:t[3]}},t.prototype.getClassType=function(){return o.ObjUtil.getNumber(this._o,"api_ctype")},t.prototype.getSlotitemTousaiMax=function(t){var e=o.ObjUtil.getNumArray(this._o,"api_maxeq");return null==e?0:e[t]},t}();e.ShipMstModel=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(528),r=function(){function t(){this._dic={}}return t.prototype.get=function(t){var e=t.toString();return 1==this._dic.hasOwnProperty(e)?this._dic[e]:null},t.prototype.getAllExId=function(){return this._equippable_types_ex},t}();e.ShipTypeModelHolder=r;var s=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.__setData__=function(t){if(this._dic={},null!=t){for(var e=0;e<t.length;e++){var i=t[e],n=new o.ShipTypeModelEdit(i),r=n.id;if(r>0){var s=r.toString();this._dic[s]=n}}this._setExEtypes()}},e.prototype.__setEquipTypeExData__=function(t){this._equippable_types_ex=t,this._setExEtypes()},e.prototype._setExEtypes=function(){var t=this._equippable_types_ex;if(null!=this._dic&&null!=t)for(var e in this._dic){var i=this._dic[e];i.__set_equippqble_types_ex__(t)}},e}(r);e.ShipTypeModelHolderEdit=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(15),r=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"id",{get:function(){return o.ObjUtil.getNumber(this._o,"api_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return o.ObjUtil.getString(this._o,"api_name")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"build_phase_num",{get:function(){return o.ObjUtil.getNumber(this._o,"api_kcnt",3)},enumerable:!0,configurable:!0}),t.prototype.getEquippableTypes=function(){if(null==this._equippqble_types){this._equippqble_types=new Array;var t=o.ObjUtil.getObject(this._o,"api_equip_type");if(null!=t)for(var e in t)1==t[e]&&this._equippqble_types.push(parseInt(e))}return this._equippqble_types.concat()},t.prototype.getEquippableTypesEx=function(){if(null==this._equippqble_types_ex)return new Array;var t=this.getEquippableTypes(),e=this._equippqble_types_ex.concat();return t.filter(function(t,i,n){return-1!=e.indexOf(t)})},t}();e.ShipTypeModel=r;var s=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.__set_equippqble_types_ex__=function(t){this._equippqble_types_ex=t},e}(r);e.ShipTypeModelEdit=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(530),s=function(){function t(){this._USE_DEVKIT_GROUP_=[503,504]}return t.prototype.getRequiredLevel=function(t){var e=this._getMst(t);return null==e?0:e.remodeling_level},t.prototype.getNextID=function(t){if(null!=this._dic&&1==this._dic.hasOwnProperty(t.toString())){return this._dic[t].mst_id_after}var e=this._getMst(t);return null==e?0:e.remodeled_mst_id},t.prototype.getRequires=function(t){var e=this._getMst(t);if(null==e||e.remodeled_mst_id<=0)return{ammo:0,steel:0,devkit:0,buildkit:0,blueprint:0,catapult:0,battlereport:0,newhokohesosizai:0,newkokuhesosizai:0};var i=e.remodeling_ammo,n=e.remodeling_steel;if(1==this._dic.hasOwnProperty(t.toString())){var o=this._dic[t];return{ammo:i,steel:n,blueprint:o.blueprint,catapult:o.catapult,battlereport:o.battlereport,devkit:this._getRequiredDevkitNum(t,o.blueprint,n),buildkit:this._getRequiredBuildKitNum(t),newhokohesosizai:o.newhokohesosizai,newkokuhesosizai:o.newkokuhesosizai}}return{ammo:i,steel:n,blueprint:0,catapult:0,battlereport:0,devkit:this._getRequiredDevkitNum(t,0,n),buildkit:this._getRequiredBuildKitNum(t),newhokohesosizai:0,newkokuhesosizai:0}},t.prototype._getRequiredDevkitNum=function(t,e,i){switch(t){case 214:return 15;case 545:case 550:return 20;case 555:case 560:return 5;case 312:case 320:case 317:return 40;case 225:case 226:return 20;case 82:return 80;case 88:return 181;case 227:return 20;case 242:return 15;case 213:return 24;case 381:return 40;case 313:return 50;case 562:return 80;case 149:return 300;case 277:return 100;case 594:case 599:case 596:return 80;case 350:return 30;default:return 0!=e&&-1==this._USE_DEVKIT_GROUP_.indexOf(t)?0:i<4500?0:i<5500?10:i<6500?15:20}},t.prototype._getRequiredBuildKitNum=function(t){switch(t){case 214:return 5;case 503:case 504:case 508:case 509:return 20;case 545:case 550:return 30;case 555:case 560:return 20;case 312:case 320:case 317:return 10;case 213:return 8;case 313:return 20;case 562:return 10;case 594:case 599:return 30;case 596:return 10;default:return 0}},t.prototype._getMst=function(t){return o.default.model.ship.getMst(t)},t}();e.ShipUpgradeModelHolder=s;var a=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.setData=function(t){if(this._dic={},null==t)return null;for(var e=0;e<t.length;e++){var i=t[e],n=new r.ShipUpgradeModel(i),o=n.mst_id_before;o<=0||null==this._dic[o]&&(this._dic[o]=n)}},e}(s);e.ShipUpgradeModelHolderEdit=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"required_level",{get:function(){return n.ObjUtil.getNumber(this._o,"api_upgrade_level")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mst_id_before",{get:function(){return n.ObjUtil.getNumber(this._o,"api_current_ship_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mst_id_after",{get:function(){return n.ObjUtil.getNumber(this._o,"api_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blueprint",{get:function(){return n.ObjUtil.getNumber(this._o,"api_drawing_count")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"catapult",{get:function(){return n.ObjUtil.getNumber(this._o,"api_catapult_count")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"battlereport",{get:function(){return n.ObjUtil.getNumber(this._o,"api_report_count")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newhokohesosizai",{get:function(){switch(this.mst_id_after){case 546:return 3;case 591:return 2;default:return 0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newkokuhesosizai",{get:function(){return n.ObjUtil.getNumber(this._o,"api_aviation_mat_count")},enumerable:!0,configurable:!0}),t}();e.ShipUpgradeModel=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(532),s=i(265),a=i(533),_=function(){function t(){}return Object.defineProperty(t.prototype,"num",{get:function(){var t=0;for(var e in this._map)t++;return t},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=t.toString();return null!=this._map&&1==this._map.hasOwnProperty(e)?this._map[e]:null},t.prototype.delete=function(t){var e=t.toString();1==this._map.hasOwnProperty(e)&&delete this._map[e]},t.prototype.getMst=function(t){var e=t.toString();return null!=this._mapMst&&1==this._mapMst.hasOwnProperty(e)?this._mapMst[e]:null},t.prototype.getEquipTypeAll=function(){var t=new Array;for(var e in this._mapMstEquipType)t.push(this._mapMstEquipType[e]);return t},t.prototype.getEquipTypeById=function(t){return this._mapMstEquipType[t.toString()]},t.prototype.getAll=function(){var t=new Array;for(var e in this._map)t.push(this._map[e]);return t},t.prototype.createSetList=function(t,e,i,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=-1),void 0===n&&(n=null);var r={},s=new Array;if(null==t){t=new Array;for(var a in this._mapMstEquipType){var _=parseInt(a);t.push(_)}}for(var l=o.default.model.ship.getAll(),u=-1!=i,c=0,h=l;c<h.length;c++){var p=h[c];if(u){if(p.memID==i)continue}for(var d=p.getSlotitems(),f=0,y=d;f<y.length;f++){var m=y[f];null!=m&&(-1!=t.indexOf(m.equipTypeSp)?(s.push(m),r[m.memID]=p.memID):null!=e&&-1!=e.indexOf(m.mstID)&&(s.push(m),r[m.memID]=p.memID))}var g=p.getSlotitemEx();null!=g&&(-1!=t.indexOf(g.equipTypeSp)?(s.push(g),r[g.memID]=p.memID):null!=e&&-1!=e.indexOf(g.mstID)&&(s.push(g),r[g.memID]=p.memID))}return[s,r]},t.prototype.createUnsetListFromMstId=function(t){var e=o.default.model.slot.getMst(t).equipTypeSp,i=o.default.model.slot.createUnsetList([e]),n=new Array;return i.forEach(function(e){e.mstID==t&&n.push(e)}),n},t.prototype.createSetListFromMstId=function(t){var e=o.default.model.slot.getMst(t).equipTypeSp,i=o.default.model.slot.createSetList([e]),n=new Array,r={};return i[0].forEach(function(e){e.mstID==t&&(n.push(e),r[e.memID]=i[1][e.memID])}),[n,r]},t.prototype.createUnsetList=function(t,e,i){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=null);var n=new Array;if(null==t){t=new Array;for(var r in this._mapUnset){var s=parseInt(r);t.push(s)}}for(var a=0,_=t;a<_.length;a++){var s=_[a],r=s.toString();if(1==this._mapUnset.hasOwnProperty(r)){var l=this._mapUnset[r];if(null==l)continue;for(var u=0,c=l;u<c.length;u++){var h=c[u];if(1==this._map.hasOwnProperty(h.toString())){var p=this._map[h.toString()];if(392==i&&11==s&&194!==p.mstID)continue;n.push(p)}}}}if(null!=e)for(var d=0,f=e;d<f.length;d++){var y=f[d],s=o.default.model.slot.getMst(y).equipTypeSp;if(-1==t.indexOf(s)){var l=this._mapUnset[s.toString()];if(null!=l)for(var m=0,g=l;m<g.length;m++){var h=g[m];if(1==this._map.hasOwnProperty(h.toString())){var p=this._map[h.toString()];p.mstID==y&&n.push(p)}}}}return n},t.prototype.getExtraEquipShipData=function(t){var e=t.toString(),i=this._extraEquipShips[e];return null!=i?i:[]},t.prototype.getCount=function(t){var e=0;for(var i in this._map){this._map[i].mstID==t&&e++}return e},t.prototype.getAirUnitRelocation=function(){return null==this._airunit_relocation?[]:this._airunit_relocation.concat()},t.prototype.createUnsetList_unType=function(t,e){if(!t)return[];var i=new Array;for(var n in this._mapUnset){var o=parseInt(n);if(-1==t.indexOf(o)){var r=this._mapUnset[n];if(null==r)continue;for(var s=0,a=r;s<a.length;s++){var _=a[s];if(1==this._map.hasOwnProperty(_.toString())){var l=this._map[_.toString()];i.push(l)}}}}if(392==e){var u=t.indexOf(11),c=u>-1?this._mapUnset[t[u]]:null;if(null!=c)for(var h=0,p=c;h<p.length;h++){var d=p[h];if(1==this._map.hasOwnProperty(d.toString())){var l=this._map[d.toString()];if(194==l.mstID)continue;i.push(l)}}}return i},t.prototype.createSetList_unType=function(t,e){if(void 0===e&&(e=-1),null==t)return[[],{}];for(var i={},n=new Array,r=o.default.model.ship.getAll(),s=-1!=e,a=0,_=r;a<_.length;a++){var l=_[a];if(s){if(l.memID==e)continue}for(var u=l.getSlotitems(),c=0,h=u;c<h.length;c++){var p=h[c];null!=p&&(-1==t.indexOf(p.equipTypeSp)&&(n.push(p),i[p.memID]=l.memID))}var d=l.getSlotitemEx();null!=d&&-1==t.indexOf(d.equipTypeSp)&&(n.push(d),i[d.memID]=l.memID)}return[n,i]},t}();e.SlotitemModelHolder=_;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.setMemData=function(t){this._map={},this.addMemData(t)},e.prototype.addMemData=function(t){if(null!=t)for(var e=0,i=t;e<i.length;e++){var n=i[e],o=new s.SlotitemModel(n),r=o.memID;if(r>0){var a=r.toString();this._map[a]=o}}},e.prototype.setMstData=function(t){if(this._mapMst={},null!=t)for(var e=0,i=t;e<i.length;e++){var n=i[e],o=new a.SlotitemMstModel(n),r=o.mstID;if(r>0){var s=r.toString();this._mapMst[s]=o}}},e.prototype.setMstEquipTypeData=function(t){this._mapMstEquipType={};for(var e=0,i=t;e<i.length;e++){var n=i[e],o=new r.EquipTypeMstModel(n);o.id>0&&(this._mapMstEquipType[o.id.toString()]=o)}},e.prototype.setUnsetData=function(t){this._mapUnset={};for(var e in t){var i=e.match(/api_slottype(\d+)/);if(null!=i&&"number"!=typeof t[e]){var n=t[e];this._mapUnset[i[1]]=n}}},e.prototype.updateUnsetData=function(t,e){this._mapUnset[t]=e},e.prototype.deleteUnsetData=function(t){for(var e in this._mapUnset){var i=this._mapUnset[e],n=i.indexOf(t);if(n>=0){i.splice(n,1);break}}},e.prototype.setExtraEquipShipData=function(t){var e={};for(var i in t){var n=t[i],o=n.api_slotitem_id,r=n.api_ship_ids;for(var s in r){var a=r[s].toString();null==e[a]&&(e[a]=new Array),e[a].push(o)}}this._extraEquipShips=e},e.prototype.setAirUnitRelocation=function(t){null==t&&(t=[]),this._airunit_relocation=t},e.prototype.addAirUnitRelocation=function(t){null==this._airunit_relocation&&(this._airunit_relocation=[]),this._airunit_relocation.push(t)},e}(_);e.SlotitemModelHolderEdit=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"id",{get:function(){return n.ObjUtil.getNumber(this._o,"api_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return n.ObjUtil.getString(this._o,"api_name")},enumerable:!0,configurable:!0}),t.prototype.needsDisplayName=function(){return 1==n.ObjUtil.getNumber(this._o,"api_show_flg")},t}();e.EquipTypeMstModel=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(43),o=i(7),r=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"mstID",{get:function(){return o.ObjUtil.getNumber(this._o,"api_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return o.ObjUtil.getString(this._o,"api_name")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cardType",{get:function(){var t=o.ObjUtil.getNumArray(this._o,"api_type");return null==t||t.length<4?-1:t[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"equipType",{get:function(){var t=o.ObjUtil.getNumArray(this._o,"api_type");return null==t||t.length<4?-1:t[2]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"equipTypeSp",{get:function(){return 128==this.mstID?38:142==this.mstID?93:151==this.mstID?94:281==this.mstID?38:this.equipType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconType",{get:function(){var t=o.ObjUtil.getNumArray(this._o,"api_type");return null==t||t.length<4?-1:t[3]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"planeIconType",{get:function(){var t=o.ObjUtil.getNumArray(this._o,"api_type");return null==t||t.length<5?-1:t[4]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return o.ObjUtil.getNumber(this._o,"api_leng")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"karyoku",{get:function(){return o.ObjUtil.getNumber(this._o,"api_houg")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"raisou",{get:function(){return o.ObjUtil.getNumber(this._o,"api_raig")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"taiku",{get:function(){return o.ObjUtil.getNumber(this._o,"api_tyku")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"taisen",{get:function(){return o.ObjUtil.getNumber(this._o,"api_tais")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bakusou",{get:function(){return o.ObjUtil.getNumber(this._o,"api_baku")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"meichu",{get:function(){return o.ObjUtil.getNumber(this._o,"api_houm")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kaihi",{get:function(){return o.ObjUtil.getNumber(this._o,"api_houk")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sakuteki",{get:function(){return o.ObjUtil.getNumber(this._o,"api_saku")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"soukou",{get:function(){return o.ObjUtil.getNumber(this._o,"api_souk")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rarity",{get:function(){return o.ObjUtil.getNumber(this._o,"api_rare",0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return o.ObjUtil.getString(this._o,"api_version","1")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return o.ObjUtil.getNumber(this._o,"api_distance")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cost",{get:function(){return o.ObjUtil.getNumber(this._o,"api_cost")},enumerable:!0,configurable:!0}),t.prototype.isPlane=function(){return-1!=n.PlaneConst.PLANE.indexOf(this.cardType)},t.prototype.getMaterialsFromBroken=function(){var t=o.ObjUtil.getNumArray(this._o,"api_broken");return{fuel:t[0],ammo:t[1],steel:t[2],baux:t[3]}},t}();e.SlotitemMstModel=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(7),s=i(535),a=function(){function t(){this._USEITEM_FROM_SLOTITEM={50:42,51:43,66:145,67:146,69:150,76:241},this._MATERIALS_=[31,32,33,34,2,1,3,4]}return t.prototype.getCount=function(t){var e=this.get(t);return null==e?0:e.count},t.prototype.get=function(t){var e=t.toString();return 1==this._map.hasOwnProperty(e)?this._map[e]:null},t.prototype.getMaterialCounts=function(){return{fuel:this.getCount(31),ammo:this.getCount(32),steel:this.getCount(33),baux:this.getCount(34),repairKit:this.getCount(1),buildKit:this.getCount(2),devKit:this.getCount(3),revKit:this.getCount(4)}},t.prototype._isMaterial=function(t){return this._MATERIALS_.indexOf(t)>=0},t}();e.UseItemModelHolder=a;var _=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.setMstData=function(t){if(this._map={},null!=t)for(var e=0;e<t.length;e++){var i=t[e],n=new s.UseItemModel(i),o=n.mstID;if(o>0&&""!=n.name){var r=o.toString();this._map[r]=n}}},e.prototype.setMemData=function(t){if(null!=t){for(var e in this._map){var i=this._map[e],n=i.mstID;0==this._isMaterial(n)&&44!=n&&i.__setCount__(0)}for(var o=0;o<t.length;o++){var s=t[o],a=r.ObjUtil.getNumber(s,"api_id");if(a>0){var _=this.get(a);if(null!=_){var l=r.ObjUtil.getNumber(s,"api_count");_.__setCount__(l)}}}}},e.prototype.setMaterialData=function(t){for(var e=[-1].concat(this._MATERIALS_),i=0;i<t.length;i++){var n=t[i];if(null!=n){var o=r.ObjUtil.getNumber(n,"api_id"),s=r.ObjUtil.getNumber(n,"api_value"),a=this.get(e[o]);null!=a&&a.__setCount__(s)}}},e.prototype.updateMaterials=function(t){for(var e in t){var i=this.get(e);if(null!=i){var n=t[e];i.__setCount__(n)}}},e.prototype.updateCount=function(){var t=this._USEITEM_FROM_SLOTITEM;for(var e in t){var i=t[e],n=o.default.model.slot.getCount(i);this.get(e).__setCount__(n)}},e}(a);e.UseItemModelHolderEdit=_},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(7),r=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"mstID",{get:function(){return o.ObjUtil.getNumber(this._o,"api_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return o.ObjUtil.getString(this._o,"api_name")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){var t=o.ObjUtil.getStrArray(this._o,"api_description");return null!=t&&t.length>0?t[0]:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return 44==this.mstID?n.default.model.basic.getCoinCount():o.ObjUtil.getNumber(this._o,"api_count")},enumerable:!0,configurable:!0}),t.prototype.isUsable=function(){return 4==this._use_type},t.prototype.__setCount__=function(t){44==this.mstID?n.default.model.basic.setCoinCount(t):this._o.api_count=t},Object.defineProperty(t.prototype,"_use_type",{get:function(){return o.ObjUtil.getNumber(this._o,"api_usetype")},enumerable:!0,configurable:!0}),t}();e.UseItemModel=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(18),o=i(78),r=i(13),s=i(24),a=i(14),_=i(67),l=i(537),u=i(10),c=i(268),h=function(){function t(){this._gauge=new l.GaugeRManager}return Object.defineProperty(t.prototype,"gauge",{get:function(){return this._gauge},enumerable:!0,configurable:!0}),t.prototype.getUIImage=function(t,e){var i;if(void 0===e)i=t;else{var n=t,o=e;i=a.UIImageLoader.getPath(n,o)}return PIXI.utils.TextureCache[i]?PIXI.utils.TextureCache[i]:PIXI.Texture.EMPTY},t.prototype.isLoadedShip=function(t,e,i){var n=r.ShipLoader.getPath(t,e,i);return PIXI.utils.TextureCache[n]},t.prototype.getShip=function(t,e,i){var n,o=r.ShipLoader.getPath(t,e,i);return n=PIXI.utils.TextureCache[o]?PIXI.utils.TextureCache[o]:PIXI.Texture.EMPTY,"banner"==i&&n==PIXI.Texture.EMPTY&&(n=u.COMMON_MISC.getTexture(2)),n},t.prototype.getSlotitem=function(t,e){"item_up"==e&&(1==n.ITEMUP_REPLACE.hasOwnProperty(t.toString())?t=n.ITEMUP_REPLACE[t]:t>500&&(t-=500));var i=s.SlotLoader.getPath(t,e);return PIXI.utils.TextureCache[i]?PIXI.utils.TextureCache[i]:PIXI.Texture.EMPTY},t.prototype.getUseitem=function(t,e){if(0==e)return c.COMMON_ITEMICONS.getTextureFromMstID(t);var i=_.UseitemLoader.getPath(t,e);return PIXI.utils.TextureCache[i]?PIXI.utils.TextureCache[i]:PIXI.Texture.EMPTY},t.prototype.getFurniture=function(t,e){var i=o.FurnitureLoader.getPath(t,e);return PIXI.utils.TextureCache[i]?PIXI.utils.TextureCache[i]:PIXI.Texture.EMPTY},t}();e.ResourceManager=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(267),o=i(267),r=function(){function t(){var t=this;this._onLoadCompleteInfo=function(e,i){t._info_dic[e]=i},this._onLoadCompleteResources=function(e){for(var i in e)0==t._dic.hasOwnProperty(i)&&(t._dic[i]=e[i])},this._info_dic={},this._dic={}}return t.prototype.createLoaderHorizontal=function(){return new n.HorizontalGaugeLoader(this._onLoadCompleteInfo,this._onLoadCompleteResources)},t.prototype.createLoaderVertical=function(){return new o.VerticalGaugeLoader(this._onLoadCompleteInfo,this._onLoadCompleteResources)},t.prototype.getGaugeInfo=function(t){return 1==this._info_dic.hasOwnProperty(t)?this._info_dic[t]:null},t.prototype.getTexture=function(t){if(1==this._dic.hasOwnProperty(t)){var e=this._dic[t];if(null!=e&&null!=e.texture&&void 0!=e.texture)return e.texture}return PIXI.Texture.EMPTY},t}();e.GaugeRManager=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(t,e,i){void 0===e&&(e=219),void 0===i&&(i=14),this._barW_default=219,this._barH_default=14,this._o=t,this._barW_default=e,this._barH_default=i}return Object.defineProperty(t.prototype,"x",{get:function(){return n.ObjUtil.getNumber(this._o,"x")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return n.ObjUtil.getNumber(this._o,"y")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"image_path",{get:function(){return n.ObjUtil.getString(this._o,"img")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"image_light_path",{get:function(){var t=n.ObjUtil.getString(this._o,"img_l");return null==t||""==t?this.image_path+"_light":t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lightX",{get:function(){var t=n.ObjUtil.getString(this._o,"light");return null==t?0:n.ObjUtil.getNumber(t,"x")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lightY",{get:function(){var t=n.ObjUtil.getString(this._o,"light");return null==t?0:n.ObjUtil.getNumber(t,"y")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"barX",{get:function(){var t=n.ObjUtil.getString(this._o,"bar");return null==t?0:n.ObjUtil.getNumber(t,"x")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"barY",{get:function(){var t=n.ObjUtil.getString(this._o,"bar");return null==t?0:n.ObjUtil.getNumber(t,"y")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"barW",{get:function(){var t=n.ObjUtil.getString(this._o,"bar");return null==t?this._barW_default:n.ObjUtil.getNumber(t,"w",this._barW_default)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"barH",{get:function(){var t=n.ObjUtil.getString(this._o,"bar");return null==t?this._barH_default:n.ObjUtil.getNumber(t,"h",this._barH_default)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"barColor",{get:function(){var t=n.ObjUtil.getString(this._o,"bar");return null==t?16711680:n.ObjUtil.getNumber(t,"color",16711680)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transportX",{get:function(){var t=n.ObjUtil.getString(this._o,"transport");return null==t?0:n.ObjUtil.getNumber(t,"x")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transportY",{get:function(){var t=n.ObjUtil.getString(this._o,"transport");return null==t?0:n.ObjUtil.getNumber(t,"y")},enumerable:!0,configurable:!0}),t.prototype.isTransport=function(){return this._o.hasOwnProperty("transport")},t}();e.GaugeModel=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(269),r=function(){function t(){this._now=0}return Object.defineProperty(t.prototype,"now",{get:function(){return null==this._task?this._now:this._task.after},enumerable:!0,configurable:!0}),t.prototype.isChangingNow=function(){return null!=this._task},t.prototype.change=function(t,e){var i=this;return void 0===e&&(e=null),1!=this.isChangingNow()&&(this._now!=t&&(this._task=new o.TaskSceneChange(this._now,t,e),this._task.start(function(){i._changeComplete()}),!0))},t.prototype._changeComplete=function(){this._now=this._task.after,this._task=null,n.default.view.getNowScene().emit("showed")},t}();e.SceneManager=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(541),o=function(){function t(){this._manager=new n.VoiceManager,this._additional_managers={}}return t.prototype.getNumOfMultiPlay=function(){return this._manager.num_of_simultaneous_playback},t.prototype.setNumOfMultiPlay=function(t){this._manager.num_of_simultaneous_playback=t},t.prototype.preload=function(t,e){this._manager.preload(t,e)},t.prototype.play=function(t,e,i,o){void 0===i&&(i=null),void 0===o&&(o=null);var r=this._getManager(o);return null==r&&(r=new n.VoiceManager,this._additional_managers[o]=r),r.play(t,e,i)},t.prototype.playAtRandom=function(t,e,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null);var s=this._getManager(r);return null==s&&(s=new n.VoiceManager,this._additional_managers[r]=s),s.playAtRandom(t,e,i,o)},t.prototype.stop=function(t){if(1==this._manager.stop(t))return!0;for(var e in this._additional_managers){if(1==this._additional_managers[e].stop(t))return!0}return!1},t.prototype.stopAll=function(t){void 0===t&&(t=null);var e=this._getManager(t);null!=e&&e.stopAll()},t.prototype._getManager=function(t){return null==t?this._manager:1==this._additional_managers.hasOwnProperty(t)?this._additional_managers[t]:null},t}();e.VoiceManagerHolder=o},function(t,e,i){"use strict";function n(t,e){var i=parseInt(t,10);if(1==isNaN(i)){if("tutorial"!=t){var n=parseInt(e,10);e=l.MathUtil.zeroPadding(n,3)}return a.default.settings.path_root+"resources/voice/"+t+"/"+e+".mp3"}var o=a.default.settings.voice_root;null==o&&(o=a.default.settings.path_root+"resources/voice");var r=t,s=e;if(9997!=i&&9998!=i&&9999!=i){var u=a.default.model.ship_graph.get(t);if(null==u)return;r=u.unique_key;var c=_,n=parseInt(e);s=n<=53?(17*(i+7)*c.voice[n-1]%99173+1e5).toString():e}return o+"/kc"+r+"/"+s+".mp3"}function o(t,e){var i=parseInt(t,10);if(1==isNaN(i))return"1";var n=parseInt(e,10);return u.VersionUtil.get(3,i,n)}function r(t,e){var i=n(t,e);if(null==i)return null;var r=o(t,e);return null==r||""==r||"1"==r?i:i+"?version="+r}var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=i(0),_=i(266),l=i(25),u=i(79),c=i(542),h=function(){function t(){var t=this;this._num_of_simultaneous_playback=1,this._onVoiceEnd=function(e){var i=t._voices.indexOf(e);if(-1!=i){var n=t._voices.splice(i,1),o=n[0],r=o.cb_onEnd;o.dispose(),null!=r&&r()}},this._voices=[]}return Object.defineProperty(t.prototype,"num_of_simultaneous_playback",{get:function(){return this._num_of_simultaneous_playback},set:function(t){this._num_of_simultaneous_playback=t},enumerable:!0,configurable:!0}),t.prototype.preload=function(t,e){if(0!=a.default.option.vol_voice){var i=r(t,e.toString());if(null!=i){var n={src:[i]};n.autoplay=!1,n.volume=0;var o=new Howl(n);o.once("load",function(){o.unload()})}}},t.prototype.play=function(t,e,i){if(void 0===i&&(i=null),null==r(t,e.toString()))return null;if(this._voices.length>=this._num_of_simultaneous_playback){var n=this._voices.shift();n.dispose(),n=null}var o=new p(this._onVoiceEnd,i);return this._voices.push(o),o.play(t,e),o},t.prototype.playAtRandom=function(t,e,i,n){void 0===n&&(n=null);for(var o=0,r=0;r<i.length;r++)o+=i[r];for(var s=0,a=Math.random()*o,r=0;r<i.length;r++)if(s+=i[r],a<=s)return this.play(t,e[r],n)},t.prototype.stop=function(t){var e=t,i=this._voices.indexOf(e);return-1!=i&&(this._voices.splice(i,1),e.dispose(),!0)},t.prototype.stopAll=function(){for(var t=0,e=this._voices;t<e.length;t++){e[t].dispose()}this._voices=[]},t}();e.VoiceManager=h;var p=function(t){function e(e,i){void 0===i&&(i=null);var n=t.call(this)||this;return n._onLoad=function(){null!=n._howl&&n._howl.play()},n._onLoadError=function(t,e){n._cb_onEndToManager&&n._cb_onEndToManager(n)},n._onEnd=function(t){n._cb_onEndToManager&&n._cb_onEndToManager(n)},n._cb_onEndToManager=e,n._cb_onEnd=i,n}return s(e,t),Object.defineProperty(e.prototype,"cb_onEnd",{get:function(){return this._cb_onEnd},enumerable:!0,configurable:!0}),e.prototype.play=function(t,e){if(this._mst_id=t,this._voice_id=e.toString(),0==a.default.option.vol_voice)return void this._cb_onEndToManager(this);this._url=r(this._mst_id,this._voice_id);var i={src:[this._url]};i.autoplay=!1,i.volume=a.default.option.vol_voice/100,i.onload=this._onLoad,i.onloaderror=this._onLoadError,i.onend=this._onEnd,this._howl=new Howl(i)},e.prototype.dispose=function(){null!=this._howl&&(this._howl.stop(),this._howl.unload()),this._howl=null,this._cb_onEndToManager=null,this._cb_onEnd=null},e}(c.VoiceModel)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return Object.defineProperty(t.prototype,"mst_id",{get:function(){return this._mst_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"voice_id",{get:function(){return this._voice_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),t}();e.VoiceModel=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(262),o=function(){function t(){this._KEY_VOL_BGM="vol_bgm",this._KEY_VOL_SE="vol_se",this._KEY_VOL_VOICE="vol_voice",this._KEY_V_BELEFT="v_be_left",this._KEY_V_DUTY="v_duty"}return Object.defineProperty(t.prototype,"vol_bgm",{get:function(){return this._vol_bgm},set:function(t){this._vol_bgm=Math.min(100,Math.max(0,Math.round(t)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"vol_se",{get:function(){return this._vol_se},set:function(t){this._vol_se=Math.min(100,Math.max(0,Math.round(t)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"vol_voice",{get:function(){return this._vol_voice},set:function(t){this._vol_voice=Math.min(100,Math.max(0,Math.round(t)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"voice_be_left",{get:function(){return this._voice_be_left},set:function(t){this._voice_be_left=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"voice_duty",{get:function(){return this._voice_duty},set:function(t){this._voice_duty=t},enumerable:!0,configurable:!0}),t.prototype.initialize=function(){this.vol_bgm=this.__vol_bgm__,this.vol_se=this.__vol_se__,this.vol_voice=this.__vol_voice__,this.voice_be_left=this.__v_beleft__,this.voice_duty=this.__v_duty__},t.prototype.save=function(){var t=this.__vol_bgm__;t!=this.vol_bgm&&n.CookieUtil.setItem(this._KEY_VOL_BGM,this.vol_bgm.toString(),1/0),t=this.__vol_se__,t!=this.vol_se&&n.CookieUtil.setItem(this._KEY_VOL_SE,this.vol_se.toString(),1/0),(t=this.__vol_voice__)!=this.vol_voice&&n.CookieUtil.setItem(this._KEY_VOL_VOICE,this.vol_voice.toString(),1/0);var e=this.__v_beleft__;e!=this.voice_be_left&&n.CookieUtil.setItem(this._KEY_V_BELEFT,this.voice_be_left?"1":"0",1/0),(e=this.__v_duty__)!=this.voice_duty&&n.CookieUtil.setItem(this._KEY_V_DUTY,this.voice_duty?"1":"0",1/0)},Object.defineProperty(t.prototype,"_log_string",{get:function(){return"bgm:"+this.vol_bgm+" se:"+this.vol_se+" voice:"+this.vol_voice+" \u653e\u7f6e:"+this._voice_be_left+" \u4efb\u52d9:"+this._voice_duty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__vol_bgm__",{get:function(){return this._getNumValue(this._KEY_VOL_BGM,30)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__vol_se__",{get:function(){return this._getNumValue(this._KEY_VOL_SE,40)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__vol_voice__",{get:function(){return this._getNumValue(this._KEY_VOL_VOICE,60)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__v_beleft__",{get:function(){return this._getBoolValue(this._KEY_V_BELEFT,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__v_duty__",{get:function(){return this._getBoolValue(this._KEY_V_DUTY,!0)},enumerable:!0,configurable:!0}),t.prototype._getNumValue=function(t,e){if(1==n.CookieUtil.hasItem(t)){var i=parseInt(n.CookieUtil.getItem(t));if(0==isNaN(i))return i}return e},t.prototype._getBoolValue=function(t,e){return 1==n.CookieUtil.hasItem(t)?"1"==n.CookieUtil.getItem(t):e},t}();e.OptionModel=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(){}return Object.defineProperty(t.prototype,"renderer",{get:function(){return this._args.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path_root",{get:function(){return n.ObjUtil.getString(this._args,"path_root","")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"voice_root",{get:function(){return n.ObjUtil.getString(this._args,"voice_root",null)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"api_root",{get:function(){return n.ObjUtil.getString(this._args,"api_root","/kcsapi")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"api_token",{get:function(){return n.ObjUtil.getString(this._args,"api_token")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"osapi_root",{get:function(){return n.ObjUtil.getString(this._args,"osapi_root")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return n.ObjUtil.getString(this._args,"version")},enumerable:!0,configurable:!0}),t.prototype.initialize=function(t){this._args=t},t}();e.SettingsModel=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(8),s=i(17),a=i(271),_=i(546),l=i(547),u=i(15),c=function(t){function e(){return t.call(this)||this}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"portMain",{get:function(){return this._portMain},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mapLayer",{get:function(){return this._mapLayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overLayer",{get:function(){return this._overLayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fadeLayer",{get:function(){return this._fadeLayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loading",{get:function(){return this._loading},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clickGuard",{get:function(){return this._clickGuard.visible},set:function(t){this._clickGuard.visible=t},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){this._bg=new _.Background,this._portMain=t,this._mapLayer=new l.ContainerScene,this._mapLayer.visible=!1,this._overLayer=new PIXI.Container,this._fadeLayer=new s.FadeBox(1),this._fadeLayer.visible=!1,this._clickGuard=new r.AreaBox(0),this._clickGuard.visible=!1,this._loading=new a.LoadingBox,this._loading.hide(),this.addChild(this._bg),this.addChild(this._portMain),this.addChild(this._mapLayer),this.addChild(this._overLayer),this.addChild(this._fadeLayer),this.addChild(this._clickGuard),this.addChild(this._loading)},e.prototype.getNowScene=function(){var t=this._mapLayer.getContent();return null!=t?t:(t=this._portMain.getContent(),null!=t?t:this._portMain)},e.prototype.showError=function(t){void 0===t&&(t=null),this._bg.visible=!1,this._portMain.visible=!1,this._mapLayer.visible=!1,this._overLayer.removeChildren(),this._overLayer.visible=!0,createjs.Tween.removeAllTweens(),u.EditTextBoxUtil.setVisibility(!1);var e=o.default.resources.getUIImage("error");if(e==PIXI.Texture.EMPTY){var i=new r.AreaBox(1);this.addChild(i);var n=PIXI.Sprite.fromImage(o.default.settings.path_root+"img/common/error.png");this.addChild(n)}else{var n=new PIXI.Sprite(e);this.addChild(n)}},e}(PIXI.Container);e.RootView=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(25),s=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.setImage=function(t,e){switch(t){case 11:case 12:case 13:case 14:case 15:case 16:case 23:case 31:var i=r.MathUtil.zeroPadding(t,3),n=o.default.settings.path_root+"img/common/bg/"+i+".png";null!=PIXI.utils.TextureCache[n]?(this.texture=PIXI.utils.TextureCache[n],this.visible=!0,null!=e&&e()):this._load(n,e);break;default:this.visible=!1,null!=e&&e()}},e.prototype._load=function(t,e){var i=this;this._loader=new PIXI.loaders.Loader,this._loader.add(t),this._loader.load(function(n){if(i._loader==n){i._loader=null;var o=n.resources[t];i.texture=o.texture,i.visible=!0,null!=e&&e()}})},e}(PIXI.Sprite);e.Background=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.getContent=function(){return this._content},e.prototype.setContent=function(t){null!=this._content&&this.removeChild(this._content),this._content=t,null!=t&&this.addChild(t),this.visible=null!=this._content},e}(PIXI.Container);e.ContainerScene=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this._flg=1,this._type=0,this._onUI=!1}return Object.defineProperty(t.prototype,"flg",{get:function(){return this._flg},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"UI",{get:function(){return this._onUI},set:function(t){this._onUI=t},enumerable:!0,configurable:!0}),t.prototype.setData=function(t,e){this._flg=t,this._type=e},t}();e.FriendlyRequestModel=n},function(t,e,i){"use strict";function n(t){return 11==t?new w.OrganizeScene:12==t?new x.SupplyScene:13==t?new I.RemodelScene:14==t?new T.RepairScene:15==t?new O.ArsenalScene:16==t?new C.SallyScene:21==t?new P.RecordScene:23==t?new k.AlbumScene:24==t?new S.ItemScene:25==t?new M.InteriorScene:26==t?new A.DutyScene:31==t?new E.RevampScene:33==t?new N.MapScene(L.BattleScene,B.BattleResultScene):32==t?new j.PracticeScene(new L.BattleScene,new B.BattleResultScene):void 0}var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(7),a=i(34),_=i(550),l=i(555),u=i(556),c=i(2),h=i(557),p=i(269),d=i(560),f=i(562),y=i(563),m=i(14),g=i(565),v=i(653),b=function(t){function e(e){var i=t.call(this)||this;return i._end_titlecall=!1,i._TutorialScene=null,i._isTutorialEnd=!1,i._tutorialEnd=function(){i._TutorialScene.emitter.off("tutorial-event-end",i._tutorialEnd),r.default.view.removeChild(i._TutorialScene),i._isTutorialEnd=!0,i._preInitPort()},i._end_connect_api=!1,p.TaskSceneChange.__factory__=n,r.default.settings.initialize(e),r.default.view.initialize(new g.PortScene),i}return o(e,t),e.prototype._start=function(){this._loadVersionFile()},e.prototype._loadVersionFile=function(){var t=this,e=r.default.settings.version,i="./version.json"+(e?"?"+e:"");axios.get(i).then(function(e){var i=s.ObjUtil.getObject(e,"data");m.UIImageLoader.setVersionData(i),t._loadTitleResource()}).catch(function(){r.default.view.showError("Load Error.version.json.")})},e.prototype._loadTitleResource=function(){var t=this;(new f.TaskLoadResourcesTitle).start(function(){t._showTitle()})},e.prototype._showTitle=function(){this._pukapuka=new y.PukapukaLayer,this._pukapuka.initialize(),this._pukapuka.visible=!1,r.default.view.addChild(this._pukapuka);var t=new h.TitleViewMain;t.initialize(),r.default.view.addChild(t),this._loadCommonResources(t)},e.prototype._loadCommonResources=function(t){var e=this;new d.TaskLoadResourcesCommon(function(e){t.setProgress(e)}).start(function(){e._showStartPage(t)})},e.prototype._showStartPage=function(t){var e=this;t.showSecondPageTween(function(){t.waitClickTween(function(){e._playTitleCall(),e._hideTitle(t)})})},e.prototype._playTitleCall=function(){var t=this,e=Math.floor(86*Math.random())+1;r.default.sound.voice.play("titlecall_1",e,function(){var e=Math.floor(49*Math.random())+1;r.default.sound.voice.play("titlecall_2",e,function(){t._end_titlecall=!0,t._preInitPort()})}),R.HTML5_AUDIO&&r.default.sound.bgm.play(0,!1)},e.prototype._hideTitle=function(t){var e=this;this._pukapuka.visible=!0,this._pukapuka.activate(),r.default.view.portMain.visible=!1,createjs.Tween.get(t).to({alpha:0},500).call(function(){r.default.view.removeChild(t),t.dispose(),e._connectAPI()})},e.prototype._connectAPI=function(){var t=this;(new a.APIConnector).add(new u.GetIncentiveAPI).add(new _.GetDataAPI).add(new l.RequireInfoAPI).start(function(){t._end_connect_api=!0,r.default.model.basic.firstFlag?(t._TutorialScene=new v.TutorialScene,t._TutorialScene.visible=!1,t._TutorialScene.alpha=0,t._TutorialScene.emitter.on("tutorial-event-end",t._tutorialEnd),t._isTutorialEnd=!1,t._preInitPort()):(t._isTutorialEnd=!0,t._preInitPort())})},e.prototype._preInitPort=function(){var t=this;if(0!=this._end_titlecall&&0!=this._end_connect_api){if(!1===this._isTutorialEnd)return r.default.view.addChild(this._TutorialScene),this._TutorialScene.visible=!0,createjs.Tween.get(this._TutorialScene).to({alpha:1},600),!1;r.default.view.getNowScene().getPreInitializeTask(0).start(function(){t._hidePukapuka()})}},e.prototype._hidePukapuka=function(){var t=this;r.default.view.portMain.fadeLayer.alpha=1,r.default.view.portMain.fadeLayer.visible=!0,r.default.view.portMain.visible=!0,createjs.Tween.get(this._pukapuka).to({alpha:0},600).call(function(){r.default.view.removeChild(t._pukapuka),t._pukapuka.dispose(),t._pukapuka=null,m.UIImageLoader.clearMemoryCache("title");var e=r.default.view.portMain.ringMenu;e.initialize(),e.prePosition(),createjs.Tween.get(r.default.view.portMain.fadeLayer).to({alpha:0},500).call(function(){r.default.view.portMain.fadeLayer.visible=!1,e.startAnimation(),r.default.view.portMain.sideMenu.initialize()}),t._initPort()})},e.prototype._initPort=function(){var t=this;r.default.view.getNowScene().getInitializeTask(0).start(function(){t._endTask()})},e}(c.TaskBase);e.AppInitializeTask=b;var w=i(665),x=i(743),I=i(764),T=i(847),O=i(872),C=i(923),P=i(1055),k=i(1071),S=i(1103),M=i(1176),A=i(1185),E=i(1204),j=i(1220),N=i(438),L=i(1327),B=i(1472),R=i(18)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=i(7),a=function(t){function e(){var e=t.call(this)||this;return e._url="api_start2/getData",e}return n(e,t),e.prototype._completedEnd=function(){o.default.model.const.setData(s.ObjUtil.getObjectArray(this._raw_data,"api_mst_const")),o.default.model.shipType.__setData__(s.ObjUtil.getObjectArray(this._raw_data,"api_mst_stype")),o.default.model.shipType.__setEquipTypeExData__(s.ObjUtil.getNumArray(this._raw_data,"api_mst_equip_exslot")),o.default.model.ship.setMstData(s.ObjUtil.getObjectArray(this._raw_data,"api_mst_ship")),o.default.model.ship_upgrade.setData(s.ObjUtil.getObjectArray(this._raw_data,"api_mst_shipupgrade")),o.default.model.slot.setMstData(s.ObjUtil.getObjectArray(this._raw_data,"api_mst_slotitem")),o.default.model.slot.setMstEquipTypeData(s.ObjUtil.getObjectArray(this._raw_data,"api_mst_slotitem_equiptype")),o.default.model.furniture_graph.setData(s.ObjUtil.getObjectArray(this._raw_data,"api_mst_furnituregraph")),o.default.model.useItem.setMstData(s.ObjUtil.getObjectArray(this._raw_data,"api_mst_useitem")),o.default.model.expedition.setMstData(s.ObjUtil.getObjectArray(this._raw_data,"api_mst_mission")),o.default.model.map.setAreaMst(s.ObjUtil.getObjectArray(this._raw_data,"api_mst_maparea")),o.default.model.map.setMapMst(s.ObjUtil.getObjectArray(this._raw_data,"api_mst_mapinfo")),o.default.model.mst_bgm.setMstBGMData(s.ObjUtil.getObjectArray(this._raw_data,"api_mst_bgm")),o.default.model.mst_bgm.setMapBGMData(s.ObjUtil.getObjectArray(this._raw_data,"api_mst_mapbgm")),o.default.model.slot.setExtraEquipShipData(s.ObjUtil.getObjectArray(this._raw_data,"api_mst_equip_exslot_ship"));var e=o.default.model.payitem;e.setData(s.ObjUtil.getObjectArray(this._raw_data,"api_mst_payitem")),e.setOrders(s.ObjUtil.getObject(this._raw_data,"api_mst_item_shop")),o.default.model.equip.__initData__(s.ObjUtil.getObjectArray(this._raw_data,"api_mst_equip_ship")),o.default.model.furniture.setMstData(s.ObjUtil.getObjectArray(this._raw_data,"api_mst_furniture")),o.default.model.ship_graph.setData(s.ObjUtil.getObjectArray(this._raw_data,"api_mst_shipgraph")),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.GetDataAPI=a},function(t,e,i){t.exports=i(552)},function(t,e,i){var n=i(553),o=i(554);t.exports={stringify:n,parse:o}},function(t,e,i){var n=i(272),o={delimiter:"&"};o.stringify=function(t,e){if(n.isBuffer(t)?t=t.toString():t instanceof Date?t=t.toISOString():null===t&&(t=""),"string"==typeof t||"number"==typeof t||"boolean"==typeof t)return[encodeURIComponent(e)+"="+encodeURIComponent(t)];var i=[];if(void 0===t)return i;for(var r=Object.keys(t),s=0,a=r.length;s<a;++s){var _=r[s];i=i.concat(o.stringify(t[_],e+"["+_+"]"))}return i},t.exports=function(t,e){e=e||{};for(var i=void 0===e.delimiter?o.delimiter:e.delimiter,n=[],r=Object.keys(t),s=0,a=r.length;s<a;++s){var _=r[s];n=n.concat(o.stringify(t[_],_))}return n.join(i)}},function(t,e,i){var n=i(272),o={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3};o.parseValues=function(t,e){for(var i={},o=t.split(e.delimiter,e.parameterLimit===1/0?void 0:e.parameterLimit),r=0,s=o.length;r<s;++r){var a=o[r],_=-1===a.indexOf("]=")?a.indexOf("="):a.indexOf("]=")+1;if(-1===_)i[n.decode(a)]="";else{var l=n.decode(a.slice(0,_)),u=n.decode(a.slice(_+1));i.hasOwnProperty(l)?i[l]=[].concat(i[l]).concat(u):i[l]=u}}return i},o.parseObject=function(t,e,i){if(!t.length)return e;var n=t.shift(),r={};if("[]"===n)r=[],r=r.concat(o.parseObject(t,e,i));else{var s="["===n[0]&&"]"===n[n.length-1]?n.slice(1,n.length-1):n,a=parseInt(s,10),_=""+a;!isNaN(a)&&n!==s&&_===s&&a<=i.arrayLimit?(r=[],r[a]=o.parseObject(t,e,i)):r[s]=o.parseObject(t,e,i)}return r},o.parseKeys=function(t,e,i){if(t){var n=/^([^\[\]]*)/,r=/(\[[^\[\]]*\])/g,s=n.exec(t);if(!Object.prototype.hasOwnProperty(s[1])){var a=[];s[1]&&a.push(s[1]);for(var _=0;null!==(s=r.exec(t))&&_<i.depth;)++_,Object.prototype.hasOwnProperty(s[1].replace(/\[|\]/g,""))||a.push(s[1]);return s&&a.push("["+t.slice(s.index)+"]"),o.parseObject(a,e,i)}}},t.exports=function(t,e){if(""===t||null===t||void 0===t)return{};e=e||{},e.delimiter="string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:o.delimiter,e.depth="number"==typeof e.depth?e.depth:o.depth,e.arrayLimit="number"==typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,e.parameterLimit="number"==typeof e.parameterLimit?e.parameterLimit:o.parameterLimit;for(var i="string"==typeof t?o.parseValues(t,e):t,r={},s=Object.keys(i),a=0,_=s.length;a<_;++a){var l=s[a],u=o.parseKeys(l,i[l],e);r=n.merge(r,u)}return n.compact(r)}},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=i(7),a=function(t){function e(){var e=t.call(this)||this;return e._url="api_get_member/require_info",e}return n(e,t),e.prototype._completedEnd=function(){var e=o.default.model.basic;e.setUserData(s.ObjUtil.getObject(this._raw_data,"api_basic")),e.setExtraSupplyFlag(s.ObjUtil.getNumArray(this._raw_data,"api_extra_supply"));var i=s.ObjUtil.getObject(this._raw_data,"api_oss_setting"),n=s.ObjUtil.getNumArray(i,"api_oss_items",[]),r=0==s.ObjUtil.getNumber(i,"api_language_type");e.updateOrganizeListSetting(n.map(function(t){return 1==t}),r),e.setUISkinID(s.ObjUtil.getNumber(this._raw_data,"api_skin_id"));var a=s.ObjUtil.getNumber(this._raw_data,"api_position_id");e.setFlagShipPosIDSvr(a),e.setFlagShipPosIDCli(a),o.default.model.slot.setMemData(s.ObjUtil.getObjectArray(this._raw_data,"api_slot_item")),o.default.model.slot.setUnsetData(s.ObjUtil.getObject(this._raw_data,"api_unsetslot")),o.default.model.useItem.setMemData(s.ObjUtil.getObjectArray(this._raw_data,"api_useitem")),o.default.model.furniture.setMemData(s.ObjUtil.getObjectArray(this._raw_data,"api_furniture")),o.default.model.kdock.__setData__(s.ObjUtil.getObjectArray(this._raw_data,"api_kdock")),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.RequireInfoAPI=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=function(t){function e(){var e=t.call(this)||this;return e._url="api_req_member/get_incentive",e}return n(e,t),e.prototype._completedEnd=function(){o.default.model.incentive.setData(this._raw_data),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.GetIncentiveAPI=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(558),r=i(559),s=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.initialize=function(){this._view1=new o.TitleView1,this._view1.initialize(),this.addChild(this._view1)},e.prototype.dispose=function(){this._view2.dispose()},e.prototype.setProgress=function(t){this._view1.setProgress(t)},e.prototype.showSecondPageTween=function(t){var e=this;this._view2=new r.TitleView2,this._view2.initialize(),this.addChildAt(this._view2,0),this._view1.hideTween(function(){e.removeChild(e._view1),e._view1.dispose(),e._view1=null,e._view2.showTween(function(){t()})})},e.prototype.waitClickTween=function(t){this._view2.waitClickTween(t)},e}(PIXI.Container);e.TitleViewMain=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(273),s=i(274),a=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.initialize=function(){var t=o.default.resources.getUIImage("title_bg1");this._bg=new PIXI.Sprite(t),this._parts_layer=new PIXI.Container,this._logo=new PIXI.Sprite(r.TITLE_MAIN.getTexture(3)),this._logo.scale.set(.6,.6),this._logo.anchor.set(.5,.5),this._logo.position.set(234,264),this._kira=new s.KiraLayer,this._kira.scale.set(.6,.6),this._kira.position.set(144,183),this._kira.initialize(),this._bar=new PIXI.Graphics,this._bar.beginFill(2466210),this._bar.drawRect(0,0,960,30),this._bar.endFill(),this._bar.position.set(120,663),this._bar.scale.x=0,this._bar_frame=new PIXI.Graphics,this._bar_frame.lineStyle(3,16777215),this._bar_frame.drawRect(0,0,960,30),this._bar_frame.endFill(),this._bar_frame.position.set(120,663),this.addChild(this._bg),this._parts_layer.addChild(this._logo),this._parts_layer.addChild(this._kira),this._parts_layer.addChild(this._bar),this._parts_layer.addChild(this._bar_frame),this.addChild(this._parts_layer)},e.prototype.dispose=function(){this._kira.dispose()},e.prototype.setProgress=function(t){this._bar.scale.x=t/100},e.prototype.hideTween=function(t){var e=createjs.Tween.get(this._bg).to({alpha:0},300),i=createjs.Tween.get(this._parts_layer).to({alpha:0},100);(e.duration>=i.duration?e:i).call(function(){t()})},e}(PIXI.Container);e.TitleView1=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),s=i(189),a=i(274),_=i(188),l=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.initialize=function(){var t=o.default.resources.getUIImage("title_bg2");this._bg=new PIXI.Sprite(t),this._container=new PIXI.Container,this._container.alpha=0,this._logo=new PIXI.Sprite(_.TITLE_MAIN.getTexture(3)),this._logo.anchor.set(.5,.5),this._logo.position.set(942,273),this._kira=new a.KiraLayer,this._kira.position.set(765,114),this._kira.initialize(),this._btn=new u,this._btn.initialize(),this._btn.position.set(914,755),this._btn.alpha=0,this.addChild(this._bg),this._container.addChild(this._logo),this._container.addChild(this._kira),this._container.addChild(this._btn),this.addChild(this._container)},e.prototype.dispose=function(){this._kira.dispose(),this._btn.dispose()},e.prototype.showTween=function(t){var e=this;createjs.Tween.get(this._container).to({alpha:1},300).call(function(){e._showTween2(t)})},e.prototype.waitClickTween=function(t){var e=this;this._btn.interactive=this._btn.buttonMode=!0,this._btn.once(r.EventType.CLICK,function(){e._btn.interactive=e._btn.buttonMode=!1,createjs.Tween.get(e._btn).to({alpha:0},200),t()})},e.prototype._showTween2=function(t){var e=this;createjs.Tween.get(this._btn).to({y:605,alpha:1},1e3).wait(800).call(function(){e._showTween3(t)})},e.prototype._showTween3=function(t){var e=this;createjs.Tween.get(this._btn.scale).to({x:1.1,y:1.1},100).call(function(){e._btn.disabled=!1}).to({x:1,y:1},100).call(function(){var i=new s.WorldTextImage;i.anchor.set(.5,.5),i.position.set(912,684),e.addChild(i),i.load("title"),t()})},e}(PIXI.Container);e.TitleView2=l;var u=function(t){function e(){var e=t.call(this)||this;return e._disabled=!0,e._onMouseOver=function(){e.setTexture(7)},e._onMouseOut=function(){e.setTexture(e._base_texture_no)},e._onMouseDown=function(){e.setTexture(5)},e._onMouseUp=function(){e.setTexture(e._base_texture_no)},e.anchor.set(.5,.5),e}return n(e,t),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=t,this.setTexture(this._base_texture_no)},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.texture=_.TITLE_MAIN.getTexture(this._base_texture_no),this.on(r.EventType.MOUSEOVER,this._onMouseOver),this.on(r.EventType.MOUSEOUT,this._onMouseOut),this.on(r.EventType.MOUSEDOWN,this._onMouseDown),this.on(r.EventType.CLICK,this._onMouseUp)},e.prototype.dispose=function(){this.off(r.EventType.MOUSEOVER,this._onMouseOver),this.off(r.EventType.MOUSEOUT,this._onMouseOut),this.off(r.EventType.MOUSEDOWN,this._onMouseDown),this.off(r.EventType.CLICK,this._onMouseUp)},Object.defineProperty(e.prototype,"_base_texture_no",{get:function(){return this._disabled?6:4},enumerable:!0,configurable:!0}),e.prototype.setTexture=function(t){this.texture=_.TITLE_MAIN.getTexture(t)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(561),r=i(0),s=i(2),a=i(14),_=i(18),l=function(t){function e(e){void 0===e&&(e=null);var i=t.call(this)||this;return i._onProgressPhase1=function(t,e){var n=.4*t.progress;null!=i._progress&&i._progress(n)},i._loadPhase2=function(){var t=new a.UIImageLoader("common");t.add("common_icon_weapon.json"),t.add("common_itemicons.json"),t.add("common_misc.json"),t.add("common_expedition.json"),t.add("common_shutter.json"),-1!=_.EVENT_AREA_ID&&t.add("common_event.json"),t.load(i._loadPhase3,i._onProgressPhase2)},i._onProgressPhase2=function(t,e){var n=40+.4*t.progress;null!=i._progress&&i._progress(n)},i._loadPhase3=function(){o.load({custom:{families:["font_j:n4,n7"],urls:[r.default.settings.path_root+"css/fonts.css"]},active:i._onComplete,inactive:function(){r.default.view.showError("[WebFontLoader] inactive")},fontinactive:function(t,e){r.default.view.showError("[WebFontLoader] fontinactive")},timeout:6e4})},i._onComplete=function(){null!=i._progress&&i._progress(100),i._endTask()},i._progress=e,i}return n(e,t),e.prototype._start=function(){this._loadPhase1()},e.prototype._loadPhase1=function(){var t=new a.UIImageLoader("common");t.add("hpgauge/hp_gauge_mask.png"),t.add("hpgauge/hp_s_bg2.png"),t.add("hpgauge/hp_s_red_light.png"),t.add("error.png","error"),t.add("focus_mask3.png","mask"),t.add("common_main.json"),t.add("common_sort.json"),t.add("common_animation.json"),t.add("common_shogo.json"),t.load(this._loadPhase2,this._onProgressPhase1)},e}(s.TaskBase);e.TaskLoadResourcesCommon=l},function(t,e,i){var n;!function(){function o(t,e,i){return t.call.apply(t.bind,arguments)}function r(t,e,i){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function s(t,e,i){return s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:r,s.apply(null,arguments)}function a(t,e){this.a=t,this.o=e||t,this.c=this.o.document}function _(t,e,i,n){if(e=t.c.createElement(e),i)for(var o in i)i.hasOwnProperty(o)&&("style"==o?e.style.cssText=i[o]:e.setAttribute(o,i[o]));return n&&e.appendChild(t.c.createTextNode(n)),e}function l(t,e,i){t=t.c.getElementsByTagName(e)[0],t||(t=document.documentElement),t.insertBefore(i,t.lastChild)}function u(t){t.parentNode&&t.parentNode.removeChild(t)}function c(t,e,i){e=e||[],i=i||[];for(var n=t.className.split(/\s+/),o=0;o<e.length;o+=1){for(var r=!1,s=0;s<n.length;s+=1)if(e[o]===n[s]){r=!0;break}r||n.push(e[o])}for(e=[],o=0;o<n.length;o+=1){for(r=!1,s=0;s<i.length;s+=1)if(n[o]===i[s]){r=!0;break}r||e.push(n[o])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function h(t,e){for(var i=t.className.split(/\s+/),n=0,o=i.length;n<o;n++)if(i[n]==e)return!0;return!1}function p(t){return t.o.location.hostname||t.a.location.hostname}function d(t,e,i){function n(){a&&o&&r&&(a(s),a=null)}e=_(t,"link",{rel:"stylesheet",href:e,media:"all"});var o=!1,r=!0,s=null,a=i||null;rt?(e.onload=function(){o=!0,n()},e.onerror=function(){o=!0,s=Error("Stylesheet failed to load"),n()}):setTimeout(function(){o=!0,n()},0),l(t,"head",e)}function f(t,e,i,n){var o=t.c.getElementsByTagName("head")[0];if(o){var r=_(t,"script",{src:e}),s=!1;return r.onload=r.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,i&&i(null),r.onload=r.onreadystatechange=null,"HEAD"==r.parentNode.tagName&&o.removeChild(r))},o.appendChild(r),setTimeout(function(){s||(s=!0,i&&i(Error("Script load timeout")))},n||5e3),r}return null}function y(){this.a=0,this.c=null}function m(t){return t.a++,function(){t.a--,v(t)}}function g(t,e){t.c=e,v(t)}function v(t){0==t.a&&t.c&&(t.c(),t.c=null)}function b(t){this.a=t||"-"}function w(t,e){this.c=t,this.f=4,this.a="n";var i=(e||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function x(t){return O(t)+" "+t.f+"00 300px "+I(t.c)}function I(t){var e=[];t=t.split(/,\s*/);for(var i=0;i<t.length;i++){var n=t[i].replace(/['"]/g,"");-1!=n.indexOf(" ")||/^\d/.test(n)?e.push("'"+n+"'"):e.push(n)}return e.join(",")}function T(t){return t.a+t.f}function O(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function C(t){var e=4,i="n",n=null;return t&&((n=t.match(/(normal|oblique|italic)/i))&&n[1]&&(i=n[1].substr(0,1).toLowerCase()),(n=t.match(/([1-9]00|normal|bold)/i))&&n[1]&&(/bold/i.test(n[1])?e=7:/[1-9]00/.test(n[1])&&(e=parseInt(n[1].substr(0,1),10)))),i+e}function P(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new b("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function k(t){t.g&&c(t.f,[t.a.c("wf","loading")]),M(t,"loading")}function S(t){if(t.g){var e=h(t.f,t.a.c("wf","active")),i=[],n=[t.a.c("wf","loading")];e||i.push(t.a.c("wf","inactive")),c(t.f,i,n)}M(t,"inactive")}function M(t,e,i){t.j&&t.h[e]&&(i?t.h[e](i.c,T(i)):t.h[e]())}function A(){this.c={}}function E(t,e,i){var n,o=[];for(n in e)if(e.hasOwnProperty(n)){var r=t.c[n];r&&o.push(r(e[n],i))}return o}function j(t,e){this.c=t,this.f=e,this.a=_(this.c,"span",{"aria-hidden":"true"},this.f)}function N(t){l(t.c,"body",t.a)}function L(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+I(t.c)+";font-style:"+O(t)+";font-weight:"+t.f+"00;"}function B(t,e,i,n,o,r){this.g=t,this.j=e,this.a=n,this.c=i,this.f=o||3e3,this.h=r||void 0}function R(t,e,i,n,o,r,s){this.v=t,this.B=e,this.c=i,this.a=n,this.s=s||"BESbswy",this.f={},this.w=o||3e3,this.u=r||null,this.m=this.j=this.h=this.g=null,this.g=new j(this.c,this.s),this.h=new j(this.c,this.s),this.j=new j(this.c,this.s),this.m=new j(this.c,this.s),t=new w(this.a.c+",serif",T(this.a)),t=L(t),this.g.a.style.cssText=t,t=new w(this.a.c+",sans-serif",T(this.a)),t=L(t),this.h.a.style.cssText=t,t=new w("serif",T(this.a)),t=L(t),this.j.a.style.cssText=t,t=new w("sans-serif",T(this.a)),t=L(t),this.m.a.style.cssText=t,N(this.g),N(this.h),N(this.j),N(this.m)}function D(){if(null===at){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);at=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return at}function U(t,e,i){for(var n in st)if(st.hasOwnProperty(n)&&e===t.f[st[n]]&&i===t.f[st[n]])return!0;return!1}function X(t){var e,i=t.g.a.offsetWidth,n=t.h.a.offsetWidth;(e=i===t.f.serif&&n===t.f["sans-serif"])||(e=D()&&U(t,i,n)),e?ot()-t.A>=t.w?D()&&U(t,i,n)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?V(t,t.v):V(t,t.B):F(t):V(t,t.v)}function F(t){setTimeout(s(function(){X(this)},t),50)}function V(t,e){setTimeout(s(function(){u(this.g.a),u(this.h.a),u(this.j.a),u(this.m.a),e(this.a)},t),0)}function z(t,e,i){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=i}function G(t){0==--t.f&&t.j&&(t.m?(t=t.a,t.g&&c(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),M(t,"active")):S(t.a))}function K(t){this.j=t,this.a=new A,this.h=0,this.f=this.g=!0}function Y(t,e,i,n,o){var r=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=o||null,a=n||null||{};if(0===i.length&&r)S(e.a);else{e.f+=i.length,r&&(e.j=r);var _,l=[];for(_=0;_<i.length;_++){var u=i[_],h=a[u.c],p=e.a,d=u;if(p.g&&c(p.f,[p.a.c("wf",d.c,T(d).toString(),"loading")]),M(p,"fontloading",d),p=null,null===_t)if(window.FontFace){var d=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),f=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);_t=d?42<parseInt(d[1],10):!f}else _t=!1;p=_t?new B(s(e.g,e),s(e.h,e),e.c,u,e.s,h):new R(s(e.g,e),s(e.h,e),e.c,u,e.s,t,h),l.push(p)}for(_=0;_<l.length;_++)l[_].start()}},0)}function H(t,e,i){var n=[],o=i.timeout;k(e);var n=E(t.a,i,t.c),r=new z(t.c,e,o);for(t.h=n.length,e=0,i=n.length;e<i;e++)n[e].load(function(e,i,n){Y(t,r,e,i,n)})}function W(t,e){this.c=t,this.a=e}function q(t,e){this.c=t,this.a=e}function J(t,e){this.c=t||lt,this.a=[],this.f=[],this.g=e||""}function Z(t,e){for(var i=e.length,n=0;n<i;n++){var o=e[n].split(":");3==o.length&&t.f.push(o.pop());var r="";2==o.length&&""!=o[1]&&(r=":"),t.a.push(o.join(r))}}function $(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,i=[],n=0;n<e;n++)i.push(t.a[n].replace(/ /g,"+"));return e=t.c+"?family="+i.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}function Q(t){this.f=t,this.a=[],this.c={}}function tt(t){for(var e=t.f.length,i=0;i<e;i++){var n=t.f[i].split(":"),o=n[0].replace(/\+/g," "),r=["n4"];if(2<=n.length){var s,a=n[1];if(s=[],a)for(var a=a.split(","),_=a.length,l=0;l<_;l++){var u;if(u=a[l],u.match(/^[\w-]+$/)){var c=pt.exec(u.toLowerCase());if(null==c)u="";else{if(u=c[2],u=null==u||""==u?"n":ht[u],null==(c=c[1])||""==c)c="4";else var h=ct[c],c=h||(isNaN(c)?"4":c.substr(0,1));u=[u,c].join("")}}else u="";u&&s.push(u)}0<s.length&&(r=s),3==n.length&&(n=n[2],s=[],n=n?n.split(","):s,0<n.length&&(n=ut[n[0]])&&(t.c[o]=n))}for(t.c[o]||(n=ut[o])&&(t.c[o]=n),n=0;n<r.length;n+=1)t.a.push(new w(o,r[n]))}}function et(t,e){this.c=t,this.a=e}function it(t,e){this.c=t,this.a=e}function nt(t,e){this.c=t,this.f=e,this.a=[]}var ot=Date.now||function(){return+new Date},rt=!!window.FontFace;b.prototype.c=function(t){for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},B.prototype.start=function(){var t=this.c.o.document,e=this,i=ot(),n=new Promise(function(n,o){function r(){ot()-i>=e.f?o():t.fonts.load(x(e.a),e.h).then(function(t){1<=t.length?n():setTimeout(r,25)},function(){o()})}r()}),o=null,r=new Promise(function(t,i){o=setTimeout(i,e.f)});Promise.race([r,n]).then(function(){o&&(clearTimeout(o),o=null),e.g(e.a)},function(){e.j(e.a)})};var st={D:"serif",C:"sans-serif"},at=null;R.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=ot(),X(this)};var _t=null;z.prototype.g=function(t){var e=this.a;e.g&&c(e.f,[e.a.c("wf",t.c,T(t).toString(),"active")],[e.a.c("wf",t.c,T(t).toString(),"loading"),e.a.c("wf",t.c,T(t).toString(),"inactive")]),M(e,"fontactive",t),this.m=!0,G(this)},z.prototype.h=function(t){var e=this.a;if(e.g){var i=h(e.f,e.a.c("wf",t.c,T(t).toString(),"active")),n=[],o=[e.a.c("wf",t.c,T(t).toString(),"loading")];i||n.push(e.a.c("wf",t.c,T(t).toString(),"inactive")),c(e.f,n,o)}M(e,"fontinactive",t),G(this)},K.prototype.load=function(t){this.c=new a(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,H(this,new P(this.c,t),t)},W.prototype.load=function(t){function e(){if(r["__mti_fntLst"+n]){var i,o=r["__mti_fntLst"+n](),s=[];if(o)for(var a=0;a<o.length;a++){var _=o[a].fontfamily;void 0!=o[a].fontStyle&&void 0!=o[a].fontWeight?(i=o[a].fontStyle+o[a].fontWeight,s.push(new w(_,i))):s.push(new w(_))}t(s)}else setTimeout(function(){e()},50)}var i=this,n=i.a.projectId,o=i.a.version;if(n){var r=i.c.o;f(this.c,(i.a.api||"https://fast.fonts.net/jsapi")+"/"+n+".js"+(o?"?v="+o:""),function(o){o?t([]):(r["__MonotypeConfiguration__"+n]=function(){return i.a},e())}).id="__MonotypeAPIScript__"+n}else t([])},q.prototype.load=function(t){var e,i,n=this.a.urls||[],o=this.a.families||[],r=this.a.testStrings||{},s=new y;for(e=0,i=n.length;e<i;e++)d(this.c,n[e],m(s));var a=[];for(e=0,i=o.length;e<i;e++)if(n=o[e].split(":"),n[1])for(var _=n[1].split(","),l=0;l<_.length;l+=1)a.push(new w(n[0],_[l]));else a.push(new w(n[0]));g(s,function(){t(a,r)})};var lt="https://fonts.googleapis.com/css",ut={latin:"BESbswy","latin-ext":"\xe7\xf6\xfc\u011f\u015f",cyrillic:"\u0439\u044f\u0416",greek:"\u03b1\u03b2\u03a3",khmer:"\u1780\u1781\u1782",Hanuman:"\u1780\u1781\u1782"},ct={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ht={i:"i",italic:"i",n:"n",normal:"n"},pt=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/,dt={Arimo:!0,Cousine:!0,Tinos:!0};et.prototype.load=function(t){var e=new y,i=this.c,n=new J(this.a.api,this.a.text),o=this.a.families;Z(n,o);var r=new Q(o);tt(r),d(i,$(n),m(e)),g(e,function(){t(r.a,r.c,dt)})},it.prototype.load=function(t){var e=this.a.id,i=this.c.o;e?f(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",function(e){if(e)t([]);else if(i.Typekit&&i.Typekit.config&&i.Typekit.config.fn){e=i.Typekit.config.fn;for(var n=[],o=0;o<e.length;o+=2)for(var r=e[o],s=e[o+1],a=0;a<s.length;a++)n.push(new w(r,s[a]));try{i.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(n)}},2e3):t([])},nt.prototype.load=function(t){var e=this.f.id,i=this.c.o,n=this;e?(i.__webfontfontdeckmodule__||(i.__webfontfontdeckmodule__={}),i.__webfontfontdeckmodule__[e]=function(e,i){for(var o=0,r=i.fonts.length;o<r;++o){var s=i.fonts[o];n.a.push(new w(s.name,C("font-weight:"+s.weight+";font-style:"+s.style)))}t(n.a)},f(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+p(this.c)+"/"+e+".js",function(e){e&&t([])})):t([])};var ft=new K(window);ft.a.c.custom=function(t,e){return new q(e,t)},ft.a.c.fontdeck=function(t,e){return new nt(e,t)},ft.a.c.monotype=function(t,e){return new W(e,t)},ft.a.c.typekit=function(t,e){return new it(e,t)},ft.a.c.google=function(t,e){return new et(e,t)};var yt={load:s(ft.load,ft)};void 0!==(n=function(){return yt}.call(e,i,e,t))&&(t.exports=n)}()},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(25),r=i(2),s=i(14),a=function(t){function e(e){void 0===e&&(e=-1);var i=t.call(this)||this;i.rnd=0,i._onComplete=function(){i._endTask()};return i.rnd=e>=0&&e<6?e:Math.floor(6*Math.random()),i}return n(e,t),e.prototype._start=function(){var t=this,e=o.MathUtil.zeroPadding(this.rnd+1,2)+".png";new s.UIImageLoader("title").add(e,"title_bg1").add("title2.png","title_bg2").add("title_main.json").load(function(){t._onComplete()})},e}(r.TaskBase);e.TaskLoadResourcesTitle=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(8),r=i(564),s=function(t){function e(){var e=t.call(this,1,0)||this;return e._pukapuka=new r.Pukapuka,e._pukapuka.position.set(600,360),e.addChild(e._pukapuka),e}return n(e,t),e.prototype.initialize=function(){this._pukapuka.initialize()},e.prototype.activate=function(){this._pukapuka.activate()},e.prototype.deactivate=function(){this._pukapuka.deactivate()},e.prototype.dispose=function(){this._pukapuka.dispose()},e}(o.AreaBox);e.PukapukaLayer=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(188),r=i(23),s=function(t){function e(){var e=t.call(this)||this;return e._wave1=new a(0,1300),e.addChild(e._wave1),e._wave2=new a(650,650),e.addChild(e._wave2),e._wave3=new a(1300,0),e.addChild(e._wave3),e._ship=new PIXI.Sprite,e._ship.y=-10,e._ship.anchor.y=1,e.addChild(e._ship),e}return n(e,t),e.prototype.initialize=function(){this._wave1.initialize(),this._wave2.initialize(),this._wave3.initialize(),this._ship.texture=o.TITLE_MAIN.getTexture(1),this._ship.x=-Math.round(this._ship.width/2)},e.prototype.activate=function(){null==this._t&&(this._wave1.activate(),this._wave2.activate(),this._wave3.activate(),this._t=createjs.Tween.get(this._ship,{loop:!0}).to({y:-18},800,createjs.Ease.circOut).to({y:-10},800,createjs.Ease.circIn))},e.prototype.deactivate=function(){null!=this._t&&(this._wave1.deactivate(),this._wave2.deactivate(),this._wave3.deactivate(),this._t.setPaused(!0),this._t=null,this._ship.y=-10)},e.prototype.dispose=function(){this._wave1.dispose(),this._wave2.dispose(),this._wave3.dispose(),this.deactivate()},e}(PIXI.Container);e.Pukapuka=s;var a=function(t){function e(e,i){var n=t.call(this)||this;return n._waittime1=e,n._waittime2=i,n._img=new PIXI.Sprite,n.addChild(n._img),n}return n(e,t),e.prototype.initialize=function(){this._init(),this._img.texture=o.TITLE_MAIN.getTexture(0),this._img.x=-Math.round(this._img.width/2),this._img.y=-Math.round(this._img.height/2)},e.prototype.activate=function(){var t=this;null==this._t&&(this._t=createjs.Tween.get(this,{loop:!0}).wait(this._waittime1).to({scaleX:1,scaleY:1,alpha:1},500).to({scaleX:1.5,scaleY:1.5},1e3).to({scaleX:1.7,scaleY:1.7,alpha:0},500).call(function(){t._init()}).wait(this._waittime2))},e.prototype.deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null,this._init())},e.prototype.dispose=function(){this.deactivate()},e.prototype._init=function(){this.alpha=0,this.scale.set(.5)},e}(r.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(8),s=i(566),a=i(69),_=i(589),l=i(593),u=i(602),c=i(603),h=i(606),p=i(608),d=i(610),f=i(612),y=i(613),m=i(616),g=i(617),v=i(621),b=i(649),w=i(652),x=i(1),I=function(t){function e(){var e=t.call(this)||this;return e._only_furniture=!1,e._onMouseMove=function(t){1==e._flagShip_layer.onMouseMove(t.data)?e._underLayer.buttonMode=!0:1==e.furnitureLayer.onMouseMove(t.data)?e._underLayer.buttonMode=!0:e._underLayer.buttonMode=!1},e._onClick=function(t){e._flagShip_layer.onClick(t.data)||e._furniture_layer.onClick(t.data)||e._only_furniture&&e.showPortUI(!0)},e._flagShip_layer=new y.FlagShipLayer,e.addChild(e._flagShip_layer),e._underLayer=new r.AreaBox(0),e.addChild(e._underLayer),e._ringMenu=new g.RingMenuLayer,e.addChild(e._ringMenu),e.addChild(e._contentLayer),e.addChild(e._fadeLayer),e._logBox=new u.LogBox,e.addChild(e._logBox),e._upperBar=new d.UpperBar,e.addChild(e._upperBar),e._frame_layer=new m.FrameLayer,e.addChild(e._frame_layer),e._sideMenu=new h.SideMenu,e.addChild(e._sideMenu),e._tutorial=new p.Tutorial(function(){new a.UpdateTutorialAPI(100).start(),e._tutorial.dispose(),e.removeChild(e._tutorial),e._tutorial=null}),e.addChild(e._tutorial),e._clock_layer=new f.ClockLayer,e.addChild(e._clock_layer),e._circle=new _.Circle,e.addChild(e._circle),e.addChild(e._overLayer),e._expedition_alert=new l.ExpeditionAlert,e._expedition_alert.visible=!1,e.addChild(e._expedition_alert),e._option=new c.Option,e.addChild(e._option),e._underLayer.on(x.EventType.MOUSEMOVE,e._onMouseMove),e._underLayer.on(x.EventType.CLICK,e._onClick),e}return n(e,t),Object.defineProperty(e.prototype,"flagShip",{get:function(){return this._flagShip_layer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ringMenu",{get:function(){return this._ringMenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"upperBar",{get:function(){return this._upperBar},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sideMenu",{get:function(){return this._sideMenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tutorial",{get:function(){return this._tutorial},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"circle",{get:function(){return this._circle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expedition_alert",{get:function(){return this._expedition_alert},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._clock_layer.initialize(),this._option.initialize(),this._logBox.initialize();var t=o.default.model.basic.getTutorialProgress();t<100?this._tutorial.initialize(t):(this.removeChild(this._tutorial),this._tutorial=null)},e.prototype.initializeNext=function(e){this._circle.initialize(e),this._frame_layer.initialize(e);var i=o.default.model.basic.shipMax,n=o.default.model.basic.slotMax;this._upperBar.initialize(e,i,n),t.prototype.initialize.call(this)},e.prototype.update=function(e){t.prototype.update.call(this,e),this._frame_layer.update(e),this._tutorial&&(0==e?this._tutorial.update(o.default.model.basic.getTutorialProgress()):this._tutorial.visible=!1),23==e||25==e?(this._upperBar.visible=!1,this._circle.visible=!1):(this._upperBar.visible=!0,this._circle.visible=!0),this._clock_layer.update(e)},e.prototype.activate=function(e,i){t.prototype.activate.call(this,e,i),this._flagShip_layer.activate(),this._flagShip_layer.marriageEff=i,this._flagShip_layer.visible=!0,this._underLayer.interactive=!0,this._ringMenu.activate();var n=182==e||187==e;this._ringMenu.setRevampFlg(n),this._ringMenu.visible=!0,this._logBox.visible=!0,this._tutorial&&this._tutorial.activate(),this._option.visible=!0},e.prototype.deactivate=function(){t.prototype.deactivate.call(this),this._flagShip_layer.visible=!1,this._flagShip_layer.deactivate(),this._underLayer.interactive=!1,this._ringMenu.visible=!1,this._ringMenu.deactivate(),this._logBox.visible=!1,this._logBox.close(0),this._tutorial&&this._tutorial.deactivate(),this._expedition_alert.deactive(),this._expedition_alert.visible=!1,this._option.visible=!1},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._underLayer.off(x.EventType.MOUSEMOVE,this._onMouseMove),this._underLayer.off(x.EventType.CLICK,this._onClick),this._ringMenu.dispose(),this._logBox.dispose(),this._upperBar.dispose(),this._frame_layer.dispose(),this._sideMenu.dispose(),this._tutorial&&this._tutorial.dispose(),this._clock_layer.dispose(),this._circle.dispose(),this._expedition_alert.dispose(),this._option.dispose()},e.prototype.showPortUI=function(e){t.prototype.showPortUI.call(this,e),this._only_furniture=!e,this._flagShip_layer.visible=!0,this._ringMenu.visible=e,this._logBox.visible=e,this._upperBar.visible=e,this._frame_layer.visible=e,this._sideMenu.visible=!1,this._tutorial&&(this._tutorial.visible=e),this._clock_layer.visible=e,this._circle.visible=e,this._option.visible=e},e.prototype.closeLogBox=function(){this._logBox.close()},e.prototype.updateUserInfo=function(t){this._upperBar.updateUserInfo(t)},e.prototype.updateInfo=function(){var t=o.default.model.useItem.getMaterialCounts();t.shipNum=o.default.model.ship.num,t.shipMax=o.default.model.basic.shipMax,t.slotNum=o.default.model.slot.num,t.slotMax=o.default.model.basic.slotMax,this._upperBar.updateInfo(t)},e.prototype.playCraneAnimation=function(){this._sideMenu.crane.startAnimation()},e.prototype.playChangeAnimation=function(t){this._overLayer.removeChildren(),this._circle.startMoveAnimation(t),this.sideMenu.startAnimation(t)},e.prototype.changeSkin=function(t){this._upperBar.changeSkin(t),this._frame_layer.changeSkin(t),this._circle.changeSkin(t)},e.prototype.getPreInitializeTask=function(t){return new v.PreInitializeTask(t)},e.prototype.getInitializeTask=function(t){return new b.InitializeTask(t)},e.prototype.getFinalizeTask=function(){return new w.FinalizeTask(this)},e}(s.MainView);e.PortScene=I},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(47),r=i(17),s=i(567),a=function(t){function e(){var e=t.call(this)||this;return e._initialized=!1,e._furniture_layer=new s.FurnitureView,e.addChild(e._furniture_layer),e._contentLayer=new PIXI.Container,e.addChild(e._contentLayer),e._fadeLayer=new r.FadeBox(1),e._fadeLayer.hide(),e._fadeLayer.visible=!1,e.addChild(e._fadeLayer),e._overLayer=new PIXI.Graphics,e.addChild(e._overLayer),e}return n(e,t),Object.defineProperty(e.prototype,"furnitureLayer",{get:function(){return this._furniture_layer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fadeLayer",{get:function(){return this._fadeLayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overLayer",{get:function(){return this._overLayer},enumerable:!0,configurable:!0}),e.prototype.isInitialized=function(){return this._initialized},e.prototype.initialize=function(){1!=this._initialized&&(this._initialized=!0,this.showPortUI(!0))},e.prototype.update=function(t){this._furniture_layer.visible=0==t||25==t},e.prototype.activate=function(t,e){this._furniture_layer.activate()},e.prototype.deactivate=function(){this._furniture_layer.deactivate()},e.prototype.dispose=function(){},e.prototype.showPortUI=function(t){this._overLayer.visible=!0},e.prototype.getContent=function(){return this._contentLayer.children.length>0?this._contentLayer.getChildAt(0):null},e.prototype.setContent=function(t){this._contentLayer.removeChildren(),null!=t&&this._contentLayer.addChild(t)},e}(o.SceneBase);e.MainView=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(275),r=i(25),s=i(190),a=i(568),_=i(569),l=i(570),u=i(572),c=i(582),h=function(t){function e(){var e=t.call(this)||this;return e._animationFlg=!1,e._timeChkCount=0,e.current_bgm_furniture=null,e.animate=function(){if(e._animationFlg){if(e._timeChkCount==o.FurnitureConst.TIME_CHK_COUNT_MAX){e._timeChkCount=0;var t=new Date,i=r.MathUtil.zeroPadding(t.getHours(),2),n=r.MathUtil.zeroPadding(t.getMinutes(),2),s=r.MathUtil.zeroPadding(t.getSeconds(),2);e._Floor.timeCheck(i,n,s),e._Wall.timeCheck(i,n,s),e._Window.timeCheck(i,n,s),e._Object.timeCheck(i,n,s),e._Chest.timeCheck(i,n,s),e._Desk.timeCheck(i,n,s)}e._timeChkCount++,requestAnimationFrame(e.animate),e._Floor.animate(),e._Wall.animate(),e._Window.animate(),e._Object.animate(),e._Chest.animate(),e._Desk.animate()}else e._kaikyo.finalize(),e._shogo.stopAnimation(),e._Floor.restart(),e._Wall.restart(),e._Window.restart(),e._Object.restart(),e._Chest.restart(),e._Desk.restart()},e._Floor=new u.Furniture(0),e._Wall=new u.Furniture(1),e._Window=new u.Furniture(2),e._Object=new u.Furniture(3),e._Chest=new u.Furniture(4),e._Desk=new u.Furniture(5),e._outside=new a.FurnitureOutside,e._outside.x=294,e._sakura=new s.Sakura,e._isSakura=!1,e.addChild(e._Floor),e.addChild(e._Wall),e.addChild(e._outside),e.addChild(e._Window),e.addChild(e._Object),e.addChild(e._sakura),e.addChild(e._Chest),e.addChild(e._Desk),e._kaikyo=new _.Kaikyo,e.addChild(e._kaikyo),e._shogo=new l.Shogo,e.addChild(e._shogo),e}return n(e,t),Object.defineProperty(e.prototype,"outside",{get:function(){return this._outside},enumerable:!0,configurable:!0}),e.prototype.activate=function(){this.animationFlag=!0},e.prototype.deactivate=function(){this.animationFlag=!1},Object.defineProperty(e.prototype,"animationFlag",{set:function(t){this._animationFlg!=t&&(this._animationFlg=t,t&&(this._Floor.restart(),this._Wall.restart(),this._Window.restart(),this._Object.restart(),this._Chest.restart(),this._Desk.restart(),this.animate()))},enumerable:!0,configurable:!0}),e.prototype.updateAll=function(t){if(this._isSakura=!1,this._Floor.update(t[0]),this._Wall.update(t[1]),this._Window.update(t[2]),this._Object.update(t[3]),this._Chest.update(t[4],this._kaikyo,this._shogo),this._Desk.update(t[5]),this._outside.update(),235==t[3]&&(this._isSakura=!0),this._isSakura){var e=new PIXI.Rectangle(-600,-240,600,1200);this._sakura.startAnimation(e,4)}else this._sakura.stopAnimation(4)},e.prototype.onMouseMove=function(t){var e=t.getLocalPosition(this),i=!1;return i=i||this._Floor.isHit(e),i=i||this._Wall.isHit(e),i=i||this._Window.isHit(e),i=i||this._Object.isHit(e),i=i||this._Chest.isHit(e),i=i||this._Desk.isHit(e)},e.prototype.onClick=function(t){for(var e=t.getLocalPosition(this),i=0,n=this._getFurnitures();i<n.length;i++){var o=n[i];if(o.isHit(e)){if(o.isJukeBox()){new c.JukeBoxTask(o.id).JukeStart();break}return o.isRadio()?(this.current_bgm_furniture=o,this.stopGramophone()):o.isGramo()&&(this.current_bgm_furniture=o),o.clickAction(),!0}}return!1},e.prototype.stopGramophone=function(){this._getFurnitures().forEach(function(t,e,i){t.isGramo()&&t.stopGramophone()})},e.prototype._getFurnitures=function(){return[this._Desk,this._Chest,this._Object,this._Window,this._Wall,this._Floor]},e}(PIXI.Container);e.FurnitureView=h},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=function(t){function e(){var e=t.call(this)||this;return e._texture=null,e._caches={},e._img=new PIXI.Sprite,e._img.visible=!1,e.addChild(e._img),e}return n(e,t),e.prototype.load=function(t,e){var i=this,n=o.default.model.furniture.getData(t);if(null==n||2!=n.type)return void(null!=e&&e());if(this._id=this._createID(n),1==this._caches.hasOwnProperty(this._id))return this._texture=this._caches[this._id],void(null!=e&&e());var r=this._createURL(this._id),s=new PIXI.loaders.Loader;s.add(this._id,r),s.load(function(){if(i._img.texture=PIXI.Texture.EMPTY,1==s.resources.hasOwnProperty(i._id)){var t=s.resources[i._id];null!=t&&null==t.error&&null!=t.texture&&(i._caches[i._id]=t.texture,i._texture=t.texture)}e()})},e.prototype.update=function(){null!=this._texture&&(this._img.texture=this._texture),this._texture=null,this._img.visible=!0},e.prototype._createID=function(t){var e,i=(new Date).getHours();return e=20<=i||i<4?4:i<8?5:i<16?1:i<18?2:3,"window_bg_"+t.outside+"-"+e},e.prototype._createURL=function(t){return o.default.settings.path_root+"resources/furniture/outside/"+t+".png"},e}(PIXI.Container);e.FurnitureOutside=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.initialize=function(t){this.removeChildren();var e;switch(t.type){case 1:e=o.COMMON_MISC.getTexture(117);break;case 2:e=o.COMMON_MISC.getTexture(118);break;case 3:e=o.COMMON_MISC.getTexture(119);break;default:e=PIXI.Texture.EMPTY}var i=new PIXI.Sprite(e);i.x=t.pos.x,i.y=t.pos.y,this.addChild(i)},e.prototype.finalize=function(){this.removeChildren()},e}(PIXI.Container);e.Kaikyo=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(571),r=function(t){function e(){var e=t.call(this)||this;return e._tween=null,e._shogo_anime=[[{texture:0,time:100},{texture:4,time:100},{texture:13,time:100},{texture:14,time:200},{texture:13,time:100},{texture:4,time:100},{texture:0,time:500},{texture:15,time:100},{texture:16,time:100},{texture:17,time:100},{texture:18,time:100},{texture:19,time:100},{texture:20,time:100},{texture:5,time:100},{texture:6,time:100},{texture:7,time:100},{texture:8,time:100},{texture:9,time:100},{texture:10,time:100},{texture:11,time:100},{texture:12,time:100},{texture:0,time:5400}],[{texture:0,time:100},{texture:21,time:100},{texture:22,time:100},{texture:23,time:200},{texture:22,time:100},{texture:21,time:100},{texture:0,time:500},{texture:24,time:100},{texture:25,time:100},{texture:26,time:100},{texture:27,time:100},{texture:25,time:100},{texture:24,time:100},{texture:0,time:6200}],[{texture:0,time:100},{texture:1,time:100},{texture:2,time:100},{texture:3,time:200},{texture:2,time:100},{texture:1,time:100},{texture:0,time:7300}],[{texture:0,time:0}]],e._NowPlaying=!1,e}return n(e,t),e.prototype.startAnimation=function(t,e){this._shogo_type=e,null!=this._shogo&&this._shogo.position.set(t.x,t.y),this._NowPlaying||(this._NowPlaying=!0,this._shogo_anime_frm=0,this._shogo=new PIXI.Sprite,this._shogo.texture=o.COMMON_SHOGO.getTexture(this._shogo_anime[this._shogo_type][this._shogo_anime_frm].texture),this._shogo.position.set(t.x,t.y),this.addChild(this._shogo),0!=this._shogo_anime[this._shogo_type][0].time&&this._animate())},e.prototype.stopAnimation=function(){this._NowPlaying&&-1!=this._shogo_type&&(null!=this._tween&&this._tween.pause(null),this._NowPlaying=!1,this.removeChild(this._shogo),this._shogo=null,this._tween=null)},e.prototype._animate=function(){var t=this;if(0!=this._NowPlaying){var e=this._shogo_anime[this._shogo_type][this._shogo_anime_frm].time,i=this._shogo_anime[this._shogo_type][this._shogo_anime_frm].texture;++this._shogo_anime_frm==this._shogo_anime[this._shogo_type].length&&(this._shogo_anime_frm=0),this._shogo.texture=o.COMMON_SHOGO.getTexture(i),this._tween=createjs.Tween.get(this._shogo.texture).wait(e).call(function(){t._tween=null,t._animate()})}},e}(PIXI.Container);e.Shogo=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("common_shogo_"+t)}t.getTexture=e}(e.COMMON_SHOGO||(e.COMMON_SHOGO={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(275),a=i(573),_=i(575),l=i(580),u=i(581),c=i(278),h=i(6),p=function(t){function e(e){var i=t.call(this)||this;return i._id=0,i._preCheckedTimeStr=null,i._hitAreaLayer=null,i._hit_area_updated=!1,i._popupLayer=null,i._pre_state_name="",i._data=new _.FAnimationData,i._type=e,i}return n(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e.prototype.isRadio=function(){return this._data.model.hasCategory("radio")},e.prototype.isGramo=function(){return this._data.model.hasCategory("gramo")},e.prototype.isJukeBox=function(){return this._data.model.hasCategory("jukebox")},e.prototype.update=function(t,e,i){var n=this;void 0===e&&(e=null),void 0===i&&(i=null);this._data.loadAnimationData(t,function(){if(null!=e&&r.default.model.useItem.getCount(79)>0){var o=n._data.model.kaikyo;null!=o?e.initialize(o):e.finalize()}if(null!=i){var s=-1;if(r.default.model.useItem.getCount(81)?s=0:r.default.model.useItem.getCount(82)?s=1:r.default.model.useItem.getCount(83)?s=2:r.default.model.useItem.getCount(84)&&(s=3),s>=0){var a=n._data.model.shogo;null!=a?i.startAnimation(a,s):i.stopAnimation()}}var _=!1;if(0==n.children.length?_=!0:(n.id!=t||n._data.model.reloadFlag)&&(_=!0,n.removeChildren()),_){n._id=t;var l=n._data.currentStateName,u=n._data.model.getState(l);n._reCreate(u)}})},e.prototype.restart=function(){this._data.setAnimationState(0),this._updateFurnitureLayers();for(var t=0,e=this._sprites;t<e.length;t++){e[t].reset()}this._removePopup()},e.prototype.isHit=function(t){if(null==this._hitAreaLayer)return!1;if(null==this._hit_area_map||!this._hit_area_updated){var e=new PIXI.Sprite(this._hitAreaLayer.texture);this._hit_area_map=r.default.settings.renderer.extract.pixels(e),this._hit_area_updated=!0}if(c.FurnitureUtil.isAreaHit(this._hit_area_map,t,this._hitAreaLayer)){if(0==this._data.animationState)return!0;if(this._hasLoop())return!0}return!1},e.prototype.clickAction=function(){this._data.setAnimationState(1),this._updateFurnitureLayers()},e.prototype.stopGramophone=function(){return"standard2"==this._data.currentStateName&&(this._data.setAnimationState(1),this._updateFurnitureLayers(),!0)},e.prototype.timeCheck=function(t,e,i){var n=this._data.currentStateName,o=this._data.model.getState(n);if(null!=o){var r=o.timeTable;if(null!=r&&0==this._data.animationState){var s=t+e+i;if(this._preCheckedTimeStr!=s){this._preCheckedTimeStr=s;var a="";if(r.hasOwnProperty(s)?a=r[s]:r.hasOwnProperty("XX"+e+i)&&(a=r["XX"+e+i]),""!=a){var _=a.split(":");if(_.length>1){a=_[0];var l=parseFloat(_[1]),u=100*Math.random();u<l&&(this._data.setAnimationState(2,a),this._updateFurnitureLayers())}else this._data.setAnimationState(2,a),this._updateFurnitureLayers()}}}}},e.prototype.animate=function(){if(0!=r.default.model.furniture.isActive(this._id)){for(var t=0;t<this._sprites.length;t++){var e=this._sprites[t],i=e.update();null!=i&&(this._setOffset(e,i),this._execFrameAction(i))}for(var n=!0,o=0,s=this._sprites;o<s.length;o++){var e=s[o];if(0==e.isEnd()){n=!1;break}}n&&(this._data.setAnimationState(0),this._updateFurnitureLayers(),r.default.view.portMain.furnitureLayer.current_bgm_furniture==this&&"standard"==this._data.currentStateName&&(r.default.view.portMain.furnitureLayer.current_bgm_furniture=null))}},e.prototype._getTextureByName=function(t){var e=PIXI.utils.TextureCache[t];return e||PIXI.Texture.EMPTY},e.prototype._setOffsetBase=function(t){0==this._type?(t.x=0,t.y=o.default.height-t.height):2==this._type?(t.x=297,t.y=0):4==this._type?(t.x=0,t.y=o.default.height-t.height):5==this._type?(t.x=o.default.width-t.width,t.y=0):(t.x=0,t.y=0)},e.prototype._setOffset=function(t,e){this._setOffsetBase(t);var i=t.fileName,n=this._data.model.getOffset(i);null==n&&(n=t.getOffset()),t.x+=n.x,t.y+=n.y},e.prototype._updateFurnitureLayers=function(){var t=this._data.currentStateName;if(t!=this._pre_state_name){this._pre_state_name=t;var e=this._data.model.getState(t);this._reCreate(e)}},e.prototype._hasLoop=function(){this._updateFurnitureLayers();var t=this._data.model.getState(this._pre_state_name);return null!=t&&t.hasLoop()},e.prototype._reCreate=function(t){if(this.removeChildren(),this._hit_area_map=null,this._hit_area_updated=!1,this._sprites=[],this._hitAreaLayer=null,null!=t){for(var e=t.layers,i=0;i<e.length;i++){var n=e[i],o=n.frames[0],r=(o.filename,new l.FurnitureLayer(n));this._sprites.push(r),this._setOffset(r,o),this.addChild(r)}var a=t.hitArea;if(null!=a){var _=this._getTextureByName(a.filename);this._hitAreaLayer=new PIXI.Sprite(_),this._hitAreaLayer.interactive=!0,this._setOffsetBase(this._hitAreaLayer);var u=a.offset;u&&(this._hitAreaLayer.x+=u[0],this._hitAreaLayer.y+=u[1]),this._hitAreaLayer.alpha=s.FurnitureConst.HIT_ALPHA,this.addChild(this._hitAreaLayer)}}},e.prototype._execFrameAction=function(t){var e=this,i=t.getSEID();null!=i&&h.SE.play(i);var n=t.getBGMAction();if(null!=n&&r.default.view.portMain.furnitureLayer.current_bgm_furniture==this)if("play"==n){var o=r.default.model.basic.port_bgm_id;r.default.sound.bgm.play(o)}else if("start"==n)if(this.isRadio()){var o=r.default.model.basic.port_bgm_id;if(101!=o){var s=new a.UserFurnitureRadioAPI;s.start(function(){r.default.model.basic.setPortBGMID(101),r.default.sound.bgm.play(101)})}else r.default.sound.bgm.play(101)}else this.isGramo()&&r.default.sound.bgm.play(237,!1,0,"port",function(){e.stopGramophone()});else"stop"==n&&r.default.sound.bgm.stop();this._openPopup(t);var _=t.getStateChangeOption();null!=_&&this._data.updateBaseStateName(_)},e.prototype._openPopup=function(t){var e=this,i=t.getPopupOption();null!=i&&null==this._popupLayer&&0==r.default.scene.now&&(r.default.scene.isChangingNow()||1!=r.default.friendlyRequest.UI&&(this._popupLayer=new u.FurniturePopupLayer(i),r.default.view.overLayer.addChild(this._popupLayer),this._popupLayer.show(function(){e._removePopup()})))},e.prototype._removePopup=function(){null!=this._popupLayer&&(null!=this._popupLayer.parent&&this._popupLayer.parent.removeChild(this._popupLayer),this._popupLayer.dispose(),this._popupLayer=null)},e}(PIXI.Container);e.Furniture=p},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=function(t){function e(){var e=t.call(this)||this;return e._url="api_req_furniture/radio_play",e}return n(e,t),e.prototype._connect=function(){t.prototype._connect.call(this)},e.prototype._completedEnd=function(){t.prototype._completedEnd.call(this)},e}(o.APIBase);e.UserFurnitureRadioAPI=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("common_shutter_"+t)}t.getTexture=e}(e.COMMON_SHUTTER||(e.COMMON_SHUTTER={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(25),r=i(7),s=i(78),a=i(576),_=i(278),l=i(105),u=i(79),c=function(){function t(){this._animationState=0,this._change=!1,this._baseStateName="standard",this._currentStateName="",this._model=new a.FurnitureAnimationModel,this._currentStateName=this._baseStateName}return Object.defineProperty(t.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationState",{get:function(){return this._animationState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentStateName",{get:function(){return this._currentStateName},enumerable:!0,configurable:!0}),t.prototype.setAnimationState=function(t,e){if(void 0===e&&(e=null),this._animationState!=t)if(this._animationState=t,2==this._animationState)this._currentStateName=null==e?"action1":e;else if(1==this._animationState){var i=this.model.getState(this._currentStateName);this._currentStateName=i.hitArea.state}else this._currentStateName=this._baseStateName},t.prototype.updateBaseStateName=function(t){this._baseStateName=t,0==this._animationState&&(this._currentStateName=this._baseStateName)},t.prototype.loadAnimationData=function(t,e){var i=this;if(n.default.model.furniture.isActive(t)){var r=o.MathUtil.zeroPadding(t,3),a=l.SuffixUtil.create(t,"furniture_scripts"),_="./resources/furniture/scripts/"+r+"_"+a+".json"+u.VersionUtil.getResourceVersion(2,t);axios.get(_).then(function(t){i._baseStateName="standard",i._currentStateName="standard",i._setParam(t),e()})}else{this._baseStateName="standard",this._currentStateName="standard";var c={filename:s.FurnitureLoader.getPath(t,"normal")};89==t?c.offset=[15,0]:93==t?c.offset=[-20,0]:79==t?c.offset=[-2,0]:209==t&&(c.offset=[-29,0]);var h={standard:{data:[[c]]}};this._model.setData(h),e()}},t.prototype._setParam=function(t){var e=new Date,i=100*(e.getMonth()+1)+e.getDate(),o=1e4*e.getHours()+100*e.getMinutes()+e.getSeconds(),s=r.ObjUtil.getObject(t,"data");this._model.setData(s);var a=this._getBaseStateName(s,i,o);this.updateBaseStateName(a);var l=n.default.model.deck.get(1).getShipModel(0).mstID;if(this.model.hasCategory("counterbar")){var u=_.FurnitureUtil.getCounterBarTextureName(s,l,o);this._model.__overwriteFileName__(u,"standard",1,1)}else if(this.model.hasCategory("dressingroom")){var u=_.FurnitureUtil.getDressingRoomTextureName(s,l);this._model.__overwriteFileName__(u,"standard",1,0)}else if(this.model.hasCategory("secretarydesk")){var u=_.FurnitureUtil.getSecretaryDeskTextureName(s,l);this._model.__overwriteFileName__(u,"standard",1,0)}else if(this.model.hasCategory("umbrellarack"))for(var c=_.FurnitureUtil.getUmbrellarackTextures(s,l),h=0;h<c.length;h++)this._model.__overwriteFileName__(c[h],"standard",h,0);else if(this.model.hasCategory("hydrangeadesk")){var u=_.FurnitureUtil.getHydrangeaDeskTextures(s,l);this._model.__overwriteFileName__(u,"standard",1,0)}this._animationState=0},t.prototype._getBaseStateName=function(t,e,i){var n=r.ObjUtil.getObject(t,"case");if(null==n)return"standard";var o=r.ObjUtil.getObjectArray(n,"datetime");if(o)for(var s=1e6*e+i,a=o.length-1;a>=0;a--){var _=o[a],l=parseInt(r.ObjUtil.getString(_,"datetime"));if(!isNaN(l)&&s>=l)return r.ObjUtil.getString(_,"state")}var u=r.ObjUtil.getObjectArray(n,"time");if(u)for(var a=u.length-1;a>=0;a--){var _=u[a],l=parseInt(r.ObjUtil.getString(_,"time"));if(!isNaN(l)&&i>=l)return r.ObjUtil.getString(_,"state")}return"standard"},t}();e.FAnimationData=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=i(577),r=function(){function t(){this._shift=null}return Object.defineProperty(t.prototype,"reloadFlag",{get:function(){return n.ObjUtil.getBoolean(this._data,"reloadflag")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kaikyo",{get:function(){var t=n.ObjUtil.getObject(this._data,"kaikyo");if(null==t)return null;var e=n.ObjUtil.getNumber(t,"type"),i=n.ObjUtil.getNumArray(t,"pos");return null==i||i.length<2?null:{type:e,pos:new PIXI.Point(i[0],i[1])}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shogo",{get:function(){var t=n.ObjUtil.getObject(this._data,"shogo");if(null==t)return null;var e=n.ObjUtil.getNumArray(t,"pos");return null==e||e.length<2?null:new PIXI.Point(e[0],e[1])},enumerable:!0,configurable:!0}),t.prototype.setData=function(t){if(this._data=t,this._shift=[],t.hasOwnProperty("shift"))for(var e=0;e<t.shift.length;e++){var i=t.shift[e].filename,n=t.shift[e].pos[0],o=t.shift[e].pos[1],r={filename:i,x:n,y:o};this._shift.push(r)}this._stateCache=null},t.prototype.getState=function(t){if(null==this._stateCache&&(this._stateCache={}),this._stateCache.hasOwnProperty(t))return this._stateCache[t];if(null==this._data)return null;if(this._data.hasOwnProperty(t)){var e=this._data[t],i=new o.FurnitureStateModel;return i.setJsonData(e),this._stateCache[t]=i,i}return null},t.prototype.hasCategory=function(t){var e=n.ObjUtil.getStrArray(this._data,"category");return null!=e&&e.indexOf(t)>=0},t.prototype.getOffset=function(t){for(var e=0,i=this._shift;e<i.length;e++){var n=i[e];if(n.filename==t)return new PIXI.Point(n.x,n.y)}return null},t.prototype.__overwriteFileName__=function(t,e,i,o){var r=n.ObjUtil.getObject(this._data,e);if(null!=r){var s=n.ObjUtil.getObjectArray(r,"data");if(null!=s){var a=s[i];if(null!=a){var _=a[o];null!=_&&_.hasOwnProperty("filename")&&(_.filename=t)}}}},t}();e.FurnitureAnimationModel=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(578),o=i(7),r=function(){function t(){this._hitArea=null,this._timeTable=null}return Object.defineProperty(t.prototype,"layers",{get:function(){return this._layers},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitArea",{get:function(){return this._hitArea},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeTable",{get:function(){return this._timeTable},enumerable:!0,configurable:!0}),t.prototype.setJsonData=function(t){this._layers=[];for(var e=o.ObjUtil.getObject(t,"setting"),i=o.ObjUtil.getNumArray(e,"loop"),r=o.ObjUtil.getObjectArray(t,"data"),s=0;s<r.length;s++){var a=r[s],_=null!=i&&s<i.length?i[s]:0,l=new n.FurnitureLayerModel(a,_);this._layers.push(l)}var u=o.ObjUtil.getObject(t,"hitarea");null!=u&&(this._hitArea={filename:o.ObjUtil.getString(u,"filename"),offset:o.ObjUtil.getNumArray(u,"offset"),state:o.ObjUtil.getString(u,"state")}),this._timeTable=o.ObjUtil.getObject(t,"timetable")},t.prototype.hasLoop=function(){for(var t=0,e=this._layers;t<e.length;t++){if(0!=e[t].loopMax)return!0}return!1},t}();e.FurnitureStateModel=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(579),o=function(){function t(t,e){if(this._frames=[],this._loopMax=e,null!=t)for(var i=0;i<t.length;i++){var o=t[i],r=new n.FurnitureKeyFrameModel(o);this._frames.push(r)}}return Object.defineProperty(t.prototype,"frames",{get:function(){return this._frames},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loopMax",{get:function(){return this._loopMax},enumerable:!0,configurable:!0}),t}();e.FurnitureLayerModel=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"filename",{get:function(){return n.ObjUtil.getString(this._o,"filename")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return n.ObjUtil.getNumber(this._o,"frame")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"framerand",{get:function(){return n.ObjUtil.getNumber(this._o,"framerand")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){var t=n.ObjUtil.getNumArray(this._o,"alpha");return null==t||t.length<2?[1,1]:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsetData",{get:function(){return n.ObjUtil.getNumArray(this._o,"offset")},enumerable:!0,configurable:!0}),t.prototype.getSEID=function(){var t=n.ObjUtil.getString(this._o,"se",null);if(null==t)return null;var e=t.split(":");if(e.length>1){var i=parseInt(e[1]);return i=Math.min(100,Math.max(0,i)),100*Math.random()<i?e[0]:null}return t},t.prototype.getBGMAction=function(){return n.ObjUtil.getString(this._o,"bgm",null)},t.prototype.getPopupOption=function(){var t=n.ObjUtil.getObject(this._o,"popup",null);if(null==t)return null;var e=n.ObjUtil.getString(t,"src",null);return null==e?null:{src:e,se_open:n.ObjUtil.getString(t,"se_open"),se_close:n.ObjUtil.getString(t,"se_close"),offset_x:n.ObjUtil.getNumber(t,"offset_x"),offset_y:n.ObjUtil.getNumber(t,"offset_y")}},t.prototype.getStateChangeOption=function(){return n.ObjUtil.getString(this._o,"state",null)},t}();e.FurnitureKeyFrameModel=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var i=t.call(this)||this;return i._fileName="",i._frame_index=0,i._frameCount=0,i._frameMax=0,i._loopCount=0,i._end=!1,i._offset=null,i._model=e,i._updateTexture(),i._updateAlpha(),i._updateFrameMax(),i._updateOffset(),i}return n(e,t),Object.defineProperty(e.prototype,"fileName",{get:function(){return this._fileName},enumerable:!0,configurable:!0}),e.prototype.isEnd=function(){return this._end},e.prototype.getOffset=function(){return this._offset},e.prototype.reset=function(){this._frame_index=0,this._frameCount=0,this._loopCount=0,this._end=!1,this._updateTexture(),this._updateAlpha(),this._updateFrameMax()},e.prototype.update=function(){if(this._end)return null;var t=this._model.frames[this._frame_index];this._frameCount++;var e=0==this._frame_index&&1==this._frameCount&&0==this._loopCount;if(this._frameCount<this._frameMax)return this._updateAlpha(),e?t:null;if(this._frame_index+1<this._model.frames.length)this._frame_index=this._frame_index+1,this._frameCount=0,this._updateTexture(),this._updateAlpha(),this._updateFrameMax(),this._updateOffset();else{if(this._loopCount+=1,!(this._model.loopMax<0||this._loopCount<=this._model.loopMax))return this._end=!0,e?t:null;this._frame_index=0,this._frameCount=0,this._updateTexture(),this._updateAlpha(),this._updateFrameMax(),this._updateOffset()}return t=this._model.frames[this._frame_index],0==t.frame&&(this._end=!0),t},e.prototype._updateTexture=function(){var t=this._model.frames[this._frame_index];this._fileName!=t.filename&&(this._fileName=t.filename,""==this._fileName?this.texture=PIXI.Texture.EMPTY:this.texture=this._getTextureByName(this._fileName))},e.prototype._updateAlpha=function(){var t=this._model.frames[this._frame_index];if(t.alpha[0]==t.alpha[1])this.alpha=t.alpha[0];else{var e=(t.alpha[1]-t.alpha[0])/(this._frameMax-1),i=t.alpha[0]+e*this._frameCount;i=Math.max(0,i),this.alpha=Math.min(1,i)}},e.prototype._updateFrameMax=function(){var t=this._model.frames[this._frame_index];if(this._frameMax=t.frame,t.framerand>0){var e=Math.random()*t.framerand;this._frameMax=this._frameMax+Math.floor(e)}},e.prototype._updateOffset=function(){null==this._offset&&(this._offset=new PIXI.Point);var t=this._model.frames[this._frame_index],e=t.offsetData;null!=e&&e.length>=2&&(this._offset.x=e[0],this._offset.y=e[1])},e.prototype._getTextureByName=function(t){var e=PIXI.utils.TextureCache[t];return e||PIXI.Texture.EMPTY},e}(PIXI.Sprite);e.FurnitureLayer=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(8),a=i(6),_=i(1),l=i(105),u=i(79),c=function(t){function e(e){var i=t.call(this)||this;i._data=e;var n=parseInt(e.src),o=l.SuffixUtil.create(n,"furniture_picture"),a=r.default.settings.path_root+"resources/furniture/picture/"+e.src+"_"+o+".png"+u.VersionUtil.getResourceVersion(2,n);if(null!=PIXI.utils.TextureCache[a]){var _=PIXI.utils.TextureCache[a];i._img=new PIXI.Sprite(_),i._img.visible=!1,i._centering()}else{var _=PIXI.Texture.fromImage(a);i._img=new PIXI.Sprite(_),i._img.visible=!1,_.baseTexture.once("loaded",function(){i._centering()})}return i.addChild(i._img),i._clickArea=new s.AreaBox(0,16777215),i.addChild(i._clickArea),i}return n(e,t),e.prototype.show=function(t){var e=this;void 0===t&&(t=null),this._onClose=t,this._img.visible=!0,a.SE.play(this._data.se_open),this._clickArea.once(_.EventType.CLICK,function(){e._onClose()})},e.prototype.hide=function(){this._img.visible=!1,a.SE.play(this._data.se_close)},e.prototype.dispose=function(){this.removeChildren(),this._img.texture.baseTexture.removeAllListeners("loaded"),this._clickArea.removeAllListeners(_.EventType.CLICK)},e.prototype._centering=function(){var t=Math.floor(o.default.width/2-this._img.width/2+this._data.offset_x),e=Math.floor(o.default.height/2-this._img.height/2+this._data.offset_y);this._img.position.set(t,e)},e}(PIXI.Container);e.FurniturePopupLayer=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),o=i(0),r=i(583),s=i(191),a=i(191),_=i(191),l=i(14),u=i(8),c=i(585),h=i(587),p=i(588),d=i(1),f=function(){function t(t){var e=this;this._tween=new Array(2),this._onMouseBtnFlag=!1,this._ListNow=-1,this._ListMax=-1,this._selectedBGM=-1,this._BGMCount=-1,this._onMouseBtn=function(){e._onMouseBtnFlag=!0},this._offMouseBtn=function(){e._onMouseBtnFlag=!1},this._onBtnUp=function(){0!=e._ListNow&&(e._ListNow--,e.JukeRedraw())},this._onBtnDown=function(){e._ListNow!=e._ListMax&&(e._ListNow++,e.JukeRedraw())},this._onMouseout=function(){e._onMouseBtnFlag||e.JukeListClose(!0)},this._onBGMSelect=function(t){e._selectedBGM=e._ListNow+t,e.JukeListClose(!1),e.JukeConfirmStart()},this._onJukeDispClose=function(){e.JukeDispClose(!1)},this._onJukeDispSetBGM=function(){e.set_portbgm(e._furnitureJukeBoxBGMModel.list[e._selectedBGM].api_bgm_id),new _.UserFurnitureJukeBoxSetPortBGMAPI(e._furnitureJukeBoxBGMModel.list[e._selectedBGM].api_id).start(function(){o.default.sound.bgm.play(e._furnitureJukeBoxBGMModel.list[e._selectedBGM].api_bgm_id),e.JukeDispClose(!0)})},this._playBGMCounter=function(){--e._BGMCount>0||e.JukeDispClose(!1)},this._id=t,this._jukemode=!1}return t.prototype.set_portbgm=function(t){o.default.model.basic.setPortBGMID(t)},t.prototype.JukeStart=function(){var t=this;if(!this._jukemode){this._jukemode=!0;var e=new u.AreaBox(0);o.default.view.overLayer.addChild(e);var i=new l.UIImageLoader("jukebox");i.add("jukebox_common.json"),i.load(function(){t._furnitureJukeBoxBGMModel=new r.FurnitureJukeBoxBGMModel,new s.UserFurnitureJukeBoxMusicListAPI(t._furnitureJukeBoxBGMModel).start(function(){for(o.default.view.overLayer.removeChild(e),t._ListMax=0;t._ListMax<t._furnitureJukeBoxBGMModel.list.length&&t._furnitureJukeBoxBGMModel.list[t._ListMax].isLoaded;t._ListMax++);t._ListMax>=5&&(t._ListMax-=5),t._ListNow=t._ListMax,t._bg_black=new PIXI.Graphics,t._bg_black.beginFill(0),t._bg_black.drawRect(0,0,n.default.width,n.default.height),t._bg_black.endFill(),t._bg_black.alpha=.2,t._bg_black.interactive=!0,t._bg_black.on(d.EventType.CLICK,t._onMouseout),o.default.view.portMain.overLayer.addChild(t._bg_black),t._jukeBoxList=new c.JukeBoxList,t._jukeBoxList.init(),o.default.view.portMain.overLayer.addChild(t._jukeBoxList),t._jukeBoxList.jukebox_table.on(d.EventType.MOUSEOUT,t._onMouseout),t._jukeBoxList.jukebox_btn_up2.on(d.EventType.CLICK,t._onBtnUp),t._jukeBoxList.jukebox_btn_down2.on(d.EventType.CLICK,t._onBtnDown),t._jukeBoxList.jukebox_btn_up2.on(d.EventType.MOUSEOVER,t._onMouseBtn),t._jukeBoxList.jukebox_btn_up2.on(d.EventType.MOUSEOUT,t._offMouseBtn),t._jukeBoxList.jukebox_btn_down2.on(d.EventType.MOUSEOVER,t._onMouseBtn),t._jukeBoxList.jukebox_btn_down2.on(d.EventType.MOUSEOUT,t._offMouseBtn),t._jukeBoxList.setBGMBtnEvent(t._onMouseBtn,t._offMouseBtn,t._onBGMSelect),t.JukeRedraw(),o.default.view.portMain.furnitureLayer.stopGramophone(),t._fadeinout(!0,300),t._tween[0]=createjs.Tween.get(t._jukeBoxList.jukebox_table).to({alpha:0},1).to({alpha:1},300).call(function(){t._tween[0]=null})})})}},t.prototype._fadeinout=function(t,e){void 0===e&&(e=300);var i=t?1:0;this._jukeBoxList.playBGMListFadeInOut(i,e)},t.prototype.JukeRedraw=function(){this._jukeBoxList.redrawBGMList(this._furnitureJukeBoxBGMModel.list,this._ListNow),this._ListNow==this._ListMax?(this._jukeBoxList.jukebox_btn_down2.alpha=.001,this._jukeBoxList.jukebox_btn_down2.buttonMode=!1):(this._jukeBoxList.jukebox_btn_down2.alpha=1,this._jukeBoxList.jukebox_btn_down2.buttonMode=!0),0==this._ListNow?(this._jukeBoxList.jukebox_btn_up2.alpha=.001,this._jukeBoxList.jukebox_btn_up2.buttonMode=!1):(this._jukeBoxList.jukebox_btn_up2.alpha=1,this._jukeBoxList.jukebox_btn_up2.buttonMode=!0)},t.prototype.JukeListRemoveEvents=function(){this._bg_black.off(d.EventType.CLICK,this._onMouseout),this._jukeBoxList.jukebox_table.off(d.EventType.MOUSEOUT,this._onMouseout),this._jukeBoxList.jukebox_btn_up2.off(d.EventType.CLICK,this._onBtnUp),this._jukeBoxList.jukebox_btn_down2.off(d.EventType.CLICK,this._onBtnDown),this._jukeBoxList.jukebox_btn_up2.off(d.EventType.MOUSEOVER,this._onMouseBtn),this._jukeBoxList.jukebox_btn_up2.off(d.EventType.MOUSEOUT,this._offMouseBtn),this._jukeBoxList.jukebox_btn_down2.off(d.EventType.MOUSEOVER,this._onMouseBtn),this._jukeBoxList.jukebox_btn_down2.off(d.EventType.MOUSEOUT,this._offMouseBtn),this._jukeBoxList.removeBGMBtnEvent(this._onMouseBtn,this._offMouseBtn,this._onBGMSelect)},t.prototype.JukeListClose=function(t){var e=this;this.JukeListRemoveEvents();var i=t?300:1;this._fadeinout(!1,i),this._tween[1]=createjs.Tween.get(this._jukeBoxList.jukebox_table).to({alpha:0},i).call(function(){e._tween[1]=null,e._jukeBoxList.discard(),o.default.view.portMain.overLayer.removeChild(e._jukeBoxList),t&&e.JukeEnd()}),this._jukeBoxList.jukebox_btn_up2.alpha=0,this._jukeBoxList.jukebox_btn_down2.alpha=0},t.prototype.JukeConfirmStart=function(){var t=this;this._jukeBoxConfirm=new h.JukeBoxConfirm(this._furnitureJukeBoxBGMModel.list[this._selectedBGM]),this._jukeBoxConfirm.init(),o.default.view.portMain.overLayer.addChild(this._jukeBoxConfirm),this._jukeBoxConfirm.btn_back3.on(d.EventType.CLICK,function(){t._onConfirm(!1)}),this._jukeBoxConfirm.btn_kagu.on(d.EventType.CLICK,function(){t._onConfirm(!0)})},t.prototype.JukeConfirmRemoveEvents=function(){var t=this;this._jukeBoxConfirm.btn_back3.off(d.EventType.CLICK,function(){t._onConfirm(!1)}),this._jukeBoxConfirm.btn_kagu.off(d.EventType.CLICK,function(){t._onConfirm(!0)})},t.prototype.JukeConfirmClose=function(){this.JukeConfirmRemoveEvents(),this._jukeBoxConfirm.discard(),o.default.view.portMain.overLayer.removeChild(this._jukeBoxConfirm),this._jukeBoxConfirm=null},t.prototype._onConfirm=function(t){var e=this;if(this.JukeConfirmClose(),t){o.default.view.portMain.furnitureLayer.current_bgm_furniture=null;new a.UserFurnitureJukeBoxMusicPlayAPI(this._furnitureJukeBoxBGMModel.list[this._selectedBGM].api_id).start(function(){e.JukeDispStart()})}else this.JukeEnd()},t.prototype.JukeDispStart=function(){this._jukeBoxDisp=new p.JukeBoxDisp(this._furnitureJukeBoxBGMModel.list[this._selectedBGM]),this._jukeBoxDisp.init(),o.default.view.portMain.overLayer.addChild(this._jukeBoxDisp),this._jukeBoxDisp.text_scroll(),this._jukeBoxDisp.musicChibiAnime(),this._BGMCount=this._furnitureJukeBoxBGMModel.list[this._selectedBGM].api_loops,o.default.sound.bgm.stop(),o.default.sound.bgm.play(this._furnitureJukeBoxBGMModel.list[this._selectedBGM].api_bgm_id,!0,0,"port",this._playBGMCounter),this._jukeBoxDisp.jukebox_close.on(d.EventType.CLICK,this._onJukeDispClose),1==this._furnitureJukeBoxBGMModel.list[this._selectedBGM].api_bgm_flag&&this._jukeBoxDisp.jukebox_btn_bgm.on(d.EventType.CLICK,this._onJukeDispSetBGM)},t.prototype.JukeDispClose=function(t){this._BGMCount=0,this._jukeBoxDisp.jukebox_close.off(d.EventType.CLICK,this._onJukeDispClose),1==this._furnitureJukeBoxBGMModel.list[this._selectedBGM].api_bgm_flag&&this._jukeBoxDisp.jukebox_btn_bgm.off(d.EventType.CLICK,this._onJukeDispSetBGM),this._jukeBoxDisp.discard(),o.default.view.portMain.overLayer.removeChild(this._jukeBoxDisp),this.JukeEnd(),t||(o.default.sound.bgm.stop(),o.default.sound.bgm.play(o.default.model.basic.port_bgm_id))},t.prototype.JukeEnd=function(){o.default.view.portMain.overLayer.removeChild(this._bg_black),this._bg_black=null,this._jukemode=!1},t}();e.JukeBoxTask=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=i(584),r=function(){function t(){}return Object.defineProperty(t.prototype,"list",{get:function(){return this._list},enumerable:!0,configurable:!0}),t.prototype.SetAll=function(t){var e=Object.keys(t).map(function(e){return t[e]});this._list=new Array(e.length);for(var i=0;i<e.length;i++)this._list[i]=new o.FurnitureJukeBoxBGMLineModel,this._list[i].api_id=n.ObjUtil.getNumber(e[i],"api_id"),this._list[i].api_name=n.ObjUtil.getString(e[i],"api_name"),this._list[i].api_description=n.ObjUtil.getString(e[i],"api_description"),this._list[i].api_bgm_id=n.ObjUtil.getNumber(e[i],"api_bgm_id"),this._list[i].api_use_coin=n.ObjUtil.getNumber(e[i],"api_use_coin"),this._list[i].api_bgm_flag=n.ObjUtil.getNumber(e[i],"api_bgm_flag"),this._list[i].api_loops=n.ObjUtil.getNumber(e[i],"api_loops"),this._list[i].isLoaded=!0},t}();e.FurnitureJukeBoxBGMModel=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this._isLoaded=!1}return Object.defineProperty(t.prototype,"isLoaded",{get:function(){return this._isLoaded},set:function(t){this._isLoaded=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"api_id",{get:function(){return this._api_id},set:function(t){this._api_id=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"api_name",{get:function(){return this._api_name},set:function(t){this._api_name=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"api_description",{get:function(){return this._api_description},set:function(t){this._api_description=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"api_bgm_id",{get:function(){return this._api_bgm_id},set:function(t){this._api_bgm_id=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"api_use_coin",{get:function(){return this._api_use_coin},set:function(t){this._api_use_coin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"api_bgm_flag",{get:function(){return this._api_bgm_flag},set:function(t){this._api_bgm_flag=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"api_loops",{get:function(){return this._api_loops},set:function(t){this._api_loops=t},enumerable:!0,configurable:!0}),t}();e.FurnitureJukeBoxBGMLineModel=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(192),r=i(586),s=i(1),a=function(t){function e(){return t.call(this)||this}return n(e,t),Object.defineProperty(e.prototype,"jukebox_table",{get:function(){return this._table3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jukebox_btn_up2",{get:function(){return this._btn_up2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jukebox_btn_down2",{get:function(){return this._btn_down2},enumerable:!0,configurable:!0}),e.prototype.init=function(){this._table3=new PIXI.Sprite(o.JUKEBOX_COMMON.getTexture(11)),this._table3.position.set(10,194),this._table3.alpha=0,this._table3.interactive=!0,this.addChild(this._table3),this._param_mask=new Array(3),this._param_mask[0]=new PIXI.Graphics,this._param_mask[0].beginFill(16777215),this._param_mask[0].drawRect(43,286,358,150),this._param_mask[0].endFill(),this.addChild(this._param_mask[0]),this._param_mask[1]=new PIXI.Graphics,this._param_mask[1].beginFill(16777215),this._param_mask[1].drawRect(405,286,166,150),this._param_mask[1].endFill(),this.addChild(this._param_mask[1]),this._param_mask[2]=new PIXI.Graphics,this._param_mask[2].beginFill(16777215),this._param_mask[2].drawRect(575,286,100,150),this._param_mask[2].endFill(),this.addChild(this._param_mask[2]),this._bgmList=[];for(var t=0;t<5;t++){var e=new r.BGMList(t,10,194,this._param_mask);this.addChild(e),this._bgmList.push(e)}this._btn_up2=new PIXI.Sprite(o.JUKEBOX_COMMON.getTexture(8)),this._btn_up2.position.set(346,248),this._btn_up2.alpha=1,this._btn_up2.interactive=this._btn_up2.buttonMode=!0,this.addChild(this._btn_up2),this._btn_down2=new PIXI.Sprite(o.JUKEBOX_COMMON.getTexture(7)),this._btn_down2.position.set(346,450),this._btn_down2.alpha=1,this._btn_down2.interactive=this._btn_down2.buttonMode=!0,this.addChild(this._btn_down2)},e.prototype.discard=function(){this.removeChildren();for(var t=0,e=this._bgmList;t<e.length;t++){e[t].dispose()}},e.prototype.setBGMBtnEvent=function(t,e,i){for(var n=this,o=0;o<this._bgmList.length;o++)!function(o){n._bgmList[o].Btn.on(s.EventType.MOUSEOVER,t),n._bgmList[o].Btn.on(s.EventType.MOUSEOUT,e),n._bgmList[o].Btn.on(s.EventType.CLICK,function(){i(o)})}(o)},e.prototype.removeBGMBtnEvent=function(t,e,i){for(var n=this,o=0;o<this._bgmList.length;o++)!function(o){n._bgmList[o].Btn.off(s.EventType.MOUSEOVER,t),n._bgmList[o].Btn.off(s.EventType.MOUSEOUT,e),n._bgmList[o].Btn.off(s.EventType.CLICK,function(){i(o)})}(o)},e.prototype.playBGMListFadeInOut=function(t,e){for(var i=0;i<this._bgmList.length;i++)this._bgmList[i].playFadeInOut(t,e)},e.prototype.redrawBGMList=function(t,e){for(var i=0;i<this._bgmList.length;i++)this._bgmList[i].setText(t[i+e])},e}(PIXI.Container);e.JukeBoxList=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=function(t){function e(e,i,n,r){var s=t.call(this)||this;return s._name=new o.TextBox(21,4204800),s._name.text="",s._name.position.set(44+i,30*e+95+n),s._name.alpha=1,s._name.mask=r[0],s.addChild(s._name),s._param=new o.TextBox(14,4204800),s._param.text="",s._param.style.letterSpacing=-1,s._param.position.set(400+i,30*e+99+n),s._param.alpha=1,s._param.mask=r[1],s.addChild(s._param),s._price=new o.TextBox(22,13892095),s._price.text="",s._price.position.set(618+i,30*e+93+n),s._price.anchor.set(.5,0),s._price.alpha=1,s._price.mask=r[2],s.addChild(s._price),s._btn=new PIXI.Graphics,s._btn.beginFill(43639),s._btn.drawRect(42+i,30*e+91+n,625,28),s._btn.alpha=.001,s._btn.interactive=!0,s.addChild(s._btn),s}return n(e,t),Object.defineProperty(e.prototype,"Btn",{get:function(){return this._btn},enumerable:!0,configurable:!0}),e.prototype.playFadeInOut=function(t,e){this._tween=null,this._tween=createjs.Tween.get(this).to({alpha:1-t},0).to({alpha:t},e)},e.prototype.setText=function(t){this._name.text=t.api_name,this._param.text=t.api_description,this._price.text=t.api_use_coin+""},e.prototype.dispose=function(){this.removeChildren(),this._name.destroy(),this._param.destroy(),this._price.destroy(),this._tween&&(this._tween.setPaused(!0),this._tween=null)},e}(PIXI.Container);e.BGMList=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(4),s=i(192),a=function(t){function e(e){var i=t.call(this)||this;return i._coin=o.default.model.useItem.getCount(44),i._furnitureJukeBoxBGMLineModel=e,i}return n(e,t),Object.defineProperty(e.prototype,"btn_kagu",{get:function(){return this._btn_kagu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_back3",{get:function(){return this._btn_back3},enumerable:!0,configurable:!0}),e.prototype.init=function(){this._pop_jukeboxbg2=new PIXI.Sprite(s.JUKEBOX_COMMON.getTexture(18)),this._pop_jukeboxbg2.position.set(301,232),this.addChild(this._pop_jukeboxbg2),1==this._furnitureJukeBoxBGMLineModel.api_bgm_flag&&(this._jukebox_icon_bgm=new PIXI.Sprite(s.JUKEBOX_COMMON.getTexture(10)),this._jukebox_icon_bgm.position.set(469,305),this.addChild(this._jukebox_icon_bgm)),this._bgm_name=new r.TextBox(17,4473924),this._bgm_name.position.set(658,301),this._bgm_name.text=this._furnitureJukeBoxBGMLineModel.api_name+"",this.addChild(this._bgm_name),this._bgm_coin_price=new r.TextBox(17,4473924),this._bgm_coin_price.position.set(746,340),this._bgm_coin_price.anchor.set(1,0),this._bgm_coin_price.text=this._furnitureJukeBoxBGMLineModel.api_use_coin+"",this.addChild(this._bgm_coin_price),this._bgm_coin_now=new r.TextBox(17,4473924),this._bgm_coin_now.position.set(746,379),this._bgm_coin_now.anchor.set(1,0),this._bgm_coin_now.text=this._coin+"",this.addChild(this._bgm_coin_now),this._coin<this._furnitureJukeBoxBGMLineModel.api_use_coin?(this._bgm_coin_now.style.fill=14483456,this._btn_kagu=new PIXI.Sprite(s.JUKEBOX_COMMON.getTexture(3)),this._btn_kagu.interactive=!1):(this._arrow_mini=new PIXI.Sprite(s.JUKEBOX_COMMON.getTexture(0)),this._arrow_mini.position.set(751,385),this.addChild(this._arrow_mini),this._bgm_coin_after=new r.TextBox(17,4473924),this._bgm_coin_after.position.set(836,379),this._bgm_coin_after.anchor.set(1,0),this._bgm_coin_after.text=this._coin-this._furnitureJukeBoxBGMLineModel.api_use_coin+"",this.addChild(this._bgm_coin_after),this._btn_kagu=new PIXI.Sprite(s.JUKEBOX_COMMON.getTexture(2)),this._btn_kagu.interactive=this._btn_kagu.buttonMode=!0),this._btn_kagu.position.set(370,412),this.addChild(this._btn_kagu),this._btn_back3=new PIXI.Sprite(s.JUKEBOX_COMMON.getTexture(1)),this._btn_back3.interactive=this._btn_back3.buttonMode=!0,this._btn_back3.position.set(689,412),this.addChild(this._btn_back3)},e.prototype.discard=function(){this.removeChildren(),this._bgm_name.destroy(),this._bgm_coin_price.destroy(),this._bgm_coin_now.destroy(),this._bgm_coin_after&&this._bgm_coin_after.destroy()},e}(PIXI.Container);e.JukeBoxConfirm=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(4),s=i(192),a=i(1),_=function(t){function e(e){var i=t.call(this)||this;return i._tween=new Array(2),i._textScrollEnable=!0,i._onChibiClick=function(){i._textScrollEnable&&!i._musicChibiJumping&&(i._musicChibiJumping=!0,i._tween[4]=createjs.Tween.get(i._musicChibi).to({y:i._offset_y+144.5},1).to({y:i._offset_y+144.5-48},250,createjs.Ease.cubicOut).to({y:i._offset_y+144.5},250,createjs.Ease.cubicIn).call(function(){i._tween[4]=null,i._musicChibiJumping=!1}))},i._furnitureJukeBoxBGMLineModel=e,i._textScrollEnable=!0,i}return n(e,t),Object.defineProperty(e.prototype,"jukebox_close",{get:function(){return this._close},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jukebox_btn_bgm",{get:function(){return this._btn_bgm},enumerable:!0,configurable:!0}),e.prototype.init=function(){this._offset_x=148,this._offset_y=264,this._bg=new PIXI.Sprite(s.JUKEBOX_COMMON.getTexture(5)),this._bg.position.set(this._offset_x,this._offset_y),this.addChild(this._bg),this._close=new PIXI.Sprite(s.JUKEBOX_COMMON.getTexture(9)),this._close.position.set(this._offset_x+892,this._offset_y+4),this._close.interactive=this._close.buttonMode=!0,this.addChild(this._close),1==this._furnitureJukeBoxBGMLineModel.api_bgm_flag&&(this._btn_bgm=new PIXI.Sprite(s.JUKEBOX_COMMON.getTexture(6)),this._btn_bgm.position.set(this._offset_x+639,this._offset_y-4),this._btn_bgm.interactive=this._btn_bgm.buttonMode=!0,this.addChild(this._btn_bgm)),this._text_mask=new PIXI.Graphics,this._text_mask.beginFill(11184810),this._text_mask.drawRect(this._offset_x+216,this._offset_y+52,510,22),this._text_mask.endFill(),this.addChild(this._text_mask),this._text=new r.TextBox(19,4473924),this._text.mask=this._text_mask,this._text.position.set(o.default.width,this._offset_y+51),this._text.anchor.set(.5,0),this._text.text="\u300c"+this._furnitureJukeBoxBGMLineModel.api_name+"\u300d\u3000\u30ea\u30af\u30a8\u30b9\u30c8\u4e2d\u266a",this.addChild(this._text),this._musicChibi=new PIXI.Sprite(s.JUKEBOX_COMMON.getTexture(12)),this._musicChibi.position.set(this._offset_x+36.5,this._offset_y+144.5),this._musicChibi.anchor.set(.5,.5),this._musicChibi.interactive=!0,this.addChild(this._musicChibi)},e.prototype.text_scroll=function(){this._textScrollEnable&&(this._tween[0]=createjs.Tween.get(this._text,{loop:!0}).to({x:1138},1).to({x:613},5e3).wait(1e3).to({x:88},5e3))},e.prototype.musicChibiAnime=function(){this._musicChibiMove(),this._musicChibiTexture(),this._musicChibiRot(),this._musicChibi.on(a.EventType.CLICK,this._onChibiClick),this._musicChibiJumping=!1},e.prototype._musicChibiMove=function(){var t=this;this._textScrollEnable&&(this._tween[1]=createjs.Tween.get(this._musicChibi,{loop:!0}).to({x:867,width:94,height:82},1).to({x:232},5e3).to({width:1},500).call(function(){t._musicChibi.scale.x=-1,t._musicChibi.width=1}).to({width:94},500).to({x:867},5e3).to({width:1},500).call(function(){t._musicChibi.scale.x=1,t._musicChibi.width=1}).to({width:94},500))},e.prototype._musicChibiTexture=function(){var t=this;this._textScrollEnable&&(this._tween[2]=createjs.Tween.get(this._musicChibi,{loop:!0}).wait(250).call(function(){t._musicChibi.texture=s.JUKEBOX_COMMON.getTexture(12)}).wait(250).call(function(){t._musicChibi.texture=s.JUKEBOX_COMMON.getTexture(13)}).wait(250).call(function(){t._musicChibi.texture=s.JUKEBOX_COMMON.getTexture(14)}).wait(250).call(function(){t._musicChibi.texture=s.JUKEBOX_COMMON.getTexture(13)}))},e.prototype._musicChibiRot=function(){this._textScrollEnable&&(this._tween[3]=createjs.Tween.get(this._musicChibi,{loop:!0}).to({rotation:.05},1).wait(249).to({rotation:-.05},1).wait(249))},e.prototype.discard=function(){this._musicChibi.off(a.EventType.CLICK,this._onChibiClick),this._textScrollEnable=!1;for(var t=0;t<this._tween.length;t++)null!=this._tween[t]&&(this._tween[t].setPaused(!0),this._tween[t].removeAllEventListeners());this.removeChildren(),this._text.destroy()},e}(PIXI.Container);e.JukeBoxDisp=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(590),r=i(280),s=i(592),a=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.initialize=function(t){this.changeSkin(t)},e.prototype.changeSkin=function(t){if(null!=this._content){if(this._skinID==t)return;this._content.dispose(),this.removeChild(this._content),this._content=null}this._skinID=t,101==t||102==t?this._content=new o.CircleContentSkin1:201==t&&(this._content=new r.CircleContentSkin2),301==t&&(this._content=new s.CircleContentSkin3),311==t&&(this._content=new s.CircleContentSkin3k),this._content.initialize(),this.addChild(this._content)},e.prototype.dispose=function(){null!=this._content&&(this._content.dispose(),this.removeChild(this._content),this._content=null)},e.prototype.startMoveAnimation=function(t){null!=this._content&&this._content.startMoveAnimation(t)},e}(PIXI.Container);e.Circle=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),s=i(193),a=i(279),_=function(t){function e(){var e=t.call(this)||this;return e._onClick=function(){0==o.default.scene.now?o.default.view.portMain.showPortUI(!1):o.default.scene.change(0)},e._circle=new PIXI.Sprite,e.addChild(e._circle),e._content=new l,e.addChild(e._content),e._light=new PIXI.Sprite,e._light.position.set(-23,-32),e._light.alpha=.6,e.addChild(e._light),e._hit_area=new PIXI.Graphics,e._hit_area.beginFill(0,0),e._hit_area.drawCircle(0,0,95),e._hit_area.endFill(),e._hit_area.position.set(68,60),e.addChild(e._hit_area),e}return n(e,t),e.prototype.initialize=function(){this._circle.texture=s.PORT_SKIN_1.getTexture(1),this._circle.position.set(-40,-46),this._content.position.set(63,58),this._light.texture=s.PORT_SKIN_1.getTexture(8),this._content.initialize(),this._hit_area.interactive=this._hit_area.buttonMode=!0,this._hit_area.on(r.EventType.CLICK,this._onClick),this._startAnimation()},e.prototype.dispose=function(){this._hit_area.interactive=this._hit_area.buttonMode=!1,this._hit_area.off(r.EventType.CLICK,this._onClick),this._content.dispose(),this._stopAnimation(),this._content_tween=null,this._light_tween=null},e.prototype.startMoveAnimation=function(t){this._content.startAnimation(t)},e.prototype._startAnimation=function(){null==this._content_tween?this._content_tween=createjs.Tween.get(this._content,{loop:!0}).to({rotation:2*Math.PI},3e4):this._content_tween.play(null),null==this._light_tween?this._light_tween=createjs.Tween.get(this._light,{loop:!0}).to({alpha:0},1e3,createjs.Ease.getPowIn(4)).to({alpha:.6},1e3,createjs.Ease.getPowOut(4)):this._light_tween.play(null)},e.prototype._stopAnimation=function(){null!=this._content_tween&&this._content_tween.setPaused(!0),null!=this._light_tween&&this._light_tween.setPaused(!0)},e}(a.CircleContent);e.CircleContentSkin1=_;var l=function(t){function e(){var e=t.call(this)||this;return e._content1=new PIXI.Sprite,e.addChild(e._content1),e._content2=new PIXI.Sprite,e.addChild(e._content2),e}return n(e,t),e.prototype.initialize=function(){this._content1.texture=this._getTexture(0),this._content2.visible=!0,this.pivot.set(Math.round(this._content1.width/2),Math.round(this._content1.height/2))},e.prototype.dispose=function(){null!=this._tween&&this._tween.setPaused(!0),this._tween=null},e.prototype.startAnimation=function(t){var e=this;null!=this._tween&&(this._tween.setPaused(!0),this._tween=null),this._content2.texture=this._content1.texture,this._content2.alpha=1,this._content2.visible=!0,this._content1.texture=this._getTexture(t),this._tween=createjs.Tween.get(this._content2).to({alpha:0},600).call(function(){e._content2.visible=!1})},e.prototype._getTexture=function(t){return 11==t?s.PORT_SKIN_1.getTexture(4):12==t?s.PORT_SKIN_1.getTexture(5):13==t?s.PORT_SKIN_1.getTexture(6):14==t?s.PORT_SKIN_1.getTexture(9):15==t?s.PORT_SKIN_1.getTexture(7):31==t?s.PORT_SKIN_1.getTexture(0):16==t?s.PORT_SKIN_1.getTexture(10):s.PORT_SKIN_1.getTexture(3)},e}(PIXI.Container)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("port_skin_circle_2_"+t)}t.getTexture=e}(e.PORT_SKIN_CIRCLE_2||(e.PORT_SKIN_CIRCLE_2={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(195),s=i(196),a=i(280),_=i(281),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initialize=function(){this._background.texture=r.PORT_SKIN_3.getTexture(0),this._background.position.set(-40,-49),this._content.initialize(),this._content.position.set(67,58),this._hit_area.interactive=!0,this._hit_area.buttonMode=!0,this._hit_area.on(o.EventType.CLICK,this._onClick),this._startAnimation()},e}(a.CircleContentSkin2);e.CircleContentSkin3=l;var u=function(t){function e(){var e=t.call(this)||this;return e._background=new PIXI.Sprite,e.addChild(e._background),e._content=new c,e.addChild(e._content),e._hit_area=new PIXI.Graphics,e._hit_area.beginFill(0,0),e._hit_area.drawCircle(0,0,95),e._hit_area.endFill(),e._hit_area.position.set(68,60),e.addChild(e._hit_area),e}return n(e,t),e.prototype.initialize=function(){this._background.texture=s.PORT_SKIN_3K.getTexture(2),this._background.position.set(-40,-49),this._content.initialize(),this._content.position.set(67,58),this._hit_area.interactive=!0,this._hit_area.buttonMode=!0,this._hit_area.on(o.EventType.CLICK,this._onClick),this._startAnimation()},e}(l);e.CircleContentSkin3k=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._getTexture=function(t){return 11==t?s.PORT_SKIN_3K.getTexture(7):12==t?s.PORT_SKIN_3K.getTexture(9):13==t?s.PORT_SKIN_3K.getTexture(11):14==t?s.PORT_SKIN_3K.getTexture(15):15==t?s.PORT_SKIN_3K.getTexture(13):31==t?s.PORT_SKIN_3K.getTexture(0):16==t?s.PORT_SKIN_3K.getTexture(17):s.PORT_SKIN_3K.getTexture(4)},e.prototype._getTextureOver=function(t){return 11==t?s.PORT_SKIN_3K.getTexture(8):12==t?s.PORT_SKIN_3K.getTexture(10):13==t?s.PORT_SKIN_3K.getTexture(12):14==t?s.PORT_SKIN_3K.getTexture(16):15==t?s.PORT_SKIN_3K.getTexture(14):31==t?s.PORT_SKIN_3K.getTexture(1):16==t?s.PORT_SKIN_3K.getTexture(18):s.PORT_SKIN_3K.getTexture(5)},e}(_.CircleContentWithSwitching)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(8),r=i(4),s=i(594),a=i(34),_=i(282),l=i(595),u=i(106),c=i(283),h=i(156),p=i(600),d=i(1),f=function(t){function e(){var e=t.call(this)||this;return e._initialized=!1,e._activated=!1,e._onClick=function(){var t=new s.ExpeditionResultModel,i=new l.ExpeditionResultAPI(e._deck_id,t);(new a.APIConnector).add(i).add(new _.PortAPI).add(new u.UseItemAPI).start(function(){e._showExpeditionCutin(t)})},e._showExpeditionCutin=function(t){new c.TaskExpeditionEndCutin(e._deck_id,t).start(function(){e._showExpeditionResult(t)})},e._showExpeditionResult=function(t){new p.TaskExpeditionResultShow(e._deck_id,t).start()},e}return n(e,t),e.prototype.initialize=function(t){this._deck_id=t,0==this._initialized&&(this._bg=new o.AreaBox(0,16711680),this.addChild(this._bg),this._balloon=new PIXI.Sprite(h.PORT_MAIN.getTexture(0)),this._balloon.position.set(726,6),this.addChild(this._balloon),this._message=new r.TextBox(20,1949120),this._message.position.set(810,30),this._message.text="\u9060\u5f81\u304b\u3089\u623b\u3063\u3066\u6765\u307e\u3057\u305f\u3002",this.addChild(this._message)),this._initialized=!0},e.prototype.activate=function(){0==this._activated&&(this._activated=!0,this.interactive=this.buttonMode=!0,this.on(d.EventType.CLICK,this._onClick))},e.prototype.deactive=function(){this.interactive=this.buttonMode=!1,this.off(d.EventType.CLICK,this._onClick),this._activated=!1},e.prototype.dispose=function(){this.deactive(),this._initialized=!1,this.removeChildren(),this._bg=null,this._balloon=null,this._message&&this._message.destroy(),this._message=null},e}(PIXI.Container);e.ExpeditionAlert=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),o=function(){function t(){}return Object.defineProperty(t.prototype,"expedition_id",{get:function(){return this._expedition_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expedition_name",{get:function(){return n.ObjUtil.getString(this._o,"api_quest_name")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"result",{get:function(){return n.ObjUtil.getNumber(this._o,"api_clear_result")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"total_exp",{get:function(){return n.ObjUtil.getNumber(this._o,"api_get_exp")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"user_level",{get:function(){return n.ObjUtil.getNumber(this._o,"api_member_lv")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ship_mem_ids",{get:function(){return this._ship_mem_ids},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fuel",{get:function(){return n.ObjUtil.getNumArray(this._o,"api_get_material")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ammo",{get:function(){return n.ObjUtil.getNumArray(this._o,"api_get_material")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"steel",{get:function(){return n.ObjUtil.getNumArray(this._o,"api_get_material")[2]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baux",{get:function(){return n.ObjUtil.getNumArray(this._o,"api_get_material")[3]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item1",{get:function(){return this._item1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item2",{get:function(){return this._item2},enumerable:!0,configurable:!0}),t.prototype.setData=function(t,e){this._o=t,0==this._o.hasOwnProperty("api_get_material")?this._o.api_get_material=[0,0,0,0]:-1==this._o.api_get_material&&(this._o.api_get_material=[0,0,0,0]);var i=n.ObjUtil.getNumArray(this._o,"api_ship_id");i.length>0&&-1==i[0]&&(i=i.slice(1)),this._ship_mem_ids=i;var o=this._getItemFlags();this._item1=this._createItemModel(o[0],n.ObjUtil.getObject(this._o,"api_get_item1")),this._item2=this._createItemModel(o[1],n.ObjUtil.getObject(this._o,"api_get_item2"))},t.prototype._getItemFlags=function(){var t=n.ObjUtil.getNumArray(this._o,"api_useitem_flag");for(null==t&&(t=[]);t.length<2;)t.push(0);return t},t.prototype._createItemModel=function(t,e){if(null==e)return null;var i=n.ObjUtil.getNumber(e,"api_useitem_id"),o=n.ObjUtil.getNumber(e,"api_useitem_count"),s=n.ObjUtil.getString(e,"api_useitem_name");return o>0?new r(t,i,o,s):void 0},t}();e.ExpeditionResultModel=o;var r=function(){function t(t,e,i,n){this._mstID=0,this._name="",1==t?(this._mstID=1,this._name="\u9ad8\u901f\u4fee\u5fa9\u6750"):2==t?(this._mstID=2,this._name="\u9ad8\u901f\u5efa\u9020\u6750"):3==t?(this._mstID=3,this._name="\u958b\u767a\u8cc7\u6750"):5==t?(this._mstID=44,this._name="\u5bb6\u5177\u30b3\u30a4\u30f3"):4==t&&(this._mstID=e,this._name=n),this._count=i}return Object.defineProperty(t.prototype,"mstID",{get:function(){return this._mstID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),t}()},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(11),s=function(t){function e(e,i,n){void 0===n&&(n=!1);var o=t.call(this)||this;return o._url="api_req_mission/result",o._deck_id=e,o._result_model=i,o._debug=n,o}return n(e,t),e.prototype._connect=function(){this._post_data.api_deck_id=this._deck_id,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e=o.default.model.deck.get(this._deck_id),i=e.expedition.expedition_id;this._result_model.setData(this._raw_data,i),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.ExpeditionResultAPI=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(597),r=i(18),s=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.update=function(t){this.texture=this._getTexture(t),this.visible=this.texture!=PIXI.Texture.EMPTY},e.prototype.clear=function(){this.update(-1)},e.prototype._getTexture=function(t){if(-1===r.EVENT_AREA_ID)return PIXI.Texture.EMPTY;switch(t){case 1:return o.COMMON_EVENT.getTexture(0);case 2:return o.COMMON_EVENT.getTexture(1);case 3:return o.COMMON_EVENT.getTexture(2);default:return PIXI.Texture.EMPTY}},e}(PIXI.Sprite);e.BannerPlate=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("common_event_"+t)}t.getTexture=e}(e.COMMON_EVENT||(e.COMMON_EVENT={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.update=function(t){if(this.clear(),t<20){var e=new PIXI.Sprite(o.COMMON_MISC.getTexture(36)),i=new PIXI.Sprite(o.COMMON_MISC.getTexture(113));i.x=Math.floor(e.width-i.width/2-3),i.y=Math.floor(e.height/2-i.height/2),e.x=240-e.texture.width,e.addChild(i),this.addChild(e)}else if(t<30){var e=new PIXI.Sprite(o.COMMON_MISC.getTexture(35)),i=new PIXI.Sprite(o.COMMON_MISC.getTexture(112));i.x=Math.floor(e.width-i.width/2),i.y=Math.floor(e.height/2-i.height/2),e.x=240-e.texture.width,e.addChild(i),this.addChild(e)}},e.prototype.clear=function(){this.removeChildren()},e.prototype.dispose=function(){this.clear()},e}(PIXI.Container);e.BannerTired=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(21),r=function(t){function e(){var e=t.call(this)||this;return e.arrow=new PIXI.Sprite(o.COMMON_MAIN.getTexture(41)),e.lockIcon=new PIXI.Sprite(o.COMMON_MAIN.getTexture(40)),e.lockIcon.x=9,e.addChild(e.lockIcon),e.addChild(e.arrow),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.lockIcon=null,this.arrow=null},e}(PIXI.Container);e.BannerLockSlot=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(1),a=i(2),_=i(8),l=i(17),u=i(601),c=i(59),h=i(50),p=i(13),d=i(153),f=i(288),y=function(t){function e(e,i){var n=t.call(this)||this;return n._deck_id=e,n._expedition_result=i,n}return n(e,t),e.prototype._start=function(){this._showShutter()},e.prototype._showShutter=function(){this._shutter=new h.Shutter,this._shutter.initializeDark(),this._shutter.close(0),this._shutter.interactive=!0,r.default.view.overLayer.addChild(this._shutter),this._loadResources()},e.prototype._loadResources=function(){for(var t=this,e=new p.ShipLoader,i=this._expedition_result.ship_mem_ids,n=0;n<i.length;n++){var o=i[n],s=r.default.model.ship.get(o),a=s.mstID,_=s.isDamaged();0==n&&e.add(a,_,"full"),e.add(a,_,"banner")}e.load(function(){t._showWhiteLight()})},e.prototype._showWhiteLight=function(){var t=this;this._view=new u.ExpeditionResult,this._view.initialize(this._deck_id,this._expedition_result);var e=this._expedition_result;this._view.expedition_name.visible=!1,this._view.user_info.visible=!1,this._view.item.visible=!1;var i=e.item1;null!=i&&this._view.item.updateItem1(i.mstID,i.name,i.count),i=e.item2,null!=i&&this._view.item.updateItem2(i.mstID,i.name,i.count),this._view.item.updateMaterials(e.fuel,e.ammo,e.steel,e.baux),this._view.visible=!1,r.default.view.overLayer.addChild(this._view);var n=new l.FadeBox(1,16777215);n.hide(0),r.default.view.overLayer.addChild(n),n.show(200,function(){t._view.visible=!0,n.hide(200,function(){r.default.view.overLayer.removeChild(n),t._showUserInfo()})})},e.prototype._showUserInfo=function(){var t=this;this._view.expedition_name.text=this._expedition_result.expedition_name,this._view.expedition_name.visible=!0;var e=r.default.model.basic.nickName,i=this._expedition_result.user_level,n=r.default.model.basic.rankName,o=r.default.model.deck.get(this._deck_id).name;this._view.user_info.update(e,i,n,o),this._view.user_info.visible=!0;for(var s=this._expedition_result.ship_mem_ids,a=new createjs.Timeline([],null,{paused:!0}),_=this._view.banners,l=0;l<_.length;l++){var u=_[l];if(s.length<=l)u.visible=!1;else{var c=r.default.model.ship.get(s[l]);u.y=68*l+15,u.alpha=0,u.update(c,!1);var h=createjs.Tween.get(u).wait(200*l).to({y:u.y-15,alpha:1},200);a.addTween(h)}}for(var p=this._view.infos.items,l=0;l<p.length;l++){var d=p[l];if(s.length<=l)d.visible=!1;else{var c=r.default.model.ship.get(s[l]);d.y=68*l+8,d.alpha=0,d.initialize(),d.update(c.name,c.level)}}this._view.infos.visible=!0;for(var f,l=0;l<p.length;l++){var d=p[l];null!=d&&(f=createjs.Tween.get(d).wait(500+100*l).to({y:d.y-8,alpha:1},200),a.addTween(f))}null!=f&&f.call(function(){t._showTelopBG()}),a.setPaused(!1)},e.prototype._showTelopBG=function(){var t=this;this._telop_bg=new PIXI.Sprite(d.COMMON_EXPEDITION.getTexture(10)),this._telop_bg.anchor.set(.5,.5),this._telop_bg.position.set(o.default.width/2,o.default.height/2),this._telop_bg.scale.set(1,0),r.default.view.overLayer.addChild(this._telop_bg),createjs.Tween.get(this._telop_bg.scale).to({y:2},200).call(function(){t._showTelop()})},e.prototype._showTelop=function(){var t=this,e=o.default.height/2;this._telop_label=new PIXI.Sprite(d.COMMON_EXPEDITION.getTexture(2)),this._telop_label.anchor.set(.5,.5),this._telop_label.position.set(1338,e),2==this._expedition_result.result?(this._telop_result=new PIXI.Sprite(d.COMMON_EXPEDITION.getTexture(9)),this._telop_result.position.set(795,e)):1==this._expedition_result.result?(this._telop_result=new PIXI.Sprite(d.COMMON_EXPEDITION.getTexture(7)),this._telop_result.position.set(909,e)):(this._telop_result=new PIXI.Sprite(d.COMMON_EXPEDITION.getTexture(8)),this._telop_result.position.set(909,e)),this._telop_result.anchor.set(.5,.5),this._telop_result.scale.set(1.6,1.6),this._telop_result.alpha=0,r.default.view.overLayer.addChild(this._telop_label),r.default.view.overLayer.addChild(this._telop_result),createjs.Tween.get(this._telop_label).to({x:426},1e3).to({x:330},1e3),createjs.Tween.get(this._telop_result).wait(1500).to({alpha:1},800,createjs.Ease.bounceOut),createjs.Tween.get(this._telop_result.scale).wait(1500).to({x:1,y:1},800,createjs.Ease.bounceOut).call(function(){t._waitClick()})},e.prototype._waitClick=function(){var t=this;this._gear_btn=new c.GearBtnNext,this._gear_btn.position.set(1145,666),this._gear_btn.initialize(),this._click_area=new _.AreaBox(0),this._click_area.buttonMode=!0,r.default.view.overLayer.addChild(this._gear_btn),r.default.view.overLayer.addChild(this._click_area),this._gear_btn.activate(),this._click_area.once(s.EventType.CLICK,function(){t._hideTelop()})},e.prototype._hideTelop=function(){var t=this;createjs.Tween.get(this._telop_label).to({alpha:0},100),createjs.Tween.get(this._telop_result).to({alpha:0},100),createjs.Tween.get(this._telop_bg.scale).wait(100).to({y:0},50).call(function(){t._removeChild(t._telop_label),t._removeChild(t._telop_result),t._removeChild(t._telop_bg),t._showBonusAndItem()})},e.prototype._showBonusAndItem=function(){var t=this;this._view.bonus.alpha=0,this._view.bonus.visible=!0,createjs.Tween.get(this._view.bonus).to({alpha:1},100),this._view.item.alpha=0,this._view.item.visible=!0,createjs.Tween.get(this._view.item).wait(50).to({alpha:1},100).call(function(){t._waitClick2()});var e=this._expedition_result.ship_mem_ids[0],i=r.default.model.ship.get(e),n=r.default.resources.getShip(i.mstID,i.isDamaged(),"full"),o=new PIXI.Sprite(n),s=r.default.model.ship_graph.get(i.mstID).getCenterOffset(i.isDamaged());o.x=s.x/this._view.ship_canvas.scale.x,o.y=s.y/this._view.ship_canvas.scale.y,this._view.ship_canvas.addChild(o)},e.prototype._waitClick2=function(){var t=this;this._click_area.once(s.EventType.CLICK,function(){t._viewUpdate()})},e.prototype._viewUpdate=function(){var t=this;(new f.TaskExpeditionAlertUpdate).start(function(){r.default.view.portMain.updateInfo(),t._hide()})},e.prototype._hide=function(){var t=this;this._gear_btn.deactivate(),this._gear_btn.dispose(),this._removeChild(this._gear_btn),createjs.Tween.get(this._view).to({alpha:0},200),createjs.Tween.get(this._shutter).to({alpha:0},200).call(function(){t._removeChild(t._click_area),t._removeChild(t._view),t._view.dispose(),t._removeChild(t._shutter),t._endTask()})},e.prototype._removeChild=function(t){r.default.view.overLayer.removeChild(t)},e}(a.TaskBase);e.TaskExpeditionResultShow=y},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(4),s=i(32),a=i(10),_=i(153),l=function(t){function e(){return t.call(this)||this}return n(e,t),Object.defineProperty(e.prototype,"ship_canvas",{get:function(){return this._ship_canvas},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expedition_name",{get:function(){return this._expedition_name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"user_info",{get:function(){return this._user_info},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"banners",{get:function(){return this._banners},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"infos",{get:function(){return this._infos},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bonus",{get:function(){return this._bonus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e){for(this._ship_canvas=new PIXI.Container,this._ship_canvas.position.set(587,-12),this._ship_canvas.scale.set(.8),this._bg=new PIXI.Sprite(_.COMMON_EXPEDITION.getTexture(0)),this._expedition_name=new r.TextBox(24,1949120),this._expedition_name.anchor.set(.5,.5),this._expedition_name.position.set(600,66),this._user_info=new u,this._user_info.initialize(t,e),this._user_info.position.set(86,111),this._banner_canvas=new PIXI.Container,this._banner_canvas.position.set(305,279),this._banners=new Array;this._banners.length<6;){var i=new s.ShipBanner;this._banner_canvas.addChild(i),this._banners.push(i)}this._infos=new c,this._infos.position.set(251,294),this._infos.visible=!1,this._bonus=new p,this._bonus.initialize(),this._bonus.position.set(914,396),this._bonus.visible=!1,this._item=new d,this._item.initialize(),this._item.position.set(914,396),this._bonus.update(e.total_exp),this.addChild(this._ship_canvas),this.addChild(this._bg),this.addChild(this._expedition_name),this.addChild(this._user_info),this.addChild(this._banner_canvas),this.addChild(this._infos),this.addChild(this._bonus),this.addChild(this._item)},e.prototype.dispose=function(){this._ship_canvas=null,this._bg=null,this._expedition_name.destroy(),this._expedition_name=null,this._user_info.dispose(),this._user_info=null,this._banner_canvas=null;for(var t=0,e=this._banners;t<e.length;t++){e[t].dispose()}this._banners=null,this._infos.dispose(),this._infos=null,this._bonus.dispose(),this._bonus=null,this._item.dispose(),this._item=null,this.removeChildren()},e}(PIXI.Container);e.ExpeditionResult=l;var u=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.initialize=function(t,e){var i=new PIXI.Sprite(_.COMMON_EXPEDITION.getTexture(1)),n=new PIXI.Sprite(_.COMMON_EXPEDITION.getTexture(15)),o=new PIXI.Sprite(_.COMMON_EXPEDITION.getTexture(11));this._user_name=new r.TextBox(21,16774898),this._user_lv=new r.TextBox(22,16774898),this._user_rank=new r.TextBox(18,16774898),this._fleet_name=new r.TextBox(21,16774898),n.position.set(12,54),o.position.set(276,12),this._user_name.position.set(12,9),this._user_lv.position.set(303,9),this._user_rank.position.set(383,9),this._fleet_name.position.set(83,51),this.addChild(i),this.addChild(n),this.addChild(o),this.addChild(this._user_name),this.addChild(this._user_lv),this.addChild(this._user_rank),this.addChild(this._fleet_name)},e.prototype.update=function(t,e,i,n){this._user_name.text=t,this._user_lv.text=e.toString(),this._user_rank.text="["+i+"]",this._fleet_name.text=n},e.prototype.dispose=function(){this.removeChildren(),this._user_name.destroy(),this._user_lv.destroy(),this._user_rank.destroy(),this._fleet_name.destroy()},e}(PIXI.Container),c=function(t){function e(){var e=t.call(this)||this;for(e._items=new Array;e._items.length<6;){var i=new h;e.addChild(i),e._items.push(i)}return e}return n(e,t),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.removeChildren();for(var t=0,e=this._items;t<e.length;t++){e[t].dispose()}},e}(PIXI.Container),h=function(t){function e(){var e=t.call(this)||this;return e._name=new r.TextBox(18,16777215),e._name.position.set(-156,-9),e._name_mask=new PIXI.Graphics,e._name.addChild(e._name_mask),e._name.mask=e._name_mask,e._lv=new r.TextBox(17,16777215),e._lv.anchor.set(1,0),e._lv.position.set(43,-9),e}return n(e,t),e.prototype.initialize=function(){var t=new PIXI.Sprite(_.COMMON_EXPEDITION.getTexture(11));t.position.set(-27,-11),this.addChild(t),this.addChild(this._name),this.addChild(this._lv)},e.prototype.update=function(t,e){""==t?this.visible=!1:(this._name.text=t,this._name_mask.clear(),this._name_mask.beginFill(0),this._name_mask.drawRect(0,0,126,this._name.height),this._name_mask.endFill(),this._lv.text=e.toString())},e.prototype.dispose=function(){this.removeChildren(),this._name.destroy(),this._lv.destroy()},e}(PIXI.Container),p=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.initialize=function(){var t=new PIXI.Sprite(_.COMMON_EXPEDITION.getTexture(1)),e=new PIXI.Sprite(_.COMMON_EXPEDITION.getTexture(6)),i=new PIXI.Sprite(_.COMMON_EXPEDITION.getTexture(12)),n=new PIXI.Sprite(_.COMMON_EXPEDITION.getTexture(13));this._total_exp=new r.TextBox(26,16774898),this._total_exp.anchor.set(1,0),t.position.set(-324,-282),t.scale.set(1,2.25),e.position.set(-309,18),i.position.set(-303,-270),n.position.set(155,30),this._total_exp.position.set(147,24),this.addChild(t),this.addChild(e),this.addChild(i),this.addChild(n),this.addChild(this._total_exp)},e.prototype.update=function(t){this._total_exp.text=t.toString()},e.prototype.dispose=function(){this.removeChildren(),this._total_exp.destroy()},e}(PIXI.Container),d=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.initialize=function(){var t=new PIXI.Sprite(_.COMMON_EXPEDITION.getTexture(1)),e=new PIXI.Sprite(_.COMMON_EXPEDITION.getTexture(14)),i=new PIXI.Sprite(a.COMMON_MISC.getTexture(86)),n=new PIXI.Sprite(a.COMMON_MISC.getTexture(87)),o=new PIXI.Sprite(a.COMMON_MISC.getTexture(88)),s=new PIXI.Sprite(a.COMMON_MISC.getTexture(89)),l=new PIXI.Sprite(_.COMMON_EXPEDITION.getTexture(16)),u=new PIXI.Sprite(_.COMMON_EXPEDITION.getTexture(16)),c=new PIXI.Sprite(_.COMMON_EXPEDITION.getTexture(16)),h=new PIXI.Sprite(_.COMMON_EXPEDITION.getTexture(16));this._item1_name=new r.TextBox(21,16774898),this._item1_img=new PIXI.Sprite,this._item1_count=new r.TextBox(19,16774898),this._item2_name=new r.TextBox(21,16774898),this._item2_img=new PIXI.Sprite,this._item2_count=new r.TextBox(19,16774898),this._fuel=new r.TextBox(18,16774898),this._ammo=new r.TextBox(18,16774898),this._steel=new r.TextBox(18,16774898),this._baux=new r.TextBox(18,16774898),t.position.set(-324,105),t.scale.set(1,1.2),e.position.set(-303,117),s.position.set(69,153),o.position.set(69,186),n.position.set(69,219),i.position.set(69,252),h.position.set(102,159),c.position.set(102,192),u.position.set(102,225),l.position.set(102,258),this._item1_name.position.set(-299,156),this._item1_img.position.set(-299,195),this._item1_count.position.set(-215,234),this._item2_name.position.set(-114,156),this._item2_img.position.set(-114,195),this._item2_count.position.set(-30,234),this._baux.position.set(123,155),this._steel.position.set(123,188),this._ammo.position.set(123,221),this._fuel.position.set(123,254),this.addChild(t),this.addChild(e),this.addChild(i),this.addChild(n),this.addChild(o),this.addChild(s),this.addChild(l),this.addChild(u),this.addChild(c),this.addChild(h),this.addChild(this._item1_name),this.addChild(this._item1_img),this.addChild(this._item1_count),this.addChild(this._item2_name),this.addChild(this._item2_img),this.addChild(this._item2_count),this.addChild(this._fuel),this.addChild(this._ammo),this.addChild(this._steel),this.addChild(this._baux)},e.prototype.updateItem1=function(t,e,i){this._item1_name.text=e,this._item1_img.texture=o.default.resources.getUseitem(t,0),this._item1_count.text="\xd7"+i.toString()},e.prototype.updateItem2=function(t,e,i){this._item2_name.text=e,this._item2_img.texture=o.default.resources.getUseitem(t,0),this._item2_count.text="\xd7"+i.toString()},e.prototype.updateMaterials=function(t,e,i,n){this._fuel.text=t.toString(),this._ammo.text=e.toString(),this._steel.text=i.toString(),this._baux.text=n.toString()},e.prototype.dispose=function(){this.removeChildren(),this._item1_name.destroy(),this._item1_count.destroy(),this._item2_name.destroy(),this._item2_count.destroy(),this._fuel.destroy(),this._ammo.destroy(),this._steel.destroy(),this._baux.destroy()},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(4),s=i(156),a=i(1),_=function(t){function e(){var e=t.call(this)||this;e._BASE_Y=480,e._MOVE_Y=225,e._items=null,e._opened=!1,e._tween=null,e._onClick=function(){1==e._opened?e.close():e.open()},e._onAnimationComplete=function(){e._tween=null,e._opened=!e._opened,e._btn.update(e._opened),e._btn.activate(e._onClick)},e._bg=new PIXI.Sprite,e._bg.y=-32,e.addChild(e._bg),e._btn=new l,e._btn.position.set(3,-27),e.addChild(e._btn),e._items=[];for(var i=0;i<5;i++){var n=new u;n.position.set(54,51+36*i),e.addChild(n),e._items.push(n)}return e}return n(e,t),e.prototype.initialize=function(){this.position.set(534,this._BASE_Y+this._MOVE_Y),this._bg.texture=s.PORT_MAIN.getTexture(4),this._btn.update(!1),this._btn.activate(this._onClick)},e.prototype.dispose=function(){this.removeChildren();for(var t=0,e=this._items;t<e.length;t++){e[t].dispose()}this._btn.dispose(),null!=this._tween&&(this._tween.setPaused(!0),this._tween=null)},e.prototype.open=function(t){if(void 0===t&&(t=200),null!=this._tween){if(0==this._opened)return;this._tween.setPaused(!0),this._tween=null}else if(1==this._opened)return;this._btn.deactivate(),this._initData(),this._animation(this._BASE_Y,t)},e.prototype.close=function(t){if(void 0===t&&(t=200),null!=this._tween){if(1==this._opened)return;this._tween.setPaused(!0),this._tween=null}else if(0==this._opened)return;this._btn.deactivate(),this._initData(),this._animation(this._BASE_Y+this._MOVE_Y,t)},e.prototype._initData=function(){for(var t=o.default.model.log.list,e=0;e<5;e++){var i=this._items[e];if(t.length<=e)i.visible=!1;else{var n=t[e];i.update(n.type,n.message)}}},e.prototype._animation=function(t,e){e<=0?(this.y=t,this._onAnimationComplete()):this._tween=createjs.Tween.get(this).to({y:t},e).call(this._onAnimationComplete)},e}(PIXI.Container);e.LogBox=_;var l=function(t){function e(){var e=t.call(this)||this;return e._onClick=function(){null!=e._cb_onClick&&e._cb_onClick()},e.beginFill(16711680,0),e.drawRect(0,0,131,27),e.endFill(),e._tag=new PIXI.Sprite,e._tag.position.set(20,2),e.addChild(e._tag),e}return n(e,t),e.prototype.update=function(t){this._tag.texture=1==t?s.PORT_MAIN.getTexture(2):s.PORT_MAIN.getTexture(3)},e.prototype.activate=function(t){this._cb_onClick=t,1!=this.buttonMode&&(this.interactive=!0,this.buttonMode=!0,this.on(a.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.interactive=!1,this.buttonMode=!1,this.off(a.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this._cb_onClick=null,this.deactivate()},e}(PIXI.Graphics),u=function(t){function e(){var e=t.call(this)||this;return e._type=new PIXI.Sprite,e._type.position.set(-23,-12),e.addChild(e._type),e._text=new r.TextBox(17,1949120),e._text.position.set(33,-12),e.addChild(e._text),e}return n(e,t),e.prototype.update=function(t,e){var i=[-1,16,8,11,12,9,14,17,10,7,13,6,5,-1,17,15],n=i[t];this._type.texture=n<0?PIXI.Texture.EMPTY:s.PORT_MAIN.getTexture(n),this._text.text=e},e.prototype.dispose=function(){this.removeChildren(),this._type=null,this._text&&this._text.destroy(),this._text=null},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),s=i(14),a=i(17),_=i(6),l=i(604),u=i(605),c=function(t){function e(){var e=t.call(this)||this;return e._opened=!1,e._close_complete=function(){e._bg.hide(600,function(){e._bg.visible=!1,e._optionLayer.visible=!1,e._opened=!1}),createjs.Tween.get(e._optionLayer).wait(100).to({x:1164,y:642},200),createjs.Tween.get(e._optionLayer).wait(200).to({alpha:0},100)},e.changeTab=function(t){if(e._nowTab!=t)switch(e._nowTab=t,e._nowTab){case 0:e._sound.visible=!0,e._interface.visible=!1,e._tabIcon.position.set(77,16),e._tabSound.texture=l.PORT_OPTION.getTexture(15),e._tabSound.position.set(36,0),e._txtSound.position.set(98,19),e._tabInterface.texture=l.PORT_OPTION.getTexture(13),e._tabInterface.position.set(209,12),e._txtInterface.position.set(241,24);break;case 1:e._sound.visible=!1,e._interface.visible=!0,e._tabIcon.position.set(223,16),e._interface.setSkinID(o.default.model.basic.getUISkinID()),e._tabSound.texture=l.PORT_OPTION.getTexture(13),e._tabSound.position.set(36,12),e._txtSound.position.set(94,24),e._tabInterface.texture=l.PORT_OPTION.getTexture(15),e._tabInterface.position.set(209,0),e._txtInterface.position.set(245,19)}},e._onClick=function(){0==e._bg.isNowAnimation()&&(1==e._opened?e._close():0==e._opened&&e._open())},e._nowTab=0,e._optionLayer=new PIXI.Container,e._optionLayer.position.set(1164,642),e._optionLayer.visible=!1,e._optionBg=new PIXI.Sprite,e._tabSide=new PIXI.Sprite,e._tabIcon=new PIXI.Sprite,e._tabSound=new PIXI.Sprite,e._txtSound=new PIXI.Sprite,e._tabInterface=new PIXI.Sprite,e._txtInterface=new PIXI.Sprite,e._tabSound.interactive=e._tabSound.buttonMode=!0,e._tabInterface.interactive=e._tabInterface.buttonMode=!0,e._tabSound.on(r.EventType.CLICK,function(){e.changeTab(0)}),e._tabInterface.on(r.EventType.CLICK,function(){e.changeTab(1)}),e._bg=new a.FadeBox(.5),e._bg.hide(),e._bg.visible=!1,e._btn=new PIXI.Sprite,e._btn.position.set(1131,645),e._sound=new h,e._sound.visible=!0,e._interface=new p,e._interface.visible=!1,e._optionLayer.addChild(e._optionBg),e._optionLayer.addChild(e._tabSide,e._tabSound,e._tabInterface,e._txtSound,e._txtInterface,e._tabIcon),e._optionLayer.addChild(e._sound,e._interface),e.addChild(e._bg,e._optionLayer,e._btn),e}return n(e,t),e.prototype.initialize=function(){this._sound.initialize(),this._interface.initialize(),this._btn.texture=l.PORT_OPTION.getTexture(3),this._optionBg.texture=l.PORT_OPTION.getTexture(12),this._tabSide.texture=l.PORT_OPTION.getTexture(14),this._tabIcon.texture=l.PORT_OPTION.getTexture(2),this._tabSound.texture=l.PORT_OPTION.getTexture(15),this._tabInterface.texture=l.PORT_OPTION.getTexture(13),this._txtSound.texture=l.PORT_OPTION.getTexture(28),this._txtInterface.texture=l.PORT_OPTION.getTexture(27),this._tabSide.position.set(2,12),this._tabIcon.position.set(77,16),this._optionBg.position.set(2,55),this._tabSound.position.set(36,0),this._txtSound.position.set(98,19),this._tabInterface.position.set(209,12),this._txtInterface.position.set(241,24),this._btn.interactive=this._btn.buttonMode=!0,this._btn.on(r.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this._btn.interactive=this._btn.buttonMode=!1,this._btn.off(r.EventType.CLICK,this._onClick)},e.prototype._open=function(){var t=this;this._start_bgm_volume=o.default.option.vol_bgm,this._sound.setState(this._start_bgm_volume),this.changeTab(0),this._base_skinID=o.default.model.basic.getUISkinID(),this._bg.visible=!0,this._bg.show(600,function(){t._opened=!0}),this._optionLayer.alpha=0,this._optionLayer.visible=!0,createjs.Tween.get(this._optionLayer).wait(100).to({x:782,y:202},200),createjs.Tween.get(this._optionLayer).wait(200).to({alpha:1},100).call(function(){o.default.view.portMain.closeLogBox()})},e.prototype._close=function(){this._close_pre()},e.prototype._close_pre=function(){var t=this,e=this._sound.slider_bgm.value;o.default.option.vol_bgm=e,o.default.option.vol_se=this._sound.slider_se.value,o.default.option.vol_voice=this._sound.slider_voice.value,o.default.option.voice_be_left=this._sound.toggle1.value,o.default.option.voice_duty=this._sound.toggle2.value,o.default.option.save(),0==this._start_bgm_volume&&e>0?o.default.sound.bgm.play(o.default.sound.bgm.bgm_id):this._start_bgm_volume>0&&0==e&&o.default.sound.bgm.stop();var i=o.default.model.basic.getUISkinID();if(this._base_skinID!=i){new u.SetSkinAPI(i).start(function(){t._close_complete()})}else this._close_complete()},e}(PIXI.Container);e.Option=c;var h=function(t){function e(){var e=t.call(this)||this;return e._text=new PIXI.Sprite,e._txtBgm=new PIXI.Sprite,e._txtSe=new PIXI.Sprite,e._txtVoice=new PIXI.Sprite,e._txtToggle1=new PIXI.Sprite,e._txtToggle2=new PIXI.Sprite,e._slider_bgm=new f,e._slider_bgm.position.set(79,164),e._slider_se=new d,e._slider_se.position.set(79,257),e._slider_voice=new d,e._slider_voice.position.set(79,351),e._toggle1=new y,e._toggle1.position.set(90,398),e._toggle2=new y,e._toggle2.position.set(255,398),e.addChild(e._text),e.addChild(e._txtBgm),e.addChild(e._txtSe),e.addChild(e._txtVoice),e.addChild(e._txtToggle1),e.addChild(e._txtToggle2),e.addChild(e._slider_bgm),e.addChild(e._slider_se),e.addChild(e._slider_voice),e.addChild(e._toggle1),e.addChild(e._toggle2),e}return n(e,t),Object.defineProperty(e.prototype,"slider_bgm",{get:function(){return this._slider_bgm},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slider_se",{get:function(){return this._slider_se},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slider_voice",{get:function(){return this._slider_voice},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"toggle1",{get:function(){return this._toggle1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"toggle2",{get:function(){return this._toggle2},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._text.texture=l.PORT_OPTION.getTexture(16),this._txtBgm.texture=l.PORT_OPTION.getTexture(19),this._txtSe.texture=l.PORT_OPTION.getTexture(21),this._txtVoice.texture=l.PORT_OPTION.getTexture(24),this._txtToggle1.texture=l.PORT_OPTION.getTexture(25),this._txtToggle2.texture=l.PORT_OPTION.getTexture(26),this._text.position.set(142,72),this._txtBgm.position.set(80,124),this._txtSe.position.set(80,217),this._txtVoice.position.set(80,311),this._txtToggle1.position.set(38,398),this._txtToggle2.position.set(198,398),this._slider_bgm.initialize(),this._slider_se.initialize(),this._slider_voice.initialize(),this._toggle1.initialize(),this._toggle2.initialize()},e.prototype.dispose=function(){this._slider_bgm.dispose(),this._slider_se.dispose(),this._slider_voice.dispose(),this._toggle1.dispose(),this._toggle2.dispose()},e.prototype.setState=function(t){this._slider_bgm.value=t,null==this._slider_bgm.temp_value&&(this._slider_bgm.temp_value=t),this._slider_se.value=o.default.option.vol_se,null==this._slider_se.temp_value&&(this._slider_se.temp_value=o.default.option.vol_se),this._slider_voice.value=o.default.option.vol_voice,null==this._slider_voice.temp_value&&(this._slider_voice.temp_value=o.default.option.vol_voice),this._toggle1.value=o.default.option.voice_be_left,this._toggle2.value=o.default.option.voice_duty},e}(PIXI.Container),p=function(t){function e(){var e=t.call(this)||this;e.setSkinID=function(t){e._skinID=t,e._selector.x=51,e._selector.y=e._getY(t)},e._onChangeSkin=function(){if(o.default.model.basic.getUISkinID()!=e._skinID){_.SE.play("204"),o.default.view.loading.show();var t=new s.UIImageLoader("port");101==e._skinID||102==e._skinID?t.add("port_skin_1.json"):201==e._skinID?(t.add("port_skin_2.json"),t.add("port_skin_circle_2.json")):301==e._skinID?(t.add("port_skin_3.json"),t.add("port_skin_circle_2.json")):311==e._skinID&&t.add("port_skin_3k.json"),t.load(function(){o.default.model.basic.setUISkinID(e._skinID),o.default.view.portMain.changeSkin(e._skinID),o.default.view.loading.hide()})}},e._selector_bg=new PIXI.Sprite,e._selector_bg.position.set(48,92),e._selector=new PIXI.Sprite,e._selector.position.set(0),e.btn=new PIXI.Sprite,e.btn.position.set(27,417),e.btn.interactive=e.btn.buttonMode=!0,e.btn.on(r.EventType.MOUSEOVER,function(){e.btn.texture=l.PORT_OPTION.getTexture(1)}),e.btn.on(r.EventType.MOUSEOUT,function(){e.btn.texture=l.PORT_OPTION.getTexture(0)}),e.btn.on(r.EventType.CLICK,function(){e._onChangeSkin()}),e.type1=new PIXI.Sprite,e.type2=new PIXI.Sprite,e.type3=new PIXI.Sprite,e.type4=new PIXI.Sprite,e.type5=new PIXI.Sprite,e.type1.position.set(98,92),e.type2.position.set(98,140),e.type3.position.set(98,188),e.type4.position.set(98,234),e.type5.position.set(98,280);for(var i=[101,102,201,301,311],n=[],a=this,u=0;u<i.length;u++)!function(t){var o=new PIXI.Graphics;o.beginFill(16777215,0),o.drawRect(0,0,28,28),o.endFill(),o.position.x=51,o.position.y=a._getY(i[t]),o.interactive=o.buttonMode=!0,o.on(r.EventType.CLICK,function(){_.SE.play("246"),e.setSkinID(i[t])}),n.push(o)}(u);return e.addChild(e._selector_bg,e._selector,e.btn,e.type1,e.type2,e.type3,e.type4,e.type5),n.forEach(function(t){e.addChild(t)}),e}return n(e,t),e.prototype.initialize=function(){this._selector_bg.texture=l.PORT_OPTION.getTexture(8),this._selector.texture=l.PORT_OPTION.getTexture(7),this.btn.texture=l.PORT_OPTION.getTexture(0),this.type1.texture=l.PORT_OPTION.getTexture(17),this.type2.texture=l.PORT_OPTION.getTexture(18),this.type3.texture=l.PORT_OPTION.getTexture(20),this.type4.texture=l.PORT_OPTION.getTexture(22),this.type5.texture=l.PORT_OPTION.getTexture(23)},e.prototype._getY=function(t){switch(t){case 101:return 93;case 102:return 140;case 201:return 188;case 301:return 234;case 311:return 281}return 0},e}(PIXI.Container),d=function(t){function e(){var e=t.call(this)||this;return e._MIN_XPOS=9,e._MAX_XPOS=252,e._dragging=!1,e._value=0,e._onBarClick=function(t){var i=t.data,n=i.getLocalPosition(e);e.value=(n.x-e._MIN_XPOS)/e._dragging_range*100,e.value>0&&(e.temp_value=e.value)},e._onMouseDown=function(){1!=e._dragging&&(e.value>0&&(e.temp_value=e.value),e._dragging=!0)},e._onMouseMove=function(t){if(1==e._dragging){var i=t.data,n=i.getLocalPosition(e);e.value=(n.x-e._MIN_XPOS)/e._dragging_range*100}},e._onMouseUp=function(){e._dragging=!1,e.value>0&&(e.temp_value=e.value)},e._onClick=function(){e.value=e.value>0?0:e.temp_value},e._bg=new PIXI.Sprite,e._maskGra=new PIXI.Graphics,e._maskGra.beginFill(0),e._maskGra.drawRect(0,0,258,12),e._maskGra.endFill(),e._maskGra.position.set(0,0),e._bar=new PIXI.Sprite,e._bar.position.set(3,2),e._bar.mask=e._maskGra,e._volume_container=new PIXI.Container,e._vol=new PIXI.Sprite,e._vol.position.set(-41,-6),e._vol_mute=new PIXI.Sprite,e._vol_mute.position.set(-39,-9),e._thumb=new PIXI.Sprite,e._thumb.anchor.set(.5,.5),e._volume_container.addChild(e._vol),e._volume_container.addChild(e._vol_mute),e.addChild(e._bg),e.addChild(e._bar),e.addChild(e._maskGra),e.addChild(e._volume_container),e.addChild(e._thumb),e}return n(e,t),Object.defineProperty(e.prototype,"_dragging_range",{get:function(){return this._MAX_XPOS-this._MIN_XPOS},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._updateValue(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"temp_value",{get:function(){return this._temp_value},set:function(t){this._temp_value=t},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._bg.texture=l.PORT_OPTION.getTexture(29),this._bar.texture=l.PORT_OPTION.getTexture(30),this._vol.texture=l.PORT_OPTION.getTexture(5),this._vol_mute.texture=l.PORT_OPTION.getTexture(6),this._thumb.texture=l.PORT_OPTION.getTexture(9),this._bg.interactive=this._bg.buttonMode=!0,this._bg.on(r.EventType.CLICK,this._onBarClick),this._thumb.interactive=this._thumb.buttonMode=!0,this._thumb.on(r.EventType.MOUSEDOWN,this._onMouseDown),this._thumb.on(r.EventType.MOUSEMOVE,this._onMouseMove),this._thumb.on(r.EventType.MOUSEUP,this._onMouseUp),this._thumb.on("pointerupoutside",this._onMouseUp),this._volume_container.interactive=this._volume_container.buttonMode=!0,this._volume_container.on(r.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this._bg.interactive=this._bg.buttonMode=!1,this._bg.off(r.EventType.CLICK,this._onBarClick),this._thumb.interactive=this._thumb.buttonMode=!1,this._thumb.off(r.EventType.MOUSEDOWN,this._onMouseDown),this._thumb.off(r.EventType.MOUSEMOVE,this._onMouseMove),this._thumb.off(r.EventType.MOUSEUP,this._onMouseUp),this._thumb.off("pointerupoutside",this._onMouseUp),this._volume_container.interactive=this._volume_container.buttonMode=!1,this._volume_container.off(r.EventType.CLICK,this._onClick)},e.prototype._updateValue=function(t){t=Math.max(0,t),t=Math.min(100,t),this._value=t,this._maskGra.scale.set(t/100,1),this._updateVolIcon(),this._updateThumbPos()},e.prototype._updateVolIcon=function(){this._vol_mute.visible=this.value<=0},e.prototype._updateThumbPos=function(){var t=this.value/100;this._thumb.position.set(this._MIN_XPOS+this._dragging_range*t,8)},e}(PIXI.Container),f=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype._updateValue=function(e){t.prototype._updateValue.call(this,e),o.default.sound.bgm.changeVolume(this.value)},e}(d),y=function(t){function e(){var e=t.call(this)||this;return e._OFF_XPOS=74,e._ON_XPOS=18,e._value=!1,e._onClick=function(){if(null==e._t){e._value=!e.value;var t=e.value?e._ON_XPOS:e._OFF_XPOS;e._t=createjs.Tween.get(e._thumb).to({x:t},200).call(function(){e._t=null,e._updateBG()})}},e._bg=new PIXI.Sprite,e._thumb=new PIXI.Sprite,e._thumb.anchor.set(.5,.5),e._thumb.y=19,e.addChild(e._bg),e.addChild(e._thumb),e}return n(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this._updateBG()},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._thumb.texture=l.PORT_OPTION.getTexture(9),this._updateBG(),this.interactive=this.buttonMode=!0,this.on(r.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.interactive=this.buttonMode=!1,this.off(r.EventType.CLICK,this._onClick)},e.prototype._updateBG=function(){1==this.value?this._bg.texture=l.PORT_OPTION.getTexture(11):this._bg.texture=l.PORT_OPTION.getTexture(10),this._thumb.x=this.value?this._ON_XPOS:this._OFF_XPOS},e}(PIXI.Container)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("port_option_"+t)}t.getTexture=e}(e.PORT_OPTION||(e.PORT_OPTION={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=function(t){function e(e){var i=t.call(this)||this;return i._url="api_req_member/set_skin",i._skinID=e,i}return n(e,t),e.prototype._connect=function(){this._post_data.api_skin_id=this._skinID,t.prototype._connect.call(this)},e}(o.APIBase);e.SetSkinAPI=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(6),s=i(607),a=i(1),_=function(t){function e(){var e=t.call(this)||this;return e._current=null,e._onClickCrane=function(){if(31!=e._current){var t=o.default.model.deck.get(1).getShipModel(0).mstID;182!=t&&187!=t||e._callbackBtnClick(31)}},e._callbackBtnClick=function(t){o.default.scene.change(t)&&(e._btn_port.buttonMode=!1,e._btn_organize.buttonMode=!1,e._btn_supply.buttonMode=!1,e._btn_remodel.buttonMode=!1,e._btn_repair.buttonMode=!1,e._btn_arsenal.buttonMode=!1,0==t?r.SE.play("245"):r.SE.play("246"))},e._btn_port=new l(0,7,8),e._btn_port.position.set(75,329),e._btn_organize=new l(11,5,6),e._btn_organize.y=194,e._btn_supply=new l(12,13,14),e._btn_supply.y=275,e._btn_remodel=new l(13,9,10),e._btn_remodel.y=356,e._btn_repair=new l(14,11,12),e._btn_repair.y=439,e._btn_arsenal=new l(15,3,4),e._btn_arsenal.y=517,e._hook=new PIXI.Sprite,e._crane=new u,e._crane.y=591,e}return n(e,t),Object.defineProperty(e.prototype,"crane",{get:function(){return this._crane},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){var t=new PIXI.Sprite(s.PORT_SIDEMENU.getTexture(0));t.y=183;var e=new PIXI.Sprite(s.PORT_SIDEMENU.getTexture(1));e.y=209;var i=new PIXI.Sprite(s.PORT_SIDEMENU.getTexture(2));i.position.set(75,209),this._btn_port.initialize(this._callbackBtnClick),this._btn_organize.initialize(this._callbackBtnClick),this._btn_supply.initialize(this._callbackBtnClick),this._btn_remodel.initialize(this._callbackBtnClick),this._btn_repair.initialize(this._callbackBtnClick),this._btn_arsenal.initialize(this._callbackBtnClick),this._hook.texture=s.PORT_SIDEMENU.getTexture(26),this._hook.anchor.set(1,.5),this._hook.position.set(90,this._btn_port.y+this._btn_port.height/2),this._crane.initialize(),this.addChild(this._crane),this.addChild(t),this.addChild(e),this.addChild(this._hook),this.addChild(i),this.addChild(this._btn_organize),this.addChild(this._btn_supply),this.addChild(this._btn_remodel),this.addChild(this._btn_repair),this.addChild(this._btn_arsenal),this.addChild(this._btn_port),this._crane.interactive=this._crane.buttonMode=!0,this._crane.on(a.EventType.CLICK,this._onClickCrane)},e.prototype.dispose=function(){this._btn_port.dispose(),this._btn_organize.dispose(),this._btn_supply.dispose(),this._btn_remodel.dispose(),this._btn_repair.dispose(),this._btn_arsenal.dispose(),this._crane.dispose(),this._crane.off(a.EventType.CLICK,this._onClickCrane)},e.prototype.startAnimation=function(t){var e=this;if(this._deactiveBtn(this._current),this._btn_port.deactivate(),11==t||12==t||13==t||14==t||15==t){this.visible=!0;var i=this._getButton(t);null==this._current?(this._hook.position.set(84,i.y+i.height/2),i.activate(),this._updateBtnState(t),this._current=t):(this._current=t,createjs.Tween.get(this._hook).to({x:90},200).to({y:i.y+i.height/2},200).to({x:78},200).to({x:84},100).call(function(){i.activate(),e._updateBtnState(t)}))}else{if(16!=t&&31!=t)return this._current=null,void(this.visible=!1);this.visible=!0,null==this._current?(this._hook.position.set(90,this._btn_port.y+this._btn_port.height/2),this._updateBtnState(t),this._current=t,31==t&&this._crane.startAnimation()):(this._current=t,31==t&&this._crane.startAnimation(),createjs.Tween.get(this._hook).to({x:90},200).to({y:this._btn_port.y+this._btn_port.height/2},200).call(function(){e._updateBtnState(t)}))}},e.prototype._updateBtnState=function(t){this._btn_port.buttonMode=!0,this._btn_organize.buttonMode=11!=t,this._btn_supply.buttonMode=12!=t,this._btn_remodel.buttonMode=13!=t,this._btn_repair.buttonMode=14!=t,this._btn_arsenal.buttonMode=15!=t},e.prototype._deactiveBtn=function(t){if(null!=t){var e=this._getButton(t);null!=e&&e.deactivate()}},e.prototype._getButton=function(t){return 11==t?this._btn_organize:12==t?this._btn_supply:13==t?this._btn_remodel:14==t?this._btn_repair:15==t?this._btn_arsenal:null},e}(PIXI.Container);e.SideMenu=_;var l=function(t){function e(e,i,n){var o=t.call(this)||this;return o._onMouseOn=function(){1==o.buttonMode&&(o.texture=s.PORT_SIDEMENU.getTexture(o._texture_no_on))},o._onMouseOut=function(){1==o.buttonMode&&(o.texture=s.PORT_SIDEMENU.getTexture(o._texture_no))},o._onClick=function(){1==o.buttonMode&&o._click_cb(o._type)},o._type=e,o._texture_no=i,o._texture_no_on=n,o}return n(e,t),e.prototype.initialize=function(t){this._click_cb=t,this.texture=s.PORT_SIDEMENU.getTexture(this._texture_no),this.interactive=!0,this.buttonMode=!0,this.on(a.EventType.MOUSEOVER,this._onMouseOn),this.on(a.EventType.MOUSEOUT,this._onMouseOut),this.on(a.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this._click_cb=null,this.interactive=!1,this.buttonMode=!1,this.off(a.EventType.MOUSEOVER,this._onMouseOn),this.off(a.EventType.MOUSEOUT,this._onMouseOut),this.off(a.EventType.CLICK,this._onClick)},e.prototype.activate=function(){0!=this._type&&(this.x=8),this.texture=s.PORT_SIDEMENU.getTexture(this._texture_no_on)},e.prototype.deactivate=function(){0!=this._type&&(this.x=0),this.texture=s.PORT_SIDEMENU.getTexture(this._texture_no)},e}(PIXI.Sprite),u=function(t){function e(){var e=t.call(this)||this;return e._tween=null,e._setTexture=function(t){e._crane.texture=s.PORT_SIDEMENU.getTexture(t)},e}return n(e,t),e.prototype.initialize=function(){var t=new PIXI.Sprite(s.PORT_SIDEMENU.getTexture(25));this.addChild(t),this._crane=new PIXI.Sprite(s.PORT_SIDEMENU.getTexture(15)),this.addChild(this._crane)},e.prototype.dispose=function(){null!=this._tween&&(this._tween.setPaused(!0),this._tween=null)},e.prototype.startAnimation=function(){var t=this;null==this._tween&&(this._tween=createjs.Tween.get(this).wait(800).call(this._setTexture,[16]).wait(100).call(this._setTexture,[17]).wait(100).call(this._setTexture,[18]).wait(100).call(this._setTexture,[19]).wait(1500).call(this._setTexture,[20]).wait(100).call(this._setTexture,[21]).wait(100).call(this._setTexture,[22]).wait(100).call(this._setTexture,[23]).wait(100).call(this._setTexture,[24]).wait(1e3).call(this._setTexture,[23]).wait(100).call(this._setTexture,[22]).wait(100).call(this._setTexture,[21]).wait(100).call(this._setTexture,[20]).wait(100).call(this._setTexture,[19]).wait(500).call(this._setTexture,[18]).wait(100).call(this._setTexture,[17]).wait(100).call(this._setTexture,[16]).wait(100).call(this._setTexture,[15]).wait(500).call(function(){t._tween=null}))},e}(PIXI.Container)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("port_sidemenu_"+t)}t.getTexture=e}(e.PORT_SIDEMENU||(e.PORT_SIDEMENU={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(14),s=i(10),a=i(609),_=function(t){function e(e){void 0===e&&(e=null);var i=t.call(this)||this;return i._closeCb=e,i._container=null,i._base=null,i._chara=null,i._arrow=null,i._back=null,i}return n(e,t),e.prototype.initialize=function(t){var e=this;new r.UIImageLoader("port").add("port_tutorial.json").load(function(){e._container=new PIXI.Container,e._container.interactive=!0,e._container.buttonMode=!0,e._container.on(o.EventType.CLICK,e.fadeOut.bind(e,!1)),e._base=new PIXI.Sprite,e._container.addChild(e._base),e._chara=new PIXI.Container;var i=new PIXI.Sprite(a.PORT_TUTORIAL.getTexture(1));i.name="chara1";var n=new PIXI.Sprite(a.PORT_TUTORIAL.getTexture(2));n.name="chara2",n.visible=!1,e._chara.addChild(i,n),e._container.addChild(e._chara),e._arrow=new PIXI.Sprite(a.PORT_TUTORIAL.getTexture(0)),e._container.addChild(e._arrow),e._back=new PIXI.Sprite(s.COMMON_MISC.getTexture(22)),e._back.anchor.set(.5,0),e._back.visible=!1,e._back.interactive=!0,e._back.buttonMode=!0,e._back.on(o.EventType.CLICK,e.fadeOut.bind(e,!0)),e.addChild(e._container,e._back),e.update(t),e.activate()})},e.prototype.update=function(t){return this.alpha=1,t<10?this._tutorial1():t<20?this._tutorial2():t<30?this._tutorial3():t<40?this._tutorial4():t<50?this._tutorial5():this._tutorial6()},e.prototype.fadeOut=function(t){var e=this;void 0===t&&(t=!1),createjs.Tween.get(this).to({alpha:0},300).call(function(){e.visible=!1,t&&null!==e._closeCb&&e._closeCb()})},e.prototype.activate=function(){var t=this;if(null!==this._chara&&(this.deactivate(),this._tweenChara=createjs.Tween.get({},{loop:!0}).wait(500).call(function(){for(var e=0,i=t._chara.children.length;e<i;e++){var n=t._chara.children[e],o=n.visible;n.visible=!o}}),this._arrow.visible)){this._tweenArrow=createjs.Tween.get(this._arrow,{loop:!0,paused:!0});var e=[];switch(this._arrowAnimationAlign){case"up":var i=this._arrow.y;e=[{y:i-18},{y:i}];break;case"left":default:var n=this._arrow.x;e=[{x:n-18},{x:n}]}this._tweenArrow.wait(300).set(e[0]).wait(300).set(e[1]).setPaused(!1)}},e.prototype.deactivate=function(){this._tweenArrow&&(this._tweenArrow.setPaused(!0),createjs.Tween.removeTweens(this._tweenArrow),this._tweenArrow=null),this._tweenChara&&(this._tweenChara.setPaused(!0),createjs.Tween.removeTweens(this._tweenChara),this._tweenChara=null),this._chara.getChildByName("chara1").visible=!0,this._chara.getChildByName("chara2").visible=!1},e.prototype._tutorial1=function(){this._base.texture=a.PORT_TUTORIAL.getTexture(3),this._base.position.set(0,43),this._chara.position.set(350,0),this._arrow.position.set(-75,110),this._arrow.rotation=0,this._back.visible=!1,this.position.set(510,370),this._arrowAnimationAlign="left"},e.prototype._tutorial2=function(){this._base.texture=a.PORT_TUTORIAL.getTexture(4),this._base.position.set(0,43),this._chara.position.set(350,0),this._arrow.position.set(-75,110),this._arrow.rotation=0,this._back.visible=!1,this.position.set(400,36),this._arrowAnimationAlign="left"},e.prototype._tutorial3=function(){this._base.texture=a.PORT_TUTORIAL.getTexture(5),this._base.position.set(0,43),this._chara.position.set(350,0),this._arrow.position.set(384,-20),this._arrow.rotation=90*Math.PI/180,this._back.visible=!1,this.position.set(508,88),this._arrowAnimationAlign="up"},e.prototype._tutorial4=function(){this._base.texture=a.PORT_TUTORIAL.getTexture(6),this._base.position.set(0,43),this._chara.position.set(350,0),this._arrow.position.set(-75,110),this._arrow.rotation=0,this._back.visible=!1,this.position.set(437,239),this._arrowAnimationAlign="left"},e.prototype._tutorial5=function(){this._base.texture=a.PORT_TUTORIAL.getTexture(7),this._base.position.set(0,43),this._chara.position.set(350,0),this._arrow.position.set(-75,110),this._arrow.rotation=0,this._back.visible=!1,this.position.set(220,174),this._arrowAnimationAlign="left"},e.prototype._tutorial6=function(){this._base.texture=a.PORT_TUTORIAL.getTexture(8),this._base.position.set(0,43),this._chara.position.set(750,4),this._arrow.visible=!1,this._arrow.rotation=0,this._back.visible=!0,this._back.position.set(Math.round(this._base.width/2),this._base.height+30),this.position.set(126,212),this._arrowAnimationAlign="none",this._container.buttonMode=!1,this._container.removeAllListeners(o.EventType.CLICK)},e.prototype.dispose=function(){this.deactivate(),this._container.interactive=!1,this._container.buttonMode=!1,this._container.removeAllListeners(o.EventType.CLICK),this._back.interactive=!0,this._back.buttonMode=!0,this._back.removeAllListeners(o.EventType.CLICK),this.removeChildren()},e}(PIXI.Container);e.Tutorial=_},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("port_tutorial_"+t)}t.getTexture=e}(e.PORT_TUTORIAL||(e.PORT_TUTORIAL={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(80),r=i(7),s=i(4),a=i(193),_=i(194),l=i(195),u=i(196),c=i(289),h=i(611),p=function(t){function e(){var e=t.call(this)||this;return e._gear=new c.Gear,e.addChild(e._gear),e._bg=new d,e.addChild(e._bg),e._username=new s.TextBox(19,16774898),e._username.position.set(175,12),e.addChild(e._username),e._userlevel=new s.TextBox(21,16774898),e.addChild(e._userlevel),e._userrank=new s.TextBox(18,16774898),e.addChild(e._userrank),e._fleetnum=new s.TextBox(21,16774898),e._fleetnum.position.set(837,13),e.addChild(e._fleetnum),e._shipnum=new y(21,16774898),e._shipnum.anchor.x=1,e.addChild(e._shipnum),e._slotnum=new m(21,16774898),e._slotnum.anchor.x=1,e.addChild(e._slotnum),e._fuel=new s.TextBox(19,16774898),e._fuel.anchor.x=1,e._fuel.position.set(1092,50),e.addChild(e._fuel),e._ammo=new s.TextBox(19,16774898),e._ammo.anchor.x=1,e._ammo.position.set(1092,78),e.addChild(e._ammo),e._steel=new s.TextBox(19,16774898),e._steel.anchor.x=1,e._steel.position.set(1197,50),e.addChild(e._steel),e._baux=new s.TextBox(19,16774898),e._baux.anchor.x=1,e._baux.position.set(1197,78),e.addChild(e._baux),e._repairKit=new s.TextBox(21,16774898),e._repairKit.anchor.x=1,e.addChild(e._repairKit),e._devKit=new s.TextBox(21,16774898),e._devKit.anchor.x=1,e.addChild(e._devKit),e._revKit=new s.TextBox(21,16774898),e._revKit.anchor.x=1,e.addChild(e._revKit),e._btn_record=new h.UpperBtn(21,null),e._btn_record.position.set(180,45),e.addChild(e._btn_record),e._btn_friend=new h.UpperBtn(22,null),e._btn_friend.position.set(300,45),e.addChild(e._btn_friend),e._btn_album=new h.UpperBtn(23,null),e._btn_album.position.set(420,45),e.addChild(e._btn_album),e._btn_item=new h.UpperBtn(24,null),e._btn_item.position.set(540,45),e.addChild(e._btn_item),e._btn_interior=new h.UpperBtn(25,null),e._btn_interior.position.set(660,45),e.addChild(e._btn_interior),e._btn_duty=new h.UpperBtn(26,null),e._btn_duty.position.set(780,45),e.addChild(e._btn_duty),e._btn_shop=new h.UpperBtn(24,new o.ItemSceneModel),e._btn_shop.position.set(898,43),e.addChild(e._btn_shop),e}return n(e,t),Object.defineProperty(e.prototype,"username",{set:function(t){this._username.text=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userLevel",{set:function(t){this._userlevel.text=Math.floor(t).toString()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userRank",{set:function(t){this._userrank.text=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fleetNum",{set:function(t){this._fleetnum.text=Math.floor(t).toString()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shipNum",{set:function(t){this._shipnum.text=Math.floor(t).toString()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slotNum",{set:function(t){this._slotnum.text=Math.floor(t).toString()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fuel",{set:function(t){this._fuel.text=Math.floor(t).toString()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ammo",{set:function(t){this._ammo.text=Math.floor(t).toString()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"steel",{set:function(t){this._steel.text=Math.floor(t).toString()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baux",{set:function(t){this._baux.text=Math.floor(t).toString()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"repairKit",{set:function(t){this._repairKit.text=Math.floor(t).toString()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"devKit",{set:function(t){this._devKit.text=Math.floor(t).toString()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"revKit",{set:function(t){this._revKit.text=Math.floor(t).toString()},enumerable:!0,configurable:!0}),e.prototype.changeSkin=function(t){this._bg.changeSkin(t),101==t?(this._userlevel.position.set(600,13),this._userrank.position.set(651,14),this._fleetnum.visible=!0,this._shipnum.position.set(999,13),this._slotnum.visible=!1,this._repairKit.position.set(1094,14),this._devKit.position.set(1194,14),this._revKit.visible=!1):311==t?(this._userlevel.position.set(477,13),this._userrank.position.set(528,14),this._fleetnum.visible=!1,this._shipnum.position.set(720,13),this._slotnum.visible=!0,this._slotnum.position.set(890,13),this._repairKit.position.set(987,14),this._devKit.position.set(1098,14),this._revKit.visible=!0,this._revKit.position.set(1194,14)):(this._userlevel.position.set(551,13),this._userrank.position.set(602,14),this._fleetnum.visible=!1,this._shipnum.position.set(780,13),this._slotnum.visible=!0,this._slotnum.position.set(887,13),this._repairKit.position.set(987,14),this._devKit.position.set(1098,14),this._revKit.visible=!0,this._revKit.position.set(1194,14)),101==t||102==t?(this._gear.position.set(68,60),this._btn_friend.position.set(300,42)):201==t?(this._gear.position.set(66,58),this._btn_friend.position.set(300,45)):301!=t&&311!=t||(this._gear.position.set(67,60),this._btn_friend.position.set(300,45));var e=PIXI.Texture.EMPTY;101==t||102==t?(e=a.PORT_SKIN_1.getTexture(2),this._btn_record.initialize(a.PORT_SKIN_1.getTexture(37),a.PORT_SKIN_1.getTexture(38),null),this._btn_friend.initialize(a.PORT_SKIN_1.getTexture(42),a.PORT_SKIN_1.getTexture(43),null),this._btn_album.initialize(a.PORT_SKIN_1.getTexture(44),a.PORT_SKIN_1.getTexture(45),null),this._btn_item.initialize(a.PORT_SKIN_1.getTexture(30),a.PORT_SKIN_1.getTexture(31),null),this._btn_interior.initialize(a.PORT_SKIN_1.getTexture(32),a.PORT_SKIN_1.getTexture(33),null),this._btn_duty.initialize(a.PORT_SKIN_1.getTexture(34),a.PORT_SKIN_1.getTexture(35),a.PORT_SKIN_1.getTexture(36)),this._btn_shop.initialize(a.PORT_SKIN_1.getTexture(22),a.PORT_SKIN_1.getTexture(23),null)):201==t?(e=_.PORT_SKIN_2.getTexture(1),this._btn_record.initialize(_.PORT_SKIN_2.getTexture(26),_.PORT_SKIN_2.getTexture(27),null),this._btn_friend.initialize(_.PORT_SKIN_2.getTexture(31),_.PORT_SKIN_2.getTexture(32),null),this._btn_album.initialize(_.PORT_SKIN_2.getTexture(33),_.PORT_SKIN_2.getTexture(34),null),this._btn_item.initialize(_.PORT_SKIN_2.getTexture(19),_.PORT_SKIN_2.getTexture(20),null),this._btn_interior.initialize(_.PORT_SKIN_2.getTexture(21),_.PORT_SKIN_2.getTexture(22),null),this._btn_duty.initialize(_.PORT_SKIN_2.getTexture(23),_.PORT_SKIN_2.getTexture(24),_.PORT_SKIN_2.getTexture(25)),this._btn_shop.initialize(_.PORT_SKIN_2.getTexture(14),_.PORT_SKIN_2.getTexture(15),null)):301==t?(e=l.PORT_SKIN_3.getTexture(1),this._btn_record.initialize(l.PORT_SKIN_3.getTexture(26),l.PORT_SKIN_3.getTexture(27),null),this._btn_friend.initialize(l.PORT_SKIN_3.getTexture(31),l.PORT_SKIN_3.getTexture(32),null),this._btn_album.initialize(l.PORT_SKIN_3.getTexture(33),l.PORT_SKIN_3.getTexture(34),null),this._btn_item.initialize(l.PORT_SKIN_3.getTexture(19),l.PORT_SKIN_3.getTexture(20),null),this._btn_interior.initialize(l.PORT_SKIN_3.getTexture(21),l.PORT_SKIN_3.getTexture(22),null),this._btn_duty.initialize(l.PORT_SKIN_3.getTexture(23),l.PORT_SKIN_3.getTexture(24),l.PORT_SKIN_3.getTexture(25)),this._btn_shop.initialize(l.PORT_SKIN_3.getTexture(14),l.PORT_SKIN_3.getTexture(15),null)):311==t&&(e=u.PORT_SKIN_3K.getTexture(3),this._btn_record.initialize(u.PORT_SKIN_3K.getTexture(42),u.PORT_SKIN_3K.getTexture(43),null),this._btn_friend.initialize(u.PORT_SKIN_3K.getTexture(45),u.PORT_SKIN_3K.getTexture(47),null),this._btn_album.initialize(u.PORT_SKIN_3K.getTexture(49),u.PORT_SKIN_3K.getTexture(50),null),this._btn_item.initialize(u.PORT_SKIN_3K.getTexture(35),u.PORT_SKIN_3K.getTexture(36),null),this._btn_interior.initialize(u.PORT_SKIN_3K.getTexture(37),u.PORT_SKIN_3K.getTexture(38),null),this._btn_duty.initialize(u.PORT_SKIN_3K.getTexture(39),u.PORT_SKIN_3K.getTexture(40),u.PORT_SKIN_3K.getTexture(41)),this._btn_shop.initialize(u.PORT_SKIN_3K.getTexture(30),u.PORT_SKIN_3K.getTexture(31),null)),301==t||311==t?(this._username.style.fill=4999235,this._userlevel.style.fill=4999235,this._userrank.style.fill=4999235,this._fuel.style.fill=4999235,this._ammo.style.fill=4999235,this._steel.style.fill=4999235,this._baux.style.fill=4999235,this._repairKit.style.fill=4999235,this._devKit.style.fill=4999235,this._revKit.style.fill=4999235,this._shipnum.updateDefaultColor(4999235),this._slotnum.updateDefaultColor(4999235)):(this._username.style.fill=16774898,this._userlevel.style.fill=16774898,this._userrank.style.fill=16774898,this._fuel.style.fill=16774898,this._ammo.style.fill=16774898,this._steel.style.fill=16774898,this._baux.style.fill=16774898,this._repairKit.style.fill=16774898,this._devKit.style.fill=16774898,this._revKit.style.fill=16774898,this._shipnum.updateDefaultColor(16774898),this._slotnum.updateDefaultColor(16774898)),this._gear.setUp(e)},e.prototype.initialize=function(t,e,i){this.changeSkin(t),this._shipnum.updateMaxValue(e),this._slotnum.updateMaxValue(i),this._gear.activate()},e.prototype.updateUserInfo=function(t){t.hasOwnProperty("userName")&&(this._username.text=t.userName),t.hasOwnProperty("userLevel")&&(this._userlevel.text=Math.floor(t.userLevel).toString()),t.hasOwnProperty("userRank")&&(this._userrank.text=t.userRank),t.hasOwnProperty("fleetNum")&&(this._fleetnum.text=Math.floor(t.fleetNum).toString())},e.prototype.updateInfo=function(t){if(t.hasOwnProperty("fuel")&&(this._fuel.text=Math.floor(t.fuel).toString()),t.hasOwnProperty("ammo")&&(this._ammo.text=Math.floor(t.ammo).toString()),t.hasOwnProperty("steel")&&(this._steel.text=Math.floor(t.steel).toString()),t.hasOwnProperty("baux")&&(this._baux.text=Math.floor(t.baux).toString()),t.hasOwnProperty("repairKit")&&(this._repairKit.text=Math.floor(t.repairKit).toString()),t.hasOwnProperty("devKit")&&(this._devKit.text=Math.floor(t.devKit).toString()),t.hasOwnProperty("revKit")&&(this._revKit.text=Math.floor(t.revKit).toString()),t.hasOwnProperty("shipNum")){var e=r.ObjUtil.getNumber(t,"shipNum");this._shipnum.update(e)}if(t.hasOwnProperty("slotNum")){var e=r.ObjUtil.getNumber(t,"slotNum");this._slotnum.update(e)}if(t.hasOwnProperty("shipMax")){var e=r.ObjUtil.getNumber(t,"shipMax");this._shipnum.updateMaxValue(e)}if(t.hasOwnProperty("slotMax")){var e=r.ObjUtil.getNumber(t,"slotMax");this._slotnum.updateMaxValue(e)}},e.prototype.dispose=function(){this.removeChildren(),this._gear.dispose(),this._username.destroy(),this._userlevel.destroy(),this._userrank.destroy(),this._fleetnum.destroy(),this._shipnum.destroy(),this._slotnum.destroy(),this._fuel.destroy(),this._ammo.destroy(),this._steel.destroy(),this._baux.destroy(),this._repairKit.destroy(),this._devKit.destroy(),this._revKit.destroy(),this._btn_record.dispose(),this._btn_friend.dispose(),this._btn_album.dispose(),this._btn_item.dispose(),this._btn_interior.dispose(),this._btn_duty.dispose(),this._btn_shop.dispose()},e}(PIXI.Container);e.UpperBar=p;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.changeSkin=function(t){this.removeChildren(),101==t||102==t?this._setUpForSkin1(t):201==t?this._setUpForSkin2():301==t?this._setUpForSkin3(t):311==t&&this._setUpForSkin3K(t)},e.prototype._setUpForSkin1=function(t){this.texture=a.PORT_SKIN_1.getTexture(14),101==t?(this._createSprite(a.PORT_SKIN_1.getTexture(27),433,16),this._createSprite(a.PORT_SKIN_1.getTexture(28),745,18),this._createSprite(a.PORT_SKIN_1.getTexture(29),862,18),this._createSprite(a.PORT_SKIN_1.getTexture(19),1011,17),this._createSprite(a.PORT_SKIN_1.getTexture(20),1099,17)):(this._createSprite(a.PORT_SKIN_1.getTexture(24),413,16),this._createSprite(a.PORT_SKIN_1.getTexture(25),698,18),this._createSprite(a.PORT_SKIN_1.getTexture(26),791,18),this._createSprite(a.PORT_SKIN_1.getTexture(19),904,17),this._createSprite(a.PORT_SKIN_1.getTexture(20),1003,17),this._createSprite(a.PORT_SKIN_1.getTexture(21),1105,16)),this._createSprite(a.PORT_SKIN_1.getTexture(15),991,51),this._createSprite(a.PORT_SKIN_1.getTexture(16),988,79),this._createSprite(a.PORT_SKIN_1.getTexture(17),1095,52),this._createSprite(a.PORT_SKIN_1.getTexture(18),1096,78),this._createSprite(a.PORT_SKIN_1.getTexture(12),415,0)},e.prototype._setUpForSkin2=function(){this.texture=_.PORT_SKIN_2.getTexture(6),this._createSprite(_.PORT_SKIN_2.getTexture(16),413,16),this._createSprite(_.PORT_SKIN_2.getTexture(17),698,18),this._createSprite(_.PORT_SKIN_2.getTexture(18),791,18),this._createSprite(_.PORT_SKIN_2.getTexture(11),904,17),this._createSprite(_.PORT_SKIN_2.getTexture(12),1003,17),this._createSprite(_.PORT_SKIN_2.getTexture(13),1105,16),this._createSprite(_.PORT_SKIN_2.getTexture(7),991,51),this._createSprite(_.PORT_SKIN_2.getTexture(8),988,79),this._createSprite(_.PORT_SKIN_2.getTexture(9),1095,52),this._createSprite(_.PORT_SKIN_2.getTexture(10),1096,78),this._createSprite(_.PORT_SKIN_2.getTexture(4),415,0)},e.prototype._setUpForSkin3=function(t){this.texture=l.PORT_SKIN_3.getTexture(6),this._createSprite(l.PORT_SKIN_3.getTexture(16),413,16),this._createSprite(l.PORT_SKIN_3.getTexture(17),698,18),this._createSprite(l.PORT_SKIN_3.getTexture(18),791,18),this._createSprite(l.PORT_SKIN_3.getTexture(11),904,17),this._createSprite(l.PORT_SKIN_3.getTexture(12),1003,17),this._createSprite(l.PORT_SKIN_3.getTexture(13),1105,16),this._createSprite(l.PORT_SKIN_3.getTexture(7),991,51),this._createSprite(l.PORT_SKIN_3.getTexture(8),988,79),this._createSprite(l.PORT_SKIN_3.getTexture(9),1095,52),this._createSprite(l.PORT_SKIN_3.getTexture(10),1096,78),this._createSprite(l.PORT_SKIN_3.getTexture(4),415,0)},e.prototype._setUpForSkin3K=function(t){this.texture=u.PORT_SKIN_3K.getTexture(22),this._createSprite(u.PORT_SKIN_3K.getTexture(32),409,20),this._createSprite(u.PORT_SKIN_3K.getTexture(33),629,21),this._createSprite(u.PORT_SKIN_3K.getTexture(34),737,21),this._createSprite(u.PORT_SKIN_3K.getTexture(27),904,17),this._createSprite(u.PORT_SKIN_3K.getTexture(28),1003,17),this._createSprite(u.PORT_SKIN_3K.getTexture(29),1105,16),this._createSprite(u.PORT_SKIN_3K.getTexture(23),991,51),this._createSprite(u.PORT_SKIN_3K.getTexture(24),988,79),this._createSprite(u.PORT_SKIN_3K.getTexture(25),1095,52),this._createSprite(u.PORT_SKIN_3K.getTexture(26),1096,78),this._createSprite(u.PORT_SKIN_3K.getTexture(20),415,0)},e.prototype._createSprite=function(t,e,i){var n=new PIXI.Sprite(t);n.position.set(e,i),this.addChild(n)},e}(PIXI.Sprite),f=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._max=0,n._value=0,n._default_color=i,n}return n(e,t),e.prototype.updateDefaultColor=function(t){this._default_color=t,this._update()},e.prototype.updateMaxValue=function(t){this._max=t,this._update()},e.prototype.update=function(t){this._value=t,this._update()},e}(s.TextBox),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._update=function(){var t=this._max-this._value;this.style.fill=t<=5?14442282:this._default_color,this.text=this._value.toString()},e}(f),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._update=function(){var t=this._max-this._value;this.style.fill=t<=5?14442282:t<20?14461696:this._default_color,this.text=this._value.toString()},e}(f)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),s=function(t){function e(e,i){var n=t.call(this)||this;return n._timer=-1,n._flg=!0,n.dispose=function(){n._stopAnimation(),n.interactive=n.buttonMode=!1,n.off(r.EventType.MOUSEOVER,n._onOver),n.off(r.EventType.MOUSEOUT,n._onOut),n.off(r.EventType.CLICK,n._onClick)},n._startAnimation=function(){null!=n._texture_light&&n._timer<0&&(n._timer=setInterval(n._onTimer,1500))},n._stopAnimation=function(){n._timer>=0&&(clearInterval(n._timer),n._timer=-1)},n._onOver=function(){n._stopAnimation(),n.texture=n._texture_on},n._onOut=function(){n.texture=n._texture_normal,n._startAnimation()},n._onTimer=function(){1==n._flg?n.texture=n._texture_light:n.texture=n._texture_normal,n._flg=!n._flg},n._onClick=function(){22!=n._type&&o.default.scene.change(n._type,n._model)},n._type=e,n._model=i,n}return n(e,t),e.prototype.setUp=function(t,e,i){this._texture_normal=t,this._texture_on=e,this._texture_light=i,this._onOut()},e.prototype.initialize=function(t,e,i){this.setUp(t,e,i),this.interactive=this.buttonMode=!0,this.on(r.EventType.MOUSEOVER,this._onOver),this.on(r.EventType.MOUSEOUT,this._onOut),22!=this._type&&this.on(r.EventType.CLICK,this._onClick)},e}(PIXI.Sprite);e.UpperBtn=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(25),s=i(156),a=function(t){function e(){var e=t.call(this)||this;e._timer=-1,e._startAnimation=function(){e._timer<0&&(e._timer=setInterval(e._onTimer,1e3))},e._stopAnimation=function(){e._timer>=0&&(clearInterval(e._timer),e._timer=-1)},e._onTimer=function(){var t=new Date,i=t.getMonth()+1,n=t.getDate();e._date.text=r.MathUtil.zeroPadding(i,2)+"/"+r.MathUtil.zeroPadding(n,2);var o=t.getHours(),s=t.getMinutes();e._time.text=r.MathUtil.zeroPadding(o,2)+":"+r.MathUtil.zeroPadding(s,2)};var i=new PIXI.Sprite;return i.name="bg",i.position.set(0,573),e.addChild(i),e._date=new o.TextBox(26,"white"),e._date.anchor.set(.5,0),e._date.position.set(58,612),e.addChild(e._date),e._time=new o.TextBox(41,"white"),e._time.anchor.set(.5,0),e._time.position.set(75,651),e.addChild(e._time),e}return n(e,t),e.prototype.initialize=function(){this.getChildByName("bg").texture=s.PORT_MAIN.getTexture(19),this._onTimer(),this._startAnimation()},e.prototype.update=function(t){var e=[0,11,12,13,14,15,31,16];this.visible=e.indexOf(t)>=0,1==this.visible?this._startAnimation():this._stopAnimation()},e.prototype.dispose=function(){this._stopAnimation(),this.removeChildren(),this._date&&this._date.destroy(),this._date=null,this._time&&this._time.destroy(),this._time=null},e}(PIXI.Container);e.ClockLayer=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(190),s=i(614),a=i(615),_=i(290),l=function(t){function e(){var e=t.call(this)||this;return e._touch_count=0,e._marrigaeEff=!1,e._sakura=new r.Sakura,e._container=new u,e._chara=new PIXI.Sprite,e.addChild(e._sakura),e._container.addChild(e._chara),e.addChild(e._container),e._timerBeLeftVoice=new s.BeLeftVoiceTimer,e._timeSignal=new a.TimeSignal(e._timerBeLeftVoice),e}return n(e,t),Object.defineProperty(e.prototype,"chara",{get:function(){return this._chara},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marriageEff",{get:function(){return this._marrigaeEff},set:function(t){this._marrigaeEff!=t&&(this._marrigaeEff=t,1==this._marrigaeEff?this._showMarriageEff():this._hideMarriageEff())},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e,i){this._touch_count=0,this._ship_mst_id=t;var n=o.default.model.basic.getFlagShipPosIDCli(),r=_.PortConst.getMoveXValue(t),s=0==n?0:r,a=o.default.resources.getShip(t,e,"full");this._chara.texture=a;var l=new PIXI.Sprite(a);this._hit_area_map=o.default.settings.renderer.extract.pixels(l),this._container.position.set(491,-88);var u=this._chara.width/2,c=this._chara.height/2,h=o.default.model.ship_graph.get(t).getPortOffset(e);this._chara.position.set(-u+h.x+s,-c+h.y),this._container.positionSet(491+u,-88+c),this._timerBeLeftVoice.initialize(t,i),this._timeSignal.initialize(t)},e.prototype.activate=function(){null==this._loop_tween&&(this._loop_tween=createjs.Tween.get(this._container,{loop:!0}).to({anim_value:Math.PI},5200)),this._timerBeLeftVoice.reset(),this._timeSignal.reset()},e.prototype.deactivate=function(){null!=this._loop_tween&&(this._loop_tween.setPaused(!0),this._loop_tween=null),this._timerBeLeftVoice.stop(),this._timeSignal.stop()},e.prototype.onMouseMove=function(t){var e=t.getLocalPosition(this._chara);return this._isCharaHit(e)},e.prototype.onClick=function(t){var e=t.getLocalPosition(this._chara),i=this._isCharaHit(e);return 1==i&&this._onClick(),i},e.prototype._showMarriageEff=function(){var t=new PIXI.Rectangle(600,0,600,720);this._ship_is_marriage=!0,this._sakura.startAnimation(t)},e.prototype._hideMarriageEff=function(){this._ship_is_marriage=!1,this._sakura.stopAnimation()},e.prototype._isCharaHit=function(t,e){if(void 0===e&&(e=0),t.x<0||t.y<0||t.x>this._chara.width)return!1;var i=4*(Math.floor(t.x)+this._chara.width*Math.floor(t.y));return null!=this._hit_area_map&&(!(i+3>=this._hit_area_map.length)&&this._hit_area_map[i+3]>e)},e.prototype._onClick=function(){this._touch_count<4?1==this._ship_is_marriage&&0==this._touch_count?o.default.sound.voice.play(this._ship_mst_id.toString(),28):o.default.sound.voice.playAtRandom(this._ship_mst_id.toString(),[2,3,4],[60,30,10]):o.default.sound.voice.play(this._ship_mst_id.toString(),4),this._touch_count++,this._timerBeLeftVoice.reset()},e}(PIXI.Container);e.FlagShipLayer=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),Object.defineProperty(e.prototype,"anim_value",{get:function(){return 0},set:function(t){var e=Math.sin(t),i=1+.012*(.5+.5*e);this.scale.set(i),this.y=this._base_y-1.5*e*1.8},enumerable:!0,configurable:!0}),e.prototype.positionSet=function(t,e){this.position.set(t,e),this._base_y=e},e}(PIXI.Container)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(){this.INTERVAL=3e5,this._enabled_029=!1,this._enabled_129=!1,this._enabled_byTimeSignal=!0,this._timer_handle=-1}return Object.defineProperty(t.prototype,"enabled_byTimeSignal",{set:function(t){this._enabled_byTimeSignal=t},enumerable:!0,configurable:!0}),t.prototype.initialize=function(t,e){this._mst_id=t,this._tired=e;var i=n.default.model.ship.getMst(this._mst_id);null==i?this._enabled_029=this._enabled_129=!1:(this._enabled_029=i.availableBeLeftVoice,this._enabled_129=i.availableBeLeftVoices),this.reset()},t.prototype.stop=function(){-1!=this._timer_handle&&(clearInterval(this._timer_handle),this._timer_handle=-1)},t.prototype.reset=function(){var t=this;this.stop(),0==this._enabled_029&&0==this._enabled_129||(this._timer_handle=setInterval(function(){t._play()},this.INTERVAL))},t.prototype._play=function(){1==n.default.option.voice_be_left&&this._enabled_byTimeSignal&&(1==this._enabled_129&&this._tired>=50?n.default.sound.voice.play(this._mst_id.toString(),129):1==this._enabled_029&&n.default.sound.voice.play(this._mst_id.toString(),29))},t}();e.BeLeftVoiceTimer=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(t){var e=this;this._enabled_timeSignal=!1,this._timer_handle_timeSignal=-1,this._timer_handle_preload=-1,this._timer_handle_nextTimeSignal=-1,this._onEnd=function(){e._timerBeLeftVoice.enabled_byTimeSignal=!0},this._timerBeLeftVoice=t}return t.prototype.initialize=function(t){this._mst_id=t;var e=n.default.model.ship.getMst(this._mst_id);this._enabled_timeSignal=null!=e&&e.availableTimeSignalVoice,this.reset()},t.prototype.stop=function(){-1!=this._timer_handle_timeSignal&&(clearInterval(this._timer_handle_timeSignal),this._timer_handle_timeSignal=-1),-1!=this._timer_handle_preload&&(clearInterval(this._timer_handle_preload),this._timer_handle_preload=-1),-1!=this._timer_handle_nextTimeSignal&&(clearInterval(this._timer_handle_nextTimeSignal),this._timer_handle_nextTimeSignal=-1),this._timerBeLeftVoice.enabled_byTimeSignal=!0},t.prototype.reset=function(){var t=this;if(this.stop(),0!=this._enabled_timeSignal){var e=new Date,i=e.getMinutes(),n=e.getSeconds();this._voicehour=e.getHours(),this._INTERVAL_sec=60*(59-i)+(59-n),this._INTERVAL_sec<3599&&++this._voicehour>23&&(this._voicehour=0),this._timer_handle_timeSignal=setTimeout(function(){t._play()},1e3*this._INTERVAL_sec),this._INTERVAL_sec>1800?this._Preload_sec=parseInt(1500*Math.random()+(this._INTERVAL_sec-1800)+""):this._INTERVAL_sec<300?this._Preload_sec=0:this._Preload_sec=parseInt(Math.random()*(this._INTERVAL_sec-300)+""),this._timer_handle_preload=setTimeout(function(){t._preload()},1e3*this._Preload_sec)}},t.prototype._preload=function(){n.default.sound.voice.preload(this._mst_id.toString(),this._voicehour+30)},t.prototype._play=function(){var t=this;1==this._enabled_timeSignal&&(this._timerBeLeftVoice.enabled_byTimeSignal=!1,n.default.sound.voice.play(this._mst_id.toString(),this._voicehour+30,this._onEnd),this._timer_handle_nextTimeSignal=setTimeout(function(){t.reset()},61e3))},t}();e.TimeSignal=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(193),r=i(194),s=i(195),a=i(196),_=i(289),l=i(1),u=i(0),c=i(291),h=i(290),p=function(t){function e(){var e=t.call(this)||this;e._gear=new _.Gear,e._gear.position.set(1242,758),e.addChild(e._gear),e._side=new PIXI.Sprite,e.addChild(e._side),e._side.interactive=!0,e._side.buttonMode=!0;var i=e._side.position.y;return e._side.addListener(l.EventType.MOUSEOVER,function(){e._side.buttonMode=0==u.default.scene.now}),e._side.addListener(l.EventType.CLICK,function(){if(0==u.default.scene.now){var t=u.default.model.deck.get(1).getShipModel(0),n=u.default.model.basic.getFlagShipPosIDCli(),o=u.default.view.getNowScene().flagShip.chara,r=h.PortConst.getMoveXValue(t.mstID),s=0;0==n?(s=o.position.x+r,n=1):(s=o.position.x-r,n=0);var a=c.$_$.Parallel(function(){return c.$_$.Sequence(function(){return c.$_$.Value(e._side.position,{y:i-20},150)},function(){return c.$_$.Value(e._side.position,{y:i+15},150)},function(){return c.$_$.Value(e._side.position,{y:i-10},100)},function(){return c.$_$.Value(e._side.position,{y:i+5},100)},function(){return c.$_$.Value(e._side.position,{y:i},100)})},function(){return c.$_$.Value(o.position,{x:s},600,createjs.Ease.cubicOut)});u.default.view.clickGuard=!0,a.execute(function(){a.dispose(),u.default.view.clickGuard=!1,u.default.model.basic.setFlagShipPosIDCli(n)})}}),e._btm=new PIXI.Sprite,e.addChild(e._btm),e}return n(e,t),e.prototype.initialize=function(t){this.changeSkin(t),this._gear.activate()},e.prototype.changeSkin=function(t){101==t||102==t?(this._side.texture=o.PORT_SKIN_1.getTexture(13),this._btm.texture=o.PORT_SKIN_1.getTexture(11),this._btm.position.set(388,706)):201==t?(this._side.texture=r.PORT_SKIN_2.getTexture(5),this._btm.texture=r.PORT_SKIN_2.getTexture(3),this._btm.position.set(382,705)):301==t?(this._side.texture=s.PORT_SKIN_3.getTexture(5),this._btm.texture=s.PORT_SKIN_3.getTexture(3),this._btm.position.set(387,707)):311==t?(this._side.texture=a.PORT_SKIN_3K.getTexture(21),this._btm.texture=a.PORT_SKIN_3K.getTexture(19),this._btm.position.set(387,707)):(this._side.texture=PIXI.Texture.EMPTY,this._btm.texture=PIXI.Texture.EMPTY);var e=PIXI.Texture.EMPTY;e=101==t||102==t?o.PORT_SKIN_1.getTexture(2):201==t?r.PORT_SKIN_2.getTexture(2):301==t?s.PORT_SKIN_3.getTexture(2):311==t?a.PORT_SKIN_3K.getTexture(6):PIXI.Texture.EMPTY,this._gear.setUp(e)},e.prototype.update=function(t){0==t?(this.visible=!0,this._gear.visible=!0):11==t||12==t||13==t||14==t||15==t||31==t||16==t?(this.visible=!0,this._gear.visible=!1):(this.visible=!1,this._gear.visible=!1)},e.prototype.dispose=function(){this._gear.dispose()},e}(PIXI.Container);e.FrameLayer=p},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(618),r=i(619),s=i(620),a=i(157),_=function(t){function e(){var e=t.call(this)||this;return e._onRevampOpen=function(){null!=e._revamp&&e._revamp.open()},e._onRevampClose=function(){null!=e._revamp&&e._revamp.close()},e._waves=new a.RingMenuWaves,e._organize=new o.RingMenuBtn(11),e._organize.position.set(297,203),e._supply=new o.RingMenuBtn(12),e._supply.position.set(117,333),e._remodel=new o.RingMenuBtn(13),e._remodel.position.set(476,333),e._repair=new o.RingMenuBtn(14),e._repair.position.set(186,543),e._arsenal=new o.RingMenuBtn(15),e._arsenal.position.set(407,543),e._sally=new s.RingMenuBtnSally,e._sally.position.set(296,390),e.addChild(e._remodel),e.addChild(e._arsenal),e.addChild(e._sally),e.addChild(e._organize),e.addChild(e._repair),e.addChild(e._supply),e}return n(e,t),e.prototype.initialize=function(){this._waves.initialize(),this._organize.initialize(),this._supply.initialize(),this._remodel.initialize(),this._repair.initialize(),this._arsenal.initialize(this._onRevampOpen,this._onRevampClose),this._sally.initialize(),this._baseX=this.x,this._presetX=-(this.x+Math.floor(this.width/3))},e.prototype.activate=function(){this._organize.activate(),this._supply.activate(),this._remodel.activate(),this._repair.activate(),this._arsenal.activate(),this._sally.activate(),null!=this._revamp&&this._revamp.activate()},e.prototype.deactivate=function(){this._organize.deactivate(),this._supply.deactivate(),this._remodel.deactivate(),this._repair.deactivate(),this._arsenal.deactivate(),this._sally.deactivate(),null!=this._revamp&&this._revamp.deactivate()},e.prototype.prePosition=function(){this.x=this._presetX,this.alpha=0},e.prototype.startAnimation=function(){var t=this;this._interactive(!1),createjs.Tween.get(this).wait(200).to({x:this._baseX,alpha:1},300,createjs.Ease.quadOut).call(function(){t._interactive(!0)})},e.prototype.dispose=function(){this._waves.dispose(),this._organize.dispose(),this._supply.dispose(),this._remodel.dispose(),this._repair.dispose(),this._arsenal.dispose(),this._sally.dispose(),null!=this._revamp&&this._revamp.dispose()},e.prototype.setRevampFlg=function(t){1==t?this._addRevampBtn():this._removeRevampBtn()},e.prototype._addRevampBtn=function(){null==this._revamp&&(this._revamp=new r.RingMenuBtnRevamp(31),this._revamp.position.set(407,543),this._revamp.initialize(),this._revamp.activate(),this.addChildAt(this._revamp,0))},e.prototype._removeRevampBtn=function(){null!=this._revamp&&(null!=this._revamp.parent&&this._revamp.parent.removeChild(this._revamp),this._revamp.dispose(),this._revamp=null)},e.prototype._interactive=function(t){this._organize.interactiveApply(t),this._supply.interactiveApply(t),this._remodel.interactiveApply(t),this._repair.interactiveApply(t),this._arsenal.interactiveApply(t),null!=this._revamp&&this._revamp.interactiveApply(t)},e}(PIXI.Container);e.RingMenuLayer=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(6),s=i(292),a=i(293),_=i(294),l=i(295),u=i(157),c=i(1),h=function(t){function e(e){var i=t.call(this)||this;return i._mouse_down=!1,i._cb_onRelateOpen=null,i._cb_onRelateClose=null,i._onMouseOver=function(){i._mouse_down=!1,i._bg_on.visible=!0,i._bg_on.activate(),i._img.visible=!1,i._img_on.visible=!0,i._showWaves(),i._description.show(),null!=i._cb_onRelateOpen&&i._cb_onRelateOpen()},i._onMouseOut=function(){i._mouse_down=!1,i._bg_on.visible=!1,i._bg_on.deactivate(),i._img.visible=!0,i._img_on.visible=!1,i._setScale(1),i._hideWaves(),i._description.hide(),null!=i._cb_onRelateClose&&i._cb_onRelateClose()},i._onMouseDown=function(){i._mouse_down=!0,i._bg_on.visible=!0,i._bg_on.deactivate(),i._img.visible=!1,i._img_on.visible=!0,i._setScale(.9),i._hideWaves(),i._description.hide()},i._onMouseUp=function(){i._bg_on.visible=!0,i._bg_on.activate(),i._img.visible=!1,i._img_on.visible=!0,i._setScale(1),i._showWaves(),i._description.show(),1==i._mouse_down&&o.default.scene.change(i._type)&&r.SE.play("246"),i._mouse_down=!1},i._type=e,i._bg_on=new s.RingMenuBtnBgOn,i.addChild(i._bg_on),i._img=new _.RingMenuBtnImg,i.addChild(i._img),i._img_on=new l.RingMenuBtnImgOn,i.addChild(i._img_on),i._waves=new u.RingMenuWaves,i._description=new a.RingMenuBtnDescription,i.addChild(i._description),i._hit_area=new PIXI.Graphics,i._hit_area.beginFill(0,0),i._hit_area.drawCircle(0,0,71),i._hit_area.endFill(),i.addChild(i._hit_area),i._hit_area.interactive=!0,i}return n(e,t),e.prototype.initialize=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this._cb_onRelateOpen=t,this._cb_onRelateClose=e,this._bg_on.initialize(),this._img.initialize(this._type),this._img_on.initialize(this._type),this._waves.initialize(),this._description.initialize(this._type),this._onMouseOut()},e.prototype.activate=function(){1!=this._hit_area.buttonMode&&(this._hit_area.buttonMode=!0,this._hit_area.on(c.EventType.MOUSEOVER,this._onMouseOver),this._hit_area.on(c.EventType.MOUSEOUT,this._onMouseOut),this._hit_area.on(c.EventType.MOUSEDOWN,this._onMouseDown),this._hit_area.on(c.EventType.MOUSEUP,this._onMouseUp))},e.prototype.deactivate=function(){this._hit_area.buttonMode=!1,this._hit_area.off(c.EventType.MOUSEOVER,this._onMouseOver),this._hit_area.off(c.EventType.MOUSEOUT,this._onMouseOut),this._hit_area.off(c.EventType.MOUSEDOWN,this._onMouseDown),this._hit_area.off(c.EventType.MOUSEUP,this._onMouseUp),this._onMouseOut()},e.prototype.interactiveApply=function(t){this._hit_area.interactive=t},e.prototype.dispose=function(){this._cb_onRelateOpen=null,this._cb_onRelateClose=null,this.deactivate(),this._hideWaves(),this._bg_on.dispose()},e.prototype._showWaves=function(){null==this._waves.parent&&(this.addChild(this._waves),this._waves.startAnimation())},e.prototype._hideWaves=function(){null!=this._waves.parent&&(this.removeChild(this._waves),this._waves.stopAnimation())},e.prototype._setScale=function(t){this._bg_on.scale.set(t),this._img.scale.set(t),this._img_on.scale.set(t)},e}(PIXI.Container);e.RingMenuBtn=h},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(6),s=i(292),a=i(293),_=i(294),l=i(295),u=i(157),c=i(1),h=function(t){function e(e){var i=t.call(this)||this;return i._mouse_down=!1,i._open_force=!1,i._onMouseOver=function(){i._mouse_down=!1,i._open()},i._onMouseOut=function(){i._mouse_down=!1,i._close()},i._onMouseDown=function(){i._mouse_down=!0},i._onMouseUp=function(){1==i._mouse_down&&o.default.scene.change(i._type)&&r.SE.play("246"),i._mouse_down=!1},i._type=e,i._content=new p,i._content.alpha=0,i.addChild(i._content),i}return n(e,t),e.prototype.initialize=function(){this._content.initialize(this._type,this._onMouseOver,this._onMouseOut,this._onMouseDown,this._onMouseUp),this._onMouseOut()},e.prototype.activate=function(){this._content.activate()},e.prototype.deactivate=function(){this._content.deactivate(),this._onMouseOut()},e.prototype.interactiveApply=function(t){this._content.interactiveApply(t)},e.prototype.dispose=function(){this._content.dispose(),this._stopOpenTween(),this._stopCloseTween()},e.prototype.open=function(){this._open_force=!0,this._open()},e.prototype.close=function(){this._open_force=!1,this._close()},e.prototype._open=function(){var t=this;this._stopCloseTween(),null==this._t_open&&(this._t_open=createjs.Tween.get(this._content).to({x:75,alpha:1},700).call(function(){t._t_open=null}))},e.prototype._close=function(){var t=this;1!=this._open_force&&(this._stopOpenTween(),null==this._t_close&&(this._t_close=createjs.Tween.get(this._content).to({x:0,alpha:0},700).call(function(){t._t_close=null})))},e.prototype._stopOpenTween=function(){null!=this._t_open&&(this._t_open.setPaused(!0),this._t_open=null)},e.prototype._stopCloseTween=function(){null!=this._t_close&&(this._t_close.setPaused(!0),this._t_close=null)},e}(PIXI.Container);e.RingMenuBtnRevamp=h;var p=function(t){function e(){var e=t.call(this)||this;return e._onMouseOver=function(){e._bg_on.visible=!0,e._bg_on.activate(),e._img.visible=!1,e._img_on.visible=!0,e._showWaves(),e._description.show(),null!=e._cb_onMouseOver&&e._cb_onMouseOver()},e._onMouseOut=function(){e._bg_on.visible=!1,e._bg_on.deactivate(),e._img.visible=!0,e._img_on.visible=!1,e._setScale(1),e._hideWaves(),e._description.hide(),null!=e._cb_onMouseOut&&e._cb_onMouseOut()},e._onMouseDown=function(){e._bg_on.visible=!0,e._bg_on.deactivate(),e._img.visible=!1,e._img_on.visible=!0,e._setScale(.9),e._hideWaves(),e._description.hide(),null!=e._cb_onMouseDown&&e._cb_onMouseDown()},e._onMouseUp=function(){e._bg_on.visible=!0,e._bg_on.activate(),e._img.visible=!1,e._img_on.visible=!0,e._setScale(1),e._showWaves(),e._description.show(),null!=e._cb_onMouseUp&&e._cb_onMouseUp()},e._bg_on=new s.RingMenuBtnBgOn,e.addChild(e._bg_on),e._img=new _.RingMenuBtnImg,e.addChild(e._img),e._img_on=new l.RingMenuBtnImgOn,e.addChild(e._img_on),e._waves=new u.RingMenuWaves,e._description=new a.RingMenuBtnDescription,e.addChild(e._description),e._hit_area=new PIXI.Graphics,e._hit_area.beginFill(0,0),e._hit_area.drawCircle(0,0,71),e._hit_area.endFill(),e.addChild(e._hit_area),e._hit_area.interactive=!0,e}return n(e,t),e.prototype.initialize=function(t,e,i,n,o){this._bg_on.initialize(),this._img.initialize(t),this._img_on.initialize(t),this._waves.initialize(),this._description.initialize(t),this._onMouseOut(),this._cb_onMouseOver=e,this._cb_onMouseOut=i,this._cb_onMouseDown=n,this._cb_onMouseUp=o},e.prototype.activate=function(){1!=this._hit_area.buttonMode&&(this._hit_area.buttonMode=!0,this._hit_area.on(c.EventType.MOUSEOVER,this._onMouseOver),this._hit_area.on(c.EventType.MOUSEOUT,this._onMouseOut),this._hit_area.on(c.EventType.MOUSEDOWN,this._onMouseDown),this._hit_area.on(c.EventType.MOUSEUP,this._onMouseUp))},e.prototype.deactivate=function(){this._hit_area.buttonMode=!1,this._hit_area.off(c.EventType.MOUSEOVER,this._onMouseOver),this._hit_area.off(c.EventType.MOUSEOUT,this._onMouseOut),this._hit_area.off(c.EventType.MOUSEDOWN,this._onMouseDown),this._hit_area.off(c.EventType.MOUSEUP,this._onMouseUp)},e.prototype.interactiveApply=function(t){this._hit_area.interactive=t},e.prototype.dispose=function(){this.deactivate(),this._hideWaves(),this._bg_on.dispose(),this._cb_onMouseOver=null,this._cb_onMouseOut=null,this._cb_onMouseDown=null,this._cb_onMouseUp=null},e.prototype._showWaves=function(){null==this._waves.parent&&(this.addChild(this._waves),this._waves.startAnimation())},e.prototype._hideWaves=function(){null!=this._waves.parent&&(this.removeChild(this._waves),this._waves.stopAnimation())},e.prototype._setScale=function(t){this._bg_on.scale.set(t),this._img.scale.set(t),this._img_on.scale.set(t)},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(6),s=i(107),a=i(157),_=i(1),l=function(t){function e(){var e=t.call(this)||this;return e._down_flg=!1,e._onMouseOver=function(){e._off.visible=!1,e._on.visible=!0,e._on.activate(),null==e._waves.parent&&(e.addChild(e._waves),e._waves.startAnimation()),e._showDescription(),e._down_flg=!1},e._onMouseOut=function(){e._off.visible=!0,e._on.visible=!1,e._on.deactivate(),null!=e._waves.parent&&(e.removeChild(e._waves),e._waves.stopAnimation()),e._on.scale.set(1,1),e._hideDescription(),e._down_flg=!1},e._onMouseDown=function(){e._off.visible=!1,e._on.visible=!0,e._on.deactivate(),null!=e._waves.parent&&(e.removeChild(e._waves),e._waves.stopAnimation()),e._on.scale.set(.9,.9),e._hideDescription(),e._down_flg=!0},e._onMouseUp=function(){e._off.visible=!1,e._on.visible=!0,e._on.activate(),null==e._waves.parent&&(e.addChild(e._waves),e._waves.startAnimation()),e._on.scale.set(1,1),e._showDescription(),1==e._down_flg&&1==o.default.scene.change(16)&&r.SE.play("246"),e._down_flg=!1},e._off=new u,e.addChild(e._off),e._on=new c,e._on.visible=!1,e.addChild(e._on),e._hit_area=new PIXI.Graphics,e._hit_area.beginFill(0,0),e._hit_area.drawCircle(0,0,102),e._hit_area.endFill(),e.addChild(e._hit_area),e._hit_area.interactive=!0,e._waves=new a.RingMenuWaves,e}return n(e,t),e.prototype.initialize=function(){this._off.initialize(),this._on.initialize(),this._waves.initialize()},e.prototype.activate=function(){1!=this._hit_area.buttonMode&&(this._hit_area.buttonMode=!0,this._hit_area.on(_.EventType.MOUSEOVER,this._onMouseOver),this._hit_area.on(_.EventType.MOUSEOUT,this._onMouseOut),this._hit_area.on(_.EventType.MOUSEDOWN,this._onMouseDown),this._hit_area.on(_.EventType.MOUSEUP,this._onMouseUp))},e.prototype.deactivate=function(){this._hit_area.buttonMode=!1,this._hit_area.off(_.EventType.MOUSEOVER,this._onMouseOver),this._hit_area.off(_.EventType.MOUSEOUT,this._onMouseOut),this._hit_area.off(_.EventType.MOUSEDOWN,this._onMouseDown),this._hit_area.off(_.EventType.MOUSEUP,this._onMouseUp),this._onMouseOut()},e.prototype.dispose=function(){this.deactivate(),this._on.dispose(),this._hideDescription()},e.prototype._showDescription=function(){var t=this;null==this._description&&(this._description=new PIXI.Sprite(s.PORT_RINGMENU.getTexture(13))),null==this._description.parent&&(this._description.position.set(5,-23),this._description.alpha=0,this.addChild(this._description),this._description_tween=createjs.Tween.get(this._description).wait(400).to({x:35,alpha:1},100).call(function(){t._description_tween=null}))},e.prototype._hideDescription=function(){null!=this._description_tween&&(this._description_tween.setPaused(!0),this._description_tween=null),null!=this._description&&null!=this._description.parent&&this.removeChild(this._description)},e}(PIXI.Container);e.RingMenuBtnSally=l;var u=function(t){function e(){var e=t.call(this)||this;return e._left=new PIXI.Sprite,e._left.position.set(-125,2),e.addChild(e._left),e._right=new PIXI.Sprite,e._right.position.set(-50,2),e.addChild(e._right),e._gear=new PIXI.Sprite,e._gear.position.set(-102,-101),e.addChild(e._gear),e._ship=new PIXI.Sprite,e._ship.position.set(-102,-86),e.addChild(e._ship),e._text=new PIXI.Sprite,e._text.position.set(-69,-18),e.addChild(e._text),e}return n(e,t),e.prototype.initialize=function(){this._left.texture=s.PORT_RINGMENU.getTexture(4),this._right.texture=s.PORT_RINGMENU.getTexture(3),this._gear.texture=s.PORT_RINGMENU.getTexture(0),this._ship.texture=s.PORT_RINGMENU.getTexture(2),this._text.texture=s.PORT_RINGMENU.getTexture(1)},e}(PIXI.Container),c=function(t){function e(){var e=t.call(this)||this;return e._gear=new h,e.addChild(e._gear),e._right=new p,e.addChild(e._right),e._left=new d,e.addChild(e._left),e._bg=new PIXI.Sprite,e.addChild(e._bg),e._ship=new f,e.addChild(e._ship),e._text=new PIXI.Sprite,e.addChild(e._text),e}return n(e,t),e.prototype.initialize=function(){this._gear.initialize(),this._right.initialize(),this._left.initialize(),this._bg.texture=s.PORT_RINGMENU.getTexture(23),this._bg.x=Math.round(-this._bg.width/2),this._bg.y=Math.round(-this._bg.height/2),this._ship.initialize(),this._text.texture=s.PORT_RINGMENU.getTexture(28),this._text.position.set(-68,-18)},e.prototype.activate=function(){this._gear.activate(),this._right.activate(),this._left.activate(),this._ship.activate()},e.prototype.deactivate=function(){this._gear.deactivate(),this._right.deactivate(),this._left.deactivate(),this._ship.deactivate()},e.prototype.dispose=function(){this._gear.dispose(),this._right.dispose(),this._left.dispose(),this._ship.dispose()},e}(PIXI.Container),h=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite,e.addChild(e._img),e}return n(e,t),e.prototype.initialize=function(){this._img.texture=s.PORT_RINGMENU.getTexture(24),this._img.x=-Math.round(this._img.width/2),this._img.y=-Math.round(this._img.height/2),this._t=createjs.Tween.get(this,{loop:!0}).to({rotation:2*Math.PI},24e3),this._t.setPaused(!0)},e.prototype.activate=function(){this._t.setPaused(!1)},e.prototype.deactivate=function(){this._t.setPaused(!0)},e.prototype.dispose=function(){this._t.setPaused(!0),this._t=null,this.rotation=0},e}(PIXI.Container),p=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite,e.addChild(e._img),e}return n(e,t),e.prototype.initialize=function(){this._img.texture=s.PORT_RINGMENU.getTexture(26),this._img.x=-Math.round(this._img.width/2),this._img.y=-Math.round(this._img.height/2),this.position.set(38,45),this.rotation=0},e.prototype.activate=function(){null==this._t&&(this._t=createjs.Tween.get(this,{loop:!0}).to({rotation:Math.PI/36},700).to({x:62,y:48},800).to({x:66,y:42,rotation:0},500).to({x:62,y:38,rotation:-Math.PI/60},400).to({x:38,y:45,rotation:0},1600))},e.prototype.deactivate=function(){this.position.set(38,45),this.rotation=0,null!=this._t&&(this._t.setPaused(!0),this._t=null)},e.prototype.dispose=function(){this.deactivate()},e}(PIXI.Container),d=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite,e.addChild(e._img),e}return n(e,t),e.prototype.initialize=function(){this._img.texture=s.PORT_RINGMENU.getTexture(25),this._img.x=-Math.round(this._img.width/2),this._img.y=-Math.round(this._img.height/2),this.position.set(-38,45),this.rotation=0},e.prototype.activate=function(){null==this._t&&(this._t=createjs.Tween.get(this,{loop:!0}).to({rotation:-Math.PI/36},500).to({x:-59,y:48},800).to({x:-63,y:45,rotation:0},500).to({x:-60,y:42,rotation:Math.PI/60},400).to({x:-38,y:45,rotation:0},1800))},e.prototype.deactivate=function(){this.position.set(-38,45),this.rotation=0,null!=this._t&&(this._t.setPaused(!0),this._t=null)},e.prototype.dispose=function(){this.deactivate()},e}(PIXI.Container),f=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite,e.addChild(e._img),e}return n(e,t),e.prototype.initialize=function(){this._img.texture=s.PORT_RINGMENU.getTexture(27),this._img.x=-Math.round(this._img.width/2),this._img.y=-Math.round(this._img.height/2),this.position.set(6,-38),this.rotation=0},e.prototype.activate=function(){null==this._t&&(this._t=createjs.Tween.get(this,{loop:!0}).to({rotation:Math.PI/60},1e3).to({rotation:0},1e3).to({rotation:-Math.PI/60},1e3).to({rotation:0},1e3))},e.prototype.deactivate=function(){this.position.set(6,-38),this.rotation=0,null!=this._t&&(this._t.setPaused(!0),this._t=null)},e.prototype.dispose=function(){this.deactivate()},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(34),a=i(282),_=i(128),l=i(129),u=i(106),c=i(199),h=i(13),p=i(14),d=i(200),f=i(647),y=i(288),m=i(648),g=function(t){function e(e){var i=t.call(this)||this;return i._pre_scene=e,i}return n(e,t),e.prototype._start=function(){for(var t=Object.keys(PIXI.utils.TextureCache),e=t.filter(function(t){return/^resources\/ship\/.+/.test(t)}),i=0,n=e;i<n.length;i++){var o=n[i],r=PIXI.utils.TextureCache[o];r&&r.destroy(!0),delete PIXI.utils.TextureCache[o]}for(var s=t.filter(function(t){return/^resources\/slot\/.+/.test(t)}),a=0,_=s;a<_.length;a++){var o=_[a],r=PIXI.utils.TextureCache[o];r&&r.destroy(!0),delete PIXI.utils.TextureCache[o]}p.UIImageLoader.clearMemoryCache("sally");for(var l=t.filter(function(t){return/^resources\/map\/\d{3}\/\d{2}_.+/.test(t)}),u=0,c=l;u<c.length;u++){var o=c[u],r=PIXI.utils.TextureCache[o];r&&r.destroy(!0),delete PIXI.utils.TextureCache[o]}for(var l=t.filter(function(t){return/^map\d{5}_.+/.test(t)}),h=0,d=l;h<d.length;h++){var o=d[h],r=PIXI.utils.TextureCache[o];r&&r.destroy(!0),delete PIXI.utils.TextureCache[o]}this._connectAPI()},e.prototype._connectAPI=function(){var t=this,e=new s.APIConnector;e.add(new a.PortAPI),33==this._pre_scene?(e.add(new _.UserSlotItemAPI),e.add(new l.UnsetSlotAPI),e.add(new u.UseItemAPI)):32==this._pre_scene&&e.add(new _.UserSlotItemAPI),e.start(function(){t._loadPortResources()})},e.prototype._loadPortResources=function(){var t=this,e=o.default.model.basic.getUISkinID();new f.TaskLoadResources(e).start(function(){t._loadFurnitureResources()})},e.prototype._loadFurnitureResources=function(){var t=this,e=new c.FurnitureLoadTask(!0);e.floor_id=o.default.model.basic.getPortFurnitureMstID(0),e.wall_id=o.default.model.basic.getPortFurnitureMstID(1),e.window_id=o.default.model.basic.getPortFurnitureMstID(2),e.object_id=o.default.model.basic.getPortFurnitureMstID(3),e.desk_id=o.default.model.basic.getPortFurnitureMstID(5),e.chest_id=o.default.model.basic.getPortFurnitureMstID(4),e.start(function(){var e=o.default.view.portMain;0==e.isInitialized()&&e.initialize(),t._confirmFlagshipPosId()})},e.prototype._confirmFlagshipPosId=function(){var t=this,e=o.default.model.basic.getFlagShipPosIDCli();if(e!=o.default.model.basic.getFlagShipPosIDSvr()){new m.setFlagshipPositionAPI(e).start(function(){o.default.model.basic.setFlagShipPosIDSvr(e),t._loadFlagShipResource()})}else this._loadFlagShipResource()},e.prototype._loadFlagShipResource=function(){var t=this,e=o.default.model.deck.get(1).getShipModel(0);if(null!=e){var i=e.mstID,n=e.isDamaged();if(1==o.default.resources.isLoadedShip(i,n,"full")){var r=e.tired;o.default.view.portMain.flagShip.initialize(i,n,r),this._preInitPortView(e)}else{var s=new h.ShipLoader;s.add(i,n,"full"),s.load(function(){var r=e.tired;o.default.view.portMain.flagShip.initialize(i,n,r),t._preInitPortView(e)})}}else this._preInitPortView(e)},e.prototype._preInitPortView=function(t){var e=o.default.view.portMain;if(0==e.isInitialized()){var i=o.default.model.basic.getUISkinID();e.initializeNext(i)}else e.showPortUI(!0);this._initPortView(e,t)},e.prototype._initPortView=function(t,e){var i=e.isMarriage();t.activate(e.mstID,i),o.default.view.portMain.updateUserInfo({userName:o.default.model.basic.nickName,userLevel:o.default.model.basic.level,userRank:"["+o.default.model.basic.rankName+"]",fleetNum:o.default.model.deck.num}),o.default.view.portMain.updateInfo(),this._showExpeditionResult()},e.prototype._showExpeditionResult=function(){var t=this;(new y.TaskExpeditionAlertUpdate).start(function(){t._loginBonus()})},e.prototype._loginBonus=function(){if(1==o.default.model.incentive.hasIncentive()){var t=o.default.view.overLayer,e=o.default.model.incentive.getRewards();new d.TaskReward(t,e).start(),o.default.model.incentive.clearData()}this._endTask()},e}(r.TaskBase);e.PreInitializeTask=g},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(23),s=i(12),a=i(303),_=i(4),l=i(10),u=function(t){function e(){var e=t.call(this)||this;return e._bg=new s.Sprite,e._bg.anchor.set(.5),e.addChild(e._bg),e._light=new c,e.addChild(e._light),e._container=new r.Container,e.addChild(e._container),e._message=new h,e._message.position.set(-360,-291),e.addChild(e._message),e._get_icon=new a.GetIcon,e._get_icon.position.set(223,-181),e.addChild(e._get_icon),e._close_btn=new p,e._close_btn.position.set(-90,222),e.addChild(e._close_btn),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"light",{get:function(){return this._light},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"container",{get:function(){return this._container},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this._message},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"get_icon",{get:function(){return this._get_icon},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"close_btn",{get:function(){return this._close_btn},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._bg.texture=l.COMMON_MISC.getTexture(186),this._light.initialize(),this._get_icon.initialize(),this._close_btn.initialize()},e.prototype.dispose=function(){this._light.dispose(),this._message.dispose(),this._get_icon.dispose(),this._close_btn.dispose()},e}(r.Container);e.RewardDialog=u;var c=function(t){function e(){var e=t.call(this)||this;return e.anchor.set(.5),e}return n(e,t),e.prototype.initialize=function(){this.texture=l.COMMON_MISC.getTexture(69)},e.prototype.activate=function(){null==this._t&&(this.rotation=0,this._t=createjs.Tween.get(this,{loop:!0}).to({rotation:2*Math.PI},6e3))},e.prototype.deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e.prototype.dispose=function(){this.deactivate()},e}(s.Sprite),h=function(t){function e(){var e=t.call(this)||this;return e.beginFill(0,.7),e.drawRect(0,0,721,76),e.endFill(),e._texts=[],e.visible=!1,e}return n(e,t),e.prototype.update=function(t){for(var e=0,i=this._texts;e<i.length;e++){var n=i[e];null!=n.parent&&n.parent.removeChild(n)}if(this._texts=[],null==t)return void(this.visible=!1);for(var o=t.split("\n"),r=9,s=0;s<o.length;s++){var n=new _.TextBox(21,16777215);n.text=o[s],n.x=360-n.width/2,n.y=r,this.addChild(n),this._texts.push(n),r+=n.height}this.visible=!0},e.prototype.dispose=function(){this.removeChildren();for(var t=0,e=this._texts;t<e.length;t++){e[t].destroy()}},e}(PIXI.Graphics),p=function(t){function e(){var e=t.call(this)||this;return e._onClick=function(){null!=e._cb_onClick&&e._cb_onClick()},e.interactive=!0,e.visible=!1,e}return n(e,t),e.prototype.initialize=function(){this.texture=l.COMMON_MISC.getTexture(22)},e.prototype.activate=function(t){this._cb_onClick=t,1!=this.buttonMode&&(this.buttonMode=!0,this.on(o.EventType.CLICK,this._onClick),this.visible=!0)},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(o.EventType.CLICK,this._onClick),this.visible=!1},e.prototype.dispose=function(){this.deactivate(),this._cb_onClick=null},e}(s.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(304),s=i(626),a=i(48),_=function(t){function e(e,i){return t.call(this,e,i)||this}return n(e,t),Object.defineProperty(e.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),e.prototype._createContent=function(){this._showDialog()},e.prototype._showContent=function(){var t=this,e=new r.ModelChangeModelEdit;e.setItemFrom(73,!0),e.setItemTobe(-1);var i=this.model.message1,n=this.model.message2;e.setMessage(i,n),e.addMeltInto([{id:31,type:6}],1,1),e.addMeltInto([{id:34,type:6}],2,1);var a=o.default.view.overLayer;new s.AirunitBaseOpenTask(a,e).start(function(){t._showContentComplete()})},e.prototype._showDialog=function(){this._showContent()},e.prototype._removeContent=function(){},e.prototype._showContentComplete=function(){var t=o.default.model.useItem.get(73);t.__setCount__(t.count-1),this._removeContent(),this._endTask()},e}(a.TaskRewardDialogBase);e.TaskRewardDialogAirUnit=_},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this._eff_type=0,this._direction=1,this._direction=t,this._eff_type=e,this._items=[]}return Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eff_type",{get:function(){return this._eff_type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},enumerable:!0,configurable:!0}),t.prototype.addItem=function(t,e,i){void 0===i&&(i=-1),i>0?this._items.push({id:t,type:e,size:i}):this._items.push({id:t,type:e})},t}();e.ModelChangeMeltIntoModel=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(){this._melt_into_items=[]}return Object.defineProperty(t.prototype,"mst_id_from",{get:function(){return this._mst_id_from},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mst_id_tobe",{get:function(){return this._mst_id_tobe},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rarity_tobe",{get:function(){if(1==this.isUseitemTo())return 0;var t=n.default.model.slot.getMst(this._mst_id_tobe);return null==t?0:t.rarity},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message1",{get:function(){return this._message1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message2",{get:function(){return this._message2.replace(/<br>/,"\n")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"melt_into_items",{get:function(){return this._melt_into_items},enumerable:!0,configurable:!0}),t.prototype.isUseitemFrom=function(){return 6==this._type_from},t.prototype.isUseitemTo=function(){return 6==this._type_tobe},t.prototype.isNeedUpdateUserBasic=function(){if(0==this.isNeedUpdateUseitem())return!1;if(1==this.isUseitemFrom()&&44==this._mst_id_from)return!0;if(1==this.isUseitemTo()&&44==this._mst_id_tobe)return!0;for(var t=0,e=this.melt_into_items;t<e.length;t++)for(var i=e[t],n=0,o=i.items;n<o.length;n++){var r=o[n];if(6==r.type&&44==r.id)return!0}return!1},t.prototype.isNeedUpdateUseitem=function(){if(1==this.isUseitemFrom())return!0;if(1==this.isUseitemTo())return!0;for(var t=0,e=this.melt_into_items;t<e.length;t++)for(var i=e[t],n=0,o=i.items;n<o.length;n++){var r=o[n];if(6==r.type)return!0}return!1},t}();e.ModelChangeModel=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=i(8),s=i(31),a=i(31),_=i(305),l=i(204),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._initBG=function(){var t=this;this._bg=new s.RarityBG,this._bg.initiailzeForUseitem(function(){t._animation()})},e.prototype._createItemTobe=function(t,e){var i=o.COMMON_MISC.getTexture(49),n=new l.CenteringSprite(i);return n.position.set(600,240),n.alpha=0,n.scale.set(.7),n},e.prototype._change=function(){var e=this;t.prototype._change.call(this);var i=new PIXI.Sprite(o.COMMON_MISC.getTexture(68));i.x=-i.width/2,i.y=-i.height/2;var n=new a.Container;n.addChild(i),n.alpha=0,n.x=600,n.y=360,this._layer.addChild(n),createjs.Tween.get(n).wait(650).to({scaleX:3.3,scaleY:3.3,alpha:1},350).to({scaleX:5,scaleY:5},300).wait(600).to({alpha:0},300).call(function(){e._layer.removeChild(n)});var s=new r.AreaBox(1,16777215);s.alpha=0,this._layer.addChild(s),createjs.Tween.get(s).wait(650).wait(200).to({alpha:1},500).wait(600).to({alpha:0},300).call(function(){e._layer.removeChild(s)})},e}(_.ModelChangeTask);e.AirunitBaseOpenTask=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.update=function(t){var e=-1;1==t?e=47:2==t?e=46:3==t?e=45:4==t?e=44:5==t?e=43:6==t?e=42:7==t?e=41:8==t?e=40:9==t?e=39:10==t&&(e=38),this.visible=!1,-1!=e&&(this.texture=o.COMMON_MISC.getTexture(e),this.visible=!0)},e}(PIXI.Sprite);e.RankIcon=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(10),s=function(t){function e(){var e=t.call(this)||this;return e._text=new o.TextBox(27,16777215),e.addChild(e._text),e}return n(e,t),e.prototype.initialize=function(t){this.texture=r.COMMON_MISC.getTexture(120),this._text.text=t,this._text.x=615-Math.round(this._text.width/2),this._text.y=159-Math.round(this._text.height/2)},e.prototype.changeText=function(t){var e=this;createjs.Tween.get(this._text).to({alpha:0},200).call(function(){e._startAnimation(t)})},e.prototype.dispose=function(){this._stopAnimation(),this.removeChildren(),this._text.destroy()},e.prototype._startAnimation=function(t){var e=this;null==this._t&&null!=t&&0!=t.length&&(this._message=t,this._text.text="",this._text.alpha=1,this._text.x=246,this._text.y=87,this._t=createjs.Tween.get(null,{loop:!0}).wait(100).call(function(){var t=e._message.substr(0,1);" "==e._text.text?e._text.text=t:e._text.text+=t,e._message=e._message.substr(1),0==e._message.length&&e._stopAnimation()}))},e.prototype._stopAnimation=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Sprite);e.ModelChangeMessageBox=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=function(t){function e(){var e=t.call(this)||this;return e._onUpdate=function(){if(e.children.length<20&&Math.random()<.1){var t=new s;e.addChild(t)}for(var i=0,n=e.children;i<n.length;i++){var o=n[i],t=o;null!=t&&t.update()}},e}return n(e,t),e.prototype.activate=function(){null==this._t&&(this._t=createjs.Tween.get(null,{loop:!0}).wait(35).call(this._onUpdate))},e.prototype.deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null,this.removeChildren())},e.prototype.dispose=function(){this.deactivate()},e}(PIXI.Container);e.ModelChangeParticleLayer=r;var s=function(t){function e(){var e=t.call(this,o.COMMON_MISC.getTexture(51))||this;return e._state=0,e.anchor.set(.5),e.x=600,e.y=360+300*Math.random()-225,e.scale.set(.1),e.alpha=0,e._dir=Math.random()<.5?1:-1,e._life=60*Math.random()+30,e._xspd=1.2*(7*Math.random()+6)*e._dir,e._yspd=1.2*-9,e._gg=.36,e}return n(e,t),e.prototype.update=function(){switch(this.x+=this._xspd,this.y+=this._yspd,this._yspd+=this._gg,this.scale.x<.6&&(this.scale.x=this.scale.x+.1,this.scale.y=this.scale.y+.1),this.rotation+=3*this._dir/180*Math.PI,this._state){case 0:this.alpha+=.1,this.alpha>=1&&(this._state=1);break;case 1:this._life--,this._life<=0&&(this._state=2);break;case 2:this.parent.removeChild(this)}},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(24),a=i(67),_=i(23),l=i(66),u=i(10),c=i(631),h=i(632),p=i(633),d=i(204),f=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._layer=e,r._items=i,r._direction=n,r._effType=o,r}return n(e,t),e.prototype._start=function(){switch(this._effType){case 0:this._effctSlotitem();break;case 1:this._effctUseitem();break;case 2:this._effctTojoin()}},e.prototype._effctSlotitem=function(){for(var t=this,e=new p.MeltIntoSprite,i=0,n=this._items;i<n.length;i++){var o=n[i];e.add(o)}e.initialize(function(){var i=1==t._direction,n=(i?0:1200)+e.width/2*(i?-1:1),o=600+e.width/4*(i?-1:1),r=n+.5*(o-n);e.x=n,e.y=720,t._layer.addChild(e);var s=new c.MeltIntoSlotitemFilter(o,e.width,t._direction);e.filters=[s];for(var a=new PIXI.Point(n,720),h=new PIXI.Point(r,0),p=new PIXI.Point(o,240),d=l.TweenUtil.signOut,f=l.TweenUtil.create2BezierPoints(a,h,p,1e3,d),y=createjs.Tween.get(e),m=0,g=f;m<g.length;m++){var v=g[m];y.to({x:v.x,y:v.y},v.t)}var b={rate:1,grad:.4};createjs.Tween.get(b,{onChange:function(){s.uniforms.x=e.x,s.uniforms.rate=b.rate,s.uniforms.grad=b.grad}}).wait(600).to({rate:-.4},400).wait(500).call(function(){t._layer.removeChild(e),t._endTask()});var w=new PIXI.Sprite(u.COMMON_MISC.getTexture(116));w.anchor.set(.5),w.alpha=0;var x=new _.Container;x.x=o,x.y=240,x.scale.set(.5),x.addChild(w),t._layer.addChild(x),createjs.Tween.get(x).wait(600).to({scaleX:1,scaleY:1},800,createjs.Ease.cubicOut),createjs.Tween.get(w).wait(600).to({alpha:.9},200).wait(150).to({alpha:0},450).call(function(){var t=x.parent;null!=t&&t.removeChild(x)})})},e.prototype._effctUseitem=function(){for(var t=this,e=new p.MeltIntoSprite,i=0,n=this._items;i<n.length;i++){var o=n[i];e.add(o)}e.initialize(function(){var i=1==t._direction,n=(i?0:1200)+e.width/2*(i?-1:1),o=600+e.width/4*(i?-1:1),r=n+.5*(o-n);e.x=n,e.y=720,t._layer.addChild(e);var s=new h.MeltIntoUseitemFilter(o,240,e.width,e.height,t._direction);e.filters=[s];for(var a=new PIXI.Point(n,720),c=new PIXI.Point(r,0),p=new PIXI.Point(o,240),d=l.TweenUtil.signOut,f=l.TweenUtil.create2BezierPoints(a,c,p,1e3,d),y=createjs.Tween.get(e),m=0,g=f;m<g.length;m++){var v=g[m];y.to({x:v.x,y:v.y},v.t)}var b={rate:1,grad:.4};createjs.Tween.get(b,{onChange:function(){s.uniforms.x=e.x,s.uniforms.rate=b.rate,s.uniforms.grad=b.grad}}).wait(600).to({rate:-.4},400).wait(500).call(function(){t._layer.removeChild(e),t._endTask()});var w=new PIXI.Sprite(u.COMMON_MISC.getTexture(116));w.anchor.set(.5),w.alpha=0;var x=new _.Container;x.x=o,x.y=240,x.scale.set(.5),x.addChild(w),t._layer.addChild(x),createjs.Tween.get(x).wait(600).to({scaleX:1,scaleY:1},800,createjs.Ease.cubicOut),createjs.Tween.get(w).wait(600).to({alpha:.9},200).wait(150).to({alpha:0},450).call(function(){var t=x.parent;null!=t&&t.removeChild(x)})})},e.prototype._effctTojoin=function(){var t=this,e=this._items[0].id,i=this._items[0].type;this._getTextureForTojoinEffct(e,i,function(e){var i=new d.CenteringSprite(e);i.x=600+195*(1==t._direction?-1:1),i.y=240,i.scale.set(1.1),i.alpha=0,t._layer.addChild(i),createjs.Tween.get(i).to({scaleX:1,scaleY:1,alpha:1},300).wait(250).to({x:600,alpha:0},600,createjs.Ease.sineIn).wait(500).call(function(){t._layer.removeChild(i),t._endTask()})})},e.prototype._getTextureForTojoinEffct=function(t,e,i){if(6==e){var n=new a.UseitemLoader;n.add(t,1),n.load(function(){if(i){var e=o.default.resources.getUseitem(t,1);return i(e)}})}else if(2==e){var n=new s.SlotLoader;n.add(t,"card"),n.load(function(){if(i){var e=o.default.resources.getSlotitem(t,"card");return i(e)}})}},e.prototype._endTask=function(){this._layer=null,this._items=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.MeltIntoTask=f},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i,n){var o=1==n?"\n            precision mediump float;\n            varying vec2 vTextureCoord;\n            uniform sampler2D uSampler;\n\n            uniform float x; //\u30bf\u30fc\u30b2\u30c3\u30c8\u306ex\u5ea7\u6a19(\u4e2d\u5fc3\u70b9)\n            uniform float width;\n            uniform float rate;\n            uniform float grad;\n\n            void main(void) {\n                vec4 color = texture2D(uSampler, vTextureCoord);\n                \n                float border = x - width / 2.0 + (width * rate); // alpha:1 \u3067\u8868\u793a\u3059\u308b\u90e8\u5206\u3068\u306e\u5883\n                if(gl_FragCoord.x >= border) {\n                    float a = 0.0;\n                    float diff = gl_FragCoord.x - border;\n                    if(diff <= width * grad) {\n                        a = 1.0 - (diff / (width * grad));\n                    }\n                    color.r *= a;\n                    color.g *= a;\n                    color.b *= a;\n                    if(a < color.a) {\n                        color.a = a;\n                    }\n                }\n                gl_FragColor = color;\n            }\n        ":"\n            precision mediump float;\n            varying vec2 vTextureCoord;\n            uniform sampler2D uSampler;\n\n            uniform float x; //\u30bf\u30fc\u30b2\u30c3\u30c8\u306ex\u5ea7\u6a19(\u4e2d\u5fc3\u70b9)\n            uniform float width;\n            uniform float rate;\n            uniform float grad;\n\n            void main(void) {\n                vec4 color = texture2D(uSampler, vTextureCoord);\n                \n                float border = x + width / 2.0 - (width * rate); // alpha:1 \u3067\u8868\u793a\u3059\u308b\u90e8\u5206\u3068\u306e\u5883\n                if(gl_FragCoord.x <= border) {\n                    float a = 0.0;\n                    float diff = border - gl_FragCoord.x;\n                    if(diff <= width * grad) {\n                        a = 1.0 - (diff / (width * grad));\n                    }\n                    color.r *= a;\n                    color.g *= a;\n                    color.b *= a;\n                    if(a < color.a) {\n                        color.a = a;\n                    }\n                }\n                gl_FragColor = color;\n            }\n        ";return t.call(this,null,o,{x:{type:"1f",value:e},width:{type:"1f",value:i},rate:{type:"1f",value:1},grad:{type:"1f",value:.5}})||this}return n(e,t),e}(PIXI.Filter);e.MeltIntoSlotitemFilter=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i,n,o,r){void 0===r&&(r=1);var s=Math.sqrt(n/2*n/2+o*o);return t.call(this,null,"\n            precision mediump float;\n            varying vec2 vTextureCoord;\n            uniform sampler2D uSampler;\n\n            uniform float x;\n            uniform float y;\n            uniform float r;\n            uniform float width;\n            uniform float height;\n            uniform float rate;\n            uniform float grad;\n\n            void main(void) {\n                vec4 color = texture2D(uSampler, vTextureCoord);\n                \n                float dx = abs(gl_FragCoord.x - x);\n                float dy = abs((720.0 - gl_FragCoord.y) - (y + height / 2.0));\n                float d = sqrt(dx * dx + dy * dy);\n                if(d > r * rate) {\n                    float a = min((d - r * rate), (r * grad));\n                    a = 1.0 - a / (r * grad);\n                    //float a = 0.5;\n                    color.r *= a;\n                    color.g *= a;\n                    color.b *= a;\n                    if(a < color.a) {\n                        color.a = a;\n                    }\n                }\n                gl_FragColor = color;\n            }\n        ",{x:{type:"1f",value:e},y:{type:"1f",value:i},r:{type:"1f",value:s},width:{type:"1f",value:n},height:{type:"1f",value:o},rate:{type:"1f",value:1},grad:{type:"1f",value:.5}})||this}return n(e,t),e}(PIXI.Filter);e.MeltIntoUseitemFilter=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(24),s=i(67),a=function(t){function e(){var e=t.call(this)||this;return e._items=[],e._canvas=new PIXI.Container,e.addChild(e._canvas),e._images=[],e}return n(e,t),e.prototype.add=function(t){this._items.push(t)},e.prototype.initialize=function(t){this._loadUseitemResources(t)},e.prototype._loadUseitemResources=function(t){for(var e=this,i=new s.UseitemLoader,n=0,o=this._items;n<o.length;n++){var r=o[n];6==r.type&&i.add(r.id,2)}i.load(function(){e._loadSlotitemResources(t)})},e.prototype._loadSlotitemResources=function(t){for(var e=this,i=new r.SlotLoader,n=0,o=this._items;n<o.length;n++){var s=o[n];2==s.type&&i.add(s.id,"card")}i.load(function(){e._display(),t&&t()})},e.prototype._display=function(){for(var t=0,e=this._items;t<e.length;t++){var i=e[t];if(6==i.type){var n=new PIXI.Sprite;n.texture=o.default.resources.getUseitem(i.id,2),i.size>0?n.scale.set(i.size/n.width):n.scale.set(135/n.width),this._canvas.addChild(n),this._images.push(n)}else{var n=new PIXI.Sprite;n.texture=o.default.resources.getSlotitem(i.id,"card"),i.size>0?n.scale.set(i.size/n.width):n.scale.set(168/n.width),this._canvas.addChild(n),this._images.push(n)}}this._layout()},e.prototype._layout=function(){for(var t=0,e=0,i=0,n=this._images;i<n.length;i++){var o=n[i];t=Math.max(t,o.width),e=Math.max(e,o.height)}switch(this._images.length){case 1:this._images[0].x=0,this._images[0].y=0;break;case 2:this._images[0].x=0,this._images[0].y=e-this._images[0].height,this._images[1].x=this._images[0].width+4,this._images[1].y=e-this._images[1].height;break;case 3:this._images[0].x=0,this._images[0].y=e-this._images[0].height,this._images[1].x=this._images[0].width+4,this._images[1].y=e-this._images[1].height,this._images[2].x=this._images[1].x+this._images[1].width+4,this._images[2].y=e-this._images[2].height;break;case 4:this._images[0].x=t-this._images[0].width-Math.round(2),this._images[0].y=e-this._images[0].height-Math.round(2),this._images[1].x=t+Math.round(2),this._images[1].y=e-this._images[1].height-Math.round(2),this._images[2].x=t-this._images[2].width-Math.round(2),this._images[2].y=e+Math.round(2),this._images[3].x=t+Math.round(2),this._images[3].y=e+Math.round(2)}this._canvas.x=-Math.round(this._canvas.width/2),this._canvas.y=-Math.round(this._canvas.height/2)},e}(PIXI.Container);e.MeltIntoSprite=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(10),s=i(48),a=function(t){function e(e,i){return t.call(this,e,i)||this}return n(e,t),Object.defineProperty(e.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),e.prototype._createContent=function(){var t=r.COMMON_MISC.getTexture(50);this._img=new PIXI.Sprite(t),this._img.x=-135,this._img.y=-135;var e=new PIXI.Sprite;switch(this.model.deck_id){case 2:e.texture=r.COMMON_MISC.getTexture(77);break;case 3:e.texture=r.COMMON_MISC.getTexture(80);break;case 4:e.texture=r.COMMON_MISC.getTexture(83)}e.position.set(117,40),this._img.addChild(e),this._dialog.container.addChild(this._img),this._text1=new o.TextBox(25,16774898),this._text1.text=this.model.deck_name+"\u304c",this._text1.x=-Math.round(this._text1.width/2),this._text2=new o.TextBox(25,16774898),this._text2.text="\u89e3\u653e\u3055\u308c\u307e\u3057\u305f\uff01",this._text2.x=-Math.round(this._text2.width/2),this._text2.y=this._text1.y+this._text1.height,this._dialog.container.addChild(this._text1),this._dialog.container.addChild(this._text2),this._showDialog()},e.prototype._removeContent=function(){this._dialog.container.removeChild(this._img),this._img=null,this._dialog.container.removeChild(this._text1),this._dialog.container.removeChild(this._text2),this._text1.destroy(),this._text2.destroy(),this._text1=null,this._text2=null},e}(s.TaskRewardDialogBase);e.TaskRewardDialogDeck=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(48),r=i(10),s=function(t){function e(e,i){return t.call(this,e,i)||this}return n(e,t),Object.defineProperty(e.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),e.prototype._createContent=function(){var t=r.COMMON_MISC.getTexture(148);this._card=new PIXI.Sprite(t),this._card.x=-135,this._card.y=-135,this._dialog.container.addChild(this._card),this._showDialog()},e.prototype._removeContent=function(){this._dialog.container.removeChild(this._card),this._card=null},e}(o.TaskRewardDialogBase);e.TaskRewardDialogExtraSupply=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(306),s=i(4),a=i(78),_=i(48),l=function(t){function e(e,i){return t.call(this,e,i)||this}return n(e,t),Object.defineProperty(e.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),e.prototype._createContent=function(){var t=this,e=this.model.mst_id,i=this.model.name,n=new a.FurnitureLoader;n.add(e,"reward"),n.load(function(){var n=o.default.model.furniture.getData(e);if(null!=n){var a=(n.type,o.default.resources.getFurniture(e,"reward"));t._thumb=new r.FurnitureThumbnail(!0),t._thumb.position.set(-123,-187),t._thumb.initialize(),t._thumb.update(a),t._dialog.container.addChild(t._thumb),t._text=new s.TextBox(25,16774898),t._text.text=i,t._text.x=-Math.round(t._text.width/2),t._text.y=124,t._dialog.container.addChild(t._text)}t._showDialog()})},e.prototype._removeContent=function(){null!=this._thumb&&null!=this._thumb.parent&&this._thumb.parent.removeChild(this._thumb),this._thumb=null,null!=this._text&&(null!=this._text.parent&&this._text.parent.removeChild(this._text),this._text.destroy()),this._text=null},e}(_.TaskRewardDialogBase);e.TaskRewardDialogFurniture=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(10),s=i(48),a=function(t){function e(e,i){return t.call(this,e,i)||this}return n(e,t),Object.defineProperty(e.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),e.prototype._createContent=function(){var t=r.COMMON_MISC.getTexture(147);this._img=new PIXI.Sprite(t),this._img.x=-135,this._img.y=-135,this._dialog.container.addChild(this._img),this._text1=new o.TextBox(25,16774898),this._text1.text="\u5927\u578b\u8266\u5efa\u9020\u304c",this._text1.x=-Math.round(this._text1.width/2),this._text2=new o.TextBox(25,16774898),this._text2.text="\u958b\u653e\u3055\u308c\u307e\u3057\u305f\uff01",this._text2.x=-Math.round(this._text2.width/2),this._text2.y=this._text1.y+this._text1.height,this._dialog.container.addChild(this._text1),this._dialog.container.addChild(this._text2),this._showDialog()},e.prototype._removeContent=function(){this._dialog.container.removeChild(this._img),this._img=null,this._dialog.container.removeChild(this._text1),this._dialog.container.removeChild(this._text2),this._text1.destroy(),this._text1=null,this._text2.destroy(),this._text2=null},e}(s.TaskRewardDialogBase);e.TaskRewardDialogLargeBuild=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(12),r=i(205),s=i(4),a=i(48),_=i(6),l=i(10),u=function(t){function e(e,i){return t.call(this,e,i)||this}return n(e,t),Object.defineProperty(e.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),e.prototype._createContent=function(){var t=this;this._black=new PIXI.Graphics,this._black.beginFill(0,1),this._black.drawRect(-270,-195,540,390),this._black.endFill(),this._black.alpha=0,this._dialog.bg.addChild(this._black),this._img=new r.MapThumbnailImage,this._dialog.container.addChild(this._img),this._particle=new c,this._particle.initialize(),this._particle.position.set(0,-27),this._dialog.container.addChild(this._particle),this._text=new s.TextBox(25,16774898),this._text.text="\u65b0\u305f\u306a\u4f5c\u6226\u6d77\u57df\u3078\u306e\u51fa\u6483\u304c\u53ef\u80fd\u3067\u3059\uff01",this._text.x=-Math.round(this._text.width/2),this._text.y=97,this._dialog.container.addChild(this._text);var e=this.model.area_id,i=this.model.map_no;this._img.setImage(e,i,function(){var e=488/t._img.width;t._img.scale.set(e),t._img.x=-Math.round(t._img.width/2),t._img.y=-27-Math.round(t._img.height/2),t._particle.startAnimation(),t._showDialog()})},e.prototype._showDialog=function(){var t=this;createjs.Tween.get(this._dialog.bg).to({scaleX:1,scaleY:1,alpha:1},200).call(function(){createjs.Tween.get(t._black).to({alpha:1},200).call(function(){t._showContent()})})},e.prototype._showContentComplete=function(){_.SE.play("243"),t.prototype._showContentComplete.call(this)},e.prototype._removeContent=function(){this._removeChild(this._black),this._black=null,this._dialog.container.removeChild(this._img),this._img=null,this._particle.stopAnimation(),this._dialog.container.removeChild(this._particle),this._particle=null,this._dialog.container.removeChild(this._text),this._text.destroy(),this._text=null},e.prototype._removeChild=function(t){null!=t&&null!=t.parent&&t.parent.removeChild(t)},e}(a.TaskRewardDialogBase);e.TaskRewardDialogMap=u;var c=function(t){function e(){var e=t.call(this)||this;e._particles=[];for(var i=[222,244,199,-199,-177,-154,-132,-244,-222,-199,-177,-244,-222,-199],n=[-108,-87,-87,19,42,64,87,19,42,64,87,64,87,109],o=0;o<14;o++){var r=new h;r.x=i[o],r.y=n[o],e.addChild(r),e._particles.push(r)}return e}return n(e,t),e.prototype.initialize=function(){for(var t=0,e=this._particles;t<e.length;t++){e[t].initialize()}},e.prototype.startAnimation=function(){for(var t=0,e=this._particles;t<e.length;t++){e[t].startAnimation()}},e.prototype.stopAnimation=function(){for(var t=0,e=this._particles;t<e.length;t++){e[t].stopAnimation()}},e}(PIXI.Container),h=function(t){function e(){var e=t.call(this)||this;return e._animation=function(){e._img.rotation=Math.random()*Math.PI*2;var t=2e3*Math.random();e._t1=createjs.Tween.get(e._img).wait(t).to({scaleX:1,scaleY:1},100).to({scaleX:0,scaleY:0},200).call(e._animation),e._t2=createjs.Tween.get(e).wait(t).to({rotation:Math.random()*Math.PI/5},300)},e._img=new o.Sprite,e._img.anchor.set(.5),e._img.scale.set(0),e.addChild(e._img),e}return n(e,t),e.prototype.initialize=function(){this._img.texture=l.COMMON_MISC.getTexture(115)},e.prototype.startAnimation=function(){null==this._t1&&this._animation()},e.prototype.stopAnimation=function(){null!=this._t1&&(this._t1.setPaused(!0),this._t1=null,this._t2.setPaused(!0),this._t2=null)},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(304),s=i(305),a=i(48),_=function(t){function e(e,i,n,o){var r=t.call(this,e,i)||this;return r._quest_id=n,r._fade=o,r}return n(e,t),Object.defineProperty(e.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),e.prototype._createContent=function(){this._showDialog()},e.prototype._showDialog=function(){this._showContent()},e.prototype._showContent=function(){var t=this,e=this._getModel();if(null==e){e=new r.ModelChangeModelEdit;var i=this.model.mst_id_from;e.setItemFrom(i);var n=this.model.mst_id_to;e.setItemTobe(n);var a=this.model.message2;e.setMessage("\u6a5f\u7a2e\u8ee2\u63db\u4e2d...",a)}this.model.need_basic_update=e.isNeedUpdateUserBasic(),this.model.need_useitem_update=e.isNeedUpdateUseitem();var _=o.default.view.overLayer,l=new s.ModelChangeTask(_,e);this._fade.visible=!1,l.start(function(){t._fade.visible=!0,t._showContentComplete()})},e.prototype._removeContent=function(){},e.prototype._showContentComplete=function(){this._removeContent(),this._endTask()},e.prototype._getModel=function(){var t=this._quest_id;if(620==t){var e=new r.ModelChangeModelEdit;e.setItemFrom(this.model.mst_id_from),e.setItemTobe(this.model.mst_id_to);var i="\u7b2c\u4e00\u822a\u7a7a\u6226\u968a\u300c\u6d41\u661f\u6539\u300d\u7cbe\u92ed\u8266\u653b\u968a\u306e\u7de8\u6210\u4e2d\u2026",n=this.model.message2;return e.setMessage(i,n),e.addMeltIntoUseitem([32,34],1),e.addMeltIntoUseitem([70,70],2),e}if(621==t){var e=new r.ModelChangeModelEdit;e.setItemFrom(this.model.mst_id_from),e.setItemTobe(this.model.mst_id_to);var i="\u9678\u6226\u7528\u88c5\u5099\u306e\u8266\u8f09\u904b\u7528\u3092\u7814\u7a76\u4e2d",n=this.model.message2;return e.setMessage(i,n),e.addMeltIntoUseitem([32,3],1),e.addMeltIntoUseitem([2],2),e}if(629==t||630==t){var e=new r.ModelChangeModelEdit;e.setItemFrom(this.model.mst_id_from),e.setItemTobe(this.model.mst_id_to);var i="\u90e8\u968a\u518d\u7de8\u4e2d...",n=this.model.message2;return e.setMessage(i,n),e}if(626==t||659==t||660==t){var e=new r.ModelChangeModelEdit;e.setItemFrom(this.model.mst_id_from),e.setItemTobe(this.model.mst_id_to);var i="\u90e8\u968a\u518d\u7de8\u4e2d...",n=this.model.message2;return e.setMessage(i,n),e.addMeltIntoTojoin(70,2),e}if(637==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(19),e.setItemTobe(70,!0),e.setMessage("\u300c\u719f\u7df4\u642d\u4e57\u54e1\u306e\u990a\u6210\u300d\u4efb\u52d9\u9042\u884c\u4e2d",this.model.message2),e.addMeltIntoUseitem([57,57],1),e}if(639==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(58),e.setItemTobe(179),e.setMessage("\u300c\u8a66\u88fd\u5175\u88c5\u306e\u958b\u767a\u300d\u4efb\u52d9\u9042\u884c\u4e2d",this.model.message2),e.addMeltIntoUseitem([57,57],1),e.addMeltIntoSlotitem([58],2),e}if(641==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(-1),e.setItemTobe(168),e.setMessage("\u300c\u822a\u7a7a\u57fa\u5730\u8a2d\u55b6\u300d\u4e8b\u524d\u6e96\u5099\u3092\u5b9f\u65bd\u4e2d\u2026",this.model.message2),e.addMeltIntoSlotitem([37,37],1),e.addMeltIntoSlotitem([19,19],2),e}if(642==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(-1),e.setItemTobe(168),e.setMessage("\u300c\u9678\u653b\u300d\u968a\u306e\u5897\u52e2\u3092\u5b9f\u65bd\u4e2d\u2026",this.model.message2),e.addMeltIntoSlotitem([37,37],1),e.addMeltIntoSlotitem([23,23],2),e}if(643==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(168),e.setItemTobe(169),e.setMessage("\u4e3b\u529b\u300c\u9678\u653b\u300d\u3092\u8abf\u9054\u4e2d\u2026",this.model.message2),e.addMeltIntoSlotitem([16,16],1),e}if(644==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(169),e.setItemTobe(180),e.setMessage("\u300c\u4e00\u5f0f\u9678\u653b\u300d\u6027\u80fd\u5411\u4e0a\u578b\u3092\u8abf\u9054\u4e2d\u2026",this.model.message2),e.addMeltIntoSlotitem([17,17],1),e}if(645==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(-1),e.setItemTobe(146),e.setMessage("\u300c\u6d0b\u4e0a\u88dc\u7d66\u300d\u7269\u8cc7\u3092\u8abf\u9054\u4e2d\u2026",this.model.message2),e.addMeltIntoUseitem([31,32],1),e.addMeltIntoSlotitem([75,75,36],2),e}if(646==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(-1),e.setItemTobe(52,!0),e.setMessage("\u300c\u7279\u6ce8\u5bb6\u5177\u8077\u4eba\u300d\u3092\u62db\u8058\u4e2d\u2026",this.model.message2),e.addMeltIntoUseitem([44],1),e.addMeltIntoSlotitem([39,39,40,40],2),e}if(648==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(-1),e.setItemTobe(52,!0),e.setMessage("\u300c\u7279\u6ce8\u5bb6\u5177\u8077\u4eba\u300d\u3092\u62db\u8058\u4e2d\u2026",this.model.message2),e.addMeltIntoUseitem([44],1),e.addMeltIntoSlotitem([14,14],2),e.addMeltIntoSlotitem([11,11],2),e}if(649==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(-1),e.setItemTobe(151),e.setMessage("\u300c\u65b0\u6a5f\u8ef8\u5075\u5bdf\u6a5f\u300d\u3092\u958b\u767a\u4e2d\u2026",this.model.message2),e.addMeltIntoSlotitem([169],1),e.addMeltIntoSlotitem([54,54],2),e}if(650==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(-1),e.setItemTobe(200),e.setMessage("\u300c\u5674\u5f0f\u6226\u95d8\u7206\u6483\u6a5f\u300d\u3092\u958b\u767a\u4e2d\u2026",this.model.message2),e.addMeltIntoUseitem([74,74],1),e.addMeltIntoUseitem([71],2),e}if(651==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(-1),e.setItemTobe(71,!0),e.setMessage("\u300c\u71c3\u713c\u5674\u5c04\u63a8\u9032\u5668\u300d\u3092\u5897\u7523\u4e2d\u2026",this.model.message2),e.addMeltIntoSlotitem([18,18],1),e.addMeltIntoSlotitem([22,22],2),e}if(652==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(-1),e.setItemTobe(52,!0),e.setMessage("\u300c\u7279\u6ce8\u5bb6\u5177\u8077\u4eba\u300d\u3092\u62db\u8058\u4e2d\u2026",this.model.message2),e.addMeltIntoUseitem([44],1),e.addMeltIntoSlotitem([37,37],2),e.addMeltIntoSlotitem([19,19],2),e}if(653==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(-1),e.setItemTobe(52,!0),e.setMessage("\u7bc0\u5206\u6e96\u5099\uff1a\u300c\u7279\u6ce8\u5bb6\u5177\u8077\u4eba\u300d\u3092\u62db\u8058\u4e2d\u2026",this.model.message2),e.addMeltIntoUseitem([44],1),e.addMeltIntoSlotitem([1,1],2),e.addMeltIntoSlotitem([25,25],2),e}if(654==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(-1),e.setItemTobe(209),e.setMessage("\u3010\u4e19\u3011\u4f5c\u6226\u7528\uff1a\u300c\u5f69\u96f2\u300d\u8abf\u9054\uff06\u8f38\u9001\u5206\u89e3\u4e2d",this.model.message2),e.addMeltIntoUseitem([3],1),e.addMeltIntoSlotitem([16],2),e}if(655==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(-1),e.setItemTobe(209),e.setMessage("\u300c\u5149\u300d\u4f5c\u6226\u7528\uff1a\u300c\u5f69\u96f2\u300d\u8f38\u9001\u5206\u89e3\u4e2d",this.model.message2),e.addMeltIntoUseitem([3],1),e.addMeltIntoSlotitem([54],2),e}if(656==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(207),e.setItemTobe(208),e.setMessage("\u7b2c\u4e00\u6f5c\u6c34\u968a\u904b\u7528\u822a\u7a7a\u968a\uff1a\u300c\u6674\u5d50(\u516d\u4e09\u4e00\u7a7a)\u300d\u3092\u7de8\u6210\u4e2d\u2026",this.model.message2),e.addMeltIntoSlotitem([62],1),e}if(657==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(-1),e.setItemTobe(62,!0),e.setMessage("\u6625\u306e\u6e96\u5099\uff1a\u6843\u306e\u7bc0\u53e5\u306e\u6e96\u5099\u4e2d\u2026",this.model.message2),e.addMeltIntoUseitem([44],1),e.addMeltIntoSlotitem([23,23],2),e.addMeltIntoSlotitem([13,13],2),e}if(658==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(-1),e.setItemTobe(213),e.setMessage("\u300c\u65b0\u578b\u6f5c\u6c34\u8266\u5175\u88c5\u300d\u3092\u958b\u767a\u4e2d\u2026",this.model.message2),e.addMeltIntoUseitem([3],1),e.addMeltIntoSlotitem([15,15,15],2),e.addMeltIntoSlotitem([46,46,46],2),e}if(666==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(79),e.setItemTobe(237),e.setMessage("\u7cbe\u92ed\u300c\u745e\u96f2\u300d\u968a\u306e\u7de8\u6210\u4e2d\u2026",this.model.message2),e.addMeltIntoSlotitem([23,23],1),e.addMeltIntoSlotitem([26,26],2),e.addMeltIntoTojoin(70,2),e}if(668==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(-1),e.setItemTobe(241),e.setMessage("\u3088\u304f\u7092\u3081\u3066\u300c\u65b0\u578b\u306e\u304a\u306b\u304e\u308a\u300d\u3092\u8abf\u7406\u4e2d\u2026",this.model.message2),e.addMeltIntoUseitem([31],1),e.addMeltIntoUseitem([34],1),e.addMeltIntoSlotitem([145,145],2,170),e}if(669==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(205),e.setItemTobe(254),e.setMessage("\u591c\u6226\u578b\u8266\u4e0a\u6226\u95d8\u6a5f\u3092\u958b\u767a\u4e2d\u2026",this.model.message2),e.addMeltIntoUseitem([77,3],1),e.addMeltIntoUseitem([4,34],2),e}if(670==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(206),e.setItemTobe(255),e.setMessage("\u591c\u6226\u578b\u8266\u4e0a\u6226\u95d8\u6a5f\u3092\u958b\u767a\u4e2d\u2026",this.model.message2),e.addMeltIntoUseitem([77,3],1),e.addMeltIntoUseitem([4,34],2),e}if(671==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(256),e.setItemTobe(257),e.setMessage("\u591c\u9593\u4f5c\u6226\u578b\u8266\u4e0a\u653b\u6483\u6a5f\u3092\u958b\u767a\u4e2d\u2026",this.model.message2),e.addMeltIntoUseitem([77,3],1),e.addMeltIntoUseitem([4,34],2),e}if(672==t){var e=new r.ModelChangeModelEdit;return e.setItemFrom(107),e.setItemTobe(272),e.setMessage("\u300c\u904a\u6483\u90e8\u968a \u8266\u968a\u53f8\u4ee4\u90e8\u300d\u3092\u5275\u8a2d\u4e2d\u2026",this.model.message2),e.addMeltIntoUseitem([33,3],1),e.addMeltIntoUseitem([78,78],2,150),e}if(678==t){var e=new r.ModelChangeModelEdit;e.setItemFrom(this.model.mst_id_from),e.setItemTobe(this.model.mst_id_to);var i="\u914d\u5099\u4e2d\u306e\u4e3b\u529b\u8266\u6226\u3092\u66f4\u65b0\u4e2d\u2026\u2026",n=this.model.message2;return e.setMessage(i,n),e}if(683==t){var e=new r.ModelChangeModelEdit;e.setItemFrom(this.model.mst_id_from),e.setItemTobe(this.model.mst_id_to);var i="\u822a\u7a7a\u6226\u8266\u7528\u65b0\u578b\u7832\u7195\u5175\u88c5\u3092\u958b\u767a\u4e2d\u2026",n=this.model.message2;return e.setMessage(i,n),e.addMeltIntoUseitem([75,75,3],1),e.addMeltIntoUseitem([2,33],2),e}if(684==t){var e=new r.ModelChangeModelEdit;e.setItemFrom(this.model.mst_id_from),e.setItemTobe(this.model.mst_id_to);var i="\u7cbe\u92ed\u300c\u822a\u7a7a\u6226\u8266\u300d\u5f57\u661f\u968a\u306e\u7de8\u6210\u4e2d\u2026",n=this.model.message2;return e.setMessage(i,n),e.addMeltIntoUseitem([70,3],1),e.addMeltIntoUseitem([77,34],2),e}if(685==t||686==t){var e=new r.ModelChangeModelEdit;e.setItemFrom(this.model.mst_id_from),e.setItemTobe(this.model.mst_id_to);var i="\u7279\u578b\u99c6\u9010\u8266\u7528\u4e3b\u7832\u5175\u88c5\u3092\u6226\u6642\u6539\u4fee\u4e2d\u2026",n=this.model.message2;return e.setMessage(i,n),e.addMeltIntoUseitem([75,3],1),e.addMeltInto([{id:121,type:2},{id:33,type:6}],2,0),e}if(687==t){var e=new r.ModelChangeModelEdit;e.setItemFrom(this.model.mst_id_from),e.setItemTobe(this.model.mst_id_to);var i="\u99c6\u9010\u8266\u7528\u4e3b\u7832\u5175\u88c5\u3092\u6226\u6642\u6539\u4fee\u4e2d\u2026",n=this.model.message2;return e.setMessage(i,n),e.addMeltIntoUseitem([75,3],1),e.addMeltInto([{id:121,type:2},{id:33,type:6}],2,0),e}if(695==t){var e=new r.ModelChangeModelEdit;e.setItemFrom(this.model.mst_id_from),e.setItemTobe(this.model.mst_id_to);var i="\u300c\u5f57\u661f\u300d\u8266\u7206\u306b\u3088\u308b\u4e09\u53f7\u7206\u5f3e\u904b\u7528\u3092\u7814\u7a76\u4e2d\u2026\u2026",n=this.model.message2;return e.setMessage(i,n),e.addMeltIntoUseitem([77],1),e.addMeltIntoUseitem([32,34],2),e}if(696==t){var e=new r.ModelChangeModelEdit;e.setItemFrom(this.model.mst_id_from),e.setItemTobe(this.model.mst_id_to);var i="\u6700\u7cbe\u92ed\u300c\u745e\u96f2\u300d\u968a\u306e\u7de8\u6210\u4e2d\u2026",n=this.model.message2;return e.setMessage(i,n),e.addMeltIntoUseitem([77],1),e.addMeltIntoUseitem([70,70],2),e}return null},e}(a.TaskRewardDialogBase);e.TaskRewardDialogModelChange=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(4),s=i(48),a=function(t){function e(e,i){var n=t.call(this,e,null)||this;return n._models=i,n}return n(e,t),e.prototype._createContent=function(){this._icons=[],this._text=new r.TextBox(25,16774898),this._dialog.container.addChild(this._text);for(var t="",e=0,i=this._models.rewards;e<i.length;e++){var n=i[e],s=o.default.resources.getUseitem(n.mst_id,0),a=new PIXI.Sprite(s);a.y=-121,this._dialog.container.addChild(a),this._icons.push(a),t+=n.name+"\xd7"+n.count+"\n"}this._text.text=t,this._text.x=-Math.round(this._text.width/2),this._models.rewards.length>=6?this._text.y=-30:5==this._models.rewards.length?this._text.y=-15:this._text.y=0;for(var _=this._icons.length,l=[0,0,96,75,45,30,15][_],u=75*_+l*(_-1),c=0;c<_;c++){var a=this._icons[c];a.x=-u/2+(75+l)*c}this._showDialog()},e.prototype._removeContent=function(){this._dialog.container.removeChild(this._text),this._text.destroy(),this._text=null;for(var t=0,e=this._icons;t<e.length;t++){var i=e[t];this._dialog.container.removeChild(i)}this._icons=null},e}(s.TaskRewardDialogBase);e.TaskRewardDialogMultiUseitem=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(13),s=i(48),a=function(t){function e(e,i){return t.call(this,e,i)||this}return n(e,t),Object.defineProperty(e.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),e.prototype._createContent=function(){var t=this,e=this.model.mst_id,i=new r.ShipLoader;i.add(e,!1,"card"),i.load(function(){var i=o.default.resources.getShip(e,!1,"card");t._card=new PIXI.Sprite(i),t._card.x=-Math.round(t._card.width/2),t._card.y=-Math.round(t._card.height/2),t._dialog.container.addChild(t._card),t._showDialog()})},e.prototype._removeContent=function(){this._dialog.container.removeChild(this._card),this._card=null},e}(s.TaskRewardDialogBase);e.TaskRewardDialogShip=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(24),s=i(48),a=function(t){function e(e,i){return t.call(this,e,i)||this}return n(e,t),Object.defineProperty(e.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),e.prototype._createContent=function(){var t=this,e=this.model.mst_id,i=new r.SlotLoader;i.add(e,"card"),i.load(function(){var i=o.default.resources.getSlotitem(e,"card");t._card=new PIXI.Sprite(i),t._card.x=-Math.round(t._card.width/2),t._card.y=-Math.round(t._card.height/2),t._dialog.container.addChild(t._card),t._showDialog()})},e.prototype._removeContent=function(){this._dialog.container.removeChild(this._card),this._card=null},e}(s.TaskRewardDialogBase);e.TaskRewardDialogSlotitem=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(67),s=i(48),a=function(t){function e(e,i){return t.call(this,e,i)||this}return n(e,t),Object.defineProperty(e.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),e.prototype._createContent=function(){var t=this,e=this.model.mst_id,i=new r.UseitemLoader;i.add(e,1),i.load(function(){var i=o.default.resources.getUseitem(e,1);t._card=new PIXI.Sprite(i),t._card.x=-Math.round(t._card.width/2),t._card.y=-Math.round(t._card.height/2),t._dialog.container.addChild(t._card),t._showDialog()})},e.prototype._removeContent=function(){this._dialog.container.removeChild(this._card),this._card=null},e}(s.TaskRewardDialogBase);e.TaskRewardDialogUseitem=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=i(48),s=function(t){function e(e,i){return t.call(this,e,i)||this}return n(e,t),Object.defineProperty(e.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),e.prototype._createContent=function(){this._panel=new PIXI.Container;var t=new PIXI.Sprite(o.COMMON_MISC.getTexture(165));t.position.set(-267,-138),this._panel.addChild(t);var e=new PIXI.Sprite(o.COMMON_MISC.getTexture(164));e.position.set(-45,-12),this._panel.addChild(e);var i=new PIXI.Sprite(o.COMMON_MISC.getTexture(166));i.position.set(-67,102),this._panel.addChild(i);var n=new PIXI.Sprite;350==this.model.value?(n.texture=o.COMMON_MISC.getTexture(167),n.position.set(-10,99)):200==this.model.value?(n.texture=o.COMMON_MISC.getTexture(168),n.position.set(-12,99)):300==this.model.value?(n.texture=o.COMMON_MISC.getTexture(169),n.position.set(-11,99)):180==this.model.value?(n.texture=o.COMMON_MISC.getTexture(170),n.position.set(-12,99)):400==this.model.value?(n.texture=o.COMMON_MISC.getTexture(171),n.position.set(-11,99)):80==this.model.value&&(n.texture=o.COMMON_MISC.getTexture(172),n.position.set(-4,99)),this._panel.addChild(n),this._dialog.container.addChild(this._panel),this._showDialog()},e.prototype._removeContent=function(){this._dialog.container.removeChild(this._panel),this._panel=null},e}(r.TaskRewardDialogBase);e.TaskRewardDialogWarResult=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(10),s=function(t){function e(){var e=t.call(this)||this;e._onChange=function(){for(var t=0,i=e.children;t<i.length;t++){i[t].update()}};for(var i=0;i<30;i++){var n=new a;e.addChild(n)}return e.visible=!1,e}return n(e,t),e.prototype.activate=function(){null==this._t&&(this._t=createjs.Tween.get(null,{loop:!0,onChange:this._onChange}),this.visible=!0)},e.prototype.deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null,this.visible=!1)},e.prototype.dispose=function(){this.deactivate(),this.removeChildren()},e}(PIXI.Container);e.BonusInsertParticle=s;var a=function(t){function e(){var e=t.call(this)||this;e._vx=0,e._vy=0,e._vr=0,e._vscale=0;return e.texture=r.COMMON_MISC.getTexture(114),e._init(),e}return n(e,t),e.prototype.update=function(){if(--this._life<0&&(this.alpha-=.1*Math.random()+.1,this.alpha<=0))return void this._init();this.x+=this._vx,this.y+=this._vy,this.rotation+=this._vr,this.scale.x+=this._vscale,this.scale.y+=this._vscale;var t=60/createjs.Ticker.framerate;this._vx*=1+.01*t,this._vy+=.01*t},e.prototype._init=function(){var t=60/createjs.Ticker.framerate;this.x=o.default.width/2,this.y=o.default.height/2-45,this.alpha=1,this.scale.set(0),this._life=100*t,this._life+=100*Math.random()*t,this._vx=6*Math.random()*t,Math.random()<.5&&(this._vx*=-1),this._vy=(12*Math.random()-9)*t;var e=50/180*Math.PI*t;this._vr=(Math.random()*e+1)/100,this._vscale=(.0025*Math.random()+.005)*t},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(60),s=i(81),a=i(208),_=function(t){function e(){var e=t.call(this)||this;return e._bg=new r.RarityBG,e._ship=new PIXI.Sprite,e._particle=new a.BonusParticle,e._message_box=new s.MessageBox,e._message_box.y=721,e.addChild(e._bg),e.addChild(e._ship),e.addChild(e._particle),e.addChild(e._message_box),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"particle",{get:function(){return this._particle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message_box",{get:function(){return this._message_box},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e,i,n,r){this._ship.texture=o.default.resources.getShip(t,!1,"full"),this._message_box.initializeForShip(i,e,n),this._ship.x=r.x+221,this._ship.y=r.y-59},e.prototype.dispose=function(){this.removeChildren(),this._bg=null,this._ship=null,this._particle.dispose(),this._particle=null,this._message_box.dispose(),this._message_box=null},e}(PIXI.Container);e.BonusShip=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(14),s=function(t){function e(e){var i=t.call(this)||this;return i._skinID=e,i}return n(e,t),e.prototype._start=function(){this._load()},e.prototype._load=function(){var t=this,e=new r.UIImageLoader("port");e.add("port_main.json"),e.add("port_ringmenu.json"),e.add("port_sidemenu.json"),e.add("port_option.json"),101==this._skinID||102==this._skinID?e.add("port_skin_1.json"):201==this._skinID?(e.add("port_skin_2.json"),e.add("port_skin_circle_2.json")):301==this._skinID?(e.add("port_skin_3.json"),e.add("port_skin_circle_2.json")):311==this._skinID&&e.add("port_skin_3k.json"),e.load(function(){t._endTask()})},e}(o.TaskBase);e.TaskLoadResources=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=function(t){function e(e){var i=t.call(this)||this;return i._url="api_req_member/set_flagship_position",i._posId=e,i}return n(e,t),e.prototype._connect=function(){this._post_data.api_position_id=this._posId,t.prototype._connect.call(this)},e}(o.APIBase);e.setFlagshipPositionAPI=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(6),a=i(650),_=function(t){function e(e){var i=t.call(this)||this;return i._pre_scene=e,i}return n(e,t),e.prototype._start=function(){this._playVoice()},e.prototype._playVoice=function(){var t=o.default.model.deck.get(1),e=t.getShipModel(0),i=e.mstID.toString();if(33==this._pre_scene||32==this._pre_scene)o.default.model.basic.getMFlag2()?(s.SE.play("215"),o.default.sound.voice.play(i,26)):o.default.sound.voice.play(i,7);else if(50==o.default.model.basic.getTutorialProgress())o.default.sound.voice.play(i,26);else if(0==this._pre_scene)o.default.sound.voice.play(i,1);else{var n=Math.random();n<=.4&&(n<=.05?o.default.sound.voice.play(i,4):n<=.2?o.default.sound.voice.play(i,3):o.default.sound.voice.play(i,2))}this._playBGM()},e.prototype._playBGM=function(){var t=o.default.model.basic.port_bgm_id;o.default.sound.bgm.play(t),(new a.TaskCombinedAlert).start(),this._endTask()},e}(r.TaskBase);e.InitializeTask=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(651),a=function(t){function e(){var e=t.call(this)||this;return e._onClick=function(){e._view.deactivate(),e._hideDialog()},e}return n(e,t),e.prototype._start=function(){-1!=o.default.model.deck.combined.type?this._endTask():this._breakCombined()},e.prototype._breakCombined=function(){o.default.model.deck.combined.__update__(0),this._showDialog()},e.prototype._showDialog=function(){var t=this,e=o.default.view.overLayer;this._view=new s.CompCombinedAlert(this._onClick),this._view.bg.alpha=0,this._view.btn.alpha=0,this._view.initialize(),e.addChild(this._view),createjs.Tween.get(this._view.bg).to({alpha:1},300),createjs.Tween.get(this._view.btn).wait(100).to({alpha:1},300).call(function(){t._view.activate()})},e.prototype._hideDialog=function(){var t=this;createjs.Tween.get(this._view.btn).to({alpha:0},300),createjs.Tween.get(this._view.bg).wait(100).to({alpha:0},300).call(function(){t._view.parent.removeChild(t._view),t._endTask()})},e}(r.TaskBase);e.TaskCombinedAlert=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(8),r=i(156),s=i(1),a=function(t){function e(e){var i=t.call(this)||this;return i._onClick=function(){0!=i._btn.buttonMode&&null!=i._cb&&i._cb()},i._cb=e,i._layer=new o.AreaBox(.2),i._bg=new PIXI.Sprite,i._btn=new PIXI.Sprite,i.addChild(i._layer),i.addChild(i._bg),i.addChild(i._btn),i}return n(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return this._layer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn",{get:function(){return this._btn},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._bg.texture=r.PORT_MAIN.getTexture(18),this._bg.position.set(340,273),this._btn.texture=r.PORT_MAIN.getTexture(1),this._btn.position.set(517,450),this._btn.interactive=!0},e.prototype.activate=function(){0==this._btn.buttonMode&&(this._btn.buttonMode=!0,this._btn.on(s.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this._btn.buttonMode=!1,this._btn.off(s.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate(),this._cb=null},e}(PIXI.Container);e.CompCombinedAlert=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=function(t){function e(e){var i=t.call(this)||this;return i._view=e,i}return n(e,t),e.prototype._start=function(){this._view.deactivate(),this._endTask()},e}(o.TaskBase);e.FinalizeTask=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(270),r=i(271),s=i(34),a=i(158),_=i(210),l=i(128),u=i(108),c=i(654),h=i(655),p=i(656),d=i(657),f=i(658),y=i(659),m=i(660),g=i(662),v=i(664),b=function(t){function e(e){void 0===e&&(e=0);var i=t.call(this)||this;return i._sceneId=e,i._isStart=!0,i._isGoNextPath=!0,i._shipId=null,i._onSceneStart=function(){switch(i._isStart){case!0:return i._isStart=!1,i._ViewMain.start(),i._CurrentScene.start(),i;case!1:return i._loader.hide(),i._NextScene.start(),i._isGoNextPath&&i._ev.emit("tutorial-next"),i}},i._onNextScene=function(){if(i._loader.show(),i._sceneId++,i._NextScene=i._createNextScene(),i._SoundManager.voice.stopAll(),null==i._NextScene)return i.dispose(),!1;i._NextScene.initialize(),i._ViewScene.addChild(i._NextScene),i._CurrentScene.dispose(),i._CurrentScene=i._NextScene},i._onRemoveScene=function(){i._ViewScene.removeChildAt(0),i._CurrentScene=i._NextScene},i._onPlayVoice=function(t,e,n){void 0===n&&(n=null),i._SoundManager.voice.play(t,e,n)},i._saveShipId=function(t){i._shipId=t},i._ImageManager=new c.ImageManager(i._create.bind(i)),i._SoundManager=new o.SoundManager,i._ev=new PIXI.utils.EventEmitter,i._ev.on("tutorial-scene-start",i._onSceneStart).on("tutorial-next-scene",i._onNextScene).on("tutorial-remove-scene",i._onRemoveScene).on("tutorial-play-voice",i._onPlayVoice).on("tutorial-save-ship",i._saveShipId),i.emitter=new PIXI.utils.EventEmitter,i}return n(e,t),e.prototype.start=function(){this._ViewMain.start(),this._CurrentScene.start()},e.prototype._create=function(){var t=new PIXI.Sprite(this._ImageManager.use(u.IMAGE_FILE.BG));this._ViewMain=new h.ViewMain(this._ImageManager,this._ev),this._ViewScene=new PIXI.Container,this._CurrentScene=this._createNextScene(),this._CurrentScene.initialize(),this._ViewScene.addChild(this._CurrentScene),this._loader=new r.LoadingBox,this._loader.hide(),this.addChild(t,this._ViewScene,this._ViewMain,this._loader)},e.prototype._createNextScene=function(){switch(this._sceneId){case 0:return this._isGoNextPath=!0,new m.SceneInputName(this._ev);case 1:return this._isGoNextPath=!0,new g.SceneSelectShip(this._ImageManager,this._ev);case 2:return this._isGoNextPath=!0,new p.SceneExplain1(this._ev);case 3:return this._isGoNextPath=!0,new d.SceneExplain2(this._ev);case 4:return this._isGoNextPath=!0,new f.SceneExplain3(this._ev);case 5:return this._isGoNextPath=!1,new y.SceneFinal(this._ImageManager,this._ev,this._shipId);default:return null}},e.prototype.dispose=function(){var t=this;this._ev.off("tutorial-scene-start",this._onSceneStart).off("tutorial-next-scene",this._onNextScene).off("tutorial-remove-scene",this._onRemoveScene).off("tutorial-play-voice",this._onPlayVoice).off("tutorial-save-ship",this._saveShipId);var e=new s.APIConnector,i=parseInt(this._shipId,10);e.add(new v.APIFirstShip(i)),e.add(new a.UserDataAPI),e.add(new _.UserShipAPI),e.add(new l.UserSlotItemAPI),e.start(function(){t._loader.hide(),createjs.Tween.get(t).to({alpha:0},400,createjs.Ease.linear).call(function(){t._ViewMain.dispose(),t._CurrentScene.dispose(),t._CurrentScene=null,t._NextScene=null,t.removeChildren(),t.emitter.emit("tutorial-event-end")})})},e}(PIXI.Container);e.TutorialScene=b},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(108),r=function(){function t(t){void 0===t&&(t=null),this.path="img/tutorial",this.prefix="tutorial_",this._loader=new PIXI.loaders.Loader(n.default.settings.path_root);for(var e=function(t){for(var e=[],i=0,n=t.length;i<n;i++){var o=t[i];e.push([o+".png",o])}return e.push(["tutorial_main.json",null]),e}([o.IMAGE_FILE.BG,o.IMAGE_FILE.CRUMB,o.IMAGE_FILE.TITLE_BG,o.IMAGE_FILE.MSG_BOX]),i=0,r=e.length;i<r;i++){var s=e[i];this.add(s[0],s[1])}this.load(t)}return t.prototype.add=function(t,e){void 0===e&&(e=null);var i=this.path+"/"+t;null!=e?this._loader.add(this.prefix+e,i):this._loader.add(i)},t.prototype.load=function(t){void 0===t&&(t=null),this._loader.load(function(e,i){null!=t&&t()})},t.prototype.use=function(t){return PIXI.Texture.from(this.prefix+t)},t.prototype.charaImagesList=function(){for(var t=[o.CHARA.FUBUKI,o.CHARA.MURAKUMO,o.CHARA.SAZANAMI,o.CHARA.INADUMA,o.CHARA.SAMIDARE],e=[],i=0,n=t.length;i<n;i++)!function(i,n){var r=t[i];Object.keys(o.CHARA_SUFFIX).forEach(function(t){var i=o.CHARA_SUFFIX[t];e.push(["chara/c"+r+"_"+i+".png",o.CHARA_PREFIX+"_"+r+"_"+i])})}(i);return e},t.prototype.dispose=function(){this._loader.destroy()},t}();e.ImageManager=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(82),r=i(5),s=i(108),a=function(t){function e(e,i){var n=t.call(this)||this;n._ev=i,n._titleChange=function(t,e){void 0===e&&(e=null);var i=createjs.Ease.linear;if(0==t)return createjs.Tween.get(n.getChildByName("titleBar")).to({alpha:0},200,i),!1;var r=o.TUTORIAL_MAIN.getTexture(e);0==n.getChildByName("titleBar").alpha?(n._titleMessage.texture=r,createjs.Tween.get(n.getChildByName("titleBar")).to({alpha:1},200,i)):createjs.Tween.get(n._titleMessage).to({alpha:0},200,i).call(function(){n._titleMessage.texture=r}).to({alpha:1},200,i)},n._onNext=function(){createjs.Tween.get(n._currentTutorialIcon,{loop:!1}).to({x:n._currentTutorialIcon.x+60},400,createjs.Ease.linear)},n._ev.on("tutorial-title",n._titleChange).on("tutorial-next",n._onNext);var a=new PIXI.Container;a.position.set(0,50),a.alpha=0,a.name="titleBar";var _=new PIXI.Sprite(e.use(s.IMAGE_FILE.TITLE_BG)),l=Math.floor(_.height/2);n._titleIcon=new PIXI.Sprite(o.TUTORIAL_MAIN.getTexture(10)),n._titleIcon.anchor.set(.5,.5),n._titleIcon.position.set(20+Math.floor(n._titleIcon.width/2),l),n._titleMessage=new PIXI.Sprite,n._titleMessage.anchor.set(0,.5),n._titleMessage.position.set(80,l),a.addChild(_,n._titleIcon,n._titleMessage);var u=new PIXI.Container,c=new PIXI.Sprite(e.use(s.IMAGE_FILE.CRUMB));return n._currentTutorialIcon=new PIXI.Sprite(o.TUTORIAL_MAIN.getTexture(9)),n._currentTutorialIcon.anchor.set(.5,.5),n._currentTutorialIcon.position.set(345,Math.floor(c.height/2)-3),u.position.set(r.default.width-c.width-12,0),u.addChild(c,n._currentTutorialIcon),n.addChild(a,u),n}return n(e,t),e.prototype.start=function(){var t={angle:2*Math.PI,duration:8e3,ease:createjs.Ease.linear};createjs.Tween.get(this._titleIcon,{loop:!0}).to({rotation:t.angle},t.duration,t.ease),createjs.Tween.get(this._currentTutorialIcon,{loop:!0}).to({rotation:t.angle},t.duration,t.ease)},e.prototype.dispose=function(){createjs.Tween.removeTweens(this._titleIcon),createjs.Tween.removeTweens(this._currentTutorialIcon),this._ev.off("tutorial-title",this._titleChange).off("tutorial-next",this._onNext)},e}(PIXI.Container);e.ViewMain=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(82),r=i(5),s=i(109),a=i(1),_=function(t){function e(e){var i=t.call(this)||this;return i._ev=e,i._isInsideScene=!0,i._onNextClick=function(){i._isInsideScene?(i._isInsideScene=!1,i._nextScene()):i._ev.emit("tutorial-next-scene")},i._onToggleNextBtn=function(t){var e=i._getEventTextureKey(t.type);i._btnNext.texture=i._btnNextImage[e]},i._getEventTextureKey=function(t){return t==a.EventType.MOUSEOVER?"hover":"def"},i.alpha=0,i._miniImage=[o.TUTORIAL_MAIN.getTexture(11),o.TUTORIAL_MAIN.getTexture(12)],i}return n(e,t),e.prototype.initialize=function(){var t=new PIXI.Sprite(o.TUTORIAL_MAIN.getTexture(23));t.position.set(175,116),this._mini=new PIXI.Sprite(this._miniImage[0]),this._mini.position.set(984,437),this._btnNextImage={def:o.TUTORIAL_MAIN.getTexture(1),hover:o.TUTORIAL_MAIN.getTexture(2)},this._btnNext=new PIXI.Sprite(this._btnNextImage.def),this._btnNext.name="next",this._btnNext.anchor.set(.5,0),this._btnNext.position.set(r.default.width/2,r.default.height-this._btnNext.height-20),this._btnNext.interactive=!0,this._btnNext.buttonMode=!0,this._btnNext.on(a.EventType.MOUSEOVER,this._onToggleNextBtn).on(a.EventType.MOUSEOUT,this._onToggleNextBtn).on(a.EventType.CLICK,this._onNextClick),this.alpha=0,this.addChild(t,this._mini,this._btnNext),this._ev.emit("tutorial-scene-start")},e.prototype.start=function(){var t=this;createjs.Tween.get(this).to({alpha:1},200,createjs.Ease.linear);var e=0;this._miniImageTween=createjs.Tween.get(null,{loop:!0}).wait(400).call(function(){e++,t._mini.texture=t._miniImage[e%2]}),this._ev.emit("tutorial-play-voice","tutorial","023_a",function(){t._ev.emit("tutorial-play-voice","tutorial","024")})},e.prototype._nextScene=function(){var t=new PIXI.Sprite(o.TUTORIAL_MAIN.getTexture(17));t.position.set(495,400),t.alpha=0,this.addChild(t),this._ev.emit("tutorial-play-voice","tutorial","025"),createjs.Tween.get(t).to({alpha:1},400,createjs.Ease.linear)},e.prototype.dispose=function(){this.alpha=0,this._btnNext.interactive=!1,this._btnNext.buttonMode=!1,this._btnNext.off(a.EventType.MOUSEOVER,this._onToggleNextBtn).off(a.EventType.MOUSEOUT,this._onToggleNextBtn).off(a.EventType.CLICK,this._onNextClick),createjs.Tween.removeTweens(this._miniImageTween),this._ev.emit("tutorial-remove-scene")},e}(s.SceneBase);e.SceneExplain1=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(82),r=i(5),s=i(109),a=i(1),_=function(t){function e(e){var i=t.call(this)||this;return i._ev=e,i._isInsideScene=!0,i._onNextClick=function(){i._isInsideScene?(i._isInsideScene=!1,i._nextScene()):i._ev.emit("tutorial-next-scene")},i._onToggleNextBtn=function(t){var e=i._getEventTextureKey(t.type);i._btnNext.texture=i._btnNextImage[e]},i._getEventTextureKey=function(t){return t==a.EventType.MOUSEOVER?"hover":"def"},i.alpha=0,i._miniImage=[o.TUTORIAL_MAIN.getTexture(13),o.TUTORIAL_MAIN.getTexture(14)],i}return n(e,t),e.prototype.initialize=function(){var t=new PIXI.Sprite(o.TUTORIAL_MAIN.getTexture(24));t.position.set(175,116),this._mini=new PIXI.Sprite(this._miniImage[0]),this._mini.position.set(35,428),this._btnNextImage={def:o.TUTORIAL_MAIN.getTexture(1),hover:o.TUTORIAL_MAIN.getTexture(2)},this._btnNext=new PIXI.Sprite(this._btnNextImage.def),this._btnNext.name="next",this._btnNext.anchor.set(.5,0),this._btnNext.position.set(r.default.width/2,r.default.height-this._btnNext.height-20),this._btnNext.interactive=!0,this._btnNext.buttonMode=!0,this._btnNext.on(a.EventType.MOUSEOVER,this._onToggleNextBtn).on(a.EventType.MOUSEOUT,this._onToggleNextBtn).on(a.EventType.CLICK,this._onNextClick),this.addChild(t,this._mini,this._btnNext),this._ev.emit("tutorial-scene-start")},e.prototype.start=function(){var t=this;this.alpha=1;var e=0;this._miniImageTween=createjs.Tween.get(null,{loop:!0}).wait(200).call(function(){e++,t._mini.texture=t._miniImage[e%2]}),this._ev.emit("tutorial-play-voice","tutorial","026_a",function(){t._ev.emit("tutorial-play-voice","tutorial","027")})},e.prototype._nextScene=function(){var t=new PIXI.Sprite(o.TUTORIAL_MAIN.getTexture(18));t.position.set(280,472),t.alpha=0,this.addChild(t),createjs.Tween.get(t).to({alpha:1},400,createjs.Ease.linear),this._ev.emit("tutorial-play-voice","tutorial","028")},e.prototype.dispose=function(){this.alpha=0,this._btnNext.interactive=!1,this._btnNext.buttonMode=!1,this._btnNext.off(a.EventType.MOUSEOVER,this._onToggleNextBtn).off(a.EventType.MOUSEOUT,this._onToggleNextBtn).off(a.EventType.CLICK,this._onNextClick),createjs.Tween.removeTweens(this._miniImageTween),this._ev.emit("tutorial-remove-scene")},e}(s.SceneBase);e.SceneExplain2=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(82),r=i(5),s=i(109),a=i(1),_=function(t){function e(e){var i=t.call(this)||this;return i._ev=e,i._onNextClick=function(){i._btnNext.interactive=!1,i._btnSubmit=new PIXI.Sprite(i._btnSumbitImage.def),i._btnSubmit.anchor.set(.5,0),i._btnSubmit.position.set(r.default.width/2,r.default.height-i._btnSubmit.height-30),i._btnSubmit.interactive=!1,i._btnSubmit.buttonMode=!0,i._btnSubmit.on(a.EventType.MOUSEOVER,i._onToggleSubmitBtn).on(a.EventType.MOUSEOUT,i._onToggleSubmitBtn).on(a.EventType.CLICK,i._onSubmitClick),i._btnSubmit.alpha=0,i.addChild(i._btnSubmit),i._nextScene()},i._onSubmitClick=function(){i._btnSubmit.interactive=!1,i._ev.emit("tutorial-next-scene")},i._onToggleNextBtn=function(t){var e=i._getEventTextureKey(t.type);i._btnNext.texture=i._btnNextImage[e]},i._onToggleSubmitBtn=function(t){var e=i._getEventTextureKey(t.type);i._btnSubmit.texture=i._btnSumbitImage[e]},i._getEventTextureKey=function(t){return t==a.EventType.MOUSEOVER?"hover":"def"},i.alpha=0,i._miniImage=[o.TUTORIAL_MAIN.getTexture(15),o.TUTORIAL_MAIN.getTexture(16)],i._btnNextImage={def:o.TUTORIAL_MAIN.getTexture(1),hover:o.TUTORIAL_MAIN.getTexture(2)},i._btnSumbitImage={def:o.TUTORIAL_MAIN.getTexture(5),hover:o.TUTORIAL_MAIN.getTexture(6)},i}return n(e,t),e.prototype.initialize=function(){var t=new PIXI.Sprite(o.TUTORIAL_MAIN.getTexture(25));t.position.set(175,116),this._mini=new PIXI.Sprite(this._miniImage[0]),this._mini.position.set(980,432),this._btnNext=new PIXI.Sprite(this._btnNextImage.def),this._btnNext.name="next",this._btnNext.anchor.set(.5,0),this._btnNext.position.set(r.default.width/2,r.default.height-this._btnNext.height-20),this._btnNext.interactive=!0,this._btnNext.buttonMode=!0,this._btnNext.on(a.EventType.MOUSEOVER,this._onToggleNextBtn).on(a.EventType.MOUSEOUT,this._onToggleNextBtn).on(a.EventType.CLICK,this._onNextClick),this.addChild(t,this._mini,this._btnNext),this._ev.emit("tutorial-scene-start")},e.prototype.start=function(){var t=this;this.alpha=1,this._miniEyes(),this._ev.emit("tutorial-play-voice","tutorial","029",function(){t._ev.emit("tutorial-play-voice","tutorial","030")})},e.prototype._miniEyes=function(){var t=this,e=!0,i=function(){var i=1==e?0:1;t._mini.texture=t._miniImage[i]},n=function(){var o=1==e?1e3:300;t._miniImageTween=createjs.Tween.get(null).wait(o).call(function(){e=!e,i(),t._miniImageTween=null,n()})};n()},e.prototype._nextScene=function(){var t=this,e=new PIXI.Sprite(o.TUTORIAL_MAIN.getTexture(19));e.position.set(435,400),e.alpha=0,this.addChild(e),createjs.Tween.get(e).to({alpha:1},400,createjs.Ease.linear),createjs.Tween.get(this._btnNext).to({alpha:0},400,createjs.Ease.linear).call(function(){t._btnNext.visible=!1}),createjs.Tween.get(this._btnSubmit).to({alpha:1},300,createjs.Ease.linear).call(function(){t._btnSubmit.interactive=!0}),this._ev.emit("tutorial-play-voice","tutorial","031",function(){t._ev.emit("tutorial-play-voice","tutorial","032_a",function(){t._ev.emit("tutorial-play-voice","tutorial","033")})})},e.prototype.dispose=function(){this.alpha=0,this._btnNext.off(a.EventType.MOUSEOVER,this._onToggleNextBtn).off(a.EventType.MOUSEOUT,this._onToggleNextBtn).off(a.EventType.CLICK,this._onNextClick),this._btnSubmit.off(a.EventType.MOUSEOVER,this._onToggleSubmitBtn).off(a.EventType.MOUSEOUT,this._onToggleSubmitBtn).off(a.EventType.CLICK,this._onSubmitClick),createjs.Tween.removeTweens(this._miniImageTween),this._ev.emit("tutorial-remove-scene")},e}(s.SceneBase);e.SceneExplain3=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(108),r=i(308),s=i(109),a=i(1),_=function(t){function e(e,i,n){var r=t.call(this)||this;return r._ImageManager=e,r._ev=i,r._shipId=n,r._charaPosition={},r._onNext=function(){r._messageBox.btn.interactive=!1,r._ev.emit("tutorial-next-scene")},r._charaPosition[o.CHARA.FUBUKI]={x:208,y:-22},r._charaPosition[o.CHARA.MURAKUMO]={x:-20,y:-112},r._charaPosition[o.CHARA.SAZANAMI]={x:206,y:-22},r._charaPosition[o.CHARA.INADUMA]={x:309,y:14},r._charaPosition[o.CHARA.SAMIDARE]={x:232,y:42},r.alpha=0,r}return n(e,t),e.prototype.initialize=function(){var t=this._charaPosition[this._shipId],e=new PIXI.Container,i=new PIXI.Sprite(this._ImageManager.use(o.CHARA_PREFIX+"_"+this._shipId+"_"+o.CHARA_SUFFIX.FULL));i.position.set(t.x,t.y),e.addChild(i),this._messageBox=new r.MessageBoxView(this._ImageManager,this._ev),this._messageBox.message.text="",this._messageBox.btn.on(a.EventType.CLICK,this._onNext),this.addChild(e,this._messageBox),this._ev.emit("tutorial-scene-start")},e.prototype.start=function(){var t=this;this.alpha=1,this._messageBox.start(),this._messageBox.btn.interactive=!0,this._messageBox.btn.buttonMode=!0,this._messageBox.flashText("\u63d0\u7763\u3001\u304a\u75b2\u308c\u3055\u307e\u3067\u3057\u305f\uff01\n\u305d\u308d\u305d\u308d\u3001\u79c1\u305f\u3061\u306e\u300c\u6bcd\u6e2f\u300d\u306b\u3044\u304d\u307e\u3057\u3087\u3046\uff01"),this._ev.emit("tutorial-play-voice","tutorial","034",function(){t._ev.emit("tutorial-play-voice","tutorial","035")})},e.prototype.dispose=function(){this._messageBox.btn.off(a.EventType.CLICK,this._onNext),this.alpha=0,this._ev.emit("tutorial-remove-scene")},e}(s.SceneBase);e.SceneFinal=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(147),r=i(4),s=i(82),a=i(5),_=i(661),l=i(109),u=i(0),c=i(159),h=i(1),p=function(t){function e(e){var i=t.call(this)||this;return i._ev=e,i._maxTextLength=12,i._deleteInputText=function(){o.EditTextBoxUtil.text="",i._btnSubmit.visible=!1},i._onToggleSubmit=function(t){i._btnSubmit.texture=t.type==h.EventType.MOUSEOVER?i._btnImages.hover:i._btnImages.def},i._inputAndSubmitManage=function(){i._errorMessage.text="",i._showSubmitBtn()},i._onClick=function(){var t=o.EditTextBoxUtil.text;return""==t?(i._errorMessage.text="\u540d\u524d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",!1):t.length>i._maxTextLength?(i._errorMessage.text="\u540d\u524d\u306f12\u6587\u5b57\u307e\u3067\u3067\u3059\u3002",!1):(i._btnSubmit.texture=i._btnImages.def,i._btnSubmit.interactive=!1,i._btnDelete.interactive=!1,void i._getNickNameId(t))},i._getNickNameId=function(t){var e=t;e=e.replace(/%/g,"\uff05"),e=e.replace(/\t/g," "),e=e.replace(/</g,"\uff1c"),e=e.replace(/>/g,"\uff1e"),e=e.replace(/&/g,"\uff06"),e=e.replace(/\"/g,""),e=e.replace(/\'/g,""),e=e.replace(/\`/g,""),i._NickName=e,i._GadgetIP="http://"+u.default.settings.osapi_root;var n=i._GadgetIP;window.parent.postMessage(c.PostMessageType.NICK_NAME+"\t"+i._NickName,n),window.addEventListener("message",i._onCallback)},i._onCallback=function(t){if(window.removeEventListener("message",i._onCallback),t.origin==i._GadgetIP){var e=t.data;i._setNickName(e)}},i.alpha=0,i._btnImages={def:s.TUTORIAL_MAIN.getTexture(5),hover:s.TUTORIAL_MAIN.getTexture(6)},i}return n(e,t),e.prototype.initialize=function(){var t=new PIXI.Container,e=0,i=new r.TextBox(30,0);i.text="\u63d0\u7763\u306e\u540d\u524d",i.anchor.set(0,.5),e+=i.width;var n=new PIXI.Sprite(s.TUTORIAL_MAIN.getTexture(20));n.position.set(i.width+10,0),e+=n.width;var _=Math.floor(n.height/2);this._btnDelete=new PIXI.Sprite(s.TUTORIAL_MAIN.getTexture(0)),this._btnDelete.interactive=!0,this._btnDelete.buttonMode=!0,this._btnDelete.on(h.EventType.CLICK,this._deleteInputText),this._btnDelete.anchor.set(1,.5),this._btnDelete.position.set(e,_-2),i.position.set(0,_),t.position.set(218,330),t.width=e,t.height=n.height,t.addChild(i,n,this._btnDelete);var l=new PIXI.Point(t.x+n.x+8,t.y+7),u=this.toGlobal(l);o.EditTextBoxUtil.init(u.x,u.y,n.width-this._btnDelete.width-22,22,0),o.EditTextBoxUtil.text="",o.EditTextBoxUtil.onLengthCheck(12,this._inputAndSubmitManage),this._inputExtend=document.getElementById("r_editbox"),this._inputExtend.addEventListener("blur",this._inputAndSubmitManage);var c=new PIXI.Container,p={x:t.x+t.width,y:t.y+t.height},d=new r.TextBox(30,0);d.text="\uff0812\u6587\u5b57\u307e\u3067\uff09",d.position.set(p.x-Math.floor(d.width/2)-5,p.y+5),this._errorMessage=new r.TextBox(27,10027008),this._errorMessage.text="",this._errorMessage.anchor.set(.5,0),this._errorMessage.position.set(a.default.width/2,d.y+d.height),this._btnSubmit=new PIXI.Sprite(this._btnImages.def),this._btnSubmit.buttonMode=!0,this._btnSubmit.anchor.set(.5,0),this._btnSubmit.position.set(a.default.width/2,p.y+125),this._btnSubmit.on(h.EventType.CLICK,this._onClick).on(h.EventType.MOUSEOVER,this._onToggleSubmit).on(h.EventType.MOUSEOUT,this._onToggleSubmit),this._btnSubmit.interactive=!1,this._btnSubmit.visible=!1,c.addChild(d,this._errorMessage,this._btnSubmit),this.addChild(t,c),this._ev.emit("tutorial-scene-start")},e.prototype.start=function(){this._ev.emit("tutorial-title",!0,21),createjs.Tween.get(this).wait(800).to({alpha:1},400,createjs.Ease.linear).call(function(){o.EditTextBoxUtil.setVisibility(!0)})},e.prototype._showSubmitBtn=function(){var t=""!==o.EditTextBoxUtil.text;t!=this._btnSubmit.visible&&(this._btnSubmit.visible=t,this._btnSubmit.interactive=t)},e.prototype._setNickName=function(t){new _.APISaveNickName(this._NickName,t).start(),this._ev.emit("tutorial-next-scene")},e.prototype.dispose=function(){var t=this;createjs.Tween.get(this).to({alpha:0},100,createjs.Ease.linear).call(function(){o.EditTextBoxUtil.text="",o.EditTextBoxUtil.setVisibility(!1),t._ev.emit("tutorial-remove-scene")}),o.EditTextBoxUtil.onkeydown=null,o.EditTextBoxUtil.onkeyup=null,this._btnDelete.off(h.EventType.CLICK,this._deleteInputText),this._btnSubmit.off(h.EventType.CLICK,this._onClick).off(h.EventType.MOUSEOVER,this._onToggleSubmit).off(h.EventType.MOUSEOUT,this._onToggleSubmit),this._inputExtend.removeEventListener("blur",this._inputAndSubmitManage)},e}(l.SceneBase);e.SceneInputName=p},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=function(t){function e(e,i){var n=t.call(this)||this;return n._name=e,n._nickNameId=i,n._url="api_req_init/nickname",n}return n(e,t),e.prototype._connect=function(){this._post_data.api_nickname=this._name,this._post_data.api_nickname_id=this._nickNameId,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){t.prototype._completedEnd.call(this)},e}(o.APIBase);e.APISaveNickName=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(82),r=i(5),s=i(108),a=i(109),_=i(663),l=i(1),u=function(t){function e(e,i){var n=t.call(this)||this;n._ImageManager=e,n._ev=i,n._current=0,n._prefix="chara",n._suffix={full:"full",bg:"bg",txt:"txt"},n._charaMoveX=100,n._chara=[s.CHARA.FUBUKI,s.CHARA.MURAKUMO,s.CHARA.SAZANAMI,s.CHARA.INADUMA,s.CHARA.SAMIDARE],n._charaPosition={},n._create=function(){for(var t=0,e=n._chara.length;t<e;t++){var i=n._chara[t],o=n._prefix+"_"+i,s=new PIXI.Container;s.visible=!1;var a=new PIXI.Sprite(n._ImageManager.use(o+"_"+n._suffix.full)),_=n._charaPosition[i];a.name=n._suffix.full,a.position.set(_.x+n._charaMoveX,_.y),a.alpha=0;var l=new PIXI.Sprite(n._ImageManager.use(o+"_"+n._suffix.bg));l.name=n._suffix.bg,l.anchor.set(.5,0),l.position.set(r.default.width/2,100),l.alpha=0;var u=new PIXI.Sprite(n._ImageManager.use(o+"_"+n._suffix.txt));u.name=n._suffix.txt,u.position.set(110,120),u.alpha=0,s.addChild(l,a,u),n._charaContainer.addChild(s)}n._ev.emit("tutorial-scene-start")},n._getEventTextureKey=function(t){return t==l.EventType.MOUSEOVER?"hover":"def"},n._onToggleSubmitBtn=function(t){var e=n._getEventTextureKey(t.type);n._btnSubmit.texture=n._btn.submit[e]},n._onTogglePrevBtn=function(t){var e=n._getEventTextureKey(t.type);n._btnPrev.texture=n._btn.prev[e]},n._onToggleNextBtn=function(t){var e=n._getEventTextureKey(t.type);n._btnNext.texture=n._btn.next[e]},n._onNextChara=function(){var t=n._current+1;t>=n._chara.length&&(t=0),n._currentHide(n._current,t)},n._onPrevChara=function(){var t=n._current-1;t<0&&(t=n._chara.length-1),n._currentHide(n._current,t)},n._onSubmit=function(){n._btnSubmit.interactive=!1,n._btnSubmit.off(l.EventType.CLICK,n._onSubmit),n._messageContainer=new _.SceneSelectShipView(n._ImageManager,n._ev);var t=n._chara[n._current],e=n._charaContainer.getChildAt(n._current),i=e.getChildByName(n._suffix.full),o=n._charaPosition[t];n._ev.emit("tutorial-save-ship",t);var r=createjs.Ease.linear;createjs.Tween.get(i).wait(50).to({x:o.move.x},250,r).wait(200).call(function(){n._ev.emit("tutorial-title",!1),n._ev.emit("tutorial-next"),n._messageContainer.start()}).to({y:o.move.y},250,r),n._selectedDispose(e),n.addChild(n._messageContainer)};for(var a=n._ImageManager.charaImagesList(),u=0,c=a.length;u<c;u++){var h=a[u];n._ImageManager.add(h[0],h[1])}return n._charaPosition[s.CHARA.FUBUKI]={x:476,y:16,move:{x:216,y:-50}},n._charaPosition[s.CHARA.MURAKUMO]={x:247,y:-70,move:{x:-14,y:-139}},n._charaPosition[s.CHARA.SAZANAMI]={x:467,y:17,move:{x:210,y:-49}},n._charaPosition[s.CHARA.INADUMA]={x:572,y:55,move:{x:314,y:-16}},n._charaPosition[s.CHARA.SAMIDARE]={x:499,y:80,move:{x:240,y:10}},n._btn={prev:{def:o.TUTORIAL_MAIN.getTexture(7),hover:o.TUTORIAL_MAIN.getTexture(8)},next:{def:o.TUTORIAL_MAIN.getTexture(1),hover:o.TUTORIAL_MAIN.getTexture(2)},submit:{def:o.TUTORIAL_MAIN.getTexture(5),hover:o.TUTORIAL_MAIN.getTexture(6)}},n.alpha=0,n}return n(e,t),e.prototype.initialize=function(){this._charaContainer=new PIXI.Container;var t=new PIXI.Container;t.position.set(0,600),this._btnSubmit=new PIXI.Sprite(this._btn.submit.def),this._btnSubmit.name="submit",this._btnSubmit.anchor.set(.5,0),this._btnSubmit.position.set(r.default.width/2,0),this._btnSubmit.interactive=!0,this._btnSubmit.buttonMode=!0,this._btnSubmit.on(l.EventType.CLICK,this._onSubmit).on(l.EventType.MOUSEOVER,this._onToggleSubmitBtn).on(l.EventType.MOUSEOUT,this._onToggleSubmitBtn);var e=Math.floor(this._btnSubmit.width/2),i=Math.floor(this._btnSubmit.height/2),n=this._btnSubmit.x;this._btnPrev=new PIXI.Sprite(this._btn.prev.def),this._btnPrev.anchor.set(1,.5),this._btnPrev.position.set(n-e-20,i),this._btnPrev.interactive=!0,this._btnPrev.buttonMode=!0,this._btnPrev.on(l.EventType.CLICK,this._onPrevChara).on(l.EventType.MOUSEOVER,this._onTogglePrevBtn).on(l.EventType.MOUSEOUT,this._onTogglePrevBtn),this._btnNext=new PIXI.Sprite(this._btn.next.def),this._btnNext.anchor.set(0,.5),this._btnNext.position.set(n+e+20,i),this._btnNext.interactive=!0,this._btnNext.buttonMode=!0,this._btnNext.on(l.EventType.CLICK,this._onNextChara).on(l.EventType.MOUSEOVER,this._onToggleNextBtn).on(l.EventType.MOUSEOUT,this._onToggleNextBtn),t.addChild(this._btnPrev,this._btnNext,this._btnSubmit),this.addChild(this._charaContainer,t),this._ImageManager.load(this._create)},e.prototype.start=function(){this.alpha=1,this._ev.emit("tutorial-title",!0,22),this._nextShow(0)},e.prototype._currentHide=function(t,e){var i=this;this._btnNext.interactive=!1,this._btnPrev.interactive=!1,this._btnSubmit.interactive=!1;var n=this._charaContainer.getChildAt(t),o=n.getChildByName(this._suffix.bg),r=n.getChildByName(this._suffix.txt),s=n.getChildByName(this._suffix.full),a=createjs.Ease.linear;createjs.Tween.get(o).to({alpha:0},100,a),createjs.Tween.get(r).to({alpha:0},100,a),createjs.Tween.get(s).to({x:s.x+this._charaMoveX,alpha:0},150,a).call(function(){n.visible=!1,i._nextShow(e)})},e.prototype._nextShow=function(t){var e=this,i=this._chara[t],n=parseInt(i,10),o=this._charaContainer.getChildAt(t);o.visible=!0;var r=o.getChildByName(this._suffix.bg),s=o.getChildByName(this._suffix.txt),a=o.getChildByName(this._suffix.full),_=this._charaPosition[i],l=createjs.Ease.linear;createjs.Tween.get(r).to({alpha:1},100,l),createjs.Tween.get(s).to({alpha:1},100,l),createjs.Tween.get(a).wait(150).to({alpha:1,x:_.x},150,l).call(function(){e._btnNext.interactive=!0,e._btnPrev.interactive=!0,e._btnSubmit.interactive=!0,e._ev.emit("tutorial-play-voice",n.toString(),13)}),this._current=t},e.prototype._selectedDispose=function(t){var e=this,i=t.getChildByName(this._suffix.bg),n=t.getChildByName(this._suffix.txt),o=createjs.Ease.linear;createjs.Tween.get(i).to({alpha:0},100,o),createjs.Tween.get(n).to({alpha:0},100,o),createjs.Tween.get(this._btnSubmit).to({alpha:0},100,o).call(function(){e._btnSubmit.interactive=!1,e._btnSubmit.buttonMode=!1,e._btnSubmit.off(l.EventType.CLICK,e._onSubmit),e._btnSubmit.off(l.EventType.MOUSEOVER,e._onToggleSubmitBtn),e._btnSubmit.off(l.EventType.MOUSEOUT,e._onToggleSubmitBtn),e._btnSubmit=null}),createjs.Tween.get(this._btnPrev).to({alpha:0},100,o).call(function(){e._btnPrev.interactive=!1,e._btnPrev.buttonMode=!1,e._btnPrev.off(l.EventType.CLICK,e._onPrevChara),e._btnPrev.off(l.EventType.MOUSEOVER,e._onTogglePrevBtn),e._btnPrev.off(l.EventType.MOUSEOUT,e._onTogglePrevBtn),e._btnPrev=null}),createjs.Tween.get(this._btnNext).to({alpha:0},100,o).call(function(){e._btnNext.interactive=!1,e._btnNext.buttonMode=!1,e._btnNext.off(l.EventType.CLICK,e._onNextChara),e._btnNext.off(l.EventType.MOUSEOVER,e._onToggleNextBtn),e._btnNext.off(l.EventType.MOUSEOUT,e._onToggleNextBtn),e._btnNext=null})},e.prototype.dispose=function(){var t=this;createjs.Tween.get(this).to({alpha:0},100,createjs.Ease.linear).call(function(){t._ev.emit("tutorial-remove-scene")}),this._messageContainer.dispose()},e}(a.SceneBase);e.SceneSelectShip=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(308),r=i(1),s=function(t){function e(e,i){var n=t.call(this)||this;return n._ImageManager=e,n._ev=i,n._onNext=function(){n.messageBox.interactive=!1,n._ev.emit("tutorial-next-scene")},n.alpha=0,n.messageBox=new o.MessageBoxView(n._ImageManager,n._ev),n.messageBox.message.text="",n.messageBox.on(r.EventType.CLICK,n._onNext),n.addChild(n.messageBox),n}return n(e,t),e.prototype.start=function(){var t=this;this.messageBox.start(),createjs.Tween.get(this).to({alpha:1},200,createjs.Ease.linear).call(function(){t.messageBox.interactive=!0,t.messageBox.buttonMode=!0,t._ev.emit("tutorial-play-voice","tutorial","021",function(){t._ev.emit("tutorial-play-voice","tutorial","022")}),t.messageBox.flashText("\u63d0\u7763\u3001\u304a\u5f85\u3061\u3057\u3066\u3044\u307e\u3057\u305f\uff01\n\u300c\u8266\u968a\u3053\u308c\u304f\u3057\u3087\u3093\u2014\u8266\u3053\u308c\u2014\u300d\u306e\u4e16\u754c\u3078\u3088\u3046\u3053\u305d\u2014\u2014\u3002")})},e.prototype.dispose=function(){this.messageBox.dispose(),this.messageBox.off(r.EventType.CLICK,this._onNext)},e}(PIXI.Container);e.SceneSelectShipView=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=function(t){function e(e){var i=t.call(this)||this;return i._shipId=e,i._url="api_req_init/firstship",i}return n(e,t),e.prototype._connect=function(){this._post_data.api_ship_id=this._shipId,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){t.prototype._completedEnd.call(this)},e}(o.APIBase);e.APIFirstShip=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(6),s=i(18),a=i(47),_=i(34),l=i(69),u=i(666),c=i(677),h=i(711),p=i(712),d=i(720),f=i(215),y=i(724),m=i(725),g=i(726),v=i(731),b=i(733),w=i(734),x=i(741),I=i(742),T=i(8),O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentViewMode=null,e._onClickBreakDeck=function(){var t=function(){e.deckLayer.update(),s.COMBINABLE?e._asyncCheckCombineStateAndRepair(function(){o.default.view.clickGuard=!1}):o.default.view.clickGuard=!1};e.deckLayer.onBreakDeck(e.deckLayer.deckID,t)},e._onDragging=function(t,i){var n=new I.ShipDragging(t,i,e.deckLayer.shipSlotDisplayLength,e._inDragging,e._onDrop,function(){o.default.view.overLayer.removeChild(n)});o.default.view.overLayer.addChild(n)},e._inDragging=function(t){t?(e.presetButtonLayer.hide(),e.deckLayer.EditNameArea.writable=!1):(e.presetButtonLayer.show(),e.deckLayer.EditNameArea.writable=!0)},e._onDrop=function(t,i,n){if(t!=i){var s=o.default.model.deck.get(e.deckLayer.deckID),a=s.getCount();if(1!=a||1!=s.mstID){var u=t+e.deckLayer.shipInDeckOrigin,c=i+e.deckLayer.shipInDeckOrigin;if(!(u==a-1&&i>=t)){var h=new _.APIConnector;if(10==o.default.model.basic.getTutorialProgress()&&h.add(new l.UpdateTutorialAPI(20)),-1==i)return h.add(new f.ChangeAPI(!0,s.mstID,u,-1)),void e._removeShip(h,t);var p=o.default.model.ship.get(n);h.add(new f.ChangeAPI(!0,s.mstID,c,n)),r.SE.play("235"),o.default.sound.voice.play(p.mstID.toString(),13),c>=a&&(i=a-e.deckLayer.shipInDeckOrigin-1),e._changeShipSlot(h,i)}}}},e._removeShip=function(t,i){var n=new T.AreaBox(0);o.default.view.overLayer.addChild(n),t.start(function(){e.deckLayer.ShipSlotLayer.ShipSlots[i].closeAnimation(function(){e.deckLayer.update(),s.COMBINABLE?e._asyncCheckCombineStateAndRepair(function(){o.default.view.overLayer.removeChild(n)}):o.default.view.overLayer.removeChild(n)})})},e._changeShipSlot=function(t,i){var n=new T.AreaBox(0);o.default.view.overLayer.addChild(n),t.start(function(){var t=function(){return e.deckLayer.update()},r=function(){s.COMBINABLE?e._asyncCheckCombineStateAndRepair(function(){o.default.view.overLayer.removeChild(n)}):o.default.view.overLayer.removeChild(n)};e.deckLayer.ShipSlotLayer.shutterAnimation(i,t,r)})},e._onClickDeckFlag=function(t){if(e.deckLayer.deckID!=t)switch(e.deckLayer.shipInDeckOrigin=0,e.currentViewMode){case 0:e.deckLayer.updateDeck(t);break;case 1:e.deckLayer.updateDeckSelector(t),e.presetEditLayer.update(t);break;case 2:e.deckLayer.updateDeckSelector(t),e.presetExpansionLayer.update(t)}},e._onClickShipChange=function(t,i){e.presetButtonLayer.hide(),e.deckLayer.EditNameArea.writable=!1;var n=o.default.model.deck.get(e.deckLayer.deckID),a=(n.getShipModel(i),n.getCount());e.taskChangeShip=new w.TaskChangeShip(e),e.taskChangeShip.onUpdateDeck=function(){o.default.view.clickGuard=!0;var n=o.default.model.deck.get(e.deckLayer.deckID),_=n.getShipModel(i),l=n.getCount(),u=e.deckLayer.ShipSlotLayer.ShipSlots[t];l<a?u.closeAnimation(function(){e.deckLayer.update(),s.COMBINABLE?e._asyncCheckCombineStateAndRepair(function(){o.default.view.clickGuard=!1}):o.default.view.clickGuard=!1}):(r.SE.play("235"),o.default.sound.voice.play(_.mstID.toString(),13),a<l?(e.deckLayer.update(),u.close(),u.openAnimation(function(){s.COMBINABLE?e._asyncCheckCombineStateAndRepair(function(){o.default.view.clickGuard=!1}):o.default.view.clickGuard=!1})):u.closeAnimation(function(){e.deckLayer.update(),u.close(),u.openAnimation(function(){s.COMBINABLE?e._asyncCheckCombineStateAndRepair(function(){o.default.view.clickGuard=!1}):o.default.view.clickGuard=!1})}))},e.taskChangeShip.onComplete=function(){e.presetButtonLayer.show(),e.taskChangeShip.dispose(),e.taskChangeShip=null,e.deckLayer.EditNameArea.writable=!0},e.taskChangeShip.start(e.deckLayer.deckID,i)},e._onClickShipDetail=function(t){e.deckLayer.EditNameArea.writable=!1,e.presetButtonLayer.hide(),e.deckLayer.ShipSlotLayer.onShipDetail(t,e,function(){e.deckLayer.EditNameArea.writable=!0,e.presetButtonLayer.show()})},e._onClickPresetChange=function(t){if(e.currentViewMode!=t){switch(e.currentViewMode){case 1:e.presetEditLayer.hide();break;case 2:e.presetExpansionLayer.hide()}switch(t){case 1:e._changeMode(1);var i=o.default.model.deck.get(e.deckLayer.deckID);e.deckLayer.EditNameArea.reload(i.name),e.presetEditLayer.show(e.deckLayer.deckID,e.presetList);break;case 2:e._changeMode(2);var i=o.default.model.deck.get(e.deckLayer.deckID);e.deckLayer.EditNameArea.reload(i.name),e.presetExpansionLayer.show(e.deckLayer.deckID,e.presetList)}}},e._onClickPresetBack=function(){e._changeMode(0),e.deckLayer.update()},e._onClickExpand=function(t){o.default.view.clickGuard=!0;var i=new y.PresetSelectAPI(t,e.deckLayer.deckID);r.SE.play("240"),i.start(function(){for(var i=o.default.model.deck.get(e.deckLayer.deckID).getShipList(),n=new Array,a=0;a<e.deckLayer.ShipSlotLayer.ShipSlots.length;a++){i[a+e.deckLayer.shipInDeckOrigin]&&n.push(a)}s.COMBINABLE&&o.default.model.deck.isCombined(),r.SE.play("235"),e.presetExpansionLayer.hide(),e.presetList.getPresetDeckData(t).__deleteLostShips__(),e._changeMode(0),e.deckLayer.update();for(var _=function(){},l=function(){s.COMBINABLE?e._asyncCheckCombineStateAndRepair(function(){o.default.view.clickGuard=!1}):o.default.view.clickGuard=!1},a=0;a<e.deckLayer.ShipSlotLayer.ShipSlots.length;a++){var u=e.deckLayer.ShipSlotLayer.ShipSlots[a];u.close()}if(0<n.length){for(var a=0;a<n.length;a++){var c=_;n.indexOf(a)==n.length-1&&(c=l);var u=e.deckLayer.ShipSlotLayer.ShipSlots[a];u.openAnimation(c)}o.default.sound.voice.play(o.default.model.deck.get(e.deckLayer.deckID).getShipList()[0].mstID.toString(),13)}else l()})},e}return n(e,t),e.prototype.getPreInitializeTask=function(t){return new g.PreInitializeTask(this)},e.prototype.getInitializeTask=function(t){return new b.InitializeTask(this)},e.prototype.getPreFinalizeTask=function(){return new m.PreFinalizeTask(this)},e.prototype.getFinalizeTask=function(){return new v.FinalizeTask(this)},e.prototype.preInitialize=function(t){this.presetList=t,this.backgroundLayer=new u.BackgroundLayer,this.backgroundLayer.init(),this.addChild(this.backgroundLayer),this.deckLayer=new c.DeckLayer(this._onClickDeckFlag),this.deckLayer.init(this._onClickBreakDeck),this.deckLayer.ShipSlotLayer.init(this._onDragging,this._onClickShipChange,this._onClickShipDetail),this.addChild(this.deckLayer),this.deckLayer.updateDeck(1),this.presetExpansionLayer=new d.PresetExpansionLayer(this._onClickPresetBack,this._onClickExpand),this.presetExpansionLayer.hide(),this.addChild(this.presetExpansionLayer),this.presetEditLayer=new p.PresetEditLayer(this._onClickPresetBack),this.presetEditLayer.hide(),this.addChild(this.presetEditLayer),this.presetButtonLayer=new h.PresetButtonLayer,this.presetButtonLayer.position.set(66,514),this.presetButtonLayer.onClick=this._onClickPresetChange,this.presetButtonLayer.hide(),o.default.view.overLayer.addChild(this.presetButtonLayer),this._changeMode(0)},e.prototype.initialize=function(){var t=o.default.model.basic.port_bgm_id;o.default.sound.bgm.play(t),this.presetButtonLayer.show(),this.deckLayer.EditNameArea.writable=!0},e.prototype.prefinalize=function(){this.presetButtonLayer.hide(),this.deckLayer.EditNameArea.writable=!1},e.prototype.finalize=function(){this.taskChangeShip&&this.taskChangeShip.dispose(),this.taskChangeShip=null,this.presetEditLayer.dispose(),this.presetEditLayer=null,this.presetExpansionLayer.dispose(),this.presetExpansionLayer=null,this.deckLayer.dispose(),this.deckLayer=null,this.presetButtonLayer.dispose(),this.presetButtonLayer=null,this.backgroundLayer.dispose(),this.backgroundLayer=null,this.presetList=null,this.currentViewMode=null,this.removeChildren()},e.prototype._changeMode=function(t){switch(this.deckLayer.hide(),this.deckLayer.show(t),this.presetButtonLayer.update(t),t){case 0:this.deckLayer.EditNameArea.writable=!0,this.deckLayer.EditNameArea.editable=!0;break;case 1:case 2:this.deckLayer.EditNameArea.editable=!1,this.deckLayer.EditNameArea.writable=!1}this.currentViewMode=t},e.prototype._asyncCheckCombineStateAndRepair=function(t){var e=this,i=new x.TaskCheckCombineStateAndRepair(o.default.view.overLayer);i.onBroken=function(){e.deckLayer.update()},i.onComplete=function(){i.dispose(),t()},i.start()},e}(a.SceneBase);e.OrganizeScene=O},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite(o.COMMON_MAIN.getTexture(0));return i.position.set(195,10),e.conBg=new PIXI.Sprite(o.COMMON_MAIN.getTexture(14)),e.titBg=new PIXI.Sprite(o.COMMON_MAIN.getTexture(64)),e.titBg.addChild(i),e.addChild(e.conBg),e.addChild(e.titBg),e}return n(e,t),e.prototype.dispose=function(){this.conBg=null,this.titBg=null,this.removeChildren()},e.prototype.init=function(){this.conBg.position.set(148,145),this.titBg.position.set(0,105)},e.prototype.show=function(){this.visible=!0},e.prototype.hide=function(){this.visible=!1},e}(PIXI.Container);e.BackgroundLayer=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("organize_rengo_"+t)}t.getTexture=e}(e.ORGANIZE_RENGO||(e.ORGANIZE_RENGO={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("repair_main_"+t)}t.getTexture=e}(e.REPAIR_MAIN||(e.REPAIR_MAIN={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){try{return PIXI.Texture.fromFrame("album_slot2_id_"+t)}catch(t){return PIXI.Texture.EMPTY}}t.getTextureFromMstID=e}(e.ALBUM_SLOT2||(e.ALBUM_SLOT2={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){try{return PIXI.Texture.fromFrame("album_slot3_id_"+t)}catch(t){return PIXI.Texture.EMPTY}}t.getTextureFromMstID=e}(e.ALBUM_SLOT3||(e.ALBUM_SLOT3={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){try{return PIXI.Texture.fromFrame("album_slot4_id_"+t)}catch(t){return PIXI.Texture.EMPTY}}t.getTextureFromMstID=e}(e.ALBUM_SLOT4||(e.ALBUM_SLOT4={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("item_common_"+t)}t.getTexture=e}(e.ITEM_COMMON||(e.ITEM_COMMON={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("item_ilist_medal_"+t)}t.getTexture=e}(e.ITEM_ILIST_MEDAL||(e.ITEM_ILIST_MEDAL={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("item_ilist_medal_kou_"+t)}t.getTexture=e}(e.ITEM_ILIST_MEDAL_KOU||(e.ITEM_ILIST_MEDAL_KOU={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("item_ilist_presentbox_"+t)}t.getTexture=e}(e.ITEM_ILIST_PRESENTBOX||(e.ITEM_ILIST_PRESENTBOX={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("item_ilist_hishimochi_"+t)}t.getTexture=e}(e.ITEM_ILIST_HISHIMOCHI||(e.ITEM_ILIST_HISHIMOCHI={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(18),s=i(159),a=i(111),_=i(34),l=i(69),u=i(6),c=i(678),h=i(679),p=i(680),d=i(681),f=i(682),y=i(692),m=i(215),g=i(216),v=i(694),b=i(695),w=i(699),x=i(700),I=function(t){function e(e){var i=t.call(this)||this;return i.SLOT_MAX=6,i._shipInDeckOrigin=0,i.onClickBreakCombined=function(){var t=new g.CombinedAPI(0);o.default.view.clickGuard=!0,t.start(function(){i.update(),o.default.view.clickGuard=!1})},i._onClickArrow=function(t){i.shipInDeckOrigin+=t,i.ShipSlotLayer.update(i.deckID,i.shipInDeckOrigin)},i._onClickChangeDeckName=function(){i.changeDeckName(i._deckID)},i._onClickMamiyaIrako=function(){i.editNameArea.writable=!1;var t=o.default.view.overLayer,e=o.default.view.getNowScene(),n=new x.TaskMamiyaIrako(t,e);n.onWhiteOut=function(){i.update()},n.onComplete=function(){n.dispose(),i.editNameArea.writable=!0},n.start(i.deckID)},i.editNameArea=new d.EditNameArea,i.editNameArea.writable=!1,i.editNameArea.onClickUpdate=i._onClickChangeDeckName,i.deckSelector=new p.DeckSelector,i.deckSelector.onClickDeckFlag=e,i.sweetsButton=new y.SweetsButton,i.breakDeckView=new h.BreakDeckView,i.shipSlotLayer=new f.ShipSlotLayer,i.addChild(i.deckSelector),r.COMBINABLE&&(i.combineGuideView=new c.CombineGuideView(function(t){i.onDragAndDropCombineTrigger(t)}),i.breakCombineView=new a.CombinedView(!0),i.breakCombineView.onClick=i.onClickBreakCombined,i.breakCombineView.activate(),i.addChild(i.combineGuideView),i.addChild(i.breakCombineView)),i.addChild(i.editNameArea),i.addChild(i.shipSlotLayer),i.addChild(i.breakDeckView),i.addChild(i.sweetsButton),i.addChild(i.shipSlotLayer.ArrowTopButton),i.addChild(i.shipSlotLayer.ArrowBottomButton),i}return n(e,t),Object.defineProperty(e.prototype,"deckID",{get:function(){return this._deckID},set:function(t){this._deckID=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shipInDeckOrigin",{get:function(){return this._shipInDeckOrigin},set:function(t){this._shipInDeckOrigin=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shipSlotDisplayLength",{get:function(){for(var t=0,e=0,i=this.ShipSlotLayer.ShipSlots.length;e<i;e++){!0===this.ShipSlotLayer.ShipSlots[e].visible&&t++}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EditNameArea",{get:function(){return this.editNameArea},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SweetsButton",{get:function(){return this.sweetsButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ShipSlotLayer",{get:function(){return this.shipSlotLayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CombineGuideView",{get:function(){return this.combineGuideView},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.deckSelector.dispose(),this.deckSelector=null,this.editNameArea.dispose(),this.editNameArea=null,this.sweetsButton.dispose(),this.sweetsButton=null,this.shipSlotLayer.dispose(),this.shipSlotLayer=null,this.breakDeckView.dispose(),this.breakDeckView=null,r.COMBINABLE&&(this.combineGuideView.dispose(),this.combineGuideView=null,this.breakCombineView.dispose(),this.breakCombineView=null),this.removeChildren()},e.prototype.init=function(t){this.editNameArea.position.set(694,150),this.sweetsButton.position.set(465,157),this.breakDeckView.position.set(570,162),this.sweetsButton.onClick=this._onClickMamiyaIrako,this.breakDeckView.onClick=t;var e=o.default.model.deck.getAll();this.deckSelector.initialize(0<e.length,1<e.length,2<e.length,3<e.length),this.deckSelector.position.set(177,165),r.COMBINABLE&&(this.combineGuideView.position.set(222,165),this.breakCombineView.position.set(170,155)),this.shipSlotLayer.initArrow(this._onClickArrow)},e.prototype.show=function(t){switch(this.visible=!0,t){case 0:if(this.shipSlotLayer.show(),this.shipSlotLayer.ArrowTopButton.visible=!1,this.shipSlotLayer.ArrowBottomButton.visible=!1,this.breakDeckView.visible=!0,this.updateMamiyaIrako(this._deckID),r.COMBINABLE){var e=o.default.model.deck.isCombined();e&&(this.breakCombineView.visible=!0,this.breakCombineView.interactiveChildren=!0)}break;case 1:case 2:if(r.COMBINABLE){var e=o.default.model.deck.isCombined();e&&(this.breakCombineView.visible=!0,this.breakCombineView.interactiveChildren=!1)}}},e.prototype.hide=function(){this.visible=!1,this.shipSlotLayer.hide(),this.sweetsButton.visible=!1,this.shipSlotLayer.ArrowTopButton.visible=!1,this.shipSlotLayer.ArrowBottomButton.visible=!1,this.breakDeckView.visible=!1,r.COMBINABLE&&(this.combineGuideView.visible=!1,this.breakCombineView.visible=!1)},e.prototype.updateDeck=function(t){this._deckID=t,this.update()},e.prototype.update=function(){var t=o.default.model.deck.get(this._deckID),e=null!=t.expedition,i=t.getCount();this.deckSelector.update(this._deckID),this.shipSlotLayer.update(this._deckID,this._shipInDeckOrigin),this.updateMamiyaIrako(this._deckID),this.updateDeckBreakView(i,e),r.COMBINABLE&&this.updateCombineGuide(this._deckID),this.EditNameArea.reload(t.name)},e.prototype.updateMamiyaIrako=function(t){var e=o.default.model.deck.get(t),i=e.getCount(),n=o.default.model.useItem.get(54).count,r=o.default.model.useItem.get(59).count,s=n+r;if(this.sweetsButton.visible=!1,0<s){var a=!1;e.getShipList().some(function(t){if(t&&(a=t.tired<40))return!0}),this.sweetsButton.update(n,r,i,a),this.sweetsButton.visible=!0}},e.prototype.updateDeckBreakView=function(t,e){var i=0==e,n=1<t,o=n&&i;this.breakDeckView.update(o)},e.prototype.updateCombineGuide=function(t){var e=o.default.model.deck.isCombined();if(this.combineGuideView.visible=!1,this.breakCombineView.visible=!1,this.combineGuideView.interactiveChildren=!1,e)this.breakCombineView.visible=!0;else if(2==t){this.combineGuideView.visible=!0;var i=o.default.model.deck.get(t),n=0<i.getCount(),r=null==i.expedition,s=n&&r;s&&(this.combineGuideView.interactiveChildren=!0)}},e.prototype.updateDeckSelector=function(t){this._deckID=t;var e=o.default.model.deck.get(t);this.editNameArea.reload(e.name),this.deckSelector.update(t)},e.prototype.changeDeckName=function(t){var e=this;o.default.view.clickGuard=!0,this.editNameArea.writable=!1;var i=this.editNameArea.text,n="http://"+o.default.settings.osapi_root,r=function(s){if(window.removeEventListener("message",r),s.origin==n){var a=s.data;new v.UpdateDeckNameAPI(t,i,a).start(function(){o.default.model.deck.get(t).updateName(i,a),u.SE.play("246"),e.editNameArea.writable=!0,o.default.view.clickGuard=!1})}};window.addEventListener("message",r);try{window.parent.postMessage(s.PostMessageType.DECK_NAME+"\t"+i,n)}catch(t){this.editNameArea.writable=!0,o.default.view.clickGuard=!1}},e.prototype.onBreakDeck=function(t,e){var i=this,n=o.default.model.deck.get(t).getShipList();o.default.view.clickGuard=!0;var r=new _.APIConnector;r.add(new m.ChangeAPI(!1,t,0,-2)),10==o.default.model.basic.getTutorialProgress()&&r.add(new l.UpdateTutorialAPI(20)),r.start(function(){for(var r=o.default.model.deck.get(t).getShipList(),s=Array(),a=0;a<i.shipSlotLayer.ShipSlots.length;a++){var _=a+i._shipInDeckOrigin;null!=n[_]&&null==r[_]&&s.push(a)}if(0<s.length){for(var a=0;a<i.shipSlotLayer.ShipSlots.length;a++)if(-1!=s.indexOf(a)){var l=i.shipSlotLayer.ShipSlots[a],u=function(){};s.indexOf(a)==s.length-1&&(u=e),l.closeAnimation(u)}}else e()})},e.prototype.onDragAndDropCombineTrigger=function(t){var e=this;this.combineGuideView.hideOn(),this.editNameArea.writable=!1;var i=new w.CombineDragging({x:this.deckSelector.x,y:this.deckSelector.y},t.data.global,function(t){if(o.default.view.overLayer.removeChild(i),e.combineGuideView.showOn(),t){var n=new b.TaskCombineTypeSelect(o.default.view.overLayer);n.onCombined=function(){e.update()},n.onComplete=function(){n.dispose(),e.editNameArea.writable=!0},n.start()}else e.editNameArea.writable=!0});o.default.view.overLayer.addChild(i)},e}(PIXI.Container);e.DeckLayer=I},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(10),s=i(1),a=function(t){function e(e){var i=t.call(this)||this,n=o.ORGANIZE_MAIN.getTexture(43),a=new PIXI.Sprite(r.COMMON_MISC.getTexture(75));i.icon_d2_on=new PIXI.Sprite(r.COMMON_MISC.getTexture(77));var _=new PIXI.Sprite(n);return _.position.set(-39,-21),i.addChild(a,_,i.icon_d2_on),i.tween=createjs.Tween.get(_).to({x:-39,y:-21,alpha:1}).to({x:-57},600,createjs.Ease.cubicIn).wait(200).to({alpha:0},300).wait(400),i.tween.loop=!0,i.tween.play(null),i.icon_d2_on.on(s.EventType.MOUSEDOWN,e),i.icon_d2_on.interactive=!0,i.icon_d2_on.buttonMode=!0,i}return n(e,t),e.prototype.dispose=function(){createjs.Tween.removeTweens(this.tween.target),this.tween.setPaused(!0),this.icon_d2_on.removeAllListeners(s.EventType.MOUSEDOWN),this.icon_d2_on=null,this.tween=null,this.removeChildren()},e.prototype.hideOn=function(){this.icon_d2_on.visible=!1},e.prototype.showOn=function(){this.icon_d2_on.visible=!0},e}(PIXI.Container);e.CombineGuideView=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(57),s=function(t){function e(){var e=t.call(this)||this;e._onMouseOver=function(){e.balloon.alpha=1},e._onMouseOut=function(){e.balloon.alpha=0},e._onClick=function(){e.onClick()};var i=o.ORGANIZE_MAIN.getTexture(53),n=o.ORGANIZE_MAIN.getTexture(54),s=o.ORGANIZE_MAIN.getTexture(38);return e.iconText=new r.SimpleButton(i,n),e.balloon=new PIXI.Sprite(s),e.balloon.alpha=0,e.balloon.x=-28,e.balloon.y=-37,e.iconText.onMouseOver=e._onMouseOver,e.iconText.onMouseOut=e._onMouseOut,e.iconText.onClick=e._onClick,e.addChild(e.iconText,e.balloon),e}return n(e,t),e.prototype.update=function(t){this.iconText.interactive=!1,t&&(this.iconText.interactive=!0)},e.prototype.dispose=function(){this.removeChildren(),this.iconText.onMouseOver=this._onMouseOver=null,this.iconText.onMouseOut=this._onMouseOut=null,this.iconText.onClick=this._onClick=null,this.iconText.dispose(),this.iconText=null,this.balloon=null,this.onClick=null},e}(PIXI.Container);e.BreakDeckView=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=i(0),s=i(1),a=function(t){function e(){var e=t.call(this)||this;e._onClickDeckFlag=function(t){e.onClickDeckFlag(t)},e.interactiveDeckFlag_1=new _,e.interactiveDeckFlag_2=new _,e.interactiveDeckFlag_3=new _,e.interactiveDeckFlag_4=new _;var i=new l,n=new l,s=new l,a=new l;return i.x=e.interactiveDeckFlag_1.x=0,n.x=e.interactiveDeckFlag_2.x=45,s.x=e.interactiveDeckFlag_3.x=90,a.x=e.interactiveDeckFlag_4.x=135,e.interactiveDeckFlag_1.onClick=e._onClickDeckFlag,e.interactiveDeckFlag_2.onClick=e._onClickDeckFlag,e.interactiveDeckFlag_3.onClick=e._onClickDeckFlag,e.interactiveDeckFlag_4.onClick=e._onClickDeckFlag,e.interactiveDeckFlag_1.update(1),e.interactiveDeckFlag_2.update(2),e.interactiveDeckFlag_3.update(3),e.interactiveDeckFlag_4.update(4),i.update(1),n.update(2),s.update(3),a.update(4),e.addChild(i,n,s,a,e.interactiveDeckFlag_1,e.interactiveDeckFlag_2,e.interactiveDeckFlag_3,e.interactiveDeckFlag_4),r.default.model.deck.exist3rdUnit&&(e.icon3rdUnit=new PIXI.Sprite(o.COMMON_MISC.getTexture(185)),e.icon3rdUnit.position.set(77,-22),e.addChild(e.icon3rdUnit)),e}return n(e,t),e.prototype.initialize=function(t,e,i,n){this.interactiveDeckFlag_1.visible=!1,this.interactiveDeckFlag_2.visible=!1,this.interactiveDeckFlag_3.visible=!1,this.interactiveDeckFlag_4.visible=!1,t&&(this.interactiveDeckFlag_1.visible=!0),e&&(this.interactiveDeckFlag_2.visible=!0),i&&(this.interactiveDeckFlag_3.visible=!0),n&&(this.interactiveDeckFlag_4.visible=!0)},e.prototype.update=function(t){switch(this.interactiveDeckFlag_1.normal(),this.interactiveDeckFlag_2.normal(),this.interactiveDeckFlag_3.normal(),this.interactiveDeckFlag_4.normal(),t){case 1:this.interactiveDeckFlag_1.hover();break;case 2:this.interactiveDeckFlag_2.hover();break;case 3:this.interactiveDeckFlag_3.hover();break;case 4:this.interactiveDeckFlag_4.hover()}},e.prototype.dispose=function(){this.interactiveDeckFlag_1.onClick=this._onClickDeckFlag=null,this.interactiveDeckFlag_2.onClick=this._onClickDeckFlag=null,this.interactiveDeckFlag_3.onClick=this._onClickDeckFlag=null,this.interactiveDeckFlag_4.onClick=this._onClickDeckFlag=null,this.interactiveDeckFlag_1.dispose(),this.interactiveDeckFlag_2.dispose(),this.interactiveDeckFlag_3.dispose(),this.interactiveDeckFlag_4.dispose(),this.onClickDeckFlag=null,this.interactiveDeckFlag_1=null,this.interactiveDeckFlag_2=null,this.interactiveDeckFlag_3=null,this.interactiveDeckFlag_4=null,this.icon3rdUnit=null,this.removeChildren()},e}(PIXI.Container);e.DeckSelector=a;var _=function(t){function e(){var e=t.call(this)||this;return e._onClick=function(){e.onClick(e.memDeckId)},e.addListener(s.EventType.CLICK,e._onClick),e.interactive=e.buttonMode=!0,e}return n(e,t),e.prototype.dispose=function(){this.onClick=null,this.memDeckId=null,this._onClick=null,this.removeAllListeners(s.EventType.CLICK),this.removeChildren()},e.prototype.update=function(t){this.memDeckId=t},e.prototype.hover=function(){var t=o.COMMON_MISC.getTexture(u.getResourceId(this.memDeckId,"on"));this.texture=t},e.prototype.normal=function(){var t=o.COMMON_MISC.getTexture(u.getResourceId(this.memDeckId,"off"));this.texture=t},e}(PIXI.Sprite);e.InteractiveDeckFlag=_;var l=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.update=function(t){this.texture=o.COMMON_MISC.getTexture(u.getResourceId(t,"no")),this.memDeckId=t},e}(PIXI.Sprite);e.DisableDeckFlag=l;var u;!function(t){function e(t,e){switch(t){case 1:switch(e){case"no":return 72;case"on":return 74;case"off":return 73}break;case 2:switch(e){case"no":return 75;case"on":return 77;case"off":return 76}break;case 3:switch(e){case"no":return 78;case"on":return 80;case"off":return 79}break;case 4:switch(e){case"no":return 81;case"on":return 83;case"off":return 82}}return-1}t.getResourceId=e}(u||(u={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(57),s=i(15),a=i(4),_=function(t){function e(){var e=t.call(this)||this;e._onClickUpdate=function(){e.onClickUpdate(),e.baseText=e._mirrorText.text,e._onKeyDown()},e._onKeyDown=function(){var t=s.EditTextBoxUtil.text;e._mirrorText.text=t;var i=s.EditTextBoxUtil.validation(t,e.baseText);e.__updateButton__(i,e._editable)};var i=o.ORGANIZE_MAIN.getTexture(27),n=o.ORGANIZE_MAIN.getTexture(57),_=o.ORGANIZE_MAIN.getTexture(58),l=o.ORGANIZE_MAIN.getTexture(59),u=new PIXI.Sprite(i);return e.editButton=new PIXI.Sprite(n),e.updateButton=new r.SimpleButton(_,l),s.EditTextBoxUtil.init(780,155,332.25,20.25,4999235,"font_j"),s.EditTextBoxUtil.onLengthCheck(12,e._onKeyDown),e._mirrorText=new a.TextBox(27,4999235),e._mirrorText.position.set(87,4),e._mirrorText.visible=!1,e.updateButton.position.set(u.width,1),e.updateButton.onClick=e._onClickUpdate,e.editButton.position.set(u.width,1),e.addChild(u,e.editButton,e.updateButton,e._mirrorText),e}return n(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return s.EditTextBoxUtil.text},enumerable:!0,configurable:!0}),e.prototype.__updateButton__=function(t,e){this.updateButton.interactive=!1,this.editButton.visible=!1,this.updateButton.visible=!1,t&&e?(this.updateButton.reset(),this.updateButton.interactive=!0,this.editButton.visible=!1,this.updateButton.visible=!0):e&&(this.editButton.visible=!0)},e.prototype.dispose=function(){this.removeChildren(),this.updateButton.dispose(),this._mirrorText.destroy(),this.onClickUpdate=null,this.updateButton=null,this.editButton=null,this.baseText=null,this._mirrorText=null,this._editable=null},e.prototype.reload=function(t){this.baseText=this._mirrorText.text=s.EditTextBoxUtil.text=t;var e=s.EditTextBoxUtil.validation(t,this.baseText);this.__updateButton__(e,this._editable)},Object.defineProperty(e.prototype,"writable",{set:function(t){s.EditTextBoxUtil.setVisibility(t),this._mirrorText.visible=!t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editable",{set:function(t){this.editButton.visible=this._editable=t},enumerable:!0,configurable:!0}),e}(PIXI.Container);e.EditNameArea=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(683),s=i(113),a=i(689),_=i(318),l=function(t){function e(){var e=t.call(this)||this;e.SLOT_MAX=6,e.shipSlots=[];for(var i=0;i<e.SLOT_MAX;i++){var n=new a.ShipSlot(i),o=_.ShipOffsetPosition[0]+_.ShipAreaPosition[i][0],r=_.ShipOffsetPosition[1]+_.ShipAreaPosition[i][1];n.position.set(o,r),e.shipSlots.push(n)}return e.arrowTopButton=new s.ArrowButton(!1),e.arrowBottomButton=new s.ArrowButton(!0),e.addChild(e.shipSlots[1],e.shipSlots[3],e.shipSlots[5],e.shipSlots[0],e.shipSlots[2],e.shipSlots[4]),e}return n(e,t),Object.defineProperty(e.prototype,"ShipSlots",{get:function(){return this.shipSlots},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ArrowTopButton",{get:function(){return this.arrowTopButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ArrowBottomButton",{get:function(){return this.arrowBottomButton},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.removeChildren();for(var t=0;t<this.shipSlots.length;t++)this.shipSlots[t].dispose(),this.shipSlots[t]=null;this.shipSlots=null,this.arrowTopButton.dispose(),this.arrowTopButton=null,this.arrowBottomButton.dispose(),this.arrowBottomButton=null,this.taskShipDetail&&this.taskShipDetail.dispose(),this.taskShipDetail=null},e.prototype.init=function(t,e,i){this.shipSlots.forEach(function(n){n.activate(t,e,i)})},e.prototype.initArrow=function(t){this.arrowTopButton.position.set(686,220),this.arrowBottomButton.position.set(683,663),this.arrowTopButton.initialize(function(){t&&t(-2)}),this.arrowBottomButton.initialize(function(){t&&t(2)})},e.prototype.show=function(){this.visible=!0},e.prototype.hide=function(){this.visible=!1},e.prototype.update=function(t,e){for(var i=o.default.model.deck.get(t),n=null!=i.expedition,r=i.getCount(),s=i.getShipList().length,a=0;a<this.shipSlots.length;a++){var _=this.shipSlots[a],l=a+e,u=i.getShipModel(l);if(_.visible=!1,u)_.visible=!0,_.update(l,u,n),_.open();else if(l<s){var c=r<s,h=l==r,p=0==n,d=p&&c&&h;_.visible=!0,_.updateEmpty(l,d),_.close()}}this.arrowBottomButton.visible=!1,this.arrowTopButton.visible=!1,this.arrowBottomButton.deactivate(),this.arrowTopButton.deactivate(),0<e&&(this.arrowTopButton.visible=!0,this.arrowTopButton.activate()),this.shipSlots.length+e<s&&(this.arrowBottomButton.visible=!0,this.arrowBottomButton.activate())},e.prototype.shutterAnimation=function(t,e,i){var n=this.shipSlots[t];n.closeAnimation(function(){e&&e(),n.close();createjs.Tween.get(null).wait(100).call(function(){n.openAnimation(function(){i&&i()},200)})},200)},e.prototype.onShipDetail=function(t,e,i){var n=this;this.taskShipDetail=new r.TaskShipDetail(e),this.taskShipDetail.onClickBack=function(){n.taskShipDetail.hide(function(){n.taskShipDetail.dispose(),n.taskShipDetail=null,i&&i()})},this.taskShipDetail.start(t)},e}(PIXI.Container);e.ShipSlotLayer=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),o=i(0),r=i(1),s=i(28),a=i(8),_=i(37),l=i(6),u=i(684),c=function(){function t(t){var e=this;this._onClickBack=function(){e.onClickBack()},this.mainView=t,this.dialogBackground=new a.AreaBox(.5),this.shipDetailView=new u.ShipDetailView}return t.prototype.start=function(t){var e=o.default.model.ship.get(t),i=o.default.model.ship.getMst(e.mstID),a=s.ShipUtil.isMaxGradeUp(e,i,!1),_=o.default.model.deck.isInDeck(e.memID);this.dialogBackground.alpha=0,this.dialogBackground.on(r.EventType.CLICK,this._onClickBack);var u=!1;if(_){u=null!=o.default.model.deck.get(_[0]).expedition}this.shipDetailView.updateBox1(e.name,e.level,e.hpNow,e.hpMax,e.starNum,a),this.shipDetailView.updateBox2(e,e.getSlotitems()),this.shipDetailView.updateBox3(e.hpMax,e.soukou,e.kaihi,e.tousai,e.speed,e.range,e.karyoku,e.raisou,e.taiku,e.taisen,e.sakuteki,e.lucky),this.shipDetailView.updateBox4(e,e.getSlotitemEx(),e.isExtraSlot()),this.shipDetailView.updateBox5(e,u),this.shipDetailView.position.set(n.default.width,141),this.mainView.addChild(this.dialogBackground,this.shipDetailView),o.default.view.clickGuard=!0,l.SE.play("249");createjs.Tween.get(this.dialogBackground).to({alpha:1},125),createjs.Tween.get(this.shipDetailView).to({x:471},125).call(function(){o.default.sound.voice.playAtRandom(e.mstID.toString(),[2,3],[50,50]),o.default.view.clickGuard=!1})},t.prototype.hide=function(t){_.TaskLoadShipResource.abortBy(this.shipDetailView),o.default.view.clickGuard=!0;createjs.Tween.get(this.dialogBackground).to({alpha:0},125),createjs.Tween.get(this.shipDetailView).to({x:n.default.width},125).call(function(){o.default.view.clickGuard=!1,t()})},t.prototype.dispose=function(){this.dialogBackground.off(r.EventType.CLICK,this._onClickBack),this.shipDetailView.dispose(),this.mainView.removeChild(this.dialogBackground),this.mainView.removeChild(this.shipDetailView),this.onClickBack=null,this.dialogBackground=null,this.mainView=null,this.shipDetailView=null},t}();e.TaskShipDetail=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(112),r=i(315),s=i(83),a=i(4),_=i(21),l=i(10),u=i(316),c=i(686),h=i(317),p=i(15),d=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite;i.texture=_.COMMON_MAIN.getTexture(64),i.position.set(0,-37);var n=new PIXI.Sprite(_.COMMON_MAIN.getTexture(1));n.position.set(22,Math.floor(i.height/2-4)),n.anchor.set(0,.5),i.addChild(n),e.textName=new a.TextBox(25,5523516),e.textLevel=new a.TextBox(28,5523516),e.textHp=new a.TextBox(15,5523516),e.rateView=new s.StarRateView,e.slotItemSlotContainer=new h.SlotItemSlotContainer(5),e.extraSlotItemViewContainer=new h.SlotItemSlotContainer(1),e.hpGaugeView=new o.HpGaugeView,e.shipParameterView=new c.ShipParameterView,e.expGaugeView=new u.ExpGaugeView,e.textExp=new a.TextBox(16,5523516);var d=new PIXI.Sprite(l.COMMON_MISC.getTexture(184));e.remodelMaxMedal=new PIXI.Sprite(_.COMMON_MAIN.getTexture(28));var f=new PIXI.Sprite(_.COMMON_MAIN.getTexture(65));e.shipCard=new r.ShipCard(!0,!0),e.sixSlotMessage=new PIXI.Sprite(_.COMMON_MAIN.getTexture(66));var y=new PIXI.Sprite(_.COMMON_MAIN.getTexture(12));e.containerName=new PIXI.Container,e.containerName.position.set(42,23);var m=p.CreateRect.gradientLeftToRight(185,45,.94,.95);return e.containerName.mask=m,e.containerName.addChild(e.textName,m),e.textLevel.anchor.x=1,e.slotItemSlotContainer.position.set(51,100),e.extraSlotItemViewContainer.position.set(405,516),d.position.set(229,30),f.position.set(364,478),e.shipParameterView.position.set(51,351),e.hpGaugeView.position.set(43,72),e.textHp.position.set(152,68),e.rateView.position.set(228,72),e.expGaugeView.position.set(451,481),e.textLevel.position.set(321,24),e.remodelMaxMedal.position.set(322,19),e.textExp.position.set(465,493),e.textExp.anchor.x=1,e.shipCard.position.set(369,25),e.sixSlotMessage.position.set(531,499),e.addChild(y,e.containerName,e.textLevel,e.hpGaugeView,e.textHp,e.expGaugeView,e.rateView,e.slotItemSlotContainer,e.extraSlotItemViewContainer,e.shipParameterView,e.shipCard,f,d,e.textExp,e.sixSlotMessage,e.remodelMaxMedal,i),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.hpGaugeView.dispose(),this.expGaugeView.dispose(),this.shipParameterView.dispose(),this.slotItemSlotContainer.dispose(),this.rateView.dispose(),this.extraSlotItemViewContainer.dispose(),this.shipCard.dispose(),this.containerName.cacheAsBitmap=!1,this.containerName.removeChildren(),this.containerName.mask=null,this.textName.destroy(),this.textLevel.destroy(),this.textHp.destroy(),this.textExp.destroy(),this.hpGaugeView=null,this.expGaugeView=null,this.shipParameterView=null,this.slotItemSlotContainer=null,this.rateView=null,this.extraSlotItemViewContainer=null,this.shipCard=null,this.textName=null,this.textLevel=null,this.textHp=null,this.textExp=null,this.remodelMaxMedal=null,this.sixSlotMessage=null,this.containerName=null},e.prototype.updateBox1=function(t,e,i,n,o,r){this.containerName.cacheAsBitmap=!1,this.textName.text=t,this.containerName.cacheAsBitmap=!0,this.textHp.text=i+"/"+n,this.hpGaugeView.update(i,n),this.rateView.update(o),this.textLevel.text=e.toString(),this.remodelMaxMedal.visible=!!r},e.prototype.updateBox2=function(t,e){this.slotItemSlotContainer.updateSlot(t,e)},e.prototype.updateBox3=function(t,e,i,n,o,r,s,a,_,l,u,c){this.shipParameterView.update(t,e,i,n,o,r,s,a,_,l,u,c)},e.prototype.updateBox4=function(t,e,i){this.expGaugeView.update(t.expNowRate),this.textExp.text=t.expNextLevel.toString(),i?(this.extraSlotItemViewContainer.updateExSlot(e),this.extraSlotItemViewContainer.visible=!0,this.sixSlotMessage.visible=!0):(this.extraSlotItemViewContainer.visible=!1,this.sixSlotMessage.visible=!1)},e.prototype.updateBox5=function(t,e){this.shipCard.update(t,e)},e}(PIXI.Container);e.ShipDetailView=d},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(286),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.__getPositions__=function(){return[[48,0],[12,50],[29,86],[87,86],[0,140],[20,224],[0,381],[96,426],[132,390],[219,395],[266,426],[309,381],[284,320],[302,120],[284,84],[293,48],[257,26],[293,0]]},e}(o.BaseKirakira);e.CardKirakira=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(212),r=i(21),s=function(t){function e(){var e=r.COMMON_MAIN.getTexture(15);return t.call(this,e)||this}return n(e,t),e.prototype.dispose=function(){this.cacheAsBitmap=!1,t.prototype.dispose.call(this)},e.prototype.update=function(t,e,i,n,o,r,s,a,_,l,u,c){this.cacheAsBitmap=!1,this._sokuryoku.update(o),this._textHp.text=t.toString(),this._textSoukou.text=e.toString(),this._textKaihi.text=i.toString(),this._textTousai.text=n.toString(),this._shatei.update(r),this._textKaryoku.text=s.toString(),this._textRaisou.text=a.toString(),this._textTaiku.text=_.toString(),this._textTaisen.text=l.toString(),this._textSakuteki.text=u.toString(),this._textLucky.text=c.toString(),this.cacheAsBitmap=!0,this._sokuryoku.position.set(113-Math.floor(this._sokuryoku.width/2),143),this._shatei.position.set(113-Math.floor(this._shatei.width/2),177)},e.prototype._alignment=function(){this._textHp.position.set(137,3),this._textSoukou.position.set(137,38),this._textKaihi.position.set(137,72),this._textTousai.position.set(137,107),this._sokuryoku.position.set(116,143),this._shatei.position.set(116,177),this._textKaryoku.position.set(285,3),this._textRaisou.position.set(285,38),this._textTaiku.position.set(285,72),this._textTaisen.position.set(285,107),this._textSakuteki.position.set(285,141),this._textLucky.position.set(285,176)},e}(o.ShipParameterViewBase);e.ShipParameterView=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(21),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.update=function(t){switch(t){case 0:this.texture=o.COMMON_MAIN.getTexture(58);break;case 1:this.texture=o.COMMON_MAIN.getTexture(61);break;case 2:this.texture=o.COMMON_MAIN.getTexture(57);break;case 3:this.texture=o.COMMON_MAIN.getTexture(55);break;case 4:this.texture=o.COMMON_MAIN.getTexture(62);break;default:this.texture=PIXI.Texture.EMPTY}},e.prototype.dispose=function(){},e}(PIXI.Sprite);e.ShateiImage=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(161),s=i(61),a=i(162),_=i(4),l=i(21),u=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this)||this,n=new PIXI.Sprite,u=new _.TextBox(19,5523516),c=new PIXI.Sprite(o.default.resources.getUIImage("mask")),h=new _.TextBox(21,5523516),p=new a.SlotItemLevel,d=new PIXI.Sprite,f=new r.AirPlaneLevel,y=new PIXI.Sprite(l.COMMON_MAIN.getTexture(42)),m=new s.IconWeapon;n.texture=l.COMMON_MAIN.getTexture(45),c.scale.set(-1.95,1),c.anchor.set(1,0);var g=new PIXI.Container;return g.mask=c,g.addChild(u,c),g.position.set(50,11),h.position.set(-2,23),h.anchor.set(1,.5),p.position.set(247,14),f.position.set(219,3),y.position.set(293,2),i.addChild(n,g,h,d,p,f,y,m),i.background=n,i.textName=u,i.textNum=h,i.emblem=d,i.airPlaneLevel=f,i.slotItemLevel=p,i.lockIcon=y,i.hideTousai=e,i.iconWeapon=m,i.containerName=g,i}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.containerName.cacheAsBitmap=!1,this.slotItemLevel.dispose(),this.iconWeapon.dispose(),this.airPlaneLevel.dispose(),this.containerName.mask=null,this.containerName.removeChildren(),this.textName.destroy(),this.textNum.destroy(),this.iconWeapon=null,this.background=null,this.textName=null,this.textNum=null,this.emblem=null,this.airPlaneLevel=null,this.slotItemLevel=null,this.lockIcon=null,this.containerName=null,this.hideTousai=null},e.prototype.clear=function(){this.update(0,"",!1,0,0,0,!1)},e.prototype.update=function(t,e,i,n,o,r,s){void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=0),void 0===s&&(s=!1),this.containerName.cacheAsBitmap=!1,this.textName.text=e.toString(),this.containerName.cacheAsBitmap=!0,this.iconWeapon.update(t),i?(this.textNum.visible=!0,this.textNum.text=n.toString(),this.airPlaneLevel.visible=!0,this.airPlaneLevel.update(r),this.airPlaneLevel.position.set(219,3)):(this.textNum.visible=!1,this.textNum.text="",this.airPlaneLevel.visible=!1,this.airPlaneLevel.update(0)),this.lockIcon.visible=!!s,this.hideTousai&&(this.textNum.visible=!1),this.slotItemLevel.update(o)},e}(PIXI.Container);e.SlotItemSlotView=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(690),s=i(691),a=i(214),_=i(57),l=i(1),u=function(t){function e(e){var i=t.call(this)||this;i._onMouseDown=function(){i.onDragging(i.slotPosition,i.memShipId)},i.___onMouseDown=function(t){i.onMouseDown(i.slotPosition,i.slotNo,i.memShipId)},i._onClickChange=function(){i.onClickChange(i.slotPosition,i.slotNo)},i._onClickDetail=function(){i.onClickDetail(i.memShipId)},i.shipSlotShutter=new s.ShipSlotShutter,i.shipInfo=new r.ShipInfo,i.deckIndexEmblem=new a.DeckIndexEmblem;var n=o.ORGANIZE_MAIN.getTexture(23),u=o.ORGANIZE_MAIN.getTexture(24),c=o.ORGANIZE_MAIN.getTexture(25),h=o.ORGANIZE_MAIN.getTexture(9),p=o.ORGANIZE_MAIN.getTexture(10);return i.disableChangeButton=new PIXI.Sprite(n),i.changeButton=new _.SimpleButton(u,c),i.detailButton=new _.SimpleButton(h,p),i.shipBannerDragArea=new PIXI.Graphics,i.shipBannerDragArea.beginFill(0,0),i.shipBannerDragArea.drawRect(0,0,240,60),i.shipBannerDragArea.endFill(),i.shipBannerDragArea.position.set(245,18),i.shipBannerDragArea.interactive=!0,i.shipBannerDragArea.buttonMode=!0,i.shipBannerDragArea.renderable=!1,i.shipBannerDragArea.on(l.EventType.MOUSEDOWN,i._onMouseDown),i.changeButton.onClick=i._onClickChange,i.detailButton.onClick=i._onClickDetail,i.disableChangeButton.position.set(379,103),i.changeButton.position.set(379,103),i.detailButton.position.set(250,103),i.deckIndexEmblem.position.set(-15,0),i.slotPosition=e,i}return n(e,t),e.prototype.activate=function(t,e,i){this.deactivate(),this.onDragging=t,this.onClickChange=e,this.onClickDetail=i},e.prototype.deactivate=function(){this.onDragging=null,this.onClickChange=null,this.onClickDetail=null},e.prototype.dispose=function(){this.deactivate(),this.shipBannerDragArea.off(l.EventType.MOUSEDOWN,this._onMouseDown),this.shipSlotShutter.dispose(),this.shipInfo.dispose(),this.deckIndexEmblem.dispose(),this.changeButton.dispose(),this.shipSlotShutter=null,this.shipInfo=null,this.deckIndexEmblem=null,this.changeButton=null,this.removeChildren()},e.prototype.update=function(t,e,i){this.removeChildren();var n=e.memID;this.shipInfo.update(e,i),this.deckIndexEmblem.update(t),i?this.addChild(this.shipInfo,this.deckIndexEmblem,this.disableChangeButton,this.detailButton,this.shipSlotShutter):this.addChild(this.shipInfo,this.deckIndexEmblem,this.changeButton,this.detailButton,this.shipBannerDragArea,this.shipSlotShutter),this.memShipId=n,this.slotNo=t},e.prototype.close=function(){this.shipSlotShutter.close(),this.deckIndexEmblem.visible=!1},e.prototype.closeAnimation=function(t,e){void 0===e&&(e=250),this.deckIndexEmblem.visible=!1,this.shipSlotShutter.closeAnimation(function(){t()},e)},e.prototype.open=function(){this.deckIndexEmblem.visible=!0,this.shipSlotShutter.open()},e.prototype.openAnimation=function(t,e){var i=this;void 0===e&&(e=250),this.shipSlotShutter.openAnimation(function(){i.deckIndexEmblem.visible=!0,t()},e)},e.prototype.updateEmpty=function(t,e){this.removeChildren(),this.memShipId=null,this.slotNo=t,e?this.addChild(this.shipSlotShutter,this.changeButton):this.addChild(this.shipSlotShutter)},e}(PIXI.Container);e.ShipSlot=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(83),r=i(112),s=i(4),a=i(32),_=i(56),l=i(316),u=function(t){function e(){var e=t.call(this)||this,i=_.ORGANIZE_MAIN.getTexture(30);e.background=new PIXI.Sprite(i);e.textHp=new s.TextBox(15,"white"),e.textLv=new s.TextBox(21,"white"),e.textHougeki=new s.TextBox(15,"white"),e.textTaiku=new s.TextBox(15,"white"),e.textRaigeki=new s.TextBox(15,"white"),e.textSoukou=new s.TextBox(15,"white"),e.shipBanner=new a.ShipBanner,e.rateView=new o.StarRateView,e.hpGaugeView=new r.HpGaugeView,e.expGaugeView=new l.ExpGaugeView,e.textHp.anchor.set(1,0),e.textHp.position.set(229,64),e.textLv.anchor.set(1,0),e.textLv.position.set(237,20),e.shipBanner.position.set(244,18),e.textHougeki.anchor.set(1,0),e.textHougeki.position.set(117,90),e.textRaigeki.position.set(117,120),e.textRaigeki.anchor.set(1,0),e.textTaiku.position.set(232,90),e.textTaiku.anchor.set(1,0),e.textSoukou.position.set(232,120),e.textSoukou.anchor.set(1,0),e.rateView.position.set(18,63),e.hpGaugeView.position.set(132,54),e.expGaugeView.position.set(241,87),e.containerName=new PIXI.Container;var n=new PIXI.Graphics;return e.textName=new s.TextBox(35,"white"),n.beginFill(0,0),n.drawRect(0,0,105,72),n.endFill(),e.containerName.position.set(23,18),e.containerName.mask=n,e.containerName.addChild(e.textName,n),e.background.interactive=!0,e.addChild(e.background,e.hpGaugeView,e.expGaugeView,e.rateView,e.textHp,e.textLv,e.containerName,e.textHougeki,e.textTaiku,e.textRaigeki,e.textSoukou,e.shipBanner),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.containerName.cacheAsBitmap=!1,this.hpGaugeView.dispose(),this.expGaugeView.dispose(),this.rateView.dispose(),this.shipBanner.dispose(),this.containerName.removeChildren(),this.containerName.mask=null,this.textHp.destroy(),this.textLv.destroy(),this.textName.destroy(),this.textHougeki.destroy(),this.textTaiku.destroy(),this.textRaigeki.destroy(),this.textSoukou.destroy(),this.containerName=null,this.hpGaugeView=null,this.expGaugeView=null,this.rateView=null,this.shipBanner=null,this.textHp=null,this.textLv=null,this.textName=null,this.textHougeki=null,this.textTaiku=null,this.textRaigeki=null,this.textSoukou=null,this.background=null},e.prototype._updateName_=function(t,e){this.containerName.cacheAsBitmap=!1,this.textName.style.fill=e?16766947:"white",this.textName.text=t,this.containerName.cacheAsBitmap=!0},e.prototype.update=function(t,e){this.shipBanner.update(t,e),this.shipBanner.updatePlate(t.label),this.textHougeki.text=t.karyoku.toString(),this.textTaiku.text=t.taiku.toString(),this.textRaigeki.text=t.raisou.toString(),this.textSoukou.text=t.soukou.toString(),this._updateName_(t.name,t.isMarriage()),this.textHp.text=t.hpNow+"/"+t.hpMax,this.background.interactive=!0,this.textLv.text=t.level.toString(),this.textHp.text=t.hpNow+"/"+t.hpMax,this.rateView.update(t.starNum),this.hpGaugeView.update(t.hpNow,t.hpMax),this.expGaugeView.update(t.expNowRate)},e}(PIXI.Container);e.ShipInfo=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=function(t){function e(){var e=t.call(this)||this,i=o.ORGANIZE_MAIN.getTexture(31),n=o.ORGANIZE_MAIN.getTexture(32);e.frameShutterLeft=new PIXI.Sprite(i),e.frameShutterRight=new PIXI.Sprite(n);var r=new PIXI.Graphics,s=new PIXI.Graphics;return r.beginFill(0,1),r.moveTo(0,15),r.lineTo(15,0),r.lineTo(247,0),r.lineTo(247,157),r.lineTo(13,157),r.lineTo(0,142),r.lineTo(0,15),r.endFill(),s.beginFill(0,1),s.moveTo(0,0),s.lineTo(232,0),s.lineTo(247,16),s.lineTo(247,141),s.lineTo(231,157),s.lineTo(0,157),s.lineTo(0,0),s.endFill(),s.x=s.width,e.frameShutterLeft.mask=r,e.frameShutterRight.mask=s,e.frameShutterRight.position.set(e.frameShutterRight.width,0),e.frameShutterLeft.position.set(0,0),e.frameShutterRight.position.set(247,0),e.frameShutterLeft.interactive=!0,e.frameShutterRight.interactive=!0,e.addChild(e.frameShutterLeft,e.frameShutterRight,r,s),e}return n(e,t),e.prototype.dispose=function(){this.cacheAsBitmap=!1,this.frameShutterLeft.removeChildren(),this.frameShutterRight.removeChildren(),this.frameShutterLeft.mask=null,this.frameShutterRight.mask=null,this.frameShutterLeft=null,this.frameShutterRight=null,this.removeChildren()},e.prototype.openAnimation=function(t,e){var i=this;void 0===e&&(e=250),this.cacheAsBitmap=!1;this.frameShutterLeft.position.x=0,createjs.Tween.get(this.frameShutterLeft).to({x:-247},e).call(function(){i.cacheAsBitmap=!0,t()}),this.frameShutterRight.position.x=247,createjs.Tween.get(this.frameShutterRight).to({x:494},e)},e.prototype.closeAnimation=function(t,e){var i=this;void 0===e&&(e=250),this.cacheAsBitmap=!1;this.frameShutterLeft.position.x=-247,createjs.Tween.get(this.frameShutterLeft).to({x:0},e).call(function(){i.cacheAsBitmap=!0,t()}),this.frameShutterRight.position.x=494,createjs.Tween.get(this.frameShutterRight).to({x:247},e)},e.prototype.open=function(){this.cacheAsBitmap=!1,this.frameShutterLeft.x=-247,this.frameShutterRight.x=494,this.cacheAsBitmap=!0},e.prototype.close=function(){this.cacheAsBitmap=!1,this.frameShutterLeft.x=0,this.frameShutterRight.x=247,this.cacheAsBitmap=!0},e}(PIXI.Container);e.ShipSlotShutter=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(4),s=i(693),a=i(1),_=function(t){function e(){var e=t.call(this)||this;e.animation={light:0},e._onClick=function(){e.onClick()},e._onMouseOver_Light=function(){e._stop(),e.hokyuLight.texture=e.textureHover},e._onMouseOut_Light=function(){e._play()};var i=o.ORGANIZE_MAIN.getTexture(17),n=o.ORGANIZE_MAIN.getTexture(18),_=o.ORGANIZE_MAIN.getTexture(19);return e.textCount=new r.TextBox(30,5523516),e.tween=createjs.Tween.get(e.animation),e.hokyuLight=new PIXI.Sprite,e.hokyuNormal=new PIXI.Sprite(i),e.hokyuNone=new PIXI.Sprite(n),e.hokyuDisable=new PIXI.Sprite(_),e.crossCharacter=new s.CrossCharacter,e.crossCharacter.position.set(48,15),e.hokyuLight.texture=n,e.tween.to({light:0}),e.tween.to({light:1},500),e.tween.to({light:0},500),e.tween.loop=!0,e.tween.addEventListener("change",function(){.5<=e.animation.light?e.hokyuLight.texture=e.textureDefault:e.hokyuLight.texture=e.textureHover}),e.tween.setPaused(!0),e.hokyuLight.on(a.EventType.CLICK,e._onClick),e.hokyuLight.on(a.EventType.MOUSEOVER,e._onMouseOver_Light),e.hokyuLight.on(a.EventType.MOUSEOUT,e._onMouseOut_Light),e.hokyuNormal.on(a.EventType.CLICK,e._onClick),e.hokyuLight.interactive=e.hokyuLight.buttonMode=!0,e.hokyuNormal.interactive=e.hokyuNormal.buttonMode=!0,e.hokyuNone.visible=e.hokyuNormal.visible=e.hokyuLight.visible=!1,e.textCount.position.set(e.crossCharacter.width+48,-1),e.addChild(e.hokyuDisable,e.hokyuNone,e.hokyuNormal,e.hokyuLight,e.textCount,e.crossCharacter),e.textureDefault=n,e.textureHover=i,e._play(),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.tween&&(this.tween.setPaused(!0),createjs.Tween.removeTweens(this.tween.target)),this.hokyuLight.off(a.EventType.CLICK),this.hokyuLight.off(a.EventType.MOUSEOVER),this.hokyuLight.off(a.EventType.MOUSEOUT),this.hokyuNormal.off(a.EventType.CLICK),this._onClick=this._onMouseOut_Light=this._onMouseOver_Light=null,this.crossCharacter.dispose(),this.textCount.destroy(),this.onClick=null,this.textureDefault=null,this.textureHover=null,this.textCount=null,this.animation=null,this.tween=null,this.hokyuLight=null,this.hokyuNormal=null,this.hokyuNone=null,this.hokyuDisable=null,this.crossCharacter=null},e.prototype.update=function(t,e,i,n){void 0===i&&(i=0),this.hokyuNone.visible=!1,this.hokyuLight.visible=!1,this.hokyuNormal.visible=!1,this.textCount.visible=!1,this.hokyuDisable.visible=!1,this.crossCharacter.visible=!1;var o=t+e;if(0<o){if(this.crossCharacter.visible=!0,this.textCount.text=o.toString(),this.textCount.visible=!0,0<i){if(n)return void(this.hokyuLight.visible=!0);if(0<e)return void(this.hokyuNormal.visible=!0)}return void(this.hokyuDisable.visible=!0)}},e.prototype._play=function(){this.tween.setPosition(0,createjs.Tween.LOOP),this.tween.setPaused(!1)},e.prototype._stop=function(){this.tween.setPaused(!0)},e}(PIXI.Container);e.SweetsButton=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var e=t.call(this)||this,i=[5.5,5.15],n=[[9.1,0],[7.25,0],[4.6,4.1],[1.95,0],[.05,0],[3.55,5.25],[0,10.4],[1.85,10.4],[4.5,6.3],[7.25,10.4],[9.15,10.4],[5.5,5.15]];return e.beginFill(4999235,1),e.moveTo(i[0],i[1]),n.forEach(function(t){e.lineTo(t[0],t[1])}),e.endFill(),e}return n(e,t),e.prototype.dispose=function(){this.clear()},e}(PIXI.Graphics);e.CrossCharacter=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(11),s=function(t){function e(e,i,n){var o=t.call(this)||this;return o._url="api_req_member/updatedeckname",o.api_deck_id=e,o.api_name=i,o.api_name_id=n,o}return n(e,t),e.prototype._connect=function(){this._post_data.api_deck_id=this.api_deck_id,this._post_data.api_name=this.api_name,this._post_data.api_name_id=this.api_name_id,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){o.default.model.deck.get(this.api_deck_id).updateName(this.api_name,this.api_name_id),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.UpdateDeckNameAPI=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(49),r=i(8),s=i(319),a=i(696),_=i(697),l=i(698),u=i(216),c=function(){function t(t){this.mainView=t,this.dialogBackground=new r.AreaBox(o.UISettings.DIALOG_BG_ALPHA),this.combineTypeSelectDialog=new l.CombineTypeSelectDialog,this.combineConfirmDialog=new _.CombineConfirmDialog,this.combineConfirmAlertDialog=new a.CombineConfirmAlertDialog}return t.prototype.dispose=function(){this.combineTypeSelectDialog.dispose(),this.combineConfirmDialog.dispose(),this.combineConfirmAlertDialog.dispose(),this.mainView.removeChild(this.dialogBackground),this.mainView.removeChild(this.combineConfirmAlertDialog),this.mainView.removeChild(this.combineConfirmDialog),this.mainView.removeChild(this.combineTypeSelectDialog),this.combineTypeSelectDialog.onClickBack=null,this.combineTypeSelectDialog.onClickKido=null,this.combineTypeSelectDialog.onClickSuijo=null,this.combineTypeSelectDialog.onClickYuso=null,this.combineConfirmDialog.onClickNO=null,this.combineConfirmDialog.onClickYES=null,this.combineConfirmAlertDialog.onClickYES=null,this.onCombined=null,this.onComplete=null,this.mainView=null,this.dialogBackground=null,this.combineTypeSelectDialog=null,this.combineConfirmDialog=null,this.combineConfirmAlertDialog=null},t.prototype.start=function(){var t=this;this.combineTypeSelectDialog.position.set(304,232),this.combineTypeSelectDialog.update(!0,!0,!0),this.combineTypeSelectDialog.onClickBack=function(){t.onComplete()},this.combineConfirmAlertDialog.position.set(216,186),this.combineTypeSelectDialog.onClickKido=function(){t._onClickType(1)},this.combineTypeSelectDialog.onClickSuijo=function(){t._onClickType(2)},this.combineTypeSelectDialog.onClickYuso=function(){t._onClickType(3)},this.mainView.addChild(this.dialogBackground,this.combineTypeSelectDialog)},t.prototype._onClickType=function(t){var e=this,i=n.default.model.deck.get(1),o=n.default.model.deck.get(2);this.mainView.removeChild(this.dialogBackground),this.mainView.removeChild(this.combineTypeSelectDialog),this.combineConfirmDialog.position.set(171,186);var r=s.CombineUtil.checkCombinable(i,o,t),a=r[0],_=r[1],l=r[2];a?(this.combineConfirmDialog.updateViewType(t),this.combineConfirmDialog.updateCombineDeck(i,o),this.combineConfirmDialog.onClickNO=function(){e.onComplete()},this.combineConfirmDialog.onClickYES=function(){n.default.view.clickGuard=!0,new u.CombinedAPI(t).start(function(){e.onCombined(),n.default.view.clickGuard=!1,e.onComplete()})},this.mainView.addChild(this.dialogBackground,this.combineConfirmDialog)):(this.combineConfirmAlertDialog.updateCombineDeck(i,o,_,l),this.combineConfirmAlertDialog.updateViewType(t),this.combineConfirmAlertDialog.onClickYES=function(){e.onComplete()},this.mainView.addChild(this.dialogBackground,this.combineConfirmAlertDialog))},t}();e.TaskCombineTypeSelect=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(4),s=i(32),a=i(1),_=function(t){function e(){var e=t.call(this)||this;e._onClickYES=function(){e.onClickYES()};var i=new PIXI.Container;i.position.set(69,153),e.firstShipInDeckBanners=new Array;for(var n=0;n<6;n++){var _=new s.ShipBanner;_.scale.set(.75,.75),_.y=51*n,_.visible=!1,e.firstShipInDeckBanners.push(_),i.addChild(_)}var u=new PIXI.Container;u.position.set(678,153),e.secondShipInDeckBanners=new Array;for(var n=0;n<6;n++){var _=new s.ShipBanner;_.scale.set(.75,.75),_.y=51*n,_.visible=!1,e.secondShipInDeckBanners.push(_),u.addChild(_)}e.background=new PIXI.Sprite;var c=o.ORGANIZE_MAIN.getTexture(16),h=new PIXI.Sprite(c),p=o.ORGANIZE_MAIN.getTexture(8);return e.buttonBack=new PIXI.Sprite(p),e.message=new PIXI.Sprite,e.firstDeckName=new r.TextBox(12,16777215),e.secondDeckName=new r.TextBox(12,16777215),e.toFirstDeckErrorMessageView=new l,e.toSecondDeckErrorMessageView=new l,e.firstDeckName.position.set(60,123),e.secondDeckName.position.set(667,123),h.position.set(300,420),e.buttonBack.position.set(480,420),e.toFirstDeckErrorMessageView.position.set(276,103),e.toSecondDeckErrorMessageView.position.set(325,331),e.buttonBack.interactive=e.buttonBack.buttonMode=!0,e.buttonBack.addListener(a.EventType.CLICK,e._onClickYES),e.addChild(e.background,e.message,h,e.buttonBack,e.firstDeckName,e.secondDeckName,i,u,e.toFirstDeckErrorMessageView,e.toSecondDeckErrorMessageView),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren();for(var t=0;t<this.firstShipInDeckBanners.length;t++)this.firstShipInDeckBanners[t].dispose(),this.firstShipInDeckBanners[t]=null;for(var t=0;t<this.secondShipInDeckBanners.length;t++)this.secondShipInDeckBanners[t].dispose(),this.secondShipInDeckBanners[t]=null;this.toFirstDeckErrorMessageView.dispose(),this.toSecondDeckErrorMessageView.dispose(),this.firstDeckName.destroy(),this.secondDeckName.destroy(),this.toFirstDeckErrorMessageView=null,this.toSecondDeckErrorMessageView=null,this.onClickYES=null,this.background=null,this.buttonBack=null,this.message=null,this.firstDeckName=null,this.secondDeckName=null,this.firstShipInDeckBanners=null,this.secondShipInDeckBanners=null},e.prototype.updateFirstDeck=function(t){this.firstDeckName.text=t.name;for(var e=t.getShipList(),i=0;i<e.length;i++){var n=this.firstShipInDeckBanners[i],o=e[i];null==o?n.visible=!1:(n.update(o,!1),n.visible=!0)}},e.prototype.updateSecondDeck=function(t){this.secondDeckName.text=t.name;for(var e=null!=t.expedition,i=t.getShipList(),n=0;n<i.length;n++){var o=this.secondShipInDeckBanners[n],r=i[n];null==r?o.visible=!1:(o.update(r,e),o.visible=!0)}},e.prototype.updateCombineDeck=function(t,e,i,n){this.updateFirstDeck(t),this.updateSecondDeck(e),this.toFirstDeckErrorMessageView.update(i),this.toSecondDeckErrorMessageView.update(n)},e.prototype.updateViewType=function(t){switch(t){case 1:this.initKidoView();break;case 2:this.initSuijoView();break;case 3:this.initYusoView()}},e.prototype.initKidoView=function(){var t=o.ORGANIZE_RENGO.getTexture(13);this.background.texture=t;var e=o.ORGANIZE_RENGO.getTexture(15);this.message.texture=e,this.message.position.set(111,49)},e.prototype.initSuijoView=function(){var t=o.ORGANIZE_RENGO.getTexture(19);this.background.texture=t;var e=o.ORGANIZE_RENGO.getTexture(21);this.message.texture=e,this.message.position.set(111,49)},e.prototype.initYusoView=function(){var t=o.ORGANIZE_RENGO.getTexture(22);this.background.texture=t;var e=o.ORGANIZE_RENGO.getTexture(24);this.message.texture=e,this.message.position.set(79,49)},e}(PIXI.Container);e.CombineConfirmAlertDialog=_;var l=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite(o.ORGANIZE_RENGO.getTexture(16));e.addChild(i),e._message=new r.TextBox(18,16777215),e._message.position.set(1,4),e.addChild(e._message);var n=new PIXI.Graphics;return n.beginFill(0,.5),n.drawRect(0,0,328,75),n.endFill(),e.addChild(n),e.mask=n,e}return n(e,t),e.prototype.update=function(t){this.cacheAsBitmap=!1,this._message.text=t,this.cacheAsBitmap=!0},e.prototype.dispose=function(){this.cacheAsBitmap=!1,this.mask=null,this.removeChildren(),this._message.destroy(),this._message=null},e}(PIXI.Container);e.RengoErrorMessageView=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(4),s=i(32),a=i(1),_=function(t){function e(){var e=t.call(this)||this;e._onClickYES=function(){e.onClickYES()},e._onClickNO=function(){e.onClickNO()};var i=new PIXI.Container;i.position.set(69,153),e.firstShipInDeckBanners=new Array;for(var n=0;n<6;n++){var _=new s.ShipBanner;_.scale.set(.75,.75),_.y=51*n,_.visible=!1,e.firstShipInDeckBanners.push(_),i.addChild(_)}var l=new PIXI.Container;l.position.set(678,153),e.secondShipInDeckBanners=new Array;for(var n=0;n<6;n++){var _=new s.ShipBanner;_.scale.set(.75,.75),_.y=51*n,_.visible=!1,e.secondShipInDeckBanners.push(_),l.addChild(_)}e.background=new PIXI.Sprite;var u=o.ORGANIZE_MAIN.getTexture(15);e.buttonOrganize=new PIXI.Sprite(u);var c=o.ORGANIZE_MAIN.getTexture(8);return e.buttonBack=new PIXI.Sprite(c),e.message=new PIXI.Sprite,e.firstDeckName=new r.TextBox(18,16777215),e.secondDeckName=new r.TextBox(18,16777215),e.firstDeckName.position.set(60,122),e.secondDeckName.position.set(667,122),e.buttonOrganize.position.set(300,420),e.buttonBack.position.set(480,420),e.buttonOrganize.interactive=e.buttonOrganize.buttonMode=!0,e.buttonBack.interactive=e.buttonBack.buttonMode=!0,e.buttonOrganize.addListener(a.EventType.CLICK,e._onClickYES),e.buttonBack.addListener(a.EventType.CLICK,e._onClickNO),e.addChild(e.background,e.message,e.buttonOrganize,e.buttonBack,e.firstDeckName,e.secondDeckName,i,l),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren();for(var t=0;t<this.firstShipInDeckBanners.length;t++)this.firstShipInDeckBanners[t].dispose(),this.firstShipInDeckBanners[t]=null;for(var t=0;t<this.secondShipInDeckBanners.length;t++)this.secondShipInDeckBanners[t].dispose(),this.secondShipInDeckBanners[t]=null;this.firstDeckName.destroy(),this.secondDeckName.destroy(),this.onClickYES=null,this.onClickNO=null,this.background=null,this.buttonOrganize=null,this.buttonBack=null,this.message=null,this.firstDeckName=null,this.secondDeckName=null,this.firstShipInDeckBanners=null,this.secondShipInDeckBanners=null},e.prototype.updateFirstDeck=function(t){this.firstDeckName.text=t.name;for(var e=t.getShipList(),i=0;i<e.length;i++){var n=this.firstShipInDeckBanners[i],o=e[i];n.visible=!1,o&&(n.update(o,!1),n.visible=!0)}},e.prototype.updateSecondDeck=function(t){this.secondDeckName.text=t.name;for(var e=null!=t.expedition,i=t.getShipList(),n=0;n<i.length;n++){var o=this.secondShipInDeckBanners[n],r=i[n];o.visible=!1,r&&(o.update(r,e),o.visible=!0)}},e.prototype.updateCombineDeck=function(t,e){this.updateFirstDeck(t),this.updateSecondDeck(e)},e.prototype.updateViewType=function(t){switch(t){case 1:this.initKidoView();break;case 2:this.initSuijoView();break;case 3:this.initYusoView()}},e.prototype.initKidoView=function(){var t=o.ORGANIZE_RENGO.getTexture(13);this.background.texture=t;var e=o.ORGANIZE_RENGO.getTexture(14);this.message.texture=e,this.message.position.set(213,49)},e.prototype.initSuijoView=function(){var t=o.ORGANIZE_RENGO.getTexture(19);this.background.texture=t;var e=o.ORGANIZE_RENGO.getTexture(20);this.message.texture=e,this.message.position.set(213,49)},e.prototype.initYusoView=function(){var t=o.ORGANIZE_RENGO.getTexture(22);this.background.texture=t;var e=o.ORGANIZE_RENGO.getTexture(23);this.message.texture=e,this.message.position.set(183,49)},e}(PIXI.Container);e.CombineConfirmDialog=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(57),s=function(t){function e(){var e=t.call(this)||this;e._onClickYuso=function(){e.onClickYuso()},e._onClickKido=function(){e.onClickKido()},e._onClickSuijo=function(){e.onClickSuijo()},e._onClickBack=function(){e.onClickBack()};var i=o.ORGANIZE_RENGO.getTexture(17),n=o.ORGANIZE_RENGO.getTexture(18),s=new PIXI.Sprite(i),a=new PIXI.Sprite(n),_=o.ORGANIZE_RENGO.getTexture(0),l=o.ORGANIZE_RENGO.getTexture(2);e.buttonKido=new r.SimpleButton(_,l);var u=o.ORGANIZE_RENGO.getTexture(3),c=o.ORGANIZE_RENGO.getTexture(5);e.buttonSuijo=new r.SimpleButton(u,c);var h=o.ORGANIZE_RENGO.getTexture(6),p=o.ORGANIZE_RENGO.getTexture(8);e.buttonYuso=new r.SimpleButton(h,p);var d=o.ORGANIZE_MAIN.getTexture(7);e.buttonBack=new r.SimpleButton(d,d);var f=o.ORGANIZE_RENGO.getTexture(1),y=new PIXI.Sprite(f),m=o.ORGANIZE_RENGO.getTexture(4),g=new PIXI.Sprite(m),v=o.ORGANIZE_RENGO.getTexture(7),b=new PIXI.Sprite(v);return e.buttonKido.onClick=e._onClickKido,e.buttonSuijo.onClick=e._onClickSuijo,e.buttonYuso.onClick=e._onClickYuso,e.buttonBack.onClick=e._onClickBack,a.position.set(189,25),e.buttonKido.position.set(84,61),e.buttonSuijo.position.set(298,61),e.buttonYuso.position.set(84,124),e.buttonBack.position.set(211,192),y.position.set(84,61),g.position.set(298,61),b.position.set(84,124),e.buttonSuijo.visible=e.buttonYuso.visible=e.buttonKido.visible=!1,e.addChild(s,y,g,b,e.buttonKido,e.buttonSuijo,e.buttonYuso,e.buttonBack,a),e}return n(e,t),e.prototype.dispose=function(){this.buttonKido.onClick=this._onClickKido=null,this.buttonSuijo.onClick=this._onClickSuijo=null,this.buttonYuso.onClick=this._onClickYuso=null,this.buttonBack.onClick=this._onClickBack=null,this.buttonKido.dispose(),this.buttonSuijo.dispose(),this.buttonYuso.dispose(),this.buttonBack.dispose(),this.buttonKido=null,this.buttonSuijo=null,this.buttonYuso=null,this.buttonBack=null,this.removeChildren()},e.prototype.update=function(t,e,i){this.buttonSuijo.reset(),this.buttonYuso.reset(),this.buttonKido.reset(),this.buttonSuijo.visible=this.buttonYuso.visible=this.buttonKido.visible=!1,t&&(this.buttonKido.visible=!0),i&&(this.buttonYuso.visible=!0),e&&(this.buttonSuijo.visible=!0)},e}(PIXI.Container);e.CombineTypeSelectDialog=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=i(1),s=i(8),a=function(t){function e(e,i,n){var a=t.call(this,.1)||this;a._cbDrop=n,a._drag=null,a._isPosible=!1,a._onMove=function(t){a._flagIcon.position.set(t.data.global.x,t.data.global.y);var e=a._reactionArea,i=t.data.getLocalPosition(e);a._isPosible=e.hitArea.contains(i.x,i.y)},a._onUp=function(){a._dispose(),a._cbDrop(a._isPosible)},a._onOut=function(){a._dispose(),a._cbDrop(!1)},a._drag=new PIXI.Container,a._flagIcon=new PIXI.Sprite(o.COMMON_MISC.getTexture(77)),a._flagIcon.anchor.set(.5),a._flagIcon.position.set(i.x,i.y);var _=a._flagIcon.width,l=a._flagIcon.height;return a._reactionArea=new s.AreaBox(0,16777215,_,l),a._reactionArea.hitArea=new PIXI.Rectangle(0,0,_,l),a._reactionArea.position.set(e.x,e.y),a._drag.addChild(a._reactionArea,a._flagIcon),a.addChild(a._drag),a.on(r.EventType.MOUSEMOVE,a._onMove),a.on(r.EventType.MOUSEOUT,a._onOut),a.on(r.EventType.MOUSEUP,a._onUp),a}return n(e,t),e.prototype._dispose=function(){this.off(r.EventType.MOUSEMOVE,this._onMove),this.off(r.EventType.MOUSEOUT,this._onOut),this.off(r.EventType.MOUSEUP,this._onUp)},e}(s.AreaBox);e.CombineDragging=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(701),o=i(706),r=i(708),s=i(710),a=i(106),_=i(210),l=i(34),u=i(0),c=function(){function t(t,e){var i=this;this.onCompleteConfirmUseMamiyaIrako=function(t){switch(t){case!1:u.default.view.clickGuard=!0,i.taskConfirmUseMamiyaIrako.hide(function(){i.taskConfirmUseMamiyaIrako.dispose(),i.taskConfirmUseMamiyaIrako=null,u.default.view.clickGuard=!1,i.onComplete()});break;case!0:u.default.view.clickGuard=!0;var e=new s.ItemUseCondAPI(!0,i.deckId,i.sweetType),n=new a.UseItemAPI,o=new _.UserShipAPI,r=new l.APIConnector;r.add(e),r.add(n),r.add(o),r.start(i.onCompleteCallAPI)}},this.onCompleteCallAPI=function(){i.taskConfirmUseMamiyaIrako.dispose(),i.taskConfirmUseMamiyaIrako=null,i.taskAnimationMamiyaIrako=new r.TaskAnimationMamiyaIrako(i.OrganizeView),u.default.view.overLayer.addChild(i.taskAnimationMamiyaIrako.mainLayer),i.taskAnimationMamiyaIrako.preLoad(function(){i.taskAnimationMamiyaIrako.play(i.sweetType,function(){i.onWhiteOut()},function(){i.onCompleteAnimation()})})},this.onCompleteAnimation=function(){u.default.view.overLayer.removeChild(i.taskAnimationMamiyaIrako.mainLayer),i.taskAnimationMamiyaIrako.dispose(),i.taskAnimationMamiyaIrako=null,u.default.view.clickGuard=!1,i.onComplete()},this.mainView=t,this.OrganizeView=e}return t.prototype.start=function(t){var e=this;this.deckId=t,this.taskChoiceMamiyaIrako=new n.TaskChoiceMamiyaIrako(this.mainView),this.taskChoiceMamiyaIrako.onClickBack=function(){u.default.view.clickGuard=!0,e.taskChoiceMamiyaIrako.hide(function(){e.taskChoiceMamiyaIrako.dispose(),e.taskChoiceMamiyaIrako=null,u.default.view.clickGuard=!1,e.onComplete()})},this.taskChoiceMamiyaIrako.onClickUse=function(t){e.taskChoiceMamiyaIrako.dispose(),e.taskChoiceMamiyaIrako=null,e.taskConfirmUseMamiyaIrako=new o.TaskConfirmUseMamiyaIrako(e.mainView),e.taskConfirmUseMamiyaIrako.onComplete=e.onCompleteConfirmUseMamiyaIrako,e.sweetType=t,e.taskConfirmUseMamiyaIrako.start(t)},this.taskChoiceMamiyaIrako.start(this.deckId)},t.prototype.dispose=function(){this.taskChoiceMamiyaIrako&&(this.taskChoiceMamiyaIrako.dispose(),this.taskChoiceMamiyaIrako=null),this.taskConfirmUseMamiyaIrako&&(this.taskConfirmUseMamiyaIrako.dispose(),this.taskConfirmUseMamiyaIrako=null),this.taskAnimationMamiyaIrako&&(this.taskAnimationMamiyaIrako.dispose(),this.taskAnimationMamiyaIrako=null),this.onComplete=null,this.onWhiteOut=null,this.mainView=null,this.deckId=null,this.sweetType=null},t}();e.TaskMamiyaIrako=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(8),r=i(702),s=function(){function t(t){var e=this;this._onClickBack=function(){e.onClickBack()},this._onClickIrako=function(){e.onClickUse(2)},this._onClickMamiya=function(){e.onClickUse(1)},this._onClickMamiyaAndIrako=function(){e.onClickUse(3)},this.mainView=t,this.sweetsSelectView=new r.SweetsSelectView,this.dialogBackground=new o.AreaBox(.8)}return t.prototype.dispose=function(){this.sweetsSelectView.dispose(),this.mainView.removeChild(this.sweetsSelectView),this.mainView.removeChild(this.dialogBackground),this.sweetsSelectView=null,this.mainView=null,this.dialogBackground=null,this.onClickBack=null,this.onClickUse=null},t.prototype.start=function(t){var e=this;this.sweetsSelectView.position.set(147,267),this.sweetsSelectView.onClickBack=this._onClickBack,this.sweetsSelectView.onClickIrako=this._onClickIrako,this.sweetsSelectView.onClickMamiya=this._onClickMamiya,this.sweetsSelectView.onClickMamiyaAndIrako=this._onClickMamiyaAndIrako;for(var i=n.default.model.deck.get(t),o=i.getShipList(),r=n.default.model.useItem.get(54).count,s=n.default.model.useItem.get(59).count,a=!1,_=0;_<o.length;_++){var l=o[_];l&&l.tired<40&&(a=!0)}var u=0<r&&a,c=0<s,h=0<r&&0<s;this.mainView.addChild(this.dialogBackground,this.sweetsSelectView),this.sweetsSelectView.update(u,c,h),this.dialogBackground.alpha=0,n.default.view.clickGuard=!0,this.sweetsSelectView.visible=!1,createjs.Tween.get(this.dialogBackground).to({alpha:1},125).call(function(){e.sweetsSelectView.visible=!0,n.default.view.clickGuard=!1})},t.prototype.hide=function(t){this.sweetsSelectView.visible=!1,createjs.Tween.get(this.dialogBackground).to({alpha:0},125).call(function(){t()})},t}();e.TaskChoiceMamiyaIrako=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(56),r=i(163),s=i(57),a=function(t){function e(){var e=t.call(this)||this;e._onClickMamiya=function(){e.onClickMamiya()},e._onClickIrako=function(){e.onClickIrako()},e._onClickMamiyaAndIrako=function(){e.onClickMamiyaAndIrako()},e._onClickBack=function(){e.onClickBack()};var i=o.ORGANIZE_MAIN.getTexture(6);e.message=new PIXI.Sprite(r.OrganizeConst.getMamiyaOption().res_info4);var n=r.OrganizeConst.getMamiyaOption().res_btn_mamiya;e.buttonMamiya=new s.SimpleButton(n,n),n=r.OrganizeConst.getMamiyaOption().res_btn_irako,e.buttonIrako=new s.SimpleButton(n,n),n=r.OrganizeConst.getMamiyaOption().res_btn_m_i,e.buttonMamiyaAndIrako=new s.SimpleButton(n,n),e.buttonBack=new s.SimpleButton(i,i);var a=new PIXI.Sprite(r.OrganizeConst.getMamiyaOption().res_btn_mamiya_g),_=new PIXI.Sprite(r.OrganizeConst.getMamiyaOption().res_btn_irako_g),l=new PIXI.Sprite(r.OrganizeConst.getMamiyaOption().res_btn_m_i_g);return e.buttonMamiya.position=a.position=new PIXI.Point(100,43),e.buttonIrako.position=_.position=new PIXI.Point(753,43),e.buttonMamiyaAndIrako.position=l.position=new PIXI.Point(390,114),e.buttonBack.position.set(762,135),e.buttonMamiya.onClick=e._onClickMamiya,e.buttonIrako.onClick=e._onClickIrako,e.buttonMamiyaAndIrako.onClick=e._onClickMamiyaAndIrako,e.buttonBack.onClick=e._onClickBack,e.addChild(e.message,a,_,l,e.buttonMamiya,e.buttonIrako,e.buttonMamiyaAndIrako,e.buttonBack),e}return n(e,t),e.prototype.dispose=function(){this.buttonMamiya.dispose(),this.buttonIrako.dispose(),this.buttonMamiyaAndIrako.dispose(),this.buttonBack.dispose(),this._onClickBack=this._onClickIrako=this._onClickMamiya=this._onClickMamiyaAndIrako=null,this.buttonMamiya=null,this.buttonIrako=null,this.buttonMamiyaAndIrako=null,this.buttonBack=null,this.message=null,this.onClickMamiya=null,this.onClickIrako=null,this.onClickMamiyaAndIrako=null,this.onClickBack=null,this.removeChildren()},e.prototype.update=function(t,e,i){t?(this.buttonMamiya.visible=!0,this.buttonMamiya.interactive=!0,this.buttonMamiya.buttonMode=!0):(this.buttonMamiya.visible=!1,this.buttonMamiya.interactive=!1,this.buttonMamiya.buttonMode=!1),e?(this.buttonIrako.visible=!0,this.buttonIrako.interactive=!0,this.buttonIrako.buttonMode=!0):(this.buttonIrako.visible=!1,this.buttonIrako.interactive=!1,this.buttonIrako.buttonMode=!1),i?(this.buttonMamiyaAndIrako.visible=!0,this.buttonMamiyaAndIrako.interactive=!0,this.buttonMamiyaAndIrako.buttonMode=!0):(this.buttonMamiyaAndIrako.visible=!1,this.buttonMamiyaAndIrako.interactive=!1,this.buttonMamiyaAndIrako.buttonMode=!1)},e}(PIXI.Container);e.SweetsSelectView=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("organize_hokyu_dialog_default_"+t)}t.getTexture=e}(e.ORGANIZE_HOKYU_DIALOG_DEFAULT||(e.ORGANIZE_HOKYU_DIALOG_DEFAULT={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("organize_hokyu_dialog_xmas_"+t)}t.getTexture=e}(e.ORGANIZE_HOKYU_DIALOG_XMAS||(e.ORGANIZE_HOKYU_DIALOG_XMAS={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("organize_hokyu_dialog_summer_"+t)}t.getTexture=e}(e.ORGANIZE_HOKYU_DIALOG_SUMMER||(e.ORGANIZE_HOKYU_DIALOG_SUMMER={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(8),r=i(707),s=function(){function t(t){var e=this;this._onClickYES=function(){e.onComplete(!0)},this._onClickNO=function(){e.onComplete(!1)},this.mainView=t,this.dialogBackground=new o.AreaBox(.8),this.useSweetConfirm=new r.UseSweetConfirm}return t.prototype.start=function(t){this.useSweetConfirm.onClickYES=this._onClickYES,this.useSweetConfirm.onClickNO=this._onClickNO,this.useSweetConfirm.visible=!0,this.dialogBackground.alpha=1;var e=n.default.model.useItem.get(54).count,i=n.default.model.useItem.get(59).count;this.useSweetConfirm.update(t,e,i),this.mainView.addChild(this.dialogBackground,this.useSweetConfirm)},t.prototype.hide=function(t){this.useSweetConfirm.visible=!1,createjs.Tween.get(this.dialogBackground).to({alpha:0},125).call(function(){t()})},t.prototype.dispose=function(){this.useSweetConfirm.dispose(),this.mainView.removeChild(this.dialogBackground),this.mainView.removeChild(this.useSweetConfirm),this.dialogBackground=null,this.useSweetConfirm=null,this.mainView=null,this.onComplete=null},t}();e.TaskConfirmUseMamiyaIrako=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(56),s=i(163),a=i(57),_=i(18),l=function(t){function e(){var e=t.call(this)||this;e._onClickYES=function(){e.onClickYES()},e._onClickNO=function(){e.onClickNO()},e.message=new PIXI.Sprite;var i=r.ORGANIZE_MAIN.getTexture(26),n=r.ORGANIZE_MAIN.getTexture(20);return e.buttonYes=new a.SimpleButton(i,i),e.buttonNo=new a.SimpleButton(n,n),e.textMamiyaCount=new o.TextBox(25,5523516),e.textIrakoCount=new o.TextBox(25,5523516),e.buttonYes.onClick=e._onClickYES,e.buttonNo.onClick=e._onClickNO,e.addChild(e.message,e.buttonYes,e.buttonNo,e.textMamiyaCount,e.textIrakoCount),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.buttonYes.dispose(),this.buttonNo.dispose(),this.textMamiyaCount.destroy(),this.textIrakoCount.destroy(),this.onClickYES=null,this.onClickNO=null,this.message=null,this.buttonYes=null,this.buttonNo=null,this.textMamiyaCount=null,this.textIrakoCount=null},e.prototype.update=function(t,e,i){switch(this.textMamiyaCount.text=e+" \u2192 "+(e-1),this.textIrakoCount.text=i+" \u2192 "+(i-1),this.textIrakoCount.visible=this.textMamiyaCount.visible=!1,t){case 2:switch(s.OrganizeConst.getMamiyaOption().playVoiceDialogIrako(),this.message.texture=s.OrganizeConst.getMamiyaOption().res_info5,this.message.position.set(219,87),this.buttonYes.position.set(763,471),this.buttonNo.position.set(540,471),this.textIrakoCount.visible=!0,this.textIrakoCount.position.set(747,362),_.MAMIYA_IRAKO_SEASON){case 4:this.textIrakoCount.position.set(747,362);break;case 2:this.textIrakoCount.position.set(747,353);break;default:this.textIrakoCount.position.set(747,348)}break;case 1:switch(s.OrganizeConst.getMamiyaOption().playVoiceDialogMamiya(),this.message.texture=s.OrganizeConst.getMamiyaOption().res_info3,this.message.position.set(219,87),this.buttonYes.position.set(763,471),this.buttonNo.position.set(538,471),this.textMamiyaCount.visible=!0,_.MAMIYA_IRAKO_SEASON){case 4:this.textMamiyaCount.position.set(747,354);break;case 2:this.textMamiyaCount.position.set(747,357);break;default:this.textMamiyaCount.position.set(747,340)}break;case 3:switch(s.OrganizeConst.getMamiyaOption().playVoiceDialogMamiyaIrako(),this.message.texture=s.OrganizeConst.getMamiyaOption().res_info6,this.message.position.set(63,72),this.buttonYes.position.set(630,471),this.buttonNo.position.set(405,471),_.MAMIYA_IRAKO_SEASON){case 4:this.textMamiyaCount.position.set(427,345),this.textIrakoCount.position.set(654,345);break;case 2:this.textMamiyaCount.position.set(468,342),this.textIrakoCount.position.set(694,342);break;default:this.textMamiyaCount.position.set(487,340),this.textIrakoCount.position.set(715,340)}this.textMamiyaCount.visible=!0,this.textIrakoCount.visible=!0}},e}(PIXI.Container);e.UseSweetConfirm=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(5),r=i(18),s=i(14),a=i(6),_=i(709),l=i(320),u=i(321),c=i(322),h=i(163),p=function(){function t(t){var e=this;switch(this._gScale=.5,this.endUpdate=function(){e.hide(),null!=e._callback&&e._callback()},this._OrganizeView=t,this._mainLayer=new PIXI.Container,r.MAMIYA_IRAKO_SEASON){case 2:this._kiraPos_m=[new PIXI.Point(586,40),new PIXI.Point(544,100),new PIXI.Point(652,114),new PIXI.Point(534,234),new PIXI.Point(613,276),new PIXI.Point(681,241),new PIXI.Point(534,366),new PIXI.Point(652,378),new PIXI.Point(562,439),new PIXI.Point(667,474),new PIXI.Point(526,544),new PIXI.Point(573,690)],this._kiraPos_i=[new PIXI.Point(550,66),new PIXI.Point(504,82),new PIXI.Point(615,127),new PIXI.Point(453,226),new PIXI.Point(570,261),new PIXI.Point(669,207),new PIXI.Point(528,348),new PIXI.Point(708,375),new PIXI.Point(570,463),new PIXI.Point(643,556),new PIXI.Point(544,589),new PIXI.Point(520,693)],this._gScale=.5;break;case 4:this._kiraPos_m=[new PIXI.Point(615,30),new PIXI.Point(544,100),new PIXI.Point(652,114),new PIXI.Point(534,234),new PIXI.Point(613,276),new PIXI.Point(681,241),new PIXI.Point(534,366),new PIXI.Point(652,378),new PIXI.Point(562,439),new PIXI.Point(622,474),new PIXI.Point(555,544),new PIXI.Point(600,690)],this._kiraPos_i=[new PIXI.Point(550,66),new PIXI.Point(504,82),new PIXI.Point(615,127),new PIXI.Point(453,226),new PIXI.Point(570,261),new PIXI.Point(669,207),new PIXI.Point(543,348),new PIXI.Point(633,375),new PIXI.Point(570,463),new PIXI.Point(465,556),new PIXI.Point(559,589),new PIXI.Point(580,693)],this._gScale=.5;break;default:this._kiraPos_m=[new PIXI.Point(586,40),new PIXI.Point(544,100),new PIXI.Point(652,114),new PIXI.Point(534,234),new PIXI.Point(613,276),new PIXI.Point(681,241),new PIXI.Point(534,366),new PIXI.Point(652,378),new PIXI.Point(502,439),new PIXI.Point(628,474),new PIXI.Point(526,544),new PIXI.Point(543,675)],this._kiraPos_i=[new PIXI.Point(550,66),new PIXI.Point(504,82),new PIXI.Point(615,127),new PIXI.Point(453,226),new PIXI.Point(570,261),new PIXI.Point(669,207),new PIXI.Point(498,348),new PIXI.Point(693,375),new PIXI.Point(492,463),new PIXI.Point(583,556),new PIXI.Point(499,589),new PIXI.Point(415,693)],this._gScale=.5}}return Object.defineProperty(t.prototype,"mainLayer",{get:function(){return this._mainLayer},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._mainLayer.removeChildren(0,this._mainLayer.children.length),this._mainLayer=null,this._callback=null,this._gScale=null,this._kiraPos_m=null,this._kiraPos_i=null,this._get_flash=null,this._white=null,this._txt_supply=null,this._kirakira=null,this._ship=null},t.prototype.preLoad=function(t){var e=this,i=new s.UIImageLoader("organize");i.add("organize_mamiya_animation_common.json"),i.load(function(){n.default.settings.renderer.plugins.prepare.upload(_.ORGANIZE_MAMIYA_ANIMATION_COMMON.getTexture(0).baseTexture,function(){var i=new s.UIImageLoader("organize");switch(r.MAMIYA_IRAKO_SEASON){case 2:i.add("organize_mamiya_animation_xmas.json");break;case 4:i.add("organize_mamiya_animation_summer.json");break;default:i.add("organize_mamiya_animation_default.json")}i.load(function(){var i;switch(r.MAMIYA_IRAKO_SEASON){case 2:i=u.ORGANIZE_MAMIYA_ANIMATION_XMAS.getTexture(0).baseTexture;break;case 4:i=c.ORGANIZE_MAMIYA_ANIMATION_SUMMER.getTexture(0).baseTexture;break;default:i=l.ORGANIZE_MAMIYA_ANIMATION_DEFAULT.getTexture(0).baseTexture}n.default.settings.renderer.plugins.prepare.upload(i,function(){e._get_flash=new PIXI.Sprite(_.ORGANIZE_MAMIYA_ANIMATION_COMMON.getTexture(0)),e._get_flash.visible=!1,e._get_flash.anchor.set(.5),e._get_flash.position.set(o.default.width/2,o.default.height/2),e._white=new PIXI.Graphics,e._white.visible=!1,e._white.beginFill(16777215,1),e._white.drawRect(0,0,o.default.width,o.default.height),e._white.endFill(),e._txt_supply=new PIXI.Sprite(_.ORGANIZE_MAMIYA_ANIMATION_COMMON.getTexture(2)),e._txt_supply.visible=!1,e._txt_supply.anchor.set(.5),e._ship=[];var i=new PIXI.Sprite(h.OrganizeConst.getMamiyaOption().res_mamiya);i.visible=!1,i.anchor.set(.5),e._ship.push(i);var n=new PIXI.Sprite(h.OrganizeConst.getMamiyaOption().res_irako);n.visible=!1,n.anchor.set(.5),e._ship.push(n),e._kirakira=[];for(var r=0;r<h.OrganizeConst.MAMIYA_MAX_EFFECT;r++){var s=new PIXI.Sprite(_.ORGANIZE_MAMIYA_ANIMATION_COMMON.getTexture(1));s.anchor.set(.5),e._kirakira.push(s)}e._mainLayer.addChild(e._get_flash,e._white,e._ship[0],e._ship[1],e._txt_supply);for(var r=0;r<h.OrganizeConst.MAMIYA_MAX_EFFECT;r++)e._kirakira[r].visible=!1,e._mainLayer.addChild(e._kirakira[r]);null!=t&&t()})})})})},t.prototype.play=function(t,e,i){var n=this;this._txt_supply.position.set(1600,487),this._ship[0].position.set(600,1100),this._ship[1].position.set(600,1100),this._ship[0].alpha=0,this._ship[1].alpha=0,this._ship[0].scale.set(3),this._ship[1].scale.set(3),this._white.alpha=0,this._get_flash.alpha=0,this._get_flash.scale.set(.3);for(var o=0;o<h.OrganizeConst.MAMIYA_MAX_EFFECT;o++)this._kirakira[o].scale.set(0);var r=function(){switch(t){case 1:h.OrganizeConst.getMamiyaOption().playVoiceAnimationMamiya();break;case 2:h.OrganizeConst.getMamiyaOption().playVoiceAnimationIrako();break;case 3:h.OrganizeConst.getMamiyaOption().playVoiceAnimationMamiyaIrako()}};this._callback=i;var s,_,l;switch(t){case 1:case 2:s=function(){n._ship[t-1].visible=!0,createjs.Tween.get(n._ship[t-1].scale).wait(400).to({x:n._gScale,y:n._gScale},500),createjs.Tween.get(n._ship[t-1]).wait(400).to({y:360,alpha:1},500)},_=function(){for(var e=0;e<h.OrganizeConst.MAMIYA_MAX_EFFECT/2;e++){var i=1==t?n._kiraPos_m[e]:n._kiraPos_i[e];n._kirakira[e].position.set(i.x,i.y),n._kirakira[e].visible=!0,createjs.Tween.get(n._kirakira[e].scale).wait(100*e).to({x:1,y:1},200).to({x:0,y:0},200)}},l=function(){for(var e=0;e<h.OrganizeConst.MAMIYA_MAX_EFFECT/2;e++)n._kirakira[e].visible=!1;createjs.Tween.get(n._ship[t-1].scale).to({x:3,y:3},1e3),createjs.Tween.get(n._ship[t-1]).to({x:600,y:1100,alpha:0},1e3).set({visible:!1})};break;case 3:this._ship[0].visible=!0,this._ship[1].visible=!0,this._ship[0].position.set(25,1100),this._ship[1].position.set(1275,1100),s=function(){createjs.Tween.get(n._ship[0].scale).wait(400).to({x:n._gScale,y:n._gScale},500),createjs.Tween.get(n._ship[1].scale).wait(400).to({x:n._gScale,y:n._gScale},500),createjs.Tween.get(n._ship[0]).wait(400).to({x:420,y:360,alpha:1},500),createjs.Tween.get(n._ship[1]).wait(400).to({x:780,y:360,alpha:1},500)},_=function(){for(var t=0;t<h.OrganizeConst.MAMIYA_MAX_EFFECT/2;t++)n._kirakira[t].position.set(n._kiraPos_m[t].x-195,n._kiraPos_m[t].y),n._kirakira[t].visible=!0,createjs.Tween.get(n._kirakira[t].scale).wait(100*t).to({x:1,y:1},200).to({x:0,y:0},200);for(var t=h.OrganizeConst.MAMIYA_MAX_EFFECT/2;t<h.OrganizeConst.MAMIYA_MAX_EFFECT;t++)n._kirakira[t].position.set(n._kiraPos_i[t-12].x+195,n._kiraPos_i[t-12].y),n._kirakira[t].visible=!0,createjs.Tween.get(n._kirakira[t].scale).wait(100*(t-12)).to({x:1,y:1},200).to({x:0,y:0},200)},l=function(){for(var t=0;t<h.OrganizeConst.MAMIYA_MAX_EFFECT/2;t++)n._kirakira[t].visible=!1;createjs.Tween.get(n._ship[0].scale).to({x:3,y:3},1e3),createjs.Tween.get(n._ship[0]).to({x:25,y:1100,alpha:0},1e3).set({visible:!1}),createjs.Tween.get(n._ship[1].scale).to({x:3,y:3},1e3),createjs.Tween.get(n._ship[1]).to({x:1275,y:1100,alpha:0},1e3).set({visible:!1})}}createjs.Tween.get(null).call(function(){n._get_flash.visible=!0,createjs.Tween.get(n._get_flash.scale).to({x:2,y:2},500),createjs.Tween.get(n._get_flash).to({alpha:1},500),createjs.Tween.get(n._white).wait(400).set({visible:!0}).to({alpha:1},300).call(function(){n._OrganizeView.visible=!1,n._get_flash.visible=!1,a.SE.play("229"),createjs.Tween.get(n._txt_supply).wait(100).set({visible:!0}).to({x:680},600,createjs.Ease.sineOut).to({x:570},733)})}).wait(2133).call(function(){createjs.Tween.get(n._txt_supply).to({x:-400},700,createjs.Ease.sineIn).set({visible:!1}).call(function(){r()}),s()}).wait(1e3).call(function(){_()}).wait(h.OrganizeConst.MAMIYA_EFFECT_WAIT).call(function(){n._white.alpha=1,null!=e&&e(),l(),n._OrganizeView.visible=!0,createjs.Tween.get(n._white).to({alpha:0},1e3).set({visible:!1})}).wait(1e3).call(this.endUpdate)},t.prototype.hide=function(){this._mainLayer.removeChildren(0,this._mainLayer.children.length)},t}();e.TaskAnimationMamiyaIrako=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("organize_mamiya_animation_common_"+t)}t.getTexture=e}(e.ORGANIZE_MAMIYA_ANIMATION_COMMON||(e.ORGANIZE_MAMIYA_ANIMATION_COMMON={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=function(t){function e(e,i,n){void 0===e&&(e=!1);var o=t.call(this)||this;return o._url="api_req_member/itemuse_cond",o._debug=e,o.api_deck_id=i,o.api_use_type=n,o}return n(e,t),e.prototype._connect=function(){this._post_data.api_deck_id=this.api_deck_id,this._post_data.api_use_type=this.api_use_type,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){t.prototype._completedEnd.call(this)},e}(o.APIBase);e.ItemUseCondAPI=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(56),r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e._onClickEdit=function(){e.onClick(1)},e._onClickExpansion=function(){e.onClick(2)},e.buttonSave=new PIXI.Sprite,e.buttonLoad=new PIXI.Sprite,e.buttonLoad.y=43,e.buttonSave.interactive=e.buttonLoad.interactive=!0,e.buttonSave.buttonMode=e.buttonLoad.buttonMode=!0,e.buttonSave.addListener(r.EventType.CLICK,e._onClickEdit),e.buttonLoad.addListener(r.EventType.CLICK,e._onClickExpansion),e.addChild(e.buttonSave,e.buttonLoad),e.update(0),e}return n(e,t),e.prototype.dispose=function(){this.buttonLoad.removeAllListeners(r.EventType.CLICK),this.buttonSave.removeAllListeners(r.EventType.CLICK),this.onClick=null,this.buttonSave=null,this.buttonLoad=null,this.removeChildren()},e.prototype.update=function(t){switch(t){case 0:var e=o.ORGANIZE_MAIN.getTexture(48),i=o.ORGANIZE_MAIN.getTexture(45);this.buttonSave.texture=e,this.buttonLoad.texture=i;break;case 1:var n=o.ORGANIZE_MAIN.getTexture(50),r=o.ORGANIZE_MAIN.getTexture(46);this.buttonSave.texture=n,this.buttonLoad.texture=r;break;case 2:var s=o.ORGANIZE_MAIN.getTexture(49),a=o.ORGANIZE_MAIN.getTexture(47);this.buttonSave.texture=s,this.buttonLoad.texture=a}},e.prototype.show=function(){this.visible=!0},e.prototype.hide=function(){this.visible=!1},e}(PIXI.Container);e.PresetButtonLayer=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(49),s=i(8),a=i(113),_=i(6),l=i(21),u=i(163),c=i(713),h=i(323),p=i(715),d=i(325),f=i(57),y=i(326),m=i(718),g=i(719),v=function(t){function e(e){var i=t.call(this)||this;i.headIndex=0,i.PAGE_NUM=5,i.OPEN_KEY_ITEMID=49,i._onClickBack=function(){i.hide(),i.clickBack&&i.clickBack()},i._onClickDelete=function(t){var e=new y.PresetDeleteAPI(t);o.default.view.clickGuard=!0,_.SE.play("249"),e.start(function(){var e=new Array,n=o.default.model.deck.get(i.deckId),r=(n.getShipList(),null!=n.expedition),s=(n.getShipMemIDList(),0<n.getCount());i.presetList.__deletePresetDeckData__(t);for(var a=0;a<i.presetList.maxNum;a++){var _=i.presetList.getPresetDeckData(a+1);e.push(_)}i.presetList.maxNum<u.OrganizeConst.EXTENDS_MAX&&e.push(null);var l=e.slice(i.headIndex,i.headIndex+i.PAGE_NUM),c=0<o.default.model.useItem.get(i.OPEN_KEY_ITEMID).count;i.presetEditContainer.update(l,s,r,c),o.default.view.clickGuard=!1,i.presets=e})},i._onClickSave=function(t){var e=o.default.model.deck.get(i.deckId),n=new g.PresetRegisterAPI(i.deckId,t,e.name);o.default.view.clickGuard=!0,_.SE.play("240"),n.start(function(){_.SE.play("235");var e=new Array,r=o.default.model.deck.get(i.deckId),s=null!=r.expedition,a=0<r.getCount();i.presetList.updateData(n.result);for(var l=i.presetList.getPresetDeckData(t),c=0;c<i.presetList.maxNum;c++){var h=i.presetList.getPresetDeckData(c+1);e.push(h)}i.presetList.maxNum<u.OrganizeConst.EXTENDS_MAX&&e.push(null);var p=e.slice(i.headIndex,i.headIndex+i.PAGE_NUM),d=0<o.default.model.useItem.get(i.OPEN_KEY_ITEMID).count;i.presetEditContainer.update(p,a,s,d,l.presetID),o.default.view.clickGuard=!1,i.presets=e})},i._onClickExtension=function(){var t=new b(o.default.view.overLayer);t.onComplete=function(e){o.default.view.clickGuard=!0,t.hide(function(){switch(e){case!1:t.dispose(),o.default.view.clickGuard=!1;break;case!0:(new m.PresetExpandAPI).start(function(){i.presetList.__updateByPresetExpanded__(i.presetList.maxNum+1);for(var e=new Array,n=0;n<i.presetList.maxNum;n++){var r=i.presetList.getPresetDeckData(n+1);e.push(r)}i.presetList.maxNum<u.OrganizeConst.EXTENDS_MAX&&e.push(null),i.arrowBottomButton.visible=!1,i.arrowTopButton.visible=!1,i.headIndex+i.PAGE_NUM<e.length&&(e.length==i.presetEditContainer.slotsLength+1&&(i.arrowTopButton.activate(),i.arrowBottomButton.activate()),i.arrowBottomButton.visible=!0),0<i.headIndex&&(i.presetTitle.hideTxt2(),i.arrowTopButton.visible=!0);var s=o.default.model.deck.get(i.deckId),a=0<s.getCount(),_=null!=s.expedition,l=e.slice(i.headIndex,i.headIndex+i.PAGE_NUM),c=0<o.default.model.useItem.get(i.OPEN_KEY_ITEMID).count;i.presetEditContainer.update(l,a,_,c),t.dispose(),o.default.view.clickGuard=!1,i.presets=e})}})};var e=o.default.model.useItem.get(i.OPEN_KEY_ITEMID).count;t.start(e)},i._onClickNext=function(){i.arrowBottomButton.visible=!1;var t=i.headIndex+1;i.presets.length<t+i.PAGE_NUM&&(t=i.presets.length-i.PAGE_NUM),i.arrowBottomButton.visible=!1,t+i.PAGE_NUM<i.presets.length&&(i.arrowBottomButton.visible=!0),i.arrowTopButton.visible=!1,i.presetTitle.showTxt2(),0<t&&(i.presetTitle.hideTxt2(),i.arrowTopButton.visible=!0);var e=i.presets.slice(t,t+i.PAGE_NUM),n=o.default.model.deck.get(i.deckId),r=(n.getShipList(),null!=n.expedition),s=(n.getShipMemIDList(),0<n.getCount()),a=0<o.default.model.useItem.get(i.OPEN_KEY_ITEMID).count;i.presetEditContainer.update(e,s,r,a),i.headIndex=t},i._onClickPrev=function(){var t=i.headIndex-1,e=i.presets.slice(t,t+i.PAGE_NUM),n=o.default.model.deck.get(i.deckId),r=(n.getShipList(),null!=n.expedition),s=(n.getShipMemIDList(),0<n.getCount());t<0&&(t=0),i.arrowBottomButton.visible=!1,t+i.PAGE_NUM<i.presets.length&&(i.arrowBottomButton.visible=!0),i.presetTitle.showTxt2(),i.arrowTopButton.visible=!1,0<t&&(i.arrowTopButton.visible=!0,i.presetTitle.hideTxt2());var a=0<o.default.model.useItem.get(i.OPEN_KEY_ITEMID).count;i.presetEditContainer.update(e,s,r,a),i.headIndex=t},i.clickBack=e;var n=l.COMMON_MAIN.getTexture(4);return i.btnBack=new f.SimpleButton(n,n),i.btnBack.position.set(173,638),i.btnBack.onClick=i._onClickBack,i.arrowTopButton=new a.ArrowButton,i.arrowTopButton.initialize(i._onClickPrev),i.arrowTopButton.position.set(446,217),i.arrowBottomButton=new a.ArrowButton(!0),i.arrowBottomButton.initialize(i._onClickNext),i.arrowBottomButton.position.set(443,667),i.presetEditContainer=new p.PresetEditContainer(i._onClickSave,i._onClickDelete,i._onClickExtension),i.presetEditContainer.position.set(168,248),i.presetTitle=new d.PresetTitle(1),i.presetTitle.position.set(162,195),i.presetTitle.showTxt2(),i.longShipBannerContainer=new h.LongShipBannerContainer,i.longShipBannerContainer.position.set(720,213),i.arrowTopButton.initialize(i._onClickPrev),i.arrowBottomButton.initialize(i._onClickNext),i.addChild(i.presetTitle,i.presetEditContainer,i.btnBack,i.longShipBannerContainer,i.arrowTopButton,i.arrowBottomButton),i}return n(e,t),e.prototype.dispose=function(){if(this.removeChildren(),this.btnBack.dispose(),this.presetTitle.dispose(),this.longShipBannerContainer.dispose(),this.presetEditContainer.dispose(),this.arrowTopButton.dispose(),this.arrowBottomButton.dispose(),this.presets)for(var t=0;t<this.presets.length;t++)this.presets[t]=null;this.clickBack=null,this.deckId=null,this.presetList=null,this.headIndex=null,this.presets=null,this.btnBack=null,this.presetTitle=null,this.longShipBannerContainer=null,this.presetEditContainer=null,this.arrowTopButton=null,this.arrowBottomButton=null},e.prototype.show=function(t,e){this.visible=!0,o.default.view.portMain.playCraneAnimation(),this.deckId=t,this.presetList=e;for(var i=new Array,n=0;n<this.presetList.maxNum;n++){var r=this.presetList.getPresetDeckData(n+1);i.push(r)}this.presetList.maxNum<u.OrganizeConst.EXTENDS_MAX&&i.push(null),this.arrowBottomButton.visible=!1,this.arrowTopButton.visible=!1,0+this.PAGE_NUM<i.length&&(this.arrowBottomButton.visible=!0,this.arrowTopButton.activate(),this.arrowBottomButton.activate()),this.presets=i,this.headIndex=0,this.updateDeck(t)},e.prototype.update=function(t){this.updateDeck(t)},e.prototype.hide=function(){this.visible=!1},e.prototype.updateDeck=function(t){var e=o.default.model.deck.get(t),i=e.getShipList(),n=null!=e.expedition;this.longShipBannerContainer.update(i,n);var r=this.presets.slice(this.headIndex,this.headIndex+this.PAGE_NUM),s=0<e.getCount(),a=0<o.default.model.useItem.get(this.OPEN_KEY_ITEMID).count;this.presetEditContainer.update(r,s,n,a),this.deckId=t},e}(PIXI.Container);e.PresetEditLayer=v;var b=function(){function t(t){var e=this;this._onClickYES=function(){e.onComplete(!0)},this._onClickNO=function(){e.onComplete(!1)},this.container=t,this.dialogBackground=new s.AreaBox(r.UISettings.DIALOG_BG_ALPHA),this.extensionPresetConfirm=new c.ExtensionPresetConfirm}return t.prototype.start=function(t){var e=this;this.extensionPresetConfirm.onClickYES=this._onClickYES,this.extensionPresetConfirm.onClickNO=this._onClickNO,this.extensionPresetConfirm.position.set(218,233),this.container.addChild(this.dialogBackground,this.extensionPresetConfirm),this.extensionPresetConfirm.visible=!1,this.dialogBackground.alpha=0,o.default.view.clickGuard=!0,createjs.Tween.get(this.dialogBackground).to({alpha:1},250).call(function(){e.extensionPresetConfirm.visible=!0,o.default.view.clickGuard=!1}),this.extensionPresetConfirm.update(t)},t.prototype.hide=function(t){this.extensionPresetConfirm.visible=!1,createjs.Tween.get(this.dialogBackground).to({alpha:0},250).call(function(){t()})},t.prototype.dispose=function(){this.extensionPresetConfirm.dispose(),this.container.removeChild(this.dialogBackground),this.container.removeChild(this.extensionPresetConfirm),this.onComplete=null,this.container=null,this.dialogBackground=null,this.extensionPresetConfirm=null},t}()},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(4),s=i(57),a=function(t){function e(){var e=t.call(this)||this;e._onClickYes=function(){e.onClickYES()},e._onClickNo=function(){e.onClickNO()},e.text=new r.TextBox(24,5523516);var i=o.ORGANIZE_MAIN.getTexture(28),n=o.ORGANIZE_MAIN.getTexture(14),a=o.ORGANIZE_MAIN.getTexture(7);return e.message=new PIXI.Sprite(i),e.buttonYes=new s.SimpleButton(n,n),e.buttonNo=new s.SimpleButton(a,a),e.text.position.set(Math.floor(435-.5*e.text.width),Math.floor(138-.5*e.text.height)),e.buttonYes.position.set(171,213),e.buttonNo.position.set(385,213),e.buttonYes.onClick=e._onClickYes,e.buttonNo.onClick=e._onClickNo,e.addChild(e.message,e.text,e.buttonYes,e.buttonNo),e}return n(e,t),e.prototype.update=function(t){this.text.text=t+" \u2192 "+(t-1)},e.prototype.dispose=function(){this.removeChildren(),this.buttonYes.dispose(),this.buttonNo.dispose(),this.text.destroy(),this.onClickYES=null,this.onClickNO=null,this.message=null,this.buttonYes=null,this.buttonNo=null,this.text=null},e}(PIXI.Container);e.ExtensionPresetConfirm=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(2),a=i(22),_=i(32),l=i(284),u=function(t){function e(e){var i=t.call(this)||this;return i._deck_id=e,i}return n(e,t),e.prototype._start=function(){r.default.view.clickGuard=!0,this._cutin=new l.ExpeditionCutin,this._cutin.initialize(!0),this._loadShipRespirces()},e.prototype._loadShipRespirces=function(){this._anim()},e.prototype._anim=function(){var t=this,e=r.default.model.deck.get(this._deck_id),i=e.getShipList();this._createShipContainerU(i),this._createShipContainerB(i),this._cutin.bg.scale.set(1,0),this._cutin.message.position.set(1440,360),this._cutin.banner_top.position.set(0,243),this._cutin.banner_top.alpha=0,this._cutin.banner_bottom.position.set(o.default.width-this._cutin.banner_bottom.width,417),this._cutin.banner_bottom.alpha=0,r.default.view.overLayer.addChild(this._cutin),createjs.Tween.get(this._cutin.bg.scale).to({y:2},300).wait(1500).to({y:0},300).call(function(){t._endTask()}),createjs.Tween.get(this._cutin.message).wait(400).to({x:660},400).to({x:525},800).to({x:420,alpha:0},400),createjs.Tween.get(this._cutin.banner_top).wait(300).to({alpha:1},100).to({x:600-this._cutin.banner_top.width/2},800,createjs.Ease.cubicInOut).to({x:o.default.width-this._cutin.banner_top.width,alpha:0},800,createjs.Ease.cubicInOut),createjs.Tween.get(this._cutin.banner_bottom).wait(300).to({alpha:1},100).to({x:600-this._cutin.banner_bottom.width/2},800,createjs.Ease.cubicInOut).to({x:0,alpha:0},800,createjs.Ease.cubicInOut),createjs.Tween.get(this).wait(700).call(function(){t._cutin.particles.startAnim()})},e.prototype._createShipContainerU=function(t){var e,i=t[0],n=t[2],o=t[4];e=null==n?[i]:null==o?[n,i]:[n,i,o];for(var r=0;r<e.length;r++){var s=e[r],l=new _.ShipBanner;l.update(s,!0),l.position.x=a.BannerSize.W*r,this._cutin.banner_top.addChild(l)}},e.prototype._createShipContainerB=function(t){var e,i=t[1],n=t[3],o=t[5],r=t[6];e=null==o?null==n?null==i?[]:[i]:[i,n]:null==r?[o,i,n]:[o,i,n,r];for(var s=0;s<e.length;s++){var l=e[s],u=new _.ShipBanner;u.update(l,!0),u.position.x=a.BannerSize.W*s,this._cutin.banner_bottom.addChild(u)}},e.prototype._endTask=function(e){void 0===e&&(e=!1),r.default.view.overLayer.removeChild(this._cutin),this._cutin.dispose(),r.default.view.clickGuard=!1,t.prototype._endTask.call(this)},e}(s.TaskBase);e.TaskExpeditionStartCutin=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(84),r=i(716),s=function(t){function e(e,i,n){var o=t.call(this)||this;o.HEIGHT=76,o.presetEditSlots=[];for(var s=0;s<5;s++){var a=new r.PresetEditSlot(s);a.onClickSave=e,a.onClickDelete=i,a.onClickExtension=n,a.position.y=o.HEIGHT*s,o.presetEditSlots.push(a)}return o.presetEditSlots.forEach(function(t){return o.addChild(t)}),o}return n(e,t),Object.defineProperty(e.prototype,"slotsLength",{get:function(){return this.presetEditSlots.length},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){o.TaskLoadShipResource.abortBy(this),this.presetEditSlots.forEach(function(t){t.dispose(),t=null}),this.presetEditSlots=null,this.removeChildren()},e.prototype.update=function(t,e,i,n,r){void 0===r&&(r=null),o.TaskLoadShipResource.abortBy(this);for(var s=!1,a=0;a<5;a++)s=this.presetEditSlots[a].update(t[a],e,i,n,r,s)},e}(PIXI.Container);e.PresetEditContainer=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(4),s=i(37),a=i(56),_=i(717),l=i(57),u=function(t){function e(e){var i=t.call(this)||this;i._onMouseOut=function(t){t.target!=i.saveButton&&t.target!=i.deleteButton&&i.removeFocus()},i._onClickSave=function(){i.onClickSave&&i.onClickSave(i._presetId)},i._onClickDelete=function(){i.onClickDelete&&i.onClickDelete(i._presetId)},i._onClickExtension=function(){i.onClickExtension&&i.onClickExtension()},i._index=e,i.frame_bg=new PIXI.Sprite(a.ORGANIZE_MAIN.getTexture(29)),i.frame_bg.buttonMode=!1,i.frame_bg.interactive=!0,i.frame_bg.addListener(o.EventType.MOUSEOVER,function(){i._onMouseOver()}),i.frame_bg.addListener(o.EventType.MOUSEOUT,function(t){i._onMouseOut(t)}),i.addChild(i.frame_bg);var n=a.ORGANIZE_MAIN.getTexture(33);i.presetFocuses=new PIXI.Sprite(n),i.presetFocuses.x=-6,i.presetFocuses.y=-3,i.presetFocuses.visible=!1,i.addChild(i.presetFocuses),i.shipBanner=new PIXI.Sprite,i.shipBanner.position.set(307,7),i.deckName=new r.TextBox(21,5523516),i.deckName.position.set(3,4),i.deckCount=new r.TextBox(21,5523516),i.deckCount.position.set(1,36),i.addChild(i.shipBanner),i.addChild(i.deckName),i.addChild(i.deckCount);var s=a.ORGANIZE_MAIN.getTexture(4),u=a.ORGANIZE_MAIN.getTexture(5),c=a.ORGANIZE_MAIN.getTexture(1);return i.saveButton=new l.SimpleButton(s,s),i.deleteButton=new l.SimpleButton(c,c),i.offSaveButton=new PIXI.Sprite(u),i.deleteButton.interactive=i.deleteButton.buttonMode=!0,i.saveButton.interactive=i.saveButton.buttonMode=!0,i.deleteButton.position.set(490,36),i.saveButton.x=i.offSaveButton.x=250,i.saveButton.y=i.offSaveButton.y=36,i.saveButton.onClick=function(){i._onClickSave()},i.deleteButton.onClick=function(){i._onClickDelete()},i.saveButton.onMouseOver=function(){i._onMouseOver()},i.deleteButton.onMouseOver=function(){i._onMouseOver()},i.saveButton.onMouseOut=function(t){i._onMouseOut(t)},i.deleteButton.onMouseOut=function(t){i._onMouseOut(t)},i.addChild(i.offSaveButton,i.saveButton,i.deleteButton),i.presetExtensions=new _.PresetExtensionView(e),i.presetExtensions.onClick=i._onClickExtension,i.addChild(i.presetExtensions),i}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.presetExtensions.dispose(),this.deleteButton.dispose(),this.saveButton.dispose(),this.deckName.destroy(),this.deckCount.destroy(),this.onClickSave=null,this.onClickDelete=null,this.onClickExtension=null,this.frame_bg=null,this.shipBanner=null,this.deckName=null,this.deckCount=null,this.saveButton=null,this.deleteButton=null,this.offSaveButton=null,this.presetFocuses=null,this.presetExtensions=null,this._index=null,this._presetId=null},e.prototype._onMouseOver=function(){this.focus()},e.prototype.focus=function(){this.presetFocuses.visible=!0},e.prototype.removeFocus=function(){this.presetFocuses.visible=!1},e.prototype.update=function(t,e,i,n,o,r){void 0===o&&(o=null);var s=t,a=null!=s;if(this.shipBanner.visible=!1,this.deckName.visible=!1,this.deckCount.visible=!1,this.saveButton.visible=!1,this.deleteButton.visible=!1,this.offSaveButton.visible=!1,this.presetExtensions.visible=!1,this.frame_bg.visible=!1,this.frame_bg.interactiveChildren=!1,!a)return 0==r&&(this.frame_bg.visible=!0,this.presetExtensions.update(n),this.presetExtensions.visible=!0),!0;this.frame_bg.interactiveChildren=!0,this.frame_bg.visible=!0;var _=0==s.getShipCount();return _||(this.updateShip(s),this.shipBanner.visible=!0,this.deckName.visible=!0,this.deckCount.visible=!0),this.updateButton(s.presetID,e,i,_,o==s.presetID),!1},e.prototype.updateShip=function(t){this.deckName.text=t.deckName;var e=t.getFrontShip();new s.TaskLoadShipResource("banner",this.shipBanner,e.mstID,e.isDamaged()).start();var i=t.getShipCount();this.deckCount.text=i+"\u96bb \u7de8\u6210"},e.prototype.updateButton=function(t,e,i,n,o){this.offSaveButton.visible=!1,this.saveButton.visible=!1,e?(this.offSaveButton.visible=o&&!i,this.saveButton.visible=!o&&!i):(this.offSaveButton.visible=!0,this.saveButton.visible=!1),this.deleteButton.visible=!n,this._presetId=t},e}(PIXI.Container);e.PresetEditSlot=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;i._onMouseOut=function(){i.hukidashi.visible=!1},i._onMouseOver=function(){i.hukidashi.visible=!0},i._onClick=function(){i.onClick()},i.index=e,i.buttonOpen=new PIXI.Sprite,i.offButtonOpen=new PIXI.Sprite,i.hukidashi=new PIXI.Sprite;var n=o.ORGANIZE_MAIN.getTexture(21),s=o.ORGANIZE_MAIN.getTexture(22),a=o.ORGANIZE_MAIN.getTexture(39);return i.buttonOpen.texture=n,i.offButtonOpen.texture=s,i.hukidashi.texture=a,i.buttonOpen.interactive=!0,i.buttonOpen.buttonMode=!0,i.buttonOpen.position.set(412,24),i.offButtonOpen.position.set(412,24),i.hukidashi.position.set(9,16),i.offButtonOpen.interactive=!0,i.buttonOpen.addListener(r.EventType.CLICK,i._onClick),i.offButtonOpen.addListener(r.EventType.MOUSEOUT,i._onMouseOut),i.offButtonOpen.addListener(r.EventType.MOUSEOVER,i._onMouseOver),i.buttonOpen.visible=!1,i.offButtonOpen.visible=!1,i.hukidashi.visible=!1,i.addChild(i.offButtonOpen,i.buttonOpen,i.hukidashi),i}return n(e,t),e.prototype.update=function(t){this.buttonOpen.visible=!1,this.offButtonOpen.visible=!1,this.hukidashi.visible=!1,t?this.buttonOpen.visible=!0:this.offButtonOpen.visible=!0},e.prototype.dispose=function(){this.buttonOpen.removeAllListeners(r.EventType.CLICK),this.offButtonOpen.removeAllListeners(r.EventType.MOUSEOUT),this.offButtonOpen.removeAllListeners(r.EventType.MOUSEOVER),this._onMouseOut=this._onClick=this._onMouseOver=null,this.onClick=null,this.buttonOpen=null,this.offButtonOpen=null,this.hukidashi=null,this.index=null,this.removeChildren()},e}(PIXI.Container);e.PresetExtensionView=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=i(0),s=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this)||this;return i.OPEN_KEY_ITEMID=49,i._url="api_req_hensei/preset_expand",i}return n(e,t),e.prototype._completedEnd=function(){var e=r.default.model.useItem.get(this.OPEN_KEY_ITEMID);e.__setCount__(e.count-1),t.prototype._completedEnd.call(this)},e}(o.APIBase);e.PresetExpandAPI=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=function(t){function e(e,i,n){var o=t.call(this)||this;return o._url="api_req_hensei/preset_register",o.deckId=e,o.presetNo=i,o.name=n,o}return n(e,t),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e.prototype._connect=function(){this._post_data.api_deck_id=this.deckId,this._post_data.api_preset_no=this.presetNo,this._post_data.api_name=this.name,this._post_data.api_name_id="",t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._result=this._raw_data,t.prototype._completedEnd.call(this)},e}(o.APIBase);e.PresetRegisterAPI=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(21),s=i(113),a=i(721),_=i(57),l=i(325),u=i(323),c=i(326),h=function(t){function e(e,i){var n=t.call(this)||this;n.PAGE_NUM=5,n.headIndex=0,n._onClickBack=function(){n.hide(),n.clickBack&&n.clickBack()},n._onClickExpand=function(t){n.clickExpand&&n.clickExpand(t)},n._onClickDelete=function(t){var e=new c.PresetDeleteAPI(t);o.default.view.clickGuard=!0,e.start(function(){var e=new Array,i=o.default.model.deck.get(n.deckId),r=(i.getShipList(),null!=i.expedition),s=(i.getShipMemIDList(),0<i.getCount());n.presetList.__deletePresetDeckData__(t);for(var a=0;a<n.presetList.maxNum;a++){var _=n.presetList.getPresetDeckData(a+1);0<_.getRealShipCount()&&e.push(_)}var l=e.slice(n.headIndex,n.headIndex+n.PAGE_NUM);n.presetExpansionContainer.update(n.deckId,n.presetList,l,s,r),o.default.view.clickGuard=!1,n.presets=e})},n._onClickNext=function(){n.arrowBottomButton.visible=!1;var t=n.headIndex+1;n.presets.length<t+n.PAGE_NUM&&(t=n.presets.length-n.PAGE_NUM),n.arrowBottomButton.visible=!1,n.arrowTopButton.visible=!1,t+n.PAGE_NUM<n.presets.length&&(n.arrowBottomButton.visible=!0),n.presetTitle.showTxt2(),0<t&&(n.presetTitle.hideTxt2(),n.arrowTopButton.visible=!0);var e=n.presets.slice(t,t+n.PAGE_NUM),i=o.default.model.deck.get(n.deckId),r=(i.getShipList(),null!=i.expedition),s=(i.getShipMemIDList(),0<i.getCount());n.presetExpansionContainer.update(n.deckId,n.presetList,e,s,r),n.headIndex=t},n._onClickPrev=function(){var t=n.headIndex-1,e=n.presets.slice(t,t+n.PAGE_NUM),i=o.default.model.deck.get(n.deckId),r=(i.getShipList(),null!=i.expedition),s=(i.getShipMemIDList(),0<i.getCount());t<0&&(t=0),n.arrowBottomButton.visible=!1,t+n.PAGE_NUM<n.presets.length&&(n.arrowBottomButton.visible=!0),n.presetTitle.showTxt2(),n.arrowTopButton.visible=!1,0<t&&(n.arrowTopButton.visible=!0,n.presetTitle.hideTxt2()),n.presetExpansionContainer.update(n.deckId,n.presetList,e,s,r),n.headIndex=t},n.clickBack=e,n.clickExpand=i,n.presetTitle=new l.PresetTitle(2),n.presetTitle.position.set(162,195),n.presetTitle.showTxt2(),n.longShipBannerContainer=new u.LongShipBannerContainer,n.longShipBannerContainer.position.set(720,213);var h=r.COMMON_MAIN.getTexture(4);return n.btnBack=new _.SimpleButton(h,h),n.btnBack.position.set(173,638),n.btnBack.onClick=n._onClickBack,n.arrowTopButton=new s.ArrowButton,n.arrowTopButton.initialize(n._onClickPrev),n.arrowTopButton.position.set(446,217),n.arrowBottomButton=new s.ArrowButton(!0),n.arrowBottomButton.initialize(n._onClickNext),n.arrowBottomButton.position.set(443,667),n.presetExpansionContainer=new a.PresetExpansionContainer,n.presetExpansionContainer.position.set(168,248),n.presetExpansionContainer.onClickExpand=n._onClickExpand,n.addChild(n.presetTitle,n.btnBack,n.presetExpansionContainer,n.longShipBannerContainer,n.arrowTopButton,n.arrowBottomButton),n}return n(e,t),e.prototype.dispose=function(){if(this.removeChildren(),this.presetTitle.dispose(),this.presetExpansionContainer.hideAllPopupAndFocus(),this.presetExpansionContainer.dispose(),this.btnBack.dispose(),this.arrowTopButton.dispose(),this.arrowBottomButton.dispose(),this.longShipBannerContainer.dispose(),this.presets)for(var t=0;t<this.presets.length;t++)this.presets[t]=null;this.clickBack=null,this.clickExpand=null,this.presetTitle=null,this.deckId=null,this.headIndex=null,this.presetList=null,this.presets=null,this.presetExpansionContainer=null,this.btnBack=null,this.arrowTopButton=null,this.arrowBottomButton=null,this.longShipBannerContainer=null},e.prototype.show=function(t,e){this.visible=!0,o.default.view.portMain.playCraneAnimation(),this.deckId=t,this.presetList=e,this.arrowTopButton.activate(),this.arrowBottomButton.activate();for(var i=(o.default.model.deck.get(t),new Array),n=0;n<this.presetList.maxNum;n++){var r=this.presetList.getPresetDeckData(n+1);0<r.getRealShipCount()&&i.push(r)}this.arrowBottomButton.visible=!1,this.arrowTopButton.visible=!1,0+this.PAGE_NUM<i.length&&(this.arrowBottomButton.visible=!0),this.presets=i,this.headIndex=0,this.updateDeck(t)},e.prototype.update=function(t){this.changeDeck(t)},e.prototype.hide=function(){this.visible=!1},e.prototype.changeDeck=function(t){this.updateDeck(t)},e.prototype.updateDeck=function(t){var e=o.default.model.deck.get(t),i=e.getShipList(),n=null!=e.expedition,r=this.presets.slice(this.headIndex,this.headIndex+this.PAGE_NUM),s=0<e.getCount();this.longShipBannerContainer.update(i,n),this.presetExpansionContainer.update(t,this.presetList,r,s,n),this.deckId=t},e}(PIXI.Container);e.PresetExpansionLayer=h},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(722),s=i(723),a=i(327),_=i(327),l=function(t){function e(){var e=t.call(this)||this;e.HEIGHT=76,e._onMouseOver=function(t,i){var n=e.presetExpansionSlots[t],o=i.target==n.FrameBg,r=i.currentTarget==n.FrameBg,s=i.target==n.ExpandButton,a=i.currentTarget==n.ExpandButton,l=(i.target,e.alertLostPopup.background,i.currentTarget==e.alertLostPopup.background),u=(i.target,e.alertOrganizedPopup.background,i.currentTarget==e.alertOrganizedPopup.background),c=o&&r,h=s&&a,p=l&&u;if(h){if(e.presetExpansionSlots[t].focus(),p)return;var d=e.presetExpansionSlots[t].PresetId,f=e.presetList.getPresetDeckData(d);if(e.alertOrganizedPopup.visible=!1,e.alertLostPopup.visible=!1,e.previewBalloon.visible=!1,f.hasLostShip())e.setAlertLostPopup(t),e.updateAlert(f),e.alertLostPopup.visible=!0;else if(f.hasOtherDeckShip(e.memDeckId))e.setAlertOrganizedPopup(t),e.updateAlert(f),e.alertOrganizedPopup.visible=!0;else{var y=t<3?_.Direction.Top:_.Direction.Bottom;e.setPreviewBalloon(y,t),e.previewBalloon.update(e.memDeckId,y,e.presetList.getPresetDeckData(d)),e.previewBalloon.visible=!0}}else if(c){var d=e.presetExpansionSlots[t].PresetId,y=t<3?_.Direction.Top:_.Direction.Bottom;e.setPreviewBalloon(y,t),e.previewBalloon.update(e.memDeckId,y,e.presetList.getPresetDeckData(d)),e.previewBalloon.visible=!0,e.presetExpansionSlots[t].focus()}},e._onMouseOut=function(t,i){var n=e.presetExpansionSlots[t],o=i.target==n.FrameBg,r=i.currentTarget==n.FrameBg,s=i.target==n.ExpandButton,a=i.currentTarget==n.ExpandButton,_=i.target==e.alertLostPopup.background,l=i.currentTarget==e.alertLostPopup.background,u=i.target==e.alertOrganizedPopup.background,c=i.currentTarget==e.alertOrganizedPopup.background,h=i.target==e.alertLostPopup.positiveButton,p=i.currentTarget==e.alertLostPopup.positiveButton,d=i.target==e.alertOrganizedPopup.positiveButton,f=i.currentTarget==e.alertOrganizedPopup.positiveButton;if(a)o||_||u||h||d||(e.previewBalloon.visible=!1,e.alertLostPopup.visible=!1,e.alertOrganizedPopup.visible=!1,n.removeFocus());else if(r)if(s);else{var y=!0;if(e.presetExpansionSlots.forEach(function(t){t.IsOver&&t.PresetId!=n.PresetId&&(y=!1)}),n.removeFocus(),!y)return;e.previewBalloon.visible=!1}else if(l||c){if(_||u||h||d||s)return;e.previewBalloon.visible=!1,e.alertLostPopup.visible=!1,e.alertOrganizedPopup.visible=!1;for(var m=0;m<e.presetExpansionSlots.length;m++)e.presetExpansionSlots[m].removeFocus()}else if(p||f){if(_||u||h||d||s)return;e.previewBalloon.visible=!1,e.alertLostPopup.visible=!1,e.alertOrganizedPopup.visible=!1;for(var m=0;m<e.presetExpansionSlots.length;m++)e.presetExpansionSlots[m].removeFocus()}},e._onClickExpand=function(t){e.onClickExpand&&e.onClickExpand(t)},e.updateAlert=function(t){var i=t.hasLostShip(),n=t.hasOtherDeckShip(e.memDeckId),r=0<t.getShipsAfterExpanded(e.memDeckId).length;if(i)e.alertLostPopup.update(t.presetID,r);else if(n){var s=t.getFirstOtherDeckShip(e.memDeckId),a=o.default.model.deck.isInDeck(s.memID),_=o.default.model.deck.get(a[0]),l="\u300c"+s.name+"\u300d\u304c\u73fe\u5728\u300c\u7b2c"+_.mstID+"\u8266\u968a("+_.name+")\u300d\u306b\u914d\u5099\u3055\u308c\u3066\u3044\u307e\u3059\u3002";e.alertOrganizedPopup.update(t.presetID,l,r)}},e.presetExpansionSlots=[];for(var i=0;i<5;i++){var n=new s.PresetExpansionSlot(i);n.onMouseOver=e._onMouseOver,n.onMouseOut=e._onMouseOut,n.onClickExpand=e._onClickExpand,n.position.y=e.HEIGHT*i,e.presetExpansionSlots.push(n)}for(var i=4;i>=0;i--)e.addChild(e.presetExpansionSlots[i]);return e.previewBalloon=new a.PresetPreviewBalloon,e.previewBalloon.visible=!1,e.addChild(e.previewBalloon),e.alertLostPopup=new r.PresetAlertLostPopup(0),e.alertLostPopup.visible=!1,e.alertLostPopup.onClick=e._onClickExpand,e.alertLostPopup.onMouseOut=e._onMouseOut,e.alertLostPopup.onMouseOver=e._onMouseOver,o.default.view.overLayer.addChild(e.alertLostPopup),e.alertOrganizedPopup=new r.PresetAlertOrganizedPopup(0),e.alertOrganizedPopup.visible=!1,e.alertOrganizedPopup.onClick=e._onClickExpand,e.alertOrganizedPopup.onMouseOut=e._onMouseOut,o.default.view.overLayer.addChild(e.alertOrganizedPopup),e}return n(e,t),e.prototype.dispose=function(){o.default.view.overLayer.removeChild(this.alertOrganizedPopup),o.default.view.overLayer.removeChild(this.alertLostPopup);for(var t=0;t<5;t++)this.presetExpansionSlots[t].dispose(),this.presetExpansionSlots[t]=null;this.previewBalloon.dispose(),this.alertOrganizedPopup.dispose(),this.alertLostPopup.dispose(),this.presetExpansionSlots=null,this.previewBalloon=null,this.onClickExpand=null,this.memDeckId=null,this.presetList=null,this.alertOrganizedPopup=null,this.alertLostPopup=null,this.removeChildren()},e.prototype.hideAllPopupAndFocus=function(){this.presetExpansionSlots.forEach(function(t){t.hideFocus()}),this.previewBalloon.visible=!1,this.alertOrganizedPopup.visible=!1,this.alertLostPopup.visible=!1},e.prototype.update=function(t,e,i,n,o){for(var r=0;r<5;r++){var s=i[r];this.presetExpansionSlots[r].update(t,e,s,n,o)}this.presetList=e,this.memDeckId=t},e.prototype.setPreviewBalloon=function(t,e){switch(t){case _.Direction.Top:this.previewBalloon.x=this.presetExpansionSlots[e].FrameBg.x+this.presetExpansionSlots[e].ExpandButton.x-165,this.previewBalloon.y=this.presetExpansionSlots[e].FrameBg.y+this.presetExpansionSlots[e].ExpandButton.y+31;break;case _.Direction.Bottom:this.previewBalloon.x=this.presetExpansionSlots[e].FrameBg.x+this.presetExpansionSlots[e].ExpandButton.x-165,this.previewBalloon.y=this.presetExpansionSlots[e].FrameBg.y+this.presetExpansionSlots[e].ExpandButton.y-150}this.previewBalloon.y+=this.HEIGHT*e},e.prototype.setAlertLostPopup=function(t){this.alertLostPopup.x=168+this.presetExpansionSlots[t].FrameBg.x+117,this.alertLostPopup.y=247+this.presetExpansionSlots[t].FrameBg.y+60+this.HEIGHT*t},e.prototype.setAlertOrganizedPopup=function(t){this.alertOrganizedPopup.x=168+this.presetExpansionSlots[t].FrameBg.x,this.alertOrganizedPopup.y=247+this.presetExpansionSlots[t].FrameBg.y+60+this.HEIGHT*t},e}(PIXI.Container);e.PresetExpansionContainer=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(4),s=i(1),a=function(t){function e(e){var i=t.call(this)||this;i._onClick=function(){i.onClick(i._presetId)},i._onMouseOut=function(t){i.onMouseOut(i._index,t)},i._index=e;var n=o.ORGANIZE_MAIN.getTexture(36),a=o.ORGANIZE_MAIN.getTexture(40),_=o.ORGANIZE_MAIN.getTexture(12),l=o.ORGANIZE_MAIN.getTexture(13);i._background=new PIXI.Sprite(n);var u=new PIXI.Sprite(a);return i.textMessage=new r.TextBox(16,"red"),i._positiveButton=new PIXI.Sprite(_),i.negativeButton=new PIXI.Sprite(l),u.position.set(279,-13),i.textMessage.position.set(13,9),i._positiveButton.position.set(237,42),i.negativeButton.position.set(237,42),i._positiveButton.on(s.EventType.CLICK,i._onClick),i._positiveButton.on(s.EventType.MOUSEOUT,i._onMouseOut),i._background.on(s.EventType.MOUSEOUT,i._onMouseOut),i._background.interactive=!0,i._positiveButton.interactive=!0,i._positiveButton.buttonMode=!0,i._positiveButton.visible=!1,i.negativeButton.visible=!1,i.addChild(i._background,u,i.textMessage,i.negativeButton,i._positiveButton),i._background.anchor.set(.5,0),i._background.x=285,i.textMessage.anchor.set(.5,0),i}return n(e,t),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"background",{get:function(){return this._background},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positiveButton",{get:function(){return this._positiveButton},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.removeChildren(),this._positiveButton.off(s.EventType.CLICK),this._positiveButton.off(s.EventType.MOUSEOUT),this._positiveButton.off(s.EventType.MOUSEOVER),this._background.off(s.EventType.MOUSEOUT),this._background.off(s.EventType.MOUSEOVER),this.textMessage.destroy(),this.onClick=null,this.onMouseOut=null,this.textMessage=null,this.negativeButton=null,this._index=null,this._background=null,this._positiveButton=null,this._presetId=null},e.prototype.update=function(t,e,i){this._positiveButton.visible=!1,this.negativeButton.visible=!1,i?this._positiveButton.visible=!0:this.negativeButton.visible=!0,this.textMessage.text=e,this._background.width=this.textMessage.width+9,this._background.x=285,285<this._background.width/2&&(this._background.x=Math.floor(this._background.width/2-285+285)),this.textMessage.x=this.background.x,this.positiveButton.x=Math.floor(this.background.x-this.positiveButton.width/2),this.negativeButton.x=Math.floor(this.background.x-this.negativeButton.width/2),this._presetId=t},e}(PIXI.Container);e.PresetAlertOrganizedPopup=a;var _=function(t){function e(e){var i=t.call(this)||this;i._onClick=function(){i.onClick(i._presetId)},i._onMouseOut=function(t){i.onMouseOut(i._index,t)},i._onMouseOver=function(t){i.onMouseOver(i._index,t)},i._index=e;var n=o.ORGANIZE_MAIN.getTexture(37),a=o.ORGANIZE_MAIN.getTexture(40),_=o.ORGANIZE_MAIN.getTexture(13),l=o.ORGANIZE_MAIN.getTexture(11);i._background=new PIXI.Sprite(n);var u=new PIXI.Sprite(a);return i.textMessage=new r.TextBox(18,"red"),i._negativeButton=new PIXI.Sprite(_),i._positiveButton=new PIXI.Sprite(l),i.textMessage.text="\u65e2\u306b\u5b58\u5728\u3057\u306a\u3044\u8266\u5a18\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002",u.position.set(160,-12),i.textMessage.position.set(10,10),i._negativeButton.position.set(18,39),i._positiveButton.position.set(34,39),i._background.on(s.EventType.MOUSEOUT,i._onMouseOut),i._background.on(s.EventType.MOUSEOVER,i._onMouseOver),i._positiveButton.on(s.EventType.MOUSEOUT,i._onMouseOut),i._positiveButton.on(s.EventType.MOUSEOVER,i._onMouseOver),i._positiveButton.on(s.EventType.CLICK,i._onClick),i._negativeButton.visible=!1,i._background.interactive=!0,i._positiveButton.interactive=!0,i._positiveButton.buttonMode=!0,i.addChild(i._background,u,i.textMessage,i._negativeButton,i._positiveButton),i}return n(e,t),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"background",{get:function(){return this._background},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positiveButton",{get:function(){return this._positiveButton},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._background.off(s.EventType.MOUSEOUT),this._background.off(s.EventType.MOUSEOVER),this._positiveButton.off(s.EventType.MOUSEOUT),this._positiveButton.off(s.EventType.MOUSEOVER),this._positiveButton.off(s.EventType.CLICK),this.textMessage.destroy(),this.onClick=null,this.onMouseOut=null,this.onMouseOver=null,this.textMessage=null,this._positiveButton=null,this._negativeButton=null,this._background=null,this._index=null,this._presetId=null,this.removeChildren()},e.prototype.update=function(t,e){this._presetId=t,this._positiveButton.visible=!1,this._negativeButton.visible=!1,e?this._positiveButton.visible=!0:this._negativeButton.visible=!0},e}(PIXI.Container);e.PresetAlertLostPopup=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),s=i(4),a=i(37),_=i(56),l=function(t){function e(e){var i=t.call(this)||this;i.HEIGHT=76,i.problem=!1,i.isOver=!1,i._onMouseOver=function(t){i.isOver=!0,i.onMouseOver&&i.onMouseOver(i.index,t)},i._onMouseOut=function(t){i.isOver=!1,i.onMouseOut&&i.onMouseOut(i.index,t)},i._onClickExpand=function(){0==i.problem&&i.onClickExpand(i.presetId)},i.index=e,i.frame_bg=new PIXI.Sprite(_.ORGANIZE_MAIN.getTexture(29)),i.frame_bg.buttonMode=!1,i.frame_bg.interactive=!0,i.frame_bg.addListener(r.EventType.MOUSEOUT,i._onMouseOut),i.frame_bg.addListener(r.EventType.MOUSEOVER,i._onMouseOver),i.addChild(i.frame_bg);var n=_.ORGANIZE_MAIN.getTexture(33);return i.presetFocuse=new PIXI.Sprite(n),i.presetFocuse.visible=!1,i.presetFocuse.x=-6,i.presetFocuse.y=-3,i.addChild(i.presetFocuse),i.shipBanner=new PIXI.Sprite,i.shipBanner.position.set(307,7),i.deckName=new s.TextBox(21,5523516),i.deckName.position.set(3,4),i.deckCount=new s.TextBox(21,5523516),i.deckCount.position.set(1,36),i.addChild(i.shipBanner),i.addChild(i.deckName),i.addChild(i.deckCount),i.textureMouseOver=_.ORGANIZE_MAIN.getTexture(3),i.textureMouseOut=_.ORGANIZE_MAIN.getTexture(2),i.expandButton=new PIXI.Sprite(i.textureMouseOut),i.expandButton.interactive=i.expandButton.buttonMode=!0,i.expandButton.position.set(250,36),i.expandButton.addListener(r.EventType.CLICK,i._onClickExpand),i.expandButton.addListener(r.EventType.MOUSEOUT,i._onMouseOut),i.expandButton.addListener(r.EventType.MOUSEOVER,i._onMouseOver),i.addChild(i.expandButton),i}return n(e,t),Object.defineProperty(e.prototype,"PresetId",{get:function(){return this.presetId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsOver",{get:function(){return this.isOver},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FrameBg",{get:function(){return this.frame_bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ExpandButton",{get:function(){return this.expandButton},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.removeChildren(),this.deckName.destroy(),this.deckCount.destroy(),this.onMouseOver=null,this.onMouseOut=null,this.onClickExpand=null,this.frame_bg=null,this.shipBanner=null,this.deckName=null,this.deckCount=null,this.presetFocuse=null,this.textureMouseOver=null,this.textureMouseOut=null,this.expandButton=null,this.index=null,this.presetId=null,this.problem=null,this.isOver=null},e.prototype.focus=function(){this.expandButton.texture=this.problem?this.textureMouseOver:this.textureMouseOut,this.presetFocuse.visible=!0},e.prototype.removeFocus=function(){this.expandButton.texture=this.textureMouseOut,this.presetFocuse.visible=!1},e.prototype.hideFocus=function(){this.expandButton.texture=this.textureMouseOut,this.presetFocuse.visible=!1},e.prototype.update=function(t,e,i,n,r){var s=null!=i;this.shipBanner.visible=!1,this.deckName.visible=!1,this.deckCount.visible=!1,this.expandButton.visible=!1,this.frame_bg.visible=!1;var a=!1;if(s){this.presetId=i.presetID,this.frame_bg.visible=!0;var _=0==i.getShipCount(),l=i.hasLostShip(),u=i.hasOtherDeckShip(t);if(!_){i.getShipsAfterExpanded(t).length;l?a=!0:u&&(a=!0),this.updateShip(i),this.shipBanner.visible=!0,this.deckName.visible=!0,this.deckCount.visible=!0}var c=0<i.getShipCount();this.updateButton(i.presetID,n,r,c,a);var h=o.default.model.deck.get(t);this.expandButton.visible=!h.expedition}},e.prototype.updateShip=function(t){this.deckName.text=t.deckName;var e=t.getFrontShip();new a.TaskLoadShipResource("banner",this.shipBanner,e.mstID,e.isDamaged()).start();var i=t.getShipCount();this.deckCount.text=i+"\u96bb \u7de8\u6210"},e.prototype.updateButton=function(t,e,i,n,o){this.expandButton.visible=!1,this.expandButton.visible=!e||!i,this.presetId=t,this.problem=o},e}(PIXI.Container);e.PresetExpansionSlot=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=i(0),s=function(t){function e(e,i){var n=t.call(this)||this;return n._url="api_req_hensei/preset_select",n.presetNo=e,n.deckId=i,n}return n(e,t),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e.prototype._connect=function(){this._post_data.api_preset_no=this.presetNo,this._post_data.api_deck_id=this.deckId,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._result=this._raw_data,r.default.model.deck.updateData(this._raw_data),t.prototype._completedEnd.call(this)},e}(o.APIBase);e.PresetSelectAPI=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=function(t){function e(e){var i=t.call(this)||this;return i.organizeSceneMain=e,i}return n(e,t),e.prototype._start=function(){this.organizeSceneMain.prefinalize(),this._completedEnd()},e}(o.TaskBase);e.PreFinalizeTask=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(727),a=i(134),_=i(21),l=i(56),u=i(310),c=i(728),h=function(t){function e(e){var i=t.call(this)||this;return i._loadPreset=function(){var t=new c.PresetDeckAPI;t.start(function(){var e=t.result;i.organizeScene.preInitialize(e),i._endTask()})},i.organizeScene=e,i}return n(e,t),e.prototype._start=function(){this._loadResource()},e.prototype._loadResource=function(){var t=this;(new s.TaskLoadResourcesOrganize).start(function(){t._uploadToGPU_common()})},e.prototype._uploadToGPU_common=function(){var t=this;o.default.settings.renderer.plugins.prepare.upload(a.COMMON_ICON_WEAPON.getTextureFromMstID(1).baseTexture,function(){o.default.settings.renderer.plugins.prepare.upload(_.COMMON_MAIN.getTexture(0).baseTexture,function(){t._uploadToGPU_organize()})})},e.prototype._uploadToGPU_organize=function(){var t=this;o.default.settings.renderer.plugins.prepare.upload(l.ORGANIZE_MAIN.getTexture(0).baseTexture,function(){o.default.settings.renderer.plugins.prepare.upload(u.ORGANIZE_SHIP.getTexture(0).baseTexture,function(){t._loadPreset()})})},e}(r.TaskBase);e.PreInitializeTask=h},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(18),r=i(2),s=i(14),a=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype._start=function(){var t=this,e=new s.UIImageLoader("organize");switch(e.add("organize_main.json"),e.add("organize_ship.json"),e.add("organize_rengo.json"),e.add("organize_rengo.json"),e.add("organize_filter.json"),o.MAMIYA_IRAKO_SEASON){case 2:e.add("organize_hokyu_dialog_xmas.json");break;case 4:e.add("organize_hokyu_dialog_summer.json");break;default:e.add("organize_hokyu_dialog_default.json")}e.load(function(){t._endTask()})},e}(r.TaskBase);e.TaskLoadResourcesOrganize=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=i(729),s=function(t){function e(){var e=t.call(this)||this;return e._url="api_get_member/preset_deck",e}return n(e,t),e.prototype._completedEnd=function(){this.result=new r.PresetListModel,this.result.setData(this._raw_data),t.prototype._completedEnd.call(this)},e}(o.APIBase);e.PresetDeckAPI=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),o=i(0),r=i(730),s=function(){function t(){}return Object.defineProperty(t.prototype,"maxNum",{get:function(){return this.api_max_num},enumerable:!0,configurable:!0}),t.prototype.setData=function(t){var e=n.ObjUtil.getObject(t,"api_deck",{}),i=t.api_max_num;this.api_max_num=i,this.api_deck=e},t.prototype.updateData=function(t){var e=n.ObjUtil.getNumber(t,"api_preset_no");this.api_deck[e.toString()]=t},t.prototype.getPresetDeckData=function(t){if(t>this.maxNum)return null;var e=t.toString(),i=this.api_deck[e];return new r.PresetModel(t,i)},t.prototype.getPresetDeckDataList=function(){for(var t=new Array,e=1;e<=this.maxNum;e++){var i=this.getPresetDeckData(e);i.getRealShipCount()>0&&t.push(i)}return t},t.prototype.__updateByPresetExpanded__=function(t){if(this.maxNum+1!=t)return void o.default.view.showError("Invalid preset_expand.");this.api_deck[t.toString()]=null,this.api_max_num=t},t.prototype.__deletePresetDeckData__=function(t){delete this.api_deck[t.toString()],this.api_deck[t.toString()]=null},t}();e.PresetListModel=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),o=i(0),r=function(){function t(t,e){this._preset_id=-1,this._preset_id=t,this._o=e,this._createShipData()}return Object.defineProperty(t.prototype,"presetID",{get:function(){return this._preset_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deckName",{get:function(){return null==this._o?"":n.ObjUtil.getString(this._o,"api_name")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ships",{get:function(){return this._ships},enumerable:!0,configurable:!0}),t.prototype.getShipCount=function(){var t=0,e=this._getShipMemIds();if(null==e)return 0;for(var i=0;i<e.length;i++)-1!=e[i]&&t++;return t},t.prototype.getRealShipCount=function(){for(var t=0,e=0;e<this._ships.length;e++)null!=this._ships[e]&&t++;return t},t.prototype.getFrontShip=function(){for(var t=0;t<this._ships.length;t++)if(null!=this._ships[t])return this._ships[t];return null},t.prototype.hasOtherDeckShip=function(t){for(var e=0;e<this._ships.length;e++)if(this.isOtherDeckShip(e,t))return!0;return!1},t.prototype.isOtherDeckShip=function(t,e){if(null!=this._ships[t]){var i=this._ships[t],n=o.default.model.deck.isInDeck(i.memID);return null!=n&&n[0]!=e}return!1},t.prototype.getFirstOtherDeckShip=function(t){for(var e=0;e<this._ships.length;e++)if(this.isOtherDeckShip(e,t))return this._ships[e];return null},t.prototype.hasLostShip=function(){for(var t=0;t<this._ships.length;t++)if(this.isLostShip(t))return!0;return!1},t.prototype.isLostShip=function(t){return null==this._ships[t]&&-1!=this._getShipMemIds()[t]},t.prototype.getShipsAfterExpanded=function(t){for(var e=new Array,i=0;i<this._ships.length;i++){var n=this._ships[i];null!=n&&0==this.isOtherDeckShip(i,t)&&0==this.isLostShip(i)&&e.push(n)}return e},t.prototype.__deleteLostShips__=function(){for(var t=[],e=this._getShipMemIds(),i=0;i<e.length;i++)0==this.isLostShip(i)&&t.push(e[i]);for(;t.length<6;)t.push(-1);this._o.api_ship=t},t.prototype._createShipData=function(){this._ships=new Array;var t=this._getShipMemIds();if(null!=t)for(var e=0;e<t.length;e++){var i=t[e],n=o.default.model.ship.get(i);this._ships.push(n)}},t.prototype._getShipMemIds=function(){return n.ObjUtil.getObjectArray(this._o,"api_ship",[])},t}();e.PresetModel=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(14),a=i(217),_=i(732),l=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){var t=this;if(this._scene.finalize(),s.UIImageLoader.clearMemoryCache("organize"),this._isChangeListStatus()){var e=a.OrganizeSceneMemory.filterStatus,i=a.OrganizeSceneMemory.japanese;new _.UpdateListStatusAPI(e,i).start(function(){o.default.model.basic.updateOrganizeListSetting(e,i),t._endTask()})}else this._endTask()},e.prototype._isChangeListStatus=function(){if(o.default.model.basic.isJapaneseOrganizeList()!=a.OrganizeSceneMemory.japanese)return!0;var t=o.default.model.basic.getFilterStatusOrganizeList(),e=a.OrganizeSceneMemory.filterStatus;if(t.length!=e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!=e[i])return!0;return!1},e}(r.TaskBase);e.FinalizeTask=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=function(t){function e(e,i){var n=t.call(this)||this;return n._url="api_req_member/set_oss_condition",n._filter_status=e,n._japanese=i,n}return n(e,t),e.prototype._connect=function(){this._post_data.api_language_type=this._japanese?0:1;for(var e=0;e<this._filter_status.length;e++)this._post_data["api_oss_items["+e+"]"]=this._filter_status[e]?1:0;t.prototype._connect.call(this)},e}(o.APIBase);e.UpdateListStatusAPI=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(217),a=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){s.OrganizeSceneMemory.pageIndex=0,s.OrganizeSceneMemory.filterStatus=o.default.model.basic.getFilterStatusOrganizeList(),s.OrganizeSceneMemory.japanese=o.default.model.basic.isJapaneseOrganizeList(),this._scene.initialize(),this._endTask()},e.prototype._endTask=function(){this._scene=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.InitializeTask=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(34),r=i(69),s=i(215),a=i(735),_=i(739),l=function(){function t(t){var e=this;this._onCompleteChoiceShip=function(t){switch(t){case a.TaskChoiceShipResult.CHOICE:e.memShipId=e.taskChoiceShip.memShipId,e.taskConfirmChangeShip=new _.TaskConfirmChangeShip(e.mainView),e.taskConfirmChangeShip.onComplete=e._onCompleteComfirm,e.taskConfirmChangeShip.start(e.deckId,e.slotIndex,e.memShipId);break;case a.TaskChoiceShipResult.CANCEL:n.default.view.clickGuard=!0,e.taskChoiceShip.hide(function(){e.taskChoiceShip.dispose(),e.taskChoiceShip=null,n.default.view.clickGuard=!1,e.onComplete()});break;case a.TaskChoiceShipResult.DETACH:n.default.view.clickGuard=!0;var i=new o.APIConnector;i.add(new s.ChangeAPI(!1,e.deckId,e.slotIndex,-1)),10==n.default.model.basic.getTutorialProgress()&&i.add(new r.UpdateTutorialAPI(20)),i.start(function(){n.default.view.clickGuard=!1,e.onUpdateDeck(),e.onComplete()})}},this._onCompleteComfirm=function(t){switch(t){case!0:n.default.view.clickGuard=!0;var i=new o.APIConnector;i.add(new s.ChangeAPI(!1,e.deckId,e.slotIndex,e.memShipId)),10==n.default.model.basic.getTutorialProgress()&&i.add(new r.UpdateTutorialAPI(20)),i.start(function(){n.default.view.clickGuard=!1,e.onUpdateDeck(),e.taskConfirmChangeShip.hide(function(){e.taskChoiceShip.dispose(),e.taskChoiceShip=null,e.taskConfirmChangeShip.dispose(),e.taskConfirmChangeShip=null,e.onComplete()}),e.taskChoiceShip.hide(function(){})});break;case!1:n.default.view.clickGuard=!0,e.taskConfirmChangeShip.hide(function(){e.taskConfirmChangeShip.dispose(),e.taskConfirmChangeShip=null,n.default.view.clickGuard=!1})}},this.mainView=t}return t.prototype.dispose=function(){this.taskChoiceShip&&this.taskChoiceShip.dispose(),this.taskConfirmChangeShip&&this.taskConfirmChangeShip.dispose(),this.taskChoiceShip=null,this.taskConfirmChangeShip=null,this.mainView=null,this.deckId=null,this.memShipId=null,this.slotIndex=null},t.prototype.start=function(t,e){this.deckId=t,this.slotIndex=e;var i=n.default.model.deck.get(t),o=!1;1==i.mstID&&1==i.getCount()?o=!1:i.getShipModel(e)&&(o=!0),this.taskChoiceShip=new a.TaskChoiceShip(this.mainView),this.taskChoiceShip.onComplete=this._onCompleteChoiceShip,this.taskChoiceShip.start(o)},t}();e.TaskChangeShip=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(5),r=i(0),s=i(1),a=i(28),_=i(8),l=i(86),u=i(736),c=i(6),h=i(217),p=i(737),d=i(738);!function(t){t[t.CANCEL=0]="CANCEL",t[t.DETACH=1]="DETACH",t[t.CHOICE=2]="CHOICE"}(n=e.TaskChoiceShipResult||(e.TaskChoiceShipResult={}));var f=function(){function t(t){var e=this;this.ITEM_NUM=10,this._onChangePage=function(t){if(e._pageIndex!=t){var i=e.ships.slice(t*e.ITEM_NUM,t*e.ITEM_NUM+e.ITEM_NUM);e._updateShips_(i,e.detachable),h.OrganizeSceneMemory.pageIndex=e._pageIndex=t}},this._onClickBackground=function(){e.onComplete(n.CANCEL)},this._onClickLock=function(t){r.default.view.clickGuard=!0,new d.ShipLockAPI(!1,t).start(function(){r.default.view.clickGuard=!1,a.ShipUtil.sort(e.ships,e._shipSortKeyType);var i=e.ships.slice(e._pageIndex*e.ITEM_NUM,e._pageIndex*e.ITEM_NUM+e.ITEM_NUM);r.default.model.ship.get(t).isLocked()?c.SE.play("242"):c.SE.play("255"),e._updateShips_(i,e.detachable)})},this._onClickDetach=function(){e.onComplete(n.DETACH)},this._onClickItem=function(t){e._memShipId=t,e.onComplete(n.CHOICE)},this._onClickSort=function(){var t;switch(e._shipSortKeyType){case 1:t=2;break;case 2:t=3;break;case 3:t=4;break;case 4:t=1}e.shipSortButton.update(t),a.ShipUtil.sort(e.ships,t);var i=e.ships.slice(e._pageIndex*e.ITEM_NUM,e._pageIndex*e.ITEM_NUM+e.ITEM_NUM);e._updateShips_(i,e.detachable),h.OrganizeSceneMemory.shipSortKeyType=e._shipSortKeyType=t},this._onFilter=function(t){var i=r.default.model.ship.getAll();a.ShipUtil.sort(i,e._shipSortKeyType),e.ships=a.ShipUtil.filterByShipFilterType(i,t);var n=e._calcPageCount(e.ships.length),o=e.ships.slice(0*e.ITEM_NUM,0*e.ITEM_NUM+e.ITEM_NUM);h.OrganizeSceneMemory.pageIndex=e._pageIndex=0,0==o.length?e.pagerView.visible=!1:(e.pagerView.visible=!0,e.pagerView.init(n),e.pagerView.changePage(0)),e.shipChoiceView.setExistLineUI(o.length),e._updateShips_(o,e.detachable)},this.mainView=t;var i=h.OrganizeSceneMemory.filterStatus,o=h.OrganizeSceneMemory.japanese;this.shipChoiceView=new p.ShipChoiceView(i,o,this._onFilter),this.dialogBackground=new _.AreaBox(.5),this.pagerView=new l.PagerView,this.shipSortButton=new u.ShipSortButton}return Object.defineProperty(t.prototype,"memShipId",{get:function(){return this._memShipId},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=(h.OrganizeSceneMemory.pageIndex,h.OrganizeSceneMemory.shipSortKeyType);r.default.view.clickGuard=!0,this.dialogBackground.on(s.EventType.CLICK,this._onClickBackground),this.pagerView.onChangePage=this._onChangePage,this.shipChoiceView.onClickLock=this._onClickLock,this.shipChoiceView.onClickItem=this._onClickItem,this.shipChoiceView.onClickDetach=this._onClickDetach,this.shipSortButton.onClick=this._onClickSort,this.shipSortButton.interactive=this.shipSortButton.buttonMode=!0,this.pagerView.position.set(90,528),this.shipChoiceView.position.set(1200,138),this.shipSortButton.position.set(592,41),this.dialogBackground.alpha=0,this.shipChoiceView.addChild(this.pagerView,this.shipSortButton),this.mainView.addChild(this.dialogBackground,this.shipChoiceView),this.shipSortButton.update(e),this._shipSortKeyType=e,this.detachable=t;var i=r.default.model.ship.getAll();a.ShipUtil.sort(i,this._shipSortKeyType),this._pageIndex=h.OrganizeSceneMemory.pageIndex,this.ships=a.ShipUtil.filterByShipFilterType(i,this.shipChoiceView.getOnFilter());var n=this._calcPageCount(this.ships.length),o=this.ships.slice(this._pageIndex*this.ITEM_NUM,this._pageIndex*this.ITEM_NUM+this.ITEM_NUM);0==o.length?this.pagerView.visible=!1:(this.pagerView.visible=!0,this.pagerView.init(n),this.pagerView.changePage(this._pageIndex)),this.shipChoiceView.setExistLineUI(o.length),this._updateShips_(o,this.detachable);createjs.Tween.get(this.dialogBackground).to({alpha:1},125),createjs.Tween.get(this.shipChoiceView).to({x:528},125).call(function(){r.default.view.clickGuard=!1})},t.prototype._updateShips_=function(t,e){this.shipChoiceView.hideDetach(),e&&this.shipChoiceView.showDetach();for(var i=0;i<this.shipChoiceView.ITEM_NUM;i++){var n=t[i];if(n){var o=r.default.model.deck.isInDeck(n.memID);this.shipChoiceView.update(i,n,o)}else this.shipChoiceView.hide(i)}},t.prototype.hide=function(t){createjs.Tween.get(this.dialogBackground).to({alpha:1},125),createjs.Tween.get(this.shipChoiceView).to({x:o.default.width},125).call(function(){t()})},t.prototype.dispose=function(){h.OrganizeSceneMemory.filterStatus=this.shipChoiceView.getFilterStatus(),h.OrganizeSceneMemory.japanese=this.shipChoiceView.isJapanese(),this.dialogBackground.off(s.EventType.CLICK,this._onClickBackground),this.shipChoiceView.dispose(),this.pagerView.dispose(),this.shipSortButton.dispose(),this.mainView.removeChild(this.dialogBackground),this.mainView.removeChild(this.shipChoiceView),this.shipSortButton.onClick=null,this.onComplete=null,this.mainView=null,this.shipChoiceView=null,this.dialogBackground=null,this.pagerView=null,this.shipSortButton=null,this._onChangePage=null,this._onClickBackground=null,this._onClickDetach=null,this._onClickItem=null,this._onClickLock=null,this._onClickSort=null,this.ships=null,this._memShipId=null,this.detachable=null,this._pageIndex=null,this._shipSortKeyType=null},t.prototype._calcPageCount=function(t){var e=0==t?0:t/this.ITEM_NUM;return e+=0==t?0:0<t%this.ITEM_NUM?1:0,e=parseInt(e.toString())},t}();e.TaskChoiceShip=f},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(328),r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e._onClick=function(){e.onClick()},e.on(r.EventType.CLICK,e._onClick),e.interactive=e.buttonMode=!0,e}return n(e,t),e.prototype.dispose=function(){this.removeAllListeners(r.EventType.CLICK),this.onClick=null},e.prototype.update=function(t){switch(t){case 1:this.texture=o.ORGANIZE_FILTER.getTexture(6);break;case 4:this.texture=o.ORGANIZE_FILTER.getTexture(7);break;case 3:this.texture=o.ORGANIZE_FILTER.getTexture(8);break;case 2:this.texture=o.ORGANIZE_FILTER.getTexture(9)}},e}(PIXI.Sprite);e.ShipSortButton=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(328),s=i(4),a=i(213),_=i(164),l=i(112),u=i(70),c=i(87),h=i(15),p=i(1),d=function(t){function e(e,i,n){var s=t.call(this)||this;if(s.FILTER_TAB_NUM=8,s.ITEM_NUM=10,s._onClickListItem=function(t){s.onClickItem(t)},s._onClicHeart=function(t){s.onClickLock(t)},s._onClickDetach=function(){s.onClickDetach()},s.onClickFilter=function(){for(var t=[],e=0,i=0;i<s.filterBtns.length;i++)s.filterBtns[i].isFilter?t.push(s.filterBtns[i].type):e++;s.onFilter(t),s.updateSelectAll(e)},s.onClickTxtSwitch=function(){s._japanese=!s._japanese,s.setFilterText()},s.onClickSelectAll=function(){for(var t=!0,e=0;e<s.filterBtns.length;e++)if(!s.filterBtns[e].isFilter){t=!1;break}t?s.filterBtns.forEach(function(t){t.changeFilter()}):s.filterBtns.forEach(function(t){t.isFilter||t.changeFilter()}),s.onClickFilter()},s.onFilter=n,s._japanese=i,null==e||e.length!=s.FILTER_TAB_NUM){for(e=[];e.length<s.FILTER_TAB_NUM;)e.push(!0);s._japanese=!0}var a=new PIXI.Sprite(r.ORGANIZE_FILTER.getTexture(2)),_=new PIXI.Sprite(r.ORGANIZE_FILTER.getTexture(0)),l=new PIXI.Sprite(r.ORGANIZE_FILTER.getTexture(44)),u=new PIXI.Sprite(o.COMMON_MAIN.getTexture(0));s.allFilterTxt=new PIXI.Sprite(r.ORGANIZE_FILTER.getTexture(45)),s.allFilterTxt.position.set(240,265),s.allFilterTxt.visible=!1,s.txtSwitchBase=new PIXI.Sprite(r.ORGANIZE_FILTER.getTexture(46)),s.txtSwitch=new PIXI.Sprite(r.ORGANIZE_FILTER.getTexture(48)),s.txtSwitchBase.interactive=s.txtSwitchBase.buttonMode=!0,s.txtSwitchBase.addListener(p.EventType.CLICK,s.onClickTxtSwitch),s.txtSwitchBase.position.set(51,41),s.txtSwitch.position.set(53,43),s.allSelectBase=new PIXI.Sprite(r.ORGANIZE_FILTER.getTexture(4)),s.allSelect=new PIXI.Sprite(r.ORGANIZE_FILTER.getTexture(5)),s.allSelectBase.interactive=s.allSelectBase.buttonMode=!0,s.allSelectBase.addListener(p.EventType.CLICK,s.onClickSelectAll),s.allSelectBase.position.set(594,15),s.allSelect.position.set(598,19),s.detach=new PIXI.Sprite(r.ORGANIZE_FILTER.getTexture(42)),s.detach.interactive=s.detach.buttonMode=!0,s.detach.addListener(p.EventType.MOUSEOVER,function(){s.detach.texture=r.ORGANIZE_FILTER.getTexture(43)}),s.detach.addListener(p.EventType.MOUSEOUT,function(){s.detach.texture=r.ORGANIZE_FILTER.getTexture(42)}),s.detach.addListener(p.EventType.CLICK,s._onClickDetach),s.filterBtns=new Array(s.FILTER_TAB_NUM),s.filterBtns[0]=new y(0,e[0]),s.filterBtns[1]=new y(1,e[1]),s.filterBtns[2]=new y(2,e[2]),s.filterBtns[3]=new y(3,e[3]),s.filterBtns[4]=new y(4,e[4]),s.filterBtns[5]=new y(5,e[5]),s.filterBtns[6]=new y(6,e[6]),s.filterBtns[7]=new y(7,e[7]),s.filterBtns[0].position.set(72,13),s.filterBtns[1].position.set(138,13),s.filterBtns[2].position.set(204,13),s.filterBtns[3].position.set(268,13),s.filterBtns[4].position.set(332,13),s.filterBtns[5].position.set(396,13),s.filterBtns[6].position.set(460,13),s.filterBtns[7].position.set(524,13),s.filterBtns.forEach(function(t){t.setOnClick(s.onClickFilter)}),s.setFilterText(),s.lineLayer=new PIXI.Container,s.listItems=new Array;for(var c=0;c<s.ITEM_NUM;c++){var h=new f;h.onClickItem=s._onClickListItem,h.onClickLock=s._onClicHeart,h.x=57,h.y=40+43*(c+1),s.listItems.push(h);var d=new PIXI.Sprite(r.ORGANIZE_FILTER.getTexture(1));d.anchor.set(0,1),d.x=h.x,d.y=h.y+43,s.lineLayer.addChild(d)}_.position.set(57,46),s.detach.position.set(594,522),l.position.set(0,-33),u.position.set(22,10),a.interactive=!0;for(var m=0,c=0;c<e.length;c++)e[c]||m++;return s.updateSelectAll(m),s.allFilterTxt.visible=m==e.length,s.lineLayer.visible=m!=e.length,l.addChild(u),s.addChild(a,s.detach,l,_,s.allFilterTxt),s.filterBtns.forEach(function(t){return s.addChild(t)}),s.addChild(s.lineLayer),s.listItems.forEach(function(t){return s.addChild(t)}),s.addChild(s.txtSwitchBase,s.txtSwitch,s.allSelectBase,s.allSelect),s}return n(e,t),e.prototype.dispose=function(){this.removeChildren();for(var t=0;t<this.filterBtns.length;t++)this.filterBtns[t].dispose(),this.filterBtns[t]=null;for(var t=0;t<this.listItems.length;t++)this.listItems[t].dispose(),this.listItems[t]=null;this.lineLayer.removeChildren(),this.detach=null,this.itemCount=null,this.listItems=null,this.filterBtns=null,this.allFilterTxt=null,this.txtSwitchBase=null,this.txtSwitch=null,this.allSelectBase=null,this.allSelect=null,this.lineLayer=null,this.onClickItem=null,this.onClickLock=null,this.onClickDetach=null,this.onFilter=null,this._japanese=null},e.prototype.getFilterStatus=function(){return this.filterBtns.map(function(t){return t.isFilter})},e.prototype.isJapanese=function(){return this._japanese},e.prototype.hideDetach=function(){this.detach.visible=!1},e.prototype.showDetach=function(){this.detach.visible=!0},e.prototype.update=function(t,e,i){var n=this.listItems[t];n.update(e.memID,e.shipTypeName,e.name,e.level,e.hpNow,e.hpMax,e.karyoku,e.raisou,e.taiku,e.speed,e.isLocked(),i,50<=e.tired,e.isMarriage()),n.visible=!0},e.prototype.hide=function(t){this.listItems[t].visible=!1},e.prototype.updateSelectAll=function(t){var e=r.ORGANIZE_FILTER.getTexture(t<=0?5:3);this.allSelect.texture=e},e.prototype.getOnFilter=function(){for(var t=[],e=0;e<this.filterBtns.length;e++)this.filterBtns[e].isFilter&&t.push(this.filterBtns[e].type);return t},e.prototype.setExistLineUI=function(t){0==t?(this.allFilterTxt.visible=!0,this.lineLayer.visible=!1):(this.allFilterTxt.visible=!1,this.lineLayer.visible=!0)},e.prototype.setFilterText=function(){this._japanese?(this.txtSwitch.texture=r.ORGANIZE_FILTER.getTexture(48),this.filterBtns[0].setTexture(r.ORGANIZE_FILTER.getTexture(10),r.ORGANIZE_FILTER.getTexture(11)),this.filterBtns[1].setTexture(r.ORGANIZE_FILTER.getTexture(14),r.ORGANIZE_FILTER.getTexture(15)),this.filterBtns[2].setTexture(r.ORGANIZE_FILTER.getTexture(18),r.ORGANIZE_FILTER.getTexture(19)),this.filterBtns[3].setTexture(r.ORGANIZE_FILTER.getTexture(22),r.ORGANIZE_FILTER.getTexture(23)),this.filterBtns[4].setTexture(r.ORGANIZE_FILTER.getTexture(26),r.ORGANIZE_FILTER.getTexture(27)),this.filterBtns[5].setTexture(r.ORGANIZE_FILTER.getTexture(30),r.ORGANIZE_FILTER.getTexture(31)),this.filterBtns[6].setTexture(r.ORGANIZE_FILTER.getTexture(34),r.ORGANIZE_FILTER.getTexture(35)),this.filterBtns[7].setTexture(r.ORGANIZE_FILTER.getTexture(38),r.ORGANIZE_FILTER.getTexture(39))):(this.txtSwitch.texture=r.ORGANIZE_FILTER.getTexture(47),this.filterBtns[0].setTexture(r.ORGANIZE_FILTER.getTexture(12),r.ORGANIZE_FILTER.getTexture(13)),this.filterBtns[1].setTexture(r.ORGANIZE_FILTER.getTexture(16),r.ORGANIZE_FILTER.getTexture(17)),this.filterBtns[2].setTexture(r.ORGANIZE_FILTER.getTexture(20),r.ORGANIZE_FILTER.getTexture(21)),this.filterBtns[3].setTexture(r.ORGANIZE_FILTER.getTexture(24),r.ORGANIZE_FILTER.getTexture(25)),this.filterBtns[4].setTexture(r.ORGANIZE_FILTER.getTexture(28),r.ORGANIZE_FILTER.getTexture(29)),this.filterBtns[5].setTexture(r.ORGANIZE_FILTER.getTexture(32),r.ORGANIZE_FILTER.getTexture(33)),this.filterBtns[6].setTexture(r.ORGANIZE_FILTER.getTexture(36),r.ORGANIZE_FILTER.getTexture(37)),this.filterBtns[7].setTexture(r.ORGANIZE_FILTER.getTexture(40),r.ORGANIZE_FILTER.getTexture(41)))},e}(PIXI.Container);e.ShipChoiceView=d;var f=function(t){function e(){var e=t.call(this)||this;e.locked=!1,e.onMouseOver=function(){e.containerTypeAndName.cacheAsBitmap=!1,e.textLevel.style.fill=e.textName.style.fill=e.textTyku.style.fill=e.textHoug.style.fill=e.textRaig.style.fill=e.textTaik.style.fill=e.textType.style.fill=16777215,e.background.visible=!0,0==e.locked&&(e.lockedHeart.alpha=1),e.containerTypeAndName.cacheAsBitmap=!0},e.onMouseOut=function(){e.containerTypeAndName.cacheAsBitmap=!1,e.textLevel.style.fill=e.mouseoutLevelColor,e.textName.style.fill=e.textTyku.style.fill=e.textHoug.style.fill=e.textRaig.style.fill=e.textTaik.style.fill=e.textType.style.fill=5523516,e.background.visible=!1,0==e.locked&&(e.lockedHeart.alpha=0),e.containerTypeAndName.cacheAsBitmap=!0},e._onClickHitArea=function(){e.onClickItem(e.memShipId)},e._onClickHeart=function(){e.onClickLock(e.memShipId)},e.textureLockOn=o.ORGANIZE_MAIN.getTexture(42),e.textureLockOff=o.ORGANIZE_MAIN.getTexture(41);e.shipInDeckFlag=new c.ShipInDeckFlag,e.textType=new s.TextBox(18,5523516),e.textLevel=new s.TextBox(21,5523516),e.textTyku=new s.TextBox(17,5523516),e.textHoug=new s.TextBox(17,5523516),e.textRaig=new s.TextBox(17,5523516),e.textTaik=new s.TextBox(17,5523516),e.ring=new u.RingSmall,e.sokuryoku=new a.ShipSpeedImage,e.lockedHeart=new PIXI.Sprite,e.hpGauge=new l.HpGaugeView,e.background=new PIXI.Sprite(o.COMMON_MAIN.getTexture(17));var i=new m,n=new m,r=new m;e.kirakira=new Array;var _=Math.floor(21)+1;e.background.width=538,e.background.position.set(0,_),e.background.visible=!1,e.lockedHeart.interactive=e.lockedHeart.buttonMode=!0,e.textLevel.position.set(286,Math.floor(_-e.textLevel.height/2)),e.textTyku.position.set(342,Math.floor(_-e.textTyku.height/2)),e.textHoug.position.set(388,Math.floor(_-e.textHoug.height/2)),e.textRaig.position.set(436,Math.floor(_-e.textRaig.height/2)),e.textTaik.position.set(483,Math.floor(_-e.textTaik.height/2)),e.sokuryoku.position.set(511,_),e.lockedHeart.position.set(558,_),e.shipInDeckFlag.position.set(-15,_),e.shipInDeckFlag.scale.set(.8,.8),e.hpGauge.position.set(489,34),e.ring.initialize(),e.ring.position.set(579,6),e.background.anchor.set(0,.5),e.hpGauge.scale.set(1,.8),e.textLevel.anchor.set(1,0),e.textTyku.anchor.set(1,0),e.textHoug.anchor.set(1,0),e.textRaig.anchor.set(1,0),e.textTaik.anchor.set(1,0),e.sokuryoku.anchor.set(.5,.5),e.lockedHeart.anchor.set(.5,.5),e.shipInDeckFlag.anchor.set(.5,.5),e.containerTypeAndName=new PIXI.Container,e.textName=new s.TextBox(20,5523516);var d=h.CreateRect.gradientLeftToRight(240,44,.85,.9);return e.containerTypeAndName.position.set(8,0),e.textType.anchor.set(0,0),e.textType.position.y=Math.floor(_-e.textType.height/2),e.textName.anchor.set(0,0),e.textName.position.y=Math.floor(_-e.textName.height/2),e.containerTypeAndName.addChild(e.textType,e.textName,d),e.containerTypeAndName.mask=d,e.kirakira.push(i,n,r),i.position.set(483,27),n.position.set(525,27),r.position.set(570,27),e.itemHitArea=new PIXI.Graphics,e.itemHitArea.beginFill(0,0),e.itemHitArea.drawRect(0,0,e.background.width,e.background.height),e.itemHitArea.endFill(),e.itemHitArea.on(p.EventType.MOUSEOVER,e.onMouseOver),e.itemHitArea.on(p.EventType.MOUSEOUT,e.onMouseOut),e.itemHitArea.on(p.EventType.CLICK,e._onClickHitArea),e.lockedHeart.on(p.EventType.MOUSEOVER,e.onMouseOver),e.lockedHeart.on(p.EventType.MOUSEOUT,e.onMouseOut),e.lockedHeart.on(p.EventType.CLICK,e._onClickHeart),e.itemHitArea.interactive=!0,e.ring.activate(),e.addChild(e.background,e.containerTypeAndName,e.textLevel,e.textTyku,e.textHoug,e.textRaig,e.textTaik,e.sokuryoku,e.shipInDeckFlag,e.hpGauge,i,n,r,e.ring,e.lockedHeart,e.itemHitArea),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.sokuryoku.dispose(),this.hpGauge.dispose();for(var t=0;t<this.kirakira.length;t++)this.kirakira[t].dispose(),this.kirakira[t]=null;this.containerTypeAndName.cacheAsBitmap=!1,this.containerTypeAndName.removeChildren(),this.containerTypeAndName.mask=null,this.containerTypeAndName=null,this.ring.dispose(),this.itemHitArea.off(p.EventType.MOUSEOVER),this.itemHitArea.off(p.EventType.MOUSEOUT),this.itemHitArea.off(p.EventType.CLICK),this.lockedHeart.off(p.EventType.MOUSEOVER),this.lockedHeart.off(p.EventType.MOUSEOUT),this.lockedHeart.off(p.EventType.CLICK),this.textType.destroy(),this.textName.destroy(),this.textLevel.destroy(),this.textTyku.destroy(),this.textHoug.destroy(),this.textRaig.destroy(),this.textTaik.destroy(),this.onMouseOver=this.onMouseOut=this._onClickHitArea=this.onMouseOver=this.onMouseOut=this._onClickHeart=null,this.kirakira=null,this.hpGauge=null,this.onClickItem=null,this.onClickLock=null,this.shipInDeckFlag=null,this.textType=null,this.textName=null,this.textLevel=null,this.textTyku=null,this.textHoug=null,this.textRaig=null,this.textTaik=null,this.sokuryoku=null,this.background=null,this.lockedHeart=null,this.itemHitArea=null,this.locked=null,this.memShipId=null,this.ring=null,this.textureLockOn=null,this.textureLockOff=null},e.prototype._updateTypeAndName_=function(t,e){this.containerTypeAndName.cacheAsBitmap=!1,this.textType.text=t+" ",this.textName.text=e,this.textName.position.x=this.textType.x+this.textType.width,this.containerTypeAndName.cacheAsBitmap=!0},e.prototype.update=function(t,e,i,n,o,r,s,a,l,u,c,h,p,d){this.memShipId=t,this.locked=c,this.textLevel.text=""+n,this.textTyku.text=""+o,this.textHoug.text=""+s,this.textRaig.text=""+a,this.textTaik.text=""+l,this.hpGauge.update(o,r),this.sokuryoku.update(u),this.textLevel.style.fill=_.ColorUtil.getLevelColor(n),this.mouseoutLevelColor=this.textLevel.style.fill,this._updateCondition_(p),this._updateRing_(d),this._updateLock_(c),this._updateInDeck_(h),this._updateTypeAndName_(e,i)},e.prototype._updateCondition_=function(t){this.kirakira.forEach(function(t){t.visible=!1}),t&&this.kirakira.forEach(function(t){t.visible=!0})},e.prototype._updateRing_=function(t){this.ring.visible=!1,t&&(this.ring.visible=!0)},e.prototype._updateLock_=function(t){t?(this.lockedHeart.texture=this.textureLockOn,this.lockedHeart.alpha=1):(this.lockedHeart.texture=this.textureLockOff,this.lockedHeart.alpha=0)},e.prototype._updateInDeck_=function(t){this.shipInDeckFlag.visible=!1,t&&(this.shipInDeckFlag.update(t),this.shipInDeckFlag.visible=!0)},e}(PIXI.Container),y=function(t){function e(e,i){var n=t.call(this)||this;return n.changeFilter=function(){n._isFilter=!n._isFilter,n.texture=n._isFilter?n.texture_on:n.texture_off},n._type=e,n._isFilter=i,n}return n(e,t),Object.defineProperty(e.prototype,"isFilter",{get:function(){return this._isFilter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.off(p.EventType.CLICK),this.texture_off=null,this.texture_on=null,this._type=null,this._isFilter=null},e.prototype.setTexture=function(t,e){this.texture_on=t,this.texture_off=e,this.texture=this._isFilter?this.texture_on:this.texture_off},e.prototype.setOnClick=function(t){var e=this;this.buttonMode=this.interactive=!0,this.on(p.EventType.CLICK,function(){e.changeFilter(),t&&t()})},e}(PIXI.Sprite),m=function(t){function e(){var e=t.call(this)||this;return e.texture=o.COMMON_MAIN.getTexture(43),e._play(),e}return n(e,t),e.prototype._play=function(){var t=this;return createjs.Tween.get(this).wait(150*Math.random()+450).to({alpha:1},150).to({alpha:0},150).call(function(){t._play()})},e.prototype.dispose=function(){createjs.Tween.get(this).setPaused(!0),createjs.Tween.removeTweens(this)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(11),s=i(15),a=function(t){function e(e,i){void 0===e&&(e=!1);var n=t.call(this)||this;return n._url="api_req_hensei/lock",n._debug=e,n.api_ship_id=i,n}return n(e,t),e.prototype._connect=function(){this._post_data.api_ship_id=this.api_ship_id,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e=1==s.ObjUtil.getNumber(this._raw_data,"api_locked"),i=o.default.model.ship.get(this.api_ship_id);null!=i&&i.__setLocked__(e),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.ShipLockAPI=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),o=i(0),r=i(1),s=i(8),a=i(37),_=i(740),l=function(){function t(t){var e=this;this._onClickBackground=function(){e.onComplete(!1)},this._onClickChange=function(){e.onComplete(!0)},this.mainView=t,this.shipChangeConfirm=new _.ShipChangeConfirm,this.dialogBackground=new s.AreaBox(.5)}return t.prototype.start=function(t,e,i){this.shipChangeConfirm.position.set(1200,138),this.shipChangeConfirm.onClick=this._onClickChange,this.dialogBackground.alpha=0,this.dialogBackground.on(r.EventType.CLICK,this._onClickBackground);var n=o.default.model.ship.get(i),s=o.default.model.deck.isInDeck(i),a=this.__validationOrganize__(t,e,i),_=!1;if(s){_=null!=o.default.model.deck.get(s[0]).expedition}this.shipChangeConfirm.updatePosition(n.getSlotViewMax()),this.shipChangeConfirm.updateBanner(n,_),this.shipChangeConfirm.updateMaterial(n.fuelNow,n.fuelMax,n.ammoNow,n.ammoMax),this.shipChangeConfirm.updateParams(n.karyoku,n.raisou,n.taiku,n.soukou),this.shipChangeConfirm.updateShip(n.mstID,n.isDamaged(),n.name,n.level,n.starNum,n.hpNow,n.hpMax,n.hpNow/n.hpMax),this.shipChangeConfirm.updateSlots(n,n.getSlotitems()),this.shipChangeConfirm.updateChangable(a),this.mainView.addChild(this.dialogBackground,this.shipChangeConfirm),this.toDeckId=t,this.toIndex=e,this.memShipId=i,o.default.view.clickGuard=!0;createjs.Tween.get(this.dialogBackground).to({alpha:1},125),createjs.Tween.get(this.shipChangeConfirm).to({x:882},125).call(function(){o.default.view.clickGuard=!1})},t.prototype.hide=function(t){a.TaskLoadShipResource.abortBy(this.shipChangeConfirm);createjs.Tween.get(this.dialogBackground).to({alpha:0},125),createjs.Tween.get(this.shipChangeConfirm).to({x:n.default.width},125).call(function(){t()})},t.prototype.dispose=function(){this.dialogBackground.off(r.EventType.CLICK,this._onClickBackground),this.shipChangeConfirm.dispose(),this.mainView.removeChild(this.dialogBackground),this.mainView.removeChild(this.shipChangeConfirm),this.shipChangeConfirm.onClick=this._onClickChange=null,this.onComplete=null,this.mainView=null,this.shipChangeConfirm=null,this.dialogBackground=null,this.toDeckId=null,this.toIndex=null,this.memShipId=null,this.deckEditor=null,this.organizable=null},t.prototype.__validationOrganize__=function(t,e,i){var n=o.default.model.deck.get(t),r=n.getShipModel(e),s=o.default.model.ship.get(i),a=o.default.model.deck.isInDeck(i),_=null;if(a){var l=a[0];_=o.default.model.deck.get(l)}if(null==r&&_&&1==_.mstID&&1==_.getCount())return!1;if(null==r&&_&&n&&_.mstID==n.mstID)return!1;if(s&&_&&_.expedition)return!1;if(s&&r&&s.memID==r.memID)return!1;for(var u=n.getShipList(),c=0;c<u.length;c++){var h=u[c];if(s&&h&&h.yomi==s.yomi&&c!=e){if(!_)return!1;if(n.mstID!=_.mstID)return!1}}if(r&&s&&_)for(var p=_.getShipList(),d=_.isInDeck(s.memID),f=0;f<p.length;f++){var y=p[f];if(r&&y&&y.yomi==r.yomi&&n.mstID!=_.mstID&&f!=d)return!1}return!0},t}();e.TaskConfirmChangeShip=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(112),s=i(329),a=i(32),_=i(83),l=i(4),u=i(21),c=i(10),h=i(56),p=i(317),d=i(15),f=function(t){function e(){var e=t.call(this)||this;e._positionType=0,e.onMouseOver=function(){e.changeButton.texture=u.COMMON_MAIN.getTexture(11)},e.onMouseOut=function(){e.changeButton.texture=u.COMMON_MAIN.getTexture(10)},e.onClickChange=function(){e.onClick()};var i=new PIXI.Sprite(u.COMMON_MAIN.getTexture(12)),n=new PIXI.Sprite(u.COMMON_MAIN.getTexture(64)),f=h.ORGANIZE_MAIN.getTexture(0),y=new PIXI.Sprite(f),m=new PIXI.Sprite(c.COMMON_MISC.getTexture(184));m.name="img_lv";var g=new PIXI.Sprite(u.COMMON_MAIN.getTexture(23));g.name="img_houg";var v=new PIXI.Sprite(u.COMMON_MAIN.getTexture(24));v.name="img_raig";var b=new PIXI.Sprite(c.COMMON_MISC.getTexture(86));b.name="img_fuel";var w=new PIXI.Sprite(c.COMMON_MISC.getTexture(87));w.name="img_ammo";var x=new PIXI.Sprite(u.COMMON_MAIN.getTexture(22));x.name="img_souk";var I=new PIXI.Sprite(u.COMMON_MAIN.getTexture(25));I.name="img_taik",e.shipBanner=new a.ShipBanner,e.shipBanner.name="ship",e.starRateView=new _.StarRateView,e.starRateView.name="rate",e.textLevel=new l.TextBox(30,5523516),e.textLevel.name="lv",e.textHp=new l.TextBox(16,5523516),e.textHp.name="hp",e.hpGaugeView=new r.HpGaugeView,e.hpGaugeView.name="gauge";e.textHoug=new l.TextBox(23,5523516),e.textHoug.name="txt_houg",e.textRaig=new l.TextBox(23,5523516),e.textRaig.name="txt_raig",e.textTaiku=new l.TextBox(23,5523516),e.textTaiku.name="txt_taiku",e.textSoukou=new l.TextBox(23,5523516),e.textSoukou.name="txt_souku",e.fuelMeterView=new s.MaterialMeterView,e.fuelMeterView.name="fuel",e.ammoMeterView=new s.MaterialMeterView,e.ammoMeterView.name="ammo",e.slotItemSlotContainer=new p.SlotItemSlotContainer(5,!0),e.slotItemSlotContainer.name="slot",e.changeButton=new PIXI.Sprite,e.changeButton.on(o.EventType.MOUSEOVER,e.onMouseOver),e.changeButton.on(o.EventType.MOUSEOUT,e.onMouseOut),e.changeButton.on(o.EventType.CLICK,e.onClickChange),y.position.set(22,10),e.changeButton.position.set(70,501),e.textHoug.anchor.x=1,e.textRaig.anchor.x=1,e.textTaiku.anchor.x=1,e.textSoukou.anchor.x=1,n.position.set(0,-34),i.interactive=!0,e.textName=new l.TextBox(27,5523516),e.textName.name="txt_name",e.containerName=new PIXI.Container,e.containerName.name="name";var T=d.CreateRect.gradientLeftToRight(180,42,.5,.98);return e.containerName.mask=T,e.containerName.addChild(e.textName,T),n.addChild(y),e.addChild(i,e.starRateView,e.containerName,m,e.textLevel,g,e.textHoug,v,e.textRaig,I,e.textTaiku,x,e.textSoukou,b,e.fuelMeterView,w,e.ammoMeterView,e.hpGaugeView,e.slotItemSlotContainer,e.textHp,e.shipBanner,e.changeButton,n),e._defaultPosition(),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.containerName.cacheAsBitmap=!1,this.containerName.mask=null,this.containerName.removeChildren(),this.fuelMeterView.dispose(),this.ammoMeterView.dispose(),this.hpGaugeView.dispose(),this.shipBanner.dispose(),this.starRateView.dispose(),this.slotItemSlotContainer.dispose(),this.changeButton.off(o.EventType.MOUSEOVER),this.changeButton.off(o.EventType.MOUSEOUT),this.changeButton.off(o.EventType.CLICK),this.textHp.destroy(),this.textLevel.destroy(),this.textHoug.destroy(),this.textRaig.destroy(),this.textTaiku.destroy(),this.textSoukou.destroy(),this.textName.destroy(),this.onClick=null,this.containerName=null,this.fuelMeterView=null,this.ammoMeterView=null,this.hpGaugeView=null,this.shipBanner=null,this.starRateView=null,this.slotItemSlotContainer=null,this.changeButton=null,this.textHp=null,this.textLevel=null,this.textHoug=null,this.textRaig=null,this.textTaiku=null,this.textSoukou=null,this.textName=null,this._positionType=null},e.prototype.updateChangable=function(t){t?(this.changeButton.texture=u.COMMON_MAIN.getTexture(10),this.changeButton.interactive=!0,this.changeButton.buttonMode=!0):(this.changeButton.texture=u.COMMON_MAIN.getTexture(9),this.changeButton.interactive=!1,this.changeButton.buttonMode=!1)},e.prototype.updateMaterial=function(t,e,i,n){this.fuelMeterView.update(t,e),this.ammoMeterView.update(i,n)},e.prototype.updateParams=function(t,e,i,n){this.textHoug.text=t.toString(),this.textRaig.text=e.toString(),this.textTaiku.text=i.toString(),this.textSoukou.text=n.toString()},e.prototype.updateShip=function(t,e,i,n,o,r,s,a){this.containerName.cacheAsBitmap=!1,this.textName.text=i,this.textLevel.text=n.toString(),this.starRateView.update(o),this.textHp.text=r+"/"+s,this.hpGaugeView.update(r,s),this.containerName.cacheAsBitmap=!0},e.prototype.updateBanner=function(t,e){this.shipBanner.update(t,e),this.shipBanner.updatePlate(t.label)},e.prototype.updateSlots=function(t,e){this.slotItemSlotContainer.updateSlot(t,e)},e.prototype.updatePosition=function(t){var e=5===t?1:0;if(this._positionType!==e){switch(e){case 0:this._defaultPosition();break;case 1:this._fiveSlotPosition()}this._positionType=e}},e.prototype._defaultPosition=function(){this.getChildByName("rate").position.set(210,69);var t=this.getChildByName("lv");t.style.fontSize=30,t.position.set(240,24),this.getChildByName("hp").position.set(137,69),this.getChildByName("gauge").position.set(33,75),this.getChildByName("ship").position.set(35,100),this.getChildByName("img_lv").position.set(210,33),this.getChildByName("slot").position.set(16,172);var e=this.getChildByName("txt_houg");e.style.fontSize=23,e.position.set(153,358);var i=this.getChildByName("txt_raig");i.style.fontSize=23,i.position.set(153,393);var n=this.getChildByName("txt_taiku");n.style.fontSize=23,n.position.set(153,430);var o=this.getChildByName("txt_souku");o.style.fontSize=23,o.position.set(153,465);this.getChildByName("img_houg").position.set(30,360),this.getChildByName("img_raig").position.set(30,396),this.getChildByName("img_taik").position.set(30,432),this.getChildByName("img_souk").position.set(30,468),this.getChildByName("img_fuel").position.set(210,373),this.getChildByName("fuel").position.set(210,373),this.getChildByName("img_ammo").position.set(210,448),this.getChildByName("ammo").position.set(210,448),this.getChildByName("name").position.set(32,31)},e.prototype._fiveSlotPosition=function(){this.getChildByName("rate").position.set(210,46);var t=this.getChildByName("lv");t.style.fontSize=25,t.position.set(260,13),this.getChildByName("hp").position.set(137,43),this.getChildByName("gauge").position.set(33,49),this.getChildByName("ship").position.set(35,68),this.getChildByName("img_lv").position.set(232,18),this.getChildByName("slot").position.set(16,135);var e=this.getChildByName("txt_houg");e.style.fontSize=18,e.position.set(163,377);var i=this.getChildByName("txt_raig");i.style.fontSize=18,i.position.set(163,407);var n=this.getChildByName("txt_taiku");n.style.fontSize=18,n.position.set(163,438);var o=this.getChildByName("txt_souku");o.style.fontSize=18,o.position.set(163,469);this.getChildByName("img_houg").position.set(40,375),this.getChildByName("img_raig").position.set(40,406),this.getChildByName("img_taik").position.set(40,436),this.getChildByName("img_souk").position.set(40,468),this.getChildByName("img_fuel").position.set(200,373),this.getChildByName("fuel").position.set(200,373),this.getChildByName("img_ammo").position.set(200,448),this.getChildByName("ammo").position.set(200,448),this.getChildByName("name").position.set(32,12)},e}(PIXI.Container);e.ShipChangeConfirm=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(3),r=i(319),s=i(216),a=function(){function t(t){this.combineBrokenMessage=new PIXI.Sprite(o.ORGANIZE_MAIN.getTexture(44)),this.combineBrokenMessage.anchor.set(.3,0),this.mainView=t}return t.prototype.start=function(){var t=this;if(n.default.model.deck.combined.isCombined()){var e=n.default.model.deck.get(1),i=n.default.model.deck.get(2),o=n.default.model.deck.combined.type;this.hasBrokenCombine(e,i,o)?new s.CombinedAPI(0).start(function(){t.mainView.addChild(t.combineBrokenMessage),t.combineBrokenMessage.position.set(247,195),t.combineBrokenMessage.width=0,t.combineBrokenMessage.height=0,createjs.Tween.get(t.combineBrokenMessage).to({width:0,height:0}).to({width:238,height:90},250).wait(2e3).to({width:0,height:0},250).call(function(){createjs.Tween.removeTweens(t.combineBrokenMessage),t.onBroken(),t.onComplete()}).play(null)}):this.onComplete()}else this.onComplete()},t.prototype.dispose=function(){this.mainView.removeChild(this.combineBrokenMessage),this.mainView=null,this.combineBrokenMessage=null,this.onComplete=null,this.onBroken=null},t.prototype.hasBrokenCombine=function(t,e,i){return!r.CombineUtil.checkCombinable(t,e,i)[0]},t}();e.TaskCheckCombineStateAndRepair=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),s=i(8),a=i(318),_=[];a.ShipAreaPosition.forEach(function(t){_.push([t[0]+a.ShipOffsetPosition[0],t[1]+a.ShipOffsetPosition[1]])});var l=function(t){function e(e,i,n,s,a,l){var u=t.call(this,0)||this;return u._beforeIndex=e,u._memShipId=i,u._maskMax=n,u._inDragging=s,u._cbOnDrop=a,u._end=l,u._drag=null,u._shipSlotMaskLayers=[],u._afterIndex=-1,u._onMove=function(t){var e=t.data.global;if(null==u._drag){u._inDragging(!0),u._drag=new PIXI.Container;for(var i=0;i<u._maskMax;i++){var n=new PIXI.Graphics;n.beginFill(16777215,.6).moveTo(0,15).lineTo(14.5,0).lineTo(480,0).lineTo(495.5,17.5).lineTo(495.5,141).lineTo(480,158).lineTo(14,158).lineTo(0,143).lineTo(0,15).endFill(),n.alpha=0,n.hitArea=new PIXI.Rectangle(0,0,n.width,n.height);var r=_[i];n.position.set(r[0],r[1]),u._drag.addChild(n),u._shipSlotMaskLayers.push(n)}u._shipSlotMaskLayers[u._beforeIndex].alpha=1;var s=o.default.model.ship.get(u._memShipId);u._shipBanner=new PIXI.Sprite,u._shipBanner.anchor.set(.5),u._shipBanner.texture=o.default.resources.getShip(s.mstID,s.isDamaged(),"banner"),u._shipBanner.position.set(e.x,e.y),u._drag.addChild(u._shipBanner),u._afterIndex=u._beforeIndex,u.addChild(u._drag)}else{u._shipBanner.position.set(e.x,e.y);for(var a=-1,i=0,l=u._shipSlotMaskLayers.length;i<l;i++){var c=u._shipSlotMaskLayers[i],h=t.data.getLocalPosition(c);1==c.hitArea.contains(h.x,h.y)?(c.alpha=1,a=i):c.alpha=0}u._afterIndex=a}},u._onOut=function(){u._inDragging(!1),u._dispose()},u._onUp=function(){if(u._inDragging(!1),null==u._drag)return void u._dispose();u._cbOnDrop(u._beforeIndex,u._afterIndex,u._memShipId),u._dispose()},u.on(r.EventType.MOUSEMOVE,u._onMove),u.on(r.EventType.MOUSEOUT,u._onOut),u.on(r.EventType.MOUSEUP,u._onUp),u}return n(e,t),e.prototype._dispose=function(){this.off(r.EventType.MOUSEMOVE,this._onMove),this.off(r.EventType.MOUSEOUT,this._onOut),this.off(r.EventType.MOUSEUP,this._onUp),this.interactive=!1,null!=this._drag&&this._drag.removeChildren(),this._shipBanner=null,this._shipSlotMaskLayers.forEach(function(t){null}),this._shipSlotMaskLayers=null,this.removeChildren(),this._drag=null,this._inDragging=null,this._cbOnDrop=null,this._end()},e}(s.AreaBox);e.ShipDragging=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(28),a=i(47),_=i(111),l=i(34),u=i(330),c=i(69),h=i(218),p=i(744),d=i(745),f=i(746),y=i(747),m=i(751),g=i(754),v=i(755),b=i(756),w=i(757),x=i(758),I=i(761),T=i(160),O=i(21),C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.combinedView=null,e._onClickDeck=function(t){if(e.deckId!=t){if(e.deckId=t,e.viewMode!=p.ViewMode.DECK){var i=e.taskEditSupplyOther.pageIndex;e.memoryOtherPageIndex=i,e.taskEditSupplyOther.dispose(),e.taskEditSupplyOther=null,e._startTaskEditSupplyDeck(t)}else e.taskEditSupplyDeck.changeDeck(t);e.deckSelectView.focusDeck(t),e.viewMode=p.ViewMode.DECK}},e.memoryOtherPageIndex=0,e._onClickOther=function(){null!=e.deckId&&e.viewMode!=p.ViewMode.OTHER&&(e.deckId=null,e.taskEditSupplyDeck.dispose(),e.taskEditSupplyDeck=null,e.layerTaskMain.removeChildren(),e.deckSelectView.focusOther(),e._startTaskEditSupplyOther(),e.viewMode=p.ViewMode.OTHER)},e._onUpdateCheckForDeck=function(t){var i=e.taskEditSupplyDeck.getSupplyEdit(),n=i.getMemShipIds(),o=h.SupplyUtil.CalcRequireMaterials(n),s=o.ammo,a=o.fuel,_=r.default.model.useItem.get(31).count,l=r.default.model.useItem.get(32).count,u=s<=l,c=a<=_;e._updateTypeSelectButton(u,c,s,a),e._updateButtonAlls(),t&&e._updateShowcase(u,c,s,a)},e._onUpdateCheckFoShowcase=function(){var t=e.taskEditSupplyDeck.getSupplyEdit(),i=t.getMemShipIds(),n=h.SupplyUtil.CalcRequireMaterials(i),o=n.ammo,s=n.fuel,a=r.default.model.useItem.get(31).count,_=r.default.model.useItem.get(32).count,l=o<=_,u=s<=a;e._updateShowcase(l,u,o,s)},e._onUpdateCheckForOther=function(){var t=e.taskEditSupplyOther.getSupplyEdit(),i=t.getMemShipIds(),n=h.SupplyUtil.CalcRequireMaterials(i),o=n.ammo,s=n.fuel,a=r.default.model.useItem.get(31).count,_=r.default.model.useItem.get(32).count,l=o<=_,u=s<=a;e._updateShowcase(l,u,o,s),e._updateTypeSelectButton(l,u,o,s),e.supplyTypeSelectButton.updateButton(!1,!1)},e}return n(e,t),e.prototype.preInitialize=function(){this.layerBase=new PIXI.Container,this.con_bg1=new PIXI.Sprite(O.COMMON_MAIN.getTexture(12)),this.con_bg1.position.set(150,135),this.con_bg1.alpha=.6,this.layerBase.addChild(this.con_bg1),this.deckSelectView=new g.DeckSelectView,this.deckSelectView.position.set(203,164),this.layerBase.addChild(this.deckSelectView),this.materialCounterView=new w.MaterialCounterView,this.materialCounterView.position.set(595,158),this.layerBase.addChild(this.materialCounterView),this.headerMain=new v.HeaderMain,this.headerMain.position.set(0,102),this.layerBase.addChild(this.headerMain),r.default.model.deck.isCombined()&&(this.combinedView=new _.CombinedView,this.combinedView.position.set(196,155),this.layerBase.addChild(this.combinedView)),this.layerTaskOverlay=new PIXI.Container,this.supplyShowcaseView=new x.SupplyShowcaseView,this.supplyShowcaseView.position.set(900,135),this.layerTaskOverlay.addChild(this.supplyShowcaseView),this.supplyTypeSelectButton=new I.SupplyTypeSelectButton,this.supplyTypeSelectButton.position.set(18,506),this.supplyShowcaseView.addChild(this.supplyTypeSelectButton),this.headerSupply=new b.HeaderSupply,this.headerSupply.position.set(900,102),this.layerTaskOverlay.addChild(this.headerSupply),this.txt_supply=new PIXI.Sprite(T.SUPPLY_MAIN.getTexture(32)),this.layerTaskOverlay.addChild(this.txt_supply),this.layerTaskMain=new PIXI.Container,this.otherShips=r.default.model.ship.getAllOther(),s.ShipUtil.sort(this.otherShips,1),this.addChild(this.layerBase,this.layerTaskMain,this.layerTaskOverlay)},e.prototype.initialize=function(){var t=r.default.model.deck.getAll().length,e=r.default.model.ship.getAllOther(),i=e.length;this.deckSelectView.initDeckCount(t),this.deckSelectView.initOtherShipCount(i)},e.prototype._startTaskEditSupplyDeck=function(t){var e=this,i=function(){r.default.view.clickGuard=!0;var t,i=e.taskEditSupplyDeck.getSupplyEdit(),n=i.getMemShipIds();if(1==n.length)t=r.default.model.ship.get(n[0]).mstID;else{var o=r.default.model.deck.get(e.deckId);if(o.getCount()==n.length)t=o.getShipModel(0).mstID;else{var s=Math.floor(Math.random()*n.length);t=r.default.model.ship.get(n[s]).mstID}}e._CallSupplyAll(n,t,function(){e.taskEditSupplyDeck.updateDeck(e.deckId),r.default.view.clickGuard=!1})},n=function(){e.taskEditSupplyDeck.onMouseOverSupplyAll2(),e._onUpdateCheckFoShowcase()},o=function(){e.taskEditSupplyDeck.onMouseOutSupplyAll2()},s=function(){r.default.view.clickGuard=!0,e.taskEditSupplyDeck.onClickSupplyAll2(),e._onUpdateCheckForDeck(!0);var t,i=e.taskEditSupplyDeck.getSupplyEdit(),n=i.getMemShipIds(),o=r.default.model.deck.get(e.deckId),s=e.getDeckSupllyShip(),a=h.SupplyUtil.CalcRequireMaterials(s);t=0==a.ammo&&0==a.fuel&&a.baux>0?r.default.model.ship.get(n[0]).mstID:o.getShipModel(0).mstID,e._CallSupplyAll(n,t,function(){e.taskEditSupplyDeck.updateDeck(e.deckId),r.default.view.clickGuard=!1})},a=function(){r.default.view.clickGuard=!0,e.taskEditSupplyDeck.onClickSupplyBaux();var t=e.taskEditSupplyDeck.getSupplyEdit(),i=t.getMemShipIds(),n=r.default.model.ship.get(i[0]).mstID;e._CallSupplyBaux(i,n,function(){e.taskEditSupplyDeck.updateDeck(e.deckId),r.default.view.clickGuard=!1})},_=function(){r.default.view.clickGuard=!0;var t=e.taskEditSupplyDeck.getSupplyEdit(),i=t.getMemShipIds();e._CallSupplyFuel(i,function(){e.taskEditSupplyDeck.updateDeck(e.deckId),r.default.view.clickGuard=!1})},l=function(){r.default.view.clickGuard=!0;var t=e.taskEditSupplyDeck.getSupplyEdit(),i=t.getMemShipIds();e._CallSupplyAmmo(i,function(){e.taskEditSupplyDeck.updateDeck(e.deckId),r.default.view.clickGuard=!1})};this.taskEditSupplyDeck=new y.TaskEditSupplyDeck(this.layerTaskMain),this.taskEditSupplyDeck.onUpdateSupplyEdit=this._onUpdateCheckForDeck,this.taskEditSupplyDeck.onClickSupplyAll=i,this.supplyTypeSelectButton.onClickAmmo=l,this.supplyTypeSelectButton.onClickFuel=_,this.supplyTypeSelectButton.onClickAll=i,this.supplyTypeSelectButton.onMouseOverAll2=n,this.supplyTypeSelectButton.onMouseOutAll2=o,this.supplyTypeSelectButton.onClickAll2=s,this.supplyTypeSelectButton.onClickBaux=a,this.taskEditSupplyDeck.start(t)},e.prototype._startTaskEditSupplyOther=function(){var t=this;this.taskEditSupplyOther=new m.TaskEditSupplyOther(this.layerTaskMain),this.taskEditSupplyOther.onUpdateSupplyEdit=this._onUpdateCheckForOther;var e=this.taskEditSupplyOther.getSupplyEdit(),i=function(){r.default.view.clickGuard=!0;var i=e.getMemShipIds(),n=r.default.model.ship.get(i[0]).mstID;t._CallSupplyAll(i,n,function(){t.taskEditSupplyOther.reload(),r.default.view.clickGuard=!1})},n=function(){r.default.view.clickGuard=!0;var i=e.getMemShipIds();t._CallSupplyAmmo(i,function(){t.taskEditSupplyOther.reload(),r.default.view.clickGuard=!1})},o=function(){r.default.view.clickGuard=!0;var i=e.getMemShipIds();t._CallSupplyFuel(i,function(){t.taskEditSupplyOther.reload(),r.default.view.clickGuard=!1})};this.supplyTypeSelectButton.onClickAll=i,this.supplyTypeSelectButton.onClickAmmo=n,this.supplyTypeSelectButton.onClickFuel=o,this.taskEditSupplyOther.start(this.otherShips,this.memoryOtherPageIndex)},e.prototype.finalize=function(){this.taskEditSupplyDeck&&this.taskEditSupplyDeck.dispose(),this.taskEditSupplyDeck=null,this.taskEditSupplyOther&&this.taskEditSupplyOther.dispose(),this.taskEditSupplyOther=null,this.layerBase.removeChildren(),this.layerTaskMain.removeChildren(),this.layerTaskOverlay.removeChildren(),this.con_bg1=null,this.deckSelectView.dispose(),this.deckSelectView=null,this.materialCounterView.dispose(),this.materialCounterView=null,this.headerMain.dispose(),this.headerMain=null,this.combinedView&&(this.combinedView.dispose(),this.combinedView=null),this.supplyTypeSelectButton.dispose(),this.supplyTypeSelectButton=null,this.supplyShowcaseView.dispose(),this.supplyShowcaseView=null,this.headerSupply.dispose(),this.headerSupply=null,this.txt_supply=null,this.layerBase=null,this.layerTaskMain=null,this.layerTaskOverlay=null,this.otherShips=null,this.removeChildren()},e.prototype.start=function(){this.viewMode=p.ViewMode.DECK,this.deckSelectView.onClickDeck=this._onClickDeck,this.deckSelectView.onClickOther=this._onClickOther;var t=r.default.model.useItem.get(31).count,e=r.default.model.useItem.get(32).count;this.materialCounterView.update(t,e),this.deckSelectView.focusDeck(1),this.deckId=1,this._startTaskEditSupplyDeck(1),this.combinedView&&this.combinedView.activate()},e.prototype.getDeckSupllyShip=function(){for(var t=r.default.model.deck.get(this.deckId),e=t.getShipList(),i=[],n=0;n<e.length;n++){var o=e[n];if(o){h.SupplyUtil.CheckRequireSupplyShipAll(o.memID)&&i.push(o.memID)}}return i},e.prototype._animationBauxTelop=function(){createjs.Tween.get(this.txt_supply).to({alpha:0,x:o.default.width,y:90}).to({alpha:1,x:o.default.width/2},1500).to({alpha:0,x:525},1e3)},e.prototype._CallSupplyAll=function(t,e,i){var n=this,o=h.SupplyUtil.CalcRequireMaterials(t),s=r.default.model.useItem.get(32).count;0<o.ammo&&o.ammo<=s&&this.supplyShowcaseView.playSupplyAmmo(function(){});var a=r.default.model.useItem.get(31).count;0<o.fuel&&o.fuel<=a&&this.supplyShowcaseView.playSupplyFuel(function(){});var _=new l.APIConnector,p=new u.ChargeAPI(3,t);_.add(p),40==r.default.model.basic.getTutorialProgress()&&_.add(new c.UpdateTutorialAPI(50)),_.start(function(){r.default.sound.voice.play(e.toString(),27);var t=r.default.model.useItem.get(31).count,o=r.default.model.useItem.get(32).count;n.materialCounterView.update(t,o),p.usedBauxite&&n._animationBauxTelop(),i()})},e.prototype._CallSupplyAmmo=function(t,e){var i=this;this.supplyShowcaseView.playSupplyAmmo(function(){});var n=new l.APIConnector,o=new u.ChargeAPI(2,t);n.add(o),40==r.default.model.basic.getTutorialProgress()&&n.add(new c.UpdateTutorialAPI(50)),n.start(function(){var t=r.default.model.useItem.get(31).count,n=r.default.model.useItem.get(32).count;i.materialCounterView.update(t,n),o.usedBauxite&&i._animationBauxTelop(),e()})},e.prototype._CallSupplyFuel=function(t,e){var i=this;r.default.view.clickGuard=!0,this.supplyShowcaseView.playSupplyFuel(function(){});var n=new l.APIConnector,o=new u.ChargeAPI(1,t);n.add(o),40==r.default.model.basic.getTutorialProgress()&&n.add(new c.UpdateTutorialAPI(50)),n.start(function(){var t=r.default.model.useItem.get(31).count,n=r.default.model.useItem.get(32).count;i.materialCounterView.update(t,n),o.usedBauxite&&i._animationBauxTelop(),e()})},e.prototype._CallSupplyBaux=function(t,e,i){var n=this;r.default.view.clickGuard=!0;var o=new l.APIConnector,s=new u.ChargeAPI(0,t);o.add(s),40==r.default.model.basic.getTutorialProgress()&&o.add(new c.UpdateTutorialAPI(50)),o.start(function(){r.default.sound.voice.play(e.toString(),27),s.usedBauxite&&n._animationBauxTelop(),i()})},e.prototype._updateTypeSelectButton=function(t,e,i,n){this.supplyTypeSelectButton.update(0<n&&e,0<i&&t),this.supplyShowcaseView.hideAlert(),0==t&&0==e?this.supplyShowcaseView.showAlert("\u88dc\u7d66\u306b\u5fc5\u8981\u306a\u71c3\u6599\u30fb\u5f3e\u85ac\u304c\u8db3\u308a\u307e\u305b\u3093"):0==e?this.supplyShowcaseView.showAlert("\u88dc\u7d66\u306b\u5fc5\u8981\u306a\u71c3\u6599\u304c\u8db3\u308a\u307e\u305b\u3093"):0==t&&this.supplyShowcaseView.showAlert("\u88dc\u7d66\u306b\u5fc5\u8981\u306a\u5f3e\u85ac\u304c\u8db3\u308a\u307e\u305b\u3093")},e.prototype._updateButtonAlls=function(){if(null!=r.default.model.deck.get(this.deckId).expedition)this.supplyTypeSelectButton.updateButton(!1,!1);else{var t=this.getDeckSupllyShip(),e=h.SupplyUtil.CalcRequireMaterials(t),i=e.ammo,n=e.fuel,o=e.baux,s=r.default.model.useItem.get(31).count,a=r.default.model.useItem.get(32).count,_=r.default.model.useItem.get(34).count,l=0<n||0<i||0<o,u=0<o,c=i<=a,p=n<=s,d=o<=_,f=u&&d,y=l&&p&&c&&d;this.supplyTypeSelectButton.updateButton(f,y)}},e.prototype._updateShowcase=function(t,e,i,n){this.supplyShowcaseView.updateAmmoCount(i,t),this.supplyShowcaseView.updateFuelCount(n,e),this.supplyShowcaseView.playAnimationAmmo(i),this.supplyShowcaseView.playAnimationFuel(n)},e.prototype.getPreInitializeTask=function(t){return new d.PreInitializeTask(this)},e.prototype.getFinalizeTask=function(){return new f.FinalizeTask(this)},e}(a.SceneBase);e.SupplyScene=C},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.DECK=0]="DECK",t[t.OTHER=1]="OTHER"}(e.ViewMode||(e.ViewMode={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(14),a=i(3),_=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){this._phaseLoadResources()},e.prototype._phaseLoadResources=function(){var t=this,e=new s.UIImageLoader("supply");e.add("supply_main.json"),e.load(function(){t._uploadToGPU()})},e.prototype._uploadToGPU=function(){var t=this;o.default.settings.renderer.plugins.prepare.upload(a.SUPPLY_MAIN.getTexture(0).baseTexture,function(){t._phaseLoadComplete()})},e.prototype._phaseLoadComplete=function(){this._scene.preInitialize(),this._scene.initialize(),o.default.sound.bgm.play(102),this._scene.start(),this._endTask()},e.prototype._endTask=function(){this._scene=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.PreInitializeTask=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(14),s=function(t){function e(e){var i=t.call(this)||this;return i.supplyScene=e,i}return n(e,t),e.prototype._start=function(){this.supplyScene.finalize(),this.supplyScene=null,r.UIImageLoader.clearMemoryCache("supply"),t.prototype._completedEnd.call(this)},e}(o.TaskBase);e.FinalizeTask=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(84),o=i(748),r=i(0),s=i(749),a=i(218),_=i(3),l=i(333),u=i(113),c=function(){function t(t){var e=this;this.DECK_MAX=6,this._isAllSupply=!1,this._isOverAllBtn2=!1,this._onClickShip=function(t,i){var n=e.deckSupplyBanners[t];e.supplyEditor.containts(i)?(e.supplyEditor.remove(i),_.SE.play("238"),n.setDefault()):(e.supplyEditor.push(i),_.SE.play("241"),n.checkOn()),e.onUpdateSupplyEdit(!0)},this._onMouseOverSupplyAll=function(){e._isAllSupply=!1,e.supplyEditor.clear();for(var t=r.default.model.deck.get(e.deckId),i=t.getShipList(),n=0;n<i.length;n++){var o=t.getShipModel(n);if(o){a.SupplyUtil.CheckRequireSupplyShip(o.memID)&&e.supplyEditor.push(o.memID)}}for(var n=0;n<e.deckSupplyBanners.length;n++){var s=n+e.shipInDeckOrigin,o=t.getShipModel(s);if(o&&e.supplyEditor.containts(o.memID)){e.deckSupplyBanners[n].checkOn()}}_.SE.play("241"),e.onUpdateSupplyEdit(!0)},this._onMouseOutSupplyAll=function(){if(1==e._isAllSupply)return!1;e.supplyEditor.clear();for(var t=r.default.model.deck.get(e.deckId),i=0;i<e.deckSupplyBanners.length;i++){var n=i+e.shipInDeckOrigin,o=t.getShipModel(n);if(o){var s=e.deckSupplyBanners[i];a.SupplyUtil.CheckRequireSupplyShip(o.memID)&&s.setDefault()}}_.SE.play("238"),e.onUpdateSupplyEdit(!0)},this._onClickSupplyAll=function(){e.supplyEditor.clear(),e._isAllSupply=!0;for(var t=r.default.model.deck.get(e.deckId),i=t.getShipList(),n=0;n<i.length;n++){var o=i[n];if(o){a.SupplyUtil.CheckRequireSupplyShip(o.memID)&&e.supplyEditor.push(o.memID)}}for(var n=0;n<e.deckSupplyBanners.length;n++){var s=n+e.shipInDeckOrigin,o=t.getShipModel(s);if(o&&e.supplyEditor.containts(o.memID)){e.deckSupplyBanners[n].checkOn()}}var _=r.default.model.useItem.get(31).count,l=r.default.model.useItem.get(32).count,u=e.supplyEditor.getMemShipIds(),c=a.SupplyUtil.CalcRequireMaterials(u),h=a.SupplyUtil.CheckRequireSupplyDeckAll(e.deckId),p=a.SupplyUtil.CheckRequireSupplyDeckBaux(e.deckId);0<c.ammo&&c.ammo<=l?(e.onUpdateSupplyEdit(!0),e.onClickSupplyAll()):0<c.fuel&&c.fuel<=_?(e.onUpdateSupplyEdit(!0),e.onClickSupplyAll()):h&&p?e.supplyAllButton.updateClickable(!1):e.onUpdateSupplyEdit(!0)},this._saveTempSupply2=[],this.onMouseOverSupplyAll2=function(){e._isOverAllBtn2=!0;var t=r.default.model.deck.get(e.deckId),i=e.supplyEditor.getMemShipIds();e.supplyEditor.clear();for(var n=t.getShipList(),o=0;o<n.length;o++){var s=t.getShipModel(o);if(s){a.SupplyUtil.CheckRequireSupplyShipAll(s.memID)&&e.supplyEditor.push(s.memID)}}for(var o=0;o<e.deckSupplyBanners.length;o++){var l=o+e.shipInDeckOrigin,s=t.getShipModel(l);if(s&&e.supplyEditor.containts(s.memID)){e.deckSupplyBanners[o].checkOn()}}_.SE.play("241"),e._saveTempSupply2=i},this.onMouseOutSupplyAll2=function(){e._isOverAllBtn2=!1,e.supplyEditor.clear();for(var t=r.default.model.deck.get(e.deckId),i=0;i<e.deckSupplyBanners.length;i++){var n=i+e.shipInDeckOrigin,o=t.getShipModel(n);if(o){var s=e.deckSupplyBanners[i];a.SupplyUtil.CheckRequireSupplyShipAll(o.memID)&&(s.setDefault(),-1!=e._saveTempSupply2.indexOf(o.memID)&&(e.supplyEditor.push(o.memID),s.checkOn()))}}_.SE.play("238"),e.onUpdateSupplyEdit(!0),e._saveTempSupply2=[]},this.onClickSupplyAll2=function(){if(!e._isOverAllBtn2){e.supplyEditor.clear();for(var t=r.default.model.deck.get(e.deckId),i=t.getShipList(),n=0;n<i.length;n++){var o=i[n];if(o){a.SupplyUtil.CheckRequireSupplyShipAll(o.memID)&&e.supplyEditor.push(o.memID)}}for(var n=0;n<e.deckSupplyBanners.length;n++){var s=n+e.shipInDeckOrigin,o=t.getShipModel(s);if(o&&e.supplyEditor.containts(o.memID)){e.deckSupplyBanners[n].checkOn()}}}e.onUpdateSupplyEdit(!0),e.supplyAllButton.updateClickable(!1)},this.onClickSupplyBaux=function(){e.supplyEditor.clear();for(var t=r.default.model.deck.get(e.deckId),i=t.getShipList(),n=0;n<i.length;n++){var o=i[n];if(o){a.SupplyUtil.CheckRequireSupplyShipBaux(o.memID)&&e.supplyEditor.push(o.memID)}}for(var n=0;n<e.deckSupplyBanners.length;n++){var s=n+e.shipInDeckOrigin,o=t.getShipModel(s);if(o&&e.supplyEditor.containts(o.memID)){e.deckSupplyBanners[n].checkOn()}}e.onUpdateSupplyEdit(!1)},this.shipInDeckOrigin=0,this._onClickArrowTop=function(){e.shipInDeckOrigin-=1,e._updateDeck_(e.deckId,e.shipInDeckOrigin)},this._onClickArrowBottom=function(){e.shipInDeckOrigin+=1,e._updateDeck_(e.deckId,e.shipInDeckOrigin)},this.mainView=t,this.supplyAllButton=new o.SupplyAllButton,this.deckSupplyBanners=[];for(var i=0;i<this.DECK_MAX;i++){var n=new s.DeckSupplyBanner(i);n.position.set(165,215+n.ITEM_HEIGHT*i),this.deckSupplyBanners.push(n)}this.arrowTopButton=new u.ArrowTopButton,this.arrowBottomButton=new u.ArrowBottomButton}return t.prototype.getSupplyEdit=function(){return this.supplyEditor},t.prototype.updateDeck=function(t){this.deckId=t,this.supplyEditor.clear(),this._updateDeck_(t,this.shipInDeckOrigin),this.onUpdateSupplyEdit(!0)},t.prototype.changeDeck=function(t){this.shipInDeckOrigin=0,this.deckId=t,this.supplyEditor.clear(),this._updateDeck_(t,this.shipInDeckOrigin),this.onUpdateSupplyEdit(!0)},t.prototype.start=function(t){this.supplyAllButton.position.set(162,164),this.mainView.addChild(this.supplyAllButton);for(var e=0;e<this.deckSupplyBanners.length;e++){var i=this.deckSupplyBanners[e];i.onClick=this._onClickShip,this.mainView.addChild(i)}this.arrowTopButton.position.set(533,173),this.arrowBottomButton.position.set(533,650),this.mainView.addChild(this.arrowTopButton,this.arrowBottomButton),this.supplyAllButton.onMouseOver=this._onMouseOverSupplyAll,this.supplyAllButton.onMouseOut=this._onMouseOutSupplyAll,this.supplyAllButton.onClick=this._onClickSupplyAll,this.arrowTopButton.onClick=this._onClickArrowTop,this.arrowBottomButton.onClick=this._onClickArrowBottom,this.supplyEditor=new l.SupplyEditor,this._updateDeck_(t,this.shipInDeckOrigin),this.onUpdateSupplyEdit(!0)},t.prototype._updateDeck_=function(t,e){for(var i=r.default.model.deck.get(t),o=null!=i.expedition,s=0;s<this.deckSupplyBanners.length;s++){var _=e+s,l=this.deckSupplyBanners[s];n.TaskLoadShipResource.abortBy(l);var u=i.getShipModel(_);if(u){var c=a.SupplyUtil.CheckRequireSupplyShip(u.memID),h=c&&0==o,p=!!h&&this.supplyEditor.containts(u.memID);l.update(_,u,o,h,p)}else l.empty()}if(this.arrowBottomButton.visible=!1,this.arrowTopButton.visible=!1,0<e&&(this.arrowTopButton.visible=!0),e+this.deckSupplyBanners.length<i.getCount()&&(this.arrowBottomButton.visible=!0),i.expedition)this.supplyAllButton.updateClickable(!1);else{var c=a.SupplyUtil.CheckRequireSupplyDeck(t);this.supplyAllButton.updateClickable(c)}this.deckId=t},t.prototype.dispose=function(){var t=this;this.mainView.removeChildren(),this.deckSupplyBanners.forEach(function(e){n.TaskLoadShipResource.abortBy(e),e.dispose(),e.onClick=t._onClickShip=null,e=null}),this.supplyAllButton.onMouseOver=this._onMouseOverSupplyAll=null,this.supplyAllButton.onMouseOut=this._onMouseOutSupplyAll=null,this.supplyAllButton.onClick=this._onClickSupplyAll=null,this.supplyAllButton.dispose(),this.supplyAllButton=null,this.arrowTopButton.dispose(),this.arrowTopButton=null,this.arrowBottomButton.dispose(),this.arrowBottomButton=null,this.onUpdateSupplyEdit=null,this.onClickSupplyAll=null,this.mainView=null,this.deckSupplyBanners=null,this.deckId=null,this.supplyEditor=null},t}();e.TaskEditSupplyDeck=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=i(8),a=i(0),_=function(t){function e(){var e=t.call(this)||this;return e._canMouseOver=!1,e._onMouseOver=function(){e._canMouseOver=!0,e.onMouseOver(),e._supplyAllOn.alpha=1,e._clickArea.interactive=e._clickArea.buttonMode=!0},e._onMouseOut=function(){e.onMouseOut(),e._supplyAllOn.alpha=0,e._clickArea.interactive=e._clickArea.buttonMode=!1},e._onClick=function(){e.onClick()},e._onTouchDown=function(){e._canMouseOver||(e._touchActivate(),e.onMouseOver(),e._supplyAllOn.alpha=1)},e._touchActivate=function(){e._guardLayer=new s.AreaBox(0),e._touchArea=new s.AreaBox(0,0,e._clickArea.width,e._clickArea.height),e._touchArea.hitArea=new PIXI.Rectangle(0,0,e._clickArea.width,e._clickArea.height);var t=e._clickArea.getGlobalPosition();e._touchArea.position.set(t.x,t.y),e._guardLayer.addChild(e._touchArea),a.default.view.overLayer.addChild(e._guardLayer),e._guardLayer.on(r.EventType.MOUSEMOVE,e._onTouchMove),e._guardLayer.on(r.EventType.MOUSEUP,e._onTouchUp)},e._onTouchMove=function(t){var i=t.data.getLocalPosition(e._touchArea);1===e._supplyAllOn.alpha&&!1===e._touchArea.hitArea.contains(i.x,i.y)&&(e.onMouseOut(),e._supplyAllOn.alpha=0)},e._onTouchUp=function(){1===e._supplyAllOn.alpha&&e.onClick(),e._touchDeactivate()},e._touchDeactivate=function(){e._guardLayer.off(r.EventType.MOUSEMOVE,e._onTouchMove),e._guardLayer.off(r.EventType.MOUSEUP,e._onTouchUp),e._guardLayer.removeChildren(),e._touchArea=null,a.default.view.overLayer.removeChild(e._guardLayer),e._guardLayer=null},e._supplyAllOff=new PIXI.Sprite(o.SUPPLY_MAIN.getTexture(29)),e._supplyAllOn=new PIXI.Sprite(o.SUPPLY_MAIN.getTexture(30)),e._clickArea=new PIXI.Graphics,e._clickArea.beginFill(0,0),e._clickArea.drawRect(0,0,62,62),e._clickArea.endFill(),e._supplyAllOn.position.set(-26,-26),e._clickArea.position.set(-15,-15),e.addChild(e._supplyAllOff,e._supplyAllOn,e._clickArea),e._supplyAllOff.on(r.EventType.MOUSEOVER,e._onMouseOver),e._supplyAllOff.on(r.EventType.MOUSEDOWN,e._onTouchDown),e._clickArea.on(r.EventType.MOUSEOUT,e._onMouseOut),e._clickArea.on(r.EventType.CLICK,e._onClick),e}return n(e,t),e.prototype.dispose=function(){this._supplyAllOff.texture=PIXI.Texture.EMPTY,this._supplyAllOn.texture=PIXI.Texture.EMPTY,this._clickArea.clear(),this._supplyAllOff.off(r.EventType.MOUSEOVER,this._onMouseOver),this._supplyAllOff.off(r.EventType.MOUSEDOWN,this._onTouchDown),this._clickArea.off(r.EventType.MOUSEOUT,this._onMouseOut),this._clickArea.off(r.EventType.CLICK,this._onClick),this.onMouseOver=this._onMouseOver=null,this.onMouseOut=this._onMouseOut=null,this.onClick=this._onClick=null,this._supplyAllOff=null,this._supplyAllOn=null,this._clickArea=null,this._guardLayer=null,this._touchArea=null,this.removeChildren()},e.prototype.updateClickable=function(t){this._clickArea.interactive=this._clickArea.buttonMode=!1,this._supplyAllOff.interactive=this._supplyAllOff.buttonMode=!1,this._supplyAllOn.alpha=0,this._clickArea.visible=!1,t&&(this._supplyAllOff.interactive=this._supplyAllOff.buttonMode=!0,this._clickArea.visible=!0)},e}(PIXI.Container);e.SupplyAllButton=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(8),s=i(324),a=i(21),_=i(160),l=i(331),u=i(332),c=function(t){function e(e){var i=t.call(this)||this;i.ITEM_WIDTH=765,i.ITEM_HEIGHT=77,i._onClick=function(){i.onClick(i.index,i.memShipId)};var n=new r.AreaBox(0,0,i.ITEM_WIDTH,i.ITEM_HEIGHT);n.renderable=!1,n.buttonMode=!0,n.on(o.EventType.CLICK,i._onClick);var c=new PIXI.Sprite;c.position.x=38,c.texture=a.COMMON_MAIN.getTexture(19);var h=new s.LongShipBanner;h.position.x=38;var p=new u.SupplyCheckBox;p.position.set(0,24);var d=new PIXI.Sprite(_.SUPPLY_MAIN.getTexture(26));d.position.x=33,d.position.y=-5;var f=new l.MaterialView;return f.position.set(517,6),i.emptyBackground=c,i.supplyCheckBox=p,i.longShipBanner=h,i.clickArea=n,i.focusFrame=d,i.index=e,i.materialView=f,i}return n(e,t),e.prototype.dispose=function(){this.clickArea.off(o.EventType.CLICK,this._onClick),this.clickArea=null,this.materialView.dispose(),this.materialView=null,this.emptyBackground=null,this.supplyCheckBox.dispose(),this.supplyCheckBox=null,this.longShipBanner.dispose(),this.longShipBanner=null,this.focusFrame=null,this.onClick=this._onClick=null},e.prototype.update=function(t,e,i,n,o){this.removeChildren(),this.addChild(this.longShipBanner,this.supplyCheckBox,this.materialView,this.focusFrame),n?(this.addChild(this.clickArea),this.isDisable=!1,o?this.checkOn():this.checkOff()):(this.isDisable=!0,this.checkDisable()),this.longShipBanner.update(t,e,i),this.materialView.update(e.fuelNow,e.fuelMax,e.ammoNow,e.ammoMax),this.memShipId=e.memID},e.prototype.checkOn=function(){this.supplyCheckBox.update(3),this.focusFrame.visible=!0},e.prototype.checkDisable=function(){this.supplyCheckBox.update(1),this.focusFrame.visible=!1},e.prototype.checkOff=function(){this.supplyCheckBox.update(2),this.focusFrame.visible=!1},e.prototype.setDefault=function(){this.isDisable?this.checkDisable():this.checkOff()},e.prototype.empty=function(){this.memShipId=null,this.removeChildren(),this.addChild(this.emptyBackground)},e}(PIXI.Container);e.DeckSupplyBanner=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite,n=new PIXI.Sprite;return n.position.set(-29,-27),n.alpha=0,e.addChild(n,i),e.meter=i,e.meterLight=n,e}return n(e,t),e.prototype.update=function(t,e){this.meter.texture=o.COMMON_MISC.getTexture(133),this.meterLight.texture=o.COMMON_MISC.getTexture(145);var i;0==t?i=0:t==e?i=10:(i=Math.floor(9*t/e)+1,10<i&&(i=10),i<0&&(i=0));this.meter.texture=o.COMMON_MISC.getTexture(this.getResIDProgressImage(i))},e.prototype.getResIDProgressImage=function(t){switch(t){case 0:return 133;case 1:return 134;case 2:return 136;case 3:return 137;case 4:return 138;case 5:return 139;case 6:return 140;case 7:return 141;case 8:return 142;case 9:return 143;case 10:return 135}},e.prototype.dispose=function(){this.removeChild(this.meter),this.removeChild(this.meterLight),this.meter=null,this.meterLight=null},e}(PIXI.Container);e.MaterialMeterViewS=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(218),o=i(86),r=i(3),s=i(752),a=i(753),_=i(333),l=function(){function t(t){var e=this;this.LIST_MAX=10,this._onChangePage=function(t){e._pageIndex!=t&&e._updatePage(t)},this._onClickListItem=function(t,i){e.supplyEditor.containts(i)?(r.SE.play("238"),e.supplyEditor.remove(i)):(r.SE.play("241"),e.supplyEditor.push(i)),e._updatePage(e._pageIndex),e.onUpdateSupplyEdit()},this._onClickSupplySelectAll=function(){for(var t=0,i=0,o=e.otherShips.slice(e._pageIndex*e.otherSupplyListItems.length,e._pageIndex*e.otherSupplyListItems.length+e.otherSupplyListItems.length),s=0;s<o.length;s++){var a=o[s],_=n.SupplyUtil.CheckRequireSupplyShip(a.memID);if(_){t++;var l=e.supplyEditor.containts(a.memID);l&&i++}}if(i<t){for(var s=0;s<o.length;s++){var a=o[s],_=n.SupplyUtil.CheckRequireSupplyShip(a.memID);if(_){0==e.supplyEditor.containts(a.memID)&&e.supplyEditor.push(a.memID)}}r.SE.play("241")}else{if(i==t)for(var s=0;s<o.length;s++){var a=o[s],_=n.SupplyUtil.CheckRequireSupplyShip(a.memID);if(_){var l=e.supplyEditor.containts(a.memID);l&&e.supplyEditor.remove(a.memID)}}r.SE.play("238")}e._updatePage(e._pageIndex),e.onUpdateSupplyEdit()},this.mainView=t,this.otherSupplyListItems=[];for(var i=0;i<this.LIST_MAX;i++){var l=new s.OtherSupplyListItem(i);l.position.set(155,44*i+206),this.otherSupplyListItems.push(l)}this.pagerView=new o.PagerView,this.pagerView.position.set(285,663),this.supplySelectAllButton=new a.SupplySelectAllButton,this.supplyEditor=new _.SupplyEditor}return t.prototype.getSupplyEdit=function(){return this.supplyEditor},Object.defineProperty(t.prototype,"pageIndex",{get:function(){return this._pageIndex},enumerable:!0,configurable:!0}),t.prototype.start=function(t,e){this.supplyEditor.clear(),this.otherShips=t,this.supplySelectAllButton.position.set(162,164),this.mainView.addChild(this.supplySelectAllButton);for(var i=0;i<this.otherSupplyListItems.length;i++){var n=this.otherSupplyListItems[i];n.onClick=this._onClickListItem,this.mainView.addChild(n)}var o=this.calcPageCount(this.otherShips.length,this.otherSupplyListItems.length);this.pagerView.init(o),this.mainView.addChild(this.pagerView),this.pagerView.onChangePage=this._onChangePage,this.supplySelectAllButton.onClick=this._onClickSupplySelectAll,this._updatePage(e),this.onUpdateSupplyEdit()},t.prototype.reload=function(){this.supplyEditor.clear(),this._updatePage(this.pageIndex),this.onUpdateSupplyEdit()},t.prototype._updatePage=function(t){for(var e=0,i=0,o=this.otherShips.slice(t*this.otherSupplyListItems.length,t*this.otherSupplyListItems.length+this.otherSupplyListItems.length),r=0;r<this.otherSupplyListItems.length;r++){var s=this.otherSupplyListItems[r];if(s.empty(),r<o.length){var a=o[r],_=n.SupplyUtil.CheckRequireSupplyShip(a.memID);if(s.checkDisable(),_){e++,s.checkOff();this.supplyEditor.containts(a.memID)&&(i++,s.checkOn())}s.update(r,a,_)}}var l=1;0<e&&(l=2,i==e&&(l=3)),this.supplySelectAllButton.update(l),this.pagerView.changePage(t),this._pageIndex=t},t.prototype.dispose=function(){var t=this;this.mainView.removeChildren(),this.otherSupplyListItems.forEach(function(e){e.onClick=t._onClickListItem=null,e.dispose(),e=null}),this.pagerView.onChangePage=this._onChangePage=null,this.supplySelectAllButton.onClick=this._onClickSupplySelectAll=null,this.onUpdateSupplyEdit=null,this.mainView=null,this.otherSupplyListItems=null,this.pagerView.dispose(),this.pagerView=null,this.supplySelectAllButton.dispose(),this.supplySelectAllButton=null,this.supplyEditor=null,this.otherShips=null,this._pageIndex=null},t.prototype.calcPageCount=function(t,e){var i=0==t?0:t/e;return i+=0==t?0:0<t%e?1:0,i=Math.floor(i)},t}();e.TaskEditSupplyOther=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(126),s=i(8),a=i(4),_=i(160),l=i(331),u=i(332),c=function(t){function e(e){var i=t.call(this)||this;i.ITEM_WIDTH=711,i.ITEM_HEIGHT=42,i._onClick=function(){i.onClick(i.index,i.memShipId)},i._onMouseOut=function(){i.focus.visible=!1,i.typeAndNameContainer.cacheAsBitmap=!1,i.labelLevel.style.fill=i.textLevel.style.fill=i.textType.style.fill=i.textName.style.fill=5523516,i.typeAndNameContainer.cacheAsBitmap=!0},i._onMouseOver=function(){i.focus.visible=!0,i.typeAndNameContainer.cacheAsBitmap=!1,i.labelLevel.style.fill=i.textLevel.style.fill=i.textType.style.fill=i.textName.style.fill=16774898,i.typeAndNameContainer.cacheAsBitmap=!0};var n=Math.floor(22)+2,c=new a.TextBox(18,5523516),h=new a.TextBox(20,5523516),p=new PIXI.Container,d=new a.TextBox(21,5523516),f=new a.TextBox(21,5523516),y=r.CreateRect.gradientLeftToRight(310,44,.7,.9),m=new PIXI.Sprite(_.SUPPLY_MAIN.getTexture(24));m.scale.x=1.45,m.visible=!1,f.anchor.set(1,0),f.position.set(417,Math.floor(n-f.height/2)+0),c.anchor.set(0,0),c.position.set(0,Math.floor(n-c.height/2)),h.anchor.set(0,0),h.position.set(65,Math.floor(n-h.height/2)+0),p.position.set(53,0),d.anchor.set(0,0),d.position.set(351,Math.floor(n-d.height/2)+0),d.text="Lv",p.mask=y,p.addChild(c,h,y);var g=new u.SupplyCheckBox;g.position.set(11,11);var v=new PIXI.Graphics;v.lineStyle(1,13945534,1),v.moveTo(30,45),v.lineTo(713,44),v.endFill(),i.line=v;var b=new l.MaterialViewS;return b.position.set(446,11),i.supplyCheckBox=g,i.index=e,i.materialView=b,i.clickArea=new s.AreaBox(0,0,i.ITEM_WIDTH,i.ITEM_HEIGHT),i.clickArea.renderable=!1,i.clickArea.buttonMode=!0,i.clickArea.on(o.EventType.CLICK,i._onClick),i.clickArea.on(o.EventType.MOUSEOVER,i._onMouseOver),i.clickArea.on(o.EventType.MOUSEOUT,i._onMouseOut),i.textType=c,i.textName=h,i.typeAndNameContainer=p,i.labelLevel=d,i.textLevel=f,i.maskTypeAndName=y,i.focus=m,i}return n(e,t),e.prototype.update=function(t,e,i){this.removeChildren(),this.addChild(this.focus,this.line,this.typeAndNameContainer,this.labelLevel,this.textLevel,this.supplyCheckBox,this.materialView),i&&this.addChild(this.clickArea),this.typeAndNameContainer.cacheAsBitmap=!1,this.textType.text=e.shipTypeName+" ",this.textName.text=e.name,this.textName.x=this.textType.x+this.textType.width,this.typeAndNameContainer.cacheAsBitmap=!0,this.textLevel.text=e.level.toString(),this.materialView.update(e.fuelNow,e.fuelMax,e.ammoNow,e.ammoMax);e.fuelMax,e.fuelNow,e.ammoMax,e.ammoNow;this.materialView.update(e.fuelNow,e.fuelMax,e.ammoNow,e.ammoMax),this.memShipId=e.memID},e.prototype.checkOn=function(){this.supplyCheckBox.update(3)},e.prototype.checkDisable=function(){this.supplyCheckBox.update(1)},e.prototype.checkOff=function(){this.supplyCheckBox.update(2)},e.prototype.empty=function(){this.memShipId=null,this.removeChildren(),this.addChild(this.line)},e.prototype.dispose=function(){this.removeChildren(),this.typeAndNameContainer.cacheAsBitmap=!1,this.typeAndNameContainer.removeChildren(),this.typeAndNameContainer=null,this.textType.destroy(),this.textName.destroy(),this.labelLevel.destroy(),this.textLevel.destroy(),this.supplyCheckBox.dispose(),this.supplyCheckBox=null,this.line=null,this.textType=null,this.labelLevel=null,this.textLevel=null,this.maskTypeAndName=null,this.textName=null,this.focus=null,this.clickArea.off(o.EventType.CLICK,this._onClick),this.clickArea.off(o.EventType.MOUSEOVER,this._onMouseOver),this.clickArea.off(o.EventType.MOUSEOUT,this._onMouseOut),this.clickArea=null,this.line=null,this.materialView.dispose(),this.materialView=null,this.onClick=this._onClick=null},e}(PIXI.Container);e.OtherSupplyListItem=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(){var e=t.call(this)||this;e._onClick=function(){e.onClick()};var i=new PIXI.Sprite(o.SUPPLY_MAIN.getTexture(19)),n=new PIXI.Sprite;return n.position.set(3,3),n.buttonMode=!0,n.addListener(r.EventType.CLICK,e._onClick),e.addChild(i,n),e.background=i,e.checkState=n,e}return n(e,t),e.prototype.update=function(t){switch(this.checkState.interactive=!1,t){case 1:this.background.texture=o.SUPPLY_MAIN.getTexture(18),this.checkState.texture=o.SUPPLY_MAIN.getTexture(20);break;case 2:this.background.texture=o.SUPPLY_MAIN.getTexture(19),this.checkState.texture=o.SUPPLY_MAIN.getTexture(21),this.checkState.interactive=!0;break;case 3:this.background.texture=o.SUPPLY_MAIN.getTexture(19),this.checkState.texture=o.SUPPLY_MAIN.getTexture(22),this.checkState.interactive=!0}},e.prototype.dispose=function(){this.background=null,this.checkState.removeListener(r.EventType.CLICK,this._onClick),this.checkState=null,this.onClick=null,this.removeChildren()},e}(PIXI.Container);e.SupplySelectAllButton=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(10),s=i(1),a=function(t){function e(){var e=t.call(this)||this;return e._onClickDeck=function(t){e.onClickDeck(t)},e._onClickOther=function(){e.onClickOther()},e.deck1=new PIXI.Sprite,e.deck2=new PIXI.Sprite,e.deck3=new PIXI.Sprite,e.deck4=new PIXI.Sprite,e.deckOther=new PIXI.Sprite,e.deck1.position.set(0,0),e.deck2.position.set(45,0),e.deck3.position.set(90,0),e.deck4.position.set(135,0),e.deckOther.position.set(180,0),e.deck1.on(s.EventType.CLICK,function(){e._onClickDeck(1)}),e.deck2.on(s.EventType.CLICK,function(){e._onClickDeck(2)}),e.deck3.on(s.EventType.CLICK,function(){e._onClickDeck(3)}),e.deck4.on(s.EventType.CLICK,function(){e._onClickDeck(4)}),e.deckOther.on(s.EventType.CLICK,function(){e._onClickOther()}),e.addChild(e.deck1,e.deck2,e.deck3,e.deck4,e.deckOther),o.default.model.deck.exist3rdUnit&&(e.icon3rdUnit=new PIXI.Sprite(r.COMMON_MISC.getTexture(185)),e.icon3rdUnit.position.set(75,-21),e.addChild(e.icon3rdUnit)),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.deck1.off(s.EventType.CLICK),this.deck2.off(s.EventType.CLICK),this.deck3.off(s.EventType.CLICK),this.deck4.off(s.EventType.CLICK),this.deckOther.off(s.EventType.CLICK),this.onClickDeck=null,this.onClickOther=null,this.deckCount=null,this.otherShipCount=null,this.deck1=null,this.deck2=null,this.deck3=null,this.deck4=null,this.deckOther=null,this.icon3rdUnit=null},e.prototype.initDeckCount=function(t){this._updateDeckCount(t)},e.prototype.initOtherShipCount=function(t){this._updateOtherShipCount(t)},e.prototype.focusDeck=function(t){switch(this._initializeDeckTexture(this.deckCount),this._initializeOtherDeckTextre(this.otherShipCount),t){case 1:this.deck1.texture=r.COMMON_MISC.getTexture(74);break;case 2:this.deck2.texture=r.COMMON_MISC.getTexture(77);break;case 3:this.deck3.texture=r.COMMON_MISC.getTexture(80);break;case 4:this.deck4.texture=r.COMMON_MISC.getTexture(83)}},e.prototype.focusOther=function(){this._initializeDeckTexture(this.deckCount),this._initializeOtherDeckTextre(this.otherShipCount),this.deckOther.texture=r.COMMON_MISC.getTexture(85)},e.prototype._updateDeckCount=function(t){this.deckCount=t,this._initializeDeckTexture(t),this._initializeDeckInteractive(t)},e.prototype._updateOtherShipCount=function(t){this._initializeOtherDeckTextre(t),this._initializeOtherDeckInteractive(t),this.otherShipCount=t},e.prototype._initializeDeckTexture=function(t){switch(t){case 1:this.deck1.texture=r.COMMON_MISC.getTexture(73),this.deck2.texture=r.COMMON_MISC.getTexture(75),this.deck3.texture=r.COMMON_MISC.getTexture(78),this.deck4.texture=r.COMMON_MISC.getTexture(81);break;case 2:this.deck1.texture=r.COMMON_MISC.getTexture(73),this.deck2.texture=r.COMMON_MISC.getTexture(76),this.deck3.texture=r.COMMON_MISC.getTexture(78),this.deck4.texture=r.COMMON_MISC.getTexture(81);break;case 3:this.deck1.texture=r.COMMON_MISC.getTexture(73),this.deck2.texture=r.COMMON_MISC.getTexture(76),this.deck3.texture=r.COMMON_MISC.getTexture(79),this.deck4.texture=r.COMMON_MISC.getTexture(81);break;case 4:this.deck1.texture=r.COMMON_MISC.getTexture(73),this.deck2.texture=r.COMMON_MISC.getTexture(76),this.deck3.texture=r.COMMON_MISC.getTexture(79),this.deck4.texture=r.COMMON_MISC.getTexture(82);break;default:this.deck1.texture=r.COMMON_MISC.getTexture(72),this.deck2.texture=r.COMMON_MISC.getTexture(75),this.deck3.texture=r.COMMON_MISC.getTexture(78),this.deck4.texture=r.COMMON_MISC.getTexture(81)}},e.prototype._initializeDeckInteractive=function(t){switch(this.deck1.interactive=this.deck1.buttonMode=!1,this.deck2.interactive=this.deck2.buttonMode=!1,this.deck3.interactive=this.deck3.buttonMode=!1,this.deck4.interactive=this.deck4.buttonMode=!1,t){case 1:this.deck1.interactive=this.deck1.buttonMode=!0;break;case 2:this.deck1.interactive=this.deck1.buttonMode=!0,this.deck2.interactive=this.deck2.buttonMode=!0;break;case 3:this.deck1.interactive=this.deck1.buttonMode=!0,this.deck2.interactive=this.deck2.buttonMode=!0,this.deck3.interactive=this.deck3.buttonMode=!0;break;case 4:this.deck1.interactive=this.deck1.buttonMode=!0,this.deck2.interactive=this.deck2.buttonMode=!0,this.deck3.interactive=this.deck3.buttonMode=!0,this.deck4.interactive=this.deck4.buttonMode=!0}},e.prototype._initializeOtherDeckTextre=function(t){0<t?(this.deckOther.texture=r.COMMON_MISC.getTexture(84),this.deckOther.visible=!0):this.deckOther.visible=!1},e.prototype._initializeOtherDeckInteractive=function(t){0<t?(this.deckOther.interactive=!0,this.deckOther.buttonMode=!0):(this.deckOther.interactive=!1,this.deckOther.buttonMode=!1)},e}(PIXI.Container);e.DeckSelectView=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite(o.COMMON_MAIN.getTexture(64));e.headerMainBg=i;var n=new PIXI.Sprite(o.COMMON_MAIN.getTexture(0));return e.headerMainText=n,n.position.set(195,11),e.addChild(i,n),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.headerMainBg.texture=PIXI.Texture.EMPTY,this.headerMainText.texture=PIXI.Texture.EMPTY,this.headerMainBg=null,this.headerMainText=null},e}(PIXI.Container);e.HeaderMain=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(3),s=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite(o.COMMON_MAIN.getTexture(64));e.headerSupplyBg=i;var n=new PIXI.Sprite(r.SUPPLY_MAIN.getTexture(0));return e.headerSupplyText=n,n.position.set(24,11),e.addChild(i,n),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.headerSupplyBg.texture=PIXI.Texture.EMPTY,this.headerSupplyText.texture=PIXI.Texture.EMPTY,this.headerSupplyBg=null,this.headerSupplyText=null},e}(PIXI.Container);e.HeaderSupply=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(4),s=function(t){function e(){var e=t.call(this)||this,i=new r.TextBox(24,5523516),n=new r.TextBox(24,5523516),s=new PIXI.Sprite(o.SUPPLY_MAIN.getTexture(27)),a=new PIXI.Sprite(o.SUPPLY_MAIN.getTexture(28));return i.anchor.set(1,0),n.anchor.set(1,0),i.position.set(142,8),n.position.set(300,8),s.position.set(0,0),a.position.set(158,0),e.addChild(i,n,s,a),e.textFuel=i,e.textAmmo=n,e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.textFuel.destroy(),this.textFuel=null,this.textAmmo.destroy(),this.textAmmo=null},e.prototype.update=function(t,e){this.textFuel.text=t.toString(),this.textAmmo.text=e.toString()},e}(PIXI.Container);e.MaterialCounterView=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(4),s=i(165),a=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite(o.SUPPLY_MAIN.getTexture(23)),n=new PIXI.Sprite(o.SUPPLY_MAIN.getTexture(31)),a=new PIXI.Sprite(o.SUPPLY_MAIN.getTexture(2)),_=new PIXI.Sprite(o.SUPPLY_MAIN.getTexture(1)),l=new r.TextBox(28,5523516),u=new r.TextBox(28,5523516),c=new r.TextBox(16,12467003),h=new s.FuelContainer,p=new s.AmmoContainer;return l.anchor.set(1,0),u.anchor.set(1,0),i.position.set(0,0),n.position.set(17,24),a.position.set(18,83),_.position.set(159,83),h.position.set(18,209),p.position.set(159,209),l.position.set(144,166),u.position.set(285,166),c.position.set(155,441),c.anchor.set(.5,0),c.visible=!1,e.addChild(i,n,a,_,u,l,c,h,p),e.textAmmo=u,e.textFuel=l,e.textAlert=c,e.fuelContainer=h,e.ammoContainer=p,e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.textAmmo.destroy(),this.textFuel.destroy(),this.textAlert.destroy(),this.fuelContainer.dispose(),this.fuelContainer=null,this.ammoContainer.dispose(),this.ammoContainer=null,this.textFuel=null,this.textAmmo=null,this.textAlert=null},e.prototype.updateFuelCount=function(t,e){var i,n=t.toString();i=e?5523516:12467003,this.textFuel.style.fill=i,this.textFuel.text=n},e.prototype.updateAmmoCount=function(t,e){var i,n=t.toString();i=e?5523516:12467003,this.textAmmo.style.fill=i,this.textAmmo.text=n},e.prototype.playAnimationFuel=function(t){this.fuelContainer.update(t)},e.prototype.playAnimationAmmo=function(t){this.ammoContainer.update(t)},e.prototype.playSupplyAmmo=function(t){this.ammoContainer.playSupply(t)},e.prototype.playSupplyFuel=function(t){this.fuelContainer.playSupply(t)},e.prototype.showAlert=function(t){this.textAlert.text=t,this.textAlert.visible=!0},e.prototype.hideAlert=function(){this.textAlert.visible=!1},e}(PIXI.Container);e.SupplyShowcaseView=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.playDrop=function(t){throw new Error("Method not implemented.")},e.prototype.playAdd=function(){throw new Error("Method not implemented.")},e.prototype.stop=function(){throw new Error("Method not implemented.")},e.prototype.playRemove=function(){throw new Error("Method not implemented.")},e.prototype.dispose=function(){throw new Error("Method not implemented.")},e.prototype.updateRandomTexture=function(){throw new Error("Method not implemented.")},e}(PIXI.Container);e.Material=r;var s=function(t){function e(e){var i=t.call(this)||this;i.DURATION=1/30*1e3;var n=new PIXI.Sprite,r=new PIXI.Sprite(o.COMMON_MISC.getTexture(146));return i._dustBaseY=15,r.anchor.set(.5,.5),r.position.set(11,i._dustBaseY),r.alpha=0,n.alpha=0,i.addChild(n,r),i._materialName=e,i._material=n,i._dust=r,i}return n(e,t),e.prototype.clone=function(){return new e(this._materialName)},e.prototype.dispose=function(){this.stop(),this._material=null,this._dust=null,this.removeChildren()},e.prototype.stop=function(){createjs.Tween.removeTweens(this._material),createjs.Tween.removeTweens(this._dust)},e.prototype.playAdd=function(){this.stop(),this._dust.alpha=0,createjs.Tween.get(this._material).to({x:.75,y:-209,alpha:1,rotation:0}).to({x:0,y:0},9*this.DURATION).to({x:5,y:-2,rotation:Math.PI/180*10.5},3*this.DURATION).to({x:0,y:0,rotation:0})},e.prototype.playRemove=function(){this.stop();var t=5*this.DURATION,e=4*this.DURATION;createjs.Tween.get(this._material).to({x:0,y:0,rotation:0,alpha:1}).wait(t).to({alpha:0}),createjs.Tween.get(this._dust.scale).to({x:0,y:0}).to({x:1,y:1},t),createjs.Tween.get(this._dust).to({alpha:1}).wait(t).to({alpha:0},e+2*this.DURATION),createjs.Tween.get(this._dust).to({y:this._dustBaseY}).wait(t).to({y:this._dustBaseY-4},e,createjs.Ease.getBackIn(2.5))},e.prototype.playDrop=function(t){this.stop(),createjs.Tween.get(this._material).to({y:300,rotation:Math.PI/180*(30*Math.random()-15)},100).call(function(){t()})},e.prototype.updateRandomTexture=function(){var t;switch(this._materialName){case 0:t=[14,15,16,17];break;case 1:t=[4,5,6,7];break;case 2:t=[8,9,10,11];break;default:throw new Error("Undefined material name.")}var e=Math.floor(t.length*Math.random());this._material.texture=o.COMMON_MISC.getTexture(t[e])},e}(r);e.SupplyMaterial=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=function(t){function e(){var e=t.call(this)||this;e.DURATION=1/30*1e3,e.MOVE_ROTATION=Math.PI/180*20.4,e.MOVE_X=36;var i=new PIXI.Sprite(o.COMMON_MISC.getTexture(19)),n=new PIXI.Sprite(o.COMMON_MISC.getTexture(19)),r=new PIXI.Sprite(o.COMMON_MISC.getTexture(12));i.pivot.set(i.width,i.height),i.rotation=Math.PI/180*180,n.x=i.width,r.y=3,e._shutterWidth=i.width;var s=new PIXI.Graphics;s.beginFill(10798649,.5),s.drawRect(0,0,201.45,180),s.pivot.set(s.width,0),s.position.set(i.width+3,-77);var a=new PIXI.Graphics;return a.beginFill(5978566,.5),a.drawRect(0,0,201.45,180),a.pivot.set(0,0),a.position.set(n.width,-77),i.mask=s,n.mask=a,e.addChild(i,n,s,a,r),e._leftFloor=i,e._rightFloor=n,e._leftFloorMask=s,e._rightFloorMask=a,e}return n(e,t),e.prototype.__stop__=function(){createjs.Tween.removeTweens(this._leftFloorMask),createjs.Tween.removeTweens(this._rightFloorMask)},e.prototype.open=function(t){this.__stop__();var e=9*this.DURATION,i=0,n=function(){2===++i&&t()};createjs.Tween.get(this._leftFloorMask).to({rotation:this.MOVE_ROTATION,x:this._shutterWidth-this.MOVE_X},e).call(n),createjs.Tween.get(this._rightFloorMask).to({rotation:-this.MOVE_ROTATION,x:this._shutterWidth+this.MOVE_X},e).call(n)},e.prototype.close=function(t){this.__stop__();var e=9*this.DURATION,i=0,n=function(){2===++i&&t()};createjs.Tween.get(this._leftFloorMask).to({rotation:0,x:this._shutterWidth},e).call(n),createjs.Tween.get(this._rightFloorMask).to({rotation:0,x:this._shutterWidth},e).call(n)},e.prototype.dispose=function(){this.__stop__(),this._leftFloor.texture=PIXI.Texture.EMPTY,this._rightFloor.texture=PIXI.Texture.EMPTY,this._leftFloor.mask=null,this._rightFloor.mask=null,this._leftFloorMask.clear(),this._rightFloorMask.clear(),this._leftFloor=null,this._rightFloor=null,this.removeChildren()},e}(PIXI.Container);e.SupplyFloor=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=i(762),a=i(763),_=function(t){function e(){var e=t.call(this)||this;e.fuel=!1,e.ammo=!1,e._onClickFuel=function(){e.onClickFuel()},e._onClickAmmo=function(){e.onClickAmmo()},e._onClickAll=function(){e.onClickAll()},e._onMouseOverAll2=function(){e.onMouseOverAll2()},e._onMouseOutAll2=function(){e.onMouseOutAll2()},e._onClickAll2=function(){e.onClickAll2()},e._onClickBaux=function(){e.onClickBaux()},e._onMouseOver=function(t){switch(e.buttonFuel.texture=e.btn_2_fuel_off,e.fuel&&(e.buttonFuel.texture=e.btn_2_fuel),e.buttonAmmo.texture=e.btn_2_ammo_off,e.ammo&&(e.buttonAmmo.texture=e.btn_2_ammo),e.buttonAll.texture=e.btn_2_all,t.target){case e.buttonAll:e.buttonFuel.texture=e.btn_2_fuel_on,e.buttonAmmo.texture=e.btn_2_ammo_on,e.buttonAll.texture=e.btn_2_all_on;break;case e.buttonAmmo:e.buttonAmmo.texture=e.btn_2_ammo_on;break;case e.buttonFuel:e.buttonFuel.texture=e.btn_2_fuel_on}},e._onMouseOut=function(t){null==t.target&&(e.buttonFuel.texture=e.btn_2_fuel_off,e.buttonAmmo.texture=e.btn_2_ammo_off,e.buttonAll.texture=e.btn_2_all_off,e.fuel&&(e.buttonFuel.texture=e.btn_2_fuel),e.ammo&&(e.buttonAmmo.texture=e.btn_2_ammo),(e.fuel||e.ammo)&&(e.buttonAll.texture=e.btn_2_all))},e.SupplyAircraftButton=new s.SupplyAircraftButton,e.SupplyAircraftButton.position.set(-3,-44),e.supplyAllButton2=new a.SupplyAllButton2,e.supplyAllButton2.position.set(142,-44);var i=o.SUPPLY_MAIN.getTexture(10),n=o.SUPPLY_MAIN.getTexture(9),_=o.SUPPLY_MAIN.getTexture(11),l=o.SUPPLY_MAIN.getTexture(4),u=o.SUPPLY_MAIN.getTexture(3),c=o.SUPPLY_MAIN.getTexture(5),h=o.SUPPLY_MAIN.getTexture(7),p=o.SUPPLY_MAIN.getTexture(6),d=o.SUPPLY_MAIN.getTexture(8),f=new PIXI.Sprite(i),y=new PIXI.Sprite(h),m=new PIXI.Sprite(l);return f.position.set(0,0),m.position.set(61,0),y.position.set(217,0),f.addListener(r.EventType.CLICK,e._onClickFuel),f.addListener(r.EventType.MOUSEOVER,e._onMouseOver),f.addListener(r.EventType.MOUSEOUT,e._onMouseOut),y.addListener(r.EventType.CLICK,e._onClickAmmo),y.addListener(r.EventType.MOUSEOVER,e._onMouseOver),y.addListener(r.EventType.MOUSEOUT,e._onMouseOut),m.addListener(r.EventType.CLICK,e._onClickAll),m.addListener(r.EventType.MOUSEOVER,e._onMouseOver),m.addListener(r.EventType.MOUSEOUT,e._onMouseOut),e.SupplyAircraftButton.onClick=e._onClickBaux,e.supplyAllButton2.onMouseOver=e._onMouseOverAll2,e.supplyAllButton2.onMouseOut=e._onMouseOutAll2,e.supplyAllButton2.onClick=e._onClickAll2,e.addChild(e.SupplyAircraftButton,e.supplyAllButton2,f,m,y),e.buttonAll=m,e.buttonAmmo=y,e.buttonFuel=f,e.btn_2_fuel_off=i,e.btn_2_fuel=n,e.btn_2_fuel_on=_,e.btn_2_ammo_off=h,e.btn_2_ammo=p,e.btn_2_ammo_on=d,e.btn_2_all_off=l,e.btn_2_all=u,e.btn_2_all_on=c,e}return n(e,t),e.prototype.dispose=function(){this.buttonAll.texture=PIXI.Texture.EMPTY,this.buttonAmmo.texture=PIXI.Texture.EMPTY,this.buttonFuel.texture=PIXI.Texture.EMPTY,this.buttonAll.removeAllListeners(r.EventType.CLICK),this.buttonAll.removeAllListeners(r.EventType.MOUSEOVER),this.buttonAll.removeAllListeners(r.EventType.MOUSEOUT),this.buttonFuel.removeAllListeners(r.EventType.CLICK),this.buttonFuel.removeAllListeners(r.EventType.MOUSEOVER),this.buttonFuel.removeAllListeners(r.EventType.MOUSEOUT),this.buttonAmmo.removeAllListeners(r.EventType.CLICK),this.buttonAmmo.removeAllListeners(r.EventType.MOUSEOVER),this.buttonAmmo.removeAllListeners(r.EventType.MOUSEOUT),this.onClickAll=this._onClickAll=null,this.onClickAmmo=this._onClickAmmo=null,this.onClickFuel=this._onClickFuel=null,this._onMouseOut=this._onMouseOver=null,this.btn_2_fuel_off=null,this.btn_2_all_off=null,this.btn_2_ammo_off=null,this.btn_2_fuel_on=null,this.btn_2_all_on=null,this.btn_2_ammo_on=null,this.btn_2_fuel=null,this.btn_2_all=null,this.btn_2_ammo=null,this.buttonAll=null,this.buttonFuel=null,this.buttonAmmo=null,this.removeChildren()},e.prototype.update=function(t,e){this.buttonFuel.interactive=!1,this.buttonFuel.buttonMode=!1,this.buttonAmmo.interactive=!1,this.buttonAmmo.buttonMode=!1,this.buttonAll.interactive=!1,this.buttonAll.buttonMode=!1,this.buttonAll.texture=this.btn_2_all_off,this.buttonAmmo.texture=this.btn_2_ammo_off,this.buttonFuel.texture=this.btn_2_fuel_off,t&&(this.buttonFuel.interactive=!0,this.buttonFuel.buttonMode=!0,this.buttonFuel.texture=this.btn_2_fuel),e&&(this.buttonAmmo.interactive=!0,this.buttonAmmo.buttonMode=!0,this.buttonAmmo.texture=this.btn_2_ammo),(t||e)&&(this.buttonAll.interactive=!0,this.buttonAll.buttonMode=!0,this.buttonAll.texture=this.btn_2_all),this.fuel=t,this.ammo=e},e.prototype.updateButton=function(t,e){this.SupplyAircraftButton.updateClickable(t),this.supplyAllButton2.updateClickable(e)},e.prototype.outSideFocus=function(t,e){this.buttonFuel.texture=this.btn_2_fuel_off,this.buttonAmmo.texture=this.btn_2_ammo_off,this.buttonAll.texture=this.btn_2_all_off,t&&e?(this.buttonFuel.texture=this.btn_2_fuel_on,this.buttonAmmo.texture=this.btn_2_ammo_on,this.buttonAll.texture=this.btn_2_all_on):t?this.buttonFuel.texture=this.btn_2_fuel_on:e&&(this.buttonAmmo.texture=this.btn_2_ammo_on)},e}(PIXI.Container);e.SupplyTypeSelectButton=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e._onMouseOver=function(){e.interactive&&(e.texture=o.SUPPLY_MAIN.getTexture(17))},e._onMouseOut=function(){e.interactive&&(e.texture=o.SUPPLY_MAIN.getTexture(15))},e._onClick=function(){e.onClick()},e.texture=o.SUPPLY_MAIN.getTexture(16),e.on(r.EventType.CLICK,e._onClick),e.on(r.EventType.MOUSEOVER,e._onMouseOver),e.on(r.EventType.MOUSEOUT,e._onMouseOut),e}return n(e,t),e.prototype.dispose=function(){this.onMouseOver=this._onMouseOver=null,this.onMouseOut=this._onMouseOut=null,this.onClick=this._onClick=null},e.prototype.updateClickable=function(t){this.interactive=this.buttonMode=t,this.texture=t?o.SUPPLY_MAIN.getTexture(15):o.SUPPLY_MAIN.getTexture(16)},e}(PIXI.Sprite);e.SupplyAircraftButton=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e._onMouseOver=function(){e.interactive&&(e.texture=o.SUPPLY_MAIN.getTexture(14),e.onMouseOver())},e._onMouseOut=function(){e.interactive&&(e.texture=o.SUPPLY_MAIN.getTexture(12),e.onMouseOut())},e._onClick=function(){e.onClick()},e.texture=o.SUPPLY_MAIN.getTexture(13),e.on(r.EventType.CLICK,e._onClick),e.on(r.EventType.MOUSEOVER,e._onMouseOver),e.on(r.EventType.MOUSEOUT,e._onMouseOut),e}return n(e,t),e.prototype.dispose=function(){this.onMouseOver=this._onMouseOver=null,this.onMouseOut=this._onMouseOut=null,this.onClick=this._onClick=null},e.prototype.updateClickable=function(t){this.interactive=this.buttonMode=t,this.texture=t?o.SUPPLY_MAIN.getTexture(12):o.SUPPLY_MAIN.getTexture(13)},e}(PIXI.Sprite);e.SupplyAllButton2=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(47),s=i(14),a=i(765),_=i(767),l=i(768),u=i(72),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getPreInitializeTask=function(t){return new a.PreInitializeTask(this)},e.prototype.getInitializeTask=function(t){return new _.InitializeTask(this)},e.prototype.getFinalizeTask=function(){var t=this;return new u.FuncTask(function(){t.taskIdleMain.dispose(),t.taskIdleMain=null,s.UIImageLoader.clearMemoryCache("remodel")})},e.prototype.start=function(){var t=o.default.model.deck.get(1).getShipMemID(0);this.taskIdleMain=new l.TaskIdleMain(this),this.taskIdleMain.start(1,t)},e}(r.SceneBase);e.RemodelScene=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(766),a=i(309),_=i(211),l=i(312),u=i(311),c=i(71),h=i(130),p=function(t){function e(e){var i=t.call(this)||this;return i.phasePreInitialize=function(){o.default.sound.bgm.play(102),i._scene.start(),i._endTask()},i._scene=e,i}return n(e,t),e.prototype._start=function(){this._load()},e.prototype._load=function(){var t=this;(new s.TaskLoadResourcesRemodel).start(function(){t._uploadToGPU()})},e.prototype._uploadToGPU=function(){var t,e=this;t=c.REMODEL_MAIN.getTexture(0),o.default.settings.renderer.plugins.prepare.upload(t.baseTexture,function(){t=h.REMODEL_POWERUP.getTexture(0),o.default.settings.renderer.plugins.prepare.upload(t.baseTexture,function(){t=u.REMODEL_GRADEUP.getTexture(0),o.default.settings.renderer.plugins.prepare.upload(t.baseTexture,function(){t=l.REMODEL_ANIMATION.getTexture(0),o.default.settings.renderer.plugins.prepare.upload(t.baseTexture,function(){t=_.COMMON_SORT.getTexture(2),o.default.settings.renderer.plugins.prepare.upload(t.baseTexture,function(){t=a.COMMON_ANIMATION.getTexture(1),o.default.settings.renderer.plugins.prepare.upload(t.baseTexture,function(){e.phasePreInitialize()})})})})})})},e}(r.TaskBase);e.PreInitializeTask=p},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(14),s=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype._start=function(){this._load01()},e.prototype._load01=function(){var t=this,e=new r.UIImageLoader("remodel");e.add("6slot_huki1_c.png"),e.add("6slot_huki1_r.png"),e.add("6slot_huki1_l.png"),e.add("6slot_huki2.png"),e.load(function(){t._load02()})},e.prototype._load02=function(){var t=this,e=new r.UIImageLoader("remodel");e.add("remodel_main.json"),e.add("remodel_powerup.json"),e.add("remodel_gradeup.json"),e.add("remodel_animation.json"),e.load(function(){t._endTask()})},e}(o.TaskBase);e.TaskLoadResourcesRemodel=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=function(t){function e(e){var i=t.call(this)||this;return i.remodelScene=e,i}return n(e,t),e.prototype._start=function(){this._endTask()},e}(o.TaskBase);e.InitializeTask=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(34),r=i(28),s=i(21),a=i(10),_=i(71),l=i(219),u=i(166),c=i(220),h=i(769),p=i(770),d=i(771),f=i(88),y=i(772),m=i(773),g=i(774),v=i(775),b=i(89),w=i(51),x=i(136),I=i(786),T=i(798),O=i(816),C=i(834),P=i(840),k=i(137),S=i(6),M=i(843),A=i(844),E=i(113),j=i(111),N=i(845),L=i(8),B=function(){function t(t){var e=this;this._onClickExtension=function(){e.taskExtension=new P.TaskExtension(n.default.view.overLayer);var t=function(){e._updateShipDetail_(e.memShipId)},i=function(){e.taskExtension.dispose(),e.taskExtension=null};e.taskExtension.onUpdateShip=t,e.taskExtension.onComplete=i,e.taskExtension.start(e.memShipId)},this._onClickMarriage=function(){n.default.view.clickGuard=!1;var t=function(){switch(e._updateShipDetail_(e.memShipId),e.deckId){case null:var t=0,i=n.default.model.ship.getAllOther();r.ShipUtil.sort(i,1),i=i.reverse(),i.forEach(function(i,n){i.memID==e.memShipId&&(t=Math.floor(n/w.RemodelConst.ITEM_NUM))}),e._updateOtherShipSource_(i),e._changeOtherShipPage_(t);break;default:e._updateShipSlot_(e.deckId,e.shipInDeckOrigin)}},i=function(){e.taskMarriage.dispose(),e.taskMarriage=null};e.taskMarriage=new C.TaskMarriage(e.mainView),e.taskMarriage.onUpdateShip=t,e.taskMarriage.onComplete=i,e.taskMarriage.start(e.memShipId)},this._onClickKindaika=function(){var t=function(){var t=n.default.model.deck.getIDs(),i=n.default.model.ship.getAllOther();if(r.ShipUtil.sort(i,1),e._updateOtherShipSource_(i),e._updateDeckSelector_(t,i.length),e._updateShipDetail_(e.memShipId),i=i.reverse(),null==e.deckId){var o=-1;i.forEach(function(t,i){t.memID==e.memShipId&&(o=Math.floor(i/w.RemodelConst.ITEM_NUM))}),e.deckSelectView.focusOther(),e._changeOtherShipPage_(o)}else{e._updateShipSlot_(e.deckId,e.shipInDeckOrigin);var s=n.default.model.deck.get(e.deckId),a=s.isInDeck(e.memShipId),_=a-e.shipInDeckOrigin;e.deckCraneFrame.focus(_),e.deckCraneFrame.moveCraneImmidiate(_),e.deckSelectView.focusDeck(e.deckId)}},i=function(){e.taskKindaika.dispose(),e.taskKindaika=null};e.taskKindaika=new T.TaskKindaika(e.mainView),e.taskKindaika.onUpdateShip=t,e.taskKindaika.onComplete=i,e.taskKindaika.start(e.memShipId)},this._onClickKaizoButton=function(){var t=function(){switch(e._updateShipDetail_(e.memShipId),e.deckId){case null:var t=0,i=n.default.model.ship.getAllOther();r.ShipUtil.sort(i,1),i=i.reverse(),i.forEach(function(i,n){i.memID==e.memShipId&&(t=Math.floor(n/w.RemodelConst.ITEM_NUM))}),e._updateOtherShipSource_(i),e._changeOtherShipPage_(t);break;default:e._updateShipSlot_(e.deckId,e.shipInDeckOrigin)}};e.taskKaizo=new O.TaskKaizo(e.mainView),e.taskKaizo.start(e.memShipId,t,function(){e.taskKaizo.dispose(),e.taskKaizo=null})},this._onClickExtraSlot=function(){var t=function(){e._updateShipDetail_(e.memShipId)},i=function(){e.taskChoiceSlotItem.dispose(),e.taskChoiceSlotItem=null,k.SceneMemory.slotItemFilter=n,k.SceneMemory.slotItemPage=o,k.SceneMemory.listMode=r},n=k.SceneMemory.slotItemFilter,o=k.SceneMemory.slotItemPage,r=k.SceneMemory.listMode;k.SceneMemory.slotItemFilter=0,k.SceneMemory.slotItemPage=0,k.SceneMemory.listMode=x.SlotListMode.UNSET,e.taskChoiceSlotItem=new I.TaskChoiceSlotItem(e.mainView,e.shipDetail),e.taskChoiceSlotItem.onUpdateSlotItem=t,e.taskChoiceSlotItem.onComplete=i,e.taskChoiceSlotItem.start(e.memShipId,-1,e.shipVoice)},this._onClickDetachExtraSlot=function(){var t=e.memShipId,i=new o.APIConnector,r=new c.SlotSetExAPI(t,-1),s=new u.Ship3API(t),a=function(){n.default.view.clickGuard=!1,e._updateShipDetail_(t)};S.SE.play("106"),n.default.view.clickGuard=!0,i.add(r).add(s),i.start(a)},this._onClickDetachAll=function(){var t=e.memShipId,i=new o.APIConnector,r=new h.UnsetSlotAll(t),s=new u.Ship3API(t),a=function(){n.default.view.clickGuard=!1,e._updateShipDetail_(t)};S.SE.play("106"),n.default.view.clickGuard=!0,i.add(r).add(s),i.start(a)},this._onClickDetach=function(t){var i=e.memShipId,r=new l.SlotSetAPI(i,-1,t),s=new u.Ship3API(i),a=new o.APIConnector;S.SE.play("106");var _=function(){n.default.view.portMain.updateInfo(),n.default.view.clickGuard=!1,e._updateShipDetail_(i)};n.default.view.clickGuard=!0,a.add(r).add(s),a.start(_)},this._onMouseDownSlot=function(t,i){var o=e.memShipId,r=n.default.model.ship.get(o),s=r.getSlotitems(),a=n.default.model.deck.isInDeck(r.memID);if(a){if(n.default.model.deck.get(a[0]).expedition)return}if(!r.isRepair()&&(0!=s.length&&null!=s[t])){var _={x:e.shipDetail.x+e.slotItemSlotBox.x,y:e.shipDetail.y+e.slotItemSlotBox.y};e._slotDragging=new N.SlotItemDragging(_,i,t,e.slotItemSlotBox.slotItemSlots,s,e._onDropSlotItem,e._removeSlotDraggingLayer),n.default.view.overLayer.addChild(e._slotDragging)}},this._removeSlotDraggingLayer=function(){e._slotDragging.dispose(),n.default.view.overLayer.removeChild(e._slotDragging),e._slotDragging=null},this._onMouseOut=function(){e._slotDragging&&e._slotDragging.inDraggingEventWaiting()&&e._slotDragging.cancel()},this._onMouseUp=function(t){e._slotDragging&&e._slotDragging.inDraggingEventWaiting()&&e._slotDragging.cancel(),e._onClickShipDetailSlot(t)},this._onDropSlotItem=function(t,i,o){if(t!=i&&!(t<o.length-1&&null==o[t+1]&&i>t||i>=o.length)){var r=n.default.model.ship.get(e.memShipId);if((553===r.mstID||554===r.mstID)&&i>-1){var s=[2,3],a=o[t].equipType,_=null==o[i]?null:o[i].equipType;if(s.indexOf(a)>-1&&i>=2)return!1;if(s.indexOf(_)>-1&&t>=2)return!1}i>-1?e._changeSlotItem(t,i):e._removeSlotItem(t)}},this._changeSlotItem=function(t,i){S.SE.play("240"),e.shipVoice.play(e.memShipId);var o=new L.AreaBox(0);n.default.view.overLayer.addChild(o),new p.SlotExchangeIndexAPI(e.memShipId,t,i).start(function(){n.default.view.portMain.updateInfo(),e._updateShipDetail_(e.memShipId),n.default.view.overLayer.removeChild(o)})},this._removeSlotItem=function(t){S.SE.play("106");var i=new L.AreaBox(0);n.default.view.overLayer.addChild(i),(new o.APIConnector).add(new l.SlotSetAPI(e.memShipId,-1,t)).add(new u.Ship3API(e.memShipId)).start(function(){n.default.view.portMain.updateInfo(),e._updateShipDetail_(e.memShipId),n.default.view.overLayer.removeChild(i)})},this._onClickShipDetailSlot=function(t){var i=new I.TaskChoiceSlotItem(e.mainView,e.shipDetail);i.onComplete=function(){e.taskChoiceSlotItem.dispose(),e.taskChoiceSlotItem=null},i.onUpdateSlotItem=function(){e._updateShipDetail_(e.memShipId)},e.taskChoiceSlotItem=i,i.start(e.memShipId,t,e.shipVoice)},this._onClickShipSlot=function(t,i){e.memShipId!=i&&(e.deckCraneFrame.focus(t),e.deckCraneFrame.moveCrane(t),e._updateShip_(i))},this._onClickOtherListItem=function(t){e.memShipId!=t&&e._updateShip_(t)},this._onClickArrowTop=function(){var t=e.shipInDeckOrigin;t--;var i=n.default.model.deck.get(e.deckId),o=i.isInDeck(e.memShipId),r=o-t;if(e.shipSlots.length<=r){var s=i.getShipMemID(t+(e.shipSlots.length-1));e._updateShip_(s),r=e.shipSlots.length-1,o=e.shipSlots.length-1}e._updateShipSlot_(e.deckId,t),e.deckCraneFrame.focus(r),e.deckCraneFrame.moveCraneImmidiate(r)},this._onClickArrowBottom=function(){var t=e.shipInDeckOrigin;t++;var i=n.default.model.deck.get(e.deckId),o=i.isInDeck(e.memShipId),r=o-t;if(r<0){var s=i.getShipMemID(t);e._updateShip_(s),r=0,o=0}e._updateShipSlot_(e.deckId,t),e.deckCraneFrame.focus(r),e.deckCraneFrame.moveCraneImmidiate(r)},this._onClickDeckTab=function(t){if(e.deckId!=t){var i=n.default.model.deck.get(t);e.deckCraneFrame.deFocus(),e.deckCraneFrame.hideCraneImmidiate();var o=-1;0<i.getCount()&&(o=i.getShipMemID(0),e.deckCraneFrame.focus(0),e.deckCraneFrame.insertCrane()),e.shipInDeckOrigin=0,e._updateShipSlot_(t,e.shipInDeckOrigin),e._updateShip_(o),e._updateDeck_(t)}},this._onClickOtherTab=function(){if(null!=e.deckId){var t=e.otherShips[0].memID;e._updateShip_(t),e._updateDeck_(null),e._changeOtherShipPage_(0)}},this._onClickMiniPager=function(t){if(e.pageIndex!=t){var i=e.otherShips[t*w.RemodelConst.ITEM_NUM];e._updateShip_(i.memID),e._changeOtherShipPage_(t)}},this.shipInDeckOrigin=0,this.mainView=t,this.deckSelectView=new d.DeckSelectView,this.select_bg_crane01=new PIXI.Sprite(_.REMODEL_MAIN.getTexture(43)),this.select_bg_crane02=new PIXI.Sprite(_.REMODEL_MAIN.getTexture(44)),this.headerKansenSentaku=new f.TitleBar,this.headerKansenSentaku.initialize(s.COMMON_MAIN.getTexture(0),195),this.shipSlots=new Array;for(var i=[[0,0],[0,81],[0,162],[0,243],[0,324],[0,405]],b={x:206,y:222},B=0;B<i.length;B++){var R=new M.ShipSlot;R.position.x=i[B][0]+b.x,R.position.y=i[B][1]+b.y,this.shipSlots.push(R)}this.deckCraneFrame=new y.DeckCraneFrame,this.otherBackground=new PIXI.Sprite(s.COMMON_MAIN.getTexture(12)),this.miniPager=new m.MiniPager,this.otherShipList=new g.OtherShipList(10),this.otherShipFrame=new y.OtherShipFrame,this.arrowTopButton=new E.ArrowTopButton,this.arrowBottomButton=new E.ArrowBottomButton,n.default.model.deck.isCombined()&&(this.combinedView=new j.CombinedView,this.combinedView.position.set(0,0)),n.default.model.deck.exist3rdUnit&&(this.icon3rdUnit=new PIXI.Sprite(a.COMMON_MISC.getTexture(185))),this.shipDetail=new v.ShipDetail,this.shipDetailEmpty=new v.ShipDetailEmpty,this.kaizoButton=this.shipDetail.kaizoButton,this.kindaikaButton=this.shipDetail.kindaikaButton,this.slotItemSlotBox=this.shipDetail.slotItemSlotBox,this.extraSlotItemSlot=this.shipDetail.extraSlotItemSlot,this.shipCard=this.shipDetail.shipCard,this.detachAllButton=this.shipDetail.detachAllButton,this.shipParameter=this.shipDetail.shipParameter,this.extensionButton=this.shipDetail.extensionButton,this.marriageButton=this.shipDetail.marriageButton,this.kindaikaButton.onClick=this._onClickKindaika,this.kaizoButton.onClick=this._onClickKaizoButton,this.extraSlotItemSlot.onClick=this._onClickExtraSlot,this.extraSlotItemSlot.onClickDetach=this._onClickDetachExtraSlot,this.detachAllButton.onClick=this._onClickDetachAll,this.slotItemSlotBox.mousedown=this._onMouseDownSlot,this.slotItemSlotBox.onMouseUp=this._onMouseUp,this.slotItemSlotBox.onMouseOut=this._onMouseOut,this.slotItemSlotBox.onClickDetach=this._onClickDetach,this.extensionButton.onClick=this._onClickExtension,this.marriageButton.onClick=this._onClickMarriage,this.deckSelectView.onClickDeck=this._onClickDeckTab,this.deckSelectView.onClickOther=this._onClickOtherTab;for(var D=0;D<this.shipSlots.length;D++)this.shipSlots[D].onClick=this._onClickShipSlot;this.miniPager.onClick=this._onClickMiniPager,this.otherShipList.onClick=this._onClickOtherListItem,this.arrowTopButton.onClick=this._onClickArrowTop,this.arrowBottomButton.onClick=this._onClickArrowBottom,this.combinedView&&(this.combinedView.position.set(197,150),this.combinedView.activate()),this.icon3rdUnit&&this.icon3rdUnit.position.set(282,139),this.memShipId=null,this.deckId=null,this.pageIndex=null,this.shipVoice=new A.ShipVoice([9,10,26])}return t.prototype.dispose=function(){this.taskChoiceSlotItem&&this.taskChoiceSlotItem.dispose(),this.taskChoiceSlotItem=null,this.taskKindaika&&this.taskKindaika.dispose(),this.taskKindaika=null,this.taskKaizo&&this.taskKaizo.dispose(),this.taskKaizo=null,this.taskMarriage&&this.taskMarriage.dispose(),this.taskMarriage=null,this.taskExtension&&this.taskExtension.dispose(),this.mainView.removeChildren(),this.taskExtension=null,this.kindaikaButton.onClick=this._onClickKindaika=null,this.kaizoButton.onClick=this._onClickKaizoButton=null,this.extraSlotItemSlot.onClick=this._onClickExtraSlot=null,this.extraSlotItemSlot.onClickDetach=this._onClickDetachExtraSlot=null,this.detachAllButton.onClick=this._onClickDetachAll=null,this.slotItemSlotBox.mousedown=this._onMouseDownSlot=null,this.slotItemSlotBox.onClickDetach=this._onClickDetach=null,this.slotItemSlotBox.onMouseUp=this._onMouseUp=null,this.slotItemSlotBox.onMouseOut=this._onMouseOut=null,this.extensionButton.onClick=this._onClickExtension=null,this.marriageButton.onClick=this._onClickMarriage=null,this.deckSelectView.onClickDeck=this._onClickDeckTab=null,this.deckSelectView.onClickOther=this._onClickOtherTab=null;for(var t=0;t<this.shipSlots.length;t++)this.shipSlots[t].onClick=null,this.shipSlots[t].dispose(),this.shipSlots[t]=null;this._onClickShipSlot=null,this.miniPager.onClick=this._onClickMiniPager=null,this.otherShipList.onClick=this._onClickOtherListItem=null,this.deckSelectView&&this.deckSelectView.dispose(),this.shipDetail&&this.shipDetail.dispose(),this.shipDetailEmpty&&this.shipDetailEmpty.dispose(),this.simpleSlotItemSlot&&this.simpleSlotItemSlot.dispose(),this.headerKansenSentaku&&this.headerKansenSentaku.dispose(),this.combinedView&&this.combinedView.dispose(),this.deckCraneFrame&&this.deckCraneFrame.dispose(),this.otherShipFrame&&this.otherShipFrame.dispose(),this.miniPager&&this.miniPager.dispose(),this.otherShipList&&this.otherShipList.dispose(),this.arrowTopButton&&this.arrowTopButton.dispose(),this.arrowBottomButton&&this.arrowBottomButton.dispose(),this.mainView=null,this.headerKansenSentaku=null,this.slotItemSlotBox=null,this.kindaikaButton=null,this.kaizoButton=null,this.shipDetail=null,this.shipDetailEmpty=null,this.extraSlotItemSlot=null,this.shipCard=null,this.detachAllButton=null,this.shipParameter=null,this.extensionButton=null,this.marriageButton=null,this.simpleSlotItemSlot=null,this.deckSelectView=null,this.select_bg_crane01=null,this.select_bg_crane02=null,this.shipSlots=null,this.deckCraneFrame=null,this.otherBackground=null,this.miniPager=null,this.otherShipList=null,this.otherShipFrame=null,this.memShipId=null,this.deckId=null},t.prototype.start=function(t,e){var i=n.default.model.deck.getIDs(),o=n.default.model.ship.getAllOther();r.ShipUtil.sort(o,1),o=o.reverse(),this._updateOtherShipSource_(o),this._updateDeckSelector_(i,o.length),this._updateShipSlot_(t,this.shipInDeckOrigin),this._updateShip_(e),this._updateDeck_(t),this.deckCraneFrame.focus(0),this.deckCraneFrame.insertCrane()},t.prototype._updateDeck_=function(t){switch(t){case null:this.deckSelectView.focusOther(),this._changeOtherLayout_();break;default:this.deckSelectView.focusDeck(t),this._changeDeckLayout_()}this.deckId=t},t.prototype._updateShip_=function(t){this._updateEmptyShipDetail_(),-1!=t&&this._updateShipDetail_(t),k.SceneMemory.slotItemPage=0,k.SceneMemory.slotItemFilter=0,k.SceneMemory.listMode=x.SlotListMode.UNSET,this.memShipId=t},t.prototype._changeOtherShipPage_=function(t){this.miniPager.focus(t);var e=this.otherShips.slice(10*t,10*t+10);this.otherShipList.update(e),this.pageIndex=t},t.prototype._updateOtherShipSource_=function(t){var e=b.RemodelUtil.calcPageCount(t.length);this.miniPager.init(e),this.otherShips=t},t.prototype._updateEmptyShipDetail_=function(){this.shipDetail.visible=!1,this.shipDetailEmpty.visible=!0},t.prototype._updateShipDetail_=function(t){this.shipDetailEmpty.visible=!1,this.shipDetail.visible=!0;var e=n.default.model.ship.get(t),i=n.default.model.ship.getMst(e.mstID),o=r.ShipUtil.isMaxGradeUp(e,i,!1),s=r.ShipUtil.isMaxGradeUp(e,i,!0),a=!1,_=n.default.model.deck.isInDeck(e.memID);if(_){var l=_[0];a=null!=n.default.model.deck.get(l).expedition}var u=n.default.model.useItem.get(w.RemodelConst.REINFORCEMENT_WORK_ITEMID).count,c=e.isRepair(),h=0==a&&0==c,p=e.getSlotitems(),d=e.isExtraSlot(),f=e.getSlotitemEx(),y=e.level,m=h&&0==a&&0==c&&0==s;this.kindaikaButton.update(m);var g=h&&b.RemodelUtil.canKaizo(e.mstID,e.level);this.kaizoButton.update(g),this.shipDetail.update(e.name,y,e.hpNow,e.hpMax,e.starNum,o),this.shipCard.update(e,a),this.shipParameter.update(e.hpMax,e.soukou,e.kaihi,e.tousai,e.speed,e.range,e.karyoku,e.raisou,e.taiku,e.taisen,e.sakuteki,e.lucky),this._updateExtraSlot_(d,f),this._updateExtensionButton_(e,u),this._updateMarriageButton_(y,a,c);var v=p.length,x=0<v,I=0!=p.indexOf(null),T=x&&0==c&&0==a,O=T&&0==c&&I;this._updateSlotItem_(e,p,O,T),this._updateDetachAllButton_(v,O)},t.prototype._changeDeckLayout_=function(){this.mainView.removeChildren(),this.deckSelectView.position.set(204,159),this.select_bg_crane01.position.set(478,132),this.shipDetail.position.set(468,141),this.shipDetailEmpty.position.set(468,141),this.headerKansenSentaku.position.set(0,102),this.deckCraneFrame.position.set(174,143),this.mainView.addChild(this.headerKansenSentaku,this.deckSelectView),this.icon3rdUnit&&this.mainView.addChild(this.icon3rdUnit),this.combinedView&&this.mainView.addChild(this.combinedView);for(var t=0;t<this.shipSlots.length;t++)this.mainView.addChild(this.shipSlots[t]);this.arrowTopButton.position.set(248,188),this.arrowBottomButton.position.set(248,653),this.mainView.addChild(this.deckCraneFrame,this.shipDetailEmpty,this.shipDetail),this.mainView.addChild(this.arrowTopButton,this.arrowBottomButton)},t.prototype._changeOtherLayout_=function(){this.mainView.removeChildren(),this.otherBackground.position.set(147,134),this.miniPager.position.set(173,672),this.otherShipList.position.set(180,198),this.otherShipFrame.position.set(174,143),this.mainView.addChild(this.otherBackground,this.headerKansenSentaku,this.deckSelectView),this.icon3rdUnit&&this.mainView.addChild(this.icon3rdUnit),this.combinedView&&this.mainView.addChild(this.combinedView),this.mainView.addChild(this.miniPager,this.otherShipList,this.otherShipFrame,this.shipDetail)},t.prototype._updateShipSlot_=function(t,e){var i=n.default.model.deck.get(t),o=null!=i.expedition;i.getCount();i.getCount()<=this.shipSlots.length&&(e=0);for(var r=0;r<this.shipSlots.length;r++){var s=e+r,a=null;a=i.getShipModel(s),this.deckCraneFrame.hideEmblem(r),this.shipSlots[r].empty(),a&&(this.shipSlots[r].update(r,a,o),this.deckCraneFrame.updateEmblems(r,s))}this.arrowBottomButton.visible=!1,e+1+this.shipSlots.length<=n.default.model.deck.get(t).getCount()&&(this.arrowBottomButton.visible=!0),this.arrowTopButton.visible=!1,0<=e-1&&(this.arrowTopButton.visible=!0),this.shipInDeckOrigin=e},t.prototype._updateDeckSelector_=function(t,e){this.deckSelectView.update(t,e)},t.prototype._updateSlotItem_=function(t,e,i,n){this.slotItemSlotBox.clean();for(var o=0;o<e.length;o++){var r=e[o],s=t.getSlotitemTousai(o);this.slotItemSlotBox.update(o,r,s,i,n)}this.slotItemSlotBox.hide(t.getSlotViewMax())},t.prototype._updateDetachAllButton_=function(t,e){this.detachAllButton.visible=!1,e&&(this.detachAllButton.update(t),this.detachAllButton.visible=!0)},t.prototype._updateExtraSlot_=function(t,e){this.extraSlotItemSlot.visible=!1,t&&(this.extraSlotItemSlot.clear(),e&&this.extraSlotItemSlot.update(e),this.extraSlotItemSlot.visible=!0)},t.prototype._updateExtensionButton_=function(t,e){var i=b.RemodelUtil.testExtensionableExtraslot(t,e);this.extensionButton.visible=!1,i&&(this.extensionButton.visible=!0)},t.prototype._updateMarriageButton_=function(t,e,i){this.marriageButton.visible=!1,this.marriageButton.interactiveChildren=this.marriageButton.buttonMode=!1,99==t&&(this.marriageButton.visible=!0,0==e&&0==i&&(this.marriageButton.interactiveChildren=this.marriageButton.buttonMode=!0))},t}();e.TaskIdleMain=B},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=function(t){function e(e){var i=t.call(this)||this;return i._url="api_req_kaisou/unsetslot_all",i.api_id=e,i}return n(e,t),e.prototype._connect=function(){this._post_data.api_id=this.api_id,t.prototype._connect.call(this)},e}(o.APIBase);e.UnsetSlotAll=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=i(0),s=i(7),a=function(t){function e(e,i,n){var o=t.call(this)||this;return o._url="api_req_kaisou/slot_exchange_index",o.api_id=e,o.api_src_idx=i,o.api_dst_idx=n,o}return n(e,t),e.prototype._connect=function(){this._post_data.api_id=this.api_id,this._post_data.api_src_idx=this.api_src_idx,this._post_data.api_dst_idx=this.api_dst_idx,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e=this._raw_data.api_ship_data;r.default.model.ship.updateData(e),this._set_bauxite(),t.prototype._completedEnd.call(this)},e.prototype._set_bauxite=function(){if(this._raw_data&&this._raw_data.hasOwnProperty("api_bauxite")){var t=s.ObjUtil.getNumber(this._raw_data,"api_bauxite");r.default.model.useItem.get(34).__setCount__(t)}},e}(o.APIBase);e.SlotExchangeIndexAPI=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e._onClick=function(){e.onClick()},e.textureFocus=o.COMMON_MISC.getTexture(85),e.textureDeFocus=o.COMMON_MISC.getTexture(84),e.textureLocked=PIXI.Texture.EMPTY,e.interactive=e.buttonMode=!1,e.on(r.EventType.CLICK,e._onClick),e}return n(e,t),e.prototype.dispose=function(){this.onClick=null,this.textureFocus=null,this.textureDeFocus=null,this.textureLocked=null,this.off(r.EventType.CLICK)},e.prototype.focus=function(){this.interactive=this.buttonMode=!1,this.texture=this.textureFocus},e.prototype.deFocus=function(){this.interactive=this.buttonMode=!0,this.texture=this.textureDeFocus},e.prototype.locked=function(){this.interactive=this.buttonMode=!1,this.texture=this.textureLocked},e}(PIXI.Sprite),a=function(t){function e(e,i,n,s){var a=t.call(this)||this;return a._onClick=function(){a.onClick(a.deckId)},a.deckId=e,a.textureFocus=o.COMMON_MISC.getTexture(i),a.textureDeFocus=o.COMMON_MISC.getTexture(n),a.textureLocked=o.COMMON_MISC.getTexture(s),a.interactive=a.buttonMode=!1,a.on(r.EventType.CLICK,a._onClick),a}return n(e,t),e.prototype.dispose=function(){this.onClick=null,this.deckId=null,this.textureFocus=null,this.textureDeFocus=null,this.textureLocked=null,this.off(r.EventType.CLICK)},e.prototype.focus=function(){this.interactive=this.buttonMode=!1,this.texture=this.textureFocus},e.prototype.deFocus=function(){this.interactive=this.buttonMode=!0,this.texture=this.textureDeFocus},e.prototype.locked=function(){this.interactive=this.buttonMode=!1,this.texture=this.textureLocked},e}(PIXI.Sprite),_=function(t){function e(){var e=t.call(this)||this;return e._onClickDeck_1=function(){e._onClickDeck(1)},e._onClickDeck_2=function(){e._onClickDeck(2)},e._onClickDeck_3=function(){e._onClickDeck(3)},e._onClickDeck_4=function(){e._onClickDeck(4)},e._onClickOther=function(){e.onClickOther()},e.deck1=new a(1,74,73,72),e.deck2=new a(2,77,76,75),e.deck3=new a(3,80,79,78),e.deck4=new a(4,83,82,81),e.other=new s,e.deck1.position.set(0,0),e.deck2.position.set(45,0),e.deck3.position.set(90,0),e.deck4.position.set(135,0),e.other.position.set(180,0),e.deck1.onClick=e._onClickDeck_1,e.deck2.onClick=e._onClickDeck_2,e.deck3.onClick=e._onClickDeck_3,e.deck4.onClick=e._onClickDeck_4,e.other.onClick=e._onClickOther,e.addChild(e.deck1,e.deck2,e.deck3,e.deck4,e.other),e}return n(e,t),e.prototype.focusDeck=function(t){switch(this._reset(this.deckIds,this.otherShipCount),t){case 1:this.deck1.focus();break;case 2:this.deck2.focus();break;case 3:this.deck3.focus();break;case 4:this.deck4.focus()}},e.prototype.focusOther=function(){this._reset(this.deckIds,this.otherShipCount),this.other.focus()},e.prototype.dispose=function(){this.deck1.dispose(),this.deck2.dispose(),this.deck3.dispose(),this.deck4.dispose(),this.other.dispose(),this.deck1=null,this.deck2=null,this.deck3=null,this.deck4=null,this.other=null,this.deckIds=null,this.otherShipCount=null,this.removeChildren()},e.prototype._onClickDeck=function(t){this.onClickDeck(t)},e.prototype.update=function(t,e){this._reset(t,e),this.deckIds=t,this.otherShipCount=e},e.prototype._reset=function(t,e){this.deck1.locked(),this.deck2.locked(),this.deck3.locked(),this.deck4.locked(),this.other.locked(),-1!=t.indexOf(1)&&this.deck1.deFocus(),-1!=t.indexOf(2)&&this.deck2.deFocus(),-1!=t.indexOf(3)&&this.deck3.deFocus(),-1!=t.indexOf(4)&&this.deck4.deFocus(),0<e&&this.other.deFocus()},e}(PIXI.Container);e.DeckSelectView=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(214),s=function(t){function e(){var e=t.call(this)||this;return e.select_bg_crane01=new PIXI.Sprite(o.REMODEL_MAIN.getTexture(43)),e.select_bg_crane02=new PIXI.Sprite(o.REMODEL_MAIN.getTexture(44)),e.select_bg_crane01.position.set(275,-3),e.select_bg_crane02.position.set(0,0),e.addChild(e.select_bg_crane01,e.select_bg_crane02),e}return n(e,t),e.prototype.dispose=function(){this.select_bg_crane01=null,this.select_bg_crane02=null,this.removeChildren()},e}(PIXI.Container);e.OtherShipFrame=s;var a=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite(o.REMODEL_MAIN.getTexture(43)),n=new PIXI.Sprite(o.REMODEL_MAIN.getTexture(44));e.crane=new PIXI.Sprite(o.REMODEL_MAIN.getTexture(46)),e.focus_card=new PIXI.Sprite(o.REMODEL_MAIN.getTexture(21)),i.position.set(275,-3),n.position.set(0,0);var s=[62,143,224,305,386,467];e.addChild(e.focus_card,e.crane);for(var a=0;a<s.length;a++){var _=new PIXI.Sprite(o.REMODEL_MAIN.getTexture(45));_.position.set(9,s[a]),e.addChild(_)}e.addChild(i,n),e.indexEmblems=new Array;for(var l=0;l<s.length;l++){var u=new r.DeckIndexEmblem;u.position.set(-15,s[l]+30),e.indexEmblems.push(u),e.addChild(u)}return e}return n(e,t),e.prototype.dispose=function(){createjs.Tween.removeTweens(this.crane);for(var t=0;t<this.indexEmblems.length;t++)this.indexEmblems[t].dispose(),this.indexEmblems[t]=null;this.indexEmblems=null,this.focus_card=null,this.crane=null,this.removeChildren()},e.prototype.focus=function(t){var e=this.getFocusPoint(t);this.focus_card.position.set(e[0],e[1]),this.focus_card.visible=!0},e.prototype.updateEmblems=function(t,e){var i=this.indexEmblems[t];i.visible=!0,i.update(e)},e.prototype.hideEmblem=function(t){this.indexEmblems[t].visible=!1},e.prototype.moveCrane=function(t){createjs.Tween.removeTweens(this.crane);var e=this.getFocusPoint(t);createjs.Tween.get(this.crane).to({x:278},300,createjs.Ease.cubicIn).to({y:e[1]-8}).to({x:e[0]+23},500,createjs.Ease.cubicOut).play(null)},e.prototype.insertCrane=function(){createjs.Tween.removeTweens(this.crane);var t=this.getFocusPoint(0);this.crane.x=278,this.crane.y=t[1]-8,createjs.Tween.get(this.crane).to({x:t[0]+23},500,createjs.Ease.cubicOut).play(null)},e.prototype.hideCraneImmidiate=function(){createjs.Tween.removeTweens(this.crane),this.crane.x=278},e.prototype.moveCraneImmidiate=function(t){var e=this.getFocusPoint(t);createjs.Tween.removeTweens(this.crane),this.crane.x=e[0]+23,this.crane.y=e[1]-8},e.prototype.deFocus=function(){this.focus_card.visible=!1},e.prototype.getFocusPoint=function(t){switch(t){case 0:return[27,76];case 1:return[27,157];case 2:return[27,238];case 3:return[27,319];case 4:return[27,400];case 5:return[27,481]}return[0,0]},e}(PIXI.Container);e.DeckCraneFrame=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(4),s=i(1),a=function(t){function e(){var e=t.call(this)||this;e.HIT_AREA_SIZE=30,e.COLOR_ON=1949120,e.COLOR_OFF=5523516,e.COLOR_NO=16774898,e.BASE=68,e.NUMBEROFFSET=10,e.PADDING=60,e._onClickPrev3=function(){var t=e.focusIndex-3;t<0&&(t=0),e.notifyChangeIndex(t)},e._onClickNext3=function(){var t=e.focusIndex+3;if(e.pageCount<=3)switch(e.pageCount){case 0:case 1:t=0;break;case 2:t=1;break;case 3:t=2}else e.pageCount-1<t&&(t=e.pageCount-1,e.pageCount<=2&&e.pageCount++);e.notifyChangeIndex(t)},e._onClickChange0=function(){var t=0;t=e.focusIndex<2||2==e.pageCount?0:e.pageCount-3<e.focusIndex?e.pageCount-3:e.focusIndex-1,e.notifyChangeIndex(t)},e._onClickChange1=function(){var t=0;t=e.focusIndex<2||e.pageCount<=2?1:e.pageCount-3<e.focusIndex?e.pageCount-2:e.focusIndex,e.notifyChangeIndex(t)},e._onClickChange2=function(){var t=0;t=e.focusIndex<2||2==e.pageCount?2:e.pageCount-3<e.focusIndex?e.pageCount-1:e.focusIndex+1,e.notifyChangeIndex(t)},e.focusIndex=0;return e.textChange_0=new r.TextBox(24,e.COLOR_NO),e.textChange_1=new r.TextBox(24,e.COLOR_NO),e.textChange_2=new r.TextBox(24,e.COLOR_NO),e.buttonPrev_3=new PIXI.Sprite(o.COMMON_MAIN.getTexture(8)),e.buttonChange_0=new PIXI.Graphics,e.buttonChange_1=new PIXI.Graphics,e.buttonChange_2=new PIXI.Graphics,e.buttonNext_3=new PIXI.Sprite(o.COMMON_MAIN.getTexture(7)),e.buttonChange_0.beginFill(0,0),e.buttonChange_0.drawRect(0,0,e.HIT_AREA_SIZE,e.HIT_AREA_SIZE),e.buttonChange_0.endFill(),e.buttonChange_0.renderable=!1,e.buttonChange_1.beginFill(0,0),e.buttonChange_1.drawRect(0,0,e.HIT_AREA_SIZE,e.HIT_AREA_SIZE),e.buttonChange_1.endFill(),e.buttonChange_1.renderable=!1,e.buttonChange_2.beginFill(0,0),e.buttonChange_2.drawRect(0,0,e.HIT_AREA_SIZE,e.HIT_AREA_SIZE),e.buttonChange_2.endFill(),e.buttonChange_2.renderable=!1,e.buttonPrev_3.position.set(20,0),e.buttonChange_0.position.x=e.BASE,e.buttonChange_1.position.x=e.BASE+e.PADDING,e.buttonChange_2.position.x=e.BASE+2*e.PADDING,e.buttonChange_0.position.y=-Math.floor(e.buttonChange_0.height/2),e.buttonChange_1.position.y=-Math.floor(e.buttonChange_1.height/2),e.buttonChange_2.position.y=-Math.floor(e.buttonChange_2.height/2),e.buttonNext_3.position.set(233.7,0),e.buttonPrev_3.anchor.set(0,.5),e.buttonNext_3.anchor.set(0,.5),e.textChange_0.anchor.set(0,0),e.textChange_1.anchor.set(0,0),e.textChange_2.anchor.set(0,0),e.buttonChange_0.interactive=e.buttonPrev_3.interactive=e.buttonNext_3.interactive=e.buttonChange_1.interactive=e.buttonChange_2.interactive=!0,e.addChild(e.buttonPrev_3,e.buttonChange_0,e.buttonChange_1,e.buttonChange_2,e.buttonNext_3,e.textChange_0,e.textChange_1,e.textChange_2),e}return n(e,t),e.prototype.dispose=function(){this.buttonPrev_3.off(s.EventType.CLICK),this.buttonNext_3.off(s.EventType.CLICK),this.buttonChange_0.off(s.EventType.CLICK),this.buttonChange_1.off(s.EventType.CLICK),this.buttonChange_2.off(s.EventType.CLICK),this.textChange_0.destroy(),this.textChange_1.destroy(),this.textChange_2.destroy(),this.buttonPrev_3=null,this.buttonChange_0=null,this.buttonChange_1=null,this.buttonChange_2=null,this.buttonNext_3=null,this.textChange_0=null,this.textChange_1=null,this.textChange_2=null,this.focusIndex=null,this.pageCount=null,this.onClick=null,this.removeChildren()},e.prototype.init=function(t){switch(this.buttonPrev_3.off(s.EventType.CLICK),this.buttonNext_3.off(s.EventType.CLICK),this.buttonChange_0.off(s.EventType.CLICK),this.buttonChange_1.off(s.EventType.CLICK),this.buttonChange_2.off(s.EventType.CLICK),t){case 0:case 1:break;case 2:this.buttonPrev_3.on(s.EventType.CLICK,this._onClickPrev3),this.buttonChange_0.on(s.EventType.CLICK,this._onClickChange0),this.buttonChange_1.on(s.EventType.CLICK,this._onClickChange1),this.buttonNext_3.on(s.EventType.CLICK,this._onClickNext3);break;default:this.buttonPrev_3.on(s.EventType.CLICK,this._onClickPrev3),this.buttonNext_3.on(s.EventType.CLICK,this._onClickNext3),this.buttonChange_0.on(s.EventType.CLICK,this._onClickChange0),this.buttonChange_1.on(s.EventType.CLICK,this._onClickChange1),this.buttonChange_2.on(s.EventType.CLICK,this._onClickChange2)}this.pageCount=t},e.prototype.focus=function(t){if(this.focusIndex=t,this.textChange_0.style.fill=this.COLOR_NO,this.textChange_1.style.fill=this.COLOR_NO,this.textChange_2.style.fill=this.COLOR_NO,this.textChange_0.style.fontSize=24,this.textChange_1.style.fontSize=24,this.textChange_2.style.fontSize=24,t<2||this.pageCount<=2){switch(this.textChange_0.text="1",this.textChange_1.text="2",this.textChange_2.text="3",this.pageCount){case 0:case 1:this.textChange_0.style.fill=this.COLOR_NO,this.textChange_1.style.fill=this.COLOR_NO,this.textChange_2.style.fill=this.COLOR_NO;break;case 2:this.textChange_0.style.fill=this.COLOR_OFF,this.textChange_1.style.fill=this.COLOR_OFF,this.textChange_2.style.fill=this.COLOR_NO;break;default:this.textChange_0.style.fill=this.COLOR_OFF,this.textChange_1.style.fill=this.COLOR_OFF,this.textChange_2.style.fill=this.COLOR_OFF}switch(t){case 0:this.textChange_0.style.fill=this.COLOR_ON,this.textChange_0.style.fontSize=30;break;case 1:this.textChange_1.style.fill=this.COLOR_ON,this.textChange_1.style.fontSize=30;break;case 2:this.textChange_2.style.fill=this.COLOR_ON,this.textChange_2.style.fontSize=30}}else if(this.pageCount-3<t)switch(this.textChange_0.text=""+(this.pageCount-3+1),this.textChange_1.text=""+(this.pageCount-2+1),this.textChange_2.text=""+(this.pageCount-1+1),this.textChange_0.style.fill=this.COLOR_OFF,this.textChange_1.style.fill=this.COLOR_OFF,this.textChange_2.style.fill=this.COLOR_OFF,this.focusIndex){case this.pageCount-3:this.textChange_0.style.fill=this.COLOR_ON,this.textChange_0.style.fontSize=30;break;case this.pageCount-2:this.textChange_1.style.fill=this.COLOR_ON,this.textChange_1.style.fontSize=30;break;case this.pageCount-1:this.textChange_2.style.fill=this.COLOR_ON,this.textChange_2.style.fontSize=30}else this.textChange_0.text=""+(this.focusIndex-1+1),this.textChange_1.text=""+(this.focusIndex+1),this.textChange_2.text=""+(this.focusIndex+1+1),this.textChange_0.style.fill=this.COLOR_OFF,this.textChange_1.style.fill=this.COLOR_ON,this.textChange_2.style.fill=this.COLOR_OFF,this.textChange_1.style.fontSize=37;this.textChange_0.position.set(this.BASE-Math.floor(this.textChange_0.width/2)+this.NUMBEROFFSET+0*this.PADDING,-Math.floor(this.textChange_0.height/2)),this.textChange_1.position.set(this.BASE-Math.floor(this.textChange_1.width/2)+this.NUMBEROFFSET+1*this.PADDING,-Math.floor(this.textChange_1.height/2)),this.textChange_2.position.set(this.BASE-Math.floor(this.textChange_2.width/2)+this.NUMBEROFFSET+2*this.PADDING,-Math.floor(this.textChange_2.height/2))},e.prototype.notifyChangeIndex=function(t){this.onClick(t)},e}(PIXI.Container);e.MiniPager=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(0),s=i(4),a=i(28),_=i(3),l=i(15),u=i(1),c=function(t){function e(e){var i=t.call(this)||this;i._onClickListItem=function(t,e){i.onClick(e)};var n=o.COMMON_MAIN.getTexture(37);i.otherShipListItems=new Array;for(var r=0;r<e;r++){var s=new h(r);s.y=45*r,s.onClick=i._onClickListItem,i.otherShipListItems.push(s);var a=new PIXI.Sprite(n);a.y=45*r+42,i.addChild(a,s)}return i.itemCount=e,i}return n(e,t),e.prototype.dispose=function(){this.removeChildren();for(var t=0;t<this.otherShipListItems.length;t++)this.otherShipListItems[t].dispose(),this.otherShipListItems[t]=null;this.otherShipListItems=null,this.onClick=null},e.prototype.update=function(t){for(var e=0;e<this.itemCount;e++){var i=this.otherShipListItems[e];if(i.visible=!1,e<t.length){var n=t[e];i.update(n),i.visible=!0}}},e}(PIXI.Container);e.OtherShipList=c;var h=function(t){function e(e){var i=t.call(this)||this;i._onClick=function(){i.onClick(i.index,i.memId)},i._onMouseOver=function(){i.textContainer.cacheAsBitmap=!1,i.focus.visible=!0,i.textName.style.fill=i.textLevel.style.fill=i.textType.style.fill=16777215,i.textContainer.cacheAsBitmap=!0},i._onMouseOut=function(){i.textContainer.cacheAsBitmap=!1,i.focus.visible=!1,i.textName.style.fill=i.textLevel.style.fill=i.textType.style.fill=5523516,i.textContainer.cacheAsBitmap=!0},i.index=e;var n=Math.floor(22.5)+1;i.clickArea=new PIXI.Graphics,i.clickArea.beginFill(0,0),i.clickArea.drawRect(0,0,268,44),i.clickArea.endFill(),i.textContainer=new PIXI.Container,i.textType=new s.TextBox(18,5523516),i.textName=new s.TextBox(20,5523516),i.textLevel=new s.TextBox(19,5523516),i.focus=new PIXI.Sprite(o.COMMON_MAIN.getTexture(17)),i.focus.width=i.clickArea.width,i.focus.height=i.clickArea.height;var r=l.CreateRect.gradientLeftToRight(210,45,.88,.95);return i.icon_max=new PIXI.Sprite(_.REMODEL_POWERUP.getTexture(27)),i.textContainer.mask=r,i.textType.anchor.set(0,0),i.textType.position.set(6,Math.floor(n-i.textType.height/2)),i.textName.anchor.set(0,0),i.textName.position.y=Math.floor(n-i.textName.height/2)+0,i.textLevel.anchor.set(1,0),i.textLevel.position.set(263,Math.floor(n-i.textLevel.height/2)),i.icon_max.position.set(213,3),i.focus.visible=!1,i.icon_max.visible=!1,i.textContainer.addChild(i.textType,i.textName,r),i.clickArea.on(u.EventType.MOUSEOVER,i._onMouseOver),i.clickArea.on(u.EventType.MOUSEOUT,i._onMouseOut),i.clickArea.on(u.EventType.CLICK,i._onClick),i.clickArea.interactive=i.clickArea.buttonMode=!0,i.addChild(i.clickArea,i.focus,i.textContainer,i.textLevel,i.icon_max),i}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.clickArea.off(u.EventType.MOUSEOVER),this.clickArea.off(u.EventType.MOUSEOUT),this.clickArea.off(u.EventType.CLICK),this.textContainer.cacheAsBitmap=!1,this.textContainer.removeChildren(),this.textName.destroy(),this.textType.destroy(),this.textLevel.destroy(),this.onClick=null,this.clickArea=null,this.focus=null,this.textContainer=null,this.textName=null,this.textType=null,this.textLevel=null,this.index=null,this.memId=null,this.icon_max=null},e.prototype.update=function(t){this.textContainer.cacheAsBitmap=!1,this.memId=t.memID,this.textName.text=t.name,this.textType.text=t.shipTypeName+" ",this.textName.position.x=this.textType.x+this.textType.width,this.icon_max.visible=!1,this.textLevel.visible=!1,a.ShipUtil.isMaxGradeUp(t,r.default.model.ship.getMst(t.mstID),!1)?this.icon_max.visible=!0:(this.textLevel.text="Lv"+t.level,this.textLevel.visible=!0),this.textContainer.cacheAsBitmap=!0},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=i(3),s=i(3),a=i(4),_=i(83),l=i(112),u=i(315),c=i(776),h=i(777),p=i(779),d=i(780),f=i(781),y=i(782),m=i(783),g=i(784),v=i(88),b=i(15),w=function(t){function e(){var e=t.call(this)||this;return e.headerKansenStatus=new v.TitleBar,e.headerKansenStatus.initialize(s.COMMON_MAIN.getTexture(1),35),e.background=new PIXI.Sprite(s.COMMON_MAIN.getTexture(12)),e.textLevel=new a.TextBox(28,5523516),e.textHp=new a.TextBox(15,5523516),e.starRateView=new _.StarRateView,e.hpGaugeView=new l.HpGaugeView,e.textImageLv=new PIXI.Sprite(o.COMMON_MISC.getTexture(184)),e.remodelMaxMedal=new PIXI.Sprite(s.COMMON_MAIN.getTexture(28)),e._shipCard=new u.ShipCard(!1,!1),e._shipParameter=new c.ShipParameter,e._slotItemSlotBox=new h.SlotItemSlotBox,e._kaizoButton=new p.KaizoButton,e._kindaikaButton=new d.KindaikaButton,e._extraSlotItemSlot=new f.ExtraSlotItemSlot,e._detachAllButton=new y.DetachAllButton,e._extensionButton=new m.ExtensionButton,e._marriageButton=new g.MarriageButton,e.containerName=new PIXI.Container,e.containerName.position.set(42,20),e.textName=new a.TextBox(27,5523516),e.maskTextName=b.CreateRect.gradientLeftToRight(210,45,.88,.91),e.containerName.mask=e.maskTextName,e.containerName.addChild(e.textName,e.maskTextName),e.headerKansenStatus.position.set(0,-39),e._detachAllButton.position.set(6,101),e._slotItemSlotBox.position.set(57,101),e._kaizoButton.position.set(546,483),e._kindaikaButton.position.set(372,483),e._extraSlotItemSlot.position.set(636,311),e.textImageLv.position.set(238,30),e.hpGaugeView.position.set(44,72),e.textHp.position.set(152,68),e.starRateView.position.set(228,72),e.remodelMaxMedal.position.set(323,20),e._shipCard.position.set(369,26),e._extensionButton.position.set(369,301),e._shipParameter.position.set(51,351),e._marriageButton.position.set(212,6),e.addChild(e.background,e._shipCard,e.hpGaugeView,e.textHp,e.starRateView,e._shipParameter,e._slotItemSlotBox,e._kaizoButton,e._kindaikaButton,e._detachAllButton,e._extraSlotItemSlot,e._extensionButton,e.remodelMaxMedal,e._marriageButton,e.textImageLv,e.textLevel,e.headerKansenStatus,e.containerName),e}return n(e,t),Object.defineProperty(e.prototype,"slotItemSlotBox",{get:function(){return this._slotItemSlotBox},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kaizoButton",{get:function(){return this._kaizoButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kindaikaButton",{get:function(){return this._kindaikaButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shipCard",{get:function(){return this._shipCard},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extraSlotItemSlot",{get:function(){return this._extraSlotItemSlot},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"detachAllButton",{get:function(){return this._detachAllButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shipParameter",{get:function(){return this._shipParameter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extensionButton",{get:function(){return this._extensionButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marriageButton",{get:function(){return this._marriageButton},enumerable:!0,configurable:!0}),e.prototype.update=function(t,e,i,n,o,r){this.containerName.cacheAsBitmap=!1,this.textName.text=t,this.containerName.cacheAsBitmap=!0,this.textHp.text=i+"/"+n,this.hpGaugeView.update(i,n),this.starRateView.update(o),this._updateRemodelMax_(r),this._updateLevel_(e)},e.prototype._updateRemodelMax_=function(t){this.remodelMaxMedal.visible=!1,t&&(this.remodelMaxMedal.visible=!0)},e.prototype._updateLevel_=function(t){this.textLevel.position.set(324,24),this.textLevel.anchor.x=1,this.textLevel.text=""+t,99==t&&(this.textLevel.anchor.x=0,this.textLevel.position.x=this.textImageLv.x+9+this.textImageLv.width)},e.prototype.dispose=function(){this.removeChildren(),this._shipCard.dispose(),this.textName.mask=null,this.starRateView.dispose(),this.hpGaugeView.dispose(),this._shipParameter.dispose(),this._slotItemSlotBox.dispose(),this._kaizoButton.dispose(),this._kindaikaButton.dispose(),this._extraSlotItemSlot.dispose(),this._detachAllButton.dispose(),this._extensionButton.dispose(),this._marriageButton.dispose(),this.headerKansenStatus.dispose(),this.containerName.cacheAsBitmap=!1,this.containerName.removeChildren(),this.textLevel.destroy(),this.textHp.destroy(),this.textName.destroy(),this.headerKansenStatus=null,this.background=null,this._shipCard=null,this.textName=null,this.maskTextName=null,this.textLevel=null,this.remodelMaxMedal=null,this.starRateView=null,this.textHp=null,this.hpGaugeView=null,this.textImageLv=null,this._shipParameter=null,this._slotItemSlotBox=null,this._kaizoButton=null,this._kindaikaButton=null,this._extraSlotItemSlot=null,this._detachAllButton=null,this._extensionButton=null,this._marriageButton=null},e}(PIXI.Container);e.ShipDetail=w;var x=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite(s.COMMON_MAIN.getTexture(12)),n=new PIXI.Sprite(r.REMODEL_MAIN.getTexture(53));return n.position.set(210,258),e.addChild(i,n),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren()},e}(PIXI.Container);e.ShipDetailEmpty=x},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(212),r=i(21),s=function(t){function e(){var e=r.COMMON_MAIN.getTexture(15);return t.call(this,e)||this}return n(e,t),e.prototype.update=function(t,e,i,n,o,r,s,a,_,l,u,c){this._update_(t,e,i,n,o,r,s,a,_,l,u,c),this._sokuryoku.position.set(113-Math.floor(this._sokuryoku.width/2),143),this._shatei.position.set(113-Math.floor(this._shatei.width/2),177)},e.prototype._update_=function(t,e,i,n,o,r,s,a,_,l,u,c){this._textHp.text=""+t,this._textSoukou.text=""+e,this._textKaihi.text=""+i,this._textTousai.text=""+n,this._textKaryoku.text=""+s,this._textRaisou.text=""+a,this._textTaiku.text=""+_,this._textTaisen.text=""+l,this._textSakuteki.text=""+u,this._textLucky.text=""+c,this._sokuryoku.update(o),this._shatei.update(r)},e.prototype._alignment=function(){this._textHp.position.set(140,3),this._textSoukou.position.set(140,38),this._textKaihi.position.set(140,72),this._textTousai.position.set(140,105),this._sokuryoku.position.set(113,140),this._shatei.position.set(114,173),this._textKaryoku.position.set(290,3),this._textRaisou.position.set(290,38),this._textTaiku.position.set(290,72),this._textTaisen.position.set(290,106),this._textSakuteki.position.set(290,140),this._textLucky.position.set(290,174)},e}(o.ShipParameterViewBase);e.ShipParameter=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(778),s=i(51),a=function(t){function e(){var e=t.call(this)||this;e._mousedown=function(t,i){e.mousedown(t,i)},e._onClickDetach=function(t){e.onClickDetach(t)},e._onMouseUp=function(t){e.onMouseUp(t)},e._onMouseOut=function(){e.onMouseOut()};e._slotItemSlots=new Array,e._clearSlotItemSlots=new Array;for(var i=o.COMMON_MAIN.getTexture(46),n=0;n<5;n++){var a=new r.SlotItemSlot(n);a.mousedown=e._mousedown,a.onClickDetach=e._onClickDetach,a.onMouseUp=e._onMouseUp,a.onMouseOut=e._onMouseOut;var _=new PIXI.Sprite(i);_.y=a.y=s.RemodelConst.DETAIL_LISTITEM.HEIGHT*n+6,e._slotItemSlots.push(a),e._clearSlotItemSlots.push(_),e.addChild(_,a)}return e}return n(e,t),Object.defineProperty(e.prototype,"slotItemSlots",{get:function(){return this._slotItemSlots},enumerable:!0,configurable:!0}),e.prototype.clean=function(){for(var t=0;t<this._slotItemSlots.length;t++)this._slotItemSlots[t].visible=!1;for(var t=0;t<this._clearSlotItemSlots.length;t++)this._clearSlotItemSlots[t].visible=!0},e.prototype.update=function(t,e,i,n,o){var r=this._slotItemSlots[t],s=this._clearSlotItemSlots[t];r.empty(o),e&&r.update(e,i,n,o),s.visible=!1,r.visible=!0},e.prototype.hide=function(t){for(var e=t,i=this._slotItemSlots.length;e<i;e++)this._slotItemSlots[e].visible=!1,this._clearSlotItemSlots[e].visible=!1},e.prototype.dispose=function(){for(var t=0;t<this._slotItemSlots.length;t++)this._slotItemSlots[t].dispose(),this._slotItemSlots[t]=null;for(var t=0;t<this._clearSlotItemSlots.length;t++)this._clearSlotItemSlots[t]=null;this._slotItemSlots=null,this._clearSlotItemSlots=null,this.onClickDetach=null,this.mousedown=null,this.onMouseOut=null,this.removeChildren()},e}(PIXI.Container);e.SlotItemSlotBox=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(161),s=i(162),a=i(61),_=i(4),l=i(3),u=i(334),c=i(51),h=i(1),p=function(t){function e(e){var i=t.call(this)||this;i._mousedown=function(t){i.mousedown(i._index,t.data.global)},i._mouseover=function(){i.focusItem.alpha=1},i._mouseout=function(){i.focusItem.alpha=0,i.onMouseOut()},i._onClickDetach=function(){i.onClickDetach(i._index)},i._mouseup=function(){i.onMouseUp(i._index)},i._index=e,i._background=new PIXI.Sprite(o.COMMON_MAIN.getTexture(45)),i._background.texture=o.COMMON_MAIN.getTexture(45),i.focusItem=new PIXI.Sprite(l.REMODEL_MAIN.getTexture(22)),i.clickAreaSlot=new PIXI.Graphics,i.clickAreaSlot.renderable=!1,i.clickAreaSlot.beginFill(0,0),i.clickAreaSlot.drawRect(0,0,c.RemodelConst.DETAIL_LISTITEM.WIDTH,c.RemodelConst.DETAIL_LISTITEM.HEIGHT),i.clickAreaSlot.endFill(),i._textItemName=new _.TextBox(19,5523516),i._textItemNameMask=new PIXI.Graphics,i._textItemNameMask.beginFill(0),i._textItemNameMask.drawRect(0,0,240,30),i._textItemNameMask.endFill();var n=new PIXI.Sprite(o.COMMON_MAIN.getTexture(44));return n.position.set(120,-2),i.containerItemName=new PIXI.Container,i.containerItemName.position.set(50,11),i.containerItemName.mask=i._textItemNameMask,i.containerItemName.addChild(i._textItemName,i._textItemNameMask,n),i.textTousai=new _.TextBox(21,5523516),i.textTousai.position.set(-2,23),i.textTousai.anchor.set(1,.5),i.slotItemLevel=new s.SlotItemLevel,i.airPlaneLevel=new r.AirPlaneLevel,i.lockIcon=new PIXI.Sprite(o.COMMON_MAIN.getTexture(42)),i.iconWeapon=new a.IconWeapon,i.detachButton=new u.DetachButton,i.detachButton.onClick=i._onClickDetach,i.detachButton.position.set(292,15),i.slotItemLevel.position.set(247,14),i.airPlaneLevel.position.set(219,3),i.lockIcon.position.set(293,2),i.focusItem.scale.x=1,i.focusItem.position.x=-30,i.focusItem.alpha=0,i.focusItem.visible=!1,i.addChild(i._background,i.containerItemName,i.textTousai,i.slotItemLevel,i.airPlaneLevel,i.lockIcon,i.iconWeapon,i.focusItem,i.clickAreaSlot,i.detachButton),i.clickAreaSlot.interactive=i.clickAreaSlot.buttonMode=!0,i.clickAreaSlot.on(h.EventType.MOUSEDOWN,i._mousedown),i.clickAreaSlot.on(h.EventType.MOUSEUP,i._mouseup),i.clickAreaSlot.on(h.EventType.MOUSEOVER,i._mouseover),i.clickAreaSlot.on(h.EventType.MOUSEOUT,i._mouseout),i}return n(e,t),e.prototype.update=function(t,e,i,n){this._update_(t.name,t.iconType,t.isPlane(),e,t.skillLevel,t.isLocked(),t.level,i,n)},e.prototype.empty=function(t){this._updateLock(!1),this._updateAirPlane(!1,0,0),this._updateSlotItemLevel(0),this._updateIconType(0),this._updateItemName(""),this._updateDetachButton(!1),this._updateFocusItem(t)},e.prototype._update_=function(t,e,i,n,o,r,s,a,_){this._updateLock(r),this._updateAirPlane(i,n,o),this._updateSlotItemLevel(s),this._updateIconType(e),this._updateItemName(t),this._updateDetachButton(a),this._updateFocusItem(_)},e.prototype._updateDetachButton=function(t){this.detachButton.visible=!1,t&&(this.detachButton.visible=!0)},e.prototype._updateFocusItem=function(t){this.focusItem.alpha=0,this.focusItem.visible=!1,this.clickAreaSlot.interactive=this.clickAreaSlot.buttonMode=!1,t&&(this.focusItem.visible=!0,this.clickAreaSlot.interactive=this.clickAreaSlot.buttonMode=!0)},e.prototype._updateItemName=function(t){this.containerItemName.cacheAsBitmap=!1,this._textItemName.text=t,this.containerItemName.cacheAsBitmap=!0},e.prototype._updateLock=function(t){this.lockIcon.visible=!1,t&&(this.lockIcon.visible=!0)},e.prototype._updateIconType=function(t){this.iconWeapon.update(t)},e.prototype._updateSlotItemLevel=function(t){this.slotItemLevel.update(t)},e.prototype._updateAirPlane=function(t,e,i){this.textTousai.visible=!1,this.airPlaneLevel.visible=!1,t&&(this.textTousai.text=""+e,this.airPlaneLevel.update(i),this.textTousai.visible=!0,this.airPlaneLevel.visible=!0)},e.prototype.dispose=function(){this.removeChildren(),this.clickAreaSlot.off(h.EventType.MOUSEDOWN,this._mousedown),this.clickAreaSlot.off(h.EventType.MOUSEOVER,this._mouseover),this.clickAreaSlot.off(h.EventType.MOUSEOUT,this._mouseout),this.clickAreaSlot.off(h.EventType.MOUSEUP,this._mouseup),this.clickAreaSlot.clear(),this.airPlaneLevel.dispose(),this.slotItemLevel.dispose(),this.iconWeapon.dispose(),this.detachButton.dispose(),this.containerItemName.cacheAsBitmap=!1,this.containerItemName.mask=null,this.containerItemName.removeChildren(),this._textItemName.destroy(),this.textTousai.destroy(),this.mousedown=null,this.onClickDetach=null,this.onMouseUp=null,this.onMouseOut=null,this._background=null,this._textItemNameMask=null,this.focusItem=null,this.detachButton=null,this.containerItemName=null,this.airPlaneLevel=null,this.slotItemLevel=null,this.iconWeapon=null,this.lockIcon=null,this._textItemName=null,this.textTousai=null,this.clickAreaSlot=null},e}(PIXI.Container);e.SlotItemSlot=p},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e._onClick=function(){e.onClick()},e._onMouseOver=function(){e.texture=e.texture_on},e._onMouseOut=function(){e.texture=e.texture_off},e.on(r.EventType.CLICK,e._onClick),e.on(r.EventType.MOUSEOVER,e._onMouseOver),e.on(r.EventType.MOUSEOUT,e._onMouseOut),e.texture_off=o.REMODEL_MAIN.getTexture(8),e.texture_on=o.REMODEL_MAIN.getTexture(9),e.texture_none=o.REMODEL_MAIN.getTexture(7),e}return n(e,t),e.prototype.dispose=function(){this.off(r.EventType.CLICK),this.off(r.EventType.MOUSEOVER),this.off(r.EventType.MOUSEOUT),this.texture_on=null,this.texture_off=null,this.texture_none=null,this.onClick=null,this.removeChildren()},e.prototype.update=function(t){this.texture=this.texture_none,this.interactive=this.buttonMode=!1,t&&(this.texture=this.texture_off,this.interactive=this.buttonMode=!0)},e}(PIXI.Sprite);e.KaizoButton=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e._onClick=function(){e.onClick()},e._onMouseOver=function(){e.texture=e.texture_on},e._onMouseOut=function(){e.texture=e.texture_off},e.texture_on=o.REMODEL_MAIN.getTexture(5),e.texture_off=o.REMODEL_MAIN.getTexture(4),e.texture_none=o.REMODEL_MAIN.getTexture(3),e.on(r.EventType.CLICK,e._onClick),e.on(r.EventType.MOUSEOVER,e._onMouseOver),e.on(r.EventType.MOUSEOUT,e._onMouseOut),e.interactive=e.buttonMode=!0,e}return n(e,t),e.prototype.update=function(t){this.texture=this.texture_none,this.interactive=this.buttonMode=!1,t&&(this.texture=this.texture_off,this.interactive=this.buttonMode=!0)},e.prototype.dispose=function(){this.off(r.EventType.CLICK),this.off(r.EventType.MOUSEOVER),this.off(r.EventType.MOUSEOUT),this.onClick=null,this.texture_on=null,this.texture_off=null,this.texture_none=null,this.removeChildren()},e}(PIXI.Sprite);e.KindaikaButton=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(61),s=i(4),a=i(71),_=i(334),l=i(1),u=function(t){function e(){var e=t.call(this)||this;return e._onClick=function(){e.onClick()},e._onClickDetach=function(){e.onClickDetach()},e._onMouseOver=function(){e.namePopUp.alpha=1},e._onMouseOut=function(){e.namePopUp.alpha=0},e.exSlotBg=new PIXI.Sprite(a.REMODEL_MAIN.getTexture(20)),e.iconSlot00=new PIXI.Sprite(a.REMODEL_MAIN.getTexture(37)),e.iconWeapon=new r.IconWeapon,e.detachButton=new _.DetachButton,e.namePopUp=new c,e.clickArea=new PIXI.Graphics,e.iconWeapon.position.set(6,6),e.iconSlot00.position.set(6,6),e.detachButton.position.set(57,21),e.namePopUp.position.set(33,63),e.addChild(e.exSlotBg,e.iconSlot00,e.iconWeapon,e.detachButton,e.namePopUp,e.clickArea),e.clickArea.beginFill(0,0),e.clickArea.drawRect(0,0,57,57),e.clickArea.endFill(),e.clickArea.on(l.EventType.CLICK,e._onClick),e.clickArea.on(l.EventType.MOUSEOVER,e._onMouseOver),e.clickArea.on(l.EventType.MOUSEOUT,e._onMouseOut),e.clickArea.renderable=!1,e.clickArea.interactive=e.clickArea.buttonMode=!0,e.detachButton.onClick=e._onClickDetach,e.namePopUp.visible=!1,e}return n(e,t),e.prototype.dispose=function(){this.iconWeapon.dispose(),this.detachButton.dispose(),this.namePopUp.dispose(),this.onClick=null,this.onClickDetach=null,this.iconWeapon=null,this.exSlotBg=null,this.iconSlot00=null,this.detachButton=null,this.namePopUp=null,this.clickArea.off(l.EventType.CLICK),this.clickArea.off(l.EventType.MOUSEOVER),this.clickArea.off(l.EventType.MOUSEOUT),this.clickArea.clear(),this.clickArea=null,this.removeChildren()},e.prototype.update=function(t){this.iconWeapon.update(t.iconType),this.namePopUp.update(t.name),this.detachButton.visible=!0,this.interactive=this.buttonMode=!0,this.namePopUp.visible=!0,this.namePopUp.alpha=0},e.prototype.clear=function(){this.iconWeapon.clear(),this.detachButton.visible=!1,this.interactive=this.buttonMode=!0,this.namePopUp.visible=!1},e}(PIXI.Container);e.ExtraSlotItemSlot=u;var c=function(t){function e(){var e=t.call(this)||this;e.TEXT_OFFSET_X=3,e.TEXT_OFFSET_Y=5,e.left=new PIXI.Sprite(o.default.resources.getUIImage("6slot_huki1_l.png","remodel")),e.right=new PIXI.Sprite(o.default.resources.getUIImage("6slot_huki1_r.png","remodel")),e.center=new PIXI.Sprite(o.default.resources.getUIImage("6slot_huki1_c.png","remodel"));var i=new PIXI.Sprite(o.default.resources.getUIImage("6slot_huki2.png","remodel"));return e.textName=new s.TextBox(18,5523516),e.textName.anchor.x=e.left.anchor.x=e.center.anchor.x=1,e.textName.position.set(e.TEXT_OFFSET_X,e.TEXT_OFFSET_Y),i.position.set(-18.75,3-i.height),e.addChild(e.left,e.center,e.right,e.textName,i),e.update(""),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.textName.destroy(),this.left=null,this.center=null,this.right=null,this.textName=null},e.prototype.update=function(t){this.center.scale.x=1,this.textName.text=t;var e=this.textName.width/this.center.width;this.center.scale.x=e,this.right.position.set(0,0),this.center.position.set(0,0),this.left.position.set(this.center.x-this.center.width,0)},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e._onMouseOver=function(){e.gauge_on.visible=!0,e.huki.visible=!0},e._onMouseOut=function(){e.gauge_on.visible=!1,e.huki.visible=!1},e._onClick=function(){e.onClick()},e.textureGauge1=o.REMODEL_MAIN.getTexture(23),e.textureGauge1_on=o.REMODEL_MAIN.getTexture(24),e.textureGauge2=o.REMODEL_MAIN.getTexture(25),e.textureGauge2_on=o.REMODEL_MAIN.getTexture(26),e.textureGauge3=o.REMODEL_MAIN.getTexture(27),e.textureGauge3_on=o.REMODEL_MAIN.getTexture(28),e.textureGauge4=o.REMODEL_MAIN.getTexture(29),e.textureGauge4_on=o.REMODEL_MAIN.getTexture(30),e.textureGauge5=o.REMODEL_MAIN.getTexture(31),e.textureGauge5_on=o.REMODEL_MAIN.getTexture(32),e.gauge=new PIXI.Sprite,e.gauge_on=new PIXI.Sprite,e.gauge_on.visible=!1,e.huki=new PIXI.Sprite(o.REMODEL_MAIN.getTexture(35)),e.huki.position.x=-6,e.huki.visible=!1,e.slotIconDelete=new PIXI.Sprite(o.REMODEL_MAIN.getTexture(50)),e.slotIconDelete.on(r.EventType.MOUSEOVER,e._onMouseOver),e.slotIconDelete.on(r.EventType.MOUSEOUT,e._onMouseOut),e.slotIconDelete.on(r.EventType.CLICK,e._onClick),e.slotIconDelete.interactive=e.slotIconDelete.buttonMode=!0,e.slotIconDelete.anchor.x=.5,e.slotIconDelete.x=11,e.addChild(e.gauge,e.gauge_on,e.slotIconDelete,e.huki),e}return n(e,t),e.prototype.dispose=function(){this.slotIconDelete.off(r.EventType.CLICK),this.slotIconDelete.off(r.EventType.MOUSEOUT),this.slotIconDelete.off(r.EventType.MOUSEOVER),this.onClick=null,this.gauge=null,this.gauge_on=null,this.slotIconDelete=null,this.huki=null,this.textureGauge1=null,this.textureGauge1_on=null,this.textureGauge2=null,this.textureGauge2_on=null,this.textureGauge3=null,this.textureGauge3_on=null,this.textureGauge4=null,this.textureGauge4_on=null,this.textureGauge5=null,this.textureGauge5_on=null,this.removeChildren()},e.prototype.update=function(t){switch(t){case 0:this.visible=!1;break;case 1:this.gauge.texture=this.textureGauge1,this.gauge_on.texture=this.textureGauge1_on,this.slotIconDelete.y=32+this.slotIconDelete.height,this.slotIconDelete.visible=!0,this.huki.position.y=35;break;case 2:this.gauge.texture=this.textureGauge2,this.gauge_on.texture=this.textureGauge2_on,this.slotIconDelete.y=81+this.slotIconDelete.height,this.slotIconDelete.visible=!0,this.huki.position.y=84;break;case 3:this.gauge.texture=this.textureGauge3,this.gauge_on.texture=this.textureGauge3_on,this.slotIconDelete.y=131+this.slotIconDelete.height,this.slotIconDelete.visible=!0,this.huki.position.y=134;break;case 4:this.gauge.texture=this.textureGauge4,this.gauge_on.texture=this.textureGauge4_on,this.slotIconDelete.y=180+this.slotIconDelete.height,this.slotIconDelete.visible=!0,this.huki.position.y=183;break;case 5:this.gauge.texture=this.textureGauge5,this.gauge_on.texture=this.textureGauge5_on,this.slotIconDelete.y=230+this.slotIconDelete.height,this.slotIconDelete.visible=!0,this.huki.position.y=233}},e}(PIXI.Container);e.DetachAllButton=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e._onClick=function(){e.onClick()},e._onMouseOver=function(){e.extensionPopUp.alpha=1},e._onMouseOut=function(){e.extensionPopUp.alpha=0},e.clickArea=new PIXI.Graphics,e.clickArea.beginFill(0,0),e.clickArea.drawRect(0,0,330,180),e.clickArea.endFill(),e.clickArea.on(r.EventType.MOUSEOVER,e._onMouseOver),e.clickArea.on(r.EventType.MOUSEOUT,e._onMouseOut),e.clickArea.on(r.EventType.CLICK,e._onClick),e.clickArea.renderable=!1,e.clickArea.interactive=e.clickArea.buttonMode=!0,e.extensionPopUp=new PIXI.Sprite(o.REMODEL_MAIN.getTexture(36)),e.extensionPopUp.alpha=0,e.extensionPopUp.position.set(113,0),e.addChild(e.clickArea,e.extensionPopUp),e}return n(e,t),e.prototype.dispose=function(){this.clickArea.off(r.EventType.MOUSEOVER),this.clickArea.off(r.EventType.MOUSEOUT),this.clickArea.off(r.EventType.CLICK),this.onClick=null,this.clickArea=null,this.extensionPopUp=null,this.removeChildren()},e}(PIXI.Container);e.ExtensionButton=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(71),r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e._onClick=function(){e.onClick()},e._onMouseOver=function(){e.marriagePopUp.visible=!0},e._onMouseOut=function(){e.marriagePopUp.visible=!1},e.level99Light=new PIXI.Sprite(o.REMODEL_MAIN.getTexture(39)),e.addChild(e.level99Light),e.play(),e.clickArea=new PIXI.Graphics,e.clickArea.beginFill(0,0),e.clickArea.drawRect(0,0,119,75),e.clickArea.endFill(),e.clickArea.on(r.EventType.CLICK,e._onClick),e.clickArea.on(r.EventType.MOUSEOUT,e._onMouseOut),e.clickArea.on(r.EventType.MOUSEOVER,e._onMouseOver),e.clickArea.renderable=!1,e.clickArea.interactive=!0,e.clickArea.buttonMode=!0,e.addChild(e.clickArea),e.marriagePopUp=new PIXI.Sprite(o.REMODEL_MAIN.getTexture(34)),e.marriagePopUp.position.set(-105,48),e.marriagePopUp.visible=!1,e.addChild(e.marriagePopUp),e}return n(e,t),e.prototype.dispose=function(){this.clickArea.off(r.EventType.CLICK),this.clickArea.off(r.EventType.MOUSEOVER),this.clickArea.off(r.EventType.MOUSEOUT),this.clickArea.clear(),null!=this._loopTween&&(this._loopTween.setPaused(!0),createjs.Tween.removeTweens(this.level99Light),this._loopTween=null),this.onClick=null,this.marriagePopUp=null,this.level99Light=null,this.clickArea=null,this.removeChildren()},e.prototype.play=function(){null==this._loopTween&&(this._loopTween=createjs.Tween.get(this.level99Light).to({alpha:0},0).to({alpha:1},1e3).to({alpha:0},1e3),this._loopTween.loop=!0)},e}(PIXI.Container);e.MarriageButton=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i,n,o,r,s,a){this._karyoku=t,this._raiso=e,this._taiku=i,this._souko=n,this._lucky=o,this._checkBonusLucky=r,this._checkBonusTaikyu=s,this._checkBonusTaisen=a}return Object.defineProperty(t.prototype,"karyoku",{get:function(){return this._karyoku},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"raiso",{get:function(){return this._raiso},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"taiku",{get:function(){return this._taiku},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"souko",{get:function(){return this._souko},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lucky",{get:function(){return this._lucky},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkBonusLucky",{get:function(){return this._checkBonusLucky},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkBonusTaikyu",{get:function(){return this._checkBonusTaikyu},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkBonusTaisen",{get:function(){return this._checkBonusTaisen},enumerable:!0,configurable:!0}),t}();e.PowerUpCheckModel=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),o=i(0),r=i(45),s=i(34),a=i(335),_=i(85),l=i(6),u=i(137),c=i(51),h=i(136),p=i(89),d=i(787),f=i(788),y=i(789),m=i(790),g=i(791),v=i(166),b=i(797),w=i(219),x=i(220),I=function(){function t(t,e){var i=this;this.slotInShipChangeConfirm=null,this._excludeList=[],this._onClickBackArea=function(){o.default.view.clickGuard=!0,i.backArea.width=n.default.width;createjs.Tween.get(i.backArea).to({alpha:0},125),createjs.Tween.get(i.slotItemList).to({x:n.default.width},125),createjs.Tween.get(i.shipDetail).to({x:468},125).call(function(){i.mainView.removeChild(i.slotItemList),i.mainView.removeChild(i.backArea),o.default.view.clickGuard=!1,i.onComplete()})},this._onClickDoubleBackAreaLeft=function(){_.TaskLoadSlotResource.abortBy(i.changeConfirm),i.doubleBackArea.width=n.default.width,o.default.view.clickGuard=!0,createjs.Tween.get(i.changeConfirm).to({x:n.default.width},62);createjs.Tween.get(i.doubleBackArea).to({alpha:0},125),createjs.Tween.get(i.backArea).to({alpha:0},125),createjs.Tween.get(i.shipDetail).to({x:468},125),createjs.Tween.get(i.slotItemList).to({x:n.default.width},125).call(function(){i.mainView.removeChild(i.slotItemList),i.mainView.removeChild(i.changeConfirm),i.mainView.removeChild(i.doubleBackArea),i.mainView.removeChild(i.backArea),o.default.view.clickGuard=!1})},this._onClickDoubleBackAreaRight=function(){_.TaskLoadSlotResource.abortBy(i.changeConfirm),i.doubleBackArea.width=n.default.width,o.default.view.clickGuard=!0;createjs.Tween.get(i.doubleBackArea).to({alpha:0},125),createjs.Tween.get(i.changeConfirm).to({x:n.default.width},125).call(function(){i.mainView.removeChild(i.changeConfirm),i.mainView.removeChild(i.doubleBackArea),o.default.view.clickGuard=!1})},this._onClickChangeButton=function(){switch(_.TaskLoadSlotResource.abortBy(i.changeConfirm),i.mode){case h.SlotListMode.SET:var t=i.memSlotItemId,e=o.default.model.ship.get(i.setList[1][""+t]),r=o.default.model.ship.get(i.memShipId),a=o.default.model.slot.get(t);return i.changeConfrimFromOtherShip.update(e,r,a),i.changeConfrimFromOtherShip.position.set(225,188),i.changeConfrimFromOtherShip.activate(),o.default.view.clickGuard=!0,i.slotInShipChangeConfirm=new m.SlotInShipChangeConfirm(i.changeConfrimFromOtherShip),o.default.view.overLayer.addChild(i.slotInShipChangeConfirm),void i.slotInShipChangeConfirm.show(function(){o.default.view.clickGuard=!1});case h.SlotListMode.UNSET:;o.default.view.clickGuard=!0;var l=void 0;l=i.isEditExtraSlot?new x.SlotSetExAPI(i.memShipId,i.memSlotItemId):new w.SlotSetAPI(i.memShipId,i.memSlotItemId,i.slotIndex);var u=new s.APIConnector,c=new v.Ship3API(i.memShipId);u.add(l).add(c).start(function(){i.isEditExtraSlot||o.default.view.portMain.updateInfo(),i.onUpdateSlotItem(),createjs.Tween.get(i.backArea).to({alpha:0},125),createjs.Tween.get(i.slotItemList).to({x:n.default.width},125),createjs.Tween.get(i.changeConfirm).to({x:n.default.width},125),createjs.Tween.get(i.doubleBackArea).to({alpha:0},125),createjs.Tween.get(i.shipDetail).to({x:468},125).call(function(){i.mainView.removeChild(i.slotItemList),i.mainView.removeChild(i.changeConfirm),i.mainView.removeChild(i.doubleBackArea),i.mainView.removeChild(i.backArea),o.default.view.clickGuard=!1,i.onComplete()})}),i.shipVoice.play(i.memShipId)}},this._onClickYesOtherShipChange=function(){o.default.view.clickGuard=!0,i.slotInShipChangeConfirm.hide(function(){i.changeConfrimFromOtherShip.deactivate(),i.slotInShipChangeConfirm.dispose(),o.default.view.overLayer.removeChild(i.slotInShipChangeConfirm);for(var t=i.slotIndex,e=i.memShipId,r=i.isEditExtraSlot?1:0,s=i.memSlotItemId,a=i.setList[1][""+s],_=-1,l=0,u=o.default.model.ship.get(a),c=u.getSlotitems(),h=0;h<c.length;h++){var p=c[h];if(p&&p.memID==s){_=h;break}}if(-1==_){var d=u.getSlotitemEx();null!=d&&d.memID==s&&(_=0,l=1)}new b.SlotDepriveAPI(_,r,l,a,t,e).start(function(){o.default.view.portMain.updateInfo(),i.onUpdateSlotItem(),createjs.Tween.get(i.doubleBackArea).to({alpha:0},125),createjs.Tween.get(i.backArea).to({alpha:0},125),createjs.Tween.get(i.changeConfirm).to({x:n.default.width},125),createjs.Tween.get(i.slotItemList).to({x:n.default.width},125),createjs.Tween.get(i.shipDetail).to({x:468},125).call(function(){i.mainView.removeChild(i.backArea),i.mainView.removeChild(i.doubleBackArea),i.mainView.removeChild(i.changeConfirm),i.mainView.removeChild(i.slotItemList),o.default.view.clickGuard=!1})}),i.shipVoice.play(i.memShipId)})},this._onClickNoOtherShipChange=function(){o.default.view.clickGuard=!0,i.slotInShipChangeConfirm.hide(function(){i.changeConfrimFromOtherShip.deactivate(),i.slotInShipChangeConfirm.dispose(),o.default.view.overLayer.removeChild(i.slotInShipChangeConfirm),o.default.view.clickGuard=!1})},this._onChangeFilterKeyType=function(t){i._updateSource_(i.mode,t),i.slotItemList.slotItemFilterView.hideFilterListImmidiate(),i._changePage_(0)},this._onClickChangeListSwitch=function(){switch(l.SE.play("219"),i.mode){case h.SlotListMode.UNSET:i._initSetList_(i.memShipId,i.isEditExtraSlot,i.slotIndex),i._updateSource_(h.SlotListMode.SET,0),i._changePage_(0);break;case h.SlotListMode.SET:i._updateSource_(h.SlotListMode.UNSET,0),i._changePage_(0);break;default:throw Error("unsupported X( "+i.mode)}},this._onClickListItem=function(t,e){i.mainView.addChild(i.doubleBackArea),i.mainView.addChild(i.changeConfirm),i.changeConfirm.position.set(n.default.width,141),i.doubleBackArea.alpha=0;var r=o.default.model.ship.get(i.memShipId),s=-1==i.slotIndex?r.getSlotitemEx():r.getSlotitems()[i.slotIndex],a=o.default.model.slot.get(e);i.changeConfirm.update(s,a),o.default.view.clickGuard=!0,i.memSlotItemId=e,createjs.Tween.get(i.doubleBackArea).to({alpha:1},125),createjs.Tween.get(i.changeConfirm).to({x:873},125).call(function(){i.doubleBackArea.width=912,o.default.view.clickGuard=!1})},this._onClickLock=function(t,e){var n=new a.SlotItemLockAPI(e);o.default.view.clickGuard=!0;var r=function(){var n=o.default.model.slot.get(e);n.isLocked()?l.SE.play("242"):l.SE.play("255");var r=null;i.mode==h.SlotListMode.SET&&(r=15==u.SceneMemory.slotItemFilter?o.default.model.ship.get(i.setList_all[1][n.memID.toString()]):o.default.model.ship.get(i.setList[1][n.memID.toString()])),i._updateListItem_(t,n,r),o.default.view.clickGuard=!1};n.start(r)},this._onChangePage=function(t){u.SceneMemory.slotItemPage!=t&&i._changePage_(t)},this.slotItemList=new g.SlotItemList,this.changeConfirm=new y.ChangeConfirm,this.changeConfrimFromOtherShip=new d.ChangeConfirmFromOtherShip,this.backArea=new f.BackArea,this.doubleBackArea=new f.DoubleBackArea,this.slotItemList.pagerView.onChangePage=this._onChangePage,this.slotItemList.onClick=this._onClickListItem,this.slotItemList.onClickLock=this._onClickLock,this.backArea.onClick=this._onClickBackArea,this.doubleBackArea.onClickLeft=this._onClickDoubleBackAreaLeft,this.doubleBackArea.onClickRight=this._onClickDoubleBackAreaRight,this.changeConfirm.onClick=this._onClickChangeButton,this.changeConfrimFromOtherShip.onClickYes=this._onClickYesOtherShipChange,this.changeConfrimFromOtherShip.onClickNo=this._onClickNoOtherShipChange,this.slotItemList.slotItemFilterView.onClick=this._onChangeFilterKeyType,this.slotItemList.changeListSwitch.onClick=this._onClickChangeListSwitch,this.shipDetail=e,this.mainView=t}return t.prototype.dispose=function(){this._onChangePage=null,this._onClickListItem=null,this._onClickLock=null,this.backArea.onClick=this._onClickBackArea=null,this.doubleBackArea.onClickLeft=this._onClickDoubleBackAreaLeft=null,this.doubleBackArea.onClickRight=this._onClickDoubleBackAreaRight=null,this.changeConfirm.onClick=this._onClickChangeButton=null,this.changeConfrimFromOtherShip.onClickYes=this._onClickYesOtherShipChange=null,this.changeConfrimFromOtherShip.onClickNo=this._onClickNoOtherShipChange=null,this._onChangeFilterKeyType=null,this._onClickChangeListSwitch=null,this.slotItemList&&this.slotItemList.dispose(),this.changeConfirm&&this.changeConfirm.dispose(),this.changeConfrimFromOtherShip&&this.changeConfrimFromOtherShip.dispose(),this.backArea&&this.backArea.dispose(),this.doubleBackArea&&this.doubleBackArea.dispose(),this.onUpdateSlotItem=null,this.onComplete=null,this.memSlotItemId=null,this.memShipId=null,this.slotIndex=null,this.mainView=null,this.shipDetail=null,this.changeConfirm=null,this.backArea=null,this.doubleBackArea=null,this.slotItemList=null,this.sourceSlotItems=null,this.unsetList=null,this.sortieSlotItems=null,this.setList=null,this.mode=null,this.changeConfrimFromOtherShip=null,this.slotInShipChangeConfirm=null},t.prototype._updateSource_=function(t,e){var i=this._genSource_(t,e);this._updateMode_(t),this._updateFilter_(e),this._updatePager_(i),this.sourceSlotItems=i},t.prototype._changePage_=function(t){var e=this.sourceSlotItems.slice(t*c.RemodelConst.ITEM_NUM,t*c.RemodelConst.ITEM_NUM+c.RemodelConst.ITEM_NUM);if(this.slotItemList.clear(),0==e.length)this.slotItemList.visibleEmptyText();else for(var i=0;i<e.length;i++){var n=e[i],r=null;this.mode==h.SlotListMode.SET&&(r=15==u.SceneMemory.slotItemFilter?o.default.model.ship.get(this.setList_all[1][n.memID.toString()]):o.default.model.ship.get(this.setList[1][n.memID.toString()])),this._updateListItem_(i,n,r)}this.slotItemList.pagerView.changePage(t),u.SceneMemory.slotItemPage=t},t.prototype._updateListItem_=function(t,e,i){var n=null,r=!1,s=null,a=!1,_=!1;i?(n=o.default.model.deck.isInDeck(i.memID))&&(s=o.default.model.deck.get(n[0]),null!=s.expedition&&(r=!0)):-1!=this.sortieSlotItems.indexOf(e)&&(a=!0);var l,u=o.default.model.ship.get(this.memShipId);this.isEditExtraSlot||(l=o.default.model.equip.get(u.mstID),(-1==l.equip_type.indexOf(e.equipTypeSp)||this._excludeList.indexOf(e.equipTypeSp)>-1)&&(_=!0),392==u.mstID&&11==e.equipType&&194!=e.mstID&&(_=!0)),this.slotItemList.update(t,e,i,n,r,a,_)},t.prototype.start=function(t,e,i){var r=this;o.default.view.clickGuard=!0;var s=-1==e;this.shipVoice=i,this._excludeList=this._excludeEquipList(t,e,s),this._initUnSetList_(t,e,s),this._initSortieSlotItems_(),this.mode=u.SceneMemory.listMode,this.slotIndex=e,this.memShipId=t,this.isEditExtraSlot=s,this.mode==h.SlotListMode.SET&&this._initSetList_(this.memShipId,this.isEditExtraSlot,this.slotIndex),this._updateSlotItemFilter_(s),this._updateSource_(this.mode,u.SceneMemory.slotItemFilter);var a=Math.ceil(this.sourceSlotItems.length/c.RemodelConst.ITEM_NUM);a<=u.SceneMemory.slotItemPage&&(u.SceneMemory.slotItemPage=a-1,u.SceneMemory.slotItemPage<0&&(u.SceneMemory.slotItemPage=0)),this._changePage_(u.SceneMemory.slotItemPage),this.slotItemList.position.set(n.default.width,141),this.backArea.alpha=0,this.mainView.addChild(this.backArea),this.mainView.addChild(this.slotItemList),createjs.Tween.get(this.slotItemList).to({x:501},125),createjs.Tween.get(this.backArea).to({alpha:1},125),createjs.Tween.get(this.shipDetail).to({x:147},125).call(function(){r.backArea.width=538,o.default.view.clickGuard=!1})},t.prototype._updateSlotItemFilter_=function(t){this.slotItemList.slotItemFilterView.visible=!1,0==t&&(this.slotItemList.slotItemFilterView.visible=!0)},t.prototype._initSortieSlotItems_=function(){if(!this.sortieSlotItems){var t=o.default.model.slot.createUnsetList([47,48,49]);this.sortieSlotItems=t}},t.prototype._initUnSetList_=function(t,e,i){var n=this;if(!this.unsetList){var r,s,a=o.default.model.ship.get(t),_=[];if(i)r=p.RemodelUtil.createUnSetListEx(a.mstID,a.shipTypeID);else{var l=o.default.model.equip.get(a.mstID),u=void 0;u=this._excludeList.length>0?l.equip_type.filter(function(t){return-1===n._excludeList.indexOf(t)}):l.equip_type,r=o.default.model.slot.createUnsetList(u,null,a.mstID),s=o.default.model.slot.createUnsetList_unType(l.equip_type,a.mstID),_=o.default.model.slot.createUnsetList(l.equip_type,null,a.mstID)}this.unsetList=r,this.unsetList_all=_.concat(s)}},t.prototype._initSetList_=function(t,e,i){var n=this;if(!this.setList){var r,s,a=o.default.model.ship.get(t),_={},l=new Array;if(e?r=p.RemodelUtil.createSetListEx(a.memID,a.mstID,a.shipTypeID):(s=o.default.model.equip.get(a.mstID),r=o.default.model.slot.createSetList(s.equip_type,null,-1,a.mstID)),r[0]=r[0].filter(function(t){var e=r[1][t.memID]==a.memID;return e&&delete r[1][t.memID],0==e}),!e){for(var u=0;u<r[0].length;u++)l.push(r[0][u]);for(var c in r[1]){var h=parseInt(c);_[h]=r[1][c]}var d=void 0;d=o.default.model.slot.createSetList_unType(s.equip_type);for(var u=0;u<d[0].length;u++)l.push(d[0][u]);for(var c in d[1]){var h=parseInt(c);_[h]=d[1][c]}this.setList_all=[l,_]}392==a.mstID&&(r[0]=r[0].filter(function(t){return 11!=t.equipType||194==t.mstID})),this._excludeList.length>0&&(r[0]=r[0].filter(function(t){return-1===n._excludeList.indexOf(t.equipType)})),this.setList=r}},t.prototype._excludeEquipList=function(t,e,i){if(i)return[];var n=o.default.model.ship.get(t);return(553===n.mstID||554===n.mstID)&&e>=2?[2,3]:[]},t.prototype._updateMode_=function(t){switch(this.slotItemList.inUseMarker.visible=!1,t){case h.SlotListMode.SET:this.slotItemList.listHeader.update(this.slotItemList.listHeader.TYPE_SET),this.slotItemList.changeListSwitch.update(this.slotItemList.changeListSwitch.TYPE_EQUIPS_OTHER),this.slotItemList.inUseMarker.visible=!0;break;case h.SlotListMode.UNSET:this.slotItemList.listHeader.update(this.slotItemList.listHeader.TYPE_UNSET),this.slotItemList.changeListSwitch.update(this.slotItemList.changeListSwitch.TYPE_UNEQUIPS)}this.mode=t,u.SceneMemory.listMode=t},t.prototype._genSource_=function(t,e){switch(t){case h.SlotListMode.SET:return 15==e?this._genFilterSlotItems_(t,e,this.setList_all[0]):this._genFilterSlotItems_(t,e,this.setList[0]);case h.SlotListMode.UNSET:return 15==e?this._genFilterSlotItems_(t,e,this.unsetList_all):this._genFilterSlotItems_(t,e,this.unsetList)}throw new Error("unsupported XO")},t.prototype._updatePager_=function(t){var e=p.RemodelUtil.calcPageCount(t.length);this.slotItemList.pagerView.init(e)},t.prototype._updateFilter_=function(t){this.slotItemList.slotItemFilterView.updateFilterType(t),u.SceneMemory.slotItemFilter=t},t.prototype._genFilterSlotItems_=function(t,e,i){if(0==e||15==e)return r.SlotUtil.sort(i,0),i;if(13==e)return r.SlotUtil.sort(i,1),i;if(14==e)return r.SlotUtil.sort(i,2),i;var n=i;t!=h.SlotListMode.UNSET||11!=e&&12!=e||(n=i.concat(this.sortieSlotItems));var o;switch(e){case 1:o=r.SlotUtil.filter(n,1);break;case 2:o=r.SlotUtil.filter(n,2);break;case 3:o=r.SlotUtil.filter(n,3);break;case 4:o=r.SlotUtil.filter(n,4);break;case 5:o=r.SlotUtil.filter(n,5);break;case 6:o=r.SlotUtil.filter(n,6);break;case 7:o=r.SlotUtil.filter(n,7);break;case 8:o=r.SlotUtil.filter(n,8);break;case 9:o=r.SlotUtil.filter(n,9);break;case 10:o=r.SlotUtil.filter(n,10);break;case 11:o=r.SlotUtil.filter(n,11);break;case 12:o=r.SlotUtil.filter(n,12)}return r.SlotUtil.sort(o,0),o},t.prototype._show_=function(){var t=this;o.default.view.clickGuard=!0;this.slotItemList.position.set(n.default.width,141),this.backArea.alpha=0,this.mainView.addChild(this.backArea),this.mainView.addChild(this.slotItemList),createjs.Tween.get(this.slotItemList).to({x:501},125),createjs.Tween.get(this.backArea).to({alpha:1},125),createjs.Tween.get(this.shipDetail).to({x:147},125).call(function(){t.backArea.width=538,o.default.view.clickGuard=!1})},t}();e.TaskChoiceSlotItem=I},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(114),s=i(4),a=i(61),_=i(3),l=i(3),u=i(31),c=i(84),h=i(1),p=function(t){function e(){var e=t.call(this)||this;e._labelArr=[],e._onClickYes=function(){e.onClickYes()},e._onClickNo=function(){e.onClickNo()};var i=new PIXI.Sprite(l.REMODEL_MAIN.getTexture(42));e.buttonYes=new PIXI.Sprite(l.REMODEL_MAIN.getTexture(6)),e.buttonNo=new PIXI.Sprite(l.REMODEL_MAIN.getTexture(0)),e.downArrowAnimationView=new r.DownArrowAnimationView,e.fromShipBanner=new u.ShipBanner,e.toShipBanner=new u.ShipBanner;var n=new PIXI.Sprite(_.COMMON_MAIN.getTexture(45));e.iconWeapon=new a.IconWeapon;var c=new s.TextBox(21,3355443),h=new s.TextBox(21,3355443);e.textFromShipName=new s.TextBox(21,3355443),e.textFromShipLevel=new s.TextBox(15,3355443),e.textToShipName=new s.TextBox(21,3355443),e.textToShipLevel=new s.TextBox(15,3355443),e.textToSlotItemName=new s.TextBox(21,3355443);var p=new PIXI.Sprite(o.default.resources.getUIImage("mask")),d=new PIXI.Sprite(o.default.resources.getUIImage("mask")),f=new PIXI.Sprite(o.default.resources.getUIImage("mask"));return f.anchor.set(1,0),d.anchor.set(1,0),p.anchor.set(1,0),f.scale.set(-.9,1),d.scale.set(-.9,1),p.scale.set(-1.95,1),e.toShipBanner.position.set(98,177),e.textToShipName.position.set(348,182),e.textToShipLevel.position.set(348,206),c.position.set(465,53),e.fromShipBanner.position.set(98,41),e.textFromShipName.position.set(348,48),e.textFromShipLevel.position.set(348,72),h.position.set(465,188),n.position.set(351,116),e.textToSlotItemName.position.set(396,125),e.iconWeapon.position.set(351,117),e.downArrowAnimationView.position.set(216,122),e.buttonYes.position.set(156,270),e.buttonNo.position.set(411,270),e.buttonYes.interactive=!0,e.buttonNo.interactive=!0,e.textToSlotItemName.text="",c.text="\u304c\u73fe\u5728\u88c5\u5099\u3057\u3066\u3044\u308b",h.text="\u306b\u88c5\u5099\u3057\u307e\u3059",e._labelArr.push(c),e._labelArr.push(h),e.textFromShipName.text="",e.textFromShipLevel.text="",e.textToShipName.text="",e.textToShipLevel.text="",e.textToSlotItemName.mask=p,e.textToShipName.mask=d,e.textFromShipName.mask=f,e.textToSlotItemName.addChild(p),e.textToShipName.addChild(d),e.textFromShipName.addChild(f),e.addChild(i,e.buttonYes,e.buttonNo,e.downArrowAnimationView,e.fromShipBanner,e.toShipBanner,n,e.textFromShipName,e.textFromShipLevel,e.textToShipLevel,e.textToShipName,c,h,e.iconWeapon,e.textToSlotItemName),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.deactivate(),this.iconWeapon.dispose(),this.downArrowAnimationView.dispose(),this.fromShipBanner.dispose(),this.toShipBanner.dispose(),this.textFromShipName.destroy(),this.textToShipName.destroy(),this.textFromShipLevel.destroy(),this.textToShipLevel.destroy(),this.textToSlotItemName.destroy(),this._labelArr.forEach(function(t){t.destroy()}),this.onClickYes=null,this.onClickNo=null,this.textFromShipName=null,this.textToShipName=null,this.textFromShipLevel=null,this.textToShipLevel=null,this.fromShipBanner=null,this.toShipBanner=null,this.textToSlotItemName=null,this.iconWeapon=null,this.downArrowAnimationView=null,this.buttonYes=null,this.buttonNo=null,this._labelArr=null,this.onClickNo=null,this.onClickYes=null},e.prototype.activate=function(){0==this.buttonYes.buttonMode&&(this.buttonYes.on(h.EventType.CLICK,this._onClickYes),this.buttonYes.buttonMode=!0),0==this.buttonNo.buttonMode&&(this.buttonNo.on(h.EventType.CLICK,this._onClickNo),this.buttonNo.buttonMode=!0)},e.prototype.deactivate=function(){this.buttonYes.buttonMode=!1,this.buttonYes.off(h.EventType.CLICK),this.buttonNo.buttonMode=!1,this.buttonNo.off(h.EventType.CLICK),c.TaskLoadShipResource.abortBy(this)},e.prototype.update=function(t,e,i){var n="(Lv."+t.level+")",o="(Lv."+e.level+")";this.textFromShipName.text=t.name,this.textFromShipLevel.text=n,this.textToShipName.text=e.name,this.textToShipLevel.text=o,this.fromShipBanner.updateImage(t.mstID,t.isDamaged()),this.toShipBanner.updateImage(e.mstID,e.isDamaged()),this.textToSlotItemName.text=i.name,this.iconWeapon.update(i.iconType)},e}(PIXI.Container);e.ChangeConfirmFromOtherShip=p},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(1),s=function(t){function e(){var e=t.call(this)||this;e._onClick=function(){e.onClick()};return e.beginFill(0,.5),e.drawRect(0,103,o.default.width,o.default.height-103),e.endFill(),e.interactive=e.buttonMode=!0,e.on(r.EventType.CLICK,e._onClick),e}return n(e,t),e.prototype.dispose=function(){this.clear(),this.off(r.EventType.CLICK),this.onClick=null,this.removeChildren()},e}(PIXI.Graphics);e.BackArea=s;var a=function(t){function e(){var e=t.call(this)||this;e._onClickLeft=function(){e.onClickLeft()},e._onClickRight=function(){e.onClickRight()},e.leftArea=new PIXI.Graphics,e.rightArea=new PIXI.Graphics;return e.leftArea.beginFill(0,.5),e.leftArea.drawRect(0,103,501,o.default.height-103),e.leftArea.endFill(),e.rightArea.beginFill(0,.5),e.rightArea.drawRect(0,103,o.default.width-501,o.default.height-103),e.rightArea.endFill(),e.rightArea.x=501,e.leftArea.interactive=e.leftArea.buttonMode=!0,e.rightArea.interactive=e.rightArea.buttonMode=!0,e.leftArea.on(r.EventType.CLICK,e._onClickLeft),e.rightArea.on(r.EventType.CLICK,e._onClickRight),e.addChild(e.leftArea,e.rightArea),e}return n(e,t),e.prototype.dispose=function(){this.leftArea.clear(),this.rightArea.clear(),this.leftArea.off(r.EventType.CLICK),this.rightArea.off(r.EventType.CLICK),this.onClickLeft=null,this.onClickLeft=null,this.leftArea=null,this.rightArea=null,this.removeChildren()},e}(PIXI.Container);e.DoubleBackArea=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(45),s=i(114),a=i(4),_=i(85),l=i(21),u=i(71),c=i(88),h=function(t){function e(){var e=t.call(this)||this;e._onClick=function(){e.onClick()};var i=new PIXI.Sprite(l.COMMON_MAIN.getTexture(12)),n=new PIXI.Sprite(u.REMODEL_MAIN.getTexture(52)),o=new PIXI.Sprite(u.REMODEL_MAIN.getTexture(51));return e.downArrowAnimationView=new s.DownArrowAnimationView,e.fromSlotItemChangeSummly=new d,e.toSlotItemChangeSummly=new d,e.changeButton=new p,e.headerHenkouKakunin=new c.TitleBar,e.headerHenkouKakunin.initialize(l.COMMON_MAIN.getTexture(3),26),i.interactive=!0,e.changeButton.onClick=e._onClick,n.position.set(266,18),e.fromSlotItemChangeSummly.position.set(27,41),o.position.set(266,267),e.toSlotItemChangeSummly.position.set(27,288),e.changeButton.position.set(92,486),e.downArrowAnimationView.position.set(170,242),e.headerHenkouKakunin.position.set(0,-39),e.addChild(i,n,e.fromSlotItemChangeSummly,o,e.toSlotItemChangeSummly,e.changeButton,e.downArrowAnimationView,e.headerHenkouKakunin),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.fromSlotItemChangeSummly.dispose(),this.toSlotItemChangeSummly.dispose(),this.downArrowAnimationView.dispose(),this.changeButton.dispose(),this.headerHenkouKakunin.dispose(),this.downArrowAnimationView=null,this.fromSlotItemChangeSummly=null,this.toSlotItemChangeSummly=null,this.changeButton=null,this.onClick=null},e.prototype.update=function(t,e){t?this.fromSlotItemChangeSummly.update(t):this.fromSlotItemChangeSummly.clear(),e?this.toSlotItemChangeSummly.update(e):this.toSlotItemChangeSummly.clear()},e}(PIXI.Container);e.ChangeConfirm=h;var p=function(t){function e(){var e=t.call(this)||this;return e._onMouseOver=function(){e.texture=e.textureBtnSelectOn},e._onMouseOut=function(){e.texture=e.textureBtnSelectOff},e._onClick=function(){e.onClick()},e.textureBtnSelectOff=u.REMODEL_MAIN.getTexture(10),e.textureBtnSelectOn=u.REMODEL_MAIN.getTexture(11),e.on(o.EventType.MOUSEOVER,e._onMouseOver),e.on(o.EventType.MOUSEOUT,e._onMouseOut),e.on(o.EventType.CLICK,e._onClick),e.texture=e.textureBtnSelectOff,e.interactive=e.buttonMode=!0,e}return n(e,t),e.prototype.dispose=function(){this.off(o.EventType.MOUSEOVER),this.off(o.EventType.MOUSEOUT),this.off(o.EventType.CLICK),this.onClick=null,this.textureBtnSelectOff=null,this.textureBtnSelectOn=null,this.removeChildren()},e}(PIXI.Sprite),d=function(t){function e(){var e=t.call(this)||this;return e.textureCon2Bg2=u.REMODEL_MAIN.getTexture(19),e.background=new PIXI.Sprite(e.textureCon2Bg2),e.textSpec=new a.TextBox(19,5523516),e.textSpec.position.set(17,42),e.addChild(e.background,e.textSpec),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.textSpec.destroy(),this.textSpec=null,this.textureCon2Bg2=null,this.background=null},e.prototype.update=function(t){this.background.texture=this.textureCon2Bg2,this.textSpec.text=r.SlotUtil.genSummaryText(t,"+","\n",!1,5),new _.TaskLoadSlotResource("remodel",this.background,t.mstID).start()},e.prototype.clear=function(){this.textSpec.text="",this.background.texture=this.textureCon2Bg2},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=function(t){function e(e){var i=t.call(this)||this;i.DURATION=150;var n=new PIXI.Graphics;return n.beginFill(0,.5),n.drawRect(0,0,o.default.width,o.default.height),n.endFill(),i._container=e,i._container.alpha=0,i.interactive=!0,i.alpha=0,i.addChild(n,i._container),i}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._container=null},e.prototype.show=function(t){var e=this;void 0===t&&(t=null),createjs.Tween.get(this).to({alpha:1},1.2*this.DURATION).call(function(){createjs.Tween.get(e._container).to({alpha:1},.5*e.DURATION).call(function(){null!==t&&t()})})},e.prototype.hide=function(t){var e=this;void 0===t&&(t=null),createjs.Tween.get(this._container).to({alpha:0},this.DURATION).call(function(){createjs.Tween.get(e).to({alpha:0},1.2*e.DURATION).call(function(){null!==t&&t()})})},e}(PIXI.Container);e.SlotInShipChangeConfirm=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(86),r=i(792),s=i(21),a=i(211),_=i(88),l=i(793),u=i(794),c=i(795),h=i(796),p=function(t){function e(){var e=t.call(this)||this;e._onClick=function(t,i){e.onClick(t,i)},e._onClickLock=function(t,i){e.onClickLock(t,i)},e.sortSoubiTxtNone=new PIXI.Sprite(a.COMMON_SORT.getTexture(55)),e.headerSoubiSentaku=new _.TitleBar,e.headerSoubiSentaku.initialize(s.COMMON_MAIN.getTexture(2),26);var i=s.COMMON_MAIN.getTexture(37),n=new PIXI.Sprite(s.COMMON_MAIN.getTexture(13));e._listHeader=new c.ListHeader,e._pagerView=new o.PagerView,e._slotItemFilterView=new r.SlotItemFilterView,e.lines=new Array,e._changeListSwitch=new l.ChangeListSwitch,e.listItems=new Array,e._inUseMarker=new u.InUseMarker,n.interactive=!0;for(var p=new PIXI.Point(54,54),d=p.x,f=0;f<10;f++){var y=new PIXI.Sprite(i),m=new h.ListItem(f),g=45*f+p.y;m.position.set(d,g),m.onClick=e._onClick,m.onClickLock=e._onClickLock,y.width+=45,y.position.set(d+30,g+45-y.height),e.lines.push(y),e.listItems.push(m)}return e.sortSoubiTxtNone.position.set(90,65),e._pagerView.position.set(96,525),e._listHeader.position.set(90,12),e._slotItemFilterView.position.set(246,14),e._changeListSwitch.position.set(569,12),e.headerSoubiSentaku.position.set(0,-39),e._inUseMarker.position.y=12,e.addChild(n),e.listItems.forEach(function(t){return e.addChild(t)}),e.lines.forEach(function(t){return e.addChild(t)}),e.addChild(e._pagerView,e._listHeader,e.sortSoubiTxtNone,e._slotItemFilterView,e._changeListSwitch,e.headerSoubiSentaku,e._inUseMarker),e}return n(e,t),Object.defineProperty(e.prototype,"pagerView",{get:function(){return this._pagerView},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slotItemFilterView",{get:function(){return this._slotItemFilterView},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeListSwitch",{get:function(){return this._changeListSwitch},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inUseMarker",{get:function(){return this._inUseMarker},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"listHeader",{get:function(){return this._listHeader},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){for(var t=0;t<this.listItems.length;t++)this.listItems[t].dispose();this._pagerView.dispose(),this._slotItemFilterView.dispose(),this._changeListSwitch.dispose(),this._inUseMarker.dispose(),this._listHeader.dispose(),this.headerSoubiSentaku.dispose(),this.onClick=null,this.onClickLock=null,this._pagerView=null,this._slotItemFilterView=null,this._changeListSwitch=null,this._inUseMarker=null,this._listHeader=null,this.lines=null,this.listItems=null,this.headerSoubiSentaku=null,this.sortSoubiTxtNone=null,this.removeChildren()},e.prototype.update=function(t,e,i,n,o,r,s){var a=this.listItems[t];a.update(e,i,n,o,r,s),a.visible=!0},e.prototype.visibleEmptyText=function(){this.sortSoubiTxtNone.visible=!0},e.prototype.clear=function(){this.listItems.forEach(function(t){t.visible=!1}),this.sortSoubiTxtNone.visible=!1},e}(PIXI.Container);e.SlotItemList=p},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e.maxDuration=125,e.shown=!1,e._onClickSlotItemFilterKeyType=function(t){e.onClick(t)},e._onMouseOutHideArea=function(t){var i=t.data.getLocalPosition(e);i.x>=e.startPoint.x&&i.x<=e.endPoint.x&&i.y>=e.startPoint.y&&i.y<=e.endPoint.y||(e.hideFilterList(),e.shown=!1)},e._onClick=function(){e.switchShown()},e.slotItemFilterButton=new l,e.slotItemFilterButton.onClick=e._onClick,e.slotItemFilterList=new a,e.slotItemFilterListMask=new PIXI.Graphics,e.slotItemFilterListMask.beginFill(0,0),e.slotItemFilterListMask.drawRect(0,0,e.slotItemFilterList.width,e.slotItemFilterList.height),e.slotItemFilterListMask.endFill(),e.slotItemFilterListMask.position.set(0,-(e.slotItemFilterListMask.height+2)),e.slotItemFilterList.position.set(29,30),e.slotItemFilterList.mask=e.slotItemFilterListMask,e.slotItemFilterList.onClick=e._onClickSlotItemFilterKeyType,e.slotItemFilterList.addChild(e.slotItemFilterListMask),e.startPoint=new PIXI.Point(-38,-38),e.endPoint=new PIXI.Point(157,-38+e.slotItemFilterList.height+76),e.filterListArea=new PIXI.Graphics,e.filterListArea.beginFill(0,0),e.filterListArea.position.set(-246,-12),e.filterListArea.drawRect(0,0,700,560),e.filterListArea.endFill(),e.filterListArea.on(r.EventType.MOUSEMOVE,e._onMouseOutHideArea),e.filterListArea.interactive=!0,e.filterListArea.visible=!1,e.slotItemFilterList.renderable=!1,e.addChild(e.filterListArea,e.slotItemFilterButton,e.slotItemFilterList),e}return n(e,t),e.prototype.dispose=function(){this.slotItemFilterList.mask=null,this.slotItemFilterList.dispose(),this.slotItemFilterButton.dispose(),this.slotItemFilterListMask.clear(),this.filterListArea.clear(),this.onClick=null,this.shown=null,this.slotItemFilterButton=null,this.slotItemFilterList=null,this.slotItemFilterListMask=null,this.filterListArea=null,this.startPoint=null,this.endPoint=null,this.removeChildren()},e.prototype.updateFilterType=function(t){this.slotItemFilterButton.update(t)},e.prototype.switchShown=function(){this.shown=!this.shown,this.shown?this.showFilterList():this.hideFilterList()},e.prototype.showFilterList=function(){this.filterListArea.visible=!0,this.slotItemFilterList.renderable=!0,createjs.Tween.removeTweens(this.slotItemFilterListMask);var t=this.slotItemFilterListMask.height+this.slotItemFilterListMask.y+1,e=0==t?0:t/this.slotItemFilterListMask.height,i=this.maxDuration*(1-e);createjs.Tween.get(this.slotItemFilterListMask).to({y:0},i).play(null)},e.prototype.hideFilterList=function(){var t=this;this.filterListArea.visible=!1,createjs.Tween.removeTweens(this.slotItemFilterListMask);var e=this.slotItemFilterListMask.height+this.slotItemFilterListMask.y+2,i=0==e?0:e/this.slotItemFilterListMask.height,n=-(this.slotItemFilterListMask.height+2),o=this.maxDuration*i;createjs.Tween.get(this.slotItemFilterListMask).to({y:n},o).call(function(){t.slotItemFilterList.renderable=!1}).play(null)},e.prototype.hideFilterListImmidiate=function(){this.filterListArea.visible=!1,createjs.Tween.removeTweens(this.slotItemFilterListMask),this.slotItemFilterListMask.y=-(this.slotItemFilterListMask.height+2),this.shown=!1},e}(PIXI.Container);e.SlotItemFilterView=s;var a=function(t){function e(){var e=t.call(this)||this;e._onClick=function(t){e.onClick(t)};for(var i=new PIXI.Sprite(o.COMMON_SORT.getTexture(54)),n=[[0,21,22],[1,23,24],[2,25,26],[3,27,28],[4,29,30],[5,31,32],[6,33,34],[7,35,36],[8,43,44],[9,45,46],[10,47,48],[11,49,50],[12,37,38],[13,39,40],[14,41,42],[15,51,52]],r=[],s=0;s<n.length;s++){var a=n[s],l=a[0],u=a[1],c=a[2],h=new _(l,u,c);h.onClick=e._onClick,h.y=28.5*s,r.push(h)}e.addChild(i);for(var s=0;s<r.length;s++)e.addChild(r[s]);return e.slotItemFilterListItems=r,e}return n(e,t),e.prototype.dispose=function(){for(var t=0;t<this.slotItemFilterListItems.length;t++)this.removeChild(this.slotItemFilterListItems[t]),this.slotItemFilterListItems[t].dispose(),this.slotItemFilterListItems[t]=null;this.slotItemFilterListItems=null,this.onClick=null,this.removeChildren()},e}(PIXI.Container);e.SlotItemFilterList=a;var _=function(t){function e(e,i,n){var s=t.call(this)||this;return s._onMouseOver=function(){s.status.texture=o.COMMON_SORT.getTexture(s.rIdMouseover),s.hover.visible=!0},s._onMouseOut=function(){s.status.texture=o.COMMON_SORT.getTexture(s.rIdMouseout),s.hover.visible=!1},s._onClick=function(){s.onClick(s.slotItemFilterKeyType)},s.rIdMouseover=n,s.rIdMouseout=i,s.slotItemFilterKeyType=e,s.status=new PIXI.Sprite(o.COMMON_SORT.getTexture(i)),s.hover=new PIXI.Sprite(o.COMMON_SORT.getTexture(20)),s.hover.visible=!1,s.interactive=!0,s.on(r.EventType.MOUSEOVER,s._onMouseOver),s.on(r.EventType.MOUSEOUT,s._onMouseOut),s.on(r.EventType.CLICK,s._onClick),s.addChild(s.hover,s.status),s}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.off(r.EventType.MOUSEOVER),this.off(r.EventType.MOUSEOUT),this.off(r.EventType.CLICK),this.rIdMouseover=null,this.rIdMouseout=null,this.status=null,this.hover=null,this.slotItemFilterKeyType=null,this.onClick=null},e}(PIXI.Container);e.SlotItemFilterListItem=_;var l=function(t){function e(){var e=t.call(this)||this;e._onClick=function(){e.onClick()};var i=new PIXI.Sprite(o.COMMON_SORT.getTexture(19)),n=new PIXI.Sprite(o.COMMON_SORT.getTexture(2));return e.state=new PIXI.Sprite(o.COMMON_SORT.getTexture(3)),e.on(r.EventType.CLICK,e._onClick),e.interactive=e.buttonMode=!0,i.position.set(0,0),n.position.set(29,0),e.state.position.set(29,0),e.addChild(i,n,e.state),e}return n(e,t),e.prototype.dispose=function(){this.off(r.EventType.CLICK),this.removeChildren(),this.onClick=null,this.state=null},e.prototype.update=function(t){var e=this.keyToRid(t);this.state.texture=o.COMMON_SORT.getTexture(e)},e.prototype.keyToRid=function(t){switch(t){case 0:return 3;case 1:return 4;case 2:return 5;case 3:return 6;case 4:return 7;case 5:return 8;case 6:return 9;case 7:return 10;case 8:return 14;case 9:return 15;case 10:return 16;case 11:return 17;case 12:return 11;case 13:return 12;case 14:return 13;case 15:return 18}return null},e}(PIXI.Container);e.SlotItemFilterButton=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e.TYPE_UNEQUIPS="uniquips",e.TYPE_EQUIPS_OTHER="equipsother",e._onClick=function(){e.onClick()},e.btnSoubi1=o.REMODEL_MAIN.getTexture(14),e.btnSoubi2=o.REMODEL_MAIN.getTexture(15),e.on(r.EventType.CLICK,e._onClick),e.interactive=e.buttonMode=!0,e}return n(e,t),e.prototype.update=function(t){switch(this.texture=PIXI.Texture.EMPTY,t){case this.TYPE_UNEQUIPS:this.texture=this.btnSoubi1;break;case this.TYPE_EQUIPS_OTHER:this.texture=this.btnSoubi2}},e.prototype.dispose=function(){this.onClick=null,this.btnSoubi1=null,this.btnSoubi2=null,this.off(r.EventType.CLICK),this.removeChildren()},e}(PIXI.Sprite);e.ChangeListSwitch=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=function(t){function e(){var e=t.call(this)||this;return e.btnSoubi3Light=new PIXI.Sprite(o.REMODEL_MAIN.getTexture(17)),e.btnSoubi3=new PIXI.Sprite(o.REMODEL_MAIN.getTexture(16)),e.btnSoubi3Light.position.set(-14,-14),e.btnSoubi3Light.alpha=0,e.addChild(e.btnSoubi3Light,e.btnSoubi3),e.tween=createjs.Tween.get(e.btnSoubi3Light).to({alpha:0}).to({alpha:1},1e3).to({alpha:0},1e3),e.tween.loop=!0,e.tween.play(null),e}return n(e,t),e.prototype.dispose=function(){this.tween.setPaused(!0),createjs.Tween.removeTweens(this.btnSoubi3Light),this.btnSoubi3=null,this.btnSoubi3Light=null,this.tween=null,this.removeChildren()},e}(PIXI.Container);e.InUseMarker=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=function(t){function e(){var e=t.call(this)||this;return e.TYPE_SET="typeset",e.TYPE_UNSET="typeunset",e.listItem=o.COMMON_MAIN.getTexture(35),e.listItemInUse=o.COMMON_MAIN.getTexture(36),e}return n(e,t),e.prototype.update=function(t){switch(this.texture=PIXI.Texture.EMPTY,t){case this.TYPE_SET:this.texture=this.listItemInUse;break;case this.TYPE_UNSET:this.texture=this.listItem}},e.prototype.dispose=function(){this.listItem=null,this.listItemInUse=null,this.removeChildren()},e}(PIXI.Sprite);e.ListHeader=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(145),s=i(45),a=i(161),_=i(61),l=i(87),u=i(162),c=i(4),h=i(21),p=i(71),d=i(1),f=function(t){function e(e){var i=t.call(this)||this;i.center=23,i._onClick=function(){i.onClick(i.index,i.memSlotItemId)},i._onClickLock=function(){i.onClickLock(i.index,i.memSlotItemId)},i._onMouseOver=function(t){t.target!=i.clickArea&&t.target!=i.lockIcon||i.mouseover()},i._onMouseOut=function(t){t.target!=i.clickArea&&t.target!=i.lockIcon&&i.mouseout()},i.index=e,i.iconWeapon=new _.IconWeapon,i.focus=new PIXI.Sprite(h.COMMON_MAIN.getTexture(17)),i.textRare=new c.TextBox(15,5523516),i.itemSummary=new v(5523516),i.itemSummary.position.set(395,0),i.shipSummary=new g,i.shipSummary.position.set(306,0),i.maskName=new PIXI.Sprite(h.COMMON_MAIN.getTexture(38)),i.maskName.position.x=172,i.slotItemLevel=new u.SlotItemLevel,i.airPlaneLevel=new a.AirPlaneLevel,i.airPlaneLevel.position.set(232,3),i.slotItemLevel.position.set(260,13),i.clickArea=new PIXI.Graphics,i.clickArea.beginFill(0,0),i.clickArea.drawRect(0,0,i.focus.width+180,i.focus.height),i.clickArea.endFill(),i.clickArea.on(d.EventType.CLICK,i._onClick),i.clickArea.on(d.EventType.MOUSEOVER,i._onMouseOver),i.clickArea.on(d.EventType.MOUSEOUT,i._onMouseOut),i.clickArea.renderable=!1,i.clickArea.interactive=i.clickArea.buttonMode=!0;var n=new PIXI.Graphics;n.beginFill(0,0),n.drawRect(0,0,245,45),n.endFill(),i.textName=new c.TextBox(21,5523516);var o=Math.floor(i.center-i.textName.height/2);return i.containerName=new PIXI.Container,i.containerName.mask=n,i.containerName.position.set(42,o),i.containerName.addChild(i.textName,n),i.lockIcon=new b,i.lockIcon.onClick=i._onClickLock,i.lockIcon.onMouseOut=i._onMouseOut,i.lockIcon.onMouseOver=i._onMouseOver,i.lockIcon.position.x=603,i.focus.width+=135,i.focus.position.x=36,i.focus.alpha=0,i.iconWeapon.position.x=-6,i.overArea=new PIXI.Graphics,i.overArea.beginFill(0,.4),i.overArea.drawRect(0,0,i.focus.width+180,i.focus.height),i.overArea.endFill(),i.overArea.x=-25,i.overArea.visible=!1,i.addChild(i.clickArea,i.focus,i.iconWeapon,i.containerName,i.maskName,i.textRare,i.itemSummary,i.shipSummary,i.slotItemLevel,i.airPlaneLevel,i.overArea,i.lockIcon),i}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.iconWeapon.dispose(),this.itemSummary.dispose(),this.shipSummary.dispose(),this.slotItemLevel.dispose(),this.airPlaneLevel.dispose(),this.lockIcon.dispose(),this.clickArea.clear(),this.clickArea.off(d.EventType.CLICK),this.clickArea.off(d.EventType.MOUSEOVER),this.clickArea.off(d.EventType.MOUSEOUT),this.containerName.cacheAsBitmap=!1,this.containerName.mask=null,this.containerName.removeChildren(),this.textRare.destroy(),this.textName.destroy(),this.onClick=null,this.onClickLock=null,this.index=null,this.locked=null,this.memSlotItemId=null,this.itemType=null,this.iconWeapon=null,this.itemSummary=null,this.shipSummary=null,this.textName=null,this.textRare=null,this.lockIcon=null,this.focus=null,this.clickArea=null,this.slotItemLevel=null,this.airPlaneLevel=null,this.maskName=null,this.containerName=null},e.prototype.update=function(t,e,i,n,r,s){this.itemType=e?1:r?2:0;var a=o.default.model.slot.getMst(t.mstID).rarity,_=2==this.itemType?10263708:5523516;switch(this.iconWeapon.update(t.iconType),this._updateSkillLevel_(t.skillLevel),this._updateLevel_(t.level),this.containerName.cacheAsBitmap=!1,this.textRare.style.fill=_,this.textName.style.fill=_,this.textName.text=t.name,this.containerName.cacheAsBitmap=!0,this.locked=t.isLocked(),this._updateLock_(),this.itemType){case 0:this.textRare.visible=!0,this.itemSummary.visible=!0,this.lockIcon.visible=!0,this.shipSummary.visible=!1,this._updateTextRare_(a),this._updateItemSummary_(t,_);break;case 1:this.shipSummary.visible=!0,this.textRare.visible=!1,this.itemSummary.visible=!1,this.lockIcon.visible=!1;var l=e.isRepair();this._updateInteractive_(n),this._updateShipSummary_(e.name,e.level,i,n,l);break;case 2:this.textRare.visible=!0,this.itemSummary.visible=!0,this.lockIcon.visible=!0,this.shipSummary.visible=!1,this._updateTextRare_(a),this._updateItemSummary_(t,_)}this.unset=s,s?(this.overArea.visible=!0,this.focus.visible=!1,this.clickArea.interactive=!1):(this.overArea.visible=!1,this.focus.visible=!0,n||(this.clickArea.interactive=!0)),this.memSlotItemId=t.memID,this.mouseout()},e.prototype._updateItemSummary_=function(t,e){this.itemSummary.update(t,e)},e.prototype._updateShipSummary_=function(t,e,i,n,o){this.shipSummary.update(t,e,i,n,o)},e.prototype._updateTextRare_=function(t){var e=r.SlotConst.SLOTITEM_RARITY_NAMES[t];this.textRare.text=e;var i=Math.floor(338-this.textRare.width/2),n=Math.floor(this.center-this.textRare.height/2);this.textRare.position.set(i,n)},e.prototype._updateSkillLevel_=function(t){this.airPlaneLevel.visible=!1,0<t&&(this.airPlaneLevel.update(t),this.airPlaneLevel.visible=!0)},e.prototype._updateLevel_=function(t){this.slotItemLevel.visible=!1,0<t&&(this.slotItemLevel.update(t),this.slotItemLevel.visible=!0)},e.prototype._updateLock_=function(){this.lockIcon.alpha=this.locked?1:0,this.lockIcon.update(this.locked)},e.prototype._updateInteractive_=function(t){this.clickArea.interactive=!t},e.prototype.mouseover=function(){if(this.focus.alpha=1,this.lockIcon.alpha=1,!this.unset){switch(this.containerName.cacheAsBitmap=!1,this.maskName.texture=h.COMMON_MAIN.getTexture(16),this.itemType){case 0:this.textRare.style.fill=this.textName.style.fill=16777215,this.itemSummary.mouseover();break;case 1:this.textName.style.fill=16774898,this.shipSummary.mouseover();break;case 2:this.textName.style.fill=this.textRare.style.fill=16774898,this.itemSummary.mouseover()}this.containerName.cacheAsBitmap=!0}},e.prototype.mouseout=function(){if(this.focus.alpha=0,this._updateLock_(),!this.unset){switch(this.containerName.cacheAsBitmap=!1,this.maskName.texture=h.COMMON_MAIN.getTexture(38),this.itemType){case 0:this.textName.style.fill=this.textRare.style.fill=5523516,this.itemSummary.mouseout();break;case 1:this.textName.style.fill=5523516,this.shipSummary.mouseout();break;case 2:this.textName.style.fill=this.textRare.style.fill=10263708,this.itemSummary.mouseout()}this.containerName.cacheAsBitmap=!0}},e}(PIXI.Container);e.ListItem=f;var y;!function(t){t[t.NONE=0]="NONE",t[t.TAN=1]="TAN",t[t.CHU=2]="CHU",t[t.CHO=3]="CHO",t[t.CHOCHO=4]="CHOCHO"}(y||(y={}));var m=function(t){function e(){var e=t.call(this)||this;return e.center=22,e.textName=new c.TextBox(21,5523516),e.textLevel=new c.TextBox(18,5523516),e.textName.position.y=e.center-Math.floor(e.textName.height/2),e.textLevel.position.y=e.textName.position.y+(e.textName.height-e.textLevel.height),e.addChild(e.textName,e.textLevel),e}return n(e,t),e.prototype.update=function(t,e,i){this.textName.text=t,this.textLevel.text="(Lv."+e+")",this.textLevel.position.x=this.textName.width,this._updateTextColor_(i),this.mouseout()},e.prototype._updateTextColor_=function(t){var e=5523516;t&&(e=10263708),this.defaultTextColor=e},e.prototype.mouseover=function(){this.cacheAsBitmap=!1,this.textName.style.fill=this.textLevel.style.fill=16777215,this.cacheAsBitmap=!0},e.prototype.mouseout=function(){this.cacheAsBitmap=!1,this.textName.style.fill=this.textLevel.style.fill=this.defaultTextColor,this.cacheAsBitmap=!0},e.prototype.dispose=function(){this.removeChildren(),this.textName.destroy(),this.textLevel.destroy(),this.cacheAsBitmap=!1,this.textName=null,this.textLevel=null},e}(PIXI.Container),g=function(t){function e(){var e=t.call(this)||this;e.center=23,e.shipInDeckFlag=new l.ShipInDeckFlag,e.textStatus=new c.TextBox(18,5523516),e.textNameAndLevel=new m,e.maskName=new PIXI.Sprite(h.COMMON_MAIN.getTexture(38)),e.maskName.position.x=80;var i=new PIXI.Graphics;return i.beginFill(0,0),i.drawRect(0,0,170,45),i.endFill(),e.textNameAndLevel.mask=i,e.textNameAndLevel.addChild(i),e.shipInDeckFlag.position.x=188,e.shipInDeckFlag.scale.set(.75,.75),e.textStatus.position.x=225,e.textStatus.position.y=e.center-Math.floor(e.textStatus.height/2),e.addChild(e.textNameAndLevel,e.maskName,e.shipInDeckFlag,e.textStatus),e}return n(e,t),e.prototype.update=function(t,e,i,n,o){this.textNameAndLevel.update(t,e,n),this._updateDeck_(i),this._updateState_(o,n),this._updateTextColor_(o,n),this.mouseout()},e.prototype.mouseover=function(){this.textNameAndLevel.cacheAsBitmap=!1,this.textNameAndLevel.mouseover(),this.textStatus.style.fill=16777215,this.maskName.texture=h.COMMON_MAIN.getTexture(16),this.textNameAndLevel.cacheAsBitmap=!0},e.prototype.mouseout=function(){this.textNameAndLevel.cacheAsBitmap=!1,this.textNameAndLevel.mouseout(),this.textStatus.style.fill=this.stateColor,this.maskName.texture=h.COMMON_MAIN.getTexture(38),this.textNameAndLevel.cacheAsBitmap=!0},e.prototype.dispose=function(){this.removeChildren(),this.textNameAndLevel.removeChildren(),this.shipInDeckFlag.dispose(),this.textNameAndLevel.dispose(),this.textStatus.destroy(),this.repair=null,this.expedition=null,this.defaultTextColor=null,this.stateColor=null,this.textStatus=null,this.shipInDeckFlag=null,this.textNameAndLevel=null,this.maskName=null},e.prototype._updateDeck_=function(t){this.shipInDeckFlag.visible=!1,t&&(this.shipInDeckFlag.update(t),this.shipInDeckFlag.position.y=Math.floor(this.center-this.shipInDeckFlag.height/2),this.shipInDeckFlag.visible=!0)},e.prototype._updateTextColor_=function(t,e){var i=5523516,n=5523516;e?(i=13224393,n=2466210):t&&(n=6201187),this.defaultTextColor=i,this.stateColor=n},e.prototype._updateState_=function(t,e){this.textStatus.text="",this.textStatus.visible=!1,t?(this.textStatus.text="\u5165\u6e20\u4e2d",this.textStatus.visible=!0):e&&(this.textStatus.text="\u9060\u5f81\u4e2d",this.textStatus.visible=!0)},e}(PIXI.Container),v=function(t){function e(e){var i=t.call(this)||this;i.defaultColor=e,i.labelShatei=new c.TextBox(15,e),i.textShatei=new c.TextBox(15,e),i.textOtherSpec=new c.TextBox(15,e),i.paraLayer=new PIXI.Container;var n=new PIXI.Graphics;return n.beginFill(0,0),n.drawRect(0,0,245,45),n.endFill(),i.paraLayer.mask=n,i.labelShatei.text="\u5c04\u7a0b ",i.textShatei.visible=!1,i.labelShatei.visible=!1,i.textOtherSpec.visible=!1,i.paraLayer.addChild(i.labelShatei,i.textShatei,i.textOtherSpec),i.maskPara=new PIXI.Sprite(h.COMMON_MAIN.getTexture(38)),i.maskPara.position.x=160,i.paraLayer.position.y=Math.floor(i.maskPara.height/2-i.labelShatei.height/2),i.addChild(i.paraLayer,i.maskPara),i}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.paraLayer.cacheAsBitmap=!1,this.paraLayer.mask=null,this.paraLayer.removeChildren(),this.labelShatei.destroy(),this.textShatei.destroy(),this.textOtherSpec.destroy(),this.colorMouseOverShatei=null,this.defaultColor=null,this.labelShatei=null,this.textShatei=null,this.textOtherSpec=null,this.maskPara=null,this.paraLayer=null},e.prototype.update=function(t,e){this.paraLayer.cacheAsBitmap=!1,this.labelShatei.visible=!1,this.textShatei.visible=!1,this.labelShatei.style.fill=e,this.textShatei.style.fill=e,this.textOtherSpec.style.fill=e,this.defaultColor=e,this.textOtherSpec.visible=!1;var i=s.SlotUtil.genSummaryText(t,"+","/",!1);this.textOtherSpec.visible=!0;var n=this.lengthToShatei(t.range);if(n==y.NONE)this.textOtherSpec.text=i,this.textOtherSpec.x=0;else{this.textOtherSpec.text="/"+i;var o=this.shateiToString(n),r=this.shateiToColor(n);this.textShatei.text=o,this.colorMouseOverShatei=this.textShatei.style.fill=r,this.labelShatei.x=0,this.textShatei.x=this.labelShatei.x+this.labelShatei.width,this.textOtherSpec.x=this.textShatei.x+this.textShatei.width,this.labelShatei.visible=!0,this.textShatei.visible=!0}this.paraLayer.cacheAsBitmap=!0},e.prototype.mouseover=function(){this.paraLayer.cacheAsBitmap=!1,this.textOtherSpec.style.fill=this.textShatei.style.fill=this.labelShatei.style.fill=16777215,this.maskPara.texture=h.COMMON_MAIN.getTexture(16),this.paraLayer.cacheAsBitmap=!0},e.prototype.mouseout=function(){this.paraLayer.cacheAsBitmap=!1,this.textOtherSpec.style.fill=this.labelShatei.style.fill=this.defaultColor,this.textShatei.style.fill=this.colorMouseOverShatei,this.maskPara.texture=h.COMMON_MAIN.getTexture(38),this.paraLayer.cacheAsBitmap=!0},e.prototype.lengthToShatei=function(t){switch(t){case 1:return y.TAN;case 2:return y.CHU;case 3:return y.CHO;case 4:return y.CHOCHO}return y.NONE},e.prototype.shateiToString=function(t){switch(t){case y.TAN:return"\u77ed";case y.CHU:return"\u4e2d";case y.CHO:return"\u9577";case y.CHOCHO:return"\u8d85\u9577"}throw new Error("un supported")},e.prototype.shateiToColor=function(t){switch(t){case y.TAN:return 33023;case y.CHU:return 4246528;case y.CHO:return 16744448;case y.CHOCHO:return 16711680}throw new Error("un supported")},e}(PIXI.Container),b=function(t){function e(){var e=t.call(this)||this;return e._onClick=function(){e.onClick()},e._onMouseOver=function(t){e.onMouseOver(t)},e._onMouseOut=function(t){e.onMouseOut(t)},e.textureLockOn=p.REMODEL_MAIN.getTexture(41),e.textureLockOff=p.REMODEL_MAIN.getTexture(40),e.interactive=e.buttonMode=!0,e.on(d.EventType.CLICK,e._onClick),e.on(d.EventType.MOUSEOVER,e._onMouseOver),e.on(d.EventType.MOUSEOUT,e._onMouseOut),e}return n(e,t),e.prototype.update=function(t){this.texture=this.textureLockOff,t&&(this.texture=this.textureLockOn)},e.prototype.dispose=function(){this.off(d.EventType.CLICK),this.off(d.EventType.MOUSEOVER),this.off(d.EventType.MOUSEOUT),this.onClick=null,this.textureLockOff=null,this.textureLockOn=null},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(7),s=i(9),a=function(t){function e(e,i,n,o,r,s){var a=t.call(this)||this;return a._url="api_req_kaisou/slot_deprive",a.api_unset_idx=e,a.api_set_slot_kind=i,a.api_unset_slot_kind=n,a.api_unset_ship=o,a.api_set_idx=r,a.api_set_ship=s,a}return n(e,t),e.prototype._connect=function(){this._post_data.api_unset_idx=this.api_unset_idx,this._post_data.api_set_slot_kind=this.api_set_slot_kind,this._post_data.api_unset_slot_kind=this.api_unset_slot_kind,this._post_data.api_unset_ship=this.api_unset_ship,this._post_data.api_set_idx=this.api_set_idx,this._post_data.api_set_ship=this.api_set_ship,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e=r.ObjUtil.getObject(this._raw_data,"api_ship_data"),i=r.ObjUtil.getObject(e,"api_set_ship"),n=r.ObjUtil.getObject(e,"api_unset_ship"),s=r.ObjUtil.getObject(this._raw_data,"api_unset_list"),a=r.ObjUtil.getNumber(s,"api_type3No"),_=r.ObjUtil.getNumArray(s,"api_slot_list");o.default.model.ship.get(i.api_id).__update__(i),o.default.model.ship.get(n.api_id).__update__(n),o.default.model.slot.updateUnsetData(a,_),this._set_bauxite(),t.prototype._completedEnd.call(this)},e.prototype._set_bauxite=function(){if(this._raw_data&&this._raw_data.hasOwnProperty("api_bauxite")){var t=r.ObjUtil.getNumber(this._raw_data,"api_bauxite");o.default.model.useItem.get(34).__setCount__(t)}},e}(s.APIBase);e.SlotDepriveAPI=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),o=i(0),r=i(37),s=i(8),a=i(6),_=i(89),l=i(799),u=i(807),c=i(809),h=i(812),p=i(813),d=i(815),f=i(49),y=function(){function t(t){var e=this;this._onClickEmpty=function(t){var i=[];i.push(e.memShipId),e.targetShips.forEach(function(t){i.push(t.memID)});var n=new c.TaskShipChoice(e.mainView);n.onClickShip=function(t){var i=o.default.model.ship.get(e.memShipId),n=o.default.model.ship.getMst(i.mstID),r=[],s=o.default.model.ship.get(t);e.targetShips.push(s),e.targetShips.forEach(function(t){var e=o.default.model.ship.getMst(t.mstID);r.push(e)});var a=_.RemodelUtil.calcPowerUpParams([i,n],r);e.powerUpEdit.targetShipBox.update(e.targetShips),e._updatePowerUp_(i,n,a.karyoku,a.raiso,a.taiku,a.souko,a.lucky,a.checkBonusLucky,a.checkBonusTaikyu,a.checkBonusTaisen)},n.onComplete=function(){n.dispose(),e.taskShipChoice=null},e.taskShipChoice=n,n.start(i,0)},this._onClickCancel=function(){var t=f.UISettings.DIALOG_FADETIME;e.clickGuardKindaika.width=n.default.width,o.default.view.clickGuard=!0,createjs.Tween.get(e.clickGuardKindaika).to({alpha:0},t),createjs.Tween.get(e.powerUpEdit).to({x:n.default.width},t).call(function(){o.default.view.clickGuard=!1,e.onComplete()})},this._onClickStart=function(){e.clickGuardConfirm.alpha=0,e.powerUpStartConfirm.alpha=0;var t=f.UISettings.DIALOG_FADETIME;o.default.view.overLayer.addChild(e.clickGuardConfirm,e.powerUpStartConfirm),o.default.view.clickGuard=!0;var i=o.default.model.ship.get(e.memShipId),n=o.default.model.ship.getMst(i.mstID),r=[];e.targetShips.forEach(function(t){var e=o.default.model.ship.getMst(t.mstID);r.push(e)});var s=_.RemodelUtil.calcPowerUpParams([i,n],r);e.powerUpStartConfirm.update(i,e.targetShips,s),createjs.Tween.get(e.clickGuardConfirm).to({alpha:1},t),createjs.Tween.get(e.powerUpStartConfirm).to({alpha:1},t).call(function(){e.mainView.visible=!1,o.default.view.clickGuard=!1})},this._onClickPowerUpStartYES=function(){o.default.view.clickGuard=!0;var t=o.default.model.ship.get(e.memShipId),i=o.default.model.ship.getMst(t.mstID),n=new Array;e.targetShips.forEach(function(t){n.push(t.memID)});var r=new h.PowerUpAPI(e.memShipId,n);o.default.sound.voice.playAtRandom(t.mstID.toString(),[9,10],[50,50]),r.start(function(){e.powerUpEdit.shipInfoBox.update(t.shipTypeName,t.name,t.level,t.starNum),e.onUpdateShip();var s,a=r.api_powerup_flag,_=n.length;s=1==a?new d.PowerUpAnimationSuccess(_,e.mainView):new p.PowerUpAnimationFailed(_,e.mainView);var l=t.mstID,u=t.isDamaged(),c=o.default.model.ship_graph.get(l).getCenterOffset(u);s.preload(l,u,c,function(){o.default.view.clickGuard=!1,o.default.view.overLayer.addChild(e.animationClickGuard,s),s.play(function(){e.targetShips.length=0,e.powerUpEdit.targetShipBox.update(e.targetShips),e._updatePowerUp_(t,i,0,0,0,0,0,!1,!1,!1),o.default.view.overLayer.removeChild(e.clickGuardConfirm),o.default.view.overLayer.removeChild(e.powerUpStartConfirm)},function(){s.dispose(),o.default.view.overLayer.removeChild(e.animationClickGuard),o.default.view.overLayer.removeChild(s),o.default.view.portMain.updateInfo()})})})},this._onClickPowerUpStartNO=function(){var t=f.UISettings.DIALOG_FADETIME;e.mainView.visible=!0,o.default.view.overLayer.addChild(e.clickGuardConfirm,e.powerUpStartConfirm),o.default.view.clickGuard=!0,createjs.Tween.get(e.clickGuardConfirm).to({alpha:0},t),createjs.Tween.get(e.powerUpStartConfirm).to({alpha:0},t).call(function(){o.default.view.overLayer.removeChild(e.clickGuardConfirm),o.default.view.overLayer.removeChild(e.powerUpStartConfirm),o.default.view.clickGuard=!1})},this._onClickSlotIn=function(t){e.targetShips.splice(t,1);var i=o.default.model.ship.get(e.memShipId),n=o.default.model.ship.getMst(i.mstID),r=[];e.targetShips.forEach(function(t){var e=o.default.model.ship.getMst(t.mstID);r.push(e)});var s=_.RemodelUtil.calcPowerUpParams([i,n],r);e.powerUpEdit.targetShipBox.update(e.targetShips),e._updatePowerUp_(i,n,s.karyoku,s.raiso,s.taiku,s.souko,s.lucky,s.checkBonusLucky,s.checkBonusTaikyu,s.checkBonusTaisen)},this.mainView=t;this.clickGuardKindaika=new s.AreaBox(.5),this.clickGuardKindaika.height=n.default.height-103,this.clickGuardKindaika.position.set(0,103),this.clickGuardConfirm=new s.AreaBox(1),this.clickGuardConfirm.height=n.default.height,this.clickGuardConfirm.position.set(0,0),this.animationClickGuard=new s.AreaBox(0),this.animationClickGuard.renderable=!1,this.powerUpStartConfirm=new u.PowerUpStartConfirm,this.powerUpEdit=new l.PowerUpEdit}return t.prototype.start=function(t){var e=this;o.default.view.clickGuard=!0,a.SE.play("249"),this.targetShips=[];var i=o.default.model.ship.get(t),r=o.default.model.ship.getMst(i.mstID);this.powerUpEdit.targetShipBox.onClickEmpty=this._onClickEmpty,this.powerUpEdit.targetShipBox.onClickSlotIn=this._onClickSlotIn,this.powerUpEdit.cancelButton.initialize(this._onClickCancel),this.powerUpEdit.startButton.onClick=this._onClickStart,this.powerUpStartConfirm.onClickNO=this._onClickPowerUpStartNO,this.powerUpStartConfirm.onClickYES=this._onClickPowerUpStartYES,this.memShipId=t,this.powerUpEdit.shipInfoBox.update(i.shipTypeName,i.name,i.level,i.starNum),this._updatePowerUp_(i,r,0,0,0,0,0,!1,!1,!1),this._updateShipFull_(i.mstID,i.isDamaged()),this.powerUpEdit.targetShipBox.update(this.targetShips),this.clickGuardKindaika.alpha=0,this.powerUpEdit.position.set(n.default.width,140),this.mainView.addChild(this.clickGuardKindaika,this.powerUpEdit);var s=f.UISettings.DIALOG_FADETIME;createjs.Tween.get(this.clickGuardKindaika).to({alpha:1},s),createjs.Tween.get(this.powerUpEdit).to({x:174},s).call(function(){e.clickGuardKindaika.width=212,o.default.view.clickGuard=!1})},t.prototype.dispose=function(){this.taskShipChoice&&this.taskShipChoice.dispose(),this.taskShipChoice=null,this.mainView.removeChild(this.clickGuardKindaika),this.mainView.removeChild(this.powerUpEdit),this._onClickEmpty=null,this._onClickSlotIn=null,this.onComplete=null,this.onUpdateShip=null,this.mainView=null,this.powerUpEdit&&(this.powerUpEdit.containerShipFull.cacheAsBitmap=!1,this.powerUpEdit.dispose()),this.powerUpEdit=null,this.clickGuardKindaika=null,this.animationClickGuard=null,this.powerUpStartConfirm&&this.powerUpStartConfirm.dispose(),this.powerUpStartConfirm=null,this.clickGuardConfirm=null,this.targetShips=null,this.memShipId=null,this.taskShipChoice&&this.taskShipChoice.dispose(),this.taskShipChoice=null},t.prototype._updatePowerUp_=function(t,e,i,n,o,r,s,a,_,l){var u=t.karyoku-(e.hougMin+t.gradeUpHoug),c=t.raisou-(e.raigMin+t.gradeUpRaig),h=t.taiku-(e.tykuMin+t.gradeUpTyku),p=t.soukou-(e.soukMin+t.gradeUpSouk),d=t.lucky-(e.luckMin+t.gradeUpLuck),f=e.hougMax+u<=t.karyoku,y=e.raigMax+c<=t.raisou,m=e.tykuMax+h<=t.taiku,g=e.soukMax+p<=t.soukou,v=e.luckMax+d<=t.lucky,b=Math.min(t.gradeUpHoug+e.hougMin+i,e.hougMax),w=Math.min(t.gradeUpRaig+e.raigMin+n,e.raigMax),x=Math.min(t.gradeUpTyku+e.tykuMin+o,e.tykuMax),I=Math.min(t.gradeUpSouk+e.soukMin+r,e.soukMax),T=Math.min(t.gradeUpLuck+e.luckMin+s,e.luckMax),O=b+u,C=w+c,P=x+h,k=I+p,S=T+d;this.powerUpEdit.shipParameterChecker.clear(),this.powerUpEdit.shipParameterChecker.updateCommon(t.hpMax,t.kaihi,t.tousai,t.speed,t.range,t.taisen,t.sakuteki),this.powerUpEdit.shipParameterChecker.updateKaryoku(t.karyoku,O),this.powerUpEdit.shipParameterChecker.updateRaisou(t.raisou,C),this.powerUpEdit.shipParameterChecker.updateSoukou(t.soukou,k),this.powerUpEdit.shipParameterChecker.updateTaiku(t.taiku,P),this.powerUpEdit.karyokuBeforeAfterConfirm.update(t.karyoku,O,f),this.powerUpEdit.raisouBeforeAfterConfirm.update(t.raisou,C,y),this.powerUpEdit.soukouBeforeAfterConfirm.update(t.soukou,k,g),this.powerUpEdit.taikuBeforeAfterConfirm.update(t.taiku,P,m),this.powerUpEdit.SetPos_karyokuBeforeAfterConfirm(f),this.powerUpEdit.SetPos_raisouBeforeAfterConfirm(y),this.powerUpEdit.SetPos_soukouBeforeAfterConfirm(g),this.powerUpEdit.SetPos_taikuBeforeAfterConfirm(m),this.powerUpEdit.shipParameterChecker.updateLucky(t.lucky,S,a),this.powerUpEdit.shipParameterChecker.updateTaikyu(t.taikyu,_),this.powerUpEdit.shipParameterChecker.updateTaisen(t.taisen,l);var M=[a,_,l].some(function(t){return 1==t}),A=[f,y,m,g,v].some(function(t){return 0==t}),E=!1;(A||M)&&(O>t.karyoku||C>t.raisou||P>t.taiku||k>t.soukou||S>t.lucky||M)&&(E=!0),this.powerUpEdit.startButton.update(E)},t.prototype._updateShipFull_=function(t,e){this.powerUpEdit.containerShipFull.cacheAsBitmap=!1,r.TaskLoadShipResource.abortBy(this.powerUpEdit.shipFull);var i=new PIXI.Point(-173,-139),n=o.default.model.ship_graph.get(t).getRemodelPowupUIOffset(e),s=n.x+(e?51:75)+i.x,a=n.y+(e?95:110)+i.y;if(this.powerUpEdit.shipFull.position.set(s,a),1==o.default.resources.isLoadedShip(t,e,"character_full"))this.powerUpEdit.shipFull.texture=o.default.resources.getShip(t,e,"character_full"),this.powerUpEdit.containerShipFull.cacheAsBitmap=!0;else{this.powerUpEdit.shipFull.texture=PIXI.Texture.EMPTY;new r.TaskLoadShipResource("character_full",this.powerUpEdit.shipFull,t,e).start()}},t}();e.TaskKindaika=y},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(21),r=i(336),s=i(800),a=i(801),_=i(802),l=i(804),u=i(805),c=i(806),h=function(t){function e(){var e=t.call(this)||this;e.headerKindaika=new a.PowerUpHeader;var i=new PIXI.Sprite(o.COMMON_MAIN.getTexture(12));i.interactive=!0,e._containerShipFull=new PIXI.Container;var n=new PIXI.Graphics;return e._shipFull=new PIXI.Sprite,e._containerShipFull.position.set(-1,-1),e._containerShipFull.mask=n,e._containerShipFull.addChild(e._shipFull,n),e._cancelButton=new r.CancelButton,e._shipInfoBox=new _.ShipInfoBox,e._karyokuBeforeAfterConfirm=new s.KaryokuBeforeAfterConfirm,e._raisouBeforeAfterConfirm=new s.RaisouBeforeAfterConfirm,e._soukouBeforeAfterConfirm=new s.SoukouBeforeAfterConfirm,e._taikuBeforeAfterConfirm=new s.TaikuBeforeAfterConfirm,e._shipParameterChecker=new c.ShipParameterChecker,e._targetShipBox=new u.TargetShipBox,e._startButton=new l.StartButton,n.beginFill(0,0),n.moveTo(0,30),n.lineTo(30,0),n.lineTo(1050,0),n.lineTo(1050,569),n.lineTo(29,569),n.lineTo(0,537),n.lineTo(0,30),n.endFill(),n.renderable=!1,e._cancelButton.width=198,e._cancelButton.height=56,e._cancelButton.position.set(543,498),e._startButton.position.set(755,483),e._targetShipBox.position.set(534,11),e._shipInfoBox.position.set(11,334),e.headerKindaika.position.set(0,-41),e._shipParameterChecker.position.set(255,343),e.addChild(i,e._containerShipFull,e._shipInfoBox,e._cancelButton,e._startButton,e._karyokuBeforeAfterConfirm,e._raisouBeforeAfterConfirm,e._soukouBeforeAfterConfirm,e._taikuBeforeAfterConfirm,e._shipParameterChecker,e.headerKindaika,e._targetShipBox),e}return n(e,t),Object.defineProperty(e.prototype,"shipFull",{get:function(){return this._shipFull},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"containerShipFull",{get:function(){return this._containerShipFull},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shipInfoBox",{get:function(){return this._shipInfoBox},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"karyokuBeforeAfterConfirm",{get:function(){return this._karyokuBeforeAfterConfirm},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"raisouBeforeAfterConfirm",{get:function(){return this._raisouBeforeAfterConfirm},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"soukouBeforeAfterConfirm",{get:function(){return this._soukouBeforeAfterConfirm},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taikuBeforeAfterConfirm",{get:function(){return this._taikuBeforeAfterConfirm},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shipParameterChecker",{get:function(){return this._shipParameterChecker},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"targetShipBox",{get:function(){return this._targetShipBox},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startButton",{get:function(){return this._startButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cancelButton",{get:function(){return this._cancelButton},enumerable:!0,configurable:!0}),e.prototype.SetPos_karyokuBeforeAfterConfirm=function(t){this._karyokuBeforeAfterConfirm.position.set(252,26-(t?3:0))},e.prototype.SetPos_raisouBeforeAfterConfirm=function(t){this._raisouBeforeAfterConfirm.position.set(252,100-(t?3:0))},e.prototype.SetPos_taikuBeforeAfterConfirm=function(t){this._taikuBeforeAfterConfirm.position.set(252,170-(t?3:0))},e.prototype.SetPos_soukouBeforeAfterConfirm=function(t){this._soukouBeforeAfterConfirm.position.set(252,242-(t?3:0))},e.prototype.dispose=function(){this.removeChildren(),this._containerShipFull.removeChildren(),this._containerShipFull.mask=null,this.headerKindaika.dispose(),this._shipInfoBox.dispose(),this._karyokuBeforeAfterConfirm.dispose(),this._raisouBeforeAfterConfirm.dispose(),this._soukouBeforeAfterConfirm.dispose(),this._taikuBeforeAfterConfirm.dispose(),this._shipParameterChecker.dispose(),this._targetShipBox.dispose(),this._startButton.dispose(),this._cancelButton.dispose(),this.headerKindaika=null,this._shipFull=null,this._containerShipFull=null,this._shipInfoBox=null,this._karyokuBeforeAfterConfirm=null,this._raisouBeforeAfterConfirm=null,this._soukouBeforeAfterConfirm=null,this._taikuBeforeAfterConfirm=null,this._shipParameterChecker=null,this._targetShipBox=null,this._startButton=null,this._cancelButton=null},e}(PIXI.Container);e.PowerUpEdit=h},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(3),s=function(t){function e(e,i){var n=t.call(this)||this;return n.textureNormalFrame=r.REMODEL_POWERUP.getTexture(e),n.textureMaxFrame=r.REMODEL_POWERUP.getTexture(i),n.textBefore=new o.TextBox(30,5523516),n.textAfter=new o.TextBox(30,5523516),n.textMax=new PIXI.Sprite(r.REMODEL_POWERUP.getTexture(41)),n.textBefore.anchor.x=0,n.textAfter.anchor.x=0,n.textMax.anchor.x=0,n.textMax.position.set(233-Math.floor(n.textMax.width/2),6),n.textMax.visible=!1,n.addChild(n.textBefore,n.textAfter,n.textMax),n}return n(e,t),e.prototype.update=function(t,e,i){this.textBefore.text=t.toString(),this.textAfter.text=e.toString(),this.textMax.visible=!1,t==e||i?this.textAfter.style.fill=5523516:(this.textAfter.style.fill=1949120,this.textMax.visible=!0),this.texture=i?this.textureMaxFrame:this.textureNormalFrame,this.textBefore.position.set(108+Math.floor(34.0125-this.textBefore.width/2),14),this.textAfter.position.set(203+Math.floor(31.5-this.textAfter.width/2),14)},e.prototype.dispose=function(){this.removeChildren(),this.textBefore.destroy(),this.textAfter.destroy(),this.textBefore=null,this.textBefore=null,this.textAfter=null,this.textureNormalFrame=null,this.textureMaxFrame=null},e}(PIXI.Sprite),a=function(t){function e(){return t.call(this,30,31)||this}return n(e,t),e}(s);e.KaryokuBeforeAfterConfirm=a;var _=function(t){function e(){return t.call(this,32,33)||this}return n(e,t),e}(s);e.RaisouBeforeAfterConfirm=_;var l=function(t){function e(){return t.call(this,34,35)||this}return n(e,t),e}(s);e.TaikuBeforeAfterConfirm=l;var u=function(t){function e(){return t.call(this,36,37)||this}return n(e,t),e}(s);e.SoukouBeforeAfterConfirm=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(3),s=i(88),a=function(t){function e(){var e=t.call(this)||this;return e.headerKansenStatus=new s.TitleBar,e.headerKansenStatus.initialize(o.COMMON_MAIN.getTexture(1),35),e.headerSelectKyouka=new s.TitleBar,e.headerSelectKyouka.initialize(r.REMODEL_POWERUP.getTexture(3),26),e.headerSelectKyouka.position.set(536,0),e.headerKyoukaList=new s.TitleBar,e.headerKyoukaList.initialize(r.REMODEL_POWERUP.getTexture(2),26),e.headerKyoukaList.position.set(806,0),e.addChild(e.headerKansenStatus,e.headerSelectKyouka,e.headerKyoukaList),e.cacheAsBitmap=!0,e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.cacheAsBitmap=!1,this.headerKansenStatus.dispose(),this.headerKyoukaList.dispose(),this.headerSelectKyouka.dispose(),this.headerKansenStatus=null,this.headerKyoukaList=null,this.headerSelectKyouka=null},e}(PIXI.Container);e.PowerUpHeader=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(130),s=i(803),a=i(15),_=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite(r.REMODEL_POWERUP.getTexture(16));e.textType=new o.TextBox(21,16777215),e.textName=new o.TextBox(36,16777215),e.textLevel=new o.TextBox(65,16777215),e.starRate=new s.StarRate;var n=a.CreateRect.gradientLeftToRight(220,50,.65,.9);return e.containerName=new PIXI.Container,e.containerName.mask=n,e.containerName.addChild(e.textName,n),e.textType.position.set(18,8),e.containerName.position.set(18,36),e.textLevel.position.set(230,89),e.starRate.position.set(15,165),e.textLevel.anchor.x=1,e.addChild(i,e.textType,e.containerName,e.textLevel,e.starRate),e}return n(e,t),e.prototype.update=function(t,e,i,n){this.containerName.cacheAsBitmap=!1,this.textType.text=t,this.textName.text=e,this.textLevel.text=""+i,this.starRate.update(n),this.containerName.cacheAsBitmap=!0},e.prototype.dispose=function(){this.removeChildren(),this.containerName.cacheAsBitmap=!1,this.containerName.mask=null,this.containerName.removeChildren(),this.starRate.dispose(),this.textType.destroy(),this.textName.destroy(),this.textLevel.destroy(),this.textType=null,this.textName=null,this.textLevel=null,this.starRate=null,this.containerName=null},e}(PIXI.Container);e.ShipInfoBox=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=function(t){function e(){var e=t.call(this)||this;e.MAX=5,e.stars=new Array;for(var i=o.REMODEL_POWERUP.getTexture(29),n=0;n<e.MAX;n++){var r=new PIXI.Sprite(i);r.position.set(45*n,0),e.stars.push(r),e.addChild(r)}return e}return n(e,t),e.prototype.update=function(t){for(var e=0;e<this.MAX;e++)this.stars[e].visible=!1,e<t&&(this.stars[e].visible=!0)},e.prototype.dispose=function(){for(var t=0;t<this.MAX;t++)this.removeChild(this.stars[t]),this.stars[t]=null;this.stars=null,this.removeChildren()},e}(PIXI.Container);e.StarRate=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e._onMouseOver=function(){e.texture=e.textureBtnStartIntensifyOn},e._onMouseOut=function(){e.texture=e.textureBtnStartIntensifyOff},e._onClick=function(){e.onClick()},e.textureBtnStartIntensifyNone=o.REMODEL_POWERUP.getTexture(6),e.textureBtnStartIntensifyOn=o.REMODEL_POWERUP.getTexture(8),e.textureBtnStartIntensifyOff=o.REMODEL_POWERUP.getTexture(7),e.texture=e.textureBtnStartIntensifyNone,e.on(r.EventType.MOUSEOVER,e._onMouseOver),e.on(r.EventType.MOUSEOUT,e._onMouseOut),e.on(r.EventType.CLICK,e._onClick),e}return n(e,t),e.prototype.update=function(t){this._updateClickable_(t)},e.prototype._updateClickable_=function(t){this.texture=this.textureBtnStartIntensifyNone,this.interactive=this.buttonMode=!1,t&&(this.texture=this.textureBtnStartIntensifyOff,this.interactive=this.buttonMode=!0)},e.prototype.dispose=function(){this.off(r.EventType.MOUSEOVER),this.off(r.EventType.MOUSEOUT),this.off(r.EventType.CLICK),this.textureBtnStartIntensifyNone=null,this.textureBtnStartIntensifyOn=null,this.textureBtnStartIntensifyOff=null,this.onClick=null,this.interactive=this.buttonMode=!1,this.removeChildren()},e}(PIXI.Sprite);e.StartButton=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(89),s=i(3),a=i(32),_=i(221),l=i(4),u=i(135),c=i(1),h=function(t){function e(){var e=t.call(this)||this;e._onClickEmpty=function(t){e.onClickEmpty(t)},e._onClickSlotIn=function(t){e.onClickSlotIn(t)};var i=new PIXI.Sprite(s.REMODEL_POWERUP.getTexture(15));e.addChild(i),e.emptySlots=new Array;for(var n=0;n<5;n++){var o=new p(n);o.onClick=e._onClickEmpty,o.visible=!1,e.emptySlots.push(o),e.emptySlots[n].position.set(23,26+90*n),e.addChild(o)}e.shipInSlots=new Array;for(var n=0;n<5;n++){var r=new d(n);r.onClick=e._onClickSlotIn,r.visible=!1,r.position.set(23,26+90*n),e.shipInSlots.push(r),e.addChild(r)}return e}return n(e,t),e.prototype.update=function(t){for(var e=0;e<5;e++){var i=this.shipInSlots[e],n=this.emptySlots[e];if(i.visible=!1,n.visible=!1,e<t.length){var s=t[e],a=o.default.model.ship.getMst(s.mstID),_=r.RemodelUtil.genPowUpCategories(a);this.shipInSlots[e].update(s,_[0],_[1],_[2],_[3]),this.shipInSlots[e].visible=!0}else this.emptySlots[e].visible=!0,this.emptySlots[e].update(!1),t.length==e&&this.emptySlots[e].update(!0)}},e.prototype.dispose=function(){this.removeChildren();for(var t=0;t<this.emptySlots.length;t++)this.emptySlots[t].dispose(),this.emptySlots[t]=null;for(var t=0;t<this.shipInSlots.length;t++)this.shipInSlots[t].dispose(),this.shipInSlots[t]=null;this.onClickEmpty=null,this.onClickSlotIn=null,this.emptySlots=null,this.shipInSlots=null},e}(PIXI.Container);e.TargetShipBox=h;var p=function(t){function e(e){var i=t.call(this)||this;return i._onClick=function(){i.onClick(i.index)},i.index=e,i.btnCardSelect=new PIXI.Sprite(s.REMODEL_POWERUP.getTexture(5)),i.btnCardSelect.on(c.EventType.CLICK,i._onClick),i.btnCardSelect.position.set(-6,-6),i.btnCardSelect.visible=!1,i.btnCardSelect.interactive=i.btnCardSelect.buttonMode=!0,i.addChild(i.btnCardSelect),i}return n(e,t),e.prototype.update=function(t){this._updateClickable_(t)},e.prototype._updateClickable_=function(t){this.btnCardSelect.visible=!1,t&&(this.btnCardSelect.visible=!0)},e.prototype.dispose=function(){this.btnCardSelect.off(c.EventType.CLICK),this.onClick=null,this.btnCardSelect=null,this.index=null,this.removeChildren()},e}(PIXI.Container),d=function(t){function e(e){var i=t.call(this)||this;i._onClick=function(){i.onClick(i.index,i.memId)},i._onMouseOver=function(){i.btnCardLeave.visible=!0},i._onMouseOut=function(){i.btnCardLeave.visible=!1},i.index=e,i.iconCategories=new Array,i.btnCardLeave=new PIXI.Sprite(s.REMODEL_POWERUP.getTexture(4)),i.shipBanner=new a.ShipBanner,i.clickArea=new PIXI.Graphics,i.iconCategoriesContainer=new PIXI.Container;var n=new _.IconCategory,r=new _.IconCategory,u=new _.IconCategory,h=new _.IconCategory;i.textName=new l.TextBox(21,16777215),i.textLevel=new l.TextBox(23,16777215);var p=new PIXI.Sprite(o.default.resources.getUIImage("mask"));return i.clickArea.beginFill(0,0),i.clickArea.drawRect(0,0,240,60),i.clickArea.endFill(),i.clickArea.renderable=!1,i.clickArea.interactive=i.clickArea.buttonMode=!0,i.containerName=new PIXI.Container,i.containerName.mask=p,i.containerName.addChild(i.textName,p),p.scale.x=-1,p.anchor.x=1,i.textLevel.anchor.x=1,i.containerName.position.set(248,-6),i.textLevel.position.set(443,-2),i.iconCategoriesContainer.position.set(254,27),n.x=0,r.x=48,u.x=96,h.x=144,i.btnCardLeave.position.set(-6,-6),i.clickArea.on(c.EventType.MOUSEOVER,i._onMouseOver),i.clickArea.on(c.EventType.MOUSEOUT,i._onMouseOut),i.clickArea.on(c.EventType.CLICK,i._onClick),i.iconCategoriesContainer.addChild(n,r,u,h),i.iconCategories.push(n,r,u,h),i.btnCardLeave.visible=!1,i.addChild(i.iconCategoriesContainer,i.containerName,i.textLevel,i.shipBanner,i.btnCardLeave,i.clickArea),i}return n(e,t),e.prototype.update=function(t,e,i,n,o){this.memId=t.memID,this.shipBanner.update(t,!1),this.iconCategories[0].visible=!1,e!=u.PowerUpCategory.EMPTY&&(this.iconCategories[0].visible=!0,this.iconCategories[0].update(e)),this.iconCategories[1].visible=!1,i!=u.PowerUpCategory.EMPTY&&(this.iconCategories[1].visible=!0,this.iconCategories[1].update(i)),this.iconCategories[2].visible=!1,n!=u.PowerUpCategory.EMPTY&&(this.iconCategories[2].visible=!0,this.iconCategories[2].update(n)),this.iconCategories[3].visible=!1,o!=u.PowerUpCategory.EMPTY&&(this.iconCategories[3].visible=!0,this.iconCategories[3].update(o)),this.btnCardLeave.visible=!1,this.textLevel.text="Lv."+t.level,this.containerName.cacheAsBitmap=!1,this.textName.text=t.name,this.containerName.cacheAsBitmap=!0},e.prototype.dispose=function(){this.removeChildren(),this.iconCategoriesContainer.removeChildren(),this.containerName.cacheAsBitmap=!1,this.containerName.mask=null,this.containerName.removeChildren(),this.shipBanner.dispose(),this.textName.destroy(),this.textLevel.destroy();for(var t=0;t<this.iconCategories.length;t++)this.iconCategories[t].dispose(),this.iconCategories[t]=null;this.clickArea.off(c.EventType.MOUSEOVER),this.clickArea.off(c.EventType.MOUSEOUT),this.clickArea.off(c.EventType.CLICK),this.clickArea.clear(),this.onClick=null,this.clickArea=null,this.btnCardLeave=null,this.shipBanner=null,this.iconCategories=null,this.iconCategoriesContainer=null,this.textName=null,this.textLevel=null,this.index=null,this.containerName=null},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(212),r=i(130),s=function(t){function e(){var e=this,i=r.REMODEL_POWERUP.getTexture(13);e=t.call(this,i)||this;var n=r.REMODEL_POWERUP.getTexture(22);return e._taikyuArrow=new PIXI.Sprite(n),e._taikyuArrow.position.set(106,8),e._taikyuArrow.visible=!1,e.addChild(e._taikyuArrow),e._taisenArrow=new PIXI.Sprite(n),e._taisenArrow.position.set(245,110),e._taisenArrow.visible=!1,e.addChild(e._taisenArrow),e._luckyArrow=new PIXI.Sprite(n),e._luckyArrow.position.set(245,179),e._luckyArrow.visible=!1,e.addChild(e._luckyArrow),e}return n(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),this._taikyuArrow=null,this._taisenArrow=null,this._luckyArrow=null},e.prototype.clear=function(){this._textHp.text="",this._textSoukou.text="",this._textKaihi.text="",this._textTousai.text="",this._textKaryoku.text="",this._textRaisou.text="",this._textTaiku.text="",this._textTaisen.text="",this._textSakuteki.text="",this._textLucky.text=""},e.prototype.updateKaryoku=function(t,e){var i=5523516;t!=e&&(i=1949120),this._textKaryoku.style.fill=i,this._textKaryoku.text=""+e},e.prototype.updateRaisou=function(t,e){var i=5523516;t!=e&&(i=1949120),this._textRaisou.style.fill=i,this._textRaisou.text=""+e},e.prototype.updateSoukou=function(t,e){var i=5523516;t!=e&&(i=1949120),this._textSoukou.style.fill=i,this._textSoukou.text=""+e},e.prototype.updateTaiku=function(t,e){var i=5523516;t!=e&&(i=1949120),this._textTaiku.style.fill=i,this._textTaiku.text=""+e},e.prototype.updateLucky=function(t,e,i){this._textLucky.visible=!1,this._luckyArrow.visible=!1;var n=5523516,o="",r=t!=e;i?this._luckyArrow.visible=!0:r?(n=1949120,o=""+e,this._textLucky.visible=!0):(o=""+e,this._textLucky.visible=!0),this._textLucky.style.fill=n,this._textLucky.text=o},e.prototype.updateTaikyu=function(t,e){this._textHp.visible=!1,this._taikyuArrow.visible=!1,e?this._taikyuArrow.visible=!0:(this._textHp.visible=!0,this._textHp.text=""+t)},e.prototype.updateTaisen=function(t,e){this._taisenArrow.visible=!1,this._textTaisen.visible=!1,e?this._taisenArrow.visible=!0:(this._textTaisen.visible=!0,this._textTaisen.text=""+t)},e.prototype.updateCommon=function(t,e,i,n,o,r,s){this._textHp.text=""+t,this._textKaihi.text=""+e,this._textTousai.text=""+i,this._textTaisen.text=""+r,this._textSakuteki.text=""+s,this._sokuryoku.update(n),this._shatei.update(o),this._sokuryoku.position.set(111-Math.floor(this._sokuryoku.width/2),142),this._shatei.position.set(110-Math.floor(this._shatei.width/2),175)},e.prototype._alignment=function(){this._textHp.position.set(134,3),this._textSoukou.position.set(134,38),this._textKaihi.position.set(134,72),this._textTousai.position.set(134,107),this._sokuryoku.position.set(111,143),this._shatei.position.set(111,177),this._textKaryoku.position.set(273,3),this._textRaisou.position.set(273,38),this._textTaiku.position.set(273,72),this._textTaisen.position.set(273,106),this._textSakuteki.position.set(273,139),this._textLucky.position.set(273,174)},e}(o.ShipParameterViewBase);e.ShipParameterChecker=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(0),s=i(4),a=i(32),_=i(135),l=i(3),u=i(808),c=i(1),h=function(t){function e(){var e=t.call(this)||this;e._onClickYES=function(){e.onClickYES()},e._onClickNO=function(){e.onClickNO()};var i=new PIXI.Sprite(o.COMMON_MAIN.getTexture(63));e.btn_no=new PIXI.Sprite(l.REMODEL_GRADEUP.getTexture(3)),e.btn_yes=new PIXI.Sprite(l.REMODEL_GRADEUP.getTexture(8));var n=new PIXI.Sprite(l.REMODEL_POWERUP.getTexture(0));e.shipBanner=new a.ShipBanner,e.label1=new s.TextBox(19,1949120),e.label2=new s.TextBox(19,1949120),e.label3=new s.TextBox(19,1949120),e.containerName=new PIXI.Container,e.containerNames=new PIXI.Container;var _=new PIXI.Sprite(r.default.resources.getUIImage("mask")),h=new PIXI.Sprite(r.default.resources.getUIImage("mask"));return _.scale.set(-2.8,3.5),_.anchor.x=1,h.scale.set(-2.8,3.5),h.anchor.x=1,e.textName=new s.TextBox(19,16777215),e.textNames=new s.TextBox(19,16777215),e.iconCategories=new u.IconCategories,e.label1.text="\u5f37\u5316\u3059\u308b\u8266\u8239",e.label2.text="\u5408\u6210\u7d20\u6750\u306e\u8266\u8239",e.label3.text="\u5f37\u5316\u9805\u76ee",e.label1.position.set(414,201),e.label2.position.set(414,309),e.label3.position.set(414,483),e.containerName.addChild(e.textName,_),e.containerName.mask=_,e.containerName.position.set(617,201),e.containerNames.addChild(e.textNames,h),e.containerNames.mask=h,e.containerNames.position.set(617,309),e.iconCategories.position.set(617,473),e.shipBanner.position.set(623,234),i.position.set(86,60),n.position.set(516,20),e.btn_no.position.set(377,588),e.btn_yes.position.set(639,588),e.btn_yes.interactive=e.btn_yes.buttonMode=!0,e.btn_no.interactive=e.btn_no.buttonMode=!0,e.btn_yes.on(c.EventType.CLICK,e._onClickYES),e.btn_no.on(c.EventType.CLICK,e._onClickNO),e.addChild(i,n,e.btn_no,e.btn_yes,e.shipBanner,e.label1,e.label2,e.label3,e.containerName,e.containerNames,e.iconCategories),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.containerName.cacheAsBitmap=!1,this.containerNames.cacheAsBitmap=!1,this.containerName.removeChildren(),this.containerNames.removeChildren(),this.containerName.mask=null,this.containerNames.mask=null,this.shipBanner.dispose(),this.iconCategories.dispose(),this.btn_yes.off(c.EventType.CLICK),this.btn_no.off(c.EventType.CLICK),this.textName.destroy(),this.textNames.destroy(),this.label1.destroy(),this.label2.destroy(),this.label3.destroy(),this.onClickYES=null,this.onClickNO=null,this.iconCategories=null,this.textName=null,this.textNames=null,this.shipBanner=null,this.btn_yes=null,this.btn_no=null,this.containerName=null,this.containerNames=null},e.prototype.update=function(t,e,i){this.containerName.cacheAsBitmap=!1,this.containerNames.cacheAsBitmap=!1;for(var n="",o=0;o<e.length;o++){var r=e[o];r.mstID;n+=r.shipTypeName+" \u300c"+r.name+"\u300d\n"}var s={};s[_.PowerUpCategory.Karyoku]=i.karyoku,s[_.PowerUpCategory.Raisou]=i.raiso,s[_.PowerUpCategory.Taiku]=i.taiku,s[_.PowerUpCategory.Soukou]=i.souko,this.iconCategories.update(s),this.textNames.text=n,this.textName.text=t.shipTypeName+" \u300c"+t.name+"\u300d",this.shipBanner.update(t,!1),this.containerName.cacheAsBitmap=!0,this.containerNames.cacheAsBitmap=!0},e}(PIXI.Container);e.PowerUpStartConfirm=h},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(221),r=i(4),s=i(135),a=function(t){function e(){var e=t.call(this)||this;e.powerNums=[],e.iconCategories=new Array;for(var i=0;i<4;i++){var n=new o.IconCategory;n.position.set(90*i,0),n.update(s.PowerUpCategory.EMPTY),e.iconCategories.push(n);var a=new r.TextBox(21,16777215);a.position.set(45+90*i,9),e.powerNums.push(a),e.addChild(n),e.addChild(a)}return e}return n(e,t),e.prototype.update=function(t){for(var e=0;e<4;e++)this.powerNums[e].visible=!1,this.iconCategories[e].visible=!1;var i=0,n=t[s.PowerUpCategory.Karyoku];0<n&&(this.powerNums[i].text="+"+n,this.iconCategories[i].update(s.PowerUpCategory.Karyoku),this.powerNums[i].visible=!0,this.iconCategories[i].visible=!0,i++),n=t[s.PowerUpCategory.Raisou],0<n&&(this.powerNums[i].text="+"+n,this.iconCategories[i].update(s.PowerUpCategory.Raisou),this.powerNums[i].visible=!0,this.iconCategories[i].visible=!0,i++),n=t[s.PowerUpCategory.Taiku],0<n&&(this.powerNums[i].text="+"+n,this.iconCategories[i].update(s.PowerUpCategory.Taiku),this.powerNums[i].visible=!0,this.iconCategories[i].visible=!0,i++),0<(n=t[s.PowerUpCategory.Soukou])&&(this.powerNums[i].text="+"+n,this.iconCategories[i].update(s.PowerUpCategory.Soukou),this.powerNums[i].visible=!0,this.iconCategories[i].visible=!0,i++)},e.prototype.dispose=function(){this.removeChildren();for(var t=0;t<this.iconCategories.length;t++)this.iconCategories[t].dispose(),this.iconCategories[t]=null;for(var t=0;t<this.powerNums.length;t++)this.powerNums[t].destroy(),this.powerNums[t]=null;this.iconCategories=null,this.powerNums=null},e}(PIXI.Container);e.IconCategories=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),o=i(0),r=i(28),s=i(137),a=i(51),_=i(89),l=i(810),u=i(811),c=function(){function t(t){var e=this;this._onClickShip=function(t,i){e.onClickShip(i);o.default.view.clickGuard=!0,e.backAreaChoiceShip.width=n.default.width,createjs.Tween.get(e.backAreaChoiceShip).to({alpha:0},125),createjs.Tween.get(e.shipList).to({x:n.default.width},125).call(function(){o.default.view.clickGuard=!1,e.onComplete()})},this._onClickBack=function(){o.default.view.clickGuard=!0,e.backAreaChoiceShip.width=n.default.width,createjs.Tween.get(e.backAreaChoiceShip).to({alpha:0},125),createjs.Tween.get(e.shipList).to({x:n.default.width},125).call(function(){o.default.view.clickGuard=!1,e.onComplete()})},this._onClickPager_=function(t){e.pageIndex!=t&&e._updatePage_(t)},this._onClickSort_=function(){switch(s.SceneMemory.shipSortKeyType){case 1:s.SceneMemory.shipSortKeyType=2;break;case 2:s.SceneMemory.shipSortKeyType=3;break;case 3:s.SceneMemory.shipSortKeyType=4;break;case 4:s.SceneMemory.shipSortKeyType=1}e._updateSort_(s.SceneMemory.shipSortKeyType),e._updatePage_(e.pageIndex)},this.mainView=t,this.backAreaChoiceShip=new l.BackAreaChoiceShip,this.shipList=new u.ShipList,this.shipList.pagerView.onChangePage=this._onClickPager_,this.shipList.shipSortButton.onClick=this._onClickSort_,this.backAreaChoiceShip.onClick=this._onClickBack,this.shipList.onClick=this._onClickShip}return t.prototype.dispose=function(){this.mainView.removeChild(this.backAreaChoiceShip),this.mainView.removeChild(this.shipList),this.onClickShip=null,this.onComplete=null,this._onClickBack=null,this._onClickShip=null,this.backAreaChoiceShip&&this.backAreaChoiceShip.dispose(),this.shipList&&this.shipList.dispose(),this.mainView=null,this.backAreaChoiceShip=null,this.shipList=null,this.targets=null,this.pageIndex=null},t.prototype.start=function(t,e){var i=this;o.default.view.clickGuard=!0;var a;a=_.RemodelUtil.createShipListForPowerUp(),a=r.ShipUtil.filter(a,!0,t),this._updateTargets_(a),this._updateSort_(s.SceneMemory.shipSortKeyType),this._updatePage_(e),this.shipList.position.set(n.default.width,141),this.backAreaChoiceShip.alpha=0,this.mainView.addChild(this.backAreaChoiceShip),this.mainView.addChild(this.shipList);createjs.Tween.get(this.backAreaChoiceShip).to({alpha:1},125),createjs.Tween.get(this.shipList).to({x:638},125).call(function(){i.backAreaChoiceShip.width=684,o.default.view.clickGuard=!1})},t.prototype._updateTargets_=function(t){var e=_.RemodelUtil.calcPageCount(t.length);this.shipList.pagerView.init(e),this.targets=t},t.prototype._updateSort_=function(t){r.ShipUtil.sort(this.targets,t),1==t&&(this.targets=this.targets.reverse()),s.SceneMemory.shipSortKeyType=t,this.shipList.shipSortButton.update(t)},t.prototype._updatePage_=function(t){var e=this.targets.slice(a.RemodelConst.ITEM_NUM*t,a.RemodelConst.ITEM_NUM*t+a.RemodelConst.ITEM_NUM);this.shipList.clear();for(var i=0;i<e.length;i++){var n=e[i],r=o.default.model.ship.getMst(n.mstID),s=o.default.model.deck.isInDeck(n.memID);this.shipList.update(i,n,r,s)}this.pageIndex=t},t}();e.TaskShipChoice=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(1),s=function(t){function e(){var e=t.call(this)||this;e._onClick=function(){e.onClick()};return e.beginFill(0,.5),e.drawRect(0,103,o.default.width,o.default.height-103),e.endFill(),e.interactive=!0,e.addListener(r.EventType.CLICK,e._onClick),e}return n(e,t),e.prototype.dispose=function(){this.onClick=this._onClick=null,this.clear(),this.removeAllListeners(r.EventType.CLICK)},e}(PIXI.Graphics);e.BackAreaChoiceShip=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(164),r=i(126),s=i(86),a=i(87),_=i(222),l=i(4),u=i(21),c=i(130),h=i(51),p=i(89),d=i(88),f=i(221),y=i(1),m=function(t){function e(){var e=t.call(this)||this;e._onClick=function(t,i){e.onClick(t,i)};var i=new PIXI.Sprite(c.REMODEL_POWERUP.getTexture(12)),n=new PIXI.Sprite(c.REMODEL_POWERUP.getTexture(28)),o=new s.PagerView,r=new _.ShipSortButton,a=new Array,l=new PIXI.Container,p=new d.TitleBar;p.initialize(u.COMMON_MAIN.getTexture(0),38),i.interactive=!0,n.position.set(51,12),o.position.set(39,521),l.position.set(51,48),r.position.set(488,6),e.addChild(i,n,o,r);for(var f=0;f<h.RemodelConst.ITEM_NUM;f++){var y=new g(f);y.visible=!1,y.onClick=e._onClick,y.x=51,y.y=48+45*f,a.push(y),e.addChild(y)}return e.addChild(p),p.position.set(0,-37),e._pagerView=o,e._shipSortButton=r,e.listItems=a,e.headerKansenSentaku=p,e}return n(e,t),Object.defineProperty(e.prototype,"shipSortButton",{get:function(){return this._shipSortButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pagerView",{get:function(){return this._pagerView},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.listItems.forEach(function(t){return t.visible=!1})},e.prototype.update=function(t,e,i,n){var o=this.listItems[t];o.update(e,i,n),o.visible=!0},e.prototype.dispose=function(){this._shipSortButton.dispose(),this._pagerView.dispose(),this.headerKansenSentaku.dispose(),this.listItems.forEach(function(t){t.dispose()}),this.onClick=null,this._onClick=null,this._shipSortButton=null,this._pagerView=null,this.headerKansenSentaku=null,this.listItems=null},e}(PIXI.Container);e.ShipList=m;var g=function(t){function e(e){var i=t.call(this)||this;i._onMouseOver=function(){i.containerTypeAndName.cacheAsBitmap=!1,i.background.alpha=1,i.textType.style.fill=i.textName.style.fill=i.textLevel.style.fill=16777215,i.containerTypeAndName.cacheAsBitmap=!0},i._onMouseOut=function(){i.containerTypeAndName.cacheAsBitmap=!1,i.background.alpha=0,i.textType.style.fill=i.textName.style.fill=5523516,i.textLevel.style.fill=i.mouseoutColor,i.containerTypeAndName.cacheAsBitmap=!0},i._onClick=function(){i.onClick(i.index,i.memId)};var n=Math.floor(22.5)+1,o=new PIXI.Sprite(u.COMMON_MAIN.getTexture(17)),s=new PIXI.Container,_=new l.TextBox(18,5523516),c=new l.TextBox(20,5523516),h=new l.TextBox(20,5523516),p=new f.IconCategory,d=new f.IconCategory,m=new f.IconCategory,g=new f.IconCategory,v=new a.ShipInDeckFlag,b=r.CreateRect.gradientLeftToRight(270,45,.75,.85);return v.scale.set(.8,.8),o.position.x=-33,o.scale.x=1.2,o.interactive=o.buttonMode=!0,o.alpha=0,o.on(y.EventType.MOUSEOVER,i._onMouseOver),o.on(y.EventType.MOUSEOUT,i._onMouseOut),o.on(y.EventType.CLICK,i._onClick),_.anchor.y=0,_.position.y=Math.floor(n-_.height/2),c.anchor.y=0,c.position.y=Math.floor(n-c.height/2)+0,h.anchor.y=0,h.position.set(293,Math.floor(n-h.height/2)+0),s.position.set(17,0),p.position.set(311,0),d.position.set(356,0),m.position.set(401,0),g.position.set(446,0),v.anchor.set(0,.5),v.position.set(-15,n),v.visible=!1,h.anchor.x=1,s.mask=b,s.addChild(_,c,b),i.addChild(o,s,h,p,d,m,g,v),i.textType=_,i.textName=c,i.textLevel=h,i.iconCategory_0=p,i.iconCategory_1=d,i.iconCategory_2=m,i.iconCategory_3=g,i.background=o,i.index=e,i.memId=-1,i.shipInDeckFlag=v,i.containerTypeAndName=s,i.maskTextAndName=b,i}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.containerTypeAndName.cacheAsBitmap=!1,this.containerTypeAndName.mask=null,this.containerTypeAndName.removeChildren(),this.iconCategory_0.dispose(),this.iconCategory_1.dispose(),this.iconCategory_2.dispose(),this.iconCategory_3.dispose(),this.background.off(y.EventType.MOUSEOVER),this.background.off(y.EventType.MOUSEOUT),this.background.off(y.EventType.CLICK),this.textType.destroy(),this.textName.destroy(),this.textLevel.destroy(),this.onClick=null,this.memId=null,this.textType=null,this.textName=null,this.textLevel=null,this.iconCategory_0=null,this.iconCategory_1=null,this.iconCategory_2=null,this.iconCategory_3=null,this.background=null,this.shipInDeckFlag=null,this.maskTextAndName=null,this.containerTypeAndName=null,this.mouseoutColor=null},e.prototype.update=function(t,e,i){this.containerTypeAndName.cacheAsBitmap=!1,this.shipInDeckFlag.visible=!1,i&&(this.shipInDeckFlag.update(i),this.shipInDeckFlag.visible=!0),this.textLevel.style.fill=this.mouseoutColor=o.ColorUtil.getLevelColor(t.level),this.memId=t.memID;var n=p.RemodelUtil.genPowUpCategories(e);this.textLevel.text=t.level.toString(),this.textName.text=t.name,this.textType.text=t.shipTypeName+" ",this.textName.position.x=this.textType.x+this.textType.width,this.iconCategory_0.update(n[0]),this.iconCategory_1.update(n[1]),this.iconCategory_2.update(n[2]),this.iconCategory_3.update(n[3]),this.containerTypeAndName.cacheAsBitmap=!0},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=i(150),a=function(t){function e(e,i){var n=t.call(this)||this;return n._url="api_req_kaisou/powerup",n.api_id=e,n.api_id_items=i,n}return n(e,t),Object.defineProperty(e.prototype,"api_powerup_flag",{get:function(){return 1==this._raw_data.api_powerup_flag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"api_ship",{get:function(){return this._raw_data.api_ship},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"api_deck",{get:function(){return this._raw_data.api_deck},enumerable:!0,configurable:!0}),e.prototype._connect=function(){this._post_data.api_id=this.api_id,this._post_data.api_id_items=this.api_id_items.toString(),t.prototype._connect.call(this)},e.prototype._completedEnd=function(){for(var e=0;e<this.api_id_items.length;e++){var i=this.api_id_items[e];o.default.model.ship.delete(i,!1)}var n=new s.ShipModelEdit(this.api_ship);o.default.model.ship.get(n.memID).__update__(this.api_ship),o.default.model.deck.setData(this.api_deck),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.PowerUpAPI=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(337),r=i(20),s=i(8),a=i(338),_=i(40),l=i(81),u=i(6),c=i(3),h=i(339),p=i(1),d=function(t){function e(e,i){var n=t.call(this,e)||this;return n._mainView=i,n._bg_itemlost=new PIXI.Sprite(c.COMMON_ANIMATION.getTexture(0)),n._penguin=new a.FailedPenguin,n._obj_leaf=new PIXI.Sprite(c.COMMON_ANIMATION.getTexture(1)),n._obj_leaf.anchor.set(.5,.5),n._messageBox=new l.MessageBox(!1),n._gearBtnHome=new _.GearBtnHome,n._gearBtnHome.initialize(),n._gearBtnHome.x=1140,n._gearBtnHome.y=660,n.leafTween=o.LeafAnimationUtil.LeafAnimation(n._obj_leaf,new PIXI.Point(0,60)),n.leafTween.setPaused(!0),n}return n(e,t),e.prototype._03_link=function(){this.addChild(this._bg_itemlost),this._penguin.light.alpha=0,this._penguin.light_place.alpha=0,this.addChild(this._penguin),this._obj_leaf.visible=!1,this.addChild(this._obj_leaf),this.addChild(this._background),this.addChild(this._ship),this._04_whiteInOut()},e.prototype._04_whiteInOut=function(){var t=this;this._white.alpha=0,this.addChild(this._white),createjs.Tween.get(this._white).to({alpha:1},400).call(function(){t.removeChild(t._background),t.removeChild(t._ship)}).to({alpha:0},500).call(function(){t.removeChild(t._white),t._05_showFailedPenguin()})},e.prototype._05_showFailedPenguin=function(){var t,e=this,i=new r.TweenTask;t=createjs.Tween.get(this._penguin.light).to({alpha:1},300),i.addTween(t),t=createjs.Tween.get(this._penguin.light_place).to({alpha:1},300),i.addTween(t),i.start(function(){e._obj_leaf.visible=!0,e.leafTween.setPaused(!1),e._06_typeMessage()})},e.prototype._06_typeMessage=function(){var t=this;this._messageBox.y=1200,this._messageBox.initialize("\u8fd1\u4ee3\u5316\u6539\u4fee\uff08\u5408\u6210\uff09\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002"),this.addChild(this._messageBox),createjs.Tween.get(this._messageBox).to({y:480},500,createjs.Ease.quadOut).call(function(){t._gearBtnHome.activate(),t.addChild(t._gearBtnHome),u.SE.play("247"),t._messageBox.activate(function(){t._07_waitClick()})})},e.prototype._07_waitClick=function(){var t=this,e=new s.AreaBox(0);e.buttonMode=!0,this.addChild(e),e.once(p.EventType.CLICK,function(){t.removeChild(e),t._08_whiteInOut()})},e.prototype._08_whiteInOut=function(){var t=this;this.addChild(this._white),createjs.Tween.get(this._white).to({alpha:1},500).call(function(){t.removeChild(t._bg_itemlost),t.removeChild(t._obj_leaf),t.removeChild(t._penguin),t.removeChild(t._messageBox),t.removeChild(t._gearBtnHome),t._gearBtnHome.dispose(),t._mainView.visible=!0,createjs.Tween.get(t._white).to({alpha:0},500).call(function(){t.removeChild(t._white),null!=t._cb_onComplete&&t._cb_onComplete()})})},e.prototype.dispose=function(){this.removeChildren(),createjs.Tween.removeTweens(this.leafTween.target),this.leafTween=null,t.prototype.dispose.call(this),this._bg_itemlost=null,this._penguin.dispose(),this._penguin=null,this._obj_leaf=null,this._messageBox.dispose(),this._messageBox=null,this._gearBtnHome=null},e}(h.PowerUpAnimation);e.PowerUpAnimationFailed=d},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=function(t){function e(){var e=t.call(this)||this;e.rollR=[0,0,0,0],e.rot=[0,0,0,0],e.spd=2,e.balls=[],e.RESIDS=[4,5,6,7];for(var i=0;i<e.RESIDS.length;i++){var n=new PIXI.Sprite(o.REMODEL_ANIMATION.getTexture(e.RESIDS[i]));n.anchor.set(.5,.5),e.addChild(n),e.balls.push(n)}return createjs.Tween.get(e,{loop:!0}).wait(1/60).call(function(){e.__ENTERFRAME__()}).play(null),e}return n(e,t),e.prototype.updateRotationTable=function(){for(var t=0;t<this.RESIDS.length;t++)this.rollR[t]=Math.floor(121*Math.random())-60,this.rot[t]=Math.floor(360*Math.random())},e.prototype.__ENTERFRAME__=function(){for(var t=0;t<4;t++){var e=this.balls[t];e.x=this.rollR[t]*Math.cos(this.rot[t]/180*Math.PI),e.y=this.rollR[t]*Math.sin(this.rot[t]/180*Math.PI),this.rot[t]+=this.spd}},e.prototype.dispose=function(){createjs.Tween.removeTweens(this),this.rollR=null,this.rot=null,this.spd=null,this.balls=null,this.RESIDS=null,this.removeChildren()},e}(PIXI.Container);e.PowerElement=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(20),s=i(8),a=i(40),_=i(12),l=i(6),u=i(3),c=i(339),h=i(1),p=function(t){function e(e,i){var n=t.call(this,e)||this;return n._mainView=i,n._telopBG=new PIXI.Sprite,n._telopLineTop=new PIXI.Sprite,n._telopLineBottom=new PIXI.Sprite,n._telopText=new PIXI.Sprite,n._particles=new d,n}return n(e,t),e.prototype._03_link=function(){this._04_showTelop()},e.prototype._04_showTelop=function(){var t=this;this._telopBG.texture=u.REMODEL_ANIMATION.getTexture(2),this._telopBG.alpha=.35,this._telopBG.anchor.set(.5),this._telopBG.position.set(o.default.width/2,o.default.height/2),this._telopBG.scale.y=0,this.addChild(this._telopBG);var e=u.REMODEL_ANIMATION.getTexture(3);this._telopLineTop.texture=e,this._telopLineTop.anchor.set(.5),this._telopLineTop.position.set(o.default.width/2,o.default.height/2),this.addChild(this._telopLineTop),this._telopLineBottom.texture=e,this._telopLineBottom.anchor.set(.5),this._telopLineBottom.position.set(o.default.width/2,o.default.height/2),this.addChild(this._telopLineBottom);var i,n=new r.TweenTask;i=createjs.Tween.get(this._telopBG.scale).to({y:1},300),n.addTween(i),i=createjs.Tween.get(this._telopLineTop).to({y:o.default.height/2-155},300),n.addTween(i),i=createjs.Tween.get(this._telopLineBottom).to({y:o.default.height/2+155},300),n.addTween(i),n.start(function(){t._telopText.texture=u.REMODEL_ANIMATION.getTexture(9),t._telopText.x=o.default.width,t._telopText.y=Math.round(o.default.height/2-t._telopText.height/2),t.addChild(t._telopText),createjs.Tween.get(t._telopText).to({x:178},400).call(function(){l.SE.play("226"),t.addChild(t._particles),t._particles.play()}).to({x:63},1700).call(function(){t._05_waitClick()})})},e.prototype._05_waitClick=function(){var t=this,e=new a.GearBtnHome;e.initialize(),e.activate(),e.position.set(1140,660),this.addChild(e);var i=new s.AreaBox(0);i.buttonMode=!0,this.addChild(i),i.once(h.EventType.CLICK,function(){t.removeChild(i),t._06_whiteInOut(e)})},e.prototype._06_whiteInOut=function(t){var e=this;this._white.alpha=0,this.addChild(this._white),createjs.Tween.get(this._white).to({alpha:1},500).call(function(){e.removeChild(e._background),e.removeChild(e._ship),e.removeChild(e._telopBG),e.removeChild(e._telopLineTop),e.removeChild(e._telopLineBottom),e.removeChild(e._telopText),e.removeChild(e._particles),e.removeChild(t),t.dispose(),e._mainView.visible=!0}).to({alpha:0},500).call(function(){e.removeChild(e._white),null!=e._cb_onComplete&&e._cb_onComplete()})},e.prototype.dispose=function(){this.removeChildren(),t.prototype.dispose.call(this),this._telopBG=null,this._telopLineTop=null,this._telopLineBottom=null,this._telopText=null,this._particles.dispose(),this._particles=null},e}(c.PowerUpAnimation);e.PowerUpAnimationSuccess=p;var d=function(t){function e(){var e=t.call(this)||this;e._particles=[];for(var i=[[-459,-59],[-392,-74],[-332,51],[-237,-89],[-158,66],[-96,-54],[-8,60],[39,-65],[141,-35],[239,63],[308,-54],[420,45]],n=u.REMODEL_ANIMATION.getTexture(8),o=0;o<12;o++){var r=new _.Sprite(n);r.anchor.set(.5),r.scale.set(0),r.x=i[o][0]+600,r.y=i[o][1]+360,e.addChild(r),e._particles.push(r)}return e}return n(e,t),e.prototype.play=function(){this._removeTweens(),this._tweens=[];for(var t=0;t<this._particles.length;t++){var e=this._particles[t];e.scale.set(0);var i=createjs.Tween.get(e).wait(100*t).to({scaleX:1.5,scaleY:1.5},100).to({scaleX:0,scaleY:0},100);this._tweens.push(i)}},e.prototype.dispose=function(){this._removeTweens(),this.removeChildren(),this._particles=null},e.prototype._removeTweens=function(){if(null!=this._tweens){for(var t=0,e=this._tweens;t<e.length;t++){e[t].setPaused(!0)}this._tweens=null}},e}(PIXI.Container)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),o=i(0),r=i(37),s=i(34),a=i(167),_=i(128),l=i(8),u=i(3),c=i(89),h=i(817),p=i(166),d=i(818),f=i(819),y=i(824),m=i(825),g=i(826),v=i(828),b=i(49),w=i(14),x=i(829),I=i(831),T=function(){function t(t){var e=this;this._onCancel=function(){e._clickGuard=new l.AreaBox(0),o.default.view.overLayer.addChild(e._clickGuard);var t=b.UISettings.DIALOG_FADETIME;e._kaizoDetailBG.width=n.default.width,createjs.Tween.get(e._kaizoDetailBG).to({alpha:0},t),createjs.Tween.get(e._kaizoDetail).to({x:n.default.width},t).call(function(){r.TaskLoadShipResource.abortBy(e._kaizoDetail),e._container.removeChild(e._kaizoDetailBG),e._container.removeChild(e._kaizoDetail),o.default.view.overLayer.removeChild(e._clickGuard),e._clickGuard=null,null!=e._cb_onComplete&&e._cb_onComplete()})},this._onStart=function(){var t=o.default.model.ship.get(e._ship_memid),i=o.default.model.ship_upgrade.getNextID(t.mstID);if(c.RemodelUtil.isSpKaizo(t.mstID)){var n=new w.UIImageLoader("common");n.add("system_bg5.png","sp_kaizo_frame"),n.load(function(){e._spKaizoConfirm=new m.SpKaizoConfirm,e._spKaizoConfirm.activate(e._onSpConfirmYES,e._onSpConfirmNo),e._spKaizoConfirm.visible=!1,o.default.view.overLayer.addChild(e._spKaizoConfirm),e._spKaizoIntro=new v.SpKaizoIntro,e._spKaizoIntro.play([t.mstID,i],function(){e._spKaizoConfirm.visible=!0;var i=o.default.model.ship_upgrade.getRequires(t.mstID),n=e._setRequireObjects(i);e._spKaizoConfirm.update(t,n)},function(){e._spKaizoIntro.visible=!1,o.default.view.overLayer.removeChild(e._clickGuard),e._clickGuard=null}),o.default.view.overLayer.addChild(e._spKaizoIntro),e._clickGuard=new l.AreaBox(0),o.default.view.overLayer.addChild(e._clickGuard),u.SE.play("106")})}else{var r=b.UISettings.DIALOG_FADETIME;e._kaizoConfirmBG=new l.AreaBox(1),e._kaizoConfirmBG.alpha=0,e._kaizoConfirm=new y.KaizoConfirm,e._kaizoConfirm.activate(e._onConfirmYES,e._onConfirmNo);var s=o.default.model.ship_upgrade.getRequires(t.mstID);e._kaizoConfirm.update(t,s.ammo,s.steel),e._kaizoConfirm.alpha=0,o.default.view.overLayer.addChild(e._kaizoConfirmBG),o.default.view.overLayer.addChild(e._kaizoConfirm),e._clickGuard=new l.AreaBox(0),o.default.view.overLayer.addChild(e._clickGuard),u.SE.play("106"),createjs.Tween.get(e._kaizoConfirmBG).to({alpha:1},r),createjs.Tween.get(e._kaizoConfirm).to({alpha:1},r).call(function(){o.default.view.overLayer.removeChild(e._clickGuard),e._container.visible=!1,e._clickGuard=null})}},this._onConfirmNo=function(){var t=b.UISettings.DIALOG_FADETIME;e._container.visible=!0,e._clickGuard=new l.AreaBox(0),o.default.view.overLayer.addChild(e._clickGuard),createjs.Tween.get(e._kaizoConfirmBG).to({alpha:0},t),createjs.Tween.get(e._kaizoConfirm).to({alpha:0},t).call(function(){o.default.view.overLayer.removeChild(e._kaizoConfirmBG),o.default.view.overLayer.removeChild(e._kaizoConfirm),o.default.view.overLayer.removeChild(e._clickGuard),e._clickGuard=null})},this._onSpConfirmNo=function(){var t=b.UISettings.DIALOG_FADETIME;e._container.visible=!0,e._clickGuard=new l.AreaBox(0),o.default.view.overLayer.addChild(e._clickGuard),createjs.Tween.get(e._spKaizoConfirm).to({alpha:0},t).call(function(){o.default.view.overLayer.removeChild(e._spKaizoConfirm),o.default.view.overLayer.removeChild(e._spKaizoIntro),e._spKaizoConfirm.dispose(),e._spKaizoIntro.dispose(),o.default.view.overLayer.removeChild(e._clickGuard),e._clickGuard=null})},this._onConfirmYES=function(){e._clickGuard=new l.AreaBox(0),o.default.view.overLayer.addChild(e._clickGuard),u.SE.play("215"),(new s.APIConnector).add(new h.RemodelingAPI(e._ship_memid)).add(new p.Ship3API(e._ship_memid)).add(new a.MaterialAPI).add(new _.UserSlotItemAPI).start(e._onCompleteAPI)},this._onSpConfirmYES=function(){e._clickGuard=new l.AreaBox(0),o.default.view.overLayer.addChild(e._clickGuard),u.SE.play("215"),(new s.APIConnector).add(new h.RemodelingAPI(e._ship_memid)).add(new p.Ship3API(e._ship_memid)).add(new a.MaterialAPI).add(new _.UserSlotItemAPI).start(e._onSpCompleteAPI)},this._onCompleteAPI=function(){var t=new g.KaizoAnimationMain,i=o.default.model.ship.get(e._ship_memid),n=i.mstID,r=i.isDamaged(),s=o.default.model.ship_graph.get(n).getCenterOffset(r);t.preload(n,r,s,function(){e._onCompleteResources(t)})},this._onSpCompleteAPI=function(){var t=o.default.model.ship.get(e._ship_memid),i=t.mstID,n=new I.SpecialRemodelStartInitializer(i);n.onComplete=function(){n.dispose(),e._onCompleteResourceLoad()},n.start()},this._container=t}return t.prototype.start=function(t,e,i){var r=this;if(null==this._kaizoDetail){this._ship_memid=t,this._cb_onUpdateShip=e,this._cb_onComplete=i,this._kaizoDetailBG=new l.AreaBox(.5),this._kaizoDetailBG.alpha=0,this._container.addChild(this._kaizoDetailBG),this._kaizoDetail=new f.KaizoDetail;var s=o.default.model.ship.get(t),a=o.default.model.ship_upgrade.getRequires(s.mstID),_=new d.KaizoValidateModel(a),u=c.RemodelUtil.canKaizo(s.mstID,s.level),h=!0;o.default.model.basic.slotMax-o.default.model.slot.num<4&&(h=!1),this._kaizoDetail.update(s,_,u,h),this._kaizoDetail.position.set(n.default.width,143),this._kaizoDetail.activate(this._onStart,this._onCancel),this._container.addChild(this._kaizoDetail),this._clickGuard=new l.AreaBox(0),o.default.view.overLayer.addChild(this._clickGuard);var p=b.UISettings.DIALOG_FADETIME;createjs.Tween.get(this._kaizoDetailBG).to({alpha:1},p),createjs.Tween.get(this._kaizoDetail).to({x:204},p).call(function(){r._kaizoDetailBG.width=240,o.default.view.overLayer.removeChild(r._clickGuard),r._clickGuard=null})}},t.prototype._onCompleteResourceLoad=function(){var t=this;null!=this._cb_onUpdateShip&&this._cb_onUpdateShip(),this._container.removeChild(this._kaizoDetailBG),this._container.removeChild(this._kaizoDetail),o.default.view.overLayer.removeChild(this._spKaizoConfirm),o.default.view.overLayer.removeChild(this._spKaizoIntro),this._spKaizoConfirm.dispose(),this._spKaizoIntro.dispose();var e=o.default.model.ship.get(this._ship_memid),i=e.mstID,n=new x.SpecialRemodelStartStage(o.default.resources.getUIImage("vignette_frame"),o.default.resources.getShip(i,!1,"full_x2"),o.default.resources.getShip(i,!1,"text_class"),o.default.resources.getShip(i,!1,"text_name"));o.default.view.overLayer.addChild(n);var r=this._genAnimationKeys(i),s=new I.SpecialRemodelStart(i,n,r);s.onComplete=function(){o.default.view.overLayer.removeChild(n),s.dispose(),n.dispose(),o.default.view.portMain.updateInfo(),o.default.view.overLayer.removeChild(t._clickGuard),t._clickGuard=null},s.play()},t.prototype._genAnimationKeys=function(t){switch(t){case 591:return[{type:2,position:{x:1139.72,y:571.86},scale:1.95,alpha:1},{type:2,position:{x:1520.31,y:382.35},scale:1.2,duration:1e3,easing:23},{type:1,duration:266.6},{type:2,position:{x:197.51,y:-601.3100000000001},scale:1.12},{type:2,position:{x:373.59000000000003,y:-109.56},scale:1.53,duration:1e3,easing:23},{type:1,duration:266.6},{type:2,position:{x:377.89,y:991.62},scale:1.6400000000000001},{type:2,position:{x:19.650000000000002,y:588.19},scale:.76,duration:1e3,easing:23},{type:1,duration:366.6},{type:2,position:{x:1343.45,y:1086.55},scale:1.81},{type:2,position:{x:1642.73,y:1378.14},scale:2.5500000000000003,duration:366.6,easing:9},{type:2,position:{x:-418.49,y:2637.33},scale:2.5500000000000003,duration:766.6,easing:21},{type:2,position:{x:-508.41,y:2918.19},scale:2.86,alpha:1,duration:133.3,easing:21},[{type:2,position:{x:638.62,y:1081.06},scale:1.04},{type:3,position:{x:12,y:12},alpha:1},{type:4,position:{x:12,y:488},alpha:1},{type:6}],{type:2,position:{x:632.7,y:1031.75},scale:.87,duration:1500,easing:9}];case 594:return[{type:2,position:{x:787.58,y:323.13},scale:2.45,alpha:1,easing:0},{type:2,position:{x:809.33,y:-1038.46},scale:1.6300000000000001,duration:1100,easing:23},{type:1,duration:.2666},{type:2,position:{x:-269.77,y:-778.12},scale:1.3900000000000001,easing:23},{type:2,position:{x:243.54,y:427.74},scale:1.18,duration:2660,easing:23},{type:1,duration:366.6},{type:2,position:{x:769.99,y:2651.54},scale:3.15,easing:0},{type:2,position:{x:1459.1200000000001,y:2450.6},scale:2.82,duration:833.33,easing:23},{type:1,duration:433.33},{type:2,position:{x:-18.900000000000002,y:1503.88},scale:1.880000000000001,easing:0},{type:2,position:{x:-109.78,y:1634.48},scale:2.14,duration:466.67,easing:9},{type:1,duration:166.67000000000002},{type:2,position:{x:1168.45,y:1799.54},scale:2.14,duration:366.67,easing:22},{type:2,position:{x:2466.18,y:-836.4200000000001},scale:2.4,duration:1300,easing:23},{type:2,position:{x:2709.4,y:-1054.2},scale:2.66,duration:200,easing:7},{type:1,duration:133.33},{type:2,position:{x:700.29,y:1814.98},scale:1.94,easing:0},[{type:2,position:{x:663.33,y:818.4200000000001},scale:.68,duration:1166.67,easing:9},{type:3,position:{x:12,y:12},alpha:1,easing:0},{type:4,position:{x:12,y:489},alpha:1,easing:0},{type:6}]];case 599:return[{type:2,position:{x:2291.35,y:-648.85},scale:2.31,alpha:1,duration:0,easing:0},{type:2,position:{x:1083.74,y:1922.63},scale:2.31,alpha:1,duration:1100,easing:11},{type:2,position:{x:544.71,y:690.66},scale:1.54,alpha:1,duration:1266.67,easing:11},{type:1,duration:166.67000000000002},{type:2,position:{x:365.36,y:22.84},scale:1.12,alpha:1,duration:666.67,easing:11},{type:1,duration:333.33},{type:2,position:{x:546.61,y:1233.77},scale:1.44,alpha:1,duration:3033.33,easing:23},[{type:4,position:{x:12,y:489},alpha:0},{type:3,position:{x:12,y:12},alpha:0}],[{type:2,position:{x:658.17,y:839.71},scale:.71,alpha:1,duration:1166.67,easing:9},{type:3,position:{x:12,y:12},alpha:1,duration:1166.67,easing:0},{type:4,position:{x:12,y:489},alpha:1,duration:1166.67,easing:0},{type:6}]];case 587:return[{type:2,position:{x:114.81,y:2408.4500000000003},scale:3.27,alpha:0},{type:6},{type:2,alpha:1,duration:233.333333,easing:0},{type:2,position:{x:99.7,y:979.6700000000001},scale:1.41,duration:766.666667,easing:10},{type:2,duration:766.666667,position:{x:95.48,y:946.87},scale:1.34,alpha:0,easing:0},{type:2,position:{x:-97.55,y:401.49},scale:1.67},{type:2,duration:233.333333,alpha:1,easing:0},{type:2,position:{x:277.79,y:237.12},scale:.85,duration:566.666667,easing:10},{type:2,position:{x:300,y:190.2734375},scale:.85,alpha:0,duration:1333.33333,easing:0},{type:2,position:{x:899.02,y:-56.800000000000004},scale:1.99,duration:0,alpha:1,easing:10},{type:2,position:{x:565.8000000000001,y:966.01},scale:1.33,duration:1033.33333,easing:10},[{type:2,position:{x:487.97,y:935},scale:1.25,duration:1466.66667,alpha:0,easing:0},[{type:1,duration:500},{type:5,duration:633.333333,color:13622263,easing:0}]],{type:2,position:{x:700,y:1276.5},scale:1.25},{type:2,duration:533.333333,alpha:1,easing:9,position:{x:750,y:1242.5390625},scale:1.25},{type:1,duration:233.333333},{type:2,position:{x:800,y:689.42},scale:.68,duration:933.333333,easing:9},{type:4,position:{x:8,y:8},alpha:0},{type:3,position:{x:8,y:257},alpha:0},[{type:4,duration:733.333333,alpha:1,easing:0},{type:3,duration:733.333333,alpha:1,easing:0}]]}return[]},t.prototype._onCompleteResources=function(t){var e=this;null!=this._cb_onUpdateShip&&this._cb_onUpdateShip(),this._container.removeChild(this._kaizoDetailBG),this._container.removeChild(this._kaizoDetail),o.default.view.overLayer.removeChild(this._kaizoConfirmBG),o.default.view.overLayer.removeChild(this._kaizoConfirm),o.default.view.overLayer.addChild(t),t.play(function(){o.default.view.portMain.updateInfo(),o.default.view.overLayer.removeChild(e._clickGuard),e._clickGuard=null,o.default.view.overLayer.removeChild(t),t.dispose(),e._container.visible=!0,null!=e._cb_onComplete&&e._cb_onComplete()})},t.prototype._setRequireObjects=function(t){var e=[];return t.ammo>0&&e.push({id:32,count:"\xd7"+t.ammo}),t.steel>0&&e.push({id:33,count:"\xd7"+t.steel}),t.devkit>0&&e.push({id:3,count:"\xd7"+t.devkit}),t.buildkit>0&&e.push({id:2,count:"\xd7"+t.buildkit}),t.newhokohesosizai>0&&e.push({id:75,count:"\xd7"+t.newhokohesosizai}),t.newkokuhesosizai>0&&e.push({id:77,count:"\xd7"+t.newkokuhesosizai}),t.battlereport>0&&e.push({id:78,count:"\xd7"+t.battlereport}),t.catapult>0&&e.push({id:65,count:"\xd7"+t.catapult}),t.blueprint>0&&e.push({id:58,count:"\xd7"+t.blueprint+"\u679a"}),e},t.prototype.dispose=function(){this._container=null,this._kaizoDetailBG=null,this._kaizoDetail.dispose(),this._kaizoDetail=null,null!=this._kaizoConfirm&&(this._kaizoConfirm.dispose(),this._kaizoConfirm=null),this._cb_onUpdateShip=null,this._cb_onComplete=null,this._clickGuard=null},t}();e.TaskKaizo=T},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=function(t){function e(e){var i=t.call(this)||this;return i._ship_mem_id=e,i._url="api_req_kaisou/remodeling",i}return n(e,t),e.prototype._connect=function(){this._post_data.api_id=this._ship_mem_id,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e,i=o.default.model.ship.get(this._ship_mem_id).mstID,n=o.default.model.ship_upgrade.getRequires(i);e=o.default.model.useItem.get(32),e.__setCount__(e.count-n.ammo),e=o.default.model.useItem.get(33),e.__setCount__(e.count-n.steel),e=o.default.model.useItem.get(3),e.__setCount__(e.count-n.devkit),e=o.default.model.useItem.get(2),e.__setCount__(e.count-n.buildkit),e=o.default.model.useItem.get(58),e.__setCount__(e.count-n.blueprint),e=o.default.model.useItem.get(65),e.__setCount__(e.count-n.catapult),e=o.default.model.useItem.get(78),e.__setCount__(e.count-n.battlereport),e=o.default.model.useItem.get(75),e.__setCount__(e.count-n.newhokohesosizai),e=o.default.model.useItem.get(77),e.__setCount__(e.count-n.newkokuhesosizai),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.RemodelingAPI=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(t,e){void 0===e&&(e=null),this._require=t,this._count=null!=e?e:{ammo:n.default.model.useItem.getCount(32),steel:n.default.model.useItem.getCount(33),devkit:n.default.model.useItem.getCount(3),buildkit:n.default.model.useItem.getCount(2),blueprint:n.default.model.useItem.getCount(58),catapult:n.default.model.useItem.getCount(65),battlereport:n.default.model.useItem.getCount(78),newhokohesosizai:n.default.model.useItem.getCount(75),newkokuhesosizai:n.default.model.useItem.getCount(77)}}return t.prototype.getCount=function(t){return this._get(t,this._count)},t.prototype.getRequire=function(t){return this._get(t,this._require)},t.prototype.validate=function(t){var e=this.getCount(t),i=this.getRequire(t);if(e<i){n.default.model.useItem.get(t);return!1}return!0},t.prototype.validateAll=function(){return this.validate(32)&&this.validate(33)&&this.validate(3)&&this.validate(2)&&this.validate(58)&&this.validate(65)&&this.validate(78)&&this.validate(75)&&this.validate(77)},t.prototype._get=function(t,e){switch(t){case 32:return e.ammo;case 33:return e.steel;case 3:return e.devkit;case 2:return e.buildkit;case 58:return e.blueprint;case 65:return e.catapult;case 78:return e.battlereport;case 75:return e.newhokohesosizai;case 77:return e.newkokuhesosizai}return 0},t}();e.KaizoValidateModel=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(114),s=i(3),a=i(3),_=i(336),l=i(88),u=i(820),c=i(821),h=i(822),p=i(823),d=function(t){function e(){var e=t.call(this)||this;e._onClickStart=function(){null!=e._cb_onStart&&e._cb_onStart()},e._onClickCancel=function(){null!=e._cb_onCancel&&e._cb_onCancel()};var i=new PIXI.Sprite(s.COMMON_MAIN.getTexture(12));i.interactive=!0,e.addChild(i);var n=new PIXI.Sprite(a.REMODEL_GRADEUP.getTexture(27));n.position.set(275,194),e.addChild(n);var d=new PIXI.Sprite(a.REMODEL_GRADEUP.getTexture(25));d.position.set(653,194),e.addChild(d),e._shipPanelBefore=new c.KaizoDetailShipPanel,e._shipPanelBefore.position.set(35,218),e.addChild(e._shipPanelBefore),e._shipPanelAfter=new c.KaizoDetailShipPanel,e._shipPanelAfter.position.set(408,218),e.addChild(e._shipPanelAfter);var f=new PIXI.Sprite(a.REMODEL_GRADEUP.getTexture(30));f.position.set(32,416),e.addChild(f);var y=new PIXI.Sprite(a.REMODEL_GRADEUP.getTexture(28));y.position.set(413,418),e.addChild(y);var m=new PIXI.Sprite(a.REMODEL_GRADEUP.getTexture(31));m.position.set(32,471),e.addChild(m);var g=new PIXI.Sprite(a.REMODEL_GRADEUP.getTexture(29));g.position.set(413,473),e.addChild(g);e._textAmmoNow=new o.TextBox(24,4999235),e._textAmmoNow.anchor.x=1,e._textAmmoNow.position.set(330,414),e.addChild(e._textAmmoNow),e._textAmmoNeed=new o.TextBox(24,4999235),e._textAmmoNeed.anchor.x=1,e._textAmmoNeed.position.set(700,414),e.addChild(e._textAmmoNeed),e._textSteelNow=new o.TextBox(24,4999235),e._textSteelNow.anchor.x=1,e._textSteelNow.position.set(330,469),e.addChild(e._textSteelNow),e._textSteelNeed=new o.TextBox(24,4999235),e._textSteelNeed.anchor.x=1,e._textSteelNeed.position.set(700,469),e.addChild(e._textSteelNeed),e._cancelBtn=new _.CancelButton,e._cancelBtn.position.set(516,507),e._cancelBtn.initialize(e._onClickCancel),e.addChild(e._cancelBtn),e._startBtn=new p.KaizoStartButton,e._startBtn.position.set(732,489),e._startBtn.initialize(e._onClickStart),e.addChild(e._startBtn);var v=new PIXI.Sprite(a.REMODEL_GRADEUP.getTexture(26));return v.position.set(720,446),e.addChild(v),e._arrow=new r.DownArrowAnimationView,e._arrow.position.set(354,Math.floor(297+e._arrow.width/2)),e._arrow.rotation=-90*Math.PI/180,e.addChild(e._arrow),e._alertPanel=new h.KaizoRequireItemPanel,e._alertPanel.position.set(723,215),e.addChild(e._alertPanel),e._alertMessage=new o.TextBox(15,12467003),e._alertMessage.anchor.set(1,0),e._alertMessage.position.set(505,522),e.addChild(e._alertMessage),e._alertOverLimit=new PIXI.Sprite(a.REMODEL_GRADEUP.getTexture(14)),e._alertOverLimit.position.set(680,405),e._alertOverLimit.visible=!1,e.addChild(e._alertOverLimit),e._header=new u.KaizoDetailHeader,e.addChild(e._header),e._titleBar=new l.TitleBar,e._titleBar.initialize(a.REMODEL_GRADEUP.getTexture(2),26),e._titleBar.position.set(0,-39),e.addChild(e._titleBar),e}return n(e,t),e.prototype.activate=function(t,e){this._cb_onStart=t,this._cb_onCancel=e},e.prototype.update=function(t,e,i,n){this._shipPanelBefore.update(t.level,t.name,t.shipTypeName),this._shipPanelBefore.updateStatus(t.karyoku,t.raisou,t.taiku,t.soukou),this._shipPanelAfter.update(t.level),this._shipPanelAfter.updateStatus(),this._textAmmoNow.text=e.getCount(32).toString(),this._textSteelNow.text=e.getCount(33).toString(),this._textAmmoNeed.text=e.getRequire(32).toString(),this._textSteelNeed.text=e.getRequire(33).toString(),this._header.update(t),this._startBtn.update(!1),e.validateAll()&&1==i&&1==n&&this._startBtn.update(!0);var o=e.getRequire(58),r=e.getRequire(65),s=e.getRequire(78),a=e.getRequire(75),_=e.getRequire(77),l=e.getRequire(3),u=e.getRequire(2),c=!1;if(0==e.validate(58)?(this._alertPanel.showAlertLackOfItem(58,o),c=!0):0==e.validate(65)?(this._alertPanel.showAlertLackOfItem(65,r),c=!0):0==e.validate(75)?(this._alertPanel.showAlertLackOfItem(75,a),c=!0):0==e.validate(77)?(this._alertPanel.showAlertLackOfItem(77,_),c=!0):0==e.validate(78)?(this._alertPanel.showAlertLackOfItem(78,s),c=!0):o>0&&r>0&&s>0&&_>0?this._alertPanel.showMessageFourItems(58,o,65,r,78,s,77,_,l,u):o>0&&r>0&&s>0?this._alertPanel.showMessageThreeItems(58,o,65,r,78,s,l,u):o>0&&r>0?this._alertPanel.showMessageTwoItems(58,o,65,r,l,u):o>0&&s>0&&a>0?this._alertPanel.showMessageThreeItems(78,s,75,a,58,o,l,u):o>0&&s>0?this._alertPanel.showMessageTwoItems(58,o,78,s,l,u):o>0?this._alertPanel.showMessageOneItem(58,o,l,u):s>0?this._alertPanel.showMessageOneItem(78,s,l,u):l>0||u>0?this._alertPanel.showMessageKits(l,u):this._alertPanel.hideAll(),this._alertMessage.visible=!1,this._alertOverLimit.visible=!1,0==c){var h=e.validate(32),p=e.validate(33),d=!(u>0)||e.validate(2),f=!(l>0)||e.validate(3),y=h&&p,m=d&&f;0==y&&0==m?(this._alertMessage.text="\u6539\u88c5\u306b\u5fc5\u8981\u306a\u8cc7\u6e90\u53ca\u3073\u8cc7\u6750\u304c\u4e0d\u8db3\u3057\u3066\u3044\u307e\u3059\u3002",this._alertMessage.visible=!0):0==y?(this._alertMessage.text="\u6539\u88c5\u306b\u5fc5\u8981\u306a\u8cc7\u6e90\u304c\u4e0d\u8db3\u3057\u3066\u3044\u307e\u3059\u3002",this._alertMessage.visible=!0):0==m?(this._alertMessage.text="\u6539\u88c5\u306b\u5fc5\u8981\u306a\u8cc7\u6750\u304c\u4e0d\u8db3\u3057\u3066\u3044\u307e\u3059\u3002",this._alertMessage.visible=!0):0==n&&(this._alertOverLimit.visible=!0)}},e.prototype.dispose=function(){this.removeChildren(),this._shipPanelBefore.dispose(),this._shipPanelAfter.dispose(),this._cancelBtn.dispose(),this._startBtn.dispose(),this._arrow.dispose(),this._alertPanel.dispose(),this._header.dispose(),this._titleBar.dispose(),this._textAmmoNow.destroy(),this._textSteelNow.destroy(),this._textAmmoNeed.destroy(),this._textSteelNeed.destroy(),this._alertMessage.destroy(),this._cb_onStart=null,this._cb_onCancel=null,this._shipPanelBefore=null,this._shipPanelAfter=null,this._textAmmoNow=null,this._textAmmoNeed=null,this._textSteelNow=null,this._textSteelNeed=null,this._cancelBtn=null,this._startBtn=null,this._arrow=null,this._alertPanel=null,this._alertMessage=null,this._alertOverLimit=null,this._header=null,this._titleBar=null},e}(PIXI.Container);e.KaizoDetail=d},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(4),s=i(37),a=i(3),_=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite(a.REMODEL_GRADEUP.getTexture(10));i.position.set(2,2),e.addChild(i),e._shipCanvas=new PIXI.Sprite,e.addChild(e._shipCanvas),e._levelText=new r.TextBox(66,16777215),e._levelText.position.set(809,89),e.addChild(e._levelText);var n=new PIXI.Sprite(a.REMODEL_GRADEUP.getTexture(11));n.position.set(0,3),e.addChild(n);var o=new PIXI.Sprite(a.REMODEL_GRADEUP.getTexture(12));return o.position.set(705,95),e.addChild(o),e._nameText=new r.TextBox(39,16777215),e._nameText.anchor.x=1,e._nameText.position.set(969,17),e.addChild(e._nameText),e}return n(e,t),e.prototype.update=function(t){var e=t.mstID,i=t.isDamaged();1==o.default.resources.isLoadedShip(e,i,"remodel")?this._shipCanvas.texture=o.default.resources.getShip(e,i,"remodel"):(this._shipCanvas.texture=PIXI.Texture.EMPTY,new s.TaskLoadShipResource("remodel",this._shipCanvas,e,i).start()),this._levelText.text=t.level.toString(),this._nameText.text=t.shipTypeName+" "+t.name},e.prototype.dispose=function(){this.removeChildren(),this._levelText.destroy(),this._nameText.destroy(),this._shipCanvas=null,this._levelText=null,this._nameText=null},e}(PIXI.Container);e.KaizoDetailHeader=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(3),s=i(15),a=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite(r.REMODEL_GRADEUP.getTexture(13)),n=new PIXI.Sprite(r.REMODEL_GRADEUP.getTexture(24));n.position.set(204,23);var a=new PIXI.Sprite(r.REMODEL_GRADEUP.getTexture(15));a.position.set(164,143);var _=new PIXI.Sprite(r.REMODEL_GRADEUP.getTexture(16));_.position.set(21,101);var l=new PIXI.Sprite(r.REMODEL_GRADEUP.getTexture(17));l.position.set(21,143);var u=new PIXI.Sprite(r.REMODEL_GRADEUP.getTexture(18));u.position.set(162,101),e.addChild(i,n,a,_,l,u),e._unknown=new PIXI.Sprite,e._unknown.position.set(27,18),e.addChild(e._unknown),e._containerName=new PIXI.Container,e._textName=new o.TextBox(36,4999235),e._textName.position.set(11,8);var c=s.CreateRect.gradientLeftToRight(200,55,.9,.97);e._textName.mask=c,e._containerName.addChild(e._textName,c),e.addChild(e._containerName),e._textShipType=new o.TextBox(22,4999235),e._textShipType.position.set(14,60),e.addChild(e._textShipType),e._textLevel=new o.TextBox(29,4999235),e._textLevel.position.set(231,16),e.addChild(e._textLevel);return e._textKaryoku=new o.TextBox(24,4999235),e._textKaryoku.position.set(141,99),e._textKaryoku.anchor.x=1,e.addChild(e._textKaryoku),e._textRaiso=new o.TextBox(24,4999235),e._textRaiso.position.set(141,142),e._textRaiso.anchor.x=1,e.addChild(e._textRaiso),e._textTaiku=new o.TextBox(24,4999235),e._textTaiku.position.set(284,99),e._textTaiku.anchor.x=1,e.addChild(e._textTaiku),e._textSouko=new o.TextBox(24,4999235),e._textSouko.position.set(284,142),e._textSouko.anchor.x=1,e.addChild(e._textSouko),e}return n(e,t),e.prototype.update=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),this._textLevel.text=t.toString(),null==e||""==e?(this._unknown.texture=r.REMODEL_GRADEUP.getTexture(32),this._unknown.visible=!0,this._textName.visible=!1,this._textShipType.visible=!1):(this._unknown.visible=!1,this._containerName.cacheAsBitmap=!1,this._textName.text=e,this._containerName.cacheAsBitmap=!0,this._textName.visible=!0,this._textShipType.text=i,this._textShipType.visible=!0)},e.prototype.updateStatus=function(t,e,i,n){void 0===t&&(t=-1),void 0===e&&(e=-1),void 0===i&&(i=-1),void 0===n&&(n=-1),this._textKaryoku.text=t>=0?t.toString():"??",this._textRaiso.text=e>=0?e.toString():"??",this._textTaiku.text=i>=0?i.toString():"??",this._textSouko.text=n>=0?n.toString():"??"},e.prototype.dispose=function(){this.removeChildren(),this._containerName.cacheAsBitmap=!1,this._containerName.removeChildren(),this._textName.destroy(),this._textShipType.destroy(),this._textLevel.destroy(),this._textKaryoku.destroy(),this._textRaiso.destroy(),this._textTaiku.destroy(),this._textSouko.destroy(),this._unknown=null,this._containerName=null,this._textName=null,this._textShipType=null,this._textLevel=null,this._textKaryoku=null,this._textRaiso=null,this._textTaiku=null,this._textSouko=null},e}(PIXI.Container);e.KaizoDetailShipPanel=a},function(t,e,i){"use strict";function n(t,e){return t>0&&0===e?"\u672c\u6539\u88c5\u3067\u306f\u300c\u958b\u767a\u8cc7\u6750\u300d\u3092"+t+"\u500b\n\u4f7f\u7528\u3057\u307e\u3059\u3002":t>0&&e>0?"\u672c\u6539\u88c5\u3067\u306f\u300c\u9ad8\u901f\u5efa\u9020\u6750\u300d\u3092\n"+e+"\u500b\u3001\u300c\u958b\u767a\u8cc7\u6750\u300d\u3092"+t+"\u500b\n\u4f7f\u7528\u3057\u307e\u3059\u3002":""}var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(4),s=i(3),a=function(t){function e(){return t.call(this)||this}return o(e,t),e.prototype.showMessageOneItem=function(t,e,i,n){if(this.hideAll(),i>0||n>0){var o=new h;o.update(t,e,i,n),this._current=o}else{var o=new _;o.update(t,e,i,n),this._current=o}this.addChild(this._current)},e.prototype.showMessageTwoItems=function(t,e,i,n,o,r){this.hideAll();var s=new l;s.update(t,e,i,n,o,r),this.addChild(s),this._current=s},e.prototype.showMessageThreeItems=function(t,e,i,n,o,r,s,a){this.hideAll();var _=new u;_.update(t,e,i,n,o,r,s,a),this.addChild(_),this._current=_},e.prototype.showMessageFourItems=function(t,e,i,n,o,r,s,a,_,l){this.hideAll();var u=new c;u.update(t,e,i,n,o,r,s,a,_,l),this.addChild(u),this._current=u},e.prototype.showMessageKits=function(t,e){this.hideAll();var i=new p;i.update(t,e),this.addChild(i),this._current=i},e.prototype.showAlertLackOfItem=function(t,e){this.hideAll();var i=new d;i.update(t,e),this.addChild(i),this._current=i},e.prototype.hideAll=function(){null!=this._current&&(null!=this._current.parent&&this._current.parent.removeChild(this._current),this._current.dispose(),this._current=null)},e.prototype.dispose=function(){this.hideAll(),this.removeChildren()},e}(PIXI.Container);e.KaizoRequireItemPanel=a;var _=function(t){function e(){var e=t.call(this)||this;return e._icon=new PIXI.Sprite,e._icon.position.set(87,0),e.addChild(e._icon),e._message=new r.TextBox(18,1644567),e._message.position.set(0,95),e.addChild(e._message),e}return o(e,t),e.prototype.update=function(t,e,i,n){switch(this._icon.texture=s.COMMON_ITEMICONS.getTextureFromMstID(t),t){case 58:this._message.text="\u3053\u306e\u6539\u88c5\u3067\u306f\u300c\u6539\u88c5\u8a2d\u8a08\u56f3\u300d\u3092\n"+e+"\u679a\u4f7f\u7528\u3057\u307e\u3059\u3002";break;case 78:this._message.text="\u3053\u306e\u6539\u88c5\u3067\u306f\u300c\u6226\u95d8\u8a73\u5831\u300d"+e+"\u90e8\u304c\n\u5fc5\u8981\u3067\u3059\u3002";break;default:this._message.text=""}},e.prototype.dispose=function(){this.removeChildren(),this._message.destroy(),this._icon=null,this._message=null},e}(PIXI.Container),l=function(t){function e(){var e=t.call(this)||this;return e._icon1=new PIXI.Sprite,e._icon1.position.set(30,0),e.addChild(e._icon1),e._icon2=new PIXI.Sprite,e._icon2.position.set(153,0),e.addChild(e._icon2),e._message=new r.TextBox(17,1644567),e._message.position.set(3,81),e.addChild(e._message),e._message2=new r.TextBox(17,1644567),e._message2.position.set(0,150),e.addChild(e._message2),e}return o(e,t),e.prototype.update=function(t,e,i,o,r,a){switch(this._icon1.texture=s.COMMON_ITEMICONS.getTextureFromMstID(t),this._icon2.texture=s.COMMON_ITEMICONS.getTextureFromMstID(i),i){case 65:this._message.text="\u672c\u6539\u88c5\u306f\uff62\u8a66\u88fd\u7532\u677f\u30ab\u30bf\u30d1\u30eb\u30c8\uff63\u3068\n\uff62\u6539\u88c5\u8a2d\u8a08\u56f3\uff63"+e+"\u679a\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002";break;case 78:this._message.text="\u672c\u6539\u88c5\u306f\uff62\u6226\u95d8\u8a73\u5831\uff63"+o+"\u90e8\u3068\n\uff62\u6539\u88c5\u8a2d\u8a08\u56f3\uff63"+e+"\u679a\u304c\u5fc5\u8981\u3067\u3059\u3002";break;default:this._message.text=""}this._message2.text=n(r,a)},e.prototype.dispose=function(){this.removeChildren(),this._message.destroy(),this._message2.destroy(),this._icon1=null,this._icon2=null,this._message=null,this._message2=null},e}(PIXI.Container),u=function(t){function e(){var e=t.call(this)||this,i=3;return e._icon1=new PIXI.Sprite,e._icon1.position.set(i,0),e.addChild(e._icon1),i+=85,e._icon2=new PIXI.Sprite,e._icon2.position.set(i,0),e.addChild(e._icon2),i+=85,e._icon3=new PIXI.Sprite,e._icon3.position.set(i,0),e.addChild(e._icon3),e._message=new r.TextBox(17,1644567),e._message.position.set(3,81),e.addChild(e._message),e._message2=new r.TextBox(17,1644567),e._message2.position.set(3,155),e.addChild(e._message2),e}return o(e,t),e.prototype.update=function(t,e,i,o,r,a,_,l){this._icon1.texture=s.COMMON_ITEMICONS.getTextureFromMstID(t),this._icon2.texture=s.COMMON_ITEMICONS.getTextureFromMstID(i),this._icon3.texture=s.COMMON_ITEMICONS.getTextureFromMstID(r);var u="\u672c\u6539\u88c5\u306b\u306f";switch(t){case 78:u+="\uff62\u6226\u95d8\u8a73\u5831\uff63"+e+"\u90e8\u3068\n";break;case 58:u+="\uff62\u6539\u88c5\u8a2d\u8a08\u56f3\uff63"+e+"\u679a\u3068\n";break;default:u+=""}switch(i){case 75:u+="\uff62\u65b0\u578b\u7832\u7195\u5175\u88c5\u8cc7\u6750\uff63"+o+"\u3064\u3068\n";break;case 65:u+="\uff62\u8a66\u88fd\u7532\u677f\u30ab\u30bf\u30d1\u30eb\u30c8\uff63\u3068\n";break;default:u+=""}switch(r){case 58:u+="\uff62\u6539\u88c5\u8a2d\u8a08\u56f3\uff63"+a+"\u679a";break;case 78:u+="\uff62\u6226\u95d8\u8a73\u5831\uff63"+a+"\u90e8";break;default:u+=""}this._message.text=u+"\u304c\u5fc5\u8981\u3067\u3059\u3002",this._message2.text=n(_,l)},e.prototype.dispose=function(){this.removeChildren(),this._message.destroy(),this._message2.destroy(),this._icon1=null,this._icon2=null,this._icon3=null,this._message=null,this._message2=null},e}(PIXI.Container),c=function(t){function e(){var e=t.call(this)||this,i=5;return e._icon1=new PIXI.Sprite,e._icon1.width=60,e._icon1.height=60,e._icon1.position.set(i,8),e.addChild(e._icon1),i+=65,e._icon2=new PIXI.Sprite,e._icon2.width=60,e._icon2.height=60,e._icon2.position.set(i,8),e.addChild(e._icon2),i+=65,e._icon3=new PIXI.Sprite,e._icon3.width=60,e._icon3.height=60,e._icon3.position.set(i,8),e.addChild(e._icon3),i+=65,e._icon4=new PIXI.Sprite,e._icon4.width=60,e._icon4.height=60,e._icon4.position.set(i,8),e.addChild(e._icon4),e._message1=new r.TextBox(17,1644567),e._message1.position.set(2,74),e.addChild(e._message1),e._message2=new r.TextBox(17,1644567),e._message2.position.set(2,153),e.addChild(e._message2),e}return o(e,t),e.prototype.update=function(t,e,i,o,r,a,_,l,u,c){this._icon1.texture=s.COMMON_ITEMICONS.getTextureFromMstID(t),this._icon2.texture=s.COMMON_ITEMICONS.getTextureFromMstID(i),this._icon3.texture=s.COMMON_ITEMICONS.getTextureFromMstID(r),this._icon4.texture=s.COMMON_ITEMICONS.getTextureFromMstID(_);var h="\u672c\u6539\u88c5\u306b\u306f";switch(t){case 58:h+="\uff62\u6539\u88c5\u8a2d\u8a08\u56f3\uff63"+e+"\u679a\u3068\n";break;default:h+=""}switch(i){case 65:h+="\uff62\u8a66\u88fd\u7532\u677f\u30ab\u30bf\u30d1\u30eb\u30c8\uff63";break;default:h+=""}switch(r){case 78:h+="\uff62\u6226\u95d8\u8a73\u5831\uff63\n";break;default:h+=""}switch(_){case 77:h+="\uff62\u65b0\u578b\u822a\u7a7a\u5175\u88c5\u8cc7\u6750"+(l>1?"x"+l:"")+"\uff63";break;default:h+=""}this._message1.text=h+"\u304c\u5fc5\u8981\u3067\u3059\u3002",this._message2.text=n(u,c)},e.prototype.dispose=function(){this.removeChildren(),this._message1.destroy(),this._message2.destroy(),this._icon1=null,this._icon2=null,this._icon3=null,this._icon4=null,this._message1=null,this._message2=null},e}(PIXI.Container),h=function(t){function e(){var e=t.call(this)||this;return e._icon=new PIXI.Sprite,e._icon.position.set(0,0),e.addChild(e._icon),e._message1=new r.TextBox(18,1644567),e._message1.position.set(77,11),e.addChild(e._message1),e._message2=new r.TextBox(18,1644567),e._message2.position.set(0,105),e.addChild(e._message2),e}return o(e,t),e.prototype.update=function(t,e,i,o){switch(this._icon.texture=s.COMMON_ITEMICONS.getTextureFromMstID(t),t){case 58:this._message1.text="\u672c\u6539\u88c5\u306f\u300c\u6539\u88c5\u8a2d\u8a08\u56f3\u300d\n"+e+"\u679a\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002";break;case 78:this._message1.text="\u672c\u6539\u88c5\u306f\u300c\u6226\u95d8\u8a73\u5831\u300d\n"+e+"\u90e8\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002";break;default:this._message1.text=""}this._message2.text=n(i,o)},e.prototype.dispose=function(){this.removeChildren(),this._message1.destroy(),this._message2.destroy(),this._icon=null,this._message1=null,this._message2=null},e}(PIXI.Container),p=function(t){function e(){var e=t.call(this)||this;return e._message=new r.TextBox(18,1644567),e._message.position.set(0,0),e.addChild(e._message),e}return o(e,t),e.prototype.update=function(t,e){this._message.text=t>0?e>0?"\u672c\u6539\u88c5\u3067\u306f\u300c\u9ad8\u901f\u5efa\u9020\u6750\u300d\u3092\n"+e+"\u500b\u3001\u300c\u958b\u767a\u8cc7\u6750\u300d\u3092"+t+"\u500b\n\u4f7f\u7528\u3057\u307e\u3059\u3002":"\u3053\u306e\u6539\u88c5\u3067\u306f\u300c\u958b\u767a\u8cc7\u6750\u300d\u3092\n"+t+"\u500b\u4f7f\u7528\u3057\u307e\u3059\u3002":e>0?"\u3053\u306e\u6539\u88c5\u3067\u306f\u300c\u9ad8\u901f\u5efa\u9020\u6750\u300d\u3092\n"+e+"\u500b\u4f7f\u7528\u3057\u307e\u3059\u3002":""},e.prototype.dispose=function(){this.removeChildren(),this._message.destroy(),this._message=null},e}(PIXI.Container),d=function(t){function e(){var e=t.call(this)||this;return e._icon=new PIXI.Sprite,e._icon.position.set(87,0),e.addChild(e._icon),e._message1=new r.TextBox(18,1644567),e._message1.position.set(0,81),e.addChild(e._message1),e._message2=new r.TextBox(18,1644567),e._message2.position.set(0,81),e.addChild(e._message2),e._message3=new r.TextBox(18,1644567),e.addChild(e._message3),e}return o(e,t),e.prototype.update=function(t,e){if(this._icon.texture=s.COMMON_ITEMICONS.getTextureFromMstID(t),58==t)this._message1.style.fontSize=15,this._message1.style.fill=1644567,this._message2.style.fontSize=15,this._message2.style.fill=16724736,this._message3.style.fontSize=15,this._message3.style.fill=1644567,this._message1.text="\u300c\u6539\u88c5\u8a2d\u8a08\u56f3\u300d\u304c",this._message2.text="\u8db3\u308a\u307e\u305b\u3093\u3002",this._message2.position.set(this._message1.width,81),this._message3.text="\u3053\u306e\u6539\u88c5\u3067\u306f\u300c\u6539\u88c5\u8a2d\u8a08\u56f3\u300d\u304c"+e+"\u679a\n\u5fc5\u8981\u3067\u3059\u3002\u52f2\u7ae0\u30924\u500b\u96c6\u3081\u308b\u3068\u3001\n\u30a2\u30a4\u30c6\u30e0\u753b\u9762\u3067\u300c\u6539\u88c5\u8a2d\u8a08\u56f3\u300d\u3068\n\u4ea4\u63db\u3067\u304d\u307e\u3059\u3002",this._message3.y=this._message1.y+this._message1.height;else{switch(this._message1.style.fontSize=18,this._message1.style.fill=39270,this._message2.style.fontSize=18,this._message2.style.fill=1644567,t){case 65:this._message1.text="\uff62\u8a66\u88fd\u7532\u677f\u30ab\u30bf\u30d1\u30eb\u30c8\uff63";break;case 78:this._message1.text="\uff62\u6226\u95d8\u8a73\u5831\uff63";break;case 75:this._message1.text="\uff62\u65b0\u578b\u7832\u7195\u5175\u88c5\u8cc7\u6750\uff63";break;case 77:this._message1.text="\uff62\u65b0\u578b\u822a\u7a7a\u5175\u88c5\u8cc7\u6750\uff63";break;default:this._message1.text=""}this._message1.position.set(11,83),this._message2.text="\n\u672c\u6539\u88c5\u306b\u306f\u4e0a\u8a18\u30a2\u30a4\u30c6\u30e0\u304c\n\u5fc5\u8981\u3067\u3059\u3002",this._message2.position.set(11,83),this._message3.text=""}},e.prototype.dispose=function(){this.removeChildren(),this._message1.destroy(),this._message2.destroy(),this._message3.destroy(),this._message1=null,this._message2=null,this._message3=null,this._icon=null},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e._onMouseOver=function(){e.texture=e._textureOn},e._onMouseOut=function(){e.texture=e._textureOff},e._onClick=function(){null!=e._cb_onClick&&e._cb_onClick()},e._textureNone=o.REMODEL_GRADEUP.getTexture(5),e._textureOff=o.REMODEL_GRADEUP.getTexture(6),e._textureOn=o.REMODEL_GRADEUP.getTexture(7),e.texture=e._textureNone,e.on(r.EventType.CLICK,e._onClick),e.on(r.EventType.MOUSEOVER,e._onMouseOver),e.on(r.EventType.MOUSEOUT,e._onMouseOut),e}return n(e,t),e.prototype.initialize=function(t){this._cb_onClick=t},e.prototype.update=function(t){1==t?(this.texture=this._textureOff,this.interactive=this.buttonMode=!0):(this.texture=this._textureNone,this.interactive=this.buttonMode=!1)},e.prototype.dispose=function(){this._textureNone=null,this._textureOff=null,this._textureOn=null,this.off(r.EventType.CLICK,this._onClick),this.off(r.EventType.MOUSEOVER,this._onMouseOver),this.off(r.EventType.MOUSEOUT,this._onMouseOut),this._cb_onClick=null,this.removeChildren()},e}(PIXI.Sprite);e.KaizoStartButton=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(32),s=i(3),a=i(3),_=i(137),l=i(1),u=i(136),c=function(t){function e(){var e=t.call(this)||this;e._labelArr=[],e._onYES=function(){null!=e._cb_onYes&&(_.SceneMemory.slotItemPage=0,_.SceneMemory.slotItemFilter=0,_.SceneMemory.listMode=u.SlotListMode.UNSET,e._cb_onYes())},e._onNO=function(){null!=e._cb_onNo&&e._cb_onNo()};var i=new PIXI.Sprite(s.COMMON_MAIN.getTexture(63));e.btn_no=new PIXI.Sprite(a.REMODEL_GRADEUP.getTexture(3)),e.btn_yes=new PIXI.Sprite(a.REMODEL_GRADEUP.getTexture(8));var n=new PIXI.Sprite(a.REMODEL_GRADEUP.getTexture(21));e.textAmmo=new o.TextBox(20,16777215);var c=new PIXI.Sprite(a.REMODEL_GRADEUP.getTexture(22));e.textSteel=new o.TextBox(20,16777215);var h=new PIXI.Sprite(a.REMODEL_GRADEUP.getTexture(0));e.shipBanner=new r.ShipBanner;var p=new o.TextBox(19,1949120),d=new o.TextBox(19,1949120);return e.textName=new o.TextBox(19,16777215),p.text="\u6539\u9020\u3059\u308b\u8266\u8239",d.text="\u4f7f\u7528\u3059\u308b\u8cc7\u6750",p.position.set(414,219),d.position.set(414,341),e._labelArr.push(p),e._labelArr.push(d),e.shipBanner.position.set(617,258),i.position.set(86,60),h.position.set(516,20),e.btn_no.position.set(377,588),e.btn_yes.position.set(639,588),n.position.set(612,378),c.position.set(612,413),e.textName.position.set(617,219),e.textAmmo.position.set(n.x+n.width,n.y),e.textSteel.position.set(c.x+c.width,c.y),e.btn_yes.on(l.EventType.CLICK,e._onYES),e.btn_no.on(l.EventType.CLICK,e._onNO),e.btn_yes.interactive=e.btn_yes.buttonMode=!0,e.btn_no.interactive=e.btn_no.buttonMode=!0,e.addChild(i,h,n,e.textAmmo,c,e.textSteel,e.btn_no,e.btn_yes,e.shipBanner,p,d,e.textName),e}return n(e,t),e.prototype.update=function(t,e,i){this.shipBanner.update(t,!1),this.textName.text=t.shipTypeName+" \u300c"+t.name+"\u300d",this.textAmmo.text="\xd7"+e,this.textSteel.text="\xd7"+i},e.prototype.activate=function(t,e){this._cb_onYes=t,this._cb_onNo=e},e.prototype.dispose=function(){this.removeChildren(),this.shipBanner.dispose(),this.btn_yes.off(l.EventType.CLICK),this.btn_no.off(l.EventType.CLICK),this.textName.destroy(),this.textSteel.destroy(),this.textAmmo.destroy(),this._labelArr.forEach(function(t){t.destroy()}),this.shipBanner=null,this.textName=null,this.textSteel=null,this.textAmmo=null,this.btn_yes=null,this.btn_no=null,this._cb_onYes=null,this._cb_onNo=null,this._labelArr=null},e}(PIXI.Container);e.KaizoConfirm=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(28),s=i(8),a=i(4),_=i(32),l=i(3),u=i(3),c=i(137),h=i(1),p=i(136),d=i(13),f=function(t){function e(){var e=t.call(this)||this;e._onYES=function(){null!=e._cb_onYes&&(c.SceneMemory.slotItemPage=0,c.SceneMemory.slotItemFilter=0,c.SceneMemory.listMode=p.SlotListMode.UNSET,e._cb_onYes())},e._onNO=function(){null!=e._cb_onNo&&e._cb_onNo()},e.bg=new s.AreaBox(1),e.frameBg=new PIXI.Sprite(o.default.resources.getUIImage("sp_kaizo_frame")),e.titleTxt=new PIXI.Sprite(l.REMODEL_GRADEUP.getTexture(1)),e.message1=new PIXI.Sprite,e.message2=new PIXI.Sprite(l.REMODEL_GRADEUP.getTexture(23)),e.text1=new a.TextBox(19,1949120),e.text2=new a.TextBox(19,1949120),e.text1.text="\u5927\u898f\u6a21\u6539\u88c5\u3059\u308b\u8266\u8247",e.text2.text="\u4f7f\u7528\u3059\u308b\u8cc7\u6750",e.textName=new a.TextBox(19,16777215),e.shipBanner=new _.ShipBanner,e.iconLayer=new PIXI.Container,e.icons=[],e.textItems=[];for(var i=0,n=0,r=0;r<7;r++){r%2==0&&0!=r&&i++,n=r%2==0?0:1;var u=new PIXI.Sprite;u.position.set(617+132*n,380+48*i),u.scale.set(.5),u.visible=!1,e.icons.push(u),e.iconLayer.addChild(u);var d=new a.TextBox(19,16777215);d.position.set(657+132*n,389+47*i),d.visible=!1,e.textItems.push(d),e.iconLayer.addChild(d)}return e.btn_yes=new PIXI.Sprite(l.REMODEL_GRADEUP.getTexture(9)),e.btn_no=new PIXI.Sprite(l.REMODEL_GRADEUP.getTexture(4)),e.btn_yes.on(h.EventType.CLICK,e._onYES),e.btn_no.on(h.EventType.CLICK,e._onNO),e.btn_yes.interactive=e.btn_yes.buttonMode=!0,e.btn_no.interactive=e.btn_no.buttonMode=!0,e.frameBg.position.set(40,59),e.titleTxt.position.set(446,19),e.text1.position.set(120,255),e.text2.position.set(120,377),e.message1.position.set(383,85),e.message2.position.set(375,130),e.textName.position.set(616,255),e.shipBanner.position.set(616,283),e.btn_yes.position.set(642,587),e.btn_no.position.set(378,587),e.addChild(e.bg,e.frameBg,e.titleTxt,e.text1,e.text2,e.message1,e.message2,e.textName,e.shipBanner,e.iconLayer,e.btn_yes,e.btn_no),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.shipBanner.dispose(),this.btn_yes.off(h.EventType.CLICK),this.btn_no.off(h.EventType.CLICK),this.text1.destroy(),this.text2.destroy(),this.textName.destroy();for(var t=0;t<this.textItems.length;t++)this.textItems[t].destroy();this.bg=null,this.frameBg=null,this.titleTxt=null,this.text1=null,this.text2=null,this.message1=null,this.message2=null,this.shipBanner=null,this.textName=null,this.iconLayer=null,this.icons=null,this.textItems=null,this.btn_yes=null,this.btn_no=null,this._cb_onYes=null,this._cb_onNo=null},e.prototype.update=function(t,e){var i=this,n=new d.ShipLoader;n.add(t.mstID,!1,"text_remodel_mes"),n.load(function(){i.shipBanner.update(t,!1),i.message1.texture=o.default.resources.getShip(t.mstID,!1,"text_remodel_mes");t.getClassType();i.textName.text=r.ShipUtil.getShipClassTypeSpRemodelText(t.mstID)+"\u300c"+t.name+"\u300d";for(var n=0;n<7;n++)i.icons[n].visible=!1,i.textItems[n].visible=!1;for(var n=0;n<e.length;n++)i.icons[n].visible=!0,i.textItems[n].visible=!0,i.icons[n].texture=u.COMMON_ITEMICONS.getTextureFromMstID(e[n].id),i.textItems[n].text=e[n].count})},e.prototype.activate=function(t,e){this._cb_onYes=t,this._cb_onNo=e},e}(PIXI.Container);e.SpKaizoConfirm=f},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(1),a=i(20),_=i(8),l=i(40),u=i(60),c=i(13),h=i(3),p=i(827),d=function(t){function e(){var e=t.call(this)||this;return e._white=new _.AreaBox(1,16777215),e._holoBG=new u.RarityBG,e._holoBG.visible=!1,e._textKaiso=new PIXI.Sprite(h.REMODEL_ANIMATION.getTexture(10)),e._textKaiso.visible=!1,e._cutinBar=new p.CutinBar,e._shipFull=new PIXI.Sprite,e._shipFull.visible=!1,e._shipCard=new PIXI.Sprite,e._shipCard.visible=!1,e}return n(e,t),e.prototype.dispose=function(){this._cb_onComplete=null,this._offset=null,this._white=null,this._commonBG.dispose(),this._commonBG=null,this._holoBG.dispose(),this._holoBG=null,this._textKaiso=null,this._cutinBar=null,this._shipFull=null,this._shipCard=null,this.removeChildren()},e.prototype.preload=function(t,e,i,n){var o=this;this._ship_mstid=t,this._offset=i;var s=new c.ShipLoader;s.add(t,e,"full"),s.add(t,e,"card"),s.load(function(){o._shipFull.texture=r.default.resources.getShip(t,e,"full"),o._shipCard.texture=r.default.resources.getShip(t,e,"card"),o._commonBG=new u.RarityBG,o._commonBG.initiailzeForShip(3,function(){o._holoBG.initiailzeForShip(6,function(){null!=n&&n()})})})},e.prototype.play=function(t){var e=this;this._cb_onComplete=t,this.removeChildren(),this.addChild(this._commonBG,this._textKaiso,this._cutinBar,this._white),r.default.settings.renderer.plugins.prepare.upload(this._shipFull,function(){r.default.settings.renderer.plugins.prepare.upload(e._shipCard,function(){createjs.Tween.get(null).wait(200).call(function(){e._00_intro()})})})},e.prototype._00_intro=function(){var t,e=this,i=new a.TweenTask;this._textKaiso.x=-288,this._textKaiso.y=395,t=createjs.Tween.get(this._textKaiso).set({visible:!0}).to({x:756},700,createjs.Ease.cubicOut).wait(100).to({x:1122},700,createjs.Ease.cubicIn).set({visible:!1}),i.addTween(t),this._cutinBar.x=0,this._cutinBar.y=270,this._cutinBar.mask.scale.y=0,t=createjs.Tween.get(this._cutinBar.mask.scale).to({y:1},700,createjs.Ease.cubicOut).wait(100).to({y:0},700,createjs.Ease.cubicIn).set({visible:!1}),i.addTween(t),t=createjs.Tween.get(this._white).to({alpha:0},700,createjs.Ease.cubicOut).set({visible:!1}),i.addTween(t),i.start(function(){e.removeChild(e._textKaiso),e.removeChild(e._cutinBar),e._cutinBar.dispose(),e.removeChild(e._white),e._01_showShip()})},e.prototype._01_showShip=function(){var t,e=this,i=new a.TweenTask,n=new PIXI.Container;n.addChild(this._holoBG),n.addChild(this._shipFull),this.addChild(n);var r=new PIXI.Graphics;r.beginFill(0,0),r.drawRect(-o.default.width/2,-o.default.height/2,o.default.width,o.default.height),r.endFill(),r.x=o.default.width/2,r.y=o.default.height/2,r.scale.y=0,this.addChild(r),n.mask=r,this._holoBG.visible=!0,this._shipFull.x=201+this._offset.x,this._shipFull.y=342+this._offset.y,t=createjs.Tween.get(this._shipFull).set({visible:!0}).to({y:-66+this._offset.y},2400),i.addTween(t),t=createjs.Tween.get(r.scale).to({y:1},500).call(function(){e._commonBG.visible=!1,n.mask.visible=!1}),i.addTween(t),i.start(function(){e.removeChild(e._commonBG),e.removeChild(e.mask),n.mask=null,e._02_changeToCard(n)})},e.prototype._02_changeToCard=function(t){var e=this;r.default.sound.voice.play(this._ship_mstid.toString(),10);var i,n=new a.TweenTask;i=createjs.Tween.get(this._shipFull).wait(600).to({x:-147+this._offset.x,alpha:.5},900,createjs.Ease.sineOut).to({x:201+this._offset.x,alpha:0},900,createjs.Ease.sineIn).set({visible:!1}),n.addTween(i),this._shipCard.x=443,this._shipCard.y=135,this._shipCard.alpha=0,t.addChild(this._shipCard),i=createjs.Tween.get(this._shipCard).wait(600).set({visible:!0}).to({x:770,alpha:.5},900,createjs.Ease.sineOut).to({x:443,alpha:1},900,createjs.Ease.sineIn),n.addTween(i),n.start(function(){t.removeChild(e._shipFull),e._03_waitClick()})},e.prototype._03_waitClick=function(){var t=this,e=new l.GearBtnHome;e.initialize(),e.x=o.default.width-e.width/2,e.y=o.default.height-e.height/2,e.activate(),this.addChild(e);var i=new _.AreaBox(0);i.buttonMode=!0,this.addChild(i),i.once(s.EventType.CLICK,function(){t.removeChild(i),t._04_fadeOut(e)})},e.prototype._04_fadeOut=function(t){var e=this;createjs.Tween.get(this).to({alpha:0},100).call(function(){t.dispose(),e.removeChild(t),null!=e._cb_onComplete&&e._cb_onComplete()})},e}(PIXI.Container);e.KaizoAnimationMain=d},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite(o.REMODEL_ANIMATION.getTexture(0));e.addChild(i);var n=new PIXI.Sprite(o.REMODEL_ANIMATION.getTexture(1));e.addChild(n);var r=new PIXI.Graphics;return r.beginFill(16711935,.5),r.drawRect(-i.width/2,-i.height/2,i.width,i.height),r.endFill(),r.position.set(i.width/2,i.height/2),e.addChild(r),e.mask=r,e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.mask=null},e}(PIXI.Container);e.CutinBar=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(8),s=i(14),a=i(13),_=function(t){function e(){var e=t.call(this)||this;return e.bg=new r.AreaBox(1,16777215),e.black=new r.AreaBox(1),e.bgGrad=new PIXI.Sprite,e.ship=new PIXI.Sprite,e.silhouette=new PIXI.Sprite,e.shipLayer1=new PIXI.Container,e.shipLayer2=new PIXI.Container,e.bg.alpha=0,e.black.alpha=0,e.bgGrad.alpha=0,e.shipLayer1.alpha=0,e.shipLayer2.alpha=0,e.shipLayer1.x=-290,e.shipLayer2.x=-290,e.shipLayer1.scale.set(.8),e.shipLayer2.scale.set(.8),e.shipLayer1.addChild(e.ship),e.shipLayer2.addChild(e.silhouette),e.addChild(e.bg,e.shipLayer1,e.shipLayer2,e.bgGrad,e.black),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.bg=null,this.bgGrad=null,this.black=null,this.shipLayer1=null,this.shipLayer2=null,this.ship=null,this.silhouette=null,this._cb_onComplete=null},e.prototype.play=function(t,e,i){var n=this;this._callback=e,this._cb_onComplete=i,this._preload(t,function(){createjs.Tween.get(n.bg).to({alpha:1},500).call(function(){n.anim1()})})},e.prototype._preload=function(t,e){var i=this,n=new s.UIImageLoader("remodel");n.add("bg/vignette_frame.png","vignette_frame"),n.load(function(){var n=new a.ShipLoader;n.add(t[0],!1,"full"),n.add(t[1],!1,"full"),n.load(function(){i.bgGrad.texture=o.default.resources.getUIImage("vignette_frame"),i.ship.texture=o.default.resources.getShip(t[0],!1,"full"),i.silhouette.texture=o.default.resources.getShip(t[1],!1,"full"),i.silhouette.tint=0;var n=o.default.model.ship_graph.get(t[0]).getCenterOffset(!1),r=o.default.model.ship_graph.get(t[1]).getCenterOffset(!1);i.ship.x=330+n.x,i.ship.y=n.y-50,i.silhouette.x=330+r.x,i.silhouette.y=r.y-50,e()})})},e.prototype.anim1=function(){var t=this;createjs.Tween.get(this.bgGrad).to({alpha:1},1e3),createjs.Tween.get(this.shipLayer1).to({alpha:1},1e3).wait(300).call(function(){t.anim2()})},e.prototype.anim2=function(){createjs.Tween.get(this.shipLayer1).to({x:0},2300,createjs.Ease.quintOut),createjs.Tween.get(this.shipLayer1).wait(300).to({alpha:0},1500),createjs.Tween.get(this.shipLayer2).to({x:0},2300,createjs.Ease.quintOut),createjs.Tween.get(this.shipLayer2).wait(300).to({alpha:1},1500),this.anim3()},e.prototype.anim3=function(){var t=this;createjs.Tween.get(this.black).wait(1300).to({alpha:1},1e3).call(function(){t.bg.visible=!1,t.shipLayer2.visible=!1,t._callback(),createjs.Tween.get(t).to({alpha:0},1e3).call(function(){t._cb_onComplete()})})},e}(PIXI.Container);e.SpKaizoIntro=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(830),r=i(31),s=i(1),a=function(t){function e(e,i,n,r){var s=t.call(this)||this,a=(new PIXI.Graphics).beginFill(16777215).drawRect(0,0,1200,720).endFill(),u=new o.FlashFilter;a.filters=[u];var c=(new PIXI.Graphics).beginFill(0).drawRect(0,0,1200,720).endFill(),h=new PIXI.Sprite(n),p=new PIXI.Sprite(r),d=new _(i),f=new PIXI.Sprite(e),y=new PIXI.Container,m=new l;return d.position.set(.5*-i.width,.5*-i.height),h.position.set(12,12),p.position.set(12,720-p.height-12),y.addChild(d),s.addChild(a),s.addChild(y),s.addChild(f,h,p),s.addChild(c),s.addChild(m),s._textClass=h,s._textName=p,s._camera=y,s._backGround=a,s._blackOver=c,s._ship=d,s._backgroundColorFilter=u,s._goBackArea=m,s}return n(e,t),Object.defineProperty(e.prototype,"camera",{get:function(){return this._camera},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textClass",{get:function(){return this._textClass},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textName",{get:function(){return this._textName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backGround",{get:function(){return this._backGround},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blackOver",{get:function(){return this._blackOver},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ship",{get:function(){return this._ship},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"goBackArea",{get:function(){return this._goBackArea},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColorFilter",{get:function(){return this._backgroundColorFilter},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.removeChildren(),this._ship.dispose(),this._goBackArea.dispose(),this._camera.removeChildren(),this._backGround.filters=[],this._textClass.texture=PIXI.Texture.EMPTY,this._textName.texture=PIXI.Texture.EMPTY,this._goBackArea=null,this._ship=null,this._camera=null,this._textClass=null,this._textName=null,this._backGround=null,this._blackOver=null},e}(PIXI.Container);e.SpecialRemodelStartStage=a;var _=function(t){function e(e){var i=t.call(this)||this,n=new o.FlashFilter,r=new PIXI.Sprite(e);r.filters=[n],n.mr=0,n.mg=0,n.mb=0,n.factor=1,n.aa=.25,n.ar=0,n.ag=0,n.ab=0,r.alpha=.85;var s=new PIXI.Sprite(e);return i.addChild(r,s),i._main=s,i._shadow=r,i._flashFilter=n,i}return n(e,t),Object.defineProperty(e.prototype,"shadow",{get:function(){return this._shadow},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shadowColor",{get:function(){return this._flashFilter},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.removeChildren(),this._shadow.filters=[],this._shadow.texture=PIXI.Texture.EMPTY,this._main.texture=PIXI.Texture.EMPTY,this._shadow=null,this._main=null},e}(PIXI.Container);e.Ship=_;var l=function(t){function e(){var e=t.call(this)||this;e._onClick=function(){e.onClick()};var i=new r.GearBtnHome,n=(new PIXI.Graphics).beginFill(0,0).drawRect(0,0,1200,720).endFill();return i.initialize(),i.activate(),i.position.set(1200-.5*i.width,720-.5*i.height),n.interactive=!0,n.buttonMode=!0,n.addChild(i),n.addListener(s.EventType.CLICK,e._onClick),e._gearBtnHome=i,e._goBackArea=n,e.addChild(n),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._goBackArea.removeListener(s.EventType.CLICK,this._onClick),this._gearBtnHome.deactivate(),this._gearBtnHome.dispose(),this._goBackArea=null,this._onClick=null,this._gearBtnHome=null},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return t.call(this,PIXI.Filter.defaultVertexSrc,["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","uniform float factor;","uniform float mr;","uniform float mg;","uniform float mb;","uniform float ma;","uniform float ar;","uniform float ag;","uniform float ab;","uniform float aa;","void main(void){","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 ratio = vec4(sample.r * mr + ar  , sample.g * mg + ag , sample.b * mb + ab , sample.a * ma + aa);","   vec4 blending = mix(sample,ratio ,factor);","   gl_FragColor = blending;","   gl_FragColor *= sample.a;","}"].join("\n"))||this}return n(e,t),Object.defineProperty(e.prototype,"mr",{get:function(){return this.uniforms.mr},set:function(t){this.uniforms.mr=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mg",{get:function(){return this.uniforms.mg},set:function(t){this.uniforms.mg=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mb",{get:function(){return this.uniforms.mb},set:function(t){this.uniforms.mb=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ma",{get:function(){return this.uniforms.ma},set:function(t){this.uniforms.ma=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ar",{get:function(){return this.uniforms.ar},set:function(t){this.uniforms.ar=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ag",{get:function(){return this.uniforms.ag},set:function(t){this.uniforms.ag=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ab",{get:function(){return this.uniforms.ab},set:function(t){this.uniforms.ab=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aa",{get:function(){return this.uniforms.aa},set:function(t){this.uniforms.aa=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"factor",{get:function(){return this.uniforms.factor},set:function(t){this.uniforms.factor=t},enumerable:!0,configurable:!0}),e}(PIXI.Filter);e.FlashFilter=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(291),o=i(832),r=i(833),s=i(13),a=i(0),_=function(){function t(t,e,i){this._stage=e,this._animationKeys=i,this._easingMap=r.genEasingMap(),this._ship_mst_id=t}return t.prototype._genAnimation=function(t){var e=this;switch(t.type){case o.SpecialRemodelStartKey.SHIP_CAMERA:var i=t,r=0,s=Object(i).hasOwnProperty("duration");s&&(r=i.duration);var _=this._getEasing(t),l=n.$_$.Parallel(),u=Object(i).hasOwnProperty("position");u&&l.push(function(){return n.$_$.Value(e._stage.camera.position,{x:i.position.x,y:i.position.y},r,_)}),Object(i).hasOwnProperty("scale")&&l.push(function(){return n.$_$.Value(e._stage.camera.scale,{x:i.scale,y:i.scale},r,_)});var c=Object(i).hasOwnProperty("alpha");return c&&l.push(function(){return n.$_$.Value(e._stage.camera,{alpha:i.alpha},r,_)}),l;case o.SpecialRemodelStartKey.DELAY:var h=t,p=h.duration;return n.$_$.Delay(p);case o.SpecialRemodelStartKey.PLAY_VOICE:return n.$_$.Call(function(){a.default.sound.voice.play(e._ship_mst_id.toString(),10)});case o.SpecialRemodelStartKey.NAME_TEXT:var d=t,f=this._getEasing(d),y=0,s=Object(d).hasOwnProperty("duration");s&&(y=d.duration);var l=n.$_$.Parallel(),c=Object(d).hasOwnProperty("alpha");if(c){var m=d.alpha;l.push(function(){return n.$_$.Value(e._stage.textName,{alpha:m},y,f)})}var u=Object(d).hasOwnProperty("position");if(u){var g=d.position;l.push(function(){return n.$_$.Value(e._stage.textName.position,{x:g.x,y:g.y},y,f)})}return l;case o.SpecialRemodelStartKey.CLASS_TEXT:var v=t,b=this._getEasing(v),w=0,s=Object(v).hasOwnProperty("duration");s&&(w=v.duration);var l=n.$_$.Parallel(),c=Object(v).hasOwnProperty("alpha");if(c){var x=v.alpha;l.push(function(){return n.$_$.Value(e._stage.textClass,{alpha:x},w,b)})}var u=Object(v).hasOwnProperty("position");if(u){var I=v.position;l.push(function(){return n.$_$.Value(e._stage.textClass.position,{x:I.x,y:I.y},w,b)})}return l;case o.SpecialRemodelStartKey.BACK_GROUND:var T=t,p=T.duration,O=T.color,C=this._getEasing(T);return this._stage.backgroundColorFilter.ma=1,this._stage.backgroundColorFilter.aa=1,this._stage.backgroundColorFilter.ar=((16711680&O)>>16)/255,this._stage.backgroundColorFilter.ag=((65280&O)>>8)/255,this._stage.backgroundColorFilter.ab=(255&O)/255,n.$_$.Value(this._stage.backgroundColorFilter,{factor:1},p,C);default:return n.$_$.Call(function(){})}},t.prototype._getEasing=function(t,e){void 0===e&&(e=r.Easing.linear);return t.hasOwnProperty("easing")?this._easingMap[t.easing]:this._easingMap[e]},t.prototype.play=function(){this._play()},t.prototype._play=function(){var t=this;this._stage.goBackArea.visible=!1,this._stage.goBackArea.interactive=!1,this._stage.ship.shadow.x=20,this._stage.textClass.alpha=0,this._stage.textName.alpha=0,this._stage.backGround.alpha=1;var e=this._genSequenceAnimations(this._animationKeys),i=n.$_$.Parallel(function(){return e},function(){return n.$_$.Value(t._stage.ship.shadow,{x:35},5e3)},function(){return n.$_$.Value(t._stage.blackOver,{alpha:0},3e3)}),o=n.$_$.Sequence(function(){return i},function(){return n.$_$.Delay(300)});this._animation=e,o.execute(function(){o.dispose(),t._animation=null,t._onCompleteAnimation()})},t.prototype._onCompleteAnimation=function(){var t=this;this._stage.goBackArea.visible=!0,this._stage.goBackArea.interactive=!0,this._stage.goBackArea.onClick=function(){return t._onClickGoBack()}},t.prototype._onClickGoBack=function(){var t=this;this._stage.goBackArea.onClick=function(){};var e=n.$_$.Value(this._stage,{alpha:0},150);e.execute(function(){e.dispose(),t.onComplete()})},t.prototype.dispose=function(){this._animation&&(this._animation.interrupt(),this._animation.dispose()),this.onComplete=null,this._animation=null,this._animationKeys=null,this._stage=null},t.prototype._genSequenceAnimations=function(t){var e=this,i=n.$_$.Sequence();return t.forEach(function(t){var n=null;if(t instanceof Array){var o=e._genParallelAnimations(t);n=function(){return o}}else n=function(){return e._genAnimation(t)};i.push(n)}),i},t.prototype._genParallelAnimations=function(t){var e=this,i=n.$_$.Parallel();return t.forEach(function(t){var n=null;if(t instanceof Array){var o=e._genSequenceAnimations(t);n=function(){return o}}else n=function(){return e._genAnimation(t)};i.push(n)}),i},t}();e.SpecialRemodelStart=_;var l=function(){function t(t){this._ship_mst_id=t}return t.prototype.start=function(){var t=this,e=new s.ShipLoader;e.add(this._ship_mst_id,!1,"full_x2"),e.add(this._ship_mst_id,!1,"text_class"),e.add(this._ship_mst_id,!1,"text_name"),e.load(function(){t.onComplete()})},t.prototype.dispose=function(){this.onComplete=null,this._ship_mst_id=null},t}();e.SpecialRemodelStartInitializer=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.DELAY=1]="DELAY",t[t.SHIP_CAMERA=2]="SHIP_CAMERA",t[t.CLASS_TEXT=3]="CLASS_TEXT",t[t.NAME_TEXT=4]="NAME_TEXT",t[t.BACK_GROUND=5]="BACK_GROUND",t[t.PLAY_VOICE=6]="PLAY_VOICE"}(e.SpecialRemodelStartKey||(e.SpecialRemodelStartKey={}))},function(t,e,i){"use strict";function n(){var t={};return t[o.linear]=createjs.Ease.linear,t[o.backIn]=createjs.Ease.backIn,t[o.backInOut]=createjs.Ease.backInOut,t[o.backOut]=createjs.Ease.backOut,t[o.bounceIn]=createjs.Ease.bounceIn,t[o.bounceInOut]=createjs.Ease.bounceInOut,t[o.bounceOut]=createjs.Ease.bounceOut,t[o.circIn]=createjs.Ease.circIn,t[o.circInOut]=createjs.Ease.circInOut,t[o.circOut]=createjs.Ease.circOut,t[o.cubicIn]=createjs.Ease.cubicIn,t[o.cubicInOut]=createjs.Ease.cubicInOut,t[o.cubicOut]=createjs.Ease.cubicOut,t[o.elasticIn]=createjs.Ease.elasticIn,t[o.elasticInOut]=createjs.Ease.elasticInOut,t[o.elasticOut]=createjs.Ease.elasticOut,t[o.quadIn]=createjs.Ease.quadIn,t[o.quadInOut]=createjs.Ease.quadInOut,t[o.quadOut]=createjs.Ease.quadOut,t[o.quartIn]=createjs.Ease.quartIn,t[o.quartInOut]=createjs.Ease.quartInOut,t[o.quartOut]=createjs.Ease.quartOut,t[o.quintIn]=createjs.Ease.quintIn,t[o.quintInOut]=createjs.Ease.quintInOut,t[o.quintOut]=createjs.Ease.quintOut,t[o.sineIn]=createjs.Ease.sineIn,t[o.sineInOut]=createjs.Ease.sineInOut,t[o.sineOut]=createjs.Ease.sineOut,t}Object.defineProperty(e,"__esModule",{value:!0});var o;!function(t){t[t.linear=0]="linear",t[t.backIn=1]="backIn",t[t.backInOut=2]="backInOut",t[t.backOut=3]="backOut",t[t.bounceIn=4]="bounceIn",t[t.bounceInOut=5]="bounceInOut",t[t.bounceOut=6]="bounceOut",t[t.circIn=7]="circIn",t[t.circInOut=8]="circInOut",t[t.circOut=9]="circOut",t[t.cubicIn=10]="cubicIn",t[t.cubicInOut=11]="cubicInOut",t[t.cubicOut=12]="cubicOut",t[t.elasticIn=13]="elasticIn",t[t.elasticInOut=14]="elasticInOut",t[t.elasticOut=15]="elasticOut",t[t.quadIn=16]="quadIn",t[t.quadInOut=17]="quadInOut",t[t.quadOut=18]="quadOut",t[t.quartIn=19]="quartIn",t[t.quartInOut=20]="quartInOut",t[t.quartOut=21]="quartOut",t[t.quintIn=22]="quintIn",t[t.quintInOut=23]="quintInOut",t[t.quintOut=24]="quintOut",t[t.sineIn=25]="sineIn",t[t.sineInOut=26]="sineInOut",t[t.sineOut=27]="sineOut"}(o=e.Easing||(e.Easing={})),e.genEasingMap=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(8),r=i(340),s=i(51),a=i(837),_=i(838),l=i(839),u=function(){function t(t){var e=this;this._onClickSign=function(){n.default.view.overLayer.removeChild(e.clickGuardMarriageConfirm),n.default.view.overLayer.addChild(e.clickGuardMarriageConfirm);var t=new a.MarriageAPI(e.memShipId);n.default.view.clickGuard=!0,t.start(function(){n.default.view.clickGuard=!1;var t=new r.MarriageAnimation(n.default.model.ship.get(e.memShipId).mstID);n.default.view.overLayer.addChild(t),t.PreLoad(function(){t.Initialize(),t.Play(!1,function(){n.default.view.overLayer.removeChild(e.marriageConfirm),n.default.view.overLayer.removeChild(e.clickGuardMarriageConfirm),n.default.view.overLayer.removeChild(t),t.Dispose(),n.default.sound.bgm.play(102),e.onUpdateShip(),e.onComplete()})})})},this._onClickConfirmBack=function(){n.default.view.clickGuard=!0,createjs.Tween.get(e.clickGuardMarriageConfirm).to({alpha:0},250),createjs.Tween.get(e.marriageConfirm).to({alpha:0},250).call(function(){n.default.view.clickGuard=!1,n.default.view.overLayer.removeChild(e.clickGuardMarriageConfirm),n.default.view.overLayer.removeChild(e.marriageConfirm),e.onComplete()})},this._onClickAlertBack=function(){n.default.view.clickGuard=!0,createjs.Tween.get(e.clickGuardMarriageConfirm).to({alpha:0},250),createjs.Tween.get(e.marriageAlert).to({alpha:0},250).call(function(){n.default.view.clickGuard=!1,n.default.view.overLayer.removeChild(e.clickGuardMarriageConfirm),n.default.view.overLayer.removeChild(e.marriageAlert),e.onComplete()})},this.mainView=t,this.marriageConfirm=new l.MarriageConfirm(this._onClickSign,this._onClickConfirmBack),this.marriageAlert=new _.MarriageAlert,this.clickGuardMarriageConfirm=new o.AreaBox(.5)}return t.prototype.start=function(t){var e=n.default.model.useItem.get(s.RemodelConst.MARRIAGE_RING_ITEMID).count;this.marriageConfirm.position.set(294,212),this.marriageAlert.position.set(294,212),this.clickGuardMarriageConfirm.alpha=0,this.marriageConfirm.alpha=0,this.marriageAlert.alpha=0,0<e?(n.default.view.overLayer.addChild(this.clickGuardMarriageConfirm,this.marriageConfirm),this.marriageConfirm.update(e),n.default.view.clickGuard=!0,createjs.Tween.get(this.clickGuardMarriageConfirm).to({alpha:1},250),createjs.Tween.get(this.marriageConfirm).to({alpha:1},250).call(function(){n.default.view.clickGuard=!1})):(n.default.view.overLayer.addChild(this.clickGuardMarriageConfirm,this.marriageAlert),this.marriageAlert.onClickBack=this._onClickAlertBack,n.default.view.clickGuard=!0,createjs.Tween.get(this.clickGuardMarriageConfirm).to({alpha:1},250),createjs.Tween.get(this.marriageAlert).to({alpha:1},250).call(function(){n.default.view.clickGuard=!1})),this.memShipId=t},t.prototype.dispose=function(){this.marriageAlert.onClickBack=this._onClickAlertBack=null,this.onUpdateShip=null,this.onComplete=null,this.mainView=null,this.marriageConfirm&&this.marriageConfirm.dispose(),this.marriageAlert&&this.marriageAlert.dispose(),this.marriageConfirm=null,this.marriageAlert=null,this.clickGuardMarriageConfirm=null,this.memShipId=null},t}();e.TaskMarriage=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("wedding_marriage_bg_"+t)}t.getTexture=e}(e.WEDDING_MARRIAGE_BG||(e.WEDDING_MARRIAGE_BG={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("wedding_marriage_"+t)}t.getTexture=e}(e.WEDDING_MARRIAGE||(e.WEDDING_MARRIAGE={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=function(t){function e(e){var i=t.call(this)||this;return i._url="api_req_kaisou/marriage",i.api_id=e,i}return n(e,t),e.prototype._connect=function(){this._post_data.api_id=this.api_id,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e=o.default.model.useItem.get(55);e.__setCount__(e.count-1),o.default.model.ship.updateData(this._raw_data),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.MarriageAPI=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(){var e=t.call(this)||this;e._onClickBack=function(){e.onClickBack()};var i=new PIXI.Sprite(o.REMODEL_MAIN.getTexture(48));return e.buttonBack=new PIXI.Sprite(o.REMODEL_MAIN.getTexture(0)),e.buttonBack.interactive=e.buttonBack.buttonMode=!0,e.buttonBack.on(r.EventType.CLICK,e._onClickBack),e.buttonBack.position.set(221,206),e.addChild(i,e.buttonBack),e}return n(e,t),e.prototype.dispose=function(){this.buttonBack.off(r.EventType.CLICK),this.onClickBack=null,this.buttonBack=null,this.removeChildren()},e}(PIXI.Container);e.MarriageAlert=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(3),s=i(1),a=function(t){function e(e,i){var n=t.call(this)||this;n._onClickSign=function(){n._cb_onSign&&n._cb_onSign()},n._onClickBack=function(){n._cb_onBack&&n._cb_onBack()},n._cb_onSign=e,n._cb_onBack=i;var a=new PIXI.Sprite(r.REMODEL_MAIN.getTexture(47));n.addChild(a);var _=new PIXI.Sprite(r.REMODEL_MAIN.getTexture(33));return _.position.set(18,-117),a.addChild(_),n._buttonSign=new PIXI.Sprite(r.REMODEL_MAIN.getTexture(12)),n._buttonSign.position.set(48,212),n._buttonSign.interactive=!0,n._buttonSign.buttonMode=!0,n.addChild(n._buttonSign),n._buttonBack=new PIXI.Sprite(r.REMODEL_MAIN.getTexture(0)),n._buttonBack.position.set(384,212),n._buttonBack.interactive=!0,n._buttonBack.buttonMode=!0,n.addChild(n._buttonBack),n._textBeforeCount=new o.TextBox(25,5523516),n._textBeforeCount.position.set(386,78),n._textBeforeCount.anchor.x=1,n.addChild(n._textBeforeCount),n._arrow=new o.TextBox(18,5523516),n._arrow.position.set(393,83),n._arrow.text="\u2192",n.addChild(n._arrow),n._textAfterCount=new o.TextBox(25,5523516),n._textAfterCount.position.set(417,78),n.addChild(n._textAfterCount),n._buttonSign.on(s.EventType.CLICK,n._onClickSign),n._buttonBack.on(s.EventType.CLICK,n._onClickBack),n}return n(e,t),e.prototype.dispose=function(){this._buttonSign.off(s.EventType.CLICK),this._buttonBack.off(s.EventType.CLICK),this._textBeforeCount.destroy(),this._textAfterCount.destroy(),this._arrow.destroy(),this._cb_onSign=null,this._cb_onBack=null,this._buttonSign=null,this._buttonBack=null,this._textBeforeCount=null,this._textAfterCount=null,this._arrow=null,this.removeChildren()},e.prototype.update=function(t){this._textBeforeCount.text=""+t,this._textAfterCount.text=""+(t-1)},e}(PIXI.Container);e.MarriageConfirm=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(8),r=i(6),s=i(51),a=i(841),_=i(842),l=function(){function t(t){var e=this;this._onClickNo=function(){n.default.view.clickGuard=!0;createjs.Tween.get(e.clickGuardConfirm).to({alpha:0},250),createjs.Tween.get(e.extensionConfirm).to({alpha:0},250).call(function(){e.mainView.removeChild(e.clickGuardConfirm),e.mainView.removeChild(e.extensionConfirm),n.default.view.clickGuard=!1,e.onComplete()})},this._onClickYes=function(){n.default.view.clickGuard=!0,new _.OpenExSlotAPI(e.memShipId).start(function(){r.SE.play("203");var t=new o.AreaBox(1,16777215);t.alpha=0,e.mainView.addChild(t),createjs.Tween.get(t).to({alpha:1},2e3).call(function(){e.mainView.removeChild(e.clickGuardConfirm),e.mainView.removeChild(e.extensionConfirm),e.onUpdateShip()}).to({alpha:0},1e3).call(function(){e.mainView.removeChild(t),n.default.view.clickGuard=!1,e.onComplete()})})},this.extensionConfirm=new a.ExtensionConfirm(this._onClickYes,this._onClickNo),this.clickGuardConfirm=new o.AreaBox(.5),this.mainView=t}return t.prototype.start=function(t){n.default.view.clickGuard=!0;var e=n.default.model.useItem.get(s.RemodelConst.REINFORCEMENT_WORK_ITEMID).count;this.extensionConfirm.alpha=0,this.clickGuardConfirm.alpha=0,this.extensionConfirm.position.set(294,212),this.extensionConfirm.update(e),this.mainView.addChild(this.clickGuardConfirm,this.extensionConfirm),this.memShipId=t;createjs.Tween.get(this.clickGuardConfirm).to({alpha:1},250),createjs.Tween.get(this.extensionConfirm).to({alpha:1},250).call(function(){n.default.view.clickGuard=!1})},t.prototype.dispose=function(){this.extensionConfirm.dispose(),this.onUpdateShip=null,this.onComplete=null,this.extensionConfirm=null,this.clickGuardConfirm=null,this.mainView=null,this.memShipId=null},t}();e.TaskExtension=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(3),s=i(1),a=function(t){function e(e,i){var n=t.call(this)||this;n._onClickYes=function(){n._cb_onYes&&n._cb_onYes()},n._onClickNo=function(){n._cb_onNo&&n._cb_onNo()},n._cb_onYes=e,n._cb_onNo=i;var a=new PIXI.Sprite(r.REMODEL_MAIN.getTexture(49));return n.addChild(a),n._btnYes=new PIXI.Sprite(r.REMODEL_MAIN.getTexture(13)),n._btnYes.position.set(78,210),n._btnYes.interactive=!0,n._btnYes.buttonMode=!0,n.addChild(n._btnYes),n._btnNo=new PIXI.Sprite(r.REMODEL_MAIN.getTexture(0)),n._btnNo.position.set(351,210),n._btnNo.interactive=!0,n._btnNo.buttonMode=!0,n.addChild(n._btnNo),n._beforeCount=new o.TextBox(25,5523516),n._beforeCount.anchor.x=1,n._beforeCount.position.set(395,119),n.addChild(n._beforeCount),n._arrow=new o.TextBox(18,5523516),n._arrow.text="\u2192",n._arrow.position.set(404,122),n.addChild(n._arrow),n._afterCount=new o.TextBox(25,5523516),n._afterCount.position.set(438,119),n.addChild(n._afterCount),n._btnYes.on(s.EventType.CLICK,n._onClickYes),n._btnNo.on(s.EventType.CLICK,n._onClickNo),n}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._btnYes.off(s.EventType.CLICK),this._btnNo.off(s.EventType.CLICK),this._beforeCount.destroy(),this._afterCount.destroy(),this._arrow.destroy(),this._cb_onYes=null,this._cb_onNo=null,this._btnYes=null,this._btnNo=null,this._beforeCount=null,this._afterCount=null,this._arrow=null},e.prototype.update=function(t){this._beforeCount.text=t.toString(),this._afterCount.text=(t-1).toString()},e}(PIXI.Container);e.ExtensionConfirm=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=i(51),a=function(t){function e(e){var i=t.call(this)||this;return i._url="api_req_kaisou/open_exslot",i.api_id=e,i}return n(e,t),e.prototype._connect=function(){this._post_data.api_id=this.api_id,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e=o.default.model.useItem.get(s.RemodelConst.REINFORCEMENT_WORK_ITEMID),i=e.count-1;e.__setCount__(i),o.default.model.ship.get(this.api_id).__updateExtraSlot__(-1),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.OpenExSlotAPI=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(8),s=i(32),a=i(71),_=function(t){function e(){var e=t.call(this)||this;return e._onClick=function(){e.onClick(e.index,e.memId)},e.shipBanner=new s.ShipBanner,e.emptyShipBanner=new PIXI.Sprite(a.REMODEL_MAIN.getTexture(18)),e.clickArea=new r.AreaBox(0,0,240,60),e.clickArea.buttonMode=!0,e.clickArea.on(o.EventType.CLICK,e._onClick),e}return n(e,t),e.prototype.dispose=function(){this.shipBanner.dispose(),this.clickArea.off(o.EventType.CLICK,this._onClick),this.onClick=null,this.shipBanner=null,this.emptyShipBanner=null,this.index=null,this.memId=null,this.clickArea=null},e.prototype.update=function(t,e,i){this.removeChildren(),this.shipBanner.update(e,i),this.memId=e.memID,this.index=t,this.addChild(this.shipBanner,this.clickArea)},e.prototype.empty=function(){this.removeChildren(),this.addChild(this.emptyShipBanner)},e}(PIXI.Container);e.ShipSlot=_},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(t){this._memID=-1,this._counter=0,this._playList=t}return t.prototype.play=function(t){var e=this._voiceIndex(t),i=n.default.model.ship.get(t).mstID;n.default.sound.voice.play(i.toString(),this._playList[e])},t.prototype._voiceIndex=function(t){return this._memID!==t?(this._memID=t,this._counter=0,0):++this._counter%this._playList.length},t}();e.ShipVoice=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(8),r=i(1),s=i(51),a=i(3),_=i(846),l=function(t){function e(e,i,n,o,r,s,a){var _=t.call(this,0)||this;return _._onMove=function(t){var e=t.data.global;_._dragSlotItem.position.set(e.x,e.y);var i=-1;_._slotArea.forEach(function(e,n){var o=t.data.getLocalPosition(e),r=e.getChildByName("over");1==e.hitArea.contains(o.x,o.y)?(r.alpha=_._beforeIndex==n||n>=_._availSlotNumber?0:1,i=n):r.alpha=0}),_._afterIndex=i},_._onUp=function(){_._cbDrop(_._beforeIndex,_._afterIndex,_._equipmentList),_._cbEnd()},_._onOut=function(){_._cbEnd()},_._afterIndex=-1,_._beforeIndex=n,_._slotItems=o,_._equipmentList=r,_._cbDrop=s,_._cbEnd=a,_.interactive=!1,_._slotArea=[],_._delayRun=createjs.Tween.get(null).wait(500).call(function(){_._activate(e,i)}),_}return n(e,t),e.prototype.inDraggingEventWaiting=function(){return null==this._drag},e.prototype.cancel=function(){this._delayRun.setPaused(!0),this._cbEnd()},e.prototype.dispose=function(){this.removeChildren(),this.off(r.EventType.MOUSEMOVE,this._onMove),this.off(r.EventType.MOUSEUP,this._onUp),this.off(r.EventType.MOUSEOUT,this._onOut),this._dragSlotItem&&this._dragSlotItem.dispose(),null!=this._drag&&(this._slotItems[this._beforeIndex].alpha=1,this._drag.removeChildren(),this._slotArea.forEach(function(t){t.removeChildren()})),this._drag=null,this._slotArea=null,this._delayRun=null,this._dragSlotItem=null,this._afterIndex=null,this._availSlotNumber=null,this._beforeIndex=null,this._slotItems=null,this._equipmentList=null,this._cbEnd=null,this._cbDrop=null},e.prototype._activate=function(t,e){var i=this;this.interactive=!0,this._availSlotNumber=this._equipmentList.length,this._afterIndex=this._beforeIndex,this._drag=new PIXI.Container,this._slotItems[this._beforeIndex].alpha=.5,this._slotItems.forEach(function(e,n){var r=new o.AreaBox(0,16777215,s.RemodelConst.DETAIL_LISTITEM.WIDTH,s.RemodelConst.DETAIL_LISTITEM.HEIGHT);r.hitArea=new PIXI.Rectangle(0,0,s.RemodelConst.DETAIL_LISTITEM.WIDTH,s.RemodelConst.DETAIL_LISTITEM.HEIGHT);var _=new PIXI.Sprite(a.REMODEL_MAIN.getTexture(22));_.alpha=0,_.name="over",_.position.set(-30,0),r.addChild(_);var l=t.x+i._slotItems[n].x,u=t.y+i._slotItems[n].y;r.position.set(l,u),i._slotArea.push(r),i._drag.addChild(r)}),this._dragSlotItem=new _.SimpleSlotItemSlot,this._dragSlotItem.update(this._equipmentList[this._beforeIndex]),this._dragSlotItem.pivot.set(Math.round(this._dragSlotItem.width/2),Math.round(this._dragSlotItem.height/2)),this._dragSlotItem.position.set(e.x,e.y),this._drag.addChild(this._dragSlotItem),this.addChild(this._drag),a.SE.play("237"),this.on(r.EventType.MOUSEMOVE,this._onMove),this.on(r.EventType.MOUSEUP,this._onUp),this.on(r.EventType.MOUSEOUT,this._onOut)},e}(o.AreaBox);e.SlotItemDragging=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(61),s=i(4),a=i(15),_=function(t){function e(){var e=t.call(this)||this;return e.background=new PIXI.Sprite(o.COMMON_MAIN.getTexture(45)),e.containerItemName=new PIXI.Container,e.containerItemName.position.set(50,11),e.textItemName=new s.TextBox(19,5523516),e.maskItemName=a.CreateRect.gradientLeftToRight(244,35,.65,.7),e.iconWeapon=new r.IconWeapon,e.containerItemName.mask=e.maskItemName,e.containerItemName.addChild(e.textItemName,e.maskItemName),e.addChild(e.background,e.containerItemName,e.iconWeapon),e}return n(e,t),e.prototype.update=function(t){this._update_(t.name,t.iconType)},e.prototype.empty=function(){this._updateIconType_(0),this._updateItemName_("")},e.prototype._update_=function(t,e){this._updateIconType_(e),this._updateItemName_(t)},e.prototype._updateItemName_=function(t){this.textItemName.text=t},e.prototype._updateIconType_=function(t){this.iconWeapon.update(t)},e.prototype.dispose=function(){this.removeChildren(),this.iconWeapon.dispose(),this.containerItemName.removeChildren(),this.containerItemName.mask=null,this.textItemName.destroy(),this.iconWeapon=null,this.background=null,this.textItemName=null,this.background=null,this.containerItemName=null},e}(PIXI.Container);e.SimpleSlotItemSlot=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(47),a=i(848),_=i(849),l=i(850),u=i(852),c=i(853),h=i(854),p=i(855),d=i(856),f=i(341),y=i(857),m=i(858),g=i(859),v=i(168),b=i(860),w=i(869),x=i(870),I=i(871),T=i(86),O=i(222),C=function(t){function e(){var e=t.call(this)||this;return e.nDocks=[],e.listPageIndex=0,e.shipSortKeyType=4,e._onClickEmptySlot=function(t){e.timerState=x.TimerState.UpdateOnly;var i=new l.PhaseRepairShipChoice(e,e.repairShipChoiceView,e.pagerView,e.shipSortButton,e.repairShipChoiceBackground);i.onComplete=function(n){e._onCompletePhaseRepairShipChoice(t,i,n)},i.start(e.listPageIndex,e.shipSortKeyType)},e._onClickExtension=function(t){r.default.view.clickGuard=!0;var i=t-1;e.timerState=x.TimerState.UpdateOnly,new m.OpenNewDockAPI(t).start(function(){e.mainView.unLockAnimation(i,function(){var t=r.default.model.useItem.get(v.RepairConst.OPEN_KEY_ITEMID),i=0<t.count;e.mainView.updateExtensionState(r.default.model.ndock.getAll(),i),e.timerState=x.TimerState.WaitComplete,r.default.view.clickGuard=!1})})},e.onUpdateNDockTimer=function(){var t=Date.now();switch(e.mainView.updateTime(t,e.nDocks),e.timerState){case x.TimerState.UpdateOnly:return;case x.TimerState.WaitComplete:for(var i=0;i<e.nDocks.length;i++){var n=e.nDocks[i];if(1==n.state){if(n.completeTime<t){r.default.view.clickGuard=!0,e.timerState=x.TimerState.UpdateOnly;return void(new f.NDockAPI).start(function(){var t=r.default.model.ndock.getAll();e.mainView.hideAnimation(t,function(){e.updateNDocks(t),e.timerState=x.TimerState.WaitComplete,r.default.view.clickGuard=!1}),e.nDocks=t})}}}}},e._onCompletePhaseRepairShipChoice=function(t,i,n){switch(e.listPageIndex=i.pageIndex,e.shipSortKeyType=i.shipSortKeyType,n){case!1:r.default.view.clickGuard=!0,i.hide(function(){i.dispose(),r.default.view.clickGuard=!1,e.timerState=x.TimerState.WaitComplete});break;case!0:var o=i.memShipId,s=new u.PhaseRepairShipConfig(e,e.repairShipConfigView,e.repairShipConfigBackground);s.onComplete=function(n){e._onCompletePhaseRepairShipConfig(t,i,s,n)},s.start(o)}},e._onCompletePhaseRepairShipConfig=function(t,i,n,o){switch(o){case!1:r.default.view.clickGuard=!0,n.hide(function(){n.dispose(),r.default.view.clickGuard=!1});break;case!0:var s=new a.PhaseRepairConfirm(r.default.view.overLayer,e.useRepairConfirmView,e.repairConfirmBackground);s.onComplete=function(o){e._onCompletePhaseRepairConfirm(t,i,n,s,o)},s.start(i.memShipId,n.useHiSpeed)}},e._onCompletePhaseRepairConfirm=function(t,i,n,o,s){switch(s){case!1:r.default.view.clickGuard=!0,o.hide(function(){o.dispose(),r.default.view.clickGuard=!1});break;case!0:var a=i.memShipId,_=n.useHiSpeed,l=t-1,u=r.default.model.ship.get(a),c={hpNow:u.hpNow,hpMax:u.hpMax,damaged:u.isDamaged(),completeTime:u.getRepairTime()},h=new y.StartAPI(t,i.memShipId,_);e.mainView.stopAnimation(l),h.start(function(){var s=(r.default.model.useItem.get(31),r.default.model.useItem.get(33),r.default.model.useItem.get(1)),a=new f.NDockAPI;r.default.view.portMain.updateInfo(),a.start(function(){e.nDocks=r.default.model.ndock.getAll();for(var a=0<s.count,h=0,p=e.nDocks.length;h<p;h++){var d=e.nDocks[h];0!=d.state||1!=e.mainView.dockState(h)?1==d.state&&e.mainView.updateHighSpeedButton(h,a):e.mainView.forceEnd(h)}var f=e.nDocks[l];_||1==f.state?(e.mainView.updateViewState(l,1),e.mainView.updateShipInfo(l,c.hpNow,c.hpMax,u.level,u.mstID,u.name,u.memID,c.damaged,u.starNum,u.isMarriage()),e.mainView.updateDockInfo(l,1,t,c.completeTime+Date.now())):e.mainView.updateViewState(l,f.state),i.dispose(),n.dispose(),o.hide(function(){o.dispose();var i=r.default.model.ndock.get(t);_?e.mainView.highSpeedAnimation(l,function(){e.mainView.updateViewState(l,i.state),e.timerState=x.TimerState.WaitComplete}):(1==i.state&&e.mainView.playAnimation(l),e.timerState=x.TimerState.WaitComplete);var n=u.mstID,s=c.hpNow/c.hpMax>.5?11:12;r.default.sound.voice.play(n.toString(),s)})})})}},e._onClickHiSpeed=function(t){e.timerState=x.TimerState.UpdateOnly;var i=new PIXI.Graphics;i.beginFill(0,1),i.drawRect(0,0,o.default.width,o.default.height),i.endFill();var n=new _.PhaseHiSpeedRepairConfirm(r.default.view.overLayer,e.useHiSpeedRepairConfirmView,i);n.onComplete=function(i){e._onCompletePhaseHiSpeedRepairConfirm(t,n,i)},n.start(t)},e._onCompletePhaseHiSpeedRepairConfirm=function(t,i,n){switch(n){case!1:i.hide(function(){i.dispose(),e.timerState=x.TimerState.WaitComplete});break;case!0:r.default.view.clickGuard=!0;var o=t-1,s=r.default.model.ndock.get(t).shipMemID;new g.SpeedChangeAPI(t).start(function(){var n=(r.default.model.ndock.get(t),r.default.model.ndock.getAll()),a=r.default.model.useItem.get(1),_=0<a.count;r.default.view.portMain.updateInfo();for(var l=0;l<n.length;l++){1==n[l].state&&e.mainView.updateHighSpeedButton(l,_)}i.hide(function(){var n=r.default.model.ship.get(s).mstID;r.default.sound.voice.play(n.toString(),26),i.dispose(),e.mainView.highSpeedAnimation(o,function(){r.default.view.clickGuard=!1;r.default.model.ship.get(s);e.mainView.stopAnimation(o),e.mainView.updateDockInfo(o,0,t,0),e.mainView.updateViewState(o,0),e.timerState=x.TimerState.WaitComplete})})})}},e}return n(e,t),e.prototype.dispose=function(){for(var t=0;t<this.nDocks.length;t++)this.nDocks[t]=null;this.mainView.dispose(),this.__stopNDockTimer__(),this.repairShipChoiceView.dispose(),this.repairShipConfigView.dispose(),this.useRepairConfirmView.dispose(),this.useHiSpeedRepairConfirmView.dispose(),this.pagerView.dispose(),this.repairShipConfigBackground.clear(),this.repairShipChoiceBackground.clear(),this.nDocks=null,this.mainView=null,this.timerState=null,this.listPageIndex=null,this.shipSortKeyType=null,this.nDockTimer=null,this.repairShipChoiceView=null,this.repairShipConfigView=null,this.useRepairConfirmView=null,this.useHiSpeedRepairConfirmView=null,this.repairShipConfigBackground=null,this.repairShipChoiceBackground=null,this.removeChildren()},e.prototype.start=function(t){var e=new p.RepairShipChoiceView,i=new d.RepairShipConfigView,n=new c.UseRepairConfirmView,r=new h.UseHiSpeedRepairConfirmView,s=new O.ShipSortButton,a=new T.PagerView,_=new PIXI.Graphics;_.beginFill(0,.3),_.drawRect(0,103,o.default.width,o.default.height-103),_.endFill();var l=new PIXI.Graphics;l.beginFill(0,.3),l.drawRect(0,103,o.default.width,o.default.height-103),l.endFill();var u=new PIXI.Graphics;u.beginFill(0,1),u.drawRect(0,0,o.default.width,o.default.height),u.endFill(),this.repairShipConfigBackground=l,this.repairShipChoiceBackground=_,t.onClickHiSpeed=this._onClickHiSpeed,t.onClickEmptySlot=this._onClickEmptySlot,t.onClickExtension=this._onClickExtension,this.addChild(t),this.mainView=t,this.repairShipChoiceView=e,this.repairShipConfigView=i,this.useRepairConfirmView=n,this.useHiSpeedRepairConfirmView=r,this.shipSortButton=s,this.pagerView=a,this.repairShipConfigBackground=l,this.repairShipChoiceBackground=_,this.repairConfirmBackground=u},e.prototype.updateNDocks=function(t){for(var e=r.default.model.useItem.get(1),i=0<e.count,n=0;n<t.length;n++){var o=t[n];switch(this.mainView.updateDockInfo(n,o.state,o.mstID,o.completeTime),o.state){case 1:var s=r.default.model.ship.get(o.shipMemID);this.mainView.updateShipInfo(n,s.hpNow,s.hpMax,s.level,s.mstID,s.name,s.memID,s.isDamaged(),s.starNum,s.isMarriage()),this.mainView.updateHighSpeedButton(n,i),this.mainView.playAnimation(n)}this.mainView.updateViewState(n,o.state)}var a=r.default.model.useItem.get(v.RepairConst.OPEN_KEY_ITEMID),_=0<a.count;this.mainView.updateExtensionState(t,_),this.nDocks=t},e.prototype.stopNDockTimer=function(){this.__stopNDockTimer__()},e.prototype.__stopNDockTimer__=function(){null!=this.nDockTimer&&(this.nDockTimer.setPaused(!0),this.nDockTimer.addEventListener("change",this.onUpdateNDockTimer)),this.nDockTimer=null},e.prototype.startNDockTimer=function(){this.__stopNDockTimer__(),this.timerState=x.TimerState.WaitComplete;var t=createjs.Tween.get({});t.wait(500).loop=!0,t.play(null),t.addEventListener("change",this.onUpdateNDockTimer),this.nDockTimer=t},e.prototype.getPreInitializeTask=function(t){return new b.PreInitializeTask(this)},e.prototype.getInitializeTask=function(t){return new w.InitializeTask(this)},e.prototype.getPreFinalizeTask=function(){return this.timerState=x.TimerState.UpdateOnly,null},e.prototype.getFinalizeTask=function(){return new I.DisposeTask(this)},e}(s.SceneBase);e.RepairScene=C},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(49),r=function(){function t(t,e,i){var n=this;this._onClickYES=function(){n.onComplete(!0)},this._onClickNO=function(){n.onComplete(!1)},i.interactive=!0,i.alpha=0,e.alpha=0,e.x=Math.floor(600-e.width/2),e.y=Math.floor(360-e.height/2+27),e.onClickYES=this._onClickYES,e.onClickNO=this._onClickNO,t.addChild(i,e),this.mainView=t,this.background=i,this.useRepairConfirmView=e}return t.prototype.dispose=function(){this.mainView.removeChild(this.background),this.mainView.removeChild(this.useRepairConfirmView),this.useRepairConfirmView=null,this.background=null,this.mainView=null,this._onClickYES=this._onClickNO=null},t.prototype.start=function(t,e){n.default.view.clickGuard=!0;var i=n.default.model.ship.get(t);this.useRepairConfirmView.update(i,e),this.background.alpha=0,this.useRepairConfirmView.alpha=0;var r=o.UISettings.DIALOG_FADETIME,s={alpha:1};createjs.Tween.get(this.background).to(s,r),createjs.Tween.get(this.useRepairConfirmView).to(s,r).call(function(){n.default.view.clickGuard=!1})},t.prototype.hide=function(t){var e=o.UISettings.DIALOG_FADETIME,i={alpha:0};createjs.Tween.get(this.background).to(i,e),createjs.Tween.get(this.useRepairConfirmView).to(i,e).call(function(){n.default.view.clickGuard=!1,t()})},t}();e.PhaseRepairConfirm=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(49),r=function(){function t(t,e,i){var n=this;this._onClickYES=function(){n.onComplete(!0)},this._onClickNO=function(){n.onComplete(!1)},i.interactive=!0,i.alpha=0,e.alpha=0,e.x=Math.floor(600-e.width/2),e.y=Math.floor(360-e.height/2+27),t.addChild(i,e),e.onClickYES=this._onClickYES,e.onClickNO=this._onClickNO,this.mainView=t,this.useHiSpeedRepairConfirmView=e,this.background=i}return t.prototype.start=function(t){n.default.view.clickGuard=!0;var e=n.default.model.ndock.get(t),i=n.default.model.ship.get(e.shipMemID),r=n.default.model.useItem.get(1).count;this.useHiSpeedRepairConfirmView.update(i,r);var s=o.UISettings.DIALOG_FADETIME,a={alpha:1};createjs.Tween.get(this.background).to(a,s),createjs.Tween.get(this.useHiSpeedRepairConfirmView).to(a,s).call(function(){n.default.view.clickGuard=!1})},t.prototype.hide=function(t){n.default.view.clickGuard=!0;var e=o.UISettings.DIALOG_FADETIME,i={alpha:0};createjs.Tween.get(this.background).to(i,e),createjs.Tween.get(this.useHiSpeedRepairConfirmView).to(i,e).call(function(){n.default.view.clickGuard=!1,t()})},t.prototype.dispose=function(){this.mainView.removeChild(this.background),this.mainView.removeChild(this.useHiSpeedRepairConfirmView),this.onComplete=null,this.mainView=null,this.useHiSpeedRepairConfirmView=null,this.background=null},t}();e.PhaseHiSpeedRepairConfirm=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),o=i(0),r=i(28),s=i(168),a=i(851),_=i(3),l=i(1),u=function(){function t(t,e,i,n,o){var a=this;this._pageIndex=0,this._onClickPage=function(t){if(a._pageIndex!=t){var e=a.ships.slice(t*s.RepairConst.ITEM_IN_COUNT,t*s.RepairConst.ITEM_IN_COUNT+s.RepairConst.ITEM_IN_COUNT);a.repairShipChoiceView.update(e,a.repairingIds),a._pageIndex=t}},this._onClickBack=function(){a.onComplete(!1)},this._onClickListItem=function(t){a._memShipId=t,a.onComplete(!0)},this._onClickSort=function(){var t;switch(a._shipSortKeyType){case 1:t=2;break;case 2:t=3;break;case 3:t=4;break;case 4:t=1}r.ShipUtil.sort(a.ships,t);var e=a.ships.slice(a._pageIndex*s.RepairConst.ITEM_IN_COUNT,a._pageIndex*s.RepairConst.ITEM_IN_COUNT+s.RepairConst.ITEM_IN_COUNT);a.repairShipChoiceView.update(e,a.repairingIds),a.shipSortButton.update(t),a._shipSortKeyType=t},n.onClick=this._onClickSort,i.onChangePage=this._onClickPage,e.onClickListItem=this._onClickListItem,o.interactive=!0,o.addListener(l.EventType.CLICK,this._onClickBack),o.alpha=0,t.addChild(o,e),e.addChild(i,n),e.position.set(1200,142),n.position.set(585,6),i.position.set(69,528),this.repairShipChoiceView=e,this.shipSortButton=n,this.pagerView=i,this.mainView=t,this.background=o}return Object.defineProperty(t.prototype,"memShipId",{get:function(){return this._memShipId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageIndex",{get:function(){return this._pageIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shipSortKeyType",{get:function(){return this._shipSortKeyType},enumerable:!0,configurable:!0}),t.prototype.start=function(t,e){var i=this;_.SE.play("249"),o.default.view.clickGuard=!0;var n=o.default.model.ndock.getAll(),l=[];n.forEach(function(t){l.push(t.shipMemID)});var u=o.default.model.ship.getAll(),c=a.RepairUtil.calcPageCount(u.length);r.ShipUtil.sort(u,e);var h=u.slice(t*s.RepairConst.ITEM_IN_COUNT,t*s.RepairConst.ITEM_IN_COUNT+s.RepairConst.ITEM_IN_COUNT);this.repairShipChoiceView.update(h,l),this.shipSortButton.update(e),this.ships=u,this._pageIndex=t,this._shipSortKeyType=e,this.pagerView.init(c),this.pagerView.changePage(t),this.repairingIds=l;var p=createjs.Tween.get(this.repairShipChoiceView);createjs.Tween.get(this.background).to({alpha:1},150).play(null),p.to({x:532},150).call(function(){o.default.view.clickGuard=!1,i.background.width=568}).play(null)},t.prototype.hide=function(t){var e=createjs.Tween.get(this.repairShipChoiceView),i=createjs.Tween.get(this.background);this.background.width=n.default.width,i.to({alpha:0},150).play(null),e.to({x:1200},150).call(function(){t()}).play(null)},t.prototype.dispose=function(){this.mainView.removeChild(this.background),this.mainView.removeChild(this.repairShipChoiceView),this.repairShipChoiceView.removeChild(this.shipSortButton),this.repairShipChoiceView.removeChild(this.pagerView),this.background.removeAllListeners(l.EventType.CLICK),this.onComplete=null,this._memShipId=null,this.repairShipChoiceView=null,this.shipSortButton=null,this.pagerView=null,this.ships=null,this._shipSortKeyType=null,this._pageIndex=null},t}();e.PhaseRepairShipChoice=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(168);!function(t){function e(t){var e=0==t?0:t/n.RepairConst.ITEM_IN_COUNT;return e+=0==t?0:0<t%n.RepairConst.ITEM_IN_COUNT?1:0,e=Math.floor(e)}t.calcPageCount=e}(e.RepairUtil||(e.RepairUtil={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),o=i(0),r=i(84),s=i(1),a=function(){function t(t,e,i){var n=this;this._useHiSpeed=!1,this._onClick=function(){n._useHiSpeed=1==n.repairShipConfigView.state,n.onComplete(!0)},this._onClickBack=function(){n.onComplete(!1)},i.alpha=0,i.interactive=!0,i.addListener(s.EventType.CLICK,this._onClickBack),e.position.set(1200,140),t.addChild(i,e),e.onClick=this._onClick,this.repairShipConfigView=e,this.background=i,this.mainView=t}return Object.defineProperty(t.prototype,"useHiSpeed",{get:function(){return this._useHiSpeed},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=this;o.default.view.clickGuard=!0;var i=!1,n=o.default.model.ship.get(t),r=o.default.model.useItem.get(33).count,s=o.default.model.useItem.get(31).count,a=n.getRepairSteel()<=r,_=n.getRepairFuel()<=s,l=o.default.model.deck.isInDeck(t),u=o.default.model.useItem.get(1),c=0<u.count,h=o.default.model.ndock.getShipMemIDs(),p=-1<h.indexOf(t);null!=l&&(i=null!=o.default.model.deck.get(l[0]).expedition),this.repairShipConfigView.update(n,a,_,i,p,c);var d=createjs.Tween.get(this.repairShipConfigView);createjs.Tween.get(this.background).to({alpha:1},150).play(null),d.to({x:855},150).call(function(){createjs.Tween.removeTweens(e.repairShipConfigView),createjs.Tween.removeTweens(e.background),e.repairShipConfigView.x=855,e.background.alpha=1,e.background.width=887,o.default.view.clickGuard=!1}).play(null)},t.prototype.hide=function(t){var e=this;r.TaskLoadShipResource.abortBy(this.repairShipConfigView);var i=createjs.Tween.get(this.repairShipConfigView),o=createjs.Tween.get(this.background);this.background.width=n.default.width,o.to({alpha:0},150).play(null),i.to({x:1200},150).call(function(){createjs.Tween.removeTweens(e.repairShipConfigView),createjs.Tween.removeTweens(e.background),e.repairShipConfigView.x=1200,e.background.alpha=0,t()}).play(null)},t.prototype.dispose=function(){this.mainView.removeChild(this.background),this.mainView.removeChild(this.repairShipConfigView),this.background.removeAllListeners(s.EventType.CLICK),this.background=null,this.repairShipConfigView=null},t}();e.PhaseRepairShipConfig=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(0),s=i(4),a=i(32),_=i(25),l=i(1),u=function(t){function e(){var e=t.call(this)||this;e._labelArr=[],e._onClickNO=function(){e.onClickNO()},e._onClickYES=function(){e.onClickYES()};var i=new PIXI.Sprite(o.COMMON_MAIN.getTexture(63)),n=new PIXI.Sprite(o.REPAIR_MAIN.getTexture(27)),_=new PIXI.Sprite(o.REPAIR_MAIN.getTexture(26)),u=new s.TextBox(21,1949120),c=new s.TextBox(21,1949120),h=new s.TextBox(21,1949120),p=new s.TextBox(21,1949120),d=new s.TextBox(21,1949120),f=new PIXI.Sprite(o.REPAIR_MAIN.getTexture(9)),y=new PIXI.Sprite(o.REPAIR_MAIN.getTexture(5)),m=new a.ShipBanner,g=new s.TextBox(21,16777215),v=new s.TextBox(21,16777215),b=new s.TextBox(21,16777215),w=new s.TextBox(21,16777215),x=new PIXI.Container,I=new s.TextBox(21,16777215),T=new PIXI.Sprite(r.default.resources.getUIImage("mask"));T.scale.set(-2.8,3.5),T.anchor.x=1,x.mask=T,x.addChild(I,T),u.text="-\u8266\u8239\u3000\u5165\u6e20-",u.position.set(Math.floor(i.width/2)+.5,-39),u.anchor.set(.5,0),e._labelArr.push(u),c.text="\u4fee\u5fa9\u3059\u308b\u8266\u8239",x.position.set(576,147),c.position.set(310,147),m.position.set(580,180),e._labelArr.push(c),h.text="\u4f7f\u7528\u3059\u308b\u8cc7\u6750",h.position.set(310,258),n.position.set(576,261),_.position.set(576,295),v.position.set(609,262),b.position.set(609,301),e._labelArr.push(h),p.text="\u6240\u8981\u6642\u9593",p.position.set(310,345),g.position.set(579,349),e._labelArr.push(p),d.text="\u9ad8\u901f\u4fee\u5fa9",d.position.set(310,408),w.position.set(579,408),e._labelArr.push(d),e._useRepairKitTime=new PIXI.Container,e._useRepairKitTime.position.set(685,349),e._useRepairKitTime.visible=!1;var O=new s.TextBox(21,16777215);O.text="\u2192",O.position.set(0,0),e._labelArr.push(O),e._useRepairKitTime.addChild(O);var C=new s.TextBox(21,16777215);C.text="00:00:00",C.position.set(32,0),e._labelArr.push(C),e._useRepairKitTime.addChild(C),e._useRepairKitCount=new PIXI.Container,e._useRepairKitCount.position.set(577,450),e._useRepairKitCount.visible=!1;var P=new PIXI.Sprite(o.REPAIR_MAIN.getTexture(28));P.position.set(0,0),e._useRepairKitCount.addChild(P);var k=new s.TextBox(21,16777215);k.name="before",k.text="9999",k.anchor.x=1,k.position.set(106,7),e._labelArr.push(k),e._useRepairKitCount.addChild(k);var S=new s.TextBox(21,16777215);S.text="\u2192",S.position.set(116,7),e._labelArr.push(S),e._useRepairKitCount.addChild(S);var M=new s.TextBox(21,16777215);return M.name="after",M.text="9999",M.position.set(146,7),e._labelArr.push(M),e._useRepairKitCount.addChild(M),y.position.set(297,516),f.position.set(580,516),y.addListener(l.EventType.CLICK,e._onClickNO),f.addListener(l.EventType.CLICK,e._onClickYES),y.interactive=y.buttonMode=!0,f.interactive=f.buttonMode=!0,e.addChild(i,u,c,h,p,d,x,v,b,g,e._useRepairKitTime,w,y,f,n,_,m,e._useRepairKitCount),e.textName=I,e.textSteelCount=v,e.textFuelCount=b,e.textUseOption=w,e.textRequireTime=g,e.buttonYes=f,e.buttonNo=y,e.shipBanner=m,e.containerName=x,e}return n(e,t),e.prototype.update=function(t,e){if(this.containerName.cacheAsBitmap=!1,this.textName.text=t.name,this.textSteelCount.text="\xd7"+t.getRepairSteel().toString(),this.textFuelCount.text="\xd7"+t.getRepairFuel().toString(),this.textUseOption.text=e?"\u4f7f\u7528\u3059\u308b":"\u4f7f\u7528\u3057\u306a\u3044",this.textRequireTime.text=_.MathUtil.timeToString(t.getRepairTime()),this.shipBanner.update(t,!1),this.containerName.cacheAsBitmap=!0,this._useRepairKitTime.visible=e,this._useRepairKitCount.visible=e,e){var i=r.default.model.useItem.get(1).count;this._useRepairKitCount.getChildByName("before").text=i.toString(10);this._useRepairKitCount.getChildByName("after").text=(i-1).toString(10)}},e.prototype.dispose=function(){this.removeChildren(),this.containerName.cacheAsBitmap=!1,this.containerName.mask=null,this.containerName.removeChildren(),this.shipBanner.dispose(),this.buttonNo.removeAllListeners(l.EventType.CLICK),this.buttonYes.removeAllListeners(l.EventType.CLICK),this._useRepairKitTime.removeChildren(),this._useRepairKitCount.removeChildren(),this.textName.destroy(),this.textSteelCount.destroy(),this.textFuelCount.destroy(),this.textUseOption.destroy(),this.textRequireTime.destroy(),this._labelArr.forEach(function(t){t.destroy()}),this._labelArr=null,this.onClickYES=null,this.onClickNO=null,this.textName=null,this.textSteelCount=null,this.textFuelCount=null,this.textUseOption=null,this.textRequireTime=null,this.buttonYes=null,this.buttonNo=null,this.shipBanner=null,this.containerName=null,this._useRepairKitTime=null,this._useRepairKitCount=null},e}(PIXI.Container);e.UseRepairConfirmView=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(32),s=i(3),a=i(25),_=i(1),l=function(t){function e(){var e=t.call(this)||this;e._labelArr=[],e._onClickYES=function(){e.onClickYES()},e._onClickNO=function(){e.onClickNO()};var i=new PIXI.Sprite(s.COMMON_MAIN.getTexture(63)),n=new o.TextBox(21,1949120),a=new o.TextBox(21,1949120),l=new o.TextBox(21,1949120),u=new o.TextBox(21,16777215),c=new o.TextBox(21,1949120),h=new o.TextBox(24,16777215),p=new o.TextBox(24,16777215),d=new PIXI.Sprite(s.REPAIR_MAIN.getTexture(9)),f=new PIXI.Sprite(s.REPAIR_MAIN.getTexture(5)),y=new r.ShipBanner,m=new o.TextBox(21,16777215),g=new o.TextBox(24,16777215),v=new PIXI.Sprite(s.REPAIR_MAIN.getTexture(28)),b=new o.TextBox(24,16777215),w=new o.TextBox(24,16777215),x=new o.TextBox(24,16777215);return n.position.set(i.width/2,-39),n.anchor.set(.5,0),m.position.set(576,147),a.position.set(310,147),y.position.set(576,180),l.position.set(310,258),v.position.set(580,288),u.position.set(577,258),b.position.set(684,298),w.position.set(718,298),x.position.set(685,294),c.position.set(310,345),g.position.set(684,345),p.position.set(687,342),h.position.set(718,345),f.position.set(297,516),d.position.set(580,516),b.anchor.x=1,g.anchor.x=1,n.text="-\u8266\u8239\u3000\u5165\u6e20-",e._labelArr.push(n),a.text="\u4fee\u5fa9\u3059\u308b\u8266\u8239",e._labelArr.push(a),l.text="\u9ad8\u901f\u4fee\u5fa9",e._labelArr.push(l),u.text="\u4f7f\u7528\u3059\u308b",e._labelArr.push(u),b.text="9999",x.text="\u2192",e._labelArr.push(x),w.text="9999",c.text="\u6240\u8981\u6642\u9593",e._labelArr.push(c),p.text="\u2192",e._labelArr.push(p),h.text="00:00:00",e._labelArr.push(h),d.addListener(_.EventType.CLICK,e._onClickYES),f.addListener(_.EventType.CLICK,e._onClickNO),f.interactive=f.buttonMode=!0,d.interactive=d.buttonMode=!0,e.addChild(i,n,a,l,c,m,g,v,u,p,h,f,d,y,b,x,w),e.textName=m,e.textRequireTime=g,e.buttonYes=d,e.buttonNo=f,e.shipBanner=y,e.beforeRepairKitCount=b,e.afterRepairKitCount=w,e}return n(e,t),e.prototype.update=function(t,e){this.textName.text=t.name,this.textRequireTime.text=a.MathUtil.timeToString(t.getRepairTime()),this.beforeRepairKitCount.text=e.toString(),this.afterRepairKitCount.text=(e-1).toString(),this.shipBanner.update(t,!1)},e.prototype.dispose=function(){this.removeChildren(),this.buttonYes.texture=PIXI.Texture.EMPTY,this.buttonNo.texture=PIXI.Texture.EMPTY,this.shipBanner.dispose(),this.buttonYes.removeAllListeners(_.EventType.CLICK),this.buttonNo.removeAllListeners(_.EventType.CLICK),this.textName.destroy(),this.textRequireTime.destroy(),this.beforeRepairKitCount.destroy(),this.afterRepairKitCount.destroy(),this._labelArr.forEach(function(t){t.destroy()}),this._labelArr=null,this.buttonYes=null,this.buttonNo=null,this.shipBanner=null,this.onClickYES=null,this.onClickNO=null,this.textName=null,this.textRequireTime=null,this.beforeRepairKitCount=null,this.afterRepairKitCount=null},e}(PIXI.Container);e.UseHiSpeedRepairConfirmView=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(3),s=i(10),a=i(4),_=i(223),l=i(164),u=i(15),c=i(1),h=function(t){function e(){var e=t.call(this)||this;e._onClickListItem=function(t){e.onClickListItem(t)};var i=new PIXI.Sprite(r.COMMON_MAIN.getTexture(64));i.position.set(0,-39);var n=new PIXI.Sprite(r.COMMON_MAIN.getTexture(0));n.anchor.y=.5,n.position.set(22,20),i.addChild(n),e.addChild(i);for(var o=new PIXI.Sprite(r.COMMON_MAIN.getTexture(12)),s=new PIXI.Sprite(r.REPAIR_MAIN.getTexture(37)),a=new Array,_=new PIXI.Container,l=0;l<10;l++){var u=45+46*l,c=new p;c.onClick=e._onClickListItem,a.push(c);var h=new PIXI.Graphics;h.beginFill(5523516,.5),h.drawRect(0,0,630,.5),h.endFill(),c.position.set(0,u),h.position.set(60,u+45),_.addChild(c,h)}return s.position.set(58,12),o.interactive=!0,e.addChild(o,_,s),e.listItems=a,e}return n(e,t),e.prototype.update=function(t,e){for(var i=0;i<this.listItems.length;i++){var n=this.listItems[i];if(n.visible=!1,i<t.length){var r=t[i],s=o.default.model.deck.isInDeck(r.memID),a=!1;if(s){var _=s[0];a=null!=o.default.model.deck.get(_).expedition}var l=-1<e.indexOf(r.memID);n.update(r,l,s,a),n.visible=!0}}},e.prototype.dispose=function(){for(var t=0;t<this.listItems.length;t++)this.listItems[t].dispose(),this.listItems[t]=null;this.onClickListItem=null,this.listItems=null},e}(PIXI.Container);e.RepairShipChoiceView=h;var p=function(t){function e(){var e=t.call(this)||this;e._onMouseOver=function(){e.typeAndNameContainer.cacheAsBitmap=!1,e.bgFocus.alpha=1,e.textType.style.fill=e.textName.style.fill=e.textLevel.style.fill=e.textHp.style.fill=16777215,e.typeAndNameContainer.cacheAsBitmap=!0},e._onMouseOut=function(){e.typeAndNameContainer.cacheAsBitmap=!1,e.bgFocus.alpha=0,e.textLevel.style.fill=e.mouseoutColor,e.textType.style.fill=e.textName.style.fill=e.textHp.style.fill=5523516,e.typeAndNameContainer.cacheAsBitmap=!0},e._onClick=function(){e.onClick(e.memId)};var i=Math.floor(22.5)+1,n=new PIXI.Sprite,o=new PIXI.Sprite(r.COMMON_MAIN.getTexture(17)),s=new PIXI.Sprite,l=new PIXI.Sprite,h=new a.TextBox(18,5523516),p=new a.TextBox(20,5523516),d=new a.TextBox(20,5523516),f=new a.TextBox(13,5523516),y=new PIXI.Container,m=new _.RepairHpGaugeView,g=new PIXI.Rectangle(0,0,697,45),v=u.CreateRect.gradientLeftToRight(260,45,.88,.95);return s.anchor.set(0,.5),s.position.set(31,i),s.scale.set(.8,.8),h.anchor.set(0,0),h.position.set(0,Math.floor(i-h.height/2)),d.anchor.set(1,0),d.position.set(355,Math.floor(i-d.height/2)+0),y.position.set(64,0),m.position.set(367,17),l.anchor.set(0,.5),l.position.set(547,i),f.anchor.set(0,0),f.position.set(610,Math.floor(i-f.height/2)),o.scale.x=1.3,o.position.set(60,0),p.anchor.set(0,0),p.position.y=Math.floor(i-p.height/2+0),o.alpha=0,s.visible=!1,y.mask=v,e.addListener(c.EventType.MOUSEOVER,e._onMouseOver),e.addListener(c.EventType.MOUSEOUT,e._onMouseOut),e.addListener(c.EventType.CLICK,e._onClick),e.interactive=e.buttonMode=!0,y.addChild(h,p,v),e.addChild(n,o,s,y,d,m,f,l),e.textType=h,e.textLevel=d,e.textName=p,e.textHp=f,e.hpGaugeView=m,e.iconCondition=l,e.bgFocus=o,e.hitArea=g,e.bgCondition=n,e.iconDeck=s,e.typeAndNameContainer=y,e}return n(e,t),e.prototype.update=function(t,e,i,n){this.typeAndNameContainer.cacheAsBitmap=!1;var o=t.getDamageType();if(this.iconDeck.visible=!1,this.textLevel.style.fill=this.mouseoutColor=l.ColorUtil.getLevelColor(t.level),i){switch(i[0]){case 1:0==i[1]?this.iconDeck.texture=s.COMMON_MISC.getTexture(71):this.iconDeck.texture=s.COMMON_MISC.getTexture(74);break;case 2:this.iconDeck.texture=s.COMMON_MISC.getTexture(77);break;case 3:this.iconDeck.texture=s.COMMON_MISC.getTexture(80);break;case 4:this.iconDeck.texture=s.COMMON_MISC.getTexture(83)}this.iconDeck.visible=!0}switch(this.bgCondition.visible=!1,this.iconCondition.visible=!1,o){case 75:this.bgCondition.texture=r.REPAIR_MAIN.getTexture(30),this.iconCondition.texture=r.REPAIR_MAIN.getTexture(34),this.bgCondition.visible=!0,this.iconCondition.visible=!0;break;case 50:this.bgCondition.texture=r.REPAIR_MAIN.getTexture(29),this.iconCondition.texture=r.REPAIR_MAIN.getTexture(32),this.bgCondition.visible=!0,this.iconCondition.visible=!0;break;case 25:this.bgCondition.texture=r.REPAIR_MAIN.getTexture(31),this.iconCondition.texture=r.REPAIR_MAIN.getTexture(36),this.bgCondition.visible=!0,this.iconCondition.visible=!0}e?(this.iconCondition.texture=r.REPAIR_MAIN.getTexture(35),this.iconCondition.visible=!0):n&&(this.iconCondition.texture=r.REPAIR_MAIN.getTexture(33),this.iconCondition.visible=!0),this.memId=t.memID,this.textType.text=t.shipTypeName+" ",this.textLevel.text=t.level.toString(),this.textName.text=t.name,this.textHp.text=t.hpNow+"/"+t.hpMax,this.textName.position.x=this.textType.x+this.textType.width,this.hpGaugeView.update(t.hpNow,t.hpMax),this.typeAndNameContainer.cacheAsBitmap=!0},e.prototype.dispose=function(){this.removeChildren(),this.textType.destroy(),this.textLevel.destroy(),this.textName.destroy(),this.textHp.destroy(),this.hpGaugeView.dispose(),this.typeAndNameContainer.cacheAsBitmap=!1,this.iconCondition.texture=PIXI.Texture.EMPTY,this.bgFocus.texture=PIXI.Texture.EMPTY,this.bgCondition.texture=PIXI.Texture.EMPTY,this.iconDeck.texture=PIXI.Texture.EMPTY,this.onClick=null,this.textType=null,this.textName=null,this.textLevel=null,this.textHp=null,this.hpGaugeView=null,this.iconCondition=null,this.bgFocus=null,this.bgCondition=null,this.iconDeck=null,this.memId=null,this._onMouseOver=this._onMouseOut=this._onClick=null},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(3),s=i(223),a=i(4),_=i(32),l=i(25),u=i(114),c=i(1),h=i(15),p=function(t){function e(){var e=t.call(this)||this;e._state=!1,e._onClick=function(){e._state=e.hiSpeedToggle.state,e.onClick()};var i=new PIXI.Sprite(r.COMMON_MAIN.getTexture(12)),n=new PIXI.Sprite(o.REPAIR_MAIN.getTexture(12)),l=new PIXI.Sprite(o.REPAIR_MAIN.getTexture(46)),c=new PIXI.Sprite(o.REPAIR_MAIN.getTexture(45)),p=new PIXI.Sprite(o.REPAIR_MAIN.getTexture(43)),y=new PIXI.Sprite(o.REPAIR_MAIN.getTexture(44)),m=new PIXI.Sprite(o.REPAIR_MAIN.getTexture(42)),g=new d,v=new f,b=new s.RepairHpGaugeView,w=new _.ShipBanner,x=new a.TextBox(26,5523516),I=new a.TextBox(19,5523516),T=new a.TextBox(24,5523516),O=new a.TextBox(24,5523516),C=new a.TextBox(15,12467003),P=new a.TextBox(24,5523516),k=new u.DownArrowAnimationView,S=new u.DisableDownArrowAnimationView,M=new PIXI.Container,A=new PIXI.Sprite(o.COMMON_MAIN.getTexture(64));A.position.set(0,-34);var E=new PIXI.Sprite(o.COMMON_MAIN.getTexture(1));E.anchor.y=.5,E.position.set(22,20),A.addChild(E),M.addChild(A),v.onClick=e._onClick,n.position.set(31,31),l.position.set(15,226),c.position.set(15,280),p.position.set(15,336),y.position.set(15,390),g.position.set(178,275),x.position.set(304,42),m.position.set(229,49),I.position.set(301,151),T.position.set(318,333),O.position.set(318,389),C.position.set(40,447),v.position.set(40,477),b.position.set(61,177),P.position.set(318,225),w.position.set(60,85),k.position.set(156,441),S.position.set(156,441),I.anchor.x=1,x.anchor.x=1;var j=new PIXI.Container,N=new a.TextBox(30,5523516);j.position.set(57,37);var L=h.CreateRect.gradientLeftToRight(170,42,.5,.98);return j.mask=L,j.addChild(N,L),T.anchor.x=1,O.anchor.x=1,P.anchor.x=1,i.interactive=!0,e.addChild(i,n,l,c,p,y,C,v,m,j,x,I,b,g,T,O,P,M,w,S,k),e.textName=N,e.textLevel=x,e.textHp=I,e.textSteel=T,e.textFuel=O,e.textAlert=C,e.hiSpeedToggle=g,e.startButton=v,e.textRequire=P,e.shipBanner=w,e.downArrowAnimationView=k,e.disableDownArrowAnimationView=S,e.hpGaugeView=b,e.headerContainer=M,e.containerName=j,e}return n(e,t),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype.update=function(t,e,i,n,o,r){this.containerName.cacheAsBitmap=!1,this.textName.text=t.name,this.textLevel.text=t.level.toString(),this.textHp.text=t.hpNow+"/"+t.hpMax,this.textSteel.text=t.getRepairSteel().toString(),this.textFuel.text=t.getRepairFuel().toString(),this.textRequire.text=l.MathUtil.timeToString(t.getRepairTime()),this.shipBanner.update(t,n),this.hpGaugeView.update(t.hpNow,t.hpMax),this.textAlert.visible=!1;var s=r;this.hiSpeedToggle.update(s);var a=t.hpNow<t.hpMax;this.disableDownArrowAnimationView.visible=!1,this.downArrowAnimationView.visible=!1;var _=i&&e&&0==n&&a&&0==o;_?this.downArrowAnimationView.visible=!0:0==(i&&e)?(this.textAlert.text="\u4fee\u5fa9\u306b\u5fc5\u8981\u306a\u8cc7\u6750\u304c\u8db3\u308a\u307e\u305b\u3093\uff01",this.textAlert.visible=!0):this.disableDownArrowAnimationView.visible=!0,this.startButton.update(_),this.containerName.cacheAsBitmap=!0},e.prototype.dispose=function(){this.removeChildren(),this.containerName.cacheAsBitmap=!1,this.containerName.mask=null,this.containerName.removeChildren(),this.hiSpeedToggle.dispose(),this.startButton.dispose(),this.shipBanner.dispose(),this.downArrowAnimationView.dispose(),this.hpGaugeView.dispose(),this.textName.destroy(),this.textLevel.destroy(),this.textHp.destroy(),this.textSteel.destroy(),this.textFuel.destroy(),this.textAlert.destroy(),this.textRequire.destroy(),this.onClick=null,this.textName=null,this.textLevel=null,this.textHp=null,this.textRequire=null,this.textSteel=null,this.textFuel=null,this.textAlert=null,this.hiSpeedToggle=null,this.startButton=null,this.shipBanner=null,this.downArrowAnimationView=null,this.hpGaugeView=null,this.containerName=null},e}(PIXI.Container);e.RepairShipConfigView=p;var d=function(t){function e(){var e=t.call(this)||this;e._state=!1,e.animationParams={progress:0},e._onClick=function(){null!=e.tween&&e.tween.setPaused(!0),e.tween=null;var t=0;switch(e._state){case!1:e._state=!0,t=0;break;case!0:e._state=!1,t=1}var i=createjs.Tween.get(e.animationParams);i.to({progress:t},300).on("change",function(){.5<e.animationParams.progress?e.background_on.visible=!1:e.background_on.visible=!0,e.toggle.x=3+103*e.animationParams.progress}),i.play(null),e.tween=i};var i=new PIXI.Sprite(o.REPAIR_MAIN.getTexture(39)),n=new PIXI.Sprite(o.REPAIR_MAIN.getTexture(40)),r=new PIXI.Sprite(o.REPAIR_MAIN.getTexture(41));return n.addListener(c.EventType.CLICK,e._onClick),i.position.set(106,0),e.addChild(n,r,i),e.background_off=n,e.background_on=r,e.toggle=i,e.update(!0),e}return n(e,t),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype.update=function(t){null!=this.tween&&this.tween.setPaused(!0),this.tween=null,this._state=!1,this.toggle.position.set(106,0),this.background_off.interactive=this.background_off.buttonMode=!!t,this.background_on.visible=!1,this.animationParams.progress=1},e.prototype.dispose=function(){null!=this.tween&&this.tween.setPaused(!0),this.removeChild(this.background_off),this.removeChild(this.background_on),this.removeChild(this.toggle),this.background_off=null,this.background_on=null,this.toggle=null,this.tween=null},e}(PIXI.Container),f=function(t){function e(){var e=t.call(this)||this;return e._onMouseOver=function(){e.texture=o.REPAIR_MAIN.getTexture(8)},e._onMouseOut=function(){e.texture=o.REPAIR_MAIN.getTexture(7)},e._onClick=function(){e.onClick()},e.addListener(c.EventType.MOUSEOVER,e._onMouseOver),e.addListener(c.EventType.MOUSEOUT,e._onMouseOut),e.addListener(c.EventType.CLICK,e._onClick),e.texture=o.REPAIR_MAIN.getTexture(6),e}return n(e,t),e.prototype.update=function(t){this.interactive=this.buttonMode=!1,t?(this.interactive=this.buttonMode=!0,this.texture=o.REPAIR_MAIN.getTexture(7)):this.texture=o.REPAIR_MAIN.getTexture(6)},e.prototype.dispose=function(){this.onClick=null,this.removeListener(c.EventType.MOUSEOVER,this._onMouseOver),this.removeListener(c.EventType.MOUSEOUT,this._onMouseOut),this.removeListener(c.EventType.CLICK,this._onClick)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=function(t){function e(e,i,n){var o=t.call(this)||this;return o.MINIMUM_TIME=6e4,o._url="api_req_nyukyo/start",o.api_ship_id=i,o.api_ndock_id=e,o.api_highspeed=n,o}return n(e,t),e.prototype._connect=function(){this._post_data.api_highspeed=this.api_highspeed?1:0,this._post_data.api_ndock_id=this.api_ndock_id,this._post_data.api_ship_id=this.api_ship_id,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e=o.default.model.ship.get(this.api_ship_id),i=o.default.model.useItem.get(31),n=o.default.model.useItem.get(33);if(i.__setCount__(i.count-e.getRepairFuel()),n.__setCount__(n.count-e.getRepairSteel()),this.api_highspeed){var r=o.default.model.useItem.get(1);r.__setCount__(r.count-1),this.immediateRepair(e)}else e.getRepairTime()<=this.MINIMUM_TIME&&this.immediateRepair(e);t.prototype._completedEnd.call(this)},e.prototype.immediateRepair=function(t){t.__updateNowHp__(t.hpMax),t.__updateNDockTime__(0),t.__updateNDockItem__([0,0]),t.tired<40&&t.__updateCond__(40)},e}(r.APIBase);e.StartAPI=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=i(168),a=function(t){function e(e){var i=t.call(this)||this;return i._url="api_req_nyukyo/open_new_dock",i.memDockId=e,i}return n(e,t),e.prototype._completedEnd=function(){var e=o.default.model.useItem.get(s.RepairConst.OPEN_KEY_ITEMID),i=o.default.model.ndock.get(this.memDockId);i.__updateCompleteTime__(0),i.__updateShipId__(0),i.__updateState__(0),e.__setCount__(e.count-1),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.OpenNewDockAPI=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=function(t){function e(e){var i=t.call(this)||this;return i._url="api_req_nyukyo/speedchange",i.api_ndock_id=e,i}return n(e,t),e.prototype._connect=function(){this._post_data.api_ndock_id=this.api_ndock_id,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e=o.default.model.useItem.get(1),i=o.default.model.ndock.get(this.api_ndock_id),n=o.default.model.ship.get(i.shipMemID);n.__updateNowHp__(n.hpMax),n.__updateNDockTime__(0),n.__updateNDockItem__([0,0]),n.tired<40&&n.__updateCond__(40),i.__updateCompleteTime__(0),i.__updateShipId__(-1),i.__updateState__(0),e.__setCount__(e.count-1),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.SpeedChangeAPI=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(13),a=i(14),_=i(861),l=i(341),u=function(t){function e(e){var i=t.call(this)||this;return i._updateNDock=function(){(new l.NDockAPI).start(i._loadAtlas)},i._loadAtlas=function(){var t=new a.UIImageLoader("repair");t.add("repair_main.json"),t.load(i._loadShipBanner)},i._loadShipBanner=function(){var t=o.default.model.ndock.getShipMemIDs();if(0<t.length){for(var e=new s.ShipLoader,n=0;n<t.length;n++){var r=t[n],a=o.default.model.ship.get(r);e.add(a.mstID,a.isDamaged(),"banner")}e.load(function(){i._onCompleteLoad()})}else i._onCompleteLoad()},i._onCompleteLoad=function(){var t=o.default.model.ndock.getAll(),e=new _.MainView(t);i.repairScene.start(e),i.repairScene.updateNDocks(t),i.repairScene.startNDockTimer(),i._endTask()},i.repairScene=e,i}return n(e,t),e.prototype._start=function(){this._updateNDock()},e}(r.TaskBase);e.PreInitializeTask=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(862),r=i(863),s=i(868),a=i(3),_=function(t){function e(e){var i=t.call(this)||this;i._onClickExtension=function(t){i.onClickExtension(t)},i._onClickHiSpeed=function(t){i.onClickHiSpeed(t)},i._onClickEmptySlot=function(t){i.onClickEmptySlot(t)};var n=new PIXI.Sprite(a.COMMON_MAIN.getTexture(64));n.position.set(0,105);var _=new PIXI.Sprite(a.REPAIR_MAIN.getTexture(0));_.anchor.y=.5,_.position.set(199,20),n.addChild(_),i.addChild(n);var l=new PIXI.Container;l.position.set(195,180);for(var u=[],c=[],h=[],p=0;p<4;p++){var d=e[p],f=new s.EmptyDock;f.onClick=i._onClickEmptySlot,f.position.set(0,123*p),f.visible=!1,u.push(f),l.addChild(f);var y=new r.ShipInDock;if(y.onClickHiSpeed=i._onClickHiSpeed,y.position.set(0,123*p),y.visible=!1,c.push(y),l.addChild(y),-1===d.state){var m=new o.ExtensionDock;m.update(-1,!1,!1),m.onClick=i._onClickExtension,m.position.set(0,123*p),m.visible=!1,h.push(m),l.addChild(m)}else h.push(null)}return i.emptyDocks=u,i.shipInDocks=c,i.extensionDocks=h,i.addChild(l),i}return n(e,t),e.prototype.updateTime=function(t,e){for(var i=0;i<e.length;i++){var n=e[i],o=this.shipInDocks[i];1==n.state&&o.updateTime(t,n.completeTime)}},e.prototype.highSpeedAnimation=function(t,e){this.shipInDocks[t].playHispeed(e)},e.prototype.hideAnimation=function(t,e){for(var i=Date.now(),n=!1,o=0;o<t.length;o++){var r=this.shipInDocks[o];if(0==t[o].state){var s=function(){};0==n&&(s=function(){e()},n=!0),r.playTimelimit(i,s)}}},e.prototype.updateHighSpeedButton=function(t,e){this.shipInDocks[t].updateUsable(e)},e.prototype.updateExtensionState=function(t,e){for(var i=!1,n=0;n<this.extensionDocks.length;n++){var o=this.extensionDocks[n];if(null!==o){var r=t[n];0==i?(o.update(r.mstID,!0,e),i=!0):o.update(r.mstID,!1,!1)}}},e.prototype.updateDockInfo=function(t,e,i,n){this.shipInDocks[t].updateDockInfo(i,n),this.emptyDocks[t].update(i);var o=this.extensionDocks[t];null!==o&&o.update(i,!1,!1)},e.prototype.stopAnimation=function(t){this.shipInDocks[t].stopAnimation()},e.prototype.playAnimation=function(t){this.shipInDocks[t].playAnimation()},e.prototype.unLockAnimation=function(t,e){this.emptyDocks[t].alpha=0,this.emptyDocks[t].visible=!0,this.extensionDocks[t].visible=!1,createjs.Tween.get(this.emptyDocks[t]).to({alpha:1},1500).call(function(){e()}).play(null)},e.prototype.updateViewState=function(t,e){var i=this.shipInDocks[t];i.updateState(e),this.emptyDocks[t].visible=!1,i.visible=!1;var n=this.extensionDocks[t];switch(null!==n&&(n.visible=!1),e){case-1:n.visible=!0;break;case 0:this.emptyDocks[t].visible=!0;break;case 1:i.visible=!0}},e.prototype.updateShipInfo=function(t,e,i,n,o,r,s,a,_,l){this.shipInDocks[t].updateShipInfo(r,o,a,e,i,n,_,l)},e.prototype.dockState=function(t){return this.shipInDocks[t].state},e.prototype.forceEnd=function(t){this.updateViewState(t,0),this.shipInDocks[t].playTimelimit(Date.now(),function(){})},e.prototype.dispose=function(){for(var t=0;t<this.emptyDocks.length;t++)this.emptyDocks[t].dispose(),this.emptyDocks[t]=null;for(var t=0;t<this.shipInDocks.length;t++)this.shipInDocks[t].dispose(),this.shipInDocks[t]=null;for(var t=0;t<this.extensionDocks.length;t++)null!==this.extensionDocks[t]&&(this.extensionDocks[t].dispose(),this.extensionDocks[t]=null);this.onClickHiSpeed=null,this.onClickEmptySlot=null,this.onClickExtension=null,this.emptyDocks=null,this.shipInDocks=null,this.extensionDocks=null,this.removeChildren()},e}(PIXI.Container);e.MainView=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(3),s=i(1),a=function(t){function e(){var e=t.call(this)||this;e._onMouseOver=function(){e.popup.visible=!0},e._onMouseOut=function(){e.popup.visible=!1},e._onClick=function(){e.hasKey?e.onClick(e.memDockId):r.SE.play("248")};var i=new PIXI.Sprite(o.REPAIR_MAIN.getTexture(11)),n=new PIXI.Sprite;n.position.set(462,-24),e.addChild(i,n);var a=o.REPAIR_MAIN.getTexture(25),_=o.REPAIR_MAIN.getTexture(24);return e.background=i,e.background.addListener(s.EventType.MOUSEOVER,e._onMouseOver),e.background.addListener(s.EventType.MOUSEOUT,e._onMouseOut),e.background.addListener(s.EventType.CLICK,e._onClick),e.popup=n,e.huki_r_01=_,e.huki_r_02=a,e}return n(e,t),e.prototype.update=function(t,e,i){this.popup.texture=PIXI.Texture.EMPTY,this.popup.visible=!1,this.popup.texture=this.huki_r_01,this.hasKey=i,i&&(this.popup.texture=this.huki_r_02),this.background.interactive=this.background.buttonMode=!1,e&&(this.background.interactive=this.background.buttonMode=!0),this.memDockId=t},e.prototype.dispose=function(){this.removeChild(this.background),this.removeChild(this.popup),this.background.removeAllListeners(s.EventType.MOUSEOVER),this.background.removeAllListeners(s.EventType.MOUSEOUT),this.background.removeAllListeners(s.EventType.CLICK),this.background.interactive=this.background.buttonMode=!1,this.background.texture=PIXI.Texture.EMPTY,this.popup.texture=PIXI.Texture.EMPTY,this.onClick=this._onClick=null,this._onMouseOut=null,this._onMouseOver=null,this.huki_r_01=null,this.huki_r_02=null,this.background=null,this.popup=null,this.memDockId=null,this.removeChildren()},e}(PIXI.Container);e.ExtensionDock=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(864),r=i(865),s=i(83),a=i(4),_=i(223),l=i(3),u=i(25),c=i(15),h=i(866),p=i(1),d=function(t){function e(){var e=t.call(this)||this;e.hpAnimationParams={nowHp:0,maxHp:0,progress:0},e.completeTime=0,e._craneAnimation=null,e.ANIMATION_HIGHSPEED={},e._onClickUseItem=function(){e.onClickHiSpeed(e.memDockId)},e._onUseRepairItemAnimation=function(){null!=e.useRepairItemTween&&e.useRepairItemTween.setPaused(!0);var t={progress:0},i=createjs.Tween.get(t).to({progress:0},0).to({progress:1},1500),n=e.completeTime-Date.now();i.addEventListener("change",function(){var i=e.hpAnimationParams.nowHp+t.progress*(e.hpAnimationParams.maxHp-e.hpAnimationParams.nowHp),o=Math.floor(n*t.progress),r=Math.floor(n-o);u.MathUtil.timeToString(r);e.repairHpGaugeView.update(i,e.hpAnimationParams.maxHp),e.textHp.text=(Math.floor(i)+"/"+e.hpAnimationParams.maxHp).toString()}),e.useRepairItemTween=i};var i=new PIXI.Sprite(l.REPAIR_MAIN.getTexture(10)),n=new PIXI.Sprite(l.REPAIR_MAIN.getTexture(42));n.anchor.set(1,1),n.position.set(95,25);var h=new a.TextBox(22,16777215);h.style.lineHeight=1,h.anchor.set(1,1),h.position.set(145,30);var p=new s.StarRateView;p.position.set(150,10);var d=new a.TextBox(27,16774898);d.anchor.set(0,1);var f=c.CreateRect.gradientLeftToRight(185,40,.7,.9);f.anchor.set(0,1);var y=new PIXI.Container;y.position.set(0,64),y.mask=f,y.addChild(d,f);var m=new a.TextBox(18,16777215);m.anchor.set(1,1),m.position.set(234,64);var g=new _.RepairHpGaugeView;g.position.set(0,66);var v=new PIXI.Container;v.name="info",v.position.set(436,20),v.addChild(n,h,p,y,m,g);var b=new a.TextBox(28,5523516);b.position.set(735,55);var w=new o.UseItemButton;w.onClick=e._onClickUseItem,w.position.set(876,4),e._craneContainer=new PIXI.Container;var x=new r.RepairShipBanner;return x.position.set(66,36),e.addChild(i,v,b,w,e._craneContainer,x),e.useItemButton=w,e.repairShipBanner=x,e.textHp=m,e.textLevel=h,e.textName=d,e.textTime=b,e.starRateView=p,e.repairHpGaugeView=g,e.containerName=y,e.informationContainer=v,e}return n(e,t),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype.updateDockInfo=function(t,e){this.memDockId=t,this.completeTime=e,this.textTime.text=u.MathUtil.timeToString(e-Date.now())},e.prototype.updateShipInfo=function(t,e,i,n,o,r,s,a){this.containerName.cacheAsBitmap=!1,this.name=t;var _=n+"/"+o,l=r.toString(),u=t;this.textName.style.fill=16774898,a&&(this.textName.style.fill=16766947),this.repairShipBanner.update(e,i,a),this.textHp.text=_,this.textLevel.text=l,this.textName.text=u,this.starRateView.update(s),this.repairHpGaugeView.update(n,o),this.hpAnimationParams.nowHp=n,this.hpAnimationParams.maxHp=o,this.containerName.cacheAsBitmap=!0},e.prototype.updateState=function(t){this._state=t},e.prototype.stopAnimation=function(){null!=this.craneCarTween&&this.craneCarTween.setPaused(!0),this.craneCarTween=null,null!==this._craneAnimation&&(this._craneAnimation.off("high_speed_timer_stop"),this._craneAnimation.off("high_speed_complete"),this._craneAnimation.end())},e.prototype.playAnimation=function(){null==this.craneCarTween&&(this._craneContainer.removeChildren(),this._craneAnimation=new h.CraneAnimation,this._craneContainer.addChild(this._craneAnimation),this._craneAnimation.play())},e.prototype.playTimelimit=function(t,e){var i=this;null!=this.craneCarTween&&(this.craneCarTween.setPaused(!0),this.craneCarTween=null);var n={progress:0},o=createjs.Tween.get(n);o.to({progress:1},1e3),o.call(function(){o.removeAllEventListeners("change"),null!==i._craneAnimation&&(i._craneAnimation.dispose(),i._craneAnimation=null,i._craneContainer.removeChildren()),e()}),o.addEventListener("change",function(){var t=i.hpAnimationParams.nowHp+n.progress*(i.hpAnimationParams.maxHp-i.hpAnimationParams.nowHp);i.repairHpGaugeView.update(t,i.hpAnimationParams.maxHp),i.textHp.text=(Math.floor(t)+"/"+i.hpAnimationParams.maxHp).toString(),null!==i._craneAnimation&&i._craneAnimation.timeLimit()}),o.play(null),this.craneCarTween=o},e.prototype.playHispeed=function(t){var e=this;this.useItemButton.visible=!0,this.useItemButton.interactive=!1,this.useItemButton.emit(p.EventType.MOUSEOVER),null!=this.craneCarTween&&(this.craneCarTween.setPaused(!0),this.craneCarTween=null);var i=createjs.Tween.get(this.ANIMATION_HIGHSPEED,{loop:!0});null===this._craneAnimation&&(this._craneAnimation=new h.CraneAnimation,this._craneContainer.addChild(this._craneAnimation)),this._craneAnimation.once("high_speed_timer_stop",function(){i.setPaused(!0),e._onUseRepairItemAnimation()}).once("high_speed_complete",function(){e._craneAnimation.dispose(),e._craneAnimation=null,e._craneContainer.removeChildren(),e.useItemButton.interactive=!0,e.useItemButton.emit(p.EventType.MOUSEOUT),t()}),this._craneAnimation.highSpeed(),i.wait(500).call(function(){e.updateTime(Date.now(),e.completeTime)}),i.play(null)},e.prototype.updateTime=function(t,e){this._updateTime(t,e)},e.prototype._updateTime=function(t,e){var i="00:00:00";0<e-t&&(i=u.MathUtil.timeToString(e-t)),this.textTime.text=i},e.prototype.updateUsable=function(t){t?this.useItemButton.active():this.useItemButton.disable()},e.prototype.dispose=function(){this.removeChildren(),this.containerName.cacheAsBitmap=!1,createjs.Tween.removeTweens(this.ANIMATION_HIGHSPEED),this.useItemButton.dispose(),this.repairShipBanner.dispose(),this.starRateView.dispose(),this.repairHpGaugeView.dispose(),null!=this.craneCarTween&&(this.craneCarTween.setPaused(!0),createjs.Tween.removeTweens(this.craneCarTween.target)),null!=this.useRepairItemTween&&(this.useRepairItemTween.setPaused(!0),createjs.Tween.removeTweens(this.useRepairItemTween.target)),this.informationContainer.removeChildren(),this.textHp.destroy(),this.textLevel.destroy(),this.textName.destroy(),this.textTime.destroy(),this.onClickHiSpeed=null,this.useItemButton=null,this.repairShipBanner=null,this.starRateView=null,this.textName=null,this.textLevel=null,this.textHp=null,this.textTime=null,this.repairHpGaugeView=null,this.memDockId=null,this.craneCarTween=null,this.hpAnimationParams=null,this.completeTime=null,this.useRepairItemTween=null,this.informationContainer=null,null!==this._craneAnimation&&(this._craneAnimation.dispose(),this._craneAnimation=null,this._craneContainer.removeChildren()),this._craneContainer=null},e}(PIXI.Container);e.ShipInDock=d},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e._onClick=function(){e.onClick()},e._onMouseOver=function(){e.texture=o.REPAIR_MAIN.getTexture(4)},e._onMouseOut=function(){e.texture=o.REPAIR_MAIN.getTexture(2)},e.texture=o.REPAIR_MAIN.getTexture(2),e.on(r.EventType.CLICK,e._onClick).on(r.EventType.MOUSEOVER,e._onMouseOver).on(r.EventType.MOUSEOUT,e._onMouseOut),e.buttonMode=!0,e}return n(e,t),e.prototype.active=function(){this.texture=o.REPAIR_MAIN.getTexture(2),this.interactive=!0},e.prototype.disable=function(){this.texture=o.REPAIR_MAIN.getTexture(3),this.interactive=!1},e.prototype.dispose=function(){this.onClick=null,this.off(r.EventType.CLICK,this._onClick).off(r.EventType.MOUSEOVER,this._onMouseOver).off(r.EventType.MOUSEOUT,this._onMouseOut),this.texture=PIXI.Texture.EMPTY,this.interactive=this.buttonMode=!1},e}(PIXI.Sprite);e.UseItemButton=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(70),s=i(10),a=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite,n=new PIXI.Sprite(s.COMMON_MISC.getTexture(108)),o=new r.RingSmall;return o.position.set(207,28),o.initialize(),o.activate(),n.anchor.x=1,n.x=n.width,e.addChild(i,n,o),e.shipBanner=i,e.ring=o,e}return n(e,t),e.prototype.update=function(t,e,i){this.shipBanner.texture=o.default.resources.getShip(t,e,"banner"),this.ring.visible=!1,i&&(this.ring.visible=!0)},e.prototype.dispose=function(){this.removeChild(this.shipBanner),this.shipBanner.texture=PIXI.Texture.EMPTY,this.ring.deactivate(),this.ring.dispose(),this.ring=null,this.shipBanner=null,this.removeChildren()},e}(PIXI.Container);e.RepairShipBanner=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(342),s=i(867),a=function(t){function e(){var e=t.call(this)||this;e.CATAPULT_WIDTH=1245,e._tween=null,e._craneTexture={yellow:[o.REPAIR_MAIN.getTexture(19),o.REPAIR_MAIN.getTexture(20)],red:[o.REPAIR_MAIN.getTexture(17),o.REPAIR_MAIN.getTexture(18)],orange:[o.REPAIR_MAIN.getTexture(15),o.REPAIR_MAIN.getTexture(16)]},e._core=new PIXI.Sprite,e._arm=new PIXI.Sprite,e._arm.anchor.set(.8,1);var i=function(){e._arm.position.set(.8*e._arm.width-51,-82+e._arm.height)};e._wire=new r.Wire,e._wire.scale.x=.69,e._wireHand=new s.WireHand,e._randomColor(i),e._wireHand.update(.3);var n=e._armsPosition(0);return e._arm.rotation=n.arm.rotation,e._wireHand.x=n.wireHand.x,e._wireHand.y=n.wireHand.y,e._wire.rotation=n.wire.rotation,e._wire.x=n.wire.x,e._wire.y=n.wire.y,e._crane=new PIXI.Container,e._crane.y=60,e._crane.x=e.CATAPULT_WIDTH,e._crane.addChild(e._wireHand,e._wire,e._arm,e._core),e.addChild(e._crane),e}return n(e,t),e.prototype.play=function(){var t=this;if(null===this._tween){this.end();var e=new createjs.Timeline([],{start:0},{loop:!0,paused:!0}),i=6e3-1e3*Math.random(),n={crane:this._cranePosition(0),arms:this._armsPosition(0),wireHand:this._wireHand.getPosition(.35)},o={duration:i,crane:this._cranePosition(.7)},r={duration:1e3,arms:this._armsPosition(1),wireHand:this._wireHand.getPosition(.7)},s={duration:500,crane:this._cranePosition(.745)},a={duration:500,wireHand:this._wireHand.getPosition(.4)},_={duration:500,wireHand:this._wireHand.getPosition(.8)},l={duration:500,crane:this._cranePosition(.7),arms:this._armsPosition(0),wireHand:this._wireHand.getPosition(.35)},u={duration:i,crane:this._cranePosition(0)},c=this._getTimeLineObj();c.crane.to(n.crane).to(o.crane,o.duration).wait(r.duration).to(s.crane,s.duration).wait(a.duration).call(function(){t._wireHand.hideMaterial()}).wait(_.duration).to(l.crane,l.duration).to(u.crane,u.duration).call(function(){t._randomColor(),t._wireHand.initialize()}),c.arm.to(n.arms.arm).wait(o.duration).to(r.arms.arm,r.duration).wait(s.duration).wait(a.duration).wait(_.duration).to(l.arms.arm,l.duration).wait(u.duration),c.wire.to(n.arms.wire).wait(o.duration).to(r.arms.wire,r.duration).wait(s.duration).wait(a.duration).wait(_.duration).to(l.arms.wire,l.duration).wait(u.duration),c.wireHand.to(n.arms.wireHand).wait(o.duration).to(r.arms.wireHand,r.duration).wait(s.duration).wait(a.duration).wait(_.duration).to(l.arms.wireHand,l.duration).wait(u.duration),c.wireHandWire.to(n.wireHand.wire).wait(o.duration).to(r.wireHand.wire,r.duration).wait(s.duration).to(a.wireHand.wire,a.duration).to(_.wireHand.wire,_.duration).to(l.wireHand.wire,l.duration).wait(u.duration),c.wireHandContainer.to(n.wireHand.container).wait(o.duration).to(r.wireHand.container,r.duration).wait(s.duration).to(a.wireHand.container,a.duration).to(_.wireHand.container,_.duration).to(l.wireHand.container,l.duration).wait(u.duration),e.addTween(c.crane,c.arm,c.wire,c.wireHand,c.wireHandWire,c.wireHandContainer),e.gotoAndPlay("start"),this._tween=e}},e.prototype.timeLimit=function(){this.end(),createjs.Tween.get(this._crane).to({x:this.CATAPULT_WIDTH},1e3,createjs.Ease.linear)},e.prototype.highSpeed=function(){var t=this,e=null!==this._tween?1e3:100;this.end();var i=new createjs.Timeline([],{start:0},{loop:!1,paused:!0}),n={duration:e,crane:this._cranePosition(0),wireHand:this._wireHand.getPosition(.4)},o={duration:1400,crane:this._cranePosition(.7)},r={duration:1e3,arms:this._armsPosition(1),wireHand:this._wireHand.getPosition(.8)},s={duration:500,crane:this._cranePosition(.745)},a={duration:500,wireHand:this._wireHand.getPosition(.5)},_={duration:500,wireHand:this._wireHand.getPosition(.8)},l={duration:500,crane:this._cranePosition(.7),arms:this._armsPosition(0),wireHand:this._wireHand.getPosition(.3)},u={duration:1e3,crane:this._cranePosition(0)},c=this._getTimeLineObj();c.crane.to(n.crane,n.duration).call(function(){t._wireHand.bucketMaterial()}).to(o.crane,o.duration).wait(r.duration).to(s.crane,s.duration).wait(a.duration).call(function(){t._wireHand.hideMaterial(),t.emit("high_speed_timer_stop")}).wait(_.duration).to(l.crane,l.duration).to(u.crane,u.duration).call(function(){t.end(),t.emit("high_speed_complete")}),c.arm.wait(n.duration).wait(o.duration).to(r.arms.arm,r.duration).wait(s.duration).wait(a.duration).wait(_.duration).to(l.arms.arm,l.duration).wait(u.duration),c.wire.wait(n.duration).wait(o.duration).to(r.arms.wire,r.duration).wait(s.duration).wait(a.duration).wait(_.duration).to(l.arms.wire,l.duration).wait(u.duration),c.wireHand.wait(n.duration).wait(o.duration).to(r.arms.wireHand,r.duration).wait(s.duration).wait(a.duration).wait(_.duration).to(l.arms.wireHand,l.duration).wait(u.duration),c.wireHandWire.to(n.wireHand.wire,n.duration).wait(o.duration).to(r.wireHand.wire,r.duration).wait(s.duration).to(a.wireHand.wire,a.duration).to(_.wireHand.wire,_.duration).to(l.wireHand.wire,l.duration).wait(u.duration),c.wireHandContainer.to(n.wireHand.container,n.duration).wait(o.duration).to(r.wireHand.container,r.duration).wait(s.duration).to(a.wireHand.container,a.duration).to(_.wireHand.container,_.duration).to(l.wireHand.container,l.duration).wait(u.duration),i.addTween(c.crane,c.arm,c.wire,c.wireHand,c.wireHandWire,c.wireHandContainer),i.gotoAndPlay("start"),this._tween=i},e.prototype.end=function(){null!==this._tween&&(this._tween.removeAllEventListeners("change"),this._tween.setPaused(!0)),this._tween=null},e.prototype._randomColor=function(t){void 0===t&&(t=null);var e=100*Math.random();if(e<=30){var i=this._craneTexture.yellow;this._core.texture=i[0],this._arm.texture=i[1]}else if(e<=60){var i=this._craneTexture.red;this._core.texture=i[0],this._arm.texture=i[1]}else{var i=this._craneTexture.orange;this._core.texture=i[0],this._arm.texture=i[1]}null!==t&&t()},e.prototype._getTimeLineObj=function(){var t=this._wireHand.obj;return{crane:createjs.Tween.get(this._crane),arm:createjs.Tween.get(this._arm),wire:createjs.Tween.get(this._wire),wireHand:createjs.Tween.get(this._wireHand),wireHandWire:createjs.Tween.get(t.wire),wireHandContainer:createjs.Tween.get(t.container)}},e.prototype._cranePosition=function(t){return{x:this.CATAPULT_WIDTH*(1-t)}},e.prototype._armsPosition=function(t){var e=22*t,i=-4*t;return{arm:{rotation:Math.PI/180*(14.5*t)},wireHand:{x:-42+e,y:-78+i},wire:{rotation:Math.PI/180*(47+13*t),x:-37+e,y:-78+i}}},e.prototype.dispose=function(){this.end(),this._core=null,this._arm=null,this._wire.dispose(),this._wire=null,this._wireHand.dispose(),this._wireHand=null,this._crane.removeChildren(),this._crane=null,this.removeChildren()},e}(PIXI.Container);e.CraneAnimation=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(342),r=i(3),s=function(t){function e(){var e=t.call(this)||this;e._materialList={fuel:r.REPAIR_MAIN.getTexture(26),steel:r.REPAIR_MAIN.getTexture(27),bucket:r.REPAIR_MAIN.getTexture(28)},e._wire=new o.Wire,e._wire.rotation=Math.PI/180*90,e.WIRE_WIDTH=e._wire.width;var i=new PIXI.Sprite(r.REPAIR_MAIN.getTexture(13));return e._material=new PIXI.Sprite,e._handContainer=new PIXI.Container,e._handContainer.position.set(-Math.floor(i.width/2+e._wire.height/2),e.WIRE_WIDTH),e.initialize(),e._handContainer.addChild(i,e._material),e.addChild(e._wire,e._handContainer),e}return n(e,t),e.prototype.initialize=function(){this.randomMaterial(),this.update(.3)},e.prototype.randomMaterial=function(){var t=50<100*Math.random();this._material.texture=t?this._materialList.fuel:this._materialList.steel,this._material.position.set(-7,3),this._material.visible=!0},e.prototype.bucketMaterial=function(){this._material.texture=this._materialList.bucket,this._material.position.set(-18,0),this._material.visible=!0},e.prototype.hideMaterial=function(){this._material.texture=PIXI.Texture.EMPTY,this._material.visible=!1},e.prototype.update=function(t){var e=this.WIRE_WIDTH*(1-t);this._wire.width=e,this._handContainer.y=e-3},Object.defineProperty(e.prototype,"obj",{get:function(){return{wire:this._wire,container:this._handContainer}},enumerable:!0,configurable:!0}),e.prototype.getPosition=function(t){var e=this.WIRE_WIDTH*(1-t);return{wire:{width:e},container:{y:e-3}}},e.prototype.dispose=function(){this._wire.dispose(),this._handContainer.removeChildren(),this._wire=null,this._handContainer=null,this._material=null,this.removeChildren()},e}(PIXI.Container);e.WireHand=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(){var e=t.call(this)||this;e._onMouseOver=function(){e.buttonCardSelect.alpha=1},e._onMouseOut=function(){e.buttonCardSelect.alpha=0},e._onClick=function(){e.onClick(e.memDockId)};var i=new PIXI.Sprite(o.REPAIR_MAIN.getTexture(10)),n=new PIXI.Sprite(o.REPAIR_MAIN.getTexture(1));return n.position.set(60,30),n.addListener(r.EventType.MOUSEOVER,e._onMouseOver),n.addListener(r.EventType.MOUSEOUT,e._onMouseOut),n.addListener(r.EventType.CLICK,e._onClick),n.interactive=n.buttonMode=!0,n.alpha=0,e.addChild(i,n),e.buttonCardSelect=n,e.background=i,e}return n(e,t),e.prototype.update=function(t){this.memDockId=t},e.prototype.dispose=function(){this.onClick=null,this.background.texture=PIXI.Texture.EMPTY,this.buttonCardSelect.texture=PIXI.Texture.EMPTY,this.buttonCardSelect.removeAllListeners(r.EventType.MOUSEOVER),this.buttonCardSelect.removeAllListeners(r.EventType.MOUSEOUT),this.buttonCardSelect.removeAllListeners(r.EventType.CLICK),this.background=null,this.buttonCardSelect=null,this.removeChildren()},e}(PIXI.Container);e.EmptyDock=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(0),s=function(t){function e(e){return t.call(this)||this}return n(e,t),e.prototype._start=function(){this._playBGM()},e.prototype._playBGM=function(){r.default.sound.bgm.play(102),this._startScene()},e.prototype._startScene=function(){this._endTask()},e}(o.TaskBase);e.InitializeTask=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.WaitComplete=0]="WaitComplete",t[t.UpdateOnly=1]="UpdateOnly"}(e.TimerState||(e.TimerState={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(14),s=function(t){function e(e){var i=t.call(this)||this;return i.repairScene=e,i.repairScene.dispose(),i}return n(e,t),e.prototype._start=function(){r.UIImageLoader.clearMemoryCache("repair"),this._endTask()},e}(o.TaskBase);e.DisposeTask=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(47),s=i(14),a=i(873),_=i(874),l=i(115),u=i(224),c=i(906),h=i(907),p=i(115),d=function(t){function e(){var e=t.call(this)||this;return e.arsenalTimerKey={},e.updateCondition=function(t,i,n){e.menuLayer.hasLimitOver=n,e.dockLayer.updateCondition(t,i,n)},e.onChangeArsenalTimer=function(){if(e.dockLayer.ArsenalTimerMode==l.ArsenalTimerMode.WaitComplete){var t=Date.now();o.default.model.kdock.getAll().forEach(function(i){if(2==i.state||2==e.dockLayer.getKDockView(i.id).state){if(i.complete_time<t){e.dockLayer.hideHighSpeedButton(i.id);i.__complete__(),e.dockLayer.complete(i.id),e.dockLayer.forceComplete(i.id,i.isLargeBuild())}else e.dockLayer.notifyTime(i.id,t)}})}},e}return n(e,t),e.prototype.start=function(){var t=o.default.model.kdock.getAll();this.menuLayer=new h.MenuLayer,this.menuLayer.onUpdateCondition=this.updateCondition,this.dockLayer=new p.DockLayer,this.dockLayer.position.set(528,177),this.dockLayer.onUpdateCondition=this.updateCondition,this.topBarLayer=new c.TopBarLayer;for(var e=u.ArsenalUtil.developLimit(),i=!1,n=0;n<t.length;n++){var r=t[n];switch(this.updateCondition(r.id,e.forShip,e.forSlot),this.dockLayer.hideHighSpeedButton(r.id),r.state){case 2:var s=o.default.model.ship.getMst(r.ship_mst_id),a=s.build_time,_=o.default.model.shipType.get(s.shipTypeID).build_phase_num,l=Date.now(),d=r.isLargeBuild(),f=r.complete_time,y=!1;y=d?9<o.default.model.useItem.get(2).count:0<o.default.model.useItem.get(2).count;var m=.5<Math.random(),g=.5<Math.random()||0==m;this.dockLayer.showHighSpeedButton(r.id,y),this.dockLayer.resume(r.id,d,y,m,g,a,f,l,_);break;case-1:if(0==i){var v=0<o.default.model.useItem.get(49).count,b=!0;this.dockLayer.noDock(r.id,b,v)}else{var b=!1,v=!1;this.dockLayer.noDock(r.id,b,v)}i=!0;break;case 3:var m=.5<Math.random(),g=.5<Math.random()||0==m;this.dockLayer.updateMotivation(r.id,m,g);var s=o.default.model.ship.getMst(r.ship_mst_id),_=o.default.model.shipType.get(s.shipTypeID).build_phase_num,w=r.isLargeBuild();this.dockLayer.completed(r.id,_,w);break;case 0:this.dockLayer.standby(r.id)}}u.ArsenalUtil.playVoiceOnBuildComplete();var x=createjs.Tween.get(this.arsenalTimerKey,{loop:!0}).wait(500);x.addEventListener("change",this.onChangeArsenalTimer),this.addChild(this.dockLayer,this.menuLayer,this.topBarLayer),this.arsenalTimer=x},e.prototype.getPreInitializeTask=function(t){return new _.PreInitializeTask(this)},e.prototype.getInitializeTask=function(t){return new a.InitializeTask},e.prototype.getFinalizeTask=function(){return this.dispose(),s.UIImageLoader.clearMemoryCache("arsenal"),null},e.prototype.dispose=function(){createjs.Tween.removeTweens(this.arsenalTimer.target),this.topBarLayer.dispose(),this.menuLayer.dispose(),this.dockLayer.dispose(),this.menuLayer=null,this.dockLayer=null,this.arsenalTimerKey=null,this.arsenalTimer=null,this.topBarLayer=null,this.removeChildren()},e}(r.SceneBase);e.ArsenalScene=d},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=i(0),s=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype._start=function(){this._playBGM()},e.prototype._playBGM=function(){r.default.sound.bgm.play(102),this._startScene()},e.prototype._startScene=function(){this._endTask()},e}(o.TaskBase);e.InitializeTask=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(875),a=i(3),_=i(3),l=i(3),u=function(t){function e(e){var i=t.call(this)||this;return i._uploadTexture=function(){o.default.settings.renderer.plugins.prepare.upload(l.ARSENAL_ANIMATION.getTexture(0).baseTexture,function(){o.default.settings.renderer.plugins.prepare.upload(_.ARSENAL_MAIN.getTexture(0).baseTexture,function(){o.default.settings.renderer.plugins.prepare.upload(a.COMMON_SORT.getTexture(0).baseTexture,function(){i.arsenalScene.start(),i.arsenalScene=null,i._endTask()})})})},i.arsenalScene=e,i}return n(e,t),e.prototype._start=function(){var t=this;(new s.TaskLoadResourcesArsenal).start(function(){t._uploadTexture()})},e}(r.TaskBase);e.PreInitializeTask=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(14),s=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype._start=function(){var t=this,e=new r.UIImageLoader("arsenal");e.add("arsenal_main.json"),e.add("arsenal_animation.json"),e.load(function(){t._endTask()})},e}(o.TaskBase);e.TaskLoadResourcesArsenal=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(49),s=i(8),a=i(877),_=function(t){function e(){var e=t.call(this,.9)||this;return e.alpha=0,e}return n(e,t),e.prototype.show=function(t,e,i){this.removeChildren(),this.highSpeedConfirmView=new a.HighSpeedConfirmView(i),this.highSpeedConfirmView.update(t,e),this.highSpeedConfirmView.position.set(91,70),this.addChild(this.highSpeedConfirmView),o.default.view.clickGuard=!0,createjs.Tween.get(this).to({alpha:1},r.UISettings.DIALOG_FADETIME).call(function(){o.default.view.clickGuard=!1})},e.prototype.hide=function(t){createjs.Tween.get(this).to({alpha:0},r.UISettings.DIALOG_FADETIME).call(function(){t()})},e.prototype.dispose=function(){createjs.Tween.removeTweens(this),this.removeChildren(),this.highSpeedConfirmView.dispose(),this.highSpeedConfirmView=null},e}(s.AreaBox);e.HighSpeedConfirmContainer=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(4),s=i(21),a=i(35),_=function(t){function e(e){var i=t.call(this)||this;i._onClickYes=function(){i._cb_onComplete(!0)},i._onClickNo=function(){i._cb_onComplete(!1)},i._cb_onComplete=e;var n=new PIXI.Sprite(s.COMMON_MAIN.getTexture(63)),_=new PIXI.Sprite(a.ARSENAL_MAIN.getTexture(83)),l=new PIXI.Sprite(a.ARSENAL_MAIN.getTexture(3));i.labelUse=new r.TextBox(21,16777215),i.labelName=new r.TextBox(21,1949120),i.beforeCount=new r.TextBox(22,16777215),i.afterCount=new r.TextBox(22,16777215);var u=new PIXI.Sprite(a.ARSENAL_MAIN.getTexture(0));return i.labelName.text="\u9ad8\u901f\u5efa\u9020",i.labelUse.text="\u4f7f\u7528\u3059\u308b",i.beforeCount.anchor.x=1,i.beforeCount.position.set(630,217),i.afterCount.position.set(664,217),i.labelName.position.set(307,166),i.labelUse.position.set(513,166),u.position.set(730,297),l.position.set(432,-43),_.position.set(498,210),u.position.set(639,226),i.addChild(n,l),i._btn_yes=new PIXI.Sprite(a.ARSENAL_MAIN.getTexture(44)),i._btn_yes.interactive=!0,i._btn_yes.buttonMode=!0,i._btn_yes.position.set(540,484),i._btn_yes.on(o.EventType.CLICK,i._onClickYes),i.addChild(i._btn_yes),i._btn_no=new PIXI.Sprite(a.ARSENAL_MAIN.getTexture(36)),i._btn_no.interactive=!0,i._btn_no.buttonMode=!0,i._btn_no.position.set(273,484),i._btn_no.on(o.EventType.CLICK,i._onClickNo),i.addChild(i._btn_no),i.addChild(i.beforeCount,i.afterCount,u,_,i.labelName,i.labelUse),i}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._btn_yes.off(o.EventType.CLICK,this._onClickYes),this._btn_no.off(o.EventType.CLICK,this._onClickNo),this.beforeCount.destroy(),this.afterCount.destroy(),this.labelName.destroy(),this.labelUse.destroy(),this._cb_onComplete=null,this._btn_yes=null,this._btn_no=null,this.beforeCount=null,this.afterCount=null,this.labelName=null,this.labelUse=null},e.prototype.update=function(t,e){this.beforeCount.text=t.toString(),this.afterCount.text=e.toString()},e}(PIXI.Container);e.HighSpeedConfirmView=_},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(35),r=i(879),s=i(880),a=i(882),_=i(883),l=i(884),u=i(885),c=i(887),h=i(889),p=i(890),d=i(891),f=i(1),y=function(){function t(t,e,i,n,y){var m=this;this.hammerMotivation=!1,this.spannerMotivation=!1,this.ANIMATION_KEY_UNLOCK={alpha:0,y:0},this._onClickGet=function(){m.onClickGet(m.memDockId)},this._onClickSelect=function(){m.onClickSelect(m.memDockId)},this._onClickHighSpeed=function(){m.onClickHighSpeed(m.memDockId)},this._onMouseOverHighSpeed=function(){m.buttonHighSpeed.texture=o.ARSENAL_MAIN.getTexture(24)},this._onMouseOutHighSpeed=function(){m.buttonHighSpeed.texture=o.ARSENAL_MAIN.getTexture(22)},this._onClickNoDock=function(){m.hasKey&&m.focusableNoDock&&m.onClickNoDock(m.memDockId)},this.great_steelFrame_bg=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(65)),this.spanner=new a.Spanner(y),this.hammer=new s.Hammer(y),this.carry=new r.Carry(y),this.kDockStateView=new d.KDockStateView,this.buttonGet=new h.GetButton,this.buttonSelect=new p.SelectButton,this.iconHighSpeedDisable=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(23)),this.buttonHighSpeed=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(22)),this.normalBuildStage=new u.NormalBuildStage,this.largeBuildStage=new c.LargeBuildStage,this.noDockView=new l.NoDockView(n),this.burner=new _.Burner(y),this.steelFrame_mask_door=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(146)),this.txt_open=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(155)),this.txt_open.alpha=0,this.txt_open.visible=!1,this.txt_open.position.set(285,54),this.normalBuildStage.visible=!1,this.largeBuildStage.visible=!1,this.great_steelFrame_bg.visible=!1,this.spanner.visible=!1,this.hammer.visible=!1,this.burner.visible=!1,this.carry.visible=!1,this.noDockView.visible=!1,this.iconHighSpeedDisable.x=this.buttonHighSpeed.x=531,this.kDockStateView.position.set(63,0),this.buttonGet.position.set(345,28),this.great_steelFrame_bg.position.set(239,0),this.buttonSelect.position.set(345,28),this.normalBuildStage.position.set(238,-3),this.largeBuildStage.position.set(238,-3),this.steelFrame_mask_door.x=637,this.noDockView.position.set(6,-15),this.buttonGet.onClick=this._onClickGet,this.buttonSelect.onClick=this._onClickSelect,this.noDockView.onClick=this._onClickNoDock,this.buttonHighSpeed.on(f.EventType.CLICK,this._onClickHighSpeed),this.buttonHighSpeed.on(f.EventType.MOUSEOUT,this._onMouseOutHighSpeed),this.buttonHighSpeed.on(f.EventType.MOUSEOVER,this._onMouseOverHighSpeed),this.buttonHighSpeed.interactive=this.buttonHighSpeed.buttonMode=!0,e.addChild(this.great_steelFrame_bg,this.kDockStateView,this.noDockView),i.addChild(this.carry,this.normalBuildStage,this.largeBuildStage,this.spanner,this.hammer,this.burner,this.steelFrame_mask_door),n.addChild(this.iconHighSpeedDisable,this.buttonSelect,this.buttonGet,this.buttonHighSpeed,this.txt_open),this.completeTime=0,this.layerBase=e,this.layerBuild=i,this.layerInteractive=n,this.syncAnimationKey=y,this.memDockId=t,this._state=0}return Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),t.prototype.showHighSpeedButton=function(t){this.buttonHighSpeed.visible=!1,this.iconHighSpeedDisable.visible=!1,t?this.buttonHighSpeed.visible=!0:this.iconHighSpeedDisable.visible=!0},t.prototype.hideHighSpeedButton=function(){this.buttonHighSpeed.visible=!1,this.iconHighSpeedDisable.visible=!1},t.prototype.Build=function(t,e,i,o,r,s,a,_,l){var u=this;this._state=t?3:2,this.steelFrame_mask_door.visible=!0,this.hammerMotivation=o,this.spannerMotivation=r,this.great_steelFrame_bg.visible=!1,this.buttonGet.visible=!1,this.buttonSelect.visible=!1,this.hammer.visible=!1,this.spanner.visible=!1,this.burner.visible=!1,this.carry.visible=!1,this.largeBuildStage.visible=!1,this.normalBuildStage.visible=!1,this.noDockView.visible=!1,this.kDockStateView.build(a),this.kDockStateView.update(_),this.normalBuildStage.updatePhaseMax(l),this.largeBuildStage.updatePhaseMax(l),this.normalBuildStage.update(.1),this.largeBuildStage.update(.1),this.hideHighSpeedButton(),t?(this.burner.visible=!0,this.burner.useBurner(function(t){u.kDockStateView.updateProgress(a,_,t),u.normalBuildStage.update(t),u.largeBuildStage.update(t)},function(){u.kDockStateView.updateProgress(a,_,1),u.burner.complete(),u.hammerMotivation&&(u.hammer.visible=!0,u.hammer.x=825,u.hammer.useBurnerd()),u.spannerMotivation&&(u.spanner.visible=!0,u.spanner.x=825,u.spanner.useBurnerd()),u._buildComplete();var t=n.default.model.deck.get(1).getShipList()[0].mstID;n.default.sound.voice.play(t.toString(),5)})):(i?this.buttonHighSpeed.visible=!0:this.iconHighSpeedDisable.visible=!0,o&&(this.hammer.visible=!0,this.hammer.build()),r&&(this.spanner.visible=!0,this.spanner.build()),this.carry.build(),this.carry.visible=!0),e?(this.great_steelFrame_bg.visible=!0,this.largeBuildStage.visible=!0):this.normalBuildStage.visible=!0,this.totalRequireTime=60*s*1e3,this.completeTime=a},t.prototype.changeState=function(t){this._state=t},t.prototype.Standby=function(){this.__Standby__()},t.prototype.__Standby__=function(){this._state=0,this.iconHighSpeedDisable.visible=!0,this.steelFrame_mask_door.visible=!0,this.kDockStateView.standby(),this.normalBuildStage.update(0),this.largeBuildStage.update(0),this.kDockStateView.visible=!0,this.buttonSelect.visible=!0,this.buttonGet.visible=!1,this.largeBuildStage.visible=!1,this.normalBuildStage.visible=!0,this.great_steelFrame_bg.visible=!1,this.noDockView.visible=!1},t.prototype.UnLockDock=function(){var t=this;createjs.Tween.removeTweens(this.ANIMATION_KEY_UNLOCK),this.txt_open.alpha=0,this.txt_open.visible=!0,this.txt_open.alpha=this.ANIMATION_KEY_UNLOCK.alpha=0,this.txt_open.y=this.ANIMATION_KEY_UNLOCK.y=54;var e=createjs.Tween.get(this.ANIMATION_KEY_UNLOCK);e.to({alpha:1,y:-26.25},500).to({alpha:0,y:-52},400).call(function(){e.removeAllEventListeners("change"),e.setPaused(!0),t.txt_open.alpha=t.ANIMATION_KEY_UNLOCK.alpha=0,t.txt_open.y=t.ANIMATION_KEY_UNLOCK.y=-105}).addEventListener("change",function(){t.txt_open.alpha=t.ANIMATION_KEY_UNLOCK.alpha,t.txt_open.y=t.ANIMATION_KEY_UNLOCK.y}),e.play(null),this.noDockView.hidePop(),this.noDockView.visible=!1,this.__Standby__()},t.prototype.updateMotivation=function(t,e){this.hammerMotivation=t,this.spannerMotivation=e},t.prototype.Resume=function(t,e,i,n,o,r,s,a){this._state=2,this.hammerMotivation=i,this.spannerMotivation=n,this.steelFrame_mask_door.visible=!0,this.largeBuildStage.visible=!1,this.normalBuildStage.visible=!1,this.buttonGet.visible=!1,this.buttonSelect.visible=!1,this.hammer.visible=!1,this.spanner.visible=!1,this.burner.visible=!1,this.carry.visible=!1,this.noDockView.visible=!1,this.normalBuildStage.updatePhaseMax(a),this.largeBuildStage.updatePhaseMax(a),i&&(this.hammer.visible=!0,this.hammer.resume()),n&&(this.spanner.visible=!0,this.spanner.resume()),t?(this.great_steelFrame_bg.visible=!0,this.largeBuildStage.visible=!0):this.normalBuildStage.visible=!0,this.hideHighSpeedButton(),e?this.buttonHighSpeed.visible=!0:this.iconHighSpeedDisable.visible=!0,this.kDockStateView.build(r),this.kDockStateView.update(s),this.carry.visible=!0,this.carry.resume(),this.totalRequireTime=60*o*1e3,this.completeTime=r},t.prototype.Complete=function(){this.hammer.visible=!1,this.spanner.visible=!1,this.hammerMotivation&&(this.hammer.visible=!0),this.spannerMotivation&&(this.spanner.visible=!0),this.__Complete__()},t.prototype.NoDock=function(t,e){this._state=-1,this.steelFrame_mask_door.visible=!1,this.noDockView.visible=!0,this.kDockStateView.visible=!1,this.buttonGet.visible=!1,this.buttonSelect.visible=!1,this.noDockView.update(t,e),this.focusableNoDock=t,this.hasKey=e},t.prototype.forceComplete=function(t){t?this.largeBuildStage.forceComplete():this.normalBuildStage.forceComplete()},t.prototype.Completed=function(t,e){this.steelFrame_mask_door.visible=!0,this.hammer.visible=!1,this.spanner.visible=!1,this.great_steelFrame_bg.visible=!1,this.largeBuildStage.visible=!1,this.normalBuildStage.visible=!1,this.hammerMotivation&&(this.hammer.visible=!0),this.spannerMotivation&&(this.spanner.visible=!0),e?(this.great_steelFrame_bg.visible=!0,this.largeBuildStage.visible=!0,this.largeBuildStage.updatePhaseMax(t),this.largeBuildStage.update(1)):(this.normalBuildStage.visible=!0,this.normalBuildStage.updatePhaseMax(t),this.normalBuildStage.update(1)),this.__Complete__()},t.prototype.__Complete__=function(){this._buildComplete(),this.hammer.visible&&this.hammer.complete(),this.spanner.visible&&this.spanner.complete(),this.carry.visible&&this.carry.complete(),this.burner.visible&&this.burner.complete()},t.prototype._buildComplete=function(){this._state=3,this.buttonSelect.visible=!1,this.buttonGet.visible=!0,this.kDockStateView.complete()},t.prototype.UseBanner=function(t,e){var i=this;this.hammer.visible&&this.hammer.useBurner(),this.spanner.visible&&this.spanner.useBurner(),this.carry.visible&&this.carry.useBurner(),this.burner.visible=!0,this.burner.useBurner(function(n){i.kDockStateView.updateProgress(t,e,n),i.normalBuildStage.update(n),i.largeBuildStage.update(n)},function(){i.buttonSelect.visible=!1,i.buttonGet.visible=!0,i.burner.complete(),i.hammerMotivation&&i.hammer.useBurnerd(),i.spannerMotivation&&i.spanner.useBurnerd(),i.kDockStateView.complete();var t=n.default.model.deck.get(1).getShipList()[0].mstID;n.default.sound.voice.play(t.toString(),5)})},t.prototype.Receive=function(){this.burner.visible&&this.burner.receive()},t.prototype.Received=function(){this.hammer.visible&&this.hammer.received(),this.spanner.visible&&this.spanner.received(),this.carry.visible&&this.carry.received(),this.__Standby__()},t.prototype.onUpdateTime=function(t){this.kDockStateView.update(t);var e=this.completeTime-t,i=1-e/this.totalRequireTime;this.normalBuildStage.update(i),this.largeBuildStage.update(i)},t.prototype.updateCondition=function(t,e){this.buttonGet.updateCondition(t,e),this.buttonSelect.updateCondition(t,e)},t.prototype.dispose=function(){this.normalBuildStage.dispose(),this.largeBuildStage.dispose(),this.buttonGet.dispose(),this.buttonSelect.dispose(),this.kDockStateView.dispose(),this.noDockView.dispose(),this.burner.dispose(),this.spanner.dispose(),this.hammer.dispose(),this.carry.dispose(),this.layerBase.removeChildren(),this.layerBuild.removeChildren(),this.layerInteractive.removeChildren(),this.onClickGet=null,this.onClickSelect=null,this.onClickHighSpeed=null,this.onClickNoDock=null,this.completeTime=null,this.totalRequireTime=null,this.memDockId=null,this.syncAnimationKey=null,this.great_steelFrame_bg=null,this.normalBuildStage=null,this.largeBuildStage=null,this.buttonGet=null,this.buttonSelect=null,this.buttonHighSpeed=null,this.iconHighSpeedDisable=null,this.kDockStateView=null,this.noDockView=null,this.burner=null,this.spanner=null,this.hammer=null,this.carry=null,this.txt_open=null,this.steelFrame_mask_door=null,this.layerBase=null,this.layerBuild=null,this.layerInteractive=null,this.hammerMotivation=null,this.spannerMotivation=null,this.focusableNoDock=null,this.hasKey=null,this._state=null},t}();e.KDockView=y},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o,r=i(3),s=i(115),a=i(1);!function(t){t.LEFT=270,t.RIGHT=705,t.BOTTOM=95,t.DIRECTION_LEFT=1,t.DIRECTION_RIGHT=-1}(o=e.ArsenalStaffConst||(e.ArsenalStaffConst={}));var _=function(t){function e(e){var i=t.call(this)||this;return i.WALK=[97,98,99,98],i.COMPLETION=[100,101],i.ANIMATION_BUILD_KEY={},i.ANIMATION_ENTER_KEY={},i.JUMP_ANIMATION={progress:0},i.ANIMATION_COMPLETE_KEY={},i.ANIMATION_BURNER_KEY={},i._onClick=function(){if(0==createjs.Tween.hasActiveTweens(i.JUMP_ANIMATION)){var t=createjs.Tween.get(i.JUMP_ANIMATION).to({progress:1},250,createjs.Ease.quintOut).to({progress:0},250);t.call(function(){t.removeAllEventListeners("change"),t.setPaused(!0)}).addEventListener("change",function(){i.sprite.y=-30*i.JUMP_ANIMATION.progress})}},i.sprite=new PIXI.Sprite,i.effect=new PIXI.Container,i.ase_0=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(141)),i.ase_1=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(141)),i.sprite.texture=r.ARSENAL_MAIN.getTexture(i.WALK[0]),i.sprite.interactive=!0,i.sprite.on(a.EventType.CLICK,i._onClick),i.ase_0.anchor.set(0,1),i.ase_1.anchor.set(0,1),i.sprite.anchor.set(.5,1),i.effect.addChild(i.ase_0,i.ase_1),i.sprite.addChild(i.effect),i.addChild(i.sprite),i.syncAnimationKey=e,i}return n(e,t),e.prototype.dispose=function(){createjs.Tween.removeTweens(this.ANIMATION_BUILD_KEY),createjs.Tween.removeTweens(this.ANIMATION_ENTER_KEY),createjs.Tween.removeTweens(this.JUMP_ANIMATION),createjs.Tween.removeTweens(this.ANIMATION_COMPLETE_KEY),createjs.Tween.removeTweens(this.ANIMATION_BURNER_KEY),this.effect.removeChildren(),this.ase_0=null,this.ase_1=null,this.effect=null,this.sprite=null,this.syncAnimationKey=null,this.removeChildren()},e.prototype.build=function(){this.sprite.y=0,this.__AnimationBuild__()},e.prototype.__AnimationBuild__=function(){var t=this;createjs.Tween.removeTweens(this.ANIMATION_BUILD_KEY),this.ANIMATION_BUILD_KEY.progress=0,this.ANIMATION_BUILD_KEY.x=o.RIGHT,this.ANIMATION_BUILD_KEY.direction=o.DIRECTION_LEFT;var e=o.RIGHT-o.LEFT,i=(14+5*Math.random())/1.5,n=i*e;this.position.set(o.RIGHT,o.BOTTOM),createjs.Tween.get(this.ANIMATION_BUILD_KEY,{loop:!0}).wait(1e3*Math.random()).to({x:o.LEFT},n).to({direction:o.DIRECTION_RIGHT},1e3).to({x:o.RIGHT},n).addEventListener("change",function(){var e=t.ANIMATION_BUILD_KEY.x,i=t.ANIMATION_BUILD_KEY.direction;t.x=e,t.sprite.scale.x=i}),createjs.Tween.get(this.ANIMATION_BUILD_KEY,{loop:!0}).to({progress:0}).to({progress:1},250).to({progress:0},250).addEventListener("change",function(){var e=t.ANIMATION_BUILD_KEY.progress,i=Math.round((t.WALK.length-1)*e);switch(t.sprite.texture=r.ARSENAL_MAIN.getTexture(t.WALK[i]),t.ase_0.visible=!1,t.ase_1.visible=!1,i){case 0:t.ase_0.position.set(3,-64),t.ase_1.position.set(21,-54),t.ase_0.rotation=-6.2/Math.PI/180,t.ase_1.rotation=28.5/Math.PI/180,t.ase_0.visible=!0,t.ase_1.visible=!0;break;case 1:t.ase_0.position.set(6.675,-47.25),t.ase_1.position.set(14.25,-59.25),t.ase_0.rotation=1/Math.PI/180,t.ase_1.rotation=0,t.ase_0.visible=!0,t.ase_1.visible=!0;break;case 2:t.ase_0.position.set(8.25,-62.25),t.ase_1.position.set(20.25,-51.75),t.ase_0.rotation=0,t.ase_1.rotation=0,t.ase_0.visible=!0,t.ase_1.visible=!0;break;case 3:t.ase_0.position.set(6.675,-47.25),t.ase_1.position.set(14.25,-59.25),t.ase_0.rotation=1/Math.PI/180,t.ase_1.rotation=0,t.ase_0.visible=!0,t.ase_1.visible=!0}})},e.prototype.resume=function(){this.sprite.y=0,this.__AnimationBuild__()},e.prototype.complete=function(){var t=this;this.effect.visible=!1,this.sprite.scale.x=1,this.sprite.y=0,createjs.Tween.removeTweens(this.ANIMATION_BUILD_KEY),createjs.Tween.removeTweens(this.ANIMATION_ENTER_KEY),createjs.Tween.removeTweens(this.ANIMATION_COMPLETE_KEY),createjs.Tween.get(this.ANIMATION_COMPLETE_KEY,{loop:!0}).wait(1e3).addEventListener("change",function(){var e=t.syncAnimationKey.getNumber(s.SYNC_KEY_JUMP);t.sprite.y=-10*e,t.sprite.texture=.4<e?r.ARSENAL_MAIN.getTexture(t.COMPLETION[0]):r.ARSENAL_MAIN.getTexture(t.COMPLETION[1])})},e.prototype.stopOtherAnimation=function(){createjs.Tween.removeTweens(this.ANIMATION_BUILD_KEY),createjs.Tween.removeTweens(this.ANIMATION_ENTER_KEY),createjs.Tween.removeTweens(this.ANIMATION_COMPLETE_KEY),createjs.Tween.removeTweens(this.ANIMATION_BURNER_KEY)},e.prototype.useBurner=function(){var t=this;this.stopOtherAnimation(),this.effect.visible=!1,this.sprite.scale.x=-1,this.sprite.y=0,this.ANIMATION_BURNER_KEY.x=this.x,this.ANIMATION_BURNER_KEY.progress=0;var e=createjs.Tween.get(this.ANIMATION_BURNER_KEY,{loop:!0});e.to({progress:0}).to({progress:1},250).to({progress:0},250).addEventListener("change",function(){var e=t.ANIMATION_BURNER_KEY.progress,i=Math.round((t.WALK.length-1)*e),n=t.WALK[i];t.sprite.texture=r.ARSENAL_MAIN.getTexture(n)});var i=createjs.Tween.get(this.ANIMATION_BURNER_KEY);i.to({x:750},1e3).call(function(){createjs.Tween.removeTweens(t.ANIMATION_BURNER_KEY),i.removeAllEventListeners("change"),e.removeAllEventListeners("change"),i.setPaused(!0),e.setPaused(!0),t.x=750}).addEventListener("change",function(){t.x=t.ANIMATION_BURNER_KEY.x})},e.prototype.received=function(){var t=this;this.stopOtherAnimation(),this.sprite.y=0,this.ANIMATION_BURNER_KEY.x=this.x,this.ANIMATION_BURNER_KEY.progress=0;var e=createjs.Tween.get(this.ANIMATION_BURNER_KEY);e.to({x:750},1e3).call(function(){createjs.Tween.removeTweens(t.ANIMATION_BURNER_KEY),e.removeAllEventListeners("change"),i.removeAllEventListeners("change"),e.setPaused(!0),i.setPaused(!0),t.x=750}).addEventListener("change",function(){t.x=t.ANIMATION_BURNER_KEY.x});var i=createjs.Tween.get(this.ANIMATION_BURNER_KEY,{loop:!0});i.to({progress:0}).to({progress:1},250).to({progress:0},250).addEventListener("change",function(){var e=t.ANIMATION_BURNER_KEY.progress,i=Math.round((t.WALK.length-1)*e),n=t.WALK[i];t.sprite.texture=r.ARSENAL_MAIN.getTexture(n)})},e}(PIXI.Container);e.Carry=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(35),r=i(115),s=i(881),a=function(t){function e(e){var i=t.call(this)||this;return i.DEFAULT_IN_X=288,i.DEFAULT_OUT_X=825,i.BUILD=[113,112],i.WALK=[109,110,111,110],i.COMPLETION=[114,115],i.STAR_CENTER_OFFSET={x:-30,y:-30},i.ANIMATION_KEY_WALK={},i.ANIMATION_KEY_TURN={},i.ANIMATION_KEY_COMPLETE={},i.ANIMATION_KEY_BUILDING={},i.y=91,i.x=i.DEFAULT_OUT_X,i.sprite=new PIXI.Sprite,i.sparkParticle=new s.GreenStarParticle,i.sprite.anchor.set(.5,1),i.sprite.texture=o.ARSENAL_MAIN.getTexture(i.WALK[0]),i.sparkParticle.position.set(i.STAR_CENTER_OFFSET.x,i.STAR_CENTER_OFFSET.y),i.sprite.addChild(i.sparkParticle),i.addChild(i.sprite),i.syncAnimationKey=e,i}return n(e,t),e.prototype.build=function(){var t=this;this.stopAllTween(),this.sparkParticle.updateAlpha(0),this.sparkParticle.updateStarPosition(),this.sparkParticle.visible=!0,this.sprite.scale.x=1,this.__AnimationWalk__(this.x,this.DEFAULT_IN_X,2500,function(){t.stopAllTween(),t.__AnimationTurn__(-1,500,function(){t.stopAllTween(),t.__AnimationBuilding__()})})},e.prototype.resume=function(){this.stopAllTween(),this.x=288,this.sprite.scale.x=-1,this.sprite.y=0,this.__AnimationBuilding__()},e.prototype.useBurner=function(){this.stopAllTween(),this.sparkParticle.visible=!1,this.sparkParticle.updateAlpha(0),this.sprite.scale.x=-1,this.sprite.y=0,this.__AnimationWalk__(this.x,this.DEFAULT_OUT_X,1e3,function(){})},e.prototype.useBurnerd=function(){var t=this;this.stopAllTween(),this.sprite.scale.x=1,this.__AnimationWalk__(this.x,this.DEFAULT_IN_X,1e3,function(){t.sprite.scale.x=1,t.sparkParticle.visible=!1,t.sparkParticle.updateAlpha(0),t.stopAllTween(),t.__AnimationComplete__()})},e.prototype.received=function(){this.stopAllTween(),this.sprite.y=0,this.sprite.scale.x=-1,this.__AnimationWalk__(this.x,this.DEFAULT_OUT_X,1e3,function(){})},e.prototype.complete=function(){this.stopAllTween(),this.x=this.DEFAULT_IN_X,this.sprite.scale.x=1,this.sprite.y=0,this.sparkParticle.visible=!1,this.sparkParticle.updateAlpha(0),this.__AnimationComplete__()},e.prototype.stopAllTween=function(){createjs.Tween.removeTweens(this.ANIMATION_KEY_WALK),createjs.Tween.removeTweens(this.ANIMATION_KEY_BUILDING),createjs.Tween.removeTweens(this.ANIMATION_KEY_COMPLETE),createjs.Tween.removeTweens(this.ANIMATION_KEY_TURN)},e.prototype.__AnimationWalk__=function(t,e,i,n){var r=this;this.ANIMATION_KEY_WALK.x=this.x=t,this.ANIMATION_KEY_WALK.progress=0,this.ANIMATION_KEY_WALK.walk=0;var s=createjs.Tween.get(this.ANIMATION_KEY_WALK,{loop:!0});s.to({walk:0}).to({walk:1},225).to({walk:0},225).addEventListener("change",function(){var t=r.ANIMATION_KEY_WALK.walk,e=Math.round((r.WALK.length-1)*t);r.sprite.texture=o.ARSENAL_MAIN.getTexture(r.WALK[e])});var a=createjs.Tween.get(this.ANIMATION_KEY_WALK);a.to({x:e,progress:1},i).call(function(){createjs.Tween.removeTweens(r.ANIMATION_KEY_WALK),a.removeAllEventListeners("change"),s.removeAllEventListeners("change"),a.setPaused(!0),s.setPaused(!0),r.x=e,n()}).addEventListener("change",function(){var t=r.ANIMATION_KEY_WALK.progress,e=Math.round((r.WALK.length-1)*t);r.x=r.ANIMATION_KEY_WALK.x,r.sprite.texture=o.ARSENAL_MAIN.getTexture(r.WALK[e])})},e.prototype.__AnimationTurn__=function(t,e,i){var n=this;this.ANIMATION_KEY_TURN.direction=this.sprite.scale.x,createjs.Tween.removeTweens(this.ANIMATION_KEY_TURN);var o=createjs.Tween.get(this.ANIMATION_KEY_TURN);o.to({direction:t},e).call(function(){createjs.Tween.removeTweens(n.ANIMATION_KEY_TURN),o.removeAllEventListeners("change"),o.setPaused(!0),n.sprite.scale.x=t,i()}).addEventListener("change",function(){n.sprite.scale.x=n.ANIMATION_KEY_TURN.direction})},e.prototype.__AnimationComplete__=function(){var t=this;createjs.Tween.get(this.ANIMATION_KEY_COMPLETE,{loop:!0}).wait(1e3).addEventListener("change",function(){var e=t.syncAnimationKey.getNumber(r.SYNC_KEY_JUMP);t.sprite.y=-15*e,t.sprite.texture=.2<e?o.ARSENAL_MAIN.getTexture(t.COMPLETION[0]):o.ARSENAL_MAIN.getTexture(t.COMPLETION[1])})},e.prototype.__AnimationBuilding__=function(){var t=this;createjs.Tween.get(this.ANIMATION_KEY_BUILDING,{loop:!0}).call(function(){t.sparkParticle.updateStarPosition(),t.sparkParticle.updateAlpha(0),t.sprite.texture=o.ARSENAL_MAIN.getTexture(t.BUILD[1])}).wait(500).call(function(){t.sprite.texture=o.ARSENAL_MAIN.getTexture(t.BUILD[0]);createjs.Tween.get(t.ANIMATION_KEY_BUILDING).to({progress:0}).to({progress:1},300).addEventListener("change",function(){var e=t.ANIMATION_KEY_BUILDING.progress;t.sparkParticle.updateAnimation(e),t.sparkParticle.updateAlpha(1-e)})}).wait(500)},e.prototype.dispose=function(){createjs.Tween.removeTweens(this.ANIMATION_KEY_WALK),createjs.Tween.removeTweens(this.ANIMATION_KEY_TURN),createjs.Tween.removeTweens(this.ANIMATION_KEY_COMPLETE),createjs.Tween.removeTweens(this.ANIMATION_KEY_BUILDING),this.sparkParticle.dispose(),this.sparkParticle=null,this.sprite=null,this.syncAnimationKey=null,this.removeChildren()},e}(PIXI.Container);e.Hammer=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=function(t){function e(){var e=t.call(this)||this;e.STAR=5,e.SHOOTING_STAR_DISTANCE=45;var i=Math.random();e.stars=[],e.starTables=new Array;for(var n=0;n<e.STAR;n++){var r=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(143));r.anchor.set(.5,.5),r.alpha=0,r.position.set(0,0);var s=Math.sin(Math.PI/180*(360*i)),a=Math.cos(Math.PI/180*(360*i)),_={x:0,y:0};_.x=s,_.y=a,e.stars.push(r),e.starTables.push(_),e.addChild(r)}return e}return n(e,t),e.prototype.updateStarPosition=function(){for(var t=0;t<this.stars.length;t++){var e=Math.PI/180*(360*Math.random()),i=Math.sin(e),n=Math.cos(e);this.starTables[t].x=i,this.starTables[t].y=n}},e.prototype.updateAlpha=function(t){void 0===t&&(t=0);for(var e=0;e<this.stars.length;e++){this.stars[e].alpha=t}},e.prototype.updateAnimation=function(t){for(var e=Math.PI/180*(180*t),i=0;i<this.stars.length;i++){var n=this.stars[i],o=this.starTables[i];n.rotation=e,n.position.set(o.x*this.SHOOTING_STAR_DISTANCE*t,o.y*this.SHOOTING_STAR_DISTANCE*t)}},e.prototype.dispose=function(){for(var t=0;t<this.stars.length;t++)this.stars[t]=null;this.starTables=null,this.stars=null,this.removeChildren()},e}(PIXI.Container);e.GreenStarParticle=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(115),s=function(t){function e(e){var i=t.call(this)||this;return i.DEFAULT_IN_X=507,i.DEFAULT_OUT_X=825,i.COMPLETION=[107,108],i.WALK=[102,103,104],i.BUILD=[106,105],i.ANIMATION_KEY_MOVE={},i.ANIMATION_KEY_BUILDING={},i.ANIMATION_KEY_COMPLETE={},i.y=91,i.x=i.DEFAULT_OUT_X,i.sprite=new PIXI.Sprite,i.star_0=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(142)),i.star_1=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(142)),i.effect=new PIXI.Container,i.sprite.anchor.set(.5,1),i.star_0.anchor.set(.5,.5),i.star_1.anchor.set(.5,.5),i.star_0.scale.set(0,0),i.star_1.scale.set(0,0),i.sprite.texture=o.ARSENAL_MAIN.getTexture(i.WALK[0]),i.effect.position.x=46,i.effect.addChild(i.star_1,i.star_0),i.sprite.addChild(i.effect),i.addChild(i.sprite),i.syncAnimationKey=e,i}return n(e,t),e.prototype.build=function(){var t=this;this.stopAllAnimation(),this.sprite.y=0,this.sprite.scale.x=1,this.__AnimationMove__(this.DEFAULT_OUT_X,this.DEFAULT_IN_X,3e3,function(){t.__AnimationBuilding__()})},e.prototype.resume=function(){this.x=this.DEFAULT_IN_X,this.sprite.y=0,this.stopAllAnimation(),this.__AnimationBuilding__()},e.prototype.complete=function(){this.sprite.scale.x=1,this.effect.visible=!1,this.x=this.DEFAULT_IN_X,this.stopAllAnimation(),this.__AnimationComplete__()},e.prototype.useBurner=function(){this.stopAllAnimation(),this.sprite.y=0,this.effect.visible=!1,this.sprite.scale.x=-1,this.__AnimationMove__(this.x,this.DEFAULT_OUT_X,1e3,function(){})},e.prototype.received=function(){this.stopAllAnimation(),this.sprite.y=0,this.sprite.scale.x=-1,this.__AnimationMove__(this.x,this.DEFAULT_OUT_X,1e3,function(){})},e.prototype.useBurnerd=function(){var t=this;this.sprite.scale.x=1,this.sprite.y=0,this.__AnimationMove__(this.x,this.DEFAULT_IN_X,1e3,function(){t.__AnimationComplete__()})},e.prototype.stopAllAnimation=function(){createjs.Tween.removeTweens(this.ANIMATION_KEY_BUILDING),createjs.Tween.removeTweens(this.ANIMATION_KEY_COMPLETE),createjs.Tween.removeTweens(this.ANIMATION_KEY_MOVE)},e.prototype.__AnimationMove__=function(t,e,i,n){var r=this;this.ANIMATION_KEY_MOVE.x=this.x=t,this.ANIMATION_KEY_MOVE.progress=0;var s=createjs.Tween.get(this.ANIMATION_KEY_MOVE,{loop:!0});s.to({progress:0}).to({progress:1},250).to({progress:0},250).addEventListener("change",function(){var t=r.ANIMATION_KEY_MOVE.progress,e=Math.round((r.WALK.length-1)*t),i=r.WALK[e];r.sprite.texture=o.ARSENAL_MAIN.getTexture(i)});var a=createjs.Tween.get(this.ANIMATION_KEY_MOVE);a.to({x:e,progress:1},i).call(function(){createjs.Tween.removeTweens(r.ANIMATION_KEY_MOVE),a.setPaused(!0),s.setPaused(!0),a.removeAllEventListeners("change"),s.removeAllEventListeners("change"),n()}).addEventListener("change",function(){var t=r.ANIMATION_KEY_MOVE.x;r.x=t})},e.prototype.__AnimationBuilding__=function(){var t=this;this.ANIMATION_KEY_BUILDING.progress_A=0,this.ANIMATION_KEY_BUILDING.progress_B=0;var e=function(t,e,i,n){return{x:(1-n)*(1-n)*t.x+2*(1-n)*n*e.x+n*n*i.x,y:(1-n)*(1-n)*t.y+2*(1-n)*n*e.y+n*n*i.y}};createjs.Tween.get(this.ANIMATION_KEY_BUILDING,{loop:!0}).to({progress_A:1},500).to({progress_B:1},500).addEventListener("change",function(){var i=t.ANIMATION_KEY_BUILDING.progress_A,n=t.ANIMATION_KEY_BUILDING.progress_B;t.sprite.texture=o.ARSENAL_MAIN.getTexture(t.BUILD[Math.round((t.BUILD.length-1)*i)]),t.sprite.position.x=2*Math.sin(Math.PI/90*(360*n))*1.5;var r={x:-18,y:6},s={x:-24,y:-45},a={x:-37,y:0},_=e(r,s,a,n);t.star_0.x=_.x,t.star_0.y=_.y,t.star_0.alpha=t.star_1.alpha=n<.9?n:0,t.star_0.scale.set(n,n),t.star_1.position.set(30,-19),t.star_1.scale.set(n,n)})},e.prototype.__AnimationComplete__=function(){var t=this;createjs.Tween.get(this.ANIMATION_KEY_COMPLETE,{loop:!0}).wait(1e3).addEventListener("change",function(){var e=t.syncAnimationKey.getNumber(r.SYNC_KEY_JUMP);t.sprite.y=-10*e,t.sprite.texture=.4<e?o.ARSENAL_MAIN.getTexture(t.COMPLETION[0]):o.ARSENAL_MAIN.getTexture(t.COMPLETION[1])})},e.prototype.dispose=function(){createjs.Tween.removeTweens(this.ANIMATION_KEY_MOVE),createjs.Tween.removeTweens(this.ANIMATION_KEY_BUILDING),createjs.Tween.removeTweens(this.ANIMATION_KEY_COMPLETE),this.effect.removeChildren(),this.star_0=null,this.star_1=null,this.sprite=null,this.effect=null,this.syncAnimationKey=null,this.removeChildren()},e}(PIXI.Container);e.Spanner=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(287),s=i(115),a=function(t){function e(e){var i=t.call(this)||this;i.WALK=[116,117,118,117],i.BURNER=[119,120],i.COMPLETION=[121,122],i.RANGE={fx:-300,fy:-75,tx:-135,ty:0},i.FPS=60,i.ANIMATION_BUILD_KEY={},i.ANIMATION_COMPLETE_KEY={},i.ANIMATION_ENTER_KEY={},i.sprite=new PIXI.Sprite,i.burner_1_l=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(57)),i.kiraAnimations=new Array,i.kiras=new Array;var n=o.COMMON_MAIN.getTexture(33),s=o.COMMON_MAIN.getTexture(34);i.effect=new PIXI.Container,i.sprite.texture=o.ARSENAL_MAIN.getTexture(i.WALK[0]),i.sprite.position.set(45,0),i.sprite.anchor.set(.5,1),i.burner_1_l.anchor.set(1,.69),i.burner_1_l.position.set(-40,-9),i.burner_1_l.scale.set(0,0),i.effect.position.x=-45,i.effect.addChild(i.burner_1_l),i.sprite.addChild(i.effect),i.addChild(i.sprite);for(var a=0;a<5;a++){var _=new PIXI.Sprite,l=new r.KiraAnimation(_,n,s);i.kiraAnimations.push(l),i.kiras.push(_),i.effect.addChild(_),_.x=i.RANGE.fx+(i.RANGE.tx-i.RANGE.fx)*Math.random(),_.y=i.RANGE.fy+(i.RANGE.ty-i.RANGE.fy)*Math.random(),_.alpha=0}return i.syncAnimationKey=e,i}return n(e,t),e.prototype.useBurner=function(t,e){var i=this;this.x=825,this.sprite.y=0,this.sprite.scale.x=1,this.__AnimationWalk__(552,function(){i.sprite.texture=o.ARSENAL_MAIN.getTexture(i.BURNER[0]),i.__AnimationBuild__(t,function(){e()})})},e.prototype.__AnimationBuild__=function(t,e){var i=this;this.burner_1_l.scale.set(0,0);for(var n=0;n<this.kiraAnimations.length;n++)this.kiraAnimations[n].stop();this.__AnimationFireStart__(function(){i.__AnimationFireWave__(2500,t,function(){i.__AnimationFireEnd__(e)})})},e.prototype.__AnimationComplete__=function(){var t=this;this.stopTweenAll(),createjs.Tween.get(this.ANIMATION_COMPLETE_KEY,{loop:!0}).wait(1e3).addEventListener("change",function(){var e=t.syncAnimationKey.getNumber(s.SYNC_KEY_JUMP);t.sprite.y=-15*e,t.sprite.texture=.4<e?o.ARSENAL_MAIN.getTexture(t.COMPLETION[0]):o.ARSENAL_MAIN.getTexture(t.COMPLETION[1])})},e.prototype.complete=function(){this.__AnimationComplete__()},e.prototype.stopTweenAll=function(){createjs.Tween.removeTweens(this.ANIMATION_BUILD_KEY),createjs.Tween.removeTweens(this.ANIMATION_ENTER_KEY),createjs.Tween.removeTweens(this.ANIMATION_COMPLETE_KEY)},e.prototype.receive=function(){var t=this;this.stopTweenAll(),this.sprite.y=0,this.__AnimationTurng__(-.5,250,function(){t.sprite.texture=o.ARSENAL_MAIN.getTexture(t.WALK[0]),t.__AnimationTurng__(-1,250,function(){t.__AnimationWalk__(550,function(){})})})},e.prototype.__AnimationTurng__=function(t,e,i){var n=this;this.stopTweenAll(),this.ANIMATION_BUILD_KEY.direction=this.sprite.scale.x;var o=createjs.Tween.get(this.ANIMATION_BUILD_KEY);o.to({direction:t},e).call(function(){createjs.Tween.removeTweens(n.ANIMATION_BUILD_KEY),o.setPaused(!0),i()}).addEventListener("change",function(){var t=n.ANIMATION_BUILD_KEY.direction;n.sprite.scale.x=t})},e.prototype.__AnimationWalk__=function(t,e){var i=this;this.stopTweenAll(),this.ANIMATION_BUILD_KEY.x=this.x,this.ANIMATION_BUILD_KEY.walk=0,this.y=96,this.burner_1_l.scale.set(0,0);var n=createjs.Tween.get(this.ANIMATION_BUILD_KEY,{loop:!0});n.to({walk:1},500).addEventListener("change",function(){var t=i.ANIMATION_BUILD_KEY.walk,e=Math.round((i.WALK.length-1)*t),n=i.WALK[e];i.sprite.texture=o.ARSENAL_MAIN.getTexture(n)});var r=createjs.Tween.get(this.ANIMATION_BUILD_KEY);r.to({x:t,walk:1},2e3).call(function(){createjs.Tween.removeTweens(i.ANIMATION_BUILD_KEY),n.removeAllEventListeners("change"),r.removeAllEventListeners("change"),n.setPaused(!0),r.setPaused(!0),e()}).addEventListener("change",function(){i.x=i.ANIMATION_BUILD_KEY.x})},e.prototype.__AnimationFireStart__=function(t){var e=this;this.ANIMATION_BUILD_KEY.x=0,this.ANIMATION_BUILD_KEY.y=0,this.ANIMATION_BUILD_KEY.scale=0,this.ANIMATION_BUILD_KEY.rotation=0;var i=1e3/this.FPS,n=(Math.PI,createjs.Tween.get(this.ANIMATION_BUILD_KEY));n.call(function(){e.sprite.texture=o.ARSENAL_MAIN.getTexture(e.BURNER[0])}).to({x:3.3,y:-10.65,scale:0,rotation:0}).to({x:3.3,y:-10.65,width:57.9,height:25.725,scale:.18,rotation:0},2*i).call(function(){e.sprite.texture=o.ARSENAL_MAIN.getTexture(e.BURNER[1]),e.burner_1_l.x=3.15,e.burner_1_l.y=-12.075,e.burner_1_l.scale.set(0,0),e.burner_1_l.rotation=0;for(var t=0;t<e.kiraAnimations.length;t++){var i=e.kiraAnimations[t],n=Math.floor(3*Math.random());i.play(n)}}).to({x:4.5,y:-8.25,width:321,height:142,scale:1},2*i).call(function(){createjs.Tween.removeTweens(e.ANIMATION_BUILD_KEY),n.setPaused(!0),t()}),n.addEventListener("change",function(){for(var t=0;t<e.kiraAnimations.length;t++){var i=e.kiras[t];i.x=e.RANGE.fx+(e.RANGE.tx-e.RANGE.fx)*Math.random(),i.y=e.RANGE.fy+(e.RANGE.ty-e.RANGE.fy)*Math.random()}var n=e.ANIMATION_BUILD_KEY.scale;e.burner_1_l.x=e.ANIMATION_BUILD_KEY.x,e.burner_1_l.y=e.ANIMATION_BUILD_KEY.y,e.burner_1_l.scale.set(n,n),e.burner_1_l.rotation=e.ANIMATION_BUILD_KEY.rotation})},e.prototype.__AnimationFireEnd__=function(t){for(var e=this,i=0;i<this.kiraAnimations.length;i++)this.kiraAnimations[i].stop();var n=1e3/this.FPS,o=createjs.Tween.get(this.ANIMATION_BUILD_KEY);o.to({x:3.3,y:-10.65,width:38.6,height:17.15,scale:.18,rotation:0},2*n).to({x:3.3,y:-10.65,scale:0,rotation:0}).call(function(){o.removeAllEventListeners("change"),o.setPaused(!0),e.burner_1_l.scale.set(0,0),t()}).addEventListener("change",function(){var t=e.ANIMATION_BUILD_KEY.scale;e.burner_1_l.scale.set(t,t)})},e.prototype.__AnimationFireWave__=function(t,e,i){var n=this,o=2e3/this.FPS,r=Math.PI/180;this.ANIMATION_BUILD_KEY.fireProgress=0;var s=createjs.Tween.get(this.ANIMATION_BUILD_KEY);s.to({fireProgress:1},t).call(function(){createjs.Tween.removeTweens(n.ANIMATION_BUILD_KEY),s.setPaused(!0),i()}).addEventListener("change",function(){var t=n.ANIMATION_BUILD_KEY.fireProgress;e(t)}),createjs.Tween.get(this.ANIMATION_BUILD_KEY,{loop:!0}).to({x:4.425,y:-8.4,rotation:-5.4841*r},2*o).to({x:4.425,y:-8.325,rotation:-.3*r},2*o).to({x:4.5,y:-8.025,rotation:4.7*r},2*o).to({x:4.425,y:-8.625,rotation:1.5*r},2*o).to({x:4.5,y:-8.25,rotation:0},2*o).to({x:4.425,y:-8.4,rotation:-5.5*r},2*o).to({x:4.425,y:-8.325,rotation:-.3*r},2*o).to({x:4.5,y:-8.025,rotation:4.7*r},2*o).to({x:4.5,y:-8.25,rotation:0*r},2*o).to({x:4.425,y:-8.4,rotation:-5.5*r},2*o).to({x:4.425,y:-8.625,rotation:1.5*r},2*o).to({x:4.5,y:-8.25,rotation:0},2*o).to({x:4.425,y:-8.4,rotation:-5.5*r},2*o).to({x:4.425,y:-8.325,rotation:-.3*r},2*o).to({x:4.5,y:-8.025,rotation:4.7*r},2*o).to({x:4.5,y:-8.25,rotation:0*r},2*o).to({x:4.425,y:-8.4,rotation:-5.5*r},2*o).to({x:4.425,y:-8.625,rotation:1.5*r},2*o).to({x:4.5,y:-8.25,rotation:0},2*o).to({x:4.425,y:-8.4,rotation:-5.5*r},2*o).to({x:4.425,y:-8.325,rotation:-.3*r},2*o).to({x:4.5,y:-8.025,rotation:4.7*r},2*o).to({x:4.5,y:-8.25,rotation:0*r},2*o).to({x:4.425,y:-8.4,rotation:-5.5*r},2*o).to({x:4.425,y:-8.625,rotation:1.5*r},2*o).to({x:4.5,y:-8.25,rotation:0},2*o).to({x:4.425,y:-8.4,rotation:-5.5*r},2*o).to({x:4.425,y:-8.325,rotation:-.3*r},2*o).to({x:4.5,y:-8.025,rotation:4.7*r},2*o).to({x:4.5,y:-8.25,rotation:0*r},2*o).to({x:4.425,y:-8.4,rotation:-5.5*r},2*o).to({x:4.425,y:-8.625,rotation:1.5*r},2*o).to({x:4.5,y:-8.25,rotation:0},2*o).to({x:4.425,y:-8.4,rotation:-5.5*r},2*o).to({x:4.425,y:-8.325,rotation:-.3*r},2*o).to({x:4.5,y:-8.025,rotation:4.7*r},2*o).to({x:4.5,y:-8.25,rotation:0*r},2*o).to({x:4.425,y:-8.4,rotation:-5.5*r},2*o).to({x:4.425,y:-8.625,rotation:1.5*r},2*o).to({x:4.5,y:-8.25,rotation:0},2*o).to({x:4.425,y:-8.4,rotation:-5.5*r},2*o).to({x:4.425,y:-8.325,rotation:-.3*r},2*o).to({x:4.5,y:-8.025,rotation:4.7*r},2*o).to({x:4.5,y:-8.25,rotation:0*r},2*o).to({x:4.425,y:-8.4,rotation:-5.5*r},2*o).to({x:4.425,y:-8.325,rotation:-.3*r},2*o).to({x:4.5,y:-8.025,rotation:4.7*r},2*o).to({x:4.425,y:-8.625,rotation:1.5*r},2*o).addEventListener("change",function(){for(var t=0;t<n.kiraAnimations.length;t++){var e=n.kiras[t];e.x=n.RANGE.fx+(n.RANGE.tx-n.RANGE.fx)*Math.random(),e.y=n.RANGE.fy+(n.RANGE.ty-n.RANGE.fy)*Math.random()}var i=n.ANIMATION_BUILD_KEY.scale;n.burner_1_l.x=n.ANIMATION_BUILD_KEY.x,n.burner_1_l.y=n.ANIMATION_BUILD_KEY.y,n.burner_1_l.scale.set(i,i),n.burner_1_l.rotation=n.ANIMATION_BUILD_KEY.rotation})},e.prototype.dispose=function(){createjs.Tween.removeTweens(this.ANIMATION_BUILD_KEY),createjs.Tween.removeTweens(this.ANIMATION_COMPLETE_KEY),createjs.Tween.removeTweens(this.ANIMATION_ENTER_KEY),this.effect.removeChildren(),this.kiraAnimations.forEach(function(t){t.dispose(),t=null}),this.kiras.forEach(function(t){null}),this.sprite=null,this.effect=null,this.burner_1_l=null,this.kiraAnimations=null,this.kiras=null,this.RANGE=null,this.syncAnimationKey=null,this.removeChildren()},e}(PIXI.Container);e.Burner=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(3),s=i(1),a=function(t){function e(e){var i=t.call(this)||this;return i.clickable=!1,i.hasKey=!1,i._onMouseOver=function(t){i.alert_dock_key_sprite.visible=i.confirm_dock_key_sprite.visible=!1,i.hasKey?i.confirm_dock_key_sprite.visible=!0:i.alert_dock_key_sprite.visible=!0},i._onClick=function(){i.hasKey||o.SE.play("248"),i.onClick()},i._onMouseOut=function(t){i.alert_dock_key_sprite.visible=i.confirm_dock_key_sprite.visible=!1},i.steelFrame_noDock_sprite=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(147)),i.alert_dock_key_sprite=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(71)),i.confirm_dock_key_sprite=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(72)),i.alert_dock_key_sprite.position.set(255,-15),i.confirm_dock_key_sprite.position.set(255,-15),i.alert_dock_key_sprite.visible=i.confirm_dock_key_sprite.visible=!1,i.steelFrame_noDock_sprite.interactive=i.steelFrame_noDock_sprite.buttonMode=!0,i.steelFrame_noDock_sprite.on(s.EventType.MOUSEOVER,i._onMouseOver),i.steelFrame_noDock_sprite.on(s.EventType.MOUSEOUT,i._onMouseOut),i.steelFrame_noDock_sprite.on(s.EventType.CLICK,i._onClick),i.addChild(i.steelFrame_noDock_sprite),e.addChild(i.alert_dock_key_sprite,i.confirm_dock_key_sprite),i.overlayer=e,i}return n(e,t),e.prototype.update=function(t,e){this.steelFrame_noDock_sprite.interactive=!1,t&&(this.steelFrame_noDock_sprite.interactive=!0),this.clickable=t,this.hasKey=e},e.prototype.hidePop=function(){this.alert_dock_key_sprite.visible=this.confirm_dock_key_sprite.visible=!1},e.prototype.dispose=function(){this.steelFrame_noDock_sprite.removeAllListeners(s.EventType.MOUSEOVER),this.steelFrame_noDock_sprite.removeAllListeners(s.EventType.MOUSEOUT),this.steelFrame_noDock_sprite.removeAllListeners(s.EventType.CLICK),this.overlayer.removeChildren(),this.onClick=null,this.steelFrame_noDock_sprite=null,this.alert_dock_key_sprite=null,this.confirm_dock_key_sprite=null,this.overlayer=null,this.removeChildren()},e}(PIXI.Container);e.NoDockView=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(886),r=i(3),s=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(45));return e.ship=new o.NormalBuildShip,i.position.set(57,82),e.ship.position.set(69,15),e.addChild(i,e.ship),e}return n(e,t),e.prototype.update=function(t){if(t<=0)this.ship.update(0);else{var e=Math.floor(this.phaseMax*t);0==e&&(e=1),this.ship.update(e)}},e.prototype.updatePhaseMax=function(t){this.phaseMax=t},e.prototype.forceComplete=function(){this.ship.update(this.phaseMax)},e.prototype.dispose=function(){this.ship.dispose(),this.ship=null,this.phaseMax=null,this.removeChildren()},e}(PIXI.Container);e.NormalBuildStage=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=function(t){function e(){var e=t.call(this)||this;return e.build_ship_00=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(52)),e.build_ship_01=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(53)),e.build_ship_02=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(54)),e.build_ship_03=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(55)),e.build_ship_04=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(56)),e.build_ship_00.alpha=0,e.build_ship_01.alpha=0,e.build_ship_02.alpha=0,e.build_ship_03.alpha=0,e.build_ship_04.alpha=0,e.addChild(e.build_ship_00,e.build_ship_01,e.build_ship_02,e.build_ship_03,e.build_ship_04),e}return n(e,t),e.prototype.update=function(t){switch(this.build_ship_00.alpha=0,this.build_ship_01.alpha=0,this.build_ship_02.alpha=0,this.build_ship_03.alpha=0,this.build_ship_04.alpha=0,t){case 1:this.build_ship_00.alpha=1,this.build_ship_01.alpha=0,this.build_ship_02.alpha=0,this.build_ship_03.alpha=0,this.build_ship_04.alpha=0;break;case 2:this.build_ship_00.alpha=1,this.build_ship_01.alpha=1,this.build_ship_02.alpha=0,this.build_ship_03.alpha=0,this.build_ship_04.alpha=0;break;case 3:this.build_ship_00.alpha=1,this.build_ship_01.alpha=1,this.build_ship_02.alpha=1,this.build_ship_03.alpha=0,this.build_ship_04.alpha=0;break;case 4:this.build_ship_00.alpha=1,this.build_ship_01.alpha=1,this.build_ship_02.alpha=1,this.build_ship_03.alpha=1,this.build_ship_04.alpha=0;break;case 5:this.build_ship_00.alpha=1,this.build_ship_01.alpha=1,this.build_ship_02.alpha=1,this.build_ship_03.alpha=1,this.build_ship_04.alpha=1}},e.prototype.dispose=function(){this.build_ship_00=null,this.build_ship_01=null,this.build_ship_02=null,this.build_ship_03=null,this.build_ship_04=null,this.removeChildren()},e}(PIXI.Container);e.NormalBuildShip=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(888),s=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(46));return e.ship=new r.LargeBuildShip,e.ship.position.set(22,13),i.position.set(12,82),e.addChild(i,e.ship),e}return n(e,t),e.prototype.updatePhaseMax=function(t){this.phaseMax=t},e.prototype.update=function(t){if(0==t)this.ship.update(0);else{var e=Math.floor(this.phaseMax*t);0==e&&(e=1),this.ship.update(e)}},e.prototype.forceComplete=function(){this.ship.update(this.phaseMax)},e.prototype.dispose=function(){this.ship.dispose(),this.ship=null,this.phaseMax=null,this.removeChildren()},e}(PIXI.Container);e.LargeBuildStage=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=function(t){function e(){var e=t.call(this)||this;return e.build_ship3_00=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(47)),e.build_ship3_01=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(48)),e.build_ship3_02=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(49)),e.build_ship3_03=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(50)),e.build_ship3_04=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(51)),e.build_ship3_00.alpha=0,e.build_ship3_01.alpha=0,e.build_ship3_02.alpha=0,e.build_ship3_03.alpha=0,e.build_ship3_04.alpha=0,e.addChild(e.build_ship3_00,e.build_ship3_01,e.build_ship3_02,e.build_ship3_03,e.build_ship3_04),e}return n(e,t),e.prototype.update=function(t){switch(this.build_ship3_00.alpha=0,this.build_ship3_01.alpha=0,this.build_ship3_02.alpha=0,this.build_ship3_03.alpha=0,this.build_ship3_04.alpha=0,t){case 1:this.build_ship3_00.alpha=1,this.build_ship3_01.alpha=0,this.build_ship3_02.alpha=0,this.build_ship3_03.alpha=0,this.build_ship3_04.alpha=0;break;case 2:this.build_ship3_00.alpha=1,this.build_ship3_01.alpha=1,this.build_ship3_02.alpha=0,this.build_ship3_03.alpha=0,this.build_ship3_04.alpha=0;break;case 3:this.build_ship3_00.alpha=1,this.build_ship3_01.alpha=1,this.build_ship3_02.alpha=1,this.build_ship3_03.alpha=0,this.build_ship3_04.alpha=0;break;case 4:this.build_ship3_00.alpha=1,this.build_ship3_01.alpha=1,this.build_ship3_02.alpha=1,this.build_ship3_03.alpha=1,this.build_ship3_04.alpha=0;break;case 5:this.build_ship3_00.alpha=1,this.build_ship3_01.alpha=1,this.build_ship3_02.alpha=1,this.build_ship3_03.alpha=1,this.build_ship3_04.alpha=1}},e.prototype.dispose=function(){this.build_ship3_00=null,this.build_ship3_01=null,this.build_ship3_02=null,this.build_ship3_03=null,this.build_ship3_04=null,this.removeChildren()},e}(PIXI.Container);e.LargeBuildShip=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(){var e=t.call(this)||this;e.limitShip=!1,e.limitSlot=!1,e.animation={progress:0},e._onClick=function(){0==(e.limitShip||e.limitSlot)&&e.onClick(e.kDockId)},e._onMouseOver=function(){e.popup.visible=!1,e.limitShip?e.popup.visible=!0:e.limitSlot&&(e.popup.visible=!0)},e._onMouseOut=function(){e.popup.visible=!1},e.popup=new PIXI.Sprite,e.buttonSprite=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(40)),e.popup.visible=!1;var i=Math.floor(100-e.buttonSprite.width/2),n=Math.floor(50-e.buttonSprite.height/2);return e.area=new PIXI.Graphics,e.area.beginFill(0,0),e.area.drawRect(-i,-n,200,100),e.area.endFill(),e.area.interactive=e.area.buttonMode=!0,e.area.on(r.EventType.CLICK,e._onClick),e.area.on(r.EventType.MOUSEOVER,e._onMouseOver),e.area.on(r.EventType.MOUSEOUT,e._onMouseOut),e.tween=createjs.Tween.get(e.animation,{loop:!0}).to({progress:0}).to({progress:1},750,createjs.Ease.quintOut).to({progress:0},850,createjs.Ease.quintIn),e.tween.addEventListener("change",function(){e.buttonSprite.alpha=.2+.8*e.animation.progress}),e.addChild(e.area,e.buttonSprite,e.popup),e}return n(e,t),e.prototype.updateCondition=function(t,e){this.popup.visible=!1,t?(this.popup.texture=o.ARSENAL_MAIN.getTexture(1),this.popup.position.set(-118,-72)):e&&(this.popup.texture=o.ARSENAL_MAIN.getTexture(69),this.popup.position.set(49,-33)),this.limitShip=t,this.limitSlot=e},e.prototype.dispose=function(){createjs.Tween.removeTweens(this.tween.target),this.area.off(r.EventType.CLICK),this.area.off(r.EventType.MOUSEOVER),this.area.off(r.EventType.MOUSEOUT),this.tween=null,this.onClick=null,this.popup=null,this.buttonSprite=null,this.kDockId=null,this.limitShip=null,this.limitSlot=null,this.animation=null,this.tween=null,this.area=null,this.removeChildren()},e}(PIXI.Container);e.GetButton=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(){var e=t.call(this)||this;e.limitShip=!1,e.limitSlot=!1,e._onClick=function(){0==(e.limitShip||e.limitSlot)&&e.onClick()},e._onMouseOver=function(){e.popup.visible=!1,e.limitShip?e.popup.visible=!0:e.limitSlot&&(e.popup.visible=!0)},e._onMouseOut=function(){e.popup.visible=!1},e.popup=new PIXI.Sprite,e.buttonSprite=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(41)),e.popup.visible=!1;var i=Math.floor(100-e.buttonSprite.width/2),n=Math.floor(50-e.buttonSprite.height/2);return e.area=new PIXI.Graphics,e.area.beginFill(0,0),e.area.drawRect(-i,-n,200,100),e.area.endFill(),e.area.interactive=e.area.buttonMode=!0,e.area.on(r.EventType.CLICK,e._onClick),e.area.on(r.EventType.MOUSEOVER,e._onMouseOver),e.area.on(r.EventType.MOUSEOUT,e._onMouseOut),e.addChild(e.area,e.buttonSprite,e.popup),e}return n(e,t),e.prototype.updateCondition=function(t,e){this.popup.visible=!1,t?(this.popup.texture=o.ARSENAL_MAIN.getTexture(2),this.popup.position.set(-61,-90)):e&&(this.popup.texture=o.ARSENAL_MAIN.getTexture(68),this.popup.position.set(49,-33)),this.limitShip=t,this.limitSlot=e},e.prototype.dispose=function(){this.area.off(r.EventType.CLICK),this.area.off(r.EventType.MOUSEOVER),this.area.off(r.EventType.MOUSEOUT),this.onClick=null,this.popup=null,this.buttonSprite=null,this.limitShip=null,this.limitSlot=null,this.area=null,this.removeChildren()},e}(PIXI.Container);e.SelectButton=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(35),r=i(4),s=i(25),a=function(t){function e(){var e=t.call(this)||this;e.completeTime=0,e.now=0,e.timeCounter=new r.TextBox(31,5523516),e.textBuildState=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(60));var i=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(154));return i.anchor.x=.5,i.position.set(75,10),e.textBuildState.position.set(21,-33),e.timeCounter.position.set(5,39),e.timeCounter.text=s.MathUtil.timeToString(0),e.addChild(e.timeCounter,e.textBuildState,i),e}return n(e,t),e.prototype.build=function(t){this.timeCounter.alpha=1,this.completeTime=t,this.textBuildState.texture=o.ARSENAL_MAIN.getTexture(58)},e.prototype.standby=function(){this.timeCounter.alpha=.5,this.textBuildState.texture=o.ARSENAL_MAIN.getTexture(60)},e.prototype.complete=function(){this.timeCounter.text=s.MathUtil.timeToString(0),this.textBuildState.texture=o.ARSENAL_MAIN.getTexture(59)},e.prototype.update=function(t){var e=this.completeTime-t;e<0&&(e=0),this.timeCounter.text=s.MathUtil.timeToString(e)},e.prototype.updateProgress=function(t,e,i){var n=t-e;n<0&&(n=0),n*=1-i,this.timeCounter.text=s.MathUtil.timeToString(n)},e.prototype.dispose=function(){this.removeChildren(),this.timeCounter.destroy(),this.textBuildState=null,this.timeCounter=null,this.completeTime=null,this.now=null,this.removeChildren()},e}(PIXI.Container);e.KDockStateView=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(8),s=i(893),a=function(t){function e(){var e=t.call(this,.8)||this;return e.alpha=0,e}return n(e,t),e.prototype.show=function(t){this.removeChildren(),this.largeBuildConfirm=new s.LargeBuildConfirm(t),this.addChild(this.largeBuildConfirm),o.default.view.clickGuard=!0,createjs.Tween.get(this).to({alpha:1},250).call(function(){o.default.view.clickGuard=!1})},e.prototype.hide=function(t){createjs.Tween.get(this).to({alpha:0},250).call(function(){t()})},e.prototype.dispose=function(){createjs.Tween.removeTweens(this),this.removeChildren(),this.largeBuildConfirm.dispose(),this.largeBuildConfirm=null},e}(r.AreaBox);e.LargeBuildConfirmContainer=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(35),s=function(t){function e(e){var i=t.call(this)||this;i._onClickYes=function(){i._cb_onComplete(!0)},i._onClickNo=function(){i._cb_onComplete(!1)},i._cb_onComplete=e;var n=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(79));return n.position.set(271,87),i.addChild(n),i._btn_yes=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(39)),i._btn_yes.interactive=!0,i._btn_yes.buttonMode=!0,i._btn_yes.position.set(435,505),i.addChild(i._btn_yes),i._btn_no=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(35)),i._btn_no.interactive=!0,i._btn_no.buttonMode=!0,i._btn_no.position.set(615,505),i.addChild(i._btn_no),i._btn_yes.on(o.EventType.CLICK,i._onClickYes),i._btn_no.on(o.EventType.CLICK,i._onClickNo),i}return n(e,t),e.prototype.dispose=function(){this._btn_yes.off(o.EventType.CLICK,this._onClickYes),this._btn_no.off(o.EventType.CLICK,this._onClickNo),this._cb_onComplete=null,this.removeChildren()},e}(PIXI.Container);e.LargeBuildConfirm=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(1),a=i(49),_=i(8),l=i(116),u=i(4),c=i(21),h=i(35),p=i(90),d=i(895),f=i(343),y=i(345),m=function(t){function e(e){var i=t.call(this)||this;i._onMouseOutKenzoOff=function(){i.huki1.visible=!1},i._onMouseOverKenzoOff=function(){i.huki1.visible=!0},i._onChangeValue=function(){var t=i.fuel,e=i.ammo,n=i.steel,o=i.bauxite,r=i.devKit,s=i.buildKit;p.Util.BuildValidation(t,e,n,o,r,s)?i.update(!0):i.update(!1)},i._onClickShop=function(){i._cb_onGoToShop()},i._onClickLarge=function(){i._cb_onGoToLargeBuild()},i._onClickBuild=function(){i._cb_onComplete(!0)},i._onClickBack=function(){i._cb_onComplete(!1)},i.mainView=e;var n=new PIXI.Sprite(c.COMMON_MAIN.getTexture(12));n.interactive=!0,i.addChild(n),i.configureMaterialView_fuel=new f.MaterialAmountView(31,30,999),i.configureMaterialView_ammo=new f.MaterialAmountView(32,30,999),i.configureMaterialView_steel=new f.MaterialAmountView(33,30,999),i.configureMaterialView_bauxite=new f.MaterialAmountView(34,30,999),i.highSpeedToggle=new d.HighSpeedToggle,i.btn_great_off=new l.SimpleButton(h.ARSENAL_MAIN.getTexture(18),h.ARSENAL_MAIN.getTexture(18)),i.btn_kenzo=new l.SimpleButton(h.ARSENAL_MAIN.getTexture(31),h.ARSENAL_MAIN.getTexture(33));var r=new PIXI.Sprite(h.ARSENAL_MAIN.getTexture(32)),m=new PIXI.Sprite(h.ARSENAL_MAIN.getTexture(139)),g=new PIXI.Sprite(h.ARSENAL_MAIN.getTexture(156)),v=new PIXI.Sprite(h.ARSENAL_MAIN.getTexture(153)),b=new PIXI.Sprite(h.ARSENAL_MAIN.getTexture(74)),w=new PIXI.Sprite(h.ARSENAL_MAIN.getTexture(73));i.huki1=new PIXI.Sprite(h.ARSENAL_MAIN.getTexture(66)),i.textDevKitBefore=new u.TextBox(24,5523516),i.textDevKitAfter=new u.TextBox(24,5523516),i.shopButton=new y.ShopButton,i.textDevKitBefore.anchor.x=1,i.textDevKitAfter.anchor.x=0,r.position.set(532,486),i.btn_kenzo.position.set(532,486),i.textDevKitBefore.position.set(591,438),i.textDevKitAfter.position.set(619,438),i.configureMaterialView_fuel.position.set(60,33),i.configureMaterialView_ammo.position.set(60,228),i.configureMaterialView_steel.position.set(402,33),i.configureMaterialView_bauxite.position.set(402,228),i.highSpeedToggle.position.set(207,435),b.position.set(394,441),w.position.set(594,442),m.position.set(60,426),g.position.set(424,442),v.position.set(78,439),i.btn_great_off.position.set(60,492),i.huki1.position.set(84,441),i.shopButton.position.set(473,496),i.configureMaterialView_fuel.onChangeValue=i._onChangeValue,i.configureMaterialView_ammo.onChangeValue=i._onChangeValue,i.configureMaterialView_steel.onChangeValue=i._onChangeValue,i.configureMaterialView_bauxite.onChangeValue=i._onChangeValue,i.shopButton.onClick=i._onClickShop,i.btn_kenzo.on(s.EventType.CLICK,i._onClickBuild),i.btn_great_off.onMouseOut=i._onMouseOutKenzoOff,i.btn_great_off.onMouseOver=i._onMouseOverKenzoOff,i.huki1.visible=!1,i.shopButton.play(),i.addChild(i.configureMaterialView_fuel,i.configureMaterialView_ammo,i.configureMaterialView_steel,i.configureMaterialView_bauxite,m,r,i.btn_great_off,g,v,b,w,i.highSpeedToggle,i.textDevKitBefore,i.textDevKitAfter,i.btn_kenzo),i.btn_great=new PIXI.Sprite(h.ARSENAL_MAIN.getTexture(17)),i.btn_great.interactive=!0,i.btn_great.buttonMode=!0,i.btn_great.position.set(60,492),i.addChild(i.btn_great),i.addChild(i.huki1,i.shopButton);var x=new PIXI.Sprite(c.COMMON_MAIN.getTexture(64)),I=new PIXI.Sprite(h.ARSENAL_MAIN.getTexture(5));i.position.set(1200,139),i.addChild(x),I.anchor.set(0,.5),I.position.set(22,Math.floor(x.height/2-4)),x.addChild(I),x.position.set(0,-37),x.addChild(I);return i.dialogBackground=new _.AreaBox(a.UISettings.DIALOG_BG_ALPHA),i.dialogBackground.alpha=0,i.dialogBackground.position.set(0,103),i.dialogBackground.height=o.default.height-103,i.mainView.addChild(i.dialogBackground),i.mainView.addChild(i),i.btn_great.on(s.EventType.CLICK,i._onClickLarge),i.dialogBackground.on(s.EventType.CLICK,i._onClickBack),i}return n(e,t),Object.defineProperty(e.prototype,"fuel",{get:function(){return this.configureMaterialView_fuel.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ammo",{get:function(){return this.configureMaterialView_ammo.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"steel",{get:function(){return this.configureMaterialView_steel.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bauxite",{get:function(){return this.configureMaterialView_bauxite.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buildKit",{get:function(){return 1==this.highSpeedToggle.state?1:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"devKit",{get:function(){return 1},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.removeChildren(),this.mainView.removeChild(this.dialogBackground),this.mainView.removeChild(this),this.btn_great.off(s.EventType.CLICK,this._onClickLarge),this.dialogBackground.off(s.EventType.CLICK,this._onClickBack),this._cb_onComplete=null,this._cb_onGoToLargeBuild=null,this._cb_onGoToShop=null,this.highSpeedToggle.dispose(),this.configureMaterialView_fuel.dispose(),this.configureMaterialView_ammo.dispose(),this.configureMaterialView_steel.dispose(),this.configureMaterialView_bauxite.dispose(),this.btn_great_off.dispose(),this.btn_kenzo.dispose(),this.shopButton.dispose(),this.textDevKitBefore.destroy(),this.textDevKitAfter.destroy(),this.configureMaterialView_fuel.onChangeValue=this._onChangeValue=null,this.configureMaterialView_ammo.onChangeValue=this._onChangeValue=null,this.configureMaterialView_steel.onChangeValue=this._onChangeValue=null,this.configureMaterialView_bauxite.onChangeValue=this._onChangeValue=null,this.shopButton.onClick=this._onClickShop=null,this.btn_kenzo.onClick=this._onClickBuild=null,this.highSpeedToggle=null,this.configureMaterialView_fuel=null,this.configureMaterialView_ammo=null,this.configureMaterialView_steel=null,this.configureMaterialView_bauxite=null,this.textDevKitBefore=null,this.textDevKitAfter=null,this.btn_great=null,this.btn_kenzo=null,this.shopButton=null,this.btn_great_off.onClick=this.btn_great_off.onMouseOut=this.btn_great_off.onMouseOver=null,this.btn_great_off=null,this.huki1=null,this.dialogBackground=null},e.prototype.play=function(t,e,i,n,o,s,a){var _=this;this._cb_onComplete=o,this._cb_onGoToLargeBuild=s,this._cb_onGoToShop=a;var l=r.default.model.useItem.get(31).count,u=r.default.model.useItem.get(32).count,c=r.default.model.useItem.get(33).count,h=r.default.model.useItem.get(34).count,d=r.default.model.useItem.get(3).count,f=r.default.model.useItem.get(2).count,y=p.Util.BuildValidation(e.fuel,e.ammo,e.steel,e.baux,1,e.buildKit),m=0<f;if(this.configureMaterialView_fuel.setAvail(l),this.configureMaterialView_ammo.setAvail(u),this.configureMaterialView_steel.setAvail(c),this.configureMaterialView_bauxite.setAvail(h),this.textDevKitBefore.text=d.toString(),this.textDevKitAfter.style.fill=12467003,this.textDevKitAfter.text="0",0<=d-1&&(this.textDevKitAfter.style.fill=5523516,this.textDevKitAfter.text=(d-1).toString()),this.btn_great_off.visible=!1,this.btn_great.visible=!1,n?this.btn_great.visible=!0:this.btn_great_off.visible=!0,this.configureMaterialView_fuel.updateValue(e.fuel),this.configureMaterialView_ammo.updateValue(e.ammo),this.configureMaterialView_steel.updateValue(e.steel),this.configureMaterialView_bauxite.updateValue(e.baux),this.highSpeedToggle.changeToggleState(0<f),this.highSpeedToggle.update(m),0==m&&this.highSpeedToggle.changeToggleState(!1),this.update(y),i){r.default.view.clickGuard=!0;var g={progress:0},v=createjs.Tween.get(g).to({progress:1},200).call(function(){_.x=412,v.removeAllEventListeners("change"),_.dialogBackground.width=444,r.default.view.clickGuard=!1});v.addEventListener("change",function(){_.x=1200-788*g.progress,_.dialogBackground.alpha=g.progress}),v.play(null)}else this.x=412;this.kDockId=t},e.prototype.hide=function(t){var e=this;this.dialogBackground.width=o.default.width;var i={progress:0},n=createjs.Tween.get(i);n.to({progress:1},200).call(function(){e.x=1200,n.removeAllEventListeners("change"),createjs.Tween.removeTweens(n.target),t()}),n.addEventListener("change",function(){e.x=412+788*i.progress,e.dialogBackground.alpha=1-i.progress}),n.play(null)},e.prototype.update=function(t){this.btn_kenzo.visible=!!t},e}(PIXI.Container);e.MaterialAmountContainerShip=m},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(35),r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e._state=!1,e.animationParams={progress:0},e._onClick=function(){null!=e.tween&&e.tween.setPaused(!0),e.tween=null;var t=0;switch(e._state){case!1:e._state=!0,t=0;break;case!0:e._state=!1,t=1}var i=createjs.Tween.get(e.animationParams);i.to({progress:t},300).on("change",function(){.5<e.animationParams.progress?e.background_on.visible=!1:e.background_on.visible=!0,e.toggle.x=3+103*e.animationParams.progress}),i.play(null),e.tween=i},e.toggle=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(150)),e.background_off=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(151)),e.background_on=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(152)),e.background_off.on(r.EventType.CLICK,e._onClick),e.toggle.position.set(106,0),e.addChild(e.background_off,e.background_on,e.toggle),e}return n(e,t),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype.update=function(t){null!=this.tween&&this.tween.setPaused(!0),this.tween=null,this._state=!1,this.toggle.position.set(106,0),this.background_off.interactive=this.background_off.buttonMode=!!t,this.background_on.visible=!1,this.animationParams.progress=1},e.prototype.changeToggleState=function(t){switch(null!=this.tween&&this.tween.setPaused(!0),this.tween=null,this.toggle.x=3,this.background_on.visible=!1,t){case!0:this.toggle.x=3,this.animationParams.progress=0,this.background_on.visible=!0;break;case!1:this.toggle.x=106,this.animationParams.progress=1,this.background_on.visible=!1}this._state=t},e.prototype.dispose=function(){null!=this.tween&&this.tween.setPaused(!0),this.removeChildren(),this.background_off=null,this.background_on=null,this.toggle=null,this.tween=null},e}(PIXI.Container);e.HighSpeedToggle=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o,r=i(0),s=i(1),a=i(49),_=i(8),l=i(116),u=i(4),c=i(21),h=i(35),p=i(90),d=i(897);!function(t){t[t.CANCEL=0]="CANCEL",t[t.CHANGE_NORMAL=1]="CHANGE_NORMAL",t[t.START=2]="START"}(o=e.Result||(e.Result={}));var f=function(t){function e(e){var i=t.call(this)||this;i._onClickNormal=function(){i.onComplete(o.CHANGE_NORMAL)},i._onClickBuild=function(){i.onComplete(o.START)},i._onChangeValue=function(){var t=i.fuel,e=i.ammo,n=i.steel,o=i.bauxite,r=i.devKit,s=i.buildKit,a=p.Util.BuildValidation(t,e,n,o,r,s);i.update(a)},i._onClickBack=function(){i.onComplete(o.CANCEL)},i.mainView=e,i.configureMaterialView_fuel=new d.LargeConfigureMaterialView(31,1500,7e3),i.configureMaterialView_ammo=new d.LargeConfigureMaterialView(32,1500,7e3),i.configureMaterialView_steel=new d.LargeConfigureMaterialView(33,2e3,7e3),i.configureMaterialView_bauxite=new d.LargeConfigureMaterialView(34,1e3,7e3),i.btn_kenzou=new l.SimpleButton(h.ARSENAL_MAIN.getTexture(31),h.ARSENAL_MAIN.getTexture(33));var n=new PIXI.Sprite(h.ARSENAL_MAIN.getTexture(32)),r=new PIXI.Sprite(h.ARSENAL_MAIN.getTexture(18)),f=new PIXI.Sprite(h.ARSENAL_MAIN.getTexture(64));i.configureMaterialView_fuel.onChangeValue=i._onChangeValue,i.configureMaterialView_ammo.onChangeValue=i._onChangeValue,i.configureMaterialView_steel.onChangeValue=i._onChangeValue,i.configureMaterialView_bauxite.onChangeValue=i._onChangeValue,f.interactive=!0,n.position.set(532,486),i.btn_kenzou.position.set(532,486),i.configureMaterialView_fuel.position.set(60,33),i.configureMaterialView_ammo.position.set(60,228),i.configureMaterialView_steel.position.set(402,33),i.configureMaterialView_bauxite.position.set(402,228),r.position.set(60,492),i.btn_kenzou.on(s.EventType.CLICK,i._onClickBuild);var g=new PIXI.Sprite(c.COMMON_MAIN.getTexture(64));g.position.set(0,-37);var v=new PIXI.Sprite(h.ARSENAL_MAIN.getTexture(5));return v.anchor.set(0,.5),v.position.set(22,Math.floor(g.height/2-4)),i.addChild(f,i.configureMaterialView_fuel,i.configureMaterialView_ammo,i.configureMaterialView_steel,i.configureMaterialView_bauxite,n,r),i._buildKitSwitch=new y(i._onChangeValue),i._buildKitSwitch.position.set(229,427),i.addChild(i._buildKitSwitch),i._devKitSwitch=new m(i._onChangeValue),i._devKitSwitch.position.set(547,427),i.addChild(i._devKitSwitch),i.textDevKitBefore=new u.TextBox(24,5523516),i.textDevKitBefore.anchor.x=1,i.textDevKitBefore.position.set(591,438),i.addChild(i.textDevKitBefore),i.textDevKitAfter=new u.TextBox(24,12467003),i.textDevKitAfter.position.set(619,438),i.addChild(i.textDevKitAfter),i.addChild(i.btn_kenzou),i._btnToNormal=new PIXI.Sprite(h.ARSENAL_MAIN.getTexture(37)),i._btnToNormal.interactive=!0,i._btnToNormal.buttonMode=!0,i._btnToNormal.position.set(60,492),i.addChild(i._btnToNormal),i.addChild(g),i.position.set(1200,139),g.addChild(v),i.dialogBackground=new _.AreaBox(a.UISettings.DIALOG_BG_ALPHA),i.mainView.addChild(i.dialogBackground),i.mainView.addChild(i),i._btnToNormal.on(s.EventType.CLICK,i._onClickNormal),i.dialogBackground.on(s.EventType.CLICK,i._onClickBack),i}return n(e,t),Object.defineProperty(e.prototype,"fuel",{get:function(){return this.configureMaterialView_fuel.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ammo",{get:function(){return this.configureMaterialView_ammo.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"steel",{get:function(){return this.configureMaterialView_steel.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bauxite",{get:function(){return this.configureMaterialView_bauxite.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"devKit",{get:function(){return this._devKitSwitch.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buildKit",{get:function(){return this._buildKitSwitch.value},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.removeChildren(),this._btnToNormal.off(s.EventType.CLICK,this._onClickNormal),this.dialogBackground.off(s.EventType.CLICK,this._onClickBack),this.mainView.removeChild(this.dialogBackground),this.mainView.removeChild(this),this.configureMaterialView_fuel.dispose(),this.configureMaterialView_ammo.dispose(),this.configureMaterialView_steel.dispose(),this.configureMaterialView_bauxite.dispose(),this._devKitSwitch.dispose(),this._buildKitSwitch.dispose(),this.btn_kenzou.dispose(),this.textDevKitBefore.destroy(),this.textDevKitAfter.destroy(),this.configureMaterialView_fuel=null,this.configureMaterialView_ammo=null,this.configureMaterialView_steel=null,this.configureMaterialView_bauxite=null,this.btn_kenzou=null,this.onComplete=null,this.mainView=null,this.dialogBackground=null,this.textDevKitBefore=null,this.textDevKitAfter=null},e.prototype.initialize=function(t,e,i,n,o,r){this.configureMaterialView_fuel.setAvail(t),this.configureMaterialView_ammo.setAvail(e),this.configureMaterialView_steel.setAvail(i),this.configureMaterialView_bauxite.setAvail(n)},e.prototype.play=function(t,e,i,n,o,s){var a=r.default.model.useItem.get(31).count,_=r.default.model.useItem.get(32).count,l=r.default.model.useItem.get(33).count,u=r.default.model.useItem.get(34).count,c=r.default.model.useItem.get(3).count,h=r.default.model.useItem.get(2).count,d=p.Util.BuildValidation(t,e,i,n,o,s);this.update(d),this.initialize(a,_,l,u,c,h),this.configureMaterialView_fuel.updateValue(t),this.configureMaterialView_ammo.updateValue(e),this.configureMaterialView_steel.updateValue(i),this.configureMaterialView_bauxite.updateValue(n),this._buildKitSwitch.enable=h>=10,this._buildKitSwitch.update(0),this._devKitSwitch.update(1),this.x=412},e.prototype.hide=function(t){var e=this,i={progress:0},n=createjs.Tween.get(i);n.to({progress:1},250).call(function(){e.x=1200,n.removeAllEventListeners("change"),t()}),n.addEventListener("change",function(){e.x=412+788*i.progress,e.dialogBackground.alpha=1-i.progress}),n.play(null)},e.prototype.update=function(t){this.btn_kenzou.visible=!1,t&&(this.btn_kenzou.visible=!0)},e}(PIXI.Container);e.LargeConfigureMaterialContainer=f;var y=function(t){function e(e){var i=t.call(this,h.ARSENAL_MAIN.getTexture(148))||this;return i._enable=!0,i._onClick000=function(){i.update(0),i._cb_onChange()},i._onClick010=function(){i.update(10),i._cb_onChange()},i._cb_onChange=null==e?function(){}:e,i._toggle000=new PIXI.Sprite(h.ARSENAL_MAIN.getTexture(150)),i._toggle000.interactive=!0,i._toggle000.buttonMode=!0,i._toggle000.position.set(6,13),i.addChild(i._toggle000),i._toggle010=new PIXI.Sprite(h.ARSENAL_MAIN.getTexture(150)),i._toggle010.interactive=!0,i._toggle010.buttonMode=!0,i._toggle010.position.set(84,13),i.addChild(i._toggle010),i.update(0),i._toggle000.on(s.EventType.CLICK,i._onClick000),i._toggle010.on(s.EventType.CLICK,i._onClick010),i}return n(e,t),Object.defineProperty(e.prototype,"enable",{set:function(t){this._enable=t,this._enable?(this._toggle000.buttonMode=0!=this._value,this._toggle010.buttonMode=10!=this._value):(this._value=0,this._toggle000.buttonMode=!1,this._toggle010.buttonMode=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._toggle000.off(s.EventType.CLICK,this._onClick000),this._toggle010.off(s.EventType.CLICK,this._onClick010),this._toggle000=null,this._toggle010=null,this._cb_onChange=null,this.removeChildren()},e.prototype.update=function(t){switch(0==this._enable&&(t=0),this._value=t,this._toggle000.alpha=0,this._toggle010.alpha=0,this._toggle000.buttonMode=!0,this._toggle010.buttonMode=!0,t){case 0:this._toggle000.alpha=1,this._toggle000.buttonMode=!1;break;case 10:this._toggle010.alpha=1,this._toggle010.buttonMode=!1}},e}(PIXI.Sprite),m=function(t){function e(e){var i=t.call(this,h.ARSENAL_MAIN.getTexture(149))||this;return i._onClick001=function(){i.update(1),i._cb_onChange()},i._onClick020=function(){i.update(20),i._cb_onChange()},i._onClick100=function(){i.update(100),i._cb_onChange()},i._cb_onChange=null==e?function(){}:e,i._toggle001=new PIXI.Sprite(h.ARSENAL_MAIN.getTexture(150)),i._toggle001.interactive=!0,i._toggle001.buttonMode=!0,i._toggle001.position.set(0,13),i.addChild(i._toggle001),i._toggle020=new PIXI.Sprite(h.ARSENAL_MAIN.getTexture(150)),i._toggle020.interactive=!0,i._toggle020.buttonMode=!0,i._toggle020.position.set(54,13),i.addChild(i._toggle020),i._toggle100=new PIXI.Sprite(h.ARSENAL_MAIN.getTexture(150)),i._toggle100.interactive=!0,i._toggle100.buttonMode=!0,i._toggle100.position.set(108,13),i.addChild(i._toggle100),i.update(1),i._toggle001.on(s.EventType.CLICK,i._onClick001),i._toggle020.on(s.EventType.CLICK,i._onClick020),i._toggle100.on(s.EventType.CLICK,i._onClick100),i}return n(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._toggle001.off(s.EventType.CLICK,this._onClick001),this._toggle020.off(s.EventType.CLICK,this._onClick020),this._toggle100.off(s.EventType.CLICK,this._onClick100),this._toggle001=null,this._toggle020=null,this._toggle100=null,this._cb_onChange=null,this.removeChildren()},e.prototype.update=function(t){switch(this._value=t,this._toggle001.alpha=0,this._toggle020.alpha=0,this._toggle100.alpha=0,this._toggle001.buttonMode=!0,this._toggle020.buttonMode=!0,this._toggle100.buttonMode=!0,t){case 1:this._toggle001.alpha=1,this._toggle001.buttonMode=!1;break;case 20:this._toggle020.alpha=1,this._toggle020.buttonMode=!1;break;case 100:this._toggle100.alpha=1,this._toggle100.buttonMode=!1}},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(35),s=i(344),a=i(90),_=function(t){function e(e,i,n){var a=t.call(this)||this;a._value=0,a.avail=0,a._onClick10Up=function(){a.up(a._value+10),a.onChangeValue()},a._onClick100Up=function(){a.up(a._value+100),a.onChangeValue()},a._onClick1000Up=function(){a.up(a._value+1e3),a.onChangeValue()},a._onClick10Down=function(){a.down(a._value-10),a.onChangeValue()},a._onClick100Down=function(){a.down(a._value-100),a.onChangeValue()},a._onClick1000Down=function(){a.down(a._value-1e3),a.onChangeValue()},a._onClickReset=function(){a.updateValue(a._min)},a._onClickMax=function(){var t=Math.min(a.avail,a._max);t<a._min&&(t=a._min),a.updateValue(t),a.onChangeValue()},a._min=i,a._max=n;var _=new s.MaterialIconText;a.n_1000=new PIXI.Sprite,a.n_100=new PIXI.Sprite,a.n_10=new PIXI.Sprite,a.n_1=new PIXI.Sprite;var l=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(82)),u=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(16)),c=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(16)),h=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(11)),p=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(11));return a.n_1000.position.set(31,88),a.n_100.position.set(58,88),a.n_10.position.set(85,88),a.n_1.position.set(112,88),_.position.set(7,7),u.position.set(183,13),c.position.set(183,54),h.position.set(274,13),p.position.set(274,54),_.update(e),a.addChild(l,_,a.n_1000,a.n_100,a.n_10,a.n_1),a.btn_sozai_up=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(43)),a.btn_sozai_up.interactive=!0,a.btn_sozai_up.buttonMode=!0,a.btn_sozai_up.position.set(78,48),a.addChild(a.btn_sozai_up),a.btn_sozai_down=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(42)),a.btn_sozai_down.interactive=!0,a.btn_sozai_down.buttonMode=!0,a.btn_sozai_down.position.set(78,150),a.addChild(a.btn_sozai_down),a.addChild(u,c,h,p),a._btnReset=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(38)),a._btnReset.interactive=!0,a._btnReset.buttonMode=!0,a._btnReset.position.set(187,99),a.addChild(a._btnReset),a._btnMax=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(34)),a._btnMax.interactive=!0,a._btnMax.buttonMode=!0,a._btnMax.position.set(187,139),a.addChild(a._btnMax),a.minus100=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(15)),a.minus100.interactive=!0,a.minus100.buttonMode=!0,a.minus100.position.set(183,13),a.addChild(a.minus100),a.minus1000=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(15)),a.minus1000.interactive=!0,a.minus1000.buttonMode=!0,a.minus1000.position.set(183,54),a.addChild(a.minus1000),a.plus100=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(10)),a.plus100.interactive=!0,a.plus100.buttonMode=!0,a.plus100.position.set(274,13),a.addChild(a.plus100),a.plus1000=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(10)),a.plus1000.interactive=!0,a.plus1000.buttonMode=!0,a.plus1000.position.set(274,54),a.addChild(a.plus1000),a.btn_sozai_up.on(o.EventType.CLICK,a._onClick10Up),a.btn_sozai_down.on(o.EventType.CLICK,a._onClick10Down),a._btnReset.on(o.EventType.CLICK,a._onClickReset),a._btnMax.on(o.EventType.CLICK,a._onClickMax),a.minus100.on(o.EventType.CLICK,a._onClick100Down),a.minus1000.on(o.EventType.CLICK,a._onClick1000Down),a.plus100.on(o.EventType.CLICK,a._onClick100Up),a.plus1000.on(o.EventType.CLICK,a._onClick1000Up),a}return n(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.btn_sozai_up.off(o.EventType.CLICK,this._onClick100Up),this.btn_sozai_down.off(o.EventType.CLICK,this._onClick10Down),this._btnReset.off(o.EventType.CLICK,this._onClickReset),this._btnMax.off(o.EventType.CLICK,this._onClickMax),this.minus100.off(o.EventType.CLICK,this._onClick100Down),this.minus1000.off(o.EventType.CLICK,this._onClick1000Down),this.plus100.off(o.EventType.CLICK,this._onClick100Up),this.plus1000.off(o.EventType.CLICK,this._onClick1000Up),this.n_1000.texture=PIXI.Texture.EMPTY,this.n_100.texture=PIXI.Texture.EMPTY,this.n_10.texture=PIXI.Texture.EMPTY,this.n_1.texture=PIXI.Texture.EMPTY,this.n_1000=null,this.n_100=null,this.n_10=null,this.n_1=null,this.minus100=null,this.minus1000=null,this.plus100=null,this.plus1000=null,this.btn_sozai_down=null,this.onChangeValue=null,this._value=null,this.avail=null,this.removeChildren()},e.prototype.up=function(t){this._max<t&&(t=this._max),this.updateValue(t)},e.prototype.down=function(t){t<this._min&&(t=this._min),this.updateValue(t)},e.prototype.updateValue=function(t){var e,i,n,o,s=this.splitNumber(t);this.btn_sozai_down.visible=!1,this.btn_sozai_up.visible=!1,this.minus100.visible=!1,this.minus1000.visible=!1,this.plus100.visible=!1,this.plus1000.visible=!1,t<=this.avail&&this._min<=t?(e=a.Util.getWhiteNumberResourceId(s[0]),i=a.Util.getWhiteNumberResourceId(s[1]),n=a.Util.getWhiteNumberResourceId(s[2]),o=a.Util.getWhiteNumberResourceId(s[3])):(e=a.Util.getRedNumberResourceId(s[0]),i=a.Util.getRedNumberResourceId(s[1]),n=a.Util.getRedNumberResourceId(s[2]),o=a.Util.getRedNumberResourceId(s[3])),this._min<t&&(this.minus100.visible=!0,this.minus1000.visible=!0,this.btn_sozai_down.visible=!0),t<this._max&&(this.plus100.visible=!0,this.plus1000.visible=!0,this.btn_sozai_up.visible=!0),this.n_1000.texture=r.ARSENAL_MAIN.getTexture(e),this.n_100.texture=r.ARSENAL_MAIN.getTexture(i),this.n_10.texture=r.ARSENAL_MAIN.getTexture(n),this.n_1.texture=r.ARSENAL_MAIN.getTexture(o),this._value=t},e.prototype.setAvail=function(t){this.avail=t},e.prototype.splitNumber=function(t){var e=0==t?0:t%1e4,i=0,n=0,o=0;return 0<e&&(i=Math.floor(e/1e3),e-=1e3*i),0<e&&(n=Math.floor(e/100),e-=100*n),0<e&&(o=Math.floor(e/10),e-=10*o),[i,n,o,Math.floor(e)]},e}(PIXI.Container);e.LargeConfigureMaterialView=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=i(0),s=function(t){function e(e,i,n,o,r,s,a,_){var l=t.call(this)||this;return l._url="api_req_kousyou/createship",l.api_kdock_id=e,l.api_large_flag=i,l.api_item1_fuel=n,l.api_item2_ammo=o,l.api_item3_steel=r,l.api_item4_baux=s,l.api_item5_devkit=a,l.api_highspeed=_,l}return n(e,t),e.prototype._connect=function(){this._post_data.api_kdock_id=this.api_kdock_id,this._post_data.api_large_flag=this.api_large_flag,this._post_data.api_item1=this.api_item1_fuel,this._post_data.api_item2=this.api_item2_ammo,this._post_data.api_item3=this.api_item3_steel,this._post_data.api_item4=this.api_item4_baux,this._post_data.api_item5=this.api_item5_devkit,this._post_data.api_highspeed=this.api_highspeed,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e=r.default.model.useItem.get(31),i=r.default.model.useItem.get(32),n=r.default.model.useItem.get(33),o=r.default.model.useItem.get(34),s=r.default.model.useItem.get(3),a=r.default.model.useItem.get(2);e.__setCount__(e.count-this.api_item1_fuel),i.__setCount__(i.count-this.api_item2_ammo),n.__setCount__(n.count-this.api_item3_steel),o.__setCount__(o.count-this.api_item4_baux),s.__setCount__(s.count-this.api_item5_devkit);var _=0;1==this.api_highspeed&&(_=1==this.api_large_flag?10:1),a.__setCount__(a.count-_),t.prototype._completedEnd.call(this)},e}(o.APIBase);e.CreateShipAPI=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=i(0),s=function(t){function e(e,i){var n=t.call(this)||this;return n._url="api_req_kousyou/createship_speedchange",n.api_kdock_id=e,n.isLarge=i,n}return n(e,t),e.prototype._connect=function(){this._post_data.api_kdock_id=this.api_kdock_id,this._post_data.api_highspeed=1,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e=r.default.model.useItem.get(2),i=r.default.model.kdock.get(this.api_kdock_id),n=this.isLarge?10:1;e.__setCount__(e.count-n),i.__complete__(),t.prototype._completedEnd.call(this)},e}(o.APIBase);e.CreateShipSpeedChangeAPI=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(7),s=i(9),a=function(t){function e(e){var i=t.call(this)||this;return i._url="api_req_kousyou/getship",i.api_kdock_id=e,i}return n(e,t),Object.defineProperty(e.prototype,"ship",{get:function(){return this._ship},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kDocks",{get:function(){return this._kDocks},enumerable:!0,configurable:!0}),e.prototype._connect=function(){this._post_data.api_kdock_id=this.api_kdock_id,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e=r.ObjUtil.getObject(this._raw_data,"api_ship");this._ship=o.default.model.ship.updateData(e);var i=r.ObjUtil.getObjectArray(this._raw_data,"api_slotitem");o.default.model.slot.addMemData(i),this._kDocks=r.ObjUtil.getObjectArray(this._raw_data,"api_kdock"),t.prototype._completedEnd.call(this)},e}(s.APIBase);e.GetShipAPI=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=function(t){function e(){var e=t.call(this)||this;return e._url="api_get_member/kdock",e}return n(e,t),e.prototype._completedEnd=function(){o.default.model.kdock.__setData__(this._raw_data),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.KDockAPI=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=i(0),s=function(t){function e(e){var i=t.call(this)||this;return i._url="api_req_kousyou/open_new_dock",i.kDockId=e,i}return n(e,t),e.prototype._completedEnd=function(){var e=r.default.model.kdock.get(this.kDockId),i=r.default.model.useItem.get(49);e.__open__(),i.__setCount__(i.count-1),t.prototype._completedEnd.call(this)},e}(o.APIBase);e.OpenNewDockAPI=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=function(t){function e(){var e=t.call(this)||this;e.animation={};var i=o.ARSENAL_ANIMATION.getTexture(2);e.scatterCircles=new Array;for(var n=0;n<40;n++){var r=new s(i);e.scatterCircles.push(r),e.addChild(r)}return e}return n(e,t),e.prototype.play=function(){var t=this;createjs.Tween.removeTweens(this.animation);for(var e=createjs.Tween.get(this.animation),i=0;i<this.scatterCircles.length;i++){this.scatterCircles[i].reset()}e.call(function(){e.removeAllEventListeners("change"),e.addEventListener("change",function(){for(var e=0;e<t.scatterCircles.length;e++){t.scatterCircles[e].update()}})}).to({},5e3).call(function(){e.removeAllEventListeners("change")}),e.play(null)},e}(PIXI.Container);e.ScatterCircleParticle=r;var s=function(t){function e(e){var i=t.call(this,e)||this;return i.updateCount=0,i}return n(e,t),e.prototype.reset=function(){var t=1.999*Math.random()*Math.PI,e=.2*Math.random()+.8,i=30*e*Math.cos(t),n=30*e*Math.sin(t),o=15*(.2*Math.random()+.8),r=-1*(.2*Math.random()+.8);this.updateCount=0,this.vx=i,this.vy=n,this.x=0,this.y=0,this.scale.x=1,this.scale.y=1,this.alpha=1,this.vScale=o,this.vAlpha=r},e.prototype.update=function(){this.updateCount++;this.x+=this.vx*Math.exp(-.05*this.updateCount)*1,this.y+=1*(2+this.vy*Math.exp(-.05*this.updateCount)),this.scale.x+=this.vScale*Math.exp(-.05*this.updateCount)/100*1,this.scale.y+=this.vScale*Math.exp(-.05*this.updateCount)/100*1,this.alpha+=this.vAlpha*(1-Math.exp(-.05*this.updateCount))/100*1},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(13),a=i(347),_=function(t){function e(){var e=t.call(this)||this;return e._stype_name="",e._ship_name="",e}return n(e,t),e.prototype.preloadFromMst=function(t,e){var i=r.default.model.ship_graph.get(t.mstID).getCenterOffset(!1);this.preload(t.mstID,t.name,t.shipTypeName,t.message_text,t.rarity,i,e)},e.prototype.preload=function(t,e,i,n,a,_,l){var u=this;this._mst_id=t,this._ship_name=e,this._stype_name=i,this._message=n,(new s.ShipLoader).add(t,!1,"full").load(function(){u._target.texture=r.default.resources.getShip(t,!1,"full"),u._target.x=o.default.width/2-379+_.x,u._target.y=o.default.height/2-418+_.y,u._rarityBG.initiailzeForShip(a,function(){u._messageBox.initializeForShip(u._stype_name,u._ship_name,u._message),null!=l&&l()})})},e.prototype._03_waitClick=function(){r.default.sound.voice.play(this._mst_id.toString(),1),t.prototype._03_waitClick.call(this)},e}(a.RewardAnimation);e.RewardAnimationShip=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(313),r=function(t){function e(){var e=t.call(this)||this;e.MAX_CIRCLE=5,e.onUpdate=function(){for(var t=0;t<e.effectCircles.length;t++){var i=e.effectCircles[t];if(!i.isAnimation&&!(Math.floor(100*Math.random())>=10)){i.play();break}}};var i=o.ARSENAL_ANIMATION.getTexture(1);e.effectCircles=new Array;for(var n=0;n<e.MAX_CIRCLE;n++){var r=new s(i);e.effectCircles.push(r),r.texture=i,e.addChild(r)}return e}return n(e,t),e.prototype.dispose=function(){this.stop();for(var t=0;t<this.effectCircles.length;t++)this.effectCircles[t].dispose(),this.effectCircles[t]=null;this.effectCircles=null,this.removeChildren()},e.prototype.play=function(){createjs.Tween.removeTweens(this);var t=createjs.Tween.get(this,{onChange:this.onUpdate});t.loop=!0,t.play(null)},e.prototype.stop=function(){createjs.Tween.removeTweens(this);for(var t=0;t<this.effectCircles.length;t++)this.effectCircles[t].stop(),this.effectCircles[t].reset()},e}(PIXI.Container);e.MaterialCircleRollAnimation=r;var s=function(t){function e(e){var i=t.call(this,e)||this;return i.update=function(t){var e=t.target.target.time,n=t.target.target.alpha;i.rotation=i._rotationSpeed*e,i.alpha=n},i.anchor.set(.5,.5),i._isAnimation=!1,i.reset(),i}return n(e,t),Object.defineProperty(e.prototype,"isAnimation",{get:function(){return this._isAnimation},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.stop(),this._isAnimation=null,this._rotationSpeed=null,this._time=null,this._tween=null},e.prototype.reset=function(){var t=.2*Math.random()+.8;this.scale.set(t,t),this._rotationSpeed=Math.PI/180*(180*Math.random()-90),this._time=200+400*Math.random(),this.x=450*Math.random()-225,this.y=450*Math.random()-158,this.alpha=0},e.prototype.play=function(){var t=this;this._isAnimation=!0;var e={time:0,alpha:0};null!=this._tween&&this._tween.removeAllEventListeners(),this.reset(),this._tween=createjs.Tween.get(e,{onChange:this.update}).to({time:.5,alpha:1},this._time).to({time:1,alpha:0},this._time).call(function(){t.stop()})},e.prototype.stop=function(){this._isAnimation=!1,null!=this._tween&&this._tween.removeAllEventListeners()},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=function(t){function e(){var e=t.call(this)||this;e.bg_0=new PIXI.Sprite(o.COMMON_MAIN.getTexture(64)),e.bg_1=new PIXI.Sprite(o.COMMON_MAIN.getTexture(64)),e.bg_0.position.set(0,102),e.bg_1.position.set(529,102);var i=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(8));i.anchor.set(0,.5),i.position.set(198,e.bg_0.height/2-4);var n=new PIXI.Sprite(o.ARSENAL_MAIN.getTexture(4));return n.anchor.set(0,.5),n.position.set(19,e.bg_0.height/2-4),e.bg_0.addChild(i),e.bg_1.addChild(n),e.addChild(e.bg_0),e.addChild(e.bg_1),e}return n(e,t),e.prototype.dispose=function(){this.bg_0.removeChildren(),this.bg_1.removeChildren(),this.removeChildren(),this.bg_0=null,this.bg_1=null},e}(PIXI.Container);e.TopBarLayer=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(3),s=i(116),a=i(1),_=i(224),l=i(908),u=i(80),c=i(909),h=i(346),p=i(910),d=i(911),f=i(348),y=i(913),m=i(918),g=function(t){function e(){var e=t.call(this)||this;e.itemMemory={ammo:10,fuel:10,steel:10,bauxite:10},e.shipShipPageIndex=0,e.shipSortKeyType=f.ArsenalSceneMemory.shipSortKeyType,e._hasLimitOver=!1,e._onMouseOverDevelop=function(){e.alertDevelopPopup.visible=e._hasLimitOver},e._onMouseOutDevelop=function(){e.alertDevelopPopup.visible=!1},e._onClickMenuDevelop=function(){if(0==e._hasLimitOver){if(e.focusDevelop(),e._materialAmountContainer)return;e._materialAmountContainer=new c.MaterialAmountContainerSlot(e.parent),e._materialAmountContainer.onComplete=e._onCompletePhaseItemConfigureMaterial,e._materialAmountContainer.play(e.itemMemory.fuel,e.itemMemory.ammo,e.itemMemory.steel,e.itemMemory.bauxite)}},e._onCompletePhaseItemConfigureMaterial=function(t){switch(t){case c.Result.CANCEL:o.default.view.clickGuard=!0,e._materialAmountContainer.hide(function(){e.focusBuild(),e._materialAmountContainer.dispose(),e._materialAmountContainer=null,o.default.view.clickGuard=!1,_.ArsenalUtil.playVoiceOnBuildComplete()});break;case c.Result.DEVELOP:var i=e._materialAmountContainer.fuel,n=e._materialAmountContainer.ammo,r=e._materialAmountContainer.steel,s=e._materialAmountContainer.bauxite;e.itemMemory.fuel=i,e.itemMemory.ammo=n,e.itemMemory.steel=r,e.itemMemory.bauxite=s;var a=new l.CreateItemAPI(i,n,r,s);o.default.view.clickGuard=!0,a.start(function(){var t=1==a.api_create_flag,i=a.api_slotitem_mstid;e.developAnimation(t,i),o.default.view.clickGuard=!1}),e._materialAmountContainer.dispose(),e._materialAmountContainer=null,e.focusBuild();break;case c.Result.GOTO_STORE:o.default.scene.change(24,new u.ItemSceneModel)}},e._onClickMenuShipDisassembly=function(){e.focusShipDisassembly(),o.default.view.clickGuard=!0,e.shipDisassembly&&(e.shipDisassembly.dispose(),e.shipDisassembly=null),e.shipDisassembly=new y.ShipDisassemblyContainer(e.parent),e.shipDisassembly.onComplete=function(){e._onCompletePhaseShipDisassembly()},e.shipDisassembly.start(e.shipSortKeyType,0)},e._onClickMenuSlotDisassembly=function(){e.focusSlotDisassembly(),e.slotDisassembly&&(e.slotDisassembly.dispose(),e.slotDisassembly=null),e.slotDisassembly=new m.SlotDisassemblyContainer(e.parent),e.slotDisassembly.onComplete=function(){e._onCompleteSlotDisassembly()},e.slotDisassembly.start(0,0)};var i=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(95));e.iconBuild=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(96));var n=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(90));e.buttonSlotDisassembly=new s.SimpleButton(r.ARSENAL_MAIN.getTexture(89),r.ARSENAL_MAIN.getTexture(90));var h=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(92));e.buttonDevelop=new s.SimpleButton(r.ARSENAL_MAIN.getTexture(91),r.ARSENAL_MAIN.getTexture(92));var p=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(94));e.buttonShipDisassembly=new s.SimpleButton(r.ARSENAL_MAIN.getTexture(93),r.ARSENAL_MAIN.getTexture(94)),e.alertDevelopPopup=new PIXI.Sprite(r.ARSENAL_MAIN.getTexture(70));return e.buttonDevelop.on(a.EventType.CLICK,e._onClickMenuDevelop),e.buttonDevelop.onMouseOver=e._onMouseOverDevelop,e.buttonDevelop.onMouseOut=e._onMouseOutDevelop,e.buttonSlotDisassembly.on(a.EventType.CLICK,e._onClickMenuSlotDisassembly),e.buttonShipDisassembly.on(a.EventType.CLICK,e._onClickMenuShipDisassembly),e.iconBuild.anchor.set(.5,0),i.anchor.set(.5,0),n.anchor.set(.5,0),e.buttonSlotDisassembly.anchor.set(.5,0),h.anchor.set(.5,0),e.buttonDevelop.anchor.set(.5,0),p.anchor.set(.5,0),e.buttonShipDisassembly.anchor.set(.5,0),e.iconBuild.position.set(342,201),i.position.set(342,201),p.position.set(342,321),e.buttonShipDisassembly.position.set(342,321),h.position.set(342,435),e.buttonDevelop.position.set(342,435),e.alertDevelopPopup.position.set(462,435),n.position.set(342,555),e.buttonSlotDisassembly.position.set(342,555),e.alertDevelopPopup.visible=!1,e.addChild(i,p,h,n,e.iconBuild,e.buttonShipDisassembly,e.buttonDevelop,e.buttonSlotDisassembly,e.alertDevelopPopup),e}return n(e,t),Object.defineProperty(e.prototype,"hasLimitOver",{set:function(t){this._hasLimitOver=t},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.buttonSlotDisassembly.dispose(),this.buttonDevelop.dispose(),this.buttonShipDisassembly.dispose(),this.shipDisassembly&&this.shipDisassembly.dispose(),this.slotDisassembly&&this.slotDisassembly.dispose(),this.onUpdateCondition=null,this.shipShipPageIndex=null,this.shipSortKeyType=null,this.iconBuild=null,this.buttonSlotDisassembly=null,this.buttonDevelop=null,this.buttonShipDisassembly=null,this.alertDevelopPopup=null,this.itemMemory=null,this._hasLimitOver=null,this.shipDisassembly=null,this.slotDisassembly=null,this._materialAmountContainer&&(this._materialAmountContainer.dispose(),this._materialAmountContainer=null),this.removeChildren()},e.prototype.focusBuild=function(){this.iconBuild.visible=!0,this.buttonShipDisassembly.visible=!0,this.buttonDevelop.visible=!0,this.buttonSlotDisassembly.visible=!0},e.prototype.focusShipDisassembly=function(){this.iconBuild.visible=!1,this.buttonShipDisassembly.visible=!1,this.buttonDevelop.visible=!0,this.buttonSlotDisassembly.visible=!0},e.prototype.focusDevelop=function(){this.iconBuild.visible=!1,this.buttonShipDisassembly.visible=!0,this.buttonDevelop.visible=!1,this.buttonSlotDisassembly.visible=!0},e.prototype.focusSlotDisassembly=function(){this.iconBuild.visible=!1,this.buttonShipDisassembly.visible=!0,this.buttonDevelop.visible=!0,this.buttonSlotDisassembly.visible=!1},e.prototype.developAnimation=function(t,e){var i=this,n=new h.ReceiveAnimation(393);o.default.view.overLayer.addChild(n),n.preload(function(){if(1==t){var r=o.default.model.slot.getMst(e),s="",a=o.default.model.slot.getEquipTypeById(r.equipType);s=a.needsDisplayName()?"\u300c"+a.name+"\u3000"+r.name+"\u300d\u3092\u5165\u624b\u3057\u307e\u3057\u305f\uff01":"\u300c"+r.name+"\u300d\u3092\u5165\u624b\u3057\u307e\u3057\u305f\uff01";var l=new p.RewardAnimationSlot;l.preload(e,s,r.rarity,function(){n.play(function(){_.ArsenalUtil.playFlagshipVoice(26),n.dispose(),o.default.view.overLayer.removeChild(n),o.default.view.overLayer.addChild(l),l.play(function(){o.default.view.portMain.updateInfo();for(var t=_.ArsenalUtil.developLimit(),e=o.default.model.kdock.getAll(),n=0;n<e.length;n++){var r=e[n];i.onUpdateCondition(r.id,t.forShip,t.forSlot)}},function(){l.dispose(),o.default.view.overLayer.removeChild(l),_.ArsenalUtil.playVoiceOnBuildComplete()})})})}else n.play(function(){n.dispose(),o.default.view.overLayer.removeChild(n);var t=new d.RewardAnimationSlotFailed;o.default.view.overLayer.addChild(t),t.play(function(){o.default.view.portMain.updateInfo(),t.dispose(),o.default.view.overLayer.removeChild(t),_.ArsenalUtil.playVoiceOnBuildComplete()})})})},e.prototype._onCompletePhaseShipDisassembly=function(){var t=this;this.shipSortKeyType=this.shipDisassembly.useShipSortKeyType,this.shipShipPageIndex=this.shipDisassembly.pageIndex,o.default.view.clickGuard=!0,this.shipDisassembly.hide(function(){t.focusBuild();for(var e=_.ArsenalUtil.developLimit(),i=o.default.model.kdock.getAll(),n=0;n<i.length;n++){var r=i[n];t.onUpdateCondition(r.id,e.forShip,e.forSlot)}o.default.view.clickGuard=!1,_.ArsenalUtil.playVoiceOnBuildComplete(),t.shipDisassembly.dispose(),t.shipDisassembly=null})},e.prototype._onCompleteSlotDisassembly=function(){var t=this;o.default.view.clickGuard=!0,this.slotDisassembly.hide(function(){for(var e=_.ArsenalUtil.developLimit(),i=o.default.model.kdock.getAll(),n=0;n<i.length;n++){var r=i[n];t.onUpdateCondition(r.id,e.forShip,e.forSlot)}o.default.view.clickGuard=!1,t.focusBuild(),_.ArsenalUtil.playVoiceOnBuildComplete(),t.slotDisassembly.dispose(),t.slotDisassembly=null})},e}(PIXI.Container);e.MenuLayer=g},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._url="api_req_kousyou/createitem",r.api_item1=e,r.api_item2=i,r.api_item3=n,r.api_item4=o,r}return n(e,t),Object.defineProperty(e.prototype,"api_create_flag",{get:function(){return this._api_create_flag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"api_slotitem_memid",{get:function(){return this._api_slotitem_memid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"api_slotitem_mstid",{get:function(){return this._api_slotitem_mstid},enumerable:!0,configurable:!0}),e.prototype._connect=function(){this._post_data.api_item1=this.api_item1,this._post_data.api_item2=this.api_item2,this._post_data.api_item3=this.api_item3,this._post_data.api_item4=this.api_item4,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e=this._raw_data.api_create_flag,i=(this._raw_data.api_shizai_flag,this._raw_data.api_material);switch(o.default.model.useItem.get(31).__setCount__(i[0]),o.default.model.useItem.get(32).__setCount__(i[1]),o.default.model.useItem.get(33).__setCount__(i[2]),o.default.model.useItem.get(34).__setCount__(i[3]),o.default.model.useItem.get(2).__setCount__(i[4]),o.default.model.useItem.get(1).__setCount__(i[5]),o.default.model.useItem.get(3).__setCount__(i[6]),o.default.model.useItem.get(4).__setCount__(i[7]),e){case 0:this._api_slotitem_memid=0,this._api_slotitem_mstid=0;break;case 1:var n=this._raw_data.api_slot_item,r=this._raw_data.api_type3,s=this._raw_data.api_unsetslot;this._api_slotitem_memid=n.api_id,this._api_slotitem_mstid=n.api_slotitem_id,o.default.model.slot.addMemData([n]),o.default.model.slot.updateUnsetData(r,s)}this._api_create_flag=e,t.prototype._completedEnd.call(this)},e}(r.APIBase);e.CreateItemAPI=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o,r=i(5),s=i(0),a=i(1),_=i(49),l=i(8),u=i(116),c=i(4),h=i(21),p=i(35),d=i(90),f=i(343),y=i(345);!function(t){t[t.CANCEL=0]="CANCEL",t[t.DEVELOP=1]="DEVELOP",t[t.GOTO_STORE=2]="GOTO_STORE"}(o=e.Result||(e.Result={}));var m=function(t){function e(e){var i=t.call(this)||this;i.animation={progress:0},i._onChangeValue=function(){var t=i.fuel,e=i.ammo,n=i.steel,o=i.bauxite,r=i.devKit,s=d.Util.DevelopValidation(t,e,n,o,r);i.update(s)},i._onClickShop=function(){i.onComplete(o.GOTO_STORE)},i._onClickBuild=function(){i.onComplete(o.DEVELOP)},i._onClickBackground=function(){i.onComplete(o.CANCEL)},i.mainView=e;i.configureMaterialView_fuel=new f.MaterialAmountView(31,10,300),i.configureMaterialView_ammo=new f.MaterialAmountView(32,10,300),i.configureMaterialView_steel=new f.MaterialAmountView(33,10,300),i.configureMaterialView_bauxite=new f.MaterialAmountView(34,10,300),i.btn_kaihatsu=new u.SimpleButton(p.ARSENAL_MAIN.getTexture(25),p.ARSENAL_MAIN.getTexture(27));var n=new PIXI.Sprite(p.ARSENAL_MAIN.getTexture(26)),s=new PIXI.Sprite(h.COMMON_MAIN.getTexture(12)),m=new PIXI.Sprite(p.ARSENAL_MAIN.getTexture(139)),g=new PIXI.Sprite(p.ARSENAL_MAIN.getTexture(156)),v=new PIXI.Sprite(p.ARSENAL_MAIN.getTexture(74)),b=new PIXI.Sprite(p.ARSENAL_MAIN.getTexture(73));i.textDevKitBefore=new c.TextBox(24,5523516),i.textDevKitAfter=new c.TextBox(24,12467003),i.shopButton=new y.ShopButton,i.configureMaterialView_fuel.onChangeValue=i._onChangeValue,i.configureMaterialView_ammo.onChangeValue=i._onChangeValue,i.configureMaterialView_steel.onChangeValue=i._onChangeValue,i.configureMaterialView_bauxite.onChangeValue=i._onChangeValue,i.shopButton.onClick=i._onClickShop,i.btn_kaihatsu.on(a.EventType.CLICK,i._onClickBuild),s.interactive=!0,i.textDevKitBefore.anchor.x=1,i.textDevKitAfter.anchor.x=0,n.position.set(532,486),i.btn_kaihatsu.position.set(532,486),i.textDevKitBefore.position.set(591,438),i.textDevKitAfter.position.set(619,438),i.configureMaterialView_fuel.position.set(60,33),i.configureMaterialView_ammo.position.set(60,228),i.configureMaterialView_steel.position.set(402,33),i.configureMaterialView_bauxite.position.set(402,228),v.position.set(394,441),b.position.set(594,442),m.position.set(60,426),g.position.set(424,442),i.shopButton.position.set(473,496),i.addChild(s,i.configureMaterialView_fuel,i.configureMaterialView_ammo,i.configureMaterialView_steel,i.configureMaterialView_bauxite,m,n,g,v,b,i.textDevKitBefore,i.textDevKitAfter,i.btn_kaihatsu,i.shopButton),i.shopButton.play();var w=new PIXI.Sprite(h.COMMON_MAIN.getTexture(64));w.position.set(0,-37);var x=new PIXI.Sprite(p.ARSENAL_MAIN.getTexture(7));x.anchor.set(0,.5),x.position.set(22,Math.floor(w.height/2-4)),w.addChild(x),i.addChild(w);return i.dialogBackground=new l.AreaBox(_.UISettings.DIALOG_BG_ALPHA),i.dialogBackground.alpha=0,i.dialogBackground.position.set(0,103),i.dialogBackground.height=r.default.height-103,i.mainView.addChild(i.dialogBackground),i.mainView.addChild(i),i.position.set(1200,139),i.dialogBackground.on(a.EventType.CLICK,i._onClickBackground),i}return n(e,t),Object.defineProperty(e.prototype,"fuel",{get:function(){return this.configureMaterialView_fuel.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ammo",{get:function(){return this.configureMaterialView_ammo.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"steel",{get:function(){return this.configureMaterialView_steel.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bauxite",{get:function(){return this.configureMaterialView_bauxite.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"devKit",{get:function(){return 1},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.removeChildren(),this.mainView.removeChild(this.dialogBackground),this.mainView.removeChild(this),this.dialogBackground.off(a.EventType.CLICK,this._onClickBackground),this.configureMaterialView_fuel.dispose(),this.configureMaterialView_ammo.dispose(),this.configureMaterialView_steel.dispose(),this.configureMaterialView_bauxite.dispose(),this.btn_kaihatsu.dispose(),this.shopButton.dispose(),this.textDevKitBefore.destroy(),this.textDevKitAfter.destroy(),this.configureMaterialView_fuel=null,this.configureMaterialView_ammo=null,this.configureMaterialView_steel=null,this.configureMaterialView_bauxite=null,this.btn_kaihatsu=null,this.textDevKitBefore=null,this.textDevKitAfter=null,this.onChangeValue=null,this.shopButton=null,this.mainView=null,this.dialogBackground=null,this.animation=null},e.prototype.initialize=function(t,e,i,n,o){this.configureMaterialView_fuel.setAvail(t),this.configureMaterialView_ammo.setAvail(e),this.configureMaterialView_steel.setAvail(i),this.configureMaterialView_bauxite.setAvail(n),this.textDevKitBefore.text=o.toString(),this.textDevKitAfter.style.fill=12467003,this.textDevKitAfter.text="0",0<=o-1&&(this.textDevKitAfter.style.fill=5523516,this.textDevKitAfter.text=(o-1).toString())},e.prototype.play=function(t,e,i,n){var o=s.default.model.useItem.get(31).count,r=s.default.model.useItem.get(32).count,a=s.default.model.useItem.get(33).count,_=s.default.model.useItem.get(34).count,l=s.default.model.useItem.get(3).count,u=d.Util.DevelopValidation(t,e,i,n,1);this.initialize(o,r,a,_,l),this.config(t,e,i,n,1),this.update(u),this.onChangeValue=this._onChangeValue,s.default.view.clickGuard=!0,this.show(function(){s.default.view.clickGuard=!1})},e.prototype.show=function(t){var e=this;this.animation.progress=0;var i=createjs.Tween.get(this.animation),n=function(){e.x=1200-788*e.animation.progress,e.dialogBackground.alpha=e.animation.progress};n(),i.call(function(){i.addEventListener("change",n)}).to({progress:1},200).call(function(){i.removeAllEventListeners("change"),createjs.Tween.removeTweens(i.target),e.animation.progress=1,e.dialogBackground.width=444,n(),t()}),i.play(null)},e.prototype.hide=function(t){var e=this;this.animation.progress=0,this.dialogBackground.width=r.default.width;var i=createjs.Tween.get(this.animation),n=function(){e.x=1200-788*(1-e.animation.progress),e.dialogBackground.alpha=1-e.animation.progress};n(),i.call(function(){i.addEventListener("change",n)}).to({progress:1},200).call(function(){i.removeAllEventListeners("change"),createjs.Tween.removeTweens(i.target),e.animation.progress=1,n(),t()}),i.play(null)},e.prototype.config=function(t,e,i,n,o){this.configureMaterialView_fuel.updateValue(t),this.configureMaterialView_ammo.updateValue(e),this.configureMaterialView_steel.updateValue(i),this.configureMaterialView_bauxite.updateValue(n)},e.prototype.update=function(t){this.btn_kaihatsu.visible=!!t},e}(PIXI.Container);e.MaterialAmountContainerSlot=m},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(24),a=i(347),_=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.preload=function(t,e,i,n){var a=this;this._mst_id=t,this._message=e,(new s.SlotLoader).add(t,"card").load(function(){a._target.texture=r.default.resources.getSlotitem(t,"card"),a._target.x=o.default.width/2-a._target.width/2,a._target.y=67,a._rarityBG.initiailzeForSlotitem(i,function(){a._messageBox.initialize(a._message),null!=n&&n()})})},e}(a.RewardAnimation);e.RewardAnimationSlot=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(337),s=i(20),a=i(8),_=i(338),l=i(40),u=i(81),c=i(3),h=i(3),p=i(3),d=i(912),f=i(1),y=function(t){function e(){var e=t.call(this)||this;return e._clickGuard=new a.AreaBox(0),e._bg_itemlost=new PIXI.Sprite(h.COMMON_ANIMATION.getTexture(0)),e._penguin=new _.FailedPenguin,e._leafDashes=new d.LeafDashes,e._obj_leaf=new PIXI.Sprite(h.COMMON_ANIMATION.getTexture(1)),e._obj_leaf.anchor.set(.5,.5),e._messageBox=new u.MessageBox(!1),e._gearBtnHome=new l.GearBtnHome,e._gearBtnHome.initialize(),e._gearBtnHome.x=1140,e._gearBtnHome.y=660,e._white=new a.AreaBox(1,16777215),e._leafTween=r.LeafAnimationUtil.LeafWithDashAnimation(e._obj_leaf,e._leafDashes.dashes,new PIXI.Point(0,60)),e._leafTween.setPaused(!0),e}return n(e,t),e.prototype.play=function(t){this._cb_onComplete=t,this.addChild(this._clickGuard),this.addChild(this._bg_itemlost),this._penguin.light.alpha=0,this._penguin.light_place.alpha=0,this.addChild(this._penguin);for(var e=0;e<this._leafDashes.dashes.length;e++){this._leafDashes.dashes[e].alpha=0}this.addChild(this._leafDashes),this._obj_leaf.visible=!1,this.addChild(this._obj_leaf),this.addChild(this._white),this._01_whiteOut()},e.prototype._01_whiteOut=function(){var t=this;createjs.Tween.get(this._white).to({alpha:0},1e3).call(function(){t.removeChild(t._white),t._02_showFailedPenguin()})},e.prototype._02_showFailedPenguin=function(){var t,e=this,i=new s.TweenTask;t=createjs.Tween.get(this._penguin.light).to({alpha:1},300),i.addTween(t),t=createjs.Tween.get(this._penguin.light_place).to({alpha:1},300),i.addTween(t),i.start(function(){e._obj_leaf.visible=!0,e._leafTween.setPosition(0,1),e._leafTween.setPaused(!1),e._03_typeMessage()})},e.prototype._03_typeMessage=function(){var t=this;this._messageBox.initialize("\u88c5\u5099\u306e\u958b\u767a\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u2026\u2026\u3002\n\n\u3000"),this._messageBox.y=o.default.height,this.addChild(this._messageBox),createjs.Tween.get(this._messageBox).to({y:480},500,createjs.Ease.cubicOut).call(function(){t._gearBtnHome.activate(),t.addChild(t._gearBtnHome),c.SE.play("247"),t._messageBox.activate(function(){t._icon_m8=new PIXI.Sprite(p.ARSENAL_MAIN.getTexture(74)),t._icon_m8.position.set(249,640),t.addChild(t._icon_m8),t._messageBox.append("\u300e\u958b\u767a\u8cc7\u6750\u300f\u306f\u6d88\u8017\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u3002"),t._messageBox.activate()}),t._04_waitClick()})},e.prototype._04_waitClick=function(){var t=this,e=new a.AreaBox(0);e.buttonMode=!0,this.addChild(e),e.once(f.EventType.CLICK,function(){t.removeChild(e),t._05_whiteInOut()})},e.prototype._05_whiteInOut=function(){var t=this;this._white.alpha=0,this.addChild(this._white),createjs.Tween.get(this._white).to({alpha:1},250).call(function(){t.removeChild(t._bg_itemlost),t.removeChild(t._penguin),t.removeChild(t._leafDashes),t.removeChild(t._obj_leaf),t.removeChild(t._icon_m8),t._messageBox.deactivate(),t.removeChild(t._messageBox),t._gearBtnHome.deactivate(),t.removeChild(t._gearBtnHome)}).to({alpha:0},250).call(function(){t.removeChild(t._white),null!=t._cb_onComplete&&t._cb_onComplete()})},e.prototype.dispose=function(){this._cb_onComplete=null,this.removeChildren(),createjs.Tween.removeTweens(this._leafTween.target),this._leafTween=null,this._clickGuard=null,this._bg_itemlost=null,this._penguin.dispose(),this._penguin=null,this._leafDashes.dispose(),this._leafDashes=null,this._obj_leaf=null,this._messageBox.dispose(),this._messageBox=null,this._gearBtnHome.dispose(),this._gearBtnHome=null,this._icon_m8=null,this._white=null},e}(PIXI.Container);e.RewardAnimationSlotFailed=y},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=function(t){function e(){for(var e=t.call(this)||this,i=new Array,n=0;n<13;n++){var r=new PIXI.Sprite(o.ARSENAL_ANIMATION.getTexture(3));r.alpha=0,i.push(r),e.addChild(r)}return e.leaf_dashes=i,e}return n(e,t),Object.defineProperty(e.prototype,"dashes",{get:function(){return this.leaf_dashes},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){for(var t=0;t<this.leaf_dashes.length;t++)this.leaf_dashes[t].texture=PIXI.Texture.EMPTY,this.leaf_dashes[t]=null;this.leaf_dashes=null,this.removeChildren()},e}(PIXI.Container);e.LeafDashes=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(1),a=i(49),_=i(28),l=i(8),u=i(86),c=i(222),h=i(37),p=i(6),d=i(21),f=i(35),y=i(348),m=i(90),g=i(914),v=i(915),b=i(917),w=i(350),x=function(t){function e(e){var i=t.call(this)||this;i._pageIndex=0,i.animation={progress:0},i._onClickShip=function(t,e){var n=r.default.model.ship.get(t),o=m.Util.ShipDisassemblyValidation(t);if(0==o)return!(t==i.memShipId||i.checkedMemShipIdList.length>0)&&(i.shipDisassemblyConfirm.update(n,!1,o,[t]),i.shipDisassemblyConfirm.visibleContainer(!0),i.memShipId=t,!1);var s=i.checkedMemShipIdList.indexOf(t);s<0?i.checkedMemShipIdList.push(t):i.checkedMemShipIdList.splice(s,1),i.shipDisassemblyChoice.toggleCheckBox(e);var a=r.default.model.deck.isInDeck(t),_=!!a&&null!=r.default.model.deck.get(a[0]).expedition;i.shipDisassemblyConfirm.update(n,_,o,i.checkedMemShipIdList),i.memShipId=t},i._onChangePage=function(t){if(i._pageIndex!=t){i.memShipId=null;var e=i._getShipsInPage(i.ships,t);i.shipDisassemblyChoice.update(e),i.shipDisassemblyConfirm.visibleContainer(!1),i._pageIndex=t,i.checkedMemShipIdList=[]}},i._onClickDisassembly=function(t,e){var n=new b.DestroyShipAPI(t,e),s=i.shipDisassemblyConfirm.shipBanner;i.disassemblyAnimation=new w.DisassemblyAnimation(240,60),i.disassemblyAnimation.position.set(s.x,s.y),r.default.view.clickGuard=!0,n.start(function(){var t=new PIXI.Graphics;t.beginFill(0,.2),t.drawRect(0,0,o.default.width,o.default.height),t.endFill(),r.default.view.overLayer.addChild(t),s.parent.addChild(i.disassemblyAnimation);var e=function(){p.SE.play("201")};createjs.Tween.get(s).call(function(){e(),i.disassemblyAnimation.play(5)}).to({alpha:.33},1e3).call(e).to({alpha:.66},1e3).call(e).to({alpha:1},1e3).call(function(){t.clear(),r.default.view.overLayer.removeChild(t),s.parent.removeChild(i.disassemblyAnimation),i.disassemblyAnimation.dispose(),i.disassemblyAnimation=null,s.alpha=1;var e=r.default.model.ship.getAll();_.ShipUtil.sort(e,i.shipSortKeyType);var n=i._getPage(e.length),o=i._pageIndex;n<=i._pageIndex&&(o=n-1)<0&&(o=0);var a=i._getShipsInPage(e,o);i.pagerView.init(n),i.pagerView.changePage(o),i.ships=e,i._pageIndex=o,i.shipDisassemblyChoice.update(a),i.shipDisassemblyConfirm.visibleContainer(!1),i.checkedMemShipIdList=[],r.default.view.portMain.updateInfo(),r.default.view.clickGuard=!1}).play(null)})},i._onClickBackground=function(){i.onComplete()},i._onClickSort=function(){i.memShipId=null,i.checkedMemShipIdList=[],i.shipDisassemblyConfirm.visibleContainer(!1);var t;switch(i.shipSortKeyType){case 0:t=2;break;case 2:t=3;break;case 3:t=4;break;case 4:t=0}_.ShipUtil.sort(i.ships,t);var e=i._getShipsInPage(i.ships,i._pageIndex);i.shipDisassemblyChoice.update(e),i.shipSortButton.update(t),y.ArsenalSceneMemory.shipSortKeyType=i.shipSortKeyType=t},i.mainView=e,i.list_tit_bg_0=new PIXI.Sprite(d.COMMON_MAIN.getTexture(64)),i.list_tit_bg_1=new PIXI.Sprite(d.COMMON_MAIN.getTexture(64)),i.shipSortButton=new c.ShipSortButton,i.shipSortButton.position.set(582,7),i.shipSortButton.onClick=i._onClickSort,i.pagerView=new u.PagerView,i.pagerView.position.set(42,529),i.pagerView.onChangePage=i._onChangePage,i.shipDisassemblyChoice=new g.ShipDisassemblyChoice,i.shipDisassemblyChoice.onClickShip=i._onClickShip,i.shipDisassemblyChoice.addChild(i.shipSortButton,i.pagerView),i.shipDisassemblyConfirm=new v.ShipDisassemblyConfirm,i.shipDisassemblyConfirm.position.set(651,-16),i.shipDisassemblyConfirm.onClickStart=i._onClickDisassembly,i.blue_txt_01=new PIXI.Sprite(d.COMMON_MAIN.getTexture(0)),i.blue_txt_01.anchor.set(0,.5),i.blue_txt_01.position.set(22,i.list_tit_bg_0.height/2-4),i.blue_txt_11=new PIXI.Sprite(f.ARSENAL_MAIN.getTexture(9)),i.blue_txt_11.anchor.set(0,.5),i.blue_txt_11.position.set(22,i.list_tit_bg_0.height/2-4),i.list_tit_bg_0.position.set(0,-37),i.list_tit_bg_1.position.set(654,-37),i.list_tit_bg_0.addChild(i.blue_txt_01),i.list_tit_bg_1.addChild(i.blue_txt_11),i.addChild(i.shipDisassemblyChoice,i.shipDisassemblyConfirm,i.list_tit_bg_0,i.list_tit_bg_1),i.position.set(1200,139);return i.dialogBackground=new l.AreaBox(a.UISettings.DIALOG_BG_ALPHA),i.dialogBackground.alpha=0,i.dialogBackground.position.set(0,103),i.dialogBackground.height=o.default.height-103,i.mainView.addChild(i.dialogBackground),i.mainView.addChild(i),i.checkedMemShipIdList=[],i.dialogBackground.on(s.EventType.CLICK,i._onClickBackground),i}return n(e,t),Object.defineProperty(e.prototype,"useShipSortKeyType",{get:function(){return this.shipSortKeyType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageIndex",{get:function(){return this._pageIndex},enumerable:!0,configurable:!0}),e.prototype.start=function(t,e){var i=this;r.default.view.clickGuard=!0;var n=r.default.model.ship.getAll();_.ShipUtil.sort(n,t);var o=this._getShipsInPage(n,e),s=this._getPage(n.length);this.pagerView.init(s),this.shipSortButton.update(t),this.shipSortKeyType=t,this._pageIndex=e,this.pagerView.changePage(e),this.ships=n,this.shipDisassemblyChoice.update(o),this.animation.progress=0,this.x=1200;var a=function(){i.x=1200-945*i.animation.progress,i.dialogBackground.alpha=i.animation.progress};createjs.Tween.removeTweens(this.animation);var l=createjs.Tween.get(this.animation);l.call(function(){i.position.x=1200,l.addEventListener("change",a)}).to({progress:1},200).call(function(){l.removeAllEventListeners("change"),createjs.Tween.removeTweens(l.target),i.animation.progress=1,a(),i.dialogBackground.width=288,r.default.view.clickGuard=!1})},e.prototype.hide=function(t){var e=this;h.TaskLoadShipResource.abortBy(this.shipDisassemblyConfirm.shipBanner),this.dialogBackground.width=o.default.width,r.default.view.clickGuard=!0,this.animation.progress=0;var i=function(){e.x=255+945*e.animation.progress,e.dialogBackground.alpha=1-e.animation.progress};createjs.Tween.removeTweens(this.animation);var n=createjs.Tween.get(this.animation);n.call(function(){n.addEventListener("change",i)}).to({progress:1},200).call(function(){n.removeAllEventListeners("change"),createjs.Tween.removeTweens(n.target),e.animation.progress=1,i(),r.default.view.clickGuard=!1,t()}),n.play(null)},e.prototype.dispose=function(){if(this.dialogBackground.off(s.EventType.CLICK,this._onClickBackground),this.removeChildren(),createjs.Tween.removeTweens(this.animation),this.mainView.removeChild(this.dialogBackground),this.mainView.removeChild(this),this.list_tit_bg_0.removeChild(this.blue_txt_01),this.list_tit_bg_1.removeChild(this.blue_txt_11),this.shipDisassemblyChoice.dispose(),this.shipDisassemblyConfirm.dispose(),this.pagerView.dispose(),this.shipSortButton.dispose(),this.disassemblyAnimation&&this.disassemblyAnimation.dispose(),this.ships)for(var t=0;t<this.ships.length;t++)this.ships[t]=null;this.onComplete=null,this.ships=null,this.shipSortKeyType=null,this._pageIndex=null,this.mainView=null,this.dialogBackground=null,this.shipDisassemblyChoice=null,this.shipDisassemblyConfirm=null,this.disassemblyAnimation=null,this.pagerView=null,this.shipSortButton=null,this.memShipId=null,this.checkedMemShipIdList=null,this.list_tit_bg_0=null,this.list_tit_bg_1=null,this.blue_txt_01=null,this.blue_txt_11=null,this.animation=null},e.prototype._getShipsInPage=function(t,e){var i=this.shipDisassemblyChoice.ITEM_NUM;return t.slice(e*i,e*i+i)},e.prototype._getPage=function(t){var e=this.shipDisassemblyChoice.ITEM_NUM;return Math.ceil(t/e)},e}(PIXI.Container);e.ShipDisassemblyContainer=x},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),s=i(164),a=i(126),_=i(87),l=i(213),u=i(4),c=i(6),h=i(21),p=i(35),d=i(90),f=function(t){function e(){var e=t.call(this)||this;e.ITEM_NUM=10,e._onClick=function(t,i){e.onClickShip(t,i)};var i=new PIXI.Sprite(h.COMMON_MAIN.getTexture(12));i.interactive=!0,e.addChild(i);var n=new PIXI.Sprite(h.COMMON_MAIN.getTexture(39));e.listItems=new Array,n.position.set(45,12),e.addChild(n);for(var o=0;o<e.ITEM_NUM;o++){var r=new y,s=new PIXI.Sprite(h.COMMON_MAIN.getTexture(37));r.onClick=e._onClick,s.position.set(48,46*o+46+43),r.position.set(0,46*o+46),e.addChild(s,r),e.listItems.push(r)}return e}return n(e,t),e.prototype.dispose=function(){for(var t=0;t<this.listItems.length;t++)this.listItems[t].dispose(),this.listItems[t]=null;this.listItems=null,this._onClick=this.onClickShip=null,this.removeChildren()},e.prototype.update=function(t){for(var e=0;e<this.listItems.length;e++){var i=this.listItems[e];if(i.visible=!1,e<t.length){var n=t[e],r=o.default.model.deck.isInDeck(n.memID),s=0==d.Util.ShipDisassemblyValidation(n.memID)?1:2;i.update(n.memID,n.shipTypeName,n.name,n.level,n.hpMax,n.karyoku,n.raisou,n.taiku,n.speed,n.isLocked(),n.hasLockedSlotitem(),r,s,e),i.visible=!0}}},e.prototype.toggleCheckBox=function(t){this.listItems[t].toggleCheckBox()},e}(PIXI.Container);e.ShipDisassemblyChoice=f;var y=function(t){function e(){var e=t.call(this)||this;e._onClick=function(){e.onClick(e.memShipId,e.arrayIndex)},e._onMouseOver=function(){e.containerShipTypeAndName.cacheAsBitmap=!1,e.background.visible=!0,e.textShipType.style.fill=e.textName.style.fill=e.textLevel.style.fill=e.textTaikyu.style.fill=e.textKaryoku.style.fill=e.textRaiso.style.fill=e.textTaiku.style.fill=16777215,e.containerShipTypeAndName.cacheAsBitmap=!0},e._onMouseOut=function(){e.containerShipTypeAndName.cacheAsBitmap=!1,e.background.visible=!1,e.textLevel.style.fill=e.mouseoutColor,e.textShipType.style.fill=e.textName.style.fill=e.textTaikyu.style.fill=e.textKaryoku.style.fill=e.textRaiso.style.fill=e.textTaiku.style.fill=5523516,e.containerShipTypeAndName.cacheAsBitmap=!0};e.shipInDeckFlag=new _.ShipInDeckFlag,e.textShipType=new u.TextBox(18,5523516),e.textName=new u.TextBox(20,5523516),e.textLevel=new u.TextBox(22,5523516),e.textTaikyu=new u.TextBox(18,5523516),e.textKaryoku=new u.TextBox(18,5523516),e.textRaiso=new u.TextBox(18,5523516),e.textTaiku=new u.TextBox(18,5523516),e.iconLockedShip=new PIXI.Sprite(p.ARSENAL_MAIN.getTexture(88)),e.iconLockedItem=new PIXI.Sprite(p.ARSENAL_MAIN.getTexture(80)),e.shipSpeedImage=new l.ShipSpeedImage,e.background=new PIXI.Sprite(h.COMMON_MAIN.getTexture(17)),e.clickArea=new PIXI.Graphics,e.containerShipTypeAndName=new PIXI.Container,e.iconCheckState=new PIXI.Sprite;var i=Math.floor(22.5)+1,n=a.CreateRect.gradientLeftToRight(240,45,.85,.9);return e.shipInDeckFlag.scale.set(.8,.8),e.clickArea.beginFill(0,0),e.clickArea.drawRect(0,0,645,45),e.clickArea.endFill(),e.clickArea.on(r.EventType.CLICK,e._onClick),e.clickArea.on(r.EventType.MOUSEOVER,e._onMouseOver),e.clickArea.on(r.EventType.MOUSEOUT,e._onMouseOut),e.clickArea.interactive=e.clickArea.buttonMode=!0,e.background.visible=!1,e.iconCheckState.position.set(12,12),e.containerShipTypeAndName.position.set(79,0),e.textShipType.anchor.set(0,0),e.textShipType.position.set(0,Math.floor(i-e.textShipType.height/2)),e.textName.anchor.set(0,0),e.textName.position.set(90,Math.floor(i-e.textName.height/2)+0),e.textLevel.position.set(336,Math.floor(i-e.textLevel.height/2)),e.textTaikyu.position.set(393,Math.floor(i-e.textTaikyu.height/2)),e.textKaryoku.position.set(439,Math.floor(i-e.textKaryoku.height/2)),e.textRaiso.position.set(486,Math.floor(i-e.textRaiso.height/2)),e.textTaiku.position.set(531,Math.floor(i-e.textTaiku.height/2)),e.shipSpeedImage.position.set(540,i),e.iconLockedShip.position.set(591,Math.floor(i-e.iconLockedShip.height/2)),e.iconLockedItem.position.set(591,Math.floor(i-e.iconLockedItem.height/2)),e.shipInDeckFlag.position.set(47,i),e.background.position.set(75,0),e.background.scale.x=1.05,e.textLevel.anchor.set(1,0),e.textTaikyu.anchor.set(1,0),e.textKaryoku.anchor.set(1,0),e.textRaiso.anchor.set(1,0),e.textTaiku.anchor.set(1,0),e.shipSpeedImage.anchor.set(0,.5),e.iconLockedShip.anchor.set(0,0),e.iconLockedItem.anchor.set(0,0),e.shipInDeckFlag.anchor.set(0,.5),e.containerShipTypeAndName.mask=n,e.containerShipTypeAndName.addChild(e.textShipType,e.textName),e.addChild(e.background,e.iconCheckState,e.shipInDeckFlag,e.textLevel,e.containerShipTypeAndName,e.textLevel,e.textTaikyu,e.textKaryoku,e.textRaiso,e.textTaiku,e.iconLockedShip,e.iconLockedItem,e.shipSpeedImage,e.clickArea),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.shipInDeckFlag.dispose(),this.containerShipTypeAndName.cacheAsBitmap=!1,this.containerShipTypeAndName.mask=null,this.containerShipTypeAndName.removeChildren(),this.shipSpeedImage.dispose(),this.clickArea.off(r.EventType.CLICK),this.clickArea.off(r.EventType.MOUSEOUT),this.clickArea.off(r.EventType.MOUSEOVER),this.clickArea.clear(),this.textShipType.destroy(),this.textName.destroy(),this.textLevel.destroy(),this.textTaikyu.destroy(),this.textKaryoku.destroy(),this.textRaiso.destroy(),this.textTaiku.destroy(),this.onClick=null,this.shipInDeckFlag=null,this.containerShipTypeAndName=null,this.iconLockedShip=null,this.iconLockedItem=null,this.shipSpeedImage=null,this.background=null,this.clickArea=null,this.textShipType=null,this.textName=null,this.textLevel=null,this.textTaikyu=null,this.textKaryoku=null,this.textRaiso=null,this.textTaiku=null,this.mouseoutColor=null,this.iconCheckState=null,this.checkState=null,this.arrayIndex=null},e.prototype.update=function(t,e,i,n,o,r,a,_,l,u,c,h,d,f){switch(void 0===h&&(h=null),this.arrayIndex=f,this.containerShipTypeAndName.cacheAsBitmap=!1,this.memShipId=t,this.textShipType.text=e+" ",this.textName.text=i,this.textLevel.text=n.toString(),this.textTaikyu.text=o.toString(),this.textKaryoku.text=r.toString(),this.textRaiso.text=a.toString(),this.textTaiku.text=_.toString(),this.shipSpeedImage.update(l),this.textName.position.x=this.textShipType.position.x+this.textShipType.width,this.iconLockedShip.visible=!1,this.iconLockedItem.visible=!1,u?this.iconLockedShip.visible=!0:c&&(this.iconLockedItem.visible=!0),d){case 1:this.iconCheckState.texture=p.ARSENAL_MAIN.getTexture(12);break;case 2:this.iconCheckState.texture=p.ARSENAL_MAIN.getTexture(13);break;case 3:this.iconCheckState.texture=p.ARSENAL_MAIN.getTexture(14)}this.checkState=d,this.textLevel.style.fill=this.mouseoutColor=s.ColorUtil.getLevelColor(n),this.shipInDeckFlag.visible=!1,h&&(this.shipInDeckFlag.update(h),this.shipInDeckFlag.visible=!0),this.containerShipTypeAndName.cacheAsBitmap=!0},e.prototype.toggleCheckBox=function(){switch(c.SE.play("239"),this.checkState){case 2:this.checkState=3,this.iconCheckState.texture=p.ARSENAL_MAIN.getTexture(14);break;case 3:this.checkState=2,this.iconCheckState.texture=p.ARSENAL_MAIN.getTexture(13)}},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),s=i(114),a=i(32),_=i(116),l=i(4),u=i(35),c=i(916),h=i(349),p=function(t){function e(){var e=t.call(this)||this;e._onClickDisassembly=function(){e.onClickStart(e.checkedMemShipIdList,e.dissemblyType)},e._onClickDisassemblyType=function(){var t,i=e.typeContainer.getChildByName(c.DisassemblyTypeName.KAITAI),n=e.typeContainer.getChildByName(c.DisassemblyTypeName.HOKAN),o=e.typeContainer.getChildByName(c.DisassemblyTypeName.BTN),r=0,s=0,a=createjs.Ease.linear;switch(e.dissemblyType){case 0:r=1,t=c.DisassemblyTypeMessage.KAITAI,e.dissemblyType=1;break;case 1:s=1,t=c.DisassemblyTypeMessage.HOKAN,e.dissemblyType=0}createjs.Tween.get(o).to({x:t.x},150+Math.floor(50),a).call(function(){e.textAlert.text=t.text,e.textAlert.style.fill=t.color,e._updateMaterialNumber()}),createjs.Tween.get(i).to({alpha:r},150,a),createjs.Tween.get(n).to({alpha:s},150,a)};var i=new PIXI.Sprite(u.ARSENAL_MAIN.getTexture(62));e.interactive=!0,e.addChild(i);var n=new PIXI.Sprite(u.ARSENAL_MAIN.getTexture(63));n.position.set(21,32);var p=function(t){var e=null,i=t;switch(t){case 0:e=c.DisassemblyTypeMessage.HOKAN;break;case 1:default:i=1,e=c.DisassemblyTypeMessage.KAITAI}return{type:i,data:e}}(o.default.model.basic.getDestroyShipSlotType()),d=p.data;e.dissemblyType=p.type,e.typeContainer=new PIXI.Container,e.typeContainer.position.set(154,30),e.typeContainer.buttonMode=!0,e.typeContainer.interactive=!0,e.typeContainer.on(r.EventType.CLICK,e._onClickDisassemblyType);var f=new PIXI.Sprite(u.ARSENAL_MAIN.getTexture(135)),y=new PIXI.Sprite(u.ARSENAL_MAIN.getTexture(137));y.position.set(50,0),y.name=c.DisassemblyTypeName.KAITAI,y.alpha=1===p.type?1:0;var m=new PIXI.Sprite(u.ARSENAL_MAIN.getTexture(138));m.position.set(65,0),m.name=c.DisassemblyTypeName.HOKAN,m.alpha=0===p.type?1:0;var g=new PIXI.Sprite(u.ARSENAL_MAIN.getTexture(136));g.position.set(d.x,2),g.name=c.DisassemblyTypeName.BTN,e.typeContainer.addChild(f,y,m,g),e.textAlert=new l.TextBox(15,d.color);var v=new PIXI.Sprite(u.ARSENAL_MAIN.getTexture(29));e.buttonDisassembly=new _.SimpleButton(u.ARSENAL_MAIN.getTexture(28),u.ARSENAL_MAIN.getTexture(30));var b=new s.DisableDownArrowAnimationView;return e.downArrowAnimationView=new s.DownArrowAnimationView,e._shipBanner=new a.ShipBanner,e.disassemblyMaterialItems=new Array,e.multiDisassemblyIcon=new PIXI.Sprite(u.ARSENAL_MAIN.getTexture(77)),e.disassemblyMaterialItems.push(new h.DisassemblyMaterialItem),e.disassemblyMaterialItems.push(new h.DisassemblyMaterialItem),e.disassemblyMaterialItems.push(new h.DisassemblyMaterialItem),e.disassemblyMaterialItems.push(new h.DisassemblyMaterialItem),e.disassemblyMaterialItems[0].position.set(15,84),e.disassemblyMaterialItems[1].position.set(15,139),e.disassemblyMaterialItems[2].position.set(15,195),e.disassemblyMaterialItems[3].position.set(15,250),e.textAlert.text=d.text,e.textAlert.position.set(24,63),b.position.set(127,450),e.downArrowAnimationView.position.set(127,450),v.position.set(28,496),e.buttonDisassembly.position.set(28,496),e.buttonDisassembly.on(r.EventType.CLICK,e._onClickDisassembly),e._shipBanner.position.set(21,345),e.multiDisassemblyIcon.position.set(60,302),e.container=new PIXI.Container,e.container.name="container",e.container.addChild(e.typeContainer,e.disassemblyMaterialItems[0],e.disassemblyMaterialItems[1],e.disassemblyMaterialItems[2],e.disassemblyMaterialItems[3],e.textAlert,e.shipBanner,e.multiDisassemblyIcon,v,b,e.downArrowAnimationView,e.buttonDisassembly),e.addChild(n,e.container),e.visibleContainer(!1),e.checkedMemShipIdList=[],e}return n(e,t),Object.defineProperty(e.prototype,"shipBanner",{get:function(){return this._shipBanner},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.removeChildren(),this.container.removeChildren(),this.typeContainer.off(r.EventType.CLICK,this._onClickDisassemblyType),this.typeContainer.removeChildren();for(var t=0;t<this.disassemblyMaterialItems.length;t++)this.disassemblyMaterialItems[t].dispose(),this.disassemblyMaterialItems[t]=null;this._shipBanner.dispose(),this.buttonDisassembly.dispose(),this.downArrowAnimationView.dispose(),this.textAlert.destroy(),this.disassemblyMaterialItems=null,this._shipBanner=null,this.buttonDisassembly=null,this.downArrowAnimationView=null,this.onClickStart=null,this.multiDisassemblyIcon=null,this.checkedMemShipIdList=null,this.dissemblyType=null,this.typeContainer=null,this.container=null},e.prototype.visibleContainer=function(t){this.getChildByName("container").visible=t},e.prototype.update=function(t,e,i,n){switch(this.memShipId=t.memID,n.length){case 0:this.container.visible=!1;break;case 1:this.container.visible=!0,this.multiDisassemblyIcon.visible=!1;var r=o.default.model.ship.get(n[0]);this._shipBanner.update(r,e),this._shipBanner.visible=!0,this.buttonDisassembly.visible=i,this.downArrowAnimationView.visible=i;break;default:this.container.visible=!0,this._shipBanner.visible=!1,this.multiDisassemblyIcon.visible=!0,this.buttonDisassembly.visible=i,this.downArrowAnimationView.visible=i}this.checkedMemShipIdList=n,this._updateMaterialNumber()},e.prototype._updateMaterialNumber=function(){for(var t={fuel:0,ammo:0,steel:0,baux:0},e=0,i=this.checkedMemShipIdList.length;e<i;e++){var n=o.default.model.ship.get(this.checkedMemShipIdList[e]),r=n.getMaterialForBroken(this.dissemblyType);t.fuel+=r.fuel,t.ammo+=r.ammo,t.steel+=r.steel,t.baux+=r.baux}for(var s=0,a=this.disassemblyMaterialItems.length;s<a;s++)this.disassemblyMaterialItems[s].visible=!1;var _=0;if(t.fuel>0){var l=this.disassemblyMaterialItems[_];l.update(31,t.fuel),l.visible=!0,_++}if(t.ammo>0){var l=this.disassemblyMaterialItems[_];l.update(32,t.ammo),l.visible=!0,_++}if(t.steel>0){var l=this.disassemblyMaterialItems[_];l.update(33,t.steel),l.visible=!0,_++}if(t.baux>0){var l=this.disassemblyMaterialItems[_];l.update(34,t.baux),l.visible=!0}},e}(PIXI.Container);e.ShipDisassemblyConfirm=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t.HOKAN={text:"\u88c5\u5099\u304c\u3042\u308b\u5834\u5408\u3001\u5009\u5eab\u306b\u4fdd\u7ba1\u3055\u308c\u307e\u3059\u3002",color:3564704,x:40},t.KAITAI={text:"\u88c5\u5099\u304c\u3042\u308b\u5834\u5408\u3001\u540c\u6642\u306b\u89e3\u4f53\u3055\u308c\u307e\u3059\u3002",color:12467003,x:105}}(e.DisassemblyTypeMessage||(e.DisassemblyTypeMessage={}));!function(t){t.HOKAN="hokan",t.KAITAI="kaitai",t.BTN="btn"}(e.DisassemblyTypeName||(e.DisassemblyTypeName={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=i(7),a=function(t){function e(e,i){var n=t.call(this)||this;return n._url="api_req_kousyou/destroyship",n.api_ship_ids=e,n.type=i,n}return n(e,t),e.prototype._connect=function(){this._post_data.api_ship_id=this.api_ship_ids.join(","),this._post_data.api_slot_dest_flag=this.type,o.default.model.basic.setDestroyShipSlotType(this.type),t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e=this._raw_data.api_material;o.default.model.useItem.get(31).__setCount__(e[0]),o.default.model.useItem.get(32).__setCount__(e[1]),o.default.model.useItem.get(33).__setCount__(e[2]),o.default.model.useItem.get(34).__setCount__(e[3]);var i=0===this.type;i&&o.default.model.slot.setUnsetData(s.ObjUtil.getObject(this._raw_data,"api_unset_list"));for(var n=0,r=this.api_ship_ids.length;n<r;n++){var a=this.api_ship_ids[n],_=o.default.model.ship.get(a),l=o.default.model.deck.isInDeck(a);if(l){var u=l[0],c=l[1];o.default.model.deck.get(u).__remove__(c)}o.default.model.ship.delete(_.memID,i)}t.prototype._completedEnd.call(this)},e}(r.APIBase);e.DestroyShipAPI=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(5),s=i(1),a=i(49),_=i(45),l=i(8),u=i(86),c=i(85),h=i(6),p=i(21),d=i(35),f=i(919),y=i(920),m=i(921),g=i(922),v=i(350),b=function(t){function e(e){var i=t.call(this)||this;i.slotItemFilterKeyType=0,i._pageIndex=0,i.checkedMemSlotIdList=[],i.animation={progress:0},i._onClickFilter=function(t){var e=[],n=i._sortAndFilter(i.slots,t),o=i._getPage(n.length),r=i._getSlotsInPage(n,0);i.slotDisassemblyChoice.update(r,e),i.slotDisassemblyConfirm.visibleContainer(!1),i.slotItemFilterView.updateFilterType(t),i.slotItemFilterView.hideFilterListImmidiate(),i.filteredSlots=n,i.pagerView.init(o),i.checkedMemSlotIdList=e,i._pageIndex=0,i.slotItemFilterKeyType=t},i._onClickSlot=function(t){var e=o.default.model.slot.get(t),n=i._getSlotsInPage(i.filteredSlots,i.pageIndex);if(e.isLocked())0==i.checkedMemSlotIdList.length&&(i.slotDisassemblyConfirm.clearInfo(),i.slotDisassemblyConfirm.update([e.memID],!1),i.slotDisassemblyConfirm.visibleContainer(!0));else{h.SE.play("239");var r=i.checkedMemSlotIdList.indexOf(t);switch(-1<r?i.checkedMemSlotIdList.splice(r,1):i.checkedMemSlotIdList.push(t),i.slotDisassemblyConfirm.clearInfo(),i.slotDisassemblyChoice.update(n,i.checkedMemSlotIdList),i.checkedMemSlotIdList.length){case 0:i.slotDisassemblyConfirm.visibleContainer(!1);break;case 1:default:i.slotDisassemblyConfirm.update(i.checkedMemSlotIdList,!0),i.slotDisassemblyConfirm.visibleContainer(!0)}}},i._onChangePage=function(t){if(i._pageIndex!=t){var e=[],n=i._getSlotsInPage(i.filteredSlots,t);i.slotDisassemblyChoice.update(n,e),i.slotDisassemblyConfirm.visibleContainer(!1),i._pageIndex=t,i.checkedMemSlotIdList=e}},i._onClickDisassembly=function(t){var e=new f.DestroyItem2API(t),n=i.slotDisassemblyConfirm.viewIcon;i.disassemblyAnimation=new v.DisassemblyAnimation(162,142),i.disassemblyAnimation.position.x=n.x+-.5*n.width,i.disassemblyAnimation.position.y=n.y+-.5*n.height,o.default.view.clickGuard=!0,e.start(function(){var t=new PIXI.Graphics;t.beginFill(0,.2),t.drawRect(0,0,r.default.width,r.default.height),t.endFill(),o.default.view.overLayer.addChild(t),n.parent.addChild(i.disassemblyAnimation);var e=function(){h.SE.play("202")};createjs.Tween.get(n).call(function(){e(),i.disassemblyAnimation.play(5)}).to({alpha:.33},1e3).call(e).to({alpha:.66},1e3).call(e).to({alpha:1},1e3).call(function(){t.clear(),o.default.view.overLayer.removeChild(t),n.parent.removeChild(i.disassemblyAnimation),i.disassemblyAnimation.dispose(),i.disassemblyAnimation=null,i.slotDisassemblyConfirm.viewIcon.alpha=1;var e=[],r=o.default.model.slot.createUnsetList(),s=i._sortAndFilter(r,i.slotItemFilterKeyType),a=i._getPage(s.length),_=i._pageIndex;a<=i._pageIndex&&(_=a-1)<0&&(_=0);var l=i._getSlotsInPage(s,_);i.pagerView.init(a),i.pagerView.changePage(_),i.slotDisassemblyConfirm.visibleContainer(!1),o.default.view.portMain.updateInfo(),i.slotDisassemblyChoice.update(l,[]),i.slots=r,i.filteredSlots=s,i.checkedMemSlotIdList=e,i._pageIndex=_,o.default.view.clickGuard=!1})})},i._onClickBackground=function(){i.onComplete()},i.list_tit_bg_0=new PIXI.Sprite(p.COMMON_MAIN.getTexture(64)),i.list_tit_bg_1=new PIXI.Sprite(p.COMMON_MAIN.getTexture(64)),i.pagerView=new u.PagerView,i.pagerView.position.set(42,529),i.pagerView.onChangePage=i._onChangePage,i.slotItemFilterView=new y.SlotItemFilterView,i.slotItemFilterView.position.set(247,13),i.slotItemFilterView.onClick=i._onClickFilter,i.slotDisassemblyChoice=new m.SlotDisassemblyChoice,i.slotDisassemblyChoice.onClickSlot=i._onClickSlot,i.slotDisassemblyChoice.addChild(i.slotItemFilterView,i.pagerView),i.slotDisassemblyConfirm=new g.SlotDisassemblyConfirm,i.slotDisassemblyConfirm.position.set(654,-16),i.slotDisassemblyConfirm.onClickStart=i._onClickDisassembly,i.blue_txt_04=new PIXI.Sprite(p.COMMON_MAIN.getTexture(2)),i.blue_txt_04.anchor.set(0,.5),i.blue_txt_04.position.set(22,Math.floor(i.list_tit_bg_0.height/2-4)),i.blue_txt_11=new PIXI.Sprite(d.ARSENAL_MAIN.getTexture(6)),i.blue_txt_11.anchor.set(0,.5),i.blue_txt_11.position.set(22,Math.floor(i.list_tit_bg_0.height/2-4)),i.list_tit_bg_0.position.set(0,-37),i.list_tit_bg_1.position.set(654,-37),i.list_tit_bg_0.addChild(i.blue_txt_04),i.list_tit_bg_1.addChild(i.blue_txt_11),i.addChild(i.slotDisassemblyChoice,i.slotDisassemblyConfirm,i.list_tit_bg_0,i.list_tit_bg_1),i.position.set(1200,139);return i.dialogBackground=new l.AreaBox(a.UISettings.DIALOG_BG_ALPHA),i.dialogBackground.alpha=0,i.dialogBackground.position.set(0,103),i.dialogBackground.height=r.default.height-103,e.addChild(i.dialogBackground),e.addChild(i),i.mainView=e,i.dialogBackground.on(s.EventType.CLICK,i._onClickBackground),i}return n(e,t),Object.defineProperty(e.prototype,"pageIndex",{get:function(){return this._pageIndex},enumerable:!0,configurable:!0}),e.prototype._sortAndFilter=function(t,e){if(0==e)return _.SlotUtil.sort(t,0),t;if(13==e)return _.SlotUtil.sort(t,1),t;if(14==e)return _.SlotUtil.sort(t,2),t;switch(e){case 1:return _.SlotUtil.filter(t,1);case 2:return _.SlotUtil.filter(t,2);case 3:return _.SlotUtil.filter(t,3);case 4:return _.SlotUtil.filter(t,4);case 5:return _.SlotUtil.filter(t,5);case 6:return _.SlotUtil.filter(t,6);case 7:return _.SlotUtil.filter(t,7);case 8:return _.SlotUtil.filter(t,8);case 9:return _.SlotUtil.filter(t,9);case 10:return _.SlotUtil.filter(t,10);case 11:return _.SlotUtil.filter(t,11);case 12:return _.SlotUtil.filter(t,12)}},e.prototype._getSlotsInPage=function(t,e){var i=this.slotDisassemblyChoice.ITEM_NUM;return t.slice(e*i,e*i+i)},e.prototype._getPage=function(t){var e=this.slotDisassemblyChoice.ITEM_NUM;return Math.ceil(t/e)},e.prototype.start=function(t,e){var i=this,n=o.default.model.slot.createUnsetList(),r=this._sortAndFilter(n,t),s=[],a=this._getSlotsInPage(r,e),_=this._getPage(r.length);this.pagerView.init(_),this.slotItemFilterView.updateFilterType(t),this._pageIndex=e,this.pagerView.changePage(e),this.slotDisassemblyChoice.update(a,s),this.animation.progress=0,o.default.view.clickGuard=!0;var l=function(){i.x=1200-945*i.animation.progress,i.dialogBackground.alpha=i.animation.progress};this.checkedMemSlotIdList=s,this.filteredSlots=r,this.slots=n;var u=createjs.Tween.get(this.animation);u.call(function(){u.addEventListener("change",l)}).to({progress:1},200).call(function(){u.removeAllEventListeners("change"),createjs.Tween.removeTweens(u.target),i.animation.progress=1,l(),i.dialogBackground.width=288,o.default.view.clickGuard=!1})},e.prototype.hide=function(t){var e=this;c.TaskLoadSlotResource.abortBy(this.slotDisassemblyConfirm.viewIcon),this.dialogBackground.width=r.default.width;var i=function(){e.x=1200-945*(1-e.animation.progress),e.dialogBackground.alpha=1-e.animation.progress};this.animation.progress=0;var n=createjs.Tween.get(this.animation);n.call(function(){i(),n.addEventListener("change",i)}).to({progress:1},200).call(function(){n.removeAllEventListeners("change"),createjs.Tween.removeTweens(n.target),e.animation.progress=1,i(),t()})},e.prototype.dispose=function(){this.dialogBackground.off(s.EventType.CLICK,this._onClickBackground),this.removeChildren(),createjs.Tween.removeTweens(this.animation),this.mainView.removeChild(this.dialogBackground),this.mainView.removeChild(this),this.list_tit_bg_0.removeChild(this.blue_txt_04),this.list_tit_bg_1.removeChild(this.blue_txt_11),this.slotDisassemblyChoice.dispose(),this.slotDisassemblyConfirm.visibleContainer(!1),this.slotDisassemblyConfirm.dispose(),this.pagerView.dispose(),this.slotItemFilterView.dispose(),this.disassemblyAnimation&&this.disassemblyAnimation.dispose(),this.onComplete=null,this.slots=null,this.slotItemFilterKeyType=null,this.filteredSlots=null,this._pageIndex=null,this.mainView=null,this.dialogBackground=null,this.slotDisassemblyChoice=null,this.slotDisassemblyConfirm=null,this.pagerView=null,this.slotItemFilterView=null,this.checkedMemSlotIdList=null,this.list_tit_bg_0=null,this.list_tit_bg_1=null,this.blue_txt_04=null,this.blue_txt_11=null,this.animation=null,this.disassemblyAnimation=null},e}(PIXI.Container);e.SlotDisassemblyContainer=b},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=i(0),s=function(t){function e(e){var i=t.call(this)||this;return i._url="api_req_kousyou/destroyitem2",i.api_slotitem_ids=e,i}return n(e,t),e.prototype._connect=function(){this._post_data.api_slotitem_ids=this.api_slotitem_ids.toString(),t.prototype._connect.call(this)},e.prototype._completedEnd=function(){for(var e=0;e<this.api_slotitem_ids.length;e++){var i=this.api_slotitem_ids[e];r.default.model.slot.delete(i)}var n=this._raw_data.api_get_material,o=r.default.model.useItem.get(31),s=r.default.model.useItem.get(32),a=r.default.model.useItem.get(33),_=r.default.model.useItem.get(34);o.__setCount__(o.count+n[0]),s.__setCount__(s.count+n[1]),a.__setCount__(a.count+n[2]),_.__setCount__(_.count+n[3]),t.prototype._completedEnd.call(this)},e}(o.APIBase);e.DestroyItem2API=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e.maxDuration=125,e.shown=!1,e._onClickSlotItemFilterKeyType=function(t){e.onClick(t)},e._onMouseOutHideArea=function(t){var i=t.data.getLocalPosition(e);i.x>=e.startPoint.x&&i.x<=e.endPoint.x&&i.y>=e.startPoint.y&&i.y<=e.endPoint.y||(e.hideFilterList(),e.shown=!1)},e._onClick=function(){e.switchShown()},e.slotItemFilterButton=new l,e.slotItemFilterButton.onClick=e._onClick,e.slotItemFilterList=new a,e.slotItemFilterListMask=new PIXI.Graphics,e.slotItemFilterListMask.beginFill(0,0),e.slotItemFilterListMask.drawRect(0,0,e.slotItemFilterList.width,e.slotItemFilterList.height),e.slotItemFilterListMask.endFill(),e.slotItemFilterListMask.position.set(0,-(e.slotItemFilterListMask.height+2)),e.slotItemFilterList.position.set(29,30),e.slotItemFilterList.mask=e.slotItemFilterListMask,e.slotItemFilterList.onClick=e._onClickSlotItemFilterKeyType,e.slotItemFilterList.addChild(e.slotItemFilterListMask),e.startPoint=new PIXI.Point(-38,-38),e.endPoint=new PIXI.Point(157,-38+e.slotItemFilterList.height+76),e.filterListArea=new PIXI.Graphics,e.filterListArea.beginFill(0,0),e.filterListArea.position.set(-246,-12),e.filterListArea.drawRect(0,0,700,560),e.filterListArea.endFill(),e.filterListArea.on(r.EventType.MOUSEMOVE,e._onMouseOutHideArea),e.filterListArea.interactive=!0,e.filterListArea.visible=!1,e.slotItemFilterList.renderable=!1,e.addChild(e.filterListArea,e.slotItemFilterButton,e.slotItemFilterList),e}return n(e,t),e.prototype.dispose=function(){this.slotItemFilterList.mask=null,this.slotItemFilterList.dispose(),this.slotItemFilterButton.dispose(),this.slotItemFilterListMask.clear(),this.filterListArea.clear(),this.onClick=null,this.shown=null,this.slotItemFilterButton=null,this.slotItemFilterList=null,this.slotItemFilterListMask=null,this.filterListArea=null,this.startPoint=null,this.endPoint=null,this.removeChildren()},e.prototype.updateFilterType=function(t){this.slotItemFilterButton.update(t)},e.prototype.switchShown=function(){this.shown=!this.shown,this.shown?this.showFilterList():this.hideFilterList()},e.prototype.showFilterList=function(){this.filterListArea.visible=!0,this.slotItemFilterList.renderable=!0,createjs.Tween.removeTweens(this.slotItemFilterListMask);var t=this.slotItemFilterListMask.height+this.slotItemFilterListMask.y+1,e=0==t?0:t/this.slotItemFilterListMask.height,i=this.maxDuration*(1-e);createjs.Tween.get(this.slotItemFilterListMask).to({y:0},i).play(null)},e.prototype.hideFilterList=function(){var t=this;this.filterListArea.visible=!1,createjs.Tween.removeTweens(this.slotItemFilterListMask);var e=this.slotItemFilterListMask.height+this.slotItemFilterListMask.y+2,i=0==e?0:e/this.slotItemFilterListMask.height,n=-(this.slotItemFilterListMask.height+2),o=this.maxDuration*i;createjs.Tween.get(this.slotItemFilterListMask).to({y:n},o).call(function(){t.slotItemFilterList.renderable=!1}).play(null)},e.prototype.hideFilterListImmidiate=function(){this.filterListArea.visible=!1,createjs.Tween.removeTweens(this.slotItemFilterListMask),this.slotItemFilterListMask.y=-(this.slotItemFilterListMask.height+2),this.shown=!1},e}(PIXI.Container);e.SlotItemFilterView=s;var a=function(t){function e(){var e=t.call(this)||this;e._onClick=function(t){e.onClick(t)};for(var i=new PIXI.Sprite(o.COMMON_SORT.getTexture(53)),n=[[0,21,22],[1,23,24],[2,25,26],[3,27,28],[4,29,30],[5,31,32],[6,33,34],[7,35,36],[8,43,44],[9,45,46],[10,47,48],[11,49,50],[12,37,38],[13,39,40],[14,41,42]],r=[],s=0;s<n.length;s++){var a=n[s],l=a[0],u=a[1],c=a[2],h=new _(l,u,c);h.onClick=e._onClick,h.y=28.5*s,r.push(h)}e.addChild(i);for(var s=0;s<r.length;s++)e.addChild(r[s]);return e.slotItemFilterListItems=r,e}return n(e,t),e.prototype.dispose=function(){for(var t=0;t<this.slotItemFilterListItems.length;t++)this.removeChild(this.slotItemFilterListItems[t]),this.slotItemFilterListItems[t].dispose(),this.slotItemFilterListItems[t]=null;this.slotItemFilterListItems=null,this.onClick=null,this.removeChildren()},e}(PIXI.Container);e.SlotItemFilterList=a;var _=function(t){function e(e,i,n){var s=t.call(this)||this;return s._onMouseOver=function(){s.status.texture=o.COMMON_SORT.getTexture(s.rIdMouseover),s.hover.visible=!0},s._onMouseOut=function(){s.status.texture=o.COMMON_SORT.getTexture(s.rIdMouseout),s.hover.visible=!1},s._onClick=function(){s.onClick(s.slotItemFilterKeyType)},s.rIdMouseover=n,s.rIdMouseout=i,s.slotItemFilterKeyType=e,s.status=new PIXI.Sprite(o.COMMON_SORT.getTexture(i)),s.hover=new PIXI.Sprite(o.COMMON_SORT.getTexture(20)),s.hover.visible=!1,s.interactive=!0,s.on(r.EventType.MOUSEOVER,s._onMouseOver),s.on(r.EventType.MOUSEOUT,s._onMouseOut),s.on(r.EventType.CLICK,s._onClick),s.addChild(s.hover,s.status),s}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.off(r.EventType.MOUSEOVER),this.off(r.EventType.MOUSEOUT),this.off(r.EventType.CLICK),this.rIdMouseover=null,this.rIdMouseout=null,this.status=null,this.hover=null,this.slotItemFilterKeyType=null,this.onClick=null},e}(PIXI.Container);e.SlotItemFilterListItem=_;var l=function(t){function e(){var e=t.call(this)||this;e._onClick=function(){e.onClick()};var i=new PIXI.Sprite(o.COMMON_SORT.getTexture(19)),n=new PIXI.Sprite(o.COMMON_SORT.getTexture(2));return e.state=new PIXI.Sprite(o.COMMON_SORT.getTexture(3)),e.on(r.EventType.CLICK,e._onClick),e.interactive=e.buttonMode=!0,i.position.set(0,0),n.position.set(29,0),e.state.position.set(29,0),e.addChild(i,n,e.state),e}return n(e,t),e.prototype.dispose=function(){this.off(r.EventType.CLICK),this.removeChildren(),this.onClick=null,this.state=null},e.prototype.update=function(t){var e=this.keyToRid(t);this.state.texture=o.COMMON_SORT.getTexture(e)},e.prototype.keyToRid=function(t){switch(t){case 0:return 3;case 1:return 4;case 2:return 5;case 3:return 6;case 4:return 7;case 5:return 8;case 6:return 9;case 7:return 10;case 8:return 14;case 9:return 15;case 10:return 16;case 11:return 17;case 12:return 11;case 13:return 12;case 14:return 13}return null},e}(PIXI.Container);e.SlotItemFilterButton=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),s=i(145),a=i(45),_=i(161),l=i(61),u=i(162),c=i(4),h=i(21),p=i(35),d=function(t){function e(){var e=t.call(this)||this;e.ITEM_NUM=10,e._onClick=function(t){e.onClickSlot(t)};var i=new PIXI.Sprite(h.COMMON_MAIN.getTexture(13));i.interactive=!0,e.addChild(i);var n=new PIXI.Sprite(h.COMMON_MAIN.getTexture(35));e.iconEmpty=new PIXI.Sprite(p.ARSENAL_MAIN.getTexture(140)),e.listItems=new Array,n.position.set(90,12),e.addChild(e.iconEmpty,n);e.iconEmpty.position.set(93,58),e.iconEmpty.visible=!1;for(var o=0;o<e.ITEM_NUM;o++){var r=new y,s=new PIXI.Sprite(h.COMMON_MAIN.getTexture(37));r.onClick=e._onClick,s.position.set(48,43+46*o+43),r.position.set(0,43+46*o),e.addChild(s,r),e.listItems.push(r)}return e}return n(e,t),e.prototype.dispose=function(){for(var t=0;t<this.listItems.length;t++)this.listItems[t].dispose(),this.listItems[t]=null;this.listItems=null,this.iconEmpty=null,this.onClickSlot=null,this.removeChildren()},e.prototype.update=function(t,e){for(var i=0;i<this.listItems.length;i++){var n=this.listItems[i];if(n.visible=!1,!(i>=t.length)){var r=t[i],s=o.default.model.slot.getMst(r.mstID),_=a.SlotUtil.genSummaryText(r,"+","/",!0),l=f.DISABLE;l=r.isLocked()?f.DISABLE:e.indexOf(r.memID)>-1?f.ON:f.OFF,n.update(r.memID,r.iconType,r.name,r.skillLevel,r.level,s.rarity,_,r.isLocked(),l),n.visible=!0}}this.iconEmpty.visible=!1,0==t.length&&(this.iconEmpty.visible=!0)},e}(PIXI.Container);e.SlotDisassemblyChoice=d;var f;!function(t){t[t.DISABLE=0]="DISABLE",t[t.OFF=1]="OFF",t[t.ON=2]="ON"}(f||(f={}));var y=function(t){function e(){var e=t.call(this)||this;e._onClick=function(){e.onClick(e.memSlotId)},e._onMouseOver=function(){e.containerName.cacheAsBitmap=!1,e.containerSummary.cacheAsBitmap=!1,e.background.visible=!0,e.textRarity.style.fill=e.textSummary.style.fill=e.textName.style.fill=16777215,e.maskName.texture=h.COMMON_MAIN.getTexture(16),e.maskSummary.texture=h.COMMON_MAIN.getTexture(16),e.containerName.cacheAsBitmap=!0,e.containerSummary.cacheAsBitmap=!0},e._onMouseOut=function(){e.containerName.cacheAsBitmap=!1,e.containerSummary.cacheAsBitmap=!1,e.background.visible=!1,e.textRarity.style.fill=e.textSummary.style.fill=e.textName.style.fill=5523516,e.maskName.texture=h.COMMON_MAIN.getTexture(38),e.maskSummary.texture=h.COMMON_MAIN.getTexture(38),e.containerName.cacheAsBitmap=!0,e.containerSummary.cacheAsBitmap=!0},e.background=new PIXI.Sprite(h.COMMON_MAIN.getTexture(17)),e.clickArea=new PIXI.Graphics,e.iconCheckState=new PIXI.Sprite(p.ARSENAL_MAIN.getTexture(12)),e.iconWeapon=new l.IconWeapon,e.airPlaneLevel=new _.AirPlaneLevel,e.textRarity=new c.TextBox(21,5523516),e.textSummary=new c.TextBox(21,5523516),e.textName=new c.TextBox(21,5523516),e.slotItemLevel=new u.SlotItemLevel,e.maskName=new PIXI.Sprite(h.COMMON_MAIN.getTexture(38)),e.maskSummary=new PIXI.Sprite(h.COMMON_MAIN.getTexture(38)),e.iconLock=new PIXI.Sprite(p.ARSENAL_MAIN.getTexture(80)),e.maskName.anchor.set(1,0),e.maskName.position.set(360,0),e.maskSummary.anchor.set(1,0),e.maskSummary.position.set(700,0),e.iconCheckState.position.set(15,24),e.iconCheckState.anchor.set(0,.5),e.airPlaneLevel.position.set(270,3),e.textRarity.anchor.x=0,e.slotItemLevel.position.set(307,15),e.iconWeapon.position.set(45,0),e.iconLock.position.set(618,0),e.background.position.set(90,0),e.background.scale.x=1.22,e.background.visible=!1,e.clickArea.beginFill(0,0),e.clickArea.drawRect(0,0,645,45),e.clickArea.endFill(),e.clickArea.on(r.EventType.CLICK,e._onClick),e.clickArea.on(r.EventType.MOUSEOVER,e._onMouseOver),e.clickArea.on(r.EventType.MOUSEOUT,e._onMouseOut),e.clickArea.interactive=e.clickArea.buttonMode=!0,e.containerSummary=new PIXI.Container,e.containerName=new PIXI.Container,e.containerSummary.position.set(450,10),e.containerName.position.set(96,10);var i=new PIXI.Graphics;i.beginFill(0,0),i.drawRect(0,0,245,45),i.endFill();var n=new PIXI.Graphics;return n.beginFill(0,0),n.drawRect(0,0,245,45),n.endFill(),e.containerSummary.mask=n,e.containerSummary.addChild(e.textSummary,n),e.containerName.mask=i,e.containerName.addChild(e.textName,i),e.addChild(e.background,e.iconCheckState,e.iconWeapon,e.containerName,e.maskName,e.airPlaneLevel,e.slotItemLevel,e.textRarity,e.containerSummary,e.maskSummary,e.iconLock,e.clickArea),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.containerName.mask=null,this.containerSummary.mask=null,this.containerName.cacheAsBitmap=!1,this.containerName.removeChildren(),this.containerSummary.cacheAsBitmap=!1,this.containerSummary.removeChildren(),this.iconWeapon.dispose(),this.airPlaneLevel.dispose(),this.slotItemLevel.dispose(),this.clickArea.clear(),this.clickArea.off(r.EventType.CLICK),this.clickArea.off(r.EventType.MOUSEOVER),this.clickArea.off(r.EventType.MOUSEOUT),this.textRarity.destroy(),this.textSummary.destroy(),this.textName.destroy(),this.onClick=null,this.iconCheckState=null,this.iconWeapon=null,this.textName=null,this.airPlaneLevel=null,this.slotItemLevel=null,this.textRarity=null,this.textSummary=null,this.iconLock=null,this.background=null,this.clickArea=null,this.containerName=null,this.containerSummary=null,this.maskName=null,this.maskSummary=null},e.prototype.update=function(t,e,i,n,o,r,a,_,l){switch(this.containerName.cacheAsBitmap=!1,this.containerSummary.cacheAsBitmap=!1,this.memSlotId=t,this.iconWeapon.update(e),this.textName.text=i,this.airPlaneLevel.update(n),this.slotItemLevel.update(o),this.iconLock.visible=!1,_&&(this.iconLock.visible=!0),this.textRarity.text=s.SlotConst.SLOTITEM_RARITY_NAMES[r],this.textSummary.text=a,l){case f.DISABLE:this.iconCheckState.texture=p.ARSENAL_MAIN.getTexture(12);break;case f.OFF:this.iconCheckState.texture=p.ARSENAL_MAIN.getTexture(13);break;case f.ON:this.iconCheckState.texture=p.ARSENAL_MAIN.getTexture(14)}this.textRarity.position.set(391-Math.floor(this.textRarity.width/2),10),this.containerName.cacheAsBitmap=!0,this.containerSummary.cacheAsBitmap=!0},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),s=i(114),a=i(116),_=i(85),l=i(35),u=i(349),c=function(t){function e(){var e=t.call(this)||this;e._onClickDisassembly=function(){e.onClickStart(e.memSlotIds)};var i=new PIXI.Sprite(l.ARSENAL_MAIN.getTexture(62));e.interactive=!0,e.addChild(i);var n=new PIXI.Sprite(l.ARSENAL_MAIN.getTexture(63));n.position.set(21,32);var o=new PIXI.Sprite(l.ARSENAL_MAIN.getTexture(20));e.buttonDisassembly=new a.SimpleButton(l.ARSENAL_MAIN.getTexture(19),l.ARSENAL_MAIN.getTexture(21));var _=new s.DisableDownArrowAnimationView;e.downArrowAnimationView=new s.DownArrowAnimationView,e._icon=new PIXI.Sprite,e._iconMulti=new PIXI.Sprite(l.ARSENAL_MAIN.getTexture(78)),e.disassemblyMaterialItems=new Array,e.disassemblyMaterialItems.push(new u.DisassemblyMaterialItem),e.disassemblyMaterialItems.push(new u.DisassemblyMaterialItem),e.disassemblyMaterialItems.push(new u.DisassemblyMaterialItem),e.disassemblyMaterialItems.push(new u.DisassemblyMaterialItem),e.disassemblyMaterialItems[0].position.set(15,84),e.disassemblyMaterialItems[1].position.set(15,139),e.disassemblyMaterialItems[2].position.set(15,195),e.disassemblyMaterialItems[3].position.set(15,250),_.position.set(127,450),e.downArrowAnimationView.position.set(127,450),o.position.set(28,496),e.buttonDisassembly.position.set(28,496),e.buttonDisassembly.on(r.EventType.CLICK,e._onClickDisassembly),e._icon.anchor.set(.5,.5),e._icon.scale.set(.356,.356),e._icon.position.set(148,367),e._icon.visible=!1,e._iconMulti.anchor.set(.5,.5),e._iconMulti.position.set(148,367),e._iconMulti.scale.set(1),e._iconMulti.visible=!1;var c=new PIXI.Container;return c.name="container",c.addChild(e.disassemblyMaterialItems[0],e.disassemblyMaterialItems[1],e.disassemblyMaterialItems[2],e.disassemblyMaterialItems[3],e._icon,e._iconMulti,o,_,e.downArrowAnimationView,e.buttonDisassembly),e.addChild(n,c),e.visibleContainer(!1),e}return n(e,t),Object.defineProperty(e.prototype,"viewIcon",{get:function(){return this._icon.visible?this._icon:this._iconMulti},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){_.TaskLoadSlotResource.abortBy(this._icon);for(var t=0;t<this.disassemblyMaterialItems.length;t++)this.disassemblyMaterialItems[t].dispose(),this.disassemblyMaterialItems[t]=null;this.buttonDisassembly.dispose(),this.downArrowAnimationView.dispose(),this.onClickStart=null,this.disassemblyMaterialItems=null,this.buttonDisassembly=null,this.downArrowAnimationView=null,this._icon=null,this._iconMulti=null,this.memSlotIds=null,this.removeChildren()},e.prototype.visibleContainer=function(t){this.getChildByName("container").visible=t},e.prototype.update=function(t,e){for(var i={fuel:0,ammo:0,steel:0,baux:0},n=0;n<t.length;n++){var r=t[n],s=o.default.model.slot.get(r),a=o.default.model.slot.getMst(s.mstID),l=a.getMaterialsFromBroken();i.ammo+=l.ammo,i.fuel+=l.fuel,i.steel+=l.steel,i.baux+=l.baux}for(var u=0,n=0;n<this.disassemblyMaterialItems.length;n++)this.disassemblyMaterialItems[n].visible=!1;if(0<i.fuel){var c=this.disassemblyMaterialItems[u];c.update(31,i.fuel),c.visible=!0,u++}if(0<i.ammo){var c=this.disassemblyMaterialItems[u];c.update(32,i.ammo),c.visible=!0,u++}if(0<i.steel){var c=this.disassemblyMaterialItems[u];c.update(33,i.steel),c.visible=!0,u++}if(0<i.baux){var c=this.disassemblyMaterialItems[u];c.update(34,i.baux),c.visible=!0,u++}if(_.TaskLoadSlotResource.abortBy(this._icon),1<t.length)this._icon.visible=!1,this._icon.texture=PIXI.Texture.EMPTY,this._iconMulti.visible=!0;else{this._iconMulti.visible=!1,this._icon.visible=!0;var r=t[0],h=o.default.model.slot.get(r);new _.TaskLoadSlotResource("item_on",this._icon,h.mstID).start()}this.buttonDisassembly.visible=!1,this.downArrowAnimationView.visible=!1,e&&(this.buttonDisassembly.visible=!0,this.downArrowAnimationView.visible=!0),this.memSlotIds=t},e.prototype.clearInfo=function(){for(var t=0;t<this.disassemblyMaterialItems.length;t++)this.disassemblyMaterialItems[t].visible=!1;this._icon.visible=!1,this._iconMulti.visible=!1,this.buttonDisassembly.visible=!1,this.downArrowAnimationView.visible=!1},e}(PIXI.Container);e.SlotDisassemblyConfirm=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(47),r=i(924),s=i(926),a=i(927),_=i(928),l=i(929),u=i(931),c=i(932),h=i(934),p=i(1018),d=i(1039),f=function(t){function e(){return t.call(this)||this}return n(e,t),Object.defineProperty(e.prototype,"viewTop",{get:function(){return this._viewTop},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){this._expedition_available=t,this._viewTop=new c.ViewTop,this._viewTop.initialize(this._expedition_available),this.addChild(this._viewTop)},e.prototype.dispose=function(){null!=this._viewTop&&(this.removeChild(this._viewTop),this._viewTop.dispose(),this._viewTop=null),null!=this._topTask&&this._topTask.cancel(),null!=this._viewSub&&(this.removeChild(this._viewSub),this._viewSub.dispose(),this._viewSub=null)},e.prototype.startTopTask=function(){var t=this;this._topTask=new a.TaskTop(this),this._topTask.start(function(){t._topTask=null})},e.prototype.openView=function(t){var e=this,i=this._viewSub;if(0==t){var n=new h.ViewMain(this._expedition_available,function(t){e.openView(t)});(new _.MapInfoAPI).start(function(){n.initialize(),n.update(1),e._openView(n,i)})}else if(1==t){var o=new p.ViewMain(this._expedition_available,function(t){e.openView(t)}),r=new l.PracticeAPI;r.start(function(){o.initialize(),o.update(r.res_model),e._openView(o,i)})}else if(2==t){var s=new d.ViewMain(this._expedition_available,function(t){e.openView(t)});(new u.ExpeditionAPI).start(function(){s.initialize(),e._openView(s,i)})}},e.prototype._removeTopView=function(){null!=this._viewTop&&(this.removeChild(this._viewTop),this._viewTop=null)},e.prototype._openView=function(t,e){t.position.set(1200,0),this.addChild(t),this._viewSub=t,this._openViewTween(t,e)},e.prototype._openViewTween=function(t,e){var i=this;createjs.Tween.get(t).to({x:0},200).call(function(){i._removeTopView(),t.activate()}),null!=e&&(e.deactivate(),createjs.Tween.get(e).wait(200).to({alpha:0},300).call(function(){e.dispose(),i.removeChild(e)}))},e.prototype.getPreInitializeTask=function(t){return new r.PreInitializeTask(this)},e.prototype.getInitializeTask=function(t){return new r.InitializeTask(this)},e.prototype.getPreFinalizeTask=function(){return new s.PreFinalizeTask(this)},e.prototype.getFinalizeTask=function(){return new s.FinalizeTask(this)},e}(o.SceneBase);e.SallyScene=f},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(18),s=i(2),a=i(925),_=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){this._loadResources()},e.prototype._loadResources=function(){var t=this,e=o.default.model.map.getArea(r.EVENT_AREA_ID),i=null!=e;new a.TaskLoadResourcesSally(i).start(function(){t._showTopView()})},e.prototype._showTopView=function(){var t=o.default.model.deck.num>1;this._scene.initialize(t),this._scene=null,this._endTask()},e}(s.TaskBase);e.PreInitializeTask=_;var l=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){this._playBGM()},e.prototype._playBGM=function(){o.default.sound.bgm.play(103),this._startScene()},e.prototype._startScene=function(){this._scene.startTopTask(),this._endTask()},e}(s.TaskBase);e.InitializeTask=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(14),s=function(t){function e(e){var i=t.call(this)||this;return i._event=e,i}return n(e,t),e.prototype._start=function(){this._load()},e.prototype._load=function(){var t=this,e=new r.UIImageLoader("sally");e.add("sally_common.json"),e.add("sally_top.json"),e.add("sally_sortie.json"),e.add("sally_practice.json"),e.add("sally_expedition.json"),e.add("sally_expedition_detail.json"),e.add("sally_airunit.json"),e.add("sally_jin.json"),e.add("sally_map_parts.json"),this._event&&(e.add("sally_event.json"),e.add("sally_strategymap.json"),e.add("sally_strategymap_s.json")),e.load(function(){t._endTask()})},e}(o.TaskBase);e.TaskLoadResourcesSally=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=function(t){function e(e){var i=t.call(this)||this;return i._view=e,i}return n(e,t),e.prototype._start=function(){this._view=null,this._endTask()},e}(o.TaskBase);e.PreFinalizeTask=r;var s=function(t){function e(e){var i=t.call(this)||this;return i._view=e,i}return n(e,t),e.prototype._start=function(){this._view.dispose(),this._view=null,this._endTask()},e}(o.TaskBase);e.FinalizeTask=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i._selected=null,i._onClickSortie=function(){i._removeEventListeners(),i._selected=i._topView.btn_sortie,i._hideTween()},i._onClickPractice=function(){i._removeEventListeners(),i._selected=i._topView.btn_practice,i._hideTween()},i._onClickExpedition=function(){i._removeEventListeners(),i._selected=i._topView.btn_expedition,i._hideTween()},i._scene=e,i._topView=e.viewTop,i._tweens=new Array,i}return n(e,t),e.prototype.cancel=function(){this._removeEventListeners();for(var t=0,e=this._tweens;t<e.length;t++){e[t].setPaused(!0)}this._tweens=null},e.prototype._start=function(){this._topView.btn_sortie.on(r.EventType.CLICK,this._onClickSortie),this._topView.btn_practice.on(r.EventType.CLICK,this._onClickPractice),this._topView.btn_expedition.on(r.EventType.CLICK,this._onClickExpedition)},e.prototype._removeEventListeners=function(){this._topView.btn_sortie.off(r.EventType.CLICK,this._onClickSortie),this._topView.btn_practice.off(r.EventType.CLICK,this._onClickPractice),this._topView.btn_expedition.off(r.EventType.CLICK,this._onClickExpedition)},e.prototype._hideTween=function(){var t=this,e=this._topView.btn_sortie;e!=this._selected&&this._tweens.push(createjs.Tween.get(e).to({alpha:0},300)),e=this._topView.btn_practice,e!=this._selected&&this._tweens.push(createjs.Tween.get(e).to({alpha:0},300)),e=this._topView.btn_expedition,e!=this._selected&&this._tweens.push(createjs.Tween.get(e).to({alpha:0},300)),this._tweens[this._tweens.length-1].call(function(){t._selected==t._topView.btn_sortie?t._scene.openView(0):t._selected==t._topView.btn_practice?t._scene.openView(1):t._selected==t._topView.btn_expedition&&t._scene.openView(2),t._endTask()})},e.prototype._endTask=function(e){void 0===e&&(e=!1),this._scene=null,this._topView=null,this._selected=null,this._tweens=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskTop=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=i(7),a=function(t){function e(){var e=t.call(this)||this;return e._url="api_get_member/mapinfo",e}return n(e,t),e.prototype._completedEnd=function(){var e=s.ObjUtil.getObjectArray(this._raw_data,"api_map_info");o.default.model.map.setMapMem(e);var i=s.ObjUtil.getObjectArray(this._raw_data,"api_air_base");o.default.model.airunit.setData(i),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.MapInfoAPI=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=i(930),s=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this)||this;return i._url="api_get_member/practice",i._res_model=new r.PracticeAPIModel,i._debug=e,i}return n(e,t),Object.defineProperty(e.prototype,"res_model",{get:function(){return this._res_model},enumerable:!0,configurable:!0}),e.prototype._completedEnd=function(){this._res_model.setData(this._raw_data),t.prototype._completedEnd.call(this)},e}(o.APIBase);e.PracticeAPI=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(){}return Object.defineProperty(t.prototype,"matching_type",{get:function(){return n.ObjUtil.getNumber(this._o,"api_create_kind",2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"matching_type_next",{get:function(){return n.ObjUtil.getNumber(this._o,"api_selected_kind",2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rivals",{get:function(){return this._rivals},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"remain_time",{get:function(){return n.ObjUtil.getNumber(this._o,"api_entry_limit",0)},enumerable:!0,configurable:!0}),t.prototype.setData=function(t){this._o=t,this._rivals=new Array;var e=n.ObjUtil.getObjectArray(this._o,"api_list");if(null==e)this._rivals=[];else for(var i=0,o=e;i<o.length;i++){var s=o[i],a=new r(s);this._rivals.push(a)}},t}();e.PracticeAPIModel=o;var r=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"id",{get:function(){return n.ObjUtil.getNumber(this._o,"api_enemy_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return n.ObjUtil.getString(this._o,"api_enemy_name")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return n.ObjUtil.getNumber(this._o,"api_enemy_level")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rank_name",{get:function(){return n.ObjUtil.getString(this._o,"api_enemy_rank")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"flag",{get:function(){return n.ObjUtil.getNumber(this._o,"api_enemy_flag")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"flagShipMstID",{get:function(){return n.ObjUtil.getNumber(this._o,"api_enemy_flag_ship")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"comment",{get:function(){return n.ObjUtil.getString(this._o,"api_enemy_comment")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return n.ObjUtil.getNumber(this._o,"api_state")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"medal_num",{get:function(){return n.ObjUtil.getNumber(this._o,"api_medals")},enumerable:!0,configurable:!0}),t.prototype.isNoBattle=function(){return 0==this.state},t}();e.RivalModel=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=i(15),a=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this)||this;return i._url="api_get_member/mission",i._debug=e,i}return n(e,t),e.prototype._completedEnd=function(){o.default.model.expedition.setData(s.ObjUtil.getObjectArray(this._raw_data,"api_list_items"),s.ObjUtil.getNumArray(this._raw_data,"api_limit_time")),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.ExpeditionAPI=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(30),r=i(933),s=i(1),a=function(t){function e(){var e=t.call(this)||this;return e._btn_sortie=new _,e._btn_sortie.position.set(179,174),e._btn_practice=new _,e._btn_practice.position.set(516,174),e._btn_expedition=new _,e._btn_expedition.position.set(852,174),e}return n(e,t),Object.defineProperty(e.prototype,"btn_sortie",{get:function(){return this._btn_sortie},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_practice",{get:function(){return this._btn_practice},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_expedition",{get:function(){return this._btn_expedition},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){var e=new PIXI.Sprite(o.SALLY_COMMON.getTexture(51));e.position.set(0,102);var i=new PIXI.Sprite(r.SALLY_TOP.getTexture(0));i.position.set(188,113);var n=new PIXI.Sprite(r.SALLY_TOP.getTexture(10));n.position.set(246,575);var s=new PIXI.Sprite(r.SALLY_TOP.getTexture(3));s.position.set(572,575);var a=new PIXI.Sprite(r.SALLY_TOP.getTexture(7));a.position.set(909,575),this._btn_sortie.initialize(8,9),this._btn_practice.initialize(1,2),1==t?this._btn_expedition.initialize(4,6):this._btn_expedition.initialize(5,null),this.addChild(e),this.addChild(i),this.addChild(n),this.addChild(s),this.addChild(a),this.addChild(this._btn_sortie),this.addChild(this._btn_practice),this.addChild(this._btn_expedition)},e.prototype.dispose=function(){this.removeChildren(),this._btn_sortie.dispose(),this._btn_practice.dispose(),this._btn_expedition.dispose()},e}(PIXI.Container);e.ViewTop=a;var _=function(t){function e(){var e=t.call(this)||this;return e._onMouseOver=function(){e._setTexture(e._texture_no_on)},e._onMouseOut=function(){e._setTexture(e._texture_no)},e}return n(e,t),e.prototype.initialize=function(t,e){this._texture_no=t,this._texture_no_on=e,this._setTexture(this._texture_no),null!=this._texture_no_on&&(this.interactive=this.buttonMode=!0,this.on(s.EventType.MOUSEOVER,this._onMouseOver),this.on(s.EventType.MOUSEOUT,this._onMouseOut))},e.prototype.dispose=function(){this.interactive=this.buttonMode=!1,this.off(s.EventType.MOUSEOVER,this._onMouseOver),this.off(s.EventType.MOUSEOUT,this._onMouseOut)},e.prototype._setTexture=function(t){this.texture=r.SALLY_TOP.getTexture(t)},e}(PIXI.Sprite)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("sally_top_"+t)}t.getTexture=e}(e.SALLY_TOP||(e.SALLY_TOP={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(18),a=i(263),_=i(29),l=i(17),u=i(34),c=i(69),h=i(225),p=i(30),d=i(52),f=i(935),y=i(227),m=i(228),g=i(936),v=i(351),b=i(945),w=i(973),x=i(983),I=i(984),T=i(986),O=i(994),C=i(998),P=i(1014),k=i(1),S=function(t){function e(e,i){var n=t.call(this)||this;return n._serial_id=null,n._onChangeArea=function(t){n.update(t)},n._onBack=function(){var t=0;n._offset_list.pop(),n._offset_list.length>0&&(t=n._offset_list[n._offset_list.length-1]);var e=n._selected_area_id,i=r.default.model.airunit.getAirUnitList(e).length>0;n._layout.update(n._selected_area_id,t,i)},n._onNext=function(){var t=n._layout.content.offset+n._layout.content.num;n._offset_list.push(t);var e=n._selected_area_id,i=r.default.model.airunit.getAirUnitList(e).length>0;n._layout.update(n._selected_area_id,t,i)},n._onSelect=function(t,e){if(1!=n._cancelArea.isNowAnimation()){var i=r.default.model.basic.member_id;n._serial_id=a.__create_serial_id__(i,e.x,e.y),n._cancelArea.interactive=!0,n._cancelArea.buttonMode=!0,n._cancelArea.visible=!0,n._cancelArea.show(200);var o=r.default.model.map.getMapMem(t),s=r.default.view.overLayer,_=n._layout.content,l=n._detailPanel,u=r.default.model.map.getMapMem(t-1),c=0;null!=u&&(c=u.getSelectedOperationType());new w.TaskShowDetailPanel(o,c,s,_,l).start(null,function(){n._cancelArea.interactive=!1,n._cancelArea.buttonMode=!1,n._cancelArea.hide(200,function(){n._cancelArea.visible=!1})})}},n._onCancel=function(){1!=n._cancelArea.isNowAnimation()&&(n._cancelArea.interactive=!1,n._cancelArea.buttonMode=!1,n._cancelArea.hide(200,function(){n._cancelArea.visible=!1}),n._detailPanel.deactivate(),createjs.Tween.get(n._detailPanel).to({x:o.default.width},200).call(function(){n._detailPanel.visible=!1}))},n._onDecision=function(t){if(null==n._deckSelectPanel){var e=r.default.model.map.getMapMem(t);null!=n._event_sortie_condition&&n._event_sortie_condition.update(e),n._deckSelectPanel=new T.ContainerDeckSelect(e.availableAirUnitCount,n._event_sortie_condition,n._onGo);var i=r.default.model.deck.getIDs(),o=r.default.model.deck.isCombined();n._deckSelectPanel.initialize(e,i,o),n.addChild(n._deckSelectPanel),n._deckSelectPanel.cancelArea.show(300),createjs.Tween.get(n._detailPanel).to({x:322},300),createjs.Tween.get(n._deckSelectPanel.panel).to({x:494},300).call(function(){n._deckSelectPanel.activate()})}},n._onGo=function(t,e){if(-1==e)n._onCancel(),n._deckSelectPanel.deactivate(),n._deckSelectPanel.cancelArea.hide(300),createjs.Tween.get(n._deckSelectPanel.panel).to({x:o.default.width},300).call(function(){n.removeChild(n._deckSelectPanel),n._deckSelectPanel.dispose(),n._deckSelectPanel=null});else{var i=r.default.model.deck.get(e),s=i.getShipModel(0),a=s.mstID;r.default.sound.voice.playAtRandom(a.toString(),[13,14],[50,50]);var _=new u.APIConnector,l=r.default.model.map.getMapMem(t),p=new g.APIMapStart(l,e,n._serial_id),d=p.model;_.add(p),30==r.default.model.basic.getTutorialProgress()&&_.add(new c.UpdateTutorialAPI(40)),_.start(function(){var t=r.default.model.basic.medal_num,e=r.default.model.basic.nickName,n=new h.DeckModelReplica(i,!1,t,e),o=new f.MapSceneModel(d,n);r.default.scene.change(33,o)})}},n._onSelectAirUnit=function(){null==n._airunit_task&&(n._airunit_task=new b.TaskShowAirUnitPanel(n,n._selected_area_id),n._airunit_task.start(function(){n._airunit_task=null}))},n._layout=new C.ContainerLayout(n._onSelect,n._onSelectAirUnit,n._onBack,n._onNext),n._switch=new m.CompSwitchBtns(0,e,i),n._switch.position.set(795,162),n._area_icons=new I.CompAreaIcons(n._onChangeArea),n._area_icons.position.set(188,633),n._airUnitBtn=new x.AirUnitBtn(n._onSelectAirUnit),n._airUnitBtn.position.set(651,165),n._airUnitBtn.visible=!1,n._cancelArea=new l.FadeBox(.3),n._cancelArea.hide(),n._cancelArea.visible=!1,n._detailPanel=new O.PanelDetail(n._onDecision),n._detailPanel.position.set(o.default.width,0),n._detailPanel.visible=!1,n._offset_list=[],n}return n(e,t),e.prototype.initialize=function(){var t=new PIXI.Sprite(p.SALLY_COMMON.getTexture(27));t.position.set(144,140);var e=new PIXI.Sprite(p.SALLY_COMMON.getTexture(51));e.position.set(0,102);var i=new PIXI.Sprite(d.SALLY_SORTIE.getTexture(8));i.position.set(198,113);var n=new PIXI.Sprite(d.SALLY_SORTIE.getTexture(41));n.position.set(191,162),this._layout.initialize(),this._switch.initialize(),this._area_icons.initialize(),this._airUnitBtn.initialize(),this._cancelArea.on(k.EventType.CLICK,this._onCancel),this._detailPanel.initialize(),this.addChild(t),this.addChild(e),this.addChild(i),this.addChild(n),this.addChild(this._layout),this.addChild(this._switch),this.addChild(this._area_icons),this.addChild(this._airUnitBtn),this.addChild(this._cancelArea),this.addChild(this._detailPanel)},e.prototype.update=function(t){var e=this;if(this._selected_area_id!=t){r.default.view.loading.show(200);var i=new _.SerialTask;t==s.EVENT_AREA_ID&&null==this._event_sortie_condition&&(this._event_sortie_condition=new P.EventSortieCondition,i.add(this._event_sortie_condition.getPreLoadTask()));var n=r.default.model.airunit.getAirUnitList(t).length>0;this._airUnitBtn.visible=t!=s.EVENT_AREA_ID&&n;var o=r.default.model.map.getMapMems(t);i.add(new v.TaskLoadGaugeResources(o)),i.start(function(){r.default.view.loading.hide(200),e._selected_area_id=t,e._area_icons.update(t),e._offset_list=[],e._layout.update(t,0,n),t==s.EVENT_AREA_ID&&r.default.sound.voice.play("9999",414)})}},e.prototype.activate=function(){this._layout.off("back",this._onBack),this._layout.off("next",this._onNext),this._switch.activate(),this._area_icons.activate(),this._layout.on("back",this._onBack),this._layout.on("next",this._onNext),this._airUnitBtn.activate()},e.prototype.deactivate=function(){this._layout.off("back",this._onBack),this._layout.off("next",this._onNext),this._layout.deactivate(),this._switch.deactivate(),this._area_icons.deactivate(),this._airUnitBtn.deactivate()},e.prototype.dispose=function(){this._event_sortie_condition=null,this._layout.dispose(),this._layout=null,this._switch.dispose(),this._switch=null,this._area_icons.dispose(),this._area_icons=null,this._airUnitBtn.dispose(),this._airUnitBtn=null,this._cancelArea.off(k.EventType.CLICK,this._onCancel),this._cancelArea=null,this._detailPanel.dispose(),this._detailPanel=null,null!=this._deckSelectPanel&&(this._deckSelectPanel.dispose(),this._deckSelectPanel=null),null!=this._airunit_task&&(this._airunit_task.dispose(),this._airunit_task=null),this.removeChildren()},e}(y.ViewMainBase);e.ViewMain=S},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(198),r=function(t){function e(e,i){var n=t.call(this)||this;return n._sortie_data=e,n._deck_f=i,n}return n(e,t),Object.defineProperty(e.prototype,"sortie",{get:function(){return this._sortie_data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deck_f",{get:function(){return this._deck_f},enumerable:!0,configurable:!0}),e}(o.SceneModel);e.MapSceneModel=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=i(937),s=function(t){function e(e,i,n,o){void 0===o&&(o=!1);var s=t.call(this)||this;return s._url="api_req_map/start",s._map=e,s._deck_id=i,s._serial_id=n,s._debug=o,s._model=new r.SortieModelEdit,s}return n(e,t),Object.defineProperty(e.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),e.prototype._connect=function(){this._post_data.api_maparea_id=this._map.area_id,this._post_data.api_mapinfo_no=this._map.map_no,this._post_data.api_deck_id=this._deck_id,this._post_data.api_serial_cid=this._serial_id,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._model.__init__(this._map,this._raw_data),t.prototype._completedEnd.call(this)},e}(o.APIBase);e.APIMapStart=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(68),r=i(7),s=i(938),a=i(939),_=function(){function t(){this._start_cell_no=0,this._obtained_items=new Array}return Object.defineProperty(t.prototype,"map",{get:function(){return this._map},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){return this._cells},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"area_id",{get:function(){return this._area_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"map_no",{get:function(){return this._map_no},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"map_id",{get:function(){return 10*this.area_id+this._map_no},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"now_cell_no",{get:function(){return this._data.length<=1?this._start_cell_no:this._data[this._data.length-2].no},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"obtained_items",{get:function(){return this._obtained_items},enumerable:!0,configurable:!0}),t.prototype.getCellInfo=function(t){for(var e=0,i=this._cells;e<i.length;e++){var n=i[e];if(n.no==t)return n}return null},t.prototype.getCellNoAll=function(){for(var t=[],e=0,i=this._cells;e<i.length;e++){var n=i[e];t.push(n.no)}return t},t.prototype.getNextCell=function(){return this._data[this._data.length-1]},t.prototype.getGaugeKey=function(){var t=this.map.getGaugeNum();return o.GaugeSetModel.createKey(this._area_id,this._map_no,t)},t}();e.SortieModel=_;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.__init__=function(t,e){this._map=t;var i=e.api_cell_data;delete e.api_cell_data,this._cells=new Array;for(var n=0,o=i;n<o.length;n++){var _=o[n];this._cells.push(new s.CellModel(_))}this._data=[],this._area_id=r.ObjUtil.getNumber(e,"api_maparea_id"),this._map_no=r.ObjUtil.getNumber(e,"api_mapinfo_no"),this._start_cell_no=r.ObjUtil.getNumber(e,"api_from_no"),this._data.push(new a.NextModel(e))},e.prototype.__add__=function(t){this._data.push(new a.NextModel(t))},e}(_);e.SortieModelEdit=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"id",{get:function(){return n.ObjUtil.getNumber(this._o,"api_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"no",{get:function(){return n.ObjUtil.getNumber(this._o,"api_no")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return n.ObjUtil.getNumber(this._o,"api_color_no")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"passed",{get:function(){return 1==n.ObjUtil.getNumber(this._o,"api_passed")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return n.ObjUtil.getNumber(this._o,"api_distance")},enumerable:!0,configurable:!0}),t}();e.CellModel=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=i(940),r=i(941),s=i(942),a=i(943),_=i(944),l=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"rashin_id",{get:function(){return n.ObjUtil.getNumber(this._o,"api_rashin_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"no",{get:function(){return n.ObjUtil.getNumber(this._o,"api_no")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"event_id",{get:function(){return n.ObjUtil.getNumber(this._o,"api_event_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"event_detail_id",{get:function(){return n.ObjUtil.getNumber(this._o,"api_event_kind")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"flavor_text",{get:function(){var t=n.ObjUtil.getObject(this._o,"api_cell_flavor");return null==t?"":n.ObjUtil.getString(t,"api_message")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"flavor_text_type",{get:function(){var t=n.ObjUtil.getObject(this._o,"api_cell_flavor");return null==t?0:n.ObjUtil.getNumber(t,"api_type")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jakeID",{get:function(){return n.ObjUtil.getNumber(this._o,"api_production_kind")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"balloonID",{get:function(){return n.ObjUtil.getNumber(this._o,"api_comment_kind")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gauge_now",{get:function(){return n.ObjUtil.getNumber(this._eventdata,"api_now_maphp")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gauge_max",{get:function(){return n.ObjUtil.getNumber(this._eventdata,"api_max_maphp")},enumerable:!0,configurable:!0}),t.prototype.hasCompass=function(){return 1==n.ObjUtil.getNumber(this._o,"api_rashin_flg")},t.prototype.isDeadEnd=function(){return 0==n.ObjUtil.getNumber(this._o,"api_next")},t.prototype.isJunction=function(){var t=this.getSelectableRoutes();return null!=t&&!(t.length<=1)},t.prototype.getDropItems=function(){var t=n.ObjUtil.getObjectArray(this._o,"api_itemget");if(null==t)return[];if(1==t.hasOwnProperty("length")){return t.map(function(t,e,i){return new r.DropItemModel(t)})}return[new r.DropItemModel(t)]},t.prototype.getHappeningData=function(){var t=n.ObjUtil.getObject(this._o,"api_happening");return new a.HappeningModel(t)},t.prototype.getSelectableRoutes=function(){var t=n.ObjUtil.getObject(this._o,"api_select_route");return null==t?null:n.ObjUtil.getNumArray(t,"api_select_cells")},t.prototype.getEOSupplyItem=function(){var t=n.ObjUtil.getObject(this._o,"api_itemget_eo_comment");return null==t?null:new s.EOItemModel(t)},t.prototype.getEOSupplyBonusItem=function(){var t=n.ObjUtil.getObject(this._o,"api_itemget_eo_result");return null==t?null:new s.EOItemModel(t)},t.prototype.getEOSupplyWarResult=function(){return n.ObjUtil.getNumber(this._o,"api_get_eo_rate")},t.prototype.getReplenishmentData=function(){var t=n.ObjUtil.getObject(this._o,"api_offshore_supply");return null==t?null:new _.ReplenishmentModel(t)},t.prototype.getAirReconnaissanceData=function(){var t=n.ObjUtil.getObject(this._o,"api_airsearch");return null==t?null:new o.AirReconnaissanceModel(t)},t.prototype.isUsableRation=function(){return 1==n.ObjUtil.getNumber(this._o,"api_ration_flag")},t.prototype.getAnchorageRepair=function(){return 1==n.ObjUtil.getNumber(this._o,"api_anchorage_flag")},t.prototype.getM1=function(){return n.ObjUtil.getNumber(this._o,"api_m1")},t.prototype.hasEventMapData=function(){return this._o.hasOwnProperty("api_eventmap")},t.prototype.getAirraidDataObject=function(){return n.ObjUtil.getObject(this._o,"api_destruction_battle")},t.prototype.hasBokuAirUnit=function(){var t=this.getAirraidDataObject();return null!=t&&null!=n.ObjUtil.getObject(t,"api_map_squadron_plane")},Object.defineProperty(t.prototype,"_eventdata",{get:function(){return n.ObjUtil.getObject(this._o,"api_eventmap")},enumerable:!0,configurable:!0}),t}();e.NextModel=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"plane_type",{get:function(){return n.ObjUtil.getNumber(this._o,"api_plane_type")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"result",{get:function(){return n.ObjUtil.getNumber(this._o,"api_result")},enumerable:!0,configurable:!0}),t}();e.AirReconnaissanceModel=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"type",{get:function(){return n.ObjUtil.getNumber(this._o,"api_usemst")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return n.ObjUtil.getNumber(this._o,"api_getcount")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon_id",{get:function(){return n.ObjUtil.getNumber(this._o,"api_icon_id")},enumerable:!0,configurable:!0}),t.prototype.getUseitemMstID=function(){return 4==this.type?[-1,31,32,33,34,2,1,3,4][this.icon_id]:5==this.type?this.icon_id:0},t}();e.DropItemModel=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"type",{get:function(){return n.ObjUtil.getNumber(this._o,"api_usemst")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return n.ObjUtil.getNumber(this._o,"api_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return n.ObjUtil.getNumber(this._o,"api_getcount")},enumerable:!0,configurable:!0}),t}();e.EOItemModel=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"lost_mstid",{get:function(){return n.ObjUtil.getNumber(this._o,"api_mst_id",0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lost_count",{get:function(){return n.ObjUtil.getNumber(this._o,"api_count",0)},enumerable:!0,configurable:!0}),t.prototype.isDentan=function(){return 1==n.ObjUtil.getNumber(this._o,"api_dentan",0)},t.prototype.getUseitemMstID=function(){return[-1,31,32,33,34,2,1,3,4][this.lost_mstid]},t}();e.HappeningModel=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"ship_mem_id",{get:function(){return n.ObjUtil.getNumber(this._o,"api_supply_ship")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ship_mem_id_supplied",{get:function(){return n.ObjUtil.getNumber(this._o,"api_given_ship")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"num_of_use",{get:function(){return n.ObjUtil.getNumber(this._o,"api_use_num")},enumerable:!0,configurable:!0}),t}();e.ReplenishmentModel=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(1),a=i(2),_=i(34),l=i(8),u=i(17),c=i(6),h=i(946),p=i(947),d=i(948),f=i(949),y=i(950),m=i(357),g=i(967),v=i(969),b=i(971),w=function(t){function e(e,i){var n=t.call(this)||this;return n._clickGuard=null,n._onCancel=function(t){if(null==n._t)if(null!=n._list)n._closeList();else if(null!=n._supply)n._closeSupply();else{var e=t.data.global,i=n._panel.getBounds();if(1==i.contains(e.x,e.y))return;n._cancel_area.buttonMode=!1,n._cancel_area.off(s.EventType.CLICK,n._onCancel),n._closePanel()}},n._onDrop=function(t,e,i){if(-1==i){var o=n._area_id,s=new h.AirUnitEditAPI(o,t,e,-1);s.start(function(){n._panel.update(t,!0)})}else if(e==i)n._openList(t,e);else{var o=n._area_id,a=r.default.model.airunit.getAirUnit(o,t),_=a.squadrons[e],l=a.squadrons[i];if(null!=l&&2==l.state)return;var s=new h.AirUnitEditAPI(o,t,i,_.mem_id);s.start(function(){n._panel.update(t,!0)})}},n._onSelectListItem=function(t){if(null==n._task_comfirm){var e=n._area_id,i=n._selected_airunit_id,o=n._selected_index;n._task_comfirm=new v.TaskShowAirUnitChangeConfirm(n._layer,e,i,o,t),n._task_comfirm.start(function(){if(null!=n._task_comfirm&&1==n._task_comfirm.result){n._closeList();new h.AirUnitEditAPI(e,i,o,t.memID).start(function(){n._panel.update(i,!0)})}n._task_comfirm=null})}},n._onReadySupply=function(t){var e=n._panel.selected_airunit_id;n._openSupply(e,t)},n._onPreSupply=function(){null==n._clickGuard&&(n._clickGuard=new l.AreaBox(0),r.default.view.overLayer.addChild(n._clickGuard))},n._onSupply=function(t,e,i){if(null==i||0==i.length)return null!==n._clickGuard&&(r.default.view.overLayer.removeChild(n._clickGuard),n._clickGuard=null),void n._closeSupply();n._t=createjs.Tween.get(null),n._supply.playSupplyAnimation(function(){r.default.view.overLayer.removeChild(n._clickGuard),n._clickGuard=null,n._t=null,n._closeSupply()}),new p.AirUnitSupplyAPI(t,e,i).start(function(){n._panel.update(e,!0)})},n._onExtend=function(){n._panel.deactivate();var t=r.default.view.overLayer;new b.TaskExtendAirUnit(t,n._area_id,n._onUpdateInExtendAnimarion).start(function(){n._panel.activate()})},n._onUpdateInExtendAnimarion=function(){var t=r.default.model.airunit.getAirUnitList(n._area_id);n._panel.updateAfterExtend(t)},n._recordCurrentCategory=function(t){n._currentCategory=t},n._layer=e,n._area_id=i,n._currentCategory=0,n}return n(e,t),e.prototype.dispose=function(){var t=this;if(null!=this._t&&(this._t.setPaused(!0),this._t=null),null!=this._task_comfirm&&(this._task_comfirm.cancel(),this._task_comfirm=null),null!=this._supply&&(this._supply.deactivate(),this._supply.dispose(),this._supply=null),null!=this._list&&(this._list.deactivate(),this._list.dispose(),this._list=null),null!=this._panel){this._panel.deactivate(),this._panel.updateTemporaryData(),this._panel.dispose(),this._panel=null;this._createUpdateAPI().start(function(){t._endTask()})}else this._endTask()},e.prototype._createUpdateAPI=function(){for(var t=[],e=[],i=new _.APIConnector,n=r.default.model.airunit.getAirUnitList(this._area_id),o=0,s=n;o<s.length;o++){var a=s[o];1==a.updateNameFromTemporaryInfo()&&i.add(new f.AirUnitChangeNameAPI(this._area_id,a.id,a.name));1==a.updateStateFromTemporaryInfo()&&(t.push(a.id),e.push(a.airUnitState))}return t.length>0&&i.add(new d.AirUnitChangeActionStateAPI(this._area_id,t,e)),i},e.prototype._start=function(){this._cancel_area=new u.FadeBox(.2),this._layer.addChild(this._cancel_area),this._openPanel()},e.prototype._openPanel=function(){var t=this,e=this._area_id,i=r.default.model.airunit.getAirUnitList(e);this._panel=new y.AirUnitPanel(this._onDrop,this._onReadySupply,this._onExtend),this._panel.initialize(e,i),this._panel.position.set(203,o.default.height),this._layer.addChild(this._panel),createjs.Tween.get(this._panel).to({y:164},200,createjs.Ease.cubicOut).wait(100).call(function(){c.SE.play("219")}).to({x:849},200,createjs.Ease.backOut).call(function(){t._panel.activate(),t._cancel_area.buttonMode=!0,t._cancel_area.on(s.EventType.CLICK,t._onCancel),t._pre_bgm_id=r.default.sound.bgm.bgm_id,r.default.sound.bgm.play(125)})},e.prototype._closePanel=function(){var t=this;if(null!=this._panel){this._panel.deactivate(),this._panel.updateTemporaryData(),this._t=createjs.Tween.get(this._panel),this._t.to({y:o.default.height},300),this._t.call(function(){t._t=null,t._panel.parent.removeChild(t._panel),t._panel.dispose(),t._cancel_area.parent.removeChild(t._cancel_area),t._endTask()}),this._t.setPaused(!0);this._createUpdateAPI().start(function(){r.default.sound.bgm.play(t._pre_bgm_id),t._t.setPaused(!1)})}},e.prototype._openList=function(t,e){var i=this;null!=this._panel&&null==this._list&&null==this._t&&(this._selected_airunit_id=t,this._selected_index=e,this._layer.addChild(this._cancel_area),this._panel.deactivate(),this._list=new m.AirUnitList(this._onSelectListItem,this._recordCurrentCategory),this._list.x=o.default.width,this._list.y=147,this._list.initialize(this._currentCategory),this._layer.addChild(this._list),createjs.Tween.get(this._panel).to({x:126},300),this._t=createjs.Tween.get(this._list).to({x:473},300).call(function(){i._t=null,i._list.activate()}))},e.prototype._closeList=function(){var t=this;null!=this._list&&null==this._t&&(this._list.deactivate(),createjs.Tween.get(this._panel).to({x:849},300).call(function(){t._panel.activate()}),this._t=createjs.Tween.get(this._list).to({x:o.default.width},300).call(function(){t._t=null,t._layer.removeChild(t._list),t._list.dispose(),t._list=null,t._layer.addChild(t._panel)}))},e.prototype._openSupply=function(t,e){var i=this;if(null!=this._panel&&null==this._list&&null==this._supply&&null==this._t){var n=r.default.model.airunit.getAirUnit(this._area_id,t),s=null;e>=0&&(s=n.squadrons[e]),this._layer.addChild(this._cancel_area),this._panel.deactivate();var a=r.default.model.useItem.getCount(31),_=r.default.model.useItem.getCount(34);this._supply=new g.AirUnitSupplyPanel(this._onSupply,this._onPreSupply),this._supply.x=o.default.width+75,this._supply.y=144,this._supply.initialize(a,_,n,s),this._layer.addChild(this._supply),null==s&&this._onPreSupply(),createjs.Tween.get(this._panel).to({x:468},300),this._t=createjs.Tween.get(this._supply).to({x:899},300).call(function(){i._t=null,null==s?i._supply.autoPlaySupplyAll():i._supply.activate()})}},e.prototype._closeSupply=function(){var t=this;null!=this._supply&&null==this._t&&(this._supply.deactivate(),createjs.Tween.get(this._panel).to({x:849},300).call(function(){t._panel.activate()}),this._t=createjs.Tween.get(this._supply).to({x:o.default.width+75},300).call(function(){t._t=null,t._layer.removeChild(t._supply),t._supply.dispose(),t._supply=null,t._layer.addChild(t._panel)}))},e.prototype._endTask=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null),t.prototype._endTask.call(this)},e}(a.TaskBase);e.TaskShowAirUnitPanel=w},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(7),s=i(9),a=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._url="api_req_air_corps/set_plane",r._area_id=e,r._airunit_id=i,r._squadron_index=n,r._item_mem_id=o,r}return n(e,t),e.prototype._connect=function(){this._post_data.api_area_id=this._area_id,this._post_data.api_base_id=this._airunit_id,this._post_data.api_squadron_id=this._squadron_index+1,this._post_data.api_item_id=this._item_mem_id,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e="api_after_bauxite";if(1==this._raw_data.hasOwnProperty(e)){var i=r.ObjUtil.getNumber(this._raw_data,e);o.default.model.useItem.get(34).__setCount__(i),o.default.view.portMain.updateInfo()}var n=this._area_id,s=this._airunit_id,a=this._squadron_index,_=r.ObjUtil.getObjectArray(this._raw_data,"api_plane_info"),l=r.ObjUtil.getObject(this._raw_data,"api_distance");o.default.model.airunit.updateData(n,s,a,_,l),t.prototype._completedEnd.call(this)},e}(s.APIBase);e.AirUnitEditAPI=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(7),s=i(9),a=function(t){function e(e,i,n){var o=t.call(this)||this;return o._url="api_req_air_corps/supply",o._area_id=e,o._airunit_id=i,o._squadron_ids=n,o}return n(e,t),e.prototype._connect=function(){this._post_data.api_area_id=this._area_id,this._post_data.api_base_id=this._airunit_id,this._post_data.api_squadron_id=this._squadron_ids.join(","),t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e=r.ObjUtil.getNumber(this._raw_data,"api_after_fuel");o.default.model.useItem.get(31).__setCount__(e);var i=r.ObjUtil.getNumber(this._raw_data,"api_after_bauxite");o.default.model.useItem.get(34).__setCount__(i),o.default.view.portMain.updateInfo();var n=r.ObjUtil.getObjectArray(this._raw_data,"api_plane_info"),s=r.ObjUtil.getObject(this._raw_data,"api_distance"),a=this._area_id,_=this._airunit_id;o.default.model.airunit.getAirUnit(a,_).updateSquadronData(n,s),t.prototype._completedEnd.call(this)},e}(s.APIBase);e.AirUnitSupplyAPI=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=function(t){function e(e,i,n){var o=t.call(this)||this;return o._url="api_req_air_corps/set_action",o._area_id=e,o._airunit_ids=i,o._changed_status=n,o}return n(e,t),e.prototype._connect=function(){this._post_data.api_area_id=this._area_id,this._post_data.api_base_id=this._airunit_ids.join(","),this._post_data.api_action_kind=this._changed_status.join(","),t.prototype._connect.call(this)},e.prototype._completedEnd=function(){t.prototype._completedEnd.call(this)},e}(o.APIBase);e.AirUnitChangeActionStateAPI=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=function(t){function e(e,i,n){var o=t.call(this)||this;return o._url="api_req_air_corps/change_name",o._area_id=e,o._airunit_id=i,o._changed_name=n,o}return n(e,t),e.prototype._connect=function(){this._post_data.api_area_id=this._area_id,this._post_data.api_base_id=this._airunit_id,this._post_data.api_name=this._changed_name,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){t.prototype._completedEnd.call(this)},e}(o.APIBase);e.AirUnitChangeNameAPI=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),s=i(147),a=i(8),_=i(4),l=i(26),u=i(352),c=i(353),h=i(354),p=i(958),d=i(356),f=function(t){function e(e,i,n){var r=t.call(this)||this;r._selected_airunit_id=0,r._onClick=function(t){t.stopPropagation()},r._onChangeTab=function(t){r.update(t)},r._onMouseDownAtItem=function(t){r.deactivate();var e=new y(t,r._items,r._onSelect);o.default.view.overLayer.addChild(e)},r._onSelect=function(t,e){if(t<0)return void r.activate();if(t!=e&&r.activate(),null!=r._cb_onDrop){var i=r._selected_airunit_id;r._cb_onDrop(i,t,e)}},r._onSupplyAll=function(){null!=r._cb_onSupply&&r._cb_onSupply(-1)},r._onSupply=function(t){null!=r._cb_onSupply&&r._cb_onSupply(t)},r._cb_onDrop=e,r._cb_onSupply=i,r._area=new PIXI.Graphics,r.addChild(r._area),r._tabs=new p.AirUnitPanelTabContainerWithExtend(r._onChangeTab,n),r._tabs.x=30,r.addChild(r._tabs),r._base=new PIXI.Sprite,r._base.position.set(0,21),r.addChild(r._base),r._banner=new u.AirUnitPanelBanner,r._banner.position.set(26,45),r.addChild(r._banner),r._name=new _.TextBox(21,0),r._name.position.set(33,119),r.addChild(r._name),r._tag=new d.AirUnitPanelWoodenTag,r._tag.position.set(314,47),r.addChild(r._tag),r._items=[];for(var s=0;s<4;s++){var a=new c.AirUnitPanelItem(r._onMouseDownAtItem,r._onSupply);a.position.set(17,164+90*s),r.addChild(a),r._items.push(a)}return r._supply_btn=new h.AirUnitPanelSupplyAllBtn(r._onSupplyAll),r._supply_btn.position.set(287,146),r.addChild(r._supply_btn),r.interactive=!0,r}return n(e,t),Object.defineProperty(e.prototype,"selected_airunit_id",{get:function(){return this._selected_airunit_id},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e){this._area_id=t,this._models=e,this._tabs.initialize(this._models.length),this._base.texture=l.SALLY_AIRUNIT.getTexture(8),this._area.beginFill(0,0),this._area.drawRect(this._base.x,this._base.y,this._base.width,this._base.height),this._area.endFill(),this._banner.initialize(t);for(var i=0;i<this._items.length;i++){this._items[i].initialize(i)}this._supply_btn.initialize(),this.update(1),this.on(r.EventType.CLICK,this._onClick)},e.prototype.update=function(t,e){if(void 0===e&&(e=!1),(0!=e||this._selected_airunit_id!=t)&&!(t<=0||t>this._models.length)){this.updateTemporaryData(),this._selected_airunit_id=t;for(var i=null,n=0,o=this._models;n<o.length;n++){var r=o[n];if(r.id==t){i=r;break}}this._updateTabs(t),this._name.text=i.name,s.EditTextBoxUtil.text=i.name;for(var a=i.squadrons,_=0,l=!1,u=0;u<this._items.length;u++){var c=u<a.length?a[u]:null;this._items[u].update(c),0==_&&null!=c&&1==c.state&&(_=c.mst_id),l=l||c.count<c.countMax}this._banner.update(t,_,i.distance_base,i.distance_bonus),this._tag.skipAnimation(),0==_?(this._tag.update(0,!1),this._tag.enabled=!1):(this._tag.update(i.airUnitState,!1),this._tag.enabled=!0),this._supply_btn.update(l)}},e.prototype.updateAfterExtend=function(t){this._models=t,this._tabs.initialize(this._models.length),this._updateTabs(this._selected_airunit_id)},e.prototype.activate=function(){this._tabs.activate(),this._tag.activate();for(var t=0,e=this._items;t<e.length;t++){e[t].activate()}var i=new PIXI.Point(this._name.x,this._name.y),n=this.toGlobal(i);s.EditTextBoxUtil.init(n.x-2,n.y-4,300,16,0),s.EditTextBoxUtil.text=this._name.text,s.EditTextBoxUtil.setVisibility(!0),s.EditTextBoxUtil.onLengthCheck(12),this._name.visible=!1},e.prototype.deactivate=function(){this._tabs.deactivate(),this._tag.deactivate();for(var t=0,e=this._items;t<e.length;t++){e[t].deactivate()}this._name.text=s.EditTextBoxUtil.text,s.EditTextBoxUtil.setVisibility(!1),s.EditTextBoxUtil.onEventDestroy(),this._name.visible=!0},e.prototype.dispose=function(){this.off(r.EventType.CLICK,this._onClick),this._tabs.dispose(),this._banner.dispose(),this._name.destroy(),this._tag.dispose();for(var t=0,e=this._items;t<e.length;t++){e[t].dispose()}this._supply_btn.dispose(),this._cb_onDrop=null,this._cb_onSupply=null},e.prototype.updateTemporaryData=function(){for(var t=this._selected_airunit_id,e=null,i=0,n=this._models;i<n.length;i++){var o=n[i];if(o.id==t){e=o;break}}null!=e&&(e.name_tmp=s.EditTextBoxUtil.text,e.state_tmp=this._tag.state)},e.prototype._updateTabs=function(t){this._tabs.update(t);var e=o.default.model.useItem.getCount(73);this._tabs.updateExtendBtn(this._area_id,e)},e}(PIXI.Container);e.AirUnitPanel=f;var y=function(t){function e(e,i,n){var s=t.call(this,0)||this;return s._onMouseOut=function(){s._removeListeners(),null!=s._cb_onDrop&&s._cb_onDrop(-1,-1),s._dispose()},s._onMouseMove=function(t){if(null==s._drag){var e=s._items[s._index],i=t.data.getLocalPosition(e);if(0==e.isNoneData()&&0==e.isRelocation()&&0==e.contains(i.x,i.y)){for(var n=0,r=s._items;n<r.length;n++){r[n].alpha=.5}s._drag=new PIXI.Container;var a=o.default.resources.getSlotitem(e.mst_id,"airunit_banner");if(null==a||a==PIXI.Texture.EMPTY){var _=new PIXI.Graphics;_.beginFill(6710886,.5),_.drawRect(0,0,150,30),_.endFill(),_.position.set(-75,-15),s._drag.addChild(_)}else{var l=new PIXI.Sprite(a);l.scale.set(.5),l.anchor.set(.5),l.alpha=.5,s._drag.addChild(l)}s.addChild(s._drag),s._drag.x=t.data.global.x,s._drag.y=t.data.global.y}}else{s._drag.x=t.data.global.x,s._drag.y=t.data.global.y;for(var u=0;u<s._items.length;u++){var e=s._items[u],i=t.data.getLocalPosition(e);1==e.contains(i.x,i.y)?e.alpha=1:e.alpha=.5}}},s._onMouseUp=function(t){s._removeListeners();for(var e=0;e<s._items.length;e++){var i=s._items[e],n=t.data.getLocalPosition(i);if(1==i.contains(n.x,n.y))return s._index==e?null==s._drag?null!=s._cb_onDrop&&s._cb_onDrop(s._index,s._index):null!=s._cb_onDrop&&s._cb_onDrop(-1,-1):null==s._drag?null!=s._cb_onDrop&&s._cb_onDrop(-1,-1):null!=s._cb_onDrop&&s._cb_onDrop(s._index,e),void s._dispose()}null!=s._drag&&null!=s._cb_onDrop&&s._cb_onDrop(s._index,-1),s._dispose()},s._cb_onDrop=n,s.buttonMode=!0,s._index=e,s._items=i,s.on(r.EventType.MOUSEOUT,s._onMouseOut),s.on(r.EventType.MOUSEMOVE,s._onMouseMove),s.on(r.EventType.MOUSEUP,s._onMouseUp),s}return n(e,t),e.prototype._dispose=function(){for(var t=0;t<this._items.length;t++){this._items[t].alpha=1}null!=this.parent&&this.parent.removeChild(this),this._items=null,this._drag=null,this._cb_onDrop=null},e.prototype._removeListeners=function(){this.off(r.EventType.MOUSEUP,this._onMouseOut),this.off(r.EventType.MOUSEMOVE,this._onMouseMove),this.off(r.EventType.MOUSEUP,this._onMouseUp)},e}(a.AreaBox)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(24),s=function(t){function e(e){var i=t.call(this)||this;return i._mstid=e,i}return n(e,t),e.prototype._start=function(){var t=this;(new r.SlotLoader).add(this._mstid,"airunit_banner").add(this._mstid,"airunit_name").load(function(){t._endTask()})},e.prototype.cancel=function(){this._cb=null,this._cb_failed=null},e}(o.TaskBase);e.TaskAirUnitImageLoader=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(26),s=function(t){function e(){var e=t.call(this)||this;e._img=[];var i=new PIXI.Sprite;return e.addChild(i),e._img.push(i),i=new PIXI.Sprite,i.position.set(0,27),e.addChild(i),e._img.push(i),i=new PIXI.Sprite,i.position.set(72,0),e.addChild(i),e._img.push(i),i=new PIXI.Sprite,i.position.set(72,27),e.addChild(i),e._img.push(i),e._kadou=new o.TextBox(24,0),e._kadou.y=-5,e.addChild(e._kadou),e._teisu=new o.TextBox(24,0),e._teisu.y=21,e.addChild(e._teisu),e}return n(e,t),e.prototype.initialize=function(){this._img[0].texture=r.SALLY_AIRUNIT.getTexture(135),this._img[1].texture=r.SALLY_AIRUNIT.getTexture(143),this._img[2].texture=r.SALLY_AIRUNIT.getTexture(136),this._img[3].texture=r.SALLY_AIRUNIT.getTexture(136)},e.prototype.update=function(t,e){this._kadou.text=t.toString(),this._kadou.x=72-this._kadou.width,this._teisu.text=e.toString(),this._teisu.x=72-this._teisu.width},e.prototype.dispose=function(){this.removeChildren(),this._img=null,this._kadou.destroy(),this._kadou=null,this._teisu.destroy(),this._teisu=null},e}(PIXI.Container);e.AirUnitPanelItemDetailInfoPanel=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(26),r=function(t){function e(){var e=t.call(this)||this;return e._bg=new PIXI.Sprite,e._bg.position.set(11,0),e.addChild(e._bg),e._icon=new PIXI.Sprite,e._icon.position.set(0,20),e.addChild(e._icon),e}return n(e,t),e.prototype.update=function(t){3==t?(this._bg.texture=o.SALLY_AIRUNIT.getTexture(37),this._icon.texture=o.SALLY_AIRUNIT.getTexture(43),this.visible=!0):2==t?(this._bg.texture=o.SALLY_AIRUNIT.getTexture(36),this._icon.texture=o.SALLY_AIRUNIT.getTexture(42),this.visible=!0):this.visible=!1},e}(PIXI.Container);e.AirUnitPanelItemFatigueIcon=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(26),r=function(t){function e(){var e=t.call(this)||this;return e._star=new PIXI.Sprite,e.addChild(e._star),e._plus=new PIXI.Sprite,e._plus.position.set(20,3),e.addChild(e._plus),e._num=new PIXI.Sprite,e._num.position.set(33,0),e.addChild(e._num),e._max=new PIXI.Sprite,e._max.position.set(8,-3),e.addChild(e._max),e}return n(e,t),e.prototype.initialize=function(){this._star.visible=!1,this._plus.visible=!1,this._max.visible=!1,this._star.texture=o.SALLY_AIRUNIT.getTexture(59),this._plus.texture=o.SALLY_AIRUNIT.getTexture(58),this._max.texture=o.SALLY_AIRUNIT.getTexture(57)},e.prototype.update=function(t){var e;switch(t){case 1:e=48;break;case 2:e=49;break;case 3:e=50;break;case 4:e=51;break;case 5:e=52;break;case 6:e=53;break;case 7:e=54;break;case 8:e=55;break;case 9:e=56;break;case 10:return this._star.visible=!1,this._plus.visible=!1,this._num.visible=!1,void(this._max.visible=!0);default:return this._star.visible=!1,this._plus.visible=!1,this._num.visible=!1,void(this._max.visible=!1)}this._star.visible=!0,this._plus.visible=!0,this._num.texture=o.SALLY_AIRUNIT.getTexture(e),this._num.visible=!0,this._max.visible=!1},e}(PIXI.Container);e.AirUnitPanelItemLevelIcon=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(26),r=function(t){function e(){var e=t.call(this)||this;return e._txt=new PIXI.Sprite,e._txt.position.set(23,23),e.addChild(e._txt),e._txt_on=new PIXI.Sprite,e._txt_on.position.set(11,9),e._txt_on.alpha=0,e.addChild(e._txt_on),e}return n(e,t),e.prototype.initialize=function(){this.texture=o.SALLY_AIRUNIT.getTexture(65),this._txt.texture=o.SALLY_AIRUNIT.getTexture(128),this._txt_on.texture=o.SALLY_AIRUNIT.getTexture(129)},e.prototype.update=function(t){this.visible=t,1==t?this._activate():this._deactivate()},e.prototype.dispose=function(){this._deactivate()},e.prototype._activate=function(){null==this._t&&(this._txt_on.alpha=0,this._t=createjs.Tween.get(this._txt_on,{loop:!0}).to({alpha:1},800).to({alpha:0},400))},e.prototype._deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null,this._txt_on.alpha=0)},e}(PIXI.Sprite);e.AirUnitPanelItemRelocationLayer=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(26),r=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite,e.addChild(e._img),e}return n(e,t),e.prototype.update=function(t){var e;switch(t){case 1:e=98;break;case 2:e=99;break;case 3:e=100;break;case 4:e=101;break;case 5:e=102;break;case 6:e=103;break;case 7:e=104;break;default:return void(this.visible=!1)}this._img.texture=o.SALLY_AIRUNIT.getTexture(e),this._img.x=23-Math.floor(this._img.width/2),this.visible=!0},e}(PIXI.Container);e.AirUnitPanelItemSkillLevelIcon=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(26),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick()},i._cb_onClick=e,i._img_light=new PIXI.Sprite,i._img_light.alpha=0,i.addChild(i._img_light),i._img=new PIXI.Sprite,i._img.position.set(12,12),i.addChild(i._img),i.interactive=!0,i}return n(e,t),e.prototype.initialize=function(){this._img.texture=o.SALLY_AIRUNIT.getTexture(20),this._img_light.texture=o.SALLY_AIRUNIT.getTexture(23),this.update(!1)},e.prototype.update=function(t){this.visible=t,1==t?this._activate():this._deactivate()},e.prototype.dispose=function(){this._deactivate(),this._cb_onClick=null},e.prototype._activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(r.EventType.CLICK,this._onClick),null==this._t&&(this._img_light.alpha=0,this._t=createjs.Tween.get(this._img_light,{loop:!0}).to({alpha:1},1e3).to({alpha:0},1e3)))},e.prototype._deactivate=function(){this.buttonMode=!1,this.off(r.EventType.CLICK,this._onClick),null!=this._t&&(this._t.setPaused(!0),this._t=null,this._img_light.alpha=0)},e}(PIXI.Container);e.AirUnitPanelItemSupplyButton=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(18),r=i(355),s=i(960),a=function(t){function e(e,i){var n=t.call(this,e)||this;return n._btn_extend=new s.AirUnitExtendBtn(i),n._btn_extend.visible=!1,n.addChild(n._btn_extend),n}return n(e,t),e.prototype.initialize=function(e){t.prototype.initialize.call(this,e),this._btn_extend.initialize()},e.prototype.activate=function(){t.prototype.activate.call(this),this._btn_extend.activate()},e.prototype.deactivate=function(){t.prototype.deactivate.call(this),this._btn_extend.deactivate()},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._btn_extend.dispose()},e.prototype.updateExtendBtn=function(t,e){this._total_num<3&&t!=o.EVENT_AREA_ID?(this._btn_extend.enabled=e>0,this._btn_extend.x=101*this._total_num,this._btn_extend.visible=!0):this._btn_extend.visible=!1},e}(r.AirUnitPanelTabContainer);e.AirUnitPanelTabContainerWithExtend=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(26),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i._activated=!1,i._selected=!1,i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick(i._airunit_id)},i._cb_onClick=e,i._bg=new PIXI.Sprite,i.addChild(i._bg),i._label=new PIXI.Sprite,i._label.position.set(8,11),i.addChild(i._label),i.interactive=!0,i}return n(e,t),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected!=t&&(this._selected=t,1==this._activated&&0==this._selected?this.activate():this._deactivate(),1==this.visible&&this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"airunit_id",{get:function(){return this._airunit_id},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e){if(this._airunit_id=t,t>e)return void(this.visible=!1);if(1==e&&1==t)this._label.texture=o.SALLY_AIRUNIT.getTexture(119);else switch(t){case 1:this._label.texture=o.SALLY_AIRUNIT.getTexture(120);break;case 2:this._label.texture=o.SALLY_AIRUNIT.getTexture(121);break;case 3:this._label.texture=o.SALLY_AIRUNIT.getTexture(122);break;default:this._label.texture=PIXI.Texture.EMPTY}this.update(),this.visible=!0},e.prototype.update=function(){1==this._selected?this._bg.texture=o.SALLY_AIRUNIT.getTexture(125):this._bg.texture=o.SALLY_AIRUNIT.getTexture(124)},e.prototype.activate=function(){this._activated=!0,1!=this._selected&&1!=this.buttonMode&&(this.buttonMode=!0,this.on(r.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this._activated=!1,this._deactivate()},e.prototype.dispose=function(){this._deactivate(),this._cb_onClick=null},e.prototype._deactivate=function(){this.buttonMode=!1,this.off(r.EventType.CLICK,this._onClick)},e}(PIXI.Container);e.AirUnitPanelTab=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(26),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i._activated=!1,i._enabled=!0,i._onMouseOver=function(){i._update(!0),null!=i._t&&(i._t.setPaused(!0),i._t=null,i._under.visible=!1)},i._onMouseOut=function(){i._update(!1),null==i._t&&(i._under.visible=!1,i._t=createjs.Tween.get(null,{loop:!0}).wait(2e3).call(function(){i._under.visible=!0}).wait(2e3).call(function(){i._under.visible=!1}))},i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick()},i._cb_onClick=e,i._under=new PIXI.Sprite,i._under.position.set(-12,-12),i.addChild(i._under),i._bg=new PIXI.Sprite,i._bg.position.set(-12,-12),i.addChild(i._bg),i._txt=new PIXI.Sprite,i._txt.position.set(-12,-12),i.addChild(i._txt),i._over=new PIXI.Sprite,i._over.position.set(-12,-12),i.addChild(i._over),i.interactive=!0,i}return n(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled!=t&&(this._enabled=t,1==this._activated&&(1==this._enabled?this.activate():this._deactivate()),this._update(!1))},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._under.texture=o.SALLY_AIRUNIT.getTexture(26),this._bg.texture=o.SALLY_AIRUNIT.getTexture(24),this._txt.texture=o.SALLY_AIRUNIT.getTexture(27),this._over.texture=o.SALLY_AIRUNIT.getTexture(26),null!=this._t&&(this._t.setPaused(!0),this._t=null),this._update(!1)},e.prototype.activate=function(){this._activated=!0,0!=this._enabled&&1!=this.buttonMode&&(this.buttonMode=!0,this.on(r.EventType.MOUSEOVER,this._onMouseOver),this.on(r.EventType.MOUSEOUT,this._onMouseOut),this.on(r.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this._activated=!1,this._deactivate()},e.prototype.dispose=function(){this.deactivate(),null!=this._t&&(this._t.setPaused(!0),this._t=null,this._cb_onClick=null)},e.prototype._deactivate=function(){this.buttonMode=!1,this.off(r.EventType.MOUSEOVER,this._onMouseOver),this.off(r.EventType.MOUSEOUT,this._onMouseOut),this.off(r.EventType.CLICK,this._onClick)},e.prototype._update=function(t){0==this._enabled?(this._under.visible=!1,this._bg.texture=o.SALLY_AIRUNIT.getTexture(25),this._txt.visible=!1,this._over.visible=!1):1==t?(this._under.visible=!1,this._bg.texture=o.SALLY_AIRUNIT.getTexture(24),this._txt.visible=!0,this._over.visible=!0):(this._bg.texture=o.SALLY_AIRUNIT.getTexture(24),this._txt.visible=!0,this._over.visible=!1)},e}(PIXI.Container);e.AirUnitExtendBtn=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(8),s=i(26),a=i(1),_=function(t){function e(e){var i=t.call(this)||this;i._onPrev5=function(){var t=Math.max(i._page_now-5,1);i._onChange(t)},i._onNext5=function(){var t=Math.min(i._page_now+5,i._page_max);i._onChange(t)},i._onChange=function(t){null!=i._cb_onChangePage&&i._cb_onChangePage(t)},i._cb_onChangePage=e,i._pages=[];for(var n=0;n<5;n++){var o=new l(i._onChange);o.x=33+51*n,i.addChild(o),i._pages.push(o)}return i._prev=new u(i._onPrev5),i._prev.position.set(0,8),i.addChild(i._prev),i._next=new u(i._onNext5),i._next.position.set(290,8),i.addChild(i._next),i}return n(e,t),e.prototype.initialize=function(){for(var t=0,e=this._pages;t<e.length;t++){e[t].initialize()}this._prev.initialize(s.SALLY_AIRUNIT.getTexture(29)),this._next.initialize(s.SALLY_AIRUNIT.getTexture(28))},e.prototype.update=function(t,e){this._page_now=t,this._page_max=e;var i=Math.min(t-2,e-4);i=Math.max(i,1);for(var n=0;n<5;n++){var o=this._pages[n],r=i+n;o.enabled=r<=e,o.selected=r==t,o.update(r)}this._prev.buttonMode=t>1,this._next.buttonMode=t<e},e.prototype.dispose=function(){for(var t=0,e=this._pages;t<e.length;t++){e[t].dispose()}this._prev.dispose(),this._next.dispose(),this._cb_onChangePage=null},e}(PIXI.Container);e.AirUnitListPager=_;var l=function(t){function e(e){var i=t.call(this)||this;return i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick(i._page_no)},i._page_no=0,i.enabled=!0,i.selected=!1,i._cb_onClick=e,i.interactive=!0,i._hitArea=new r.AreaBox(0,0,51,36),i}return n(e,t),e.prototype.initialize=function(){this._text=new o.TextBox(24,1949120),this.addChild(this._text),this.addChild(this._hitArea)},e.prototype.update=function(t){this._page_no=t,this._text.text=this._page_no.toString(),0==this.enabled?(this._text.style.fontSize=30,this._text.style.fill=16774898,this._text.y=3,this.deactivate()):1==this.selected?(this._text.style.fontSize=36,this._text.style.fill=1949120,this._text.y=0,this.deactivate()):(this._text.style.fontSize=30,this._text.style.fill=4999235,this._text.y=3,this.activate()),this._text.x=26-Math.round(this._text.width/2)},e.prototype.activate=function(){1!=this._hitArea.buttonMode&&(this._hitArea.buttonMode=!0,this._hitArea.on(a.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this._hitArea.buttonMode=!1,this._hitArea.off(a.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate(),this.removeChildren(),this._text.destroy(),this._cb_onClick=null,this._hitArea=null},e}(PIXI.Container),u=function(t){function e(e){var i=t.call(this)||this;return i._onClick=function(){null!=i._cb_onClick&&0!=i.buttonMode&&i._cb_onClick()},i._cb_onClick=e,i.interactive=!0,i}return n(e,t),e.prototype.initialize=function(t){this.texture=t,this.buttonMode=!0,this.on(a.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.off(a.EventType.CLICK,this._onClick),this._cb_onClick=null},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(963),r=function(t){function e(e){var i=t.call(this)||this;i._tabs=[];for(var n=0;n<5;n++){var r=new o.AirUnitListTab(e);r.x=69*n,i.addChild(r),i._tabs.push(r)}return i}return n(e,t),e.prototype.initialize=function(){for(var t=0;t<this._tabs.length;t++){var e=this._tabs[t];0==t&&(e.selected=!0),e.initialize(t)}},e.prototype.update=function(t){for(var e=0,i=this._tabs;e<i.length;e++){var n=i[e];n.selected=n.category==t}},e.prototype.activate=function(){for(var t=0,e=this._tabs;t<e.length;t++){e[t].activate()}},e.prototype.deactivate=function(){for(var t=0,e=this._tabs;t<e.length;t++){e[t].deactivate()}},e.prototype.dispose=function(){for(var t=0,e=this._tabs;t<e.length;t++){e[t].dispose()}},e}(PIXI.Container);e.AirUnitListTabContainer=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(26),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i._activated=!1,i._selected=!1,i._onMouseOver=function(){i._update(!0)},i._onMouseOut=function(){i._update(!1)},i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick(i._category)},i._cb_onClick=e,i._bg=new PIXI.Sprite,i.addChild(i._bg),i._label=new PIXI.Sprite,i.addChild(i._label),i.interactive=!0,i}return n(e,t),Object.defineProperty(e.prototype,"category",{get:function(){return this._category},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected!=t&&(this._selected=t,1==this._activated&&0==this._selected?this.activate():this._deactivate(),this._update(!1))},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){this._category=t,this._update(!1),0==t?(this._label.texture=o.SALLY_AIRUNIT.getTexture(110),this._label.position.set(11,12)):1==t?(this._label.texture=o.SALLY_AIRUNIT.getTexture(111),this._label.position.set(15,9)):2==t?(this._label.texture=o.SALLY_AIRUNIT.getTexture(112),this._label.position.set(15,15)):3==t?(this._label.texture=o.SALLY_AIRUNIT.getTexture(113),this._label.position.set(15,15)):4==t?(this._label.texture=o.SALLY_AIRUNIT.getTexture(114),this._label.position.set(15,14)):this._label.texture=PIXI.Texture.EMPTY},e.prototype.activate=function(){this._activated=!0,1!=this._selected&&1!=this.buttonMode&&(this.buttonMode=!0,this.on(r.EventType.MOUSEOVER,this._onMouseOver),this.on(r.EventType.MOUSEOUT,this._onMouseOut),this.on(r.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this._activated=!1,this._deactivate()},e.prototype.dispose=function(){this._deactivate(),this._cb_onClick=null},e.prototype._update=function(t){0==t&&0==this._selected?this._bg.texture=o.SALLY_AIRUNIT.getTexture(116):this._bg.texture=o.SALLY_AIRUNIT.getTexture(115)},e.prototype._deactivate=function(){this.buttonMode=!1,this.off(r.EventType.MOUSEOVER,this._onMouseOver),this.off(r.EventType.MOUSEOUT,this._onMouseOut),this.off(r.EventType.CLICK,this._onClick)},e}(PIXI.Container);e.AirUnitListTab=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(26),r=i(357),s=function(t){function e(){var e=t.call(this)||this;return e._txt=new PIXI.Sprite,e.addChild(e._txt),e._txt_on=new PIXI.Sprite,e._txt_on.alpha=0,e.addChild(e._txt_on),e}return n(e,t),e.prototype.initialize=function(){this.texture=o.SALLY_AIRUNIT.getTexture(61)},e.prototype.update=function(t,e){switch(this.visible=t,this._deactivate(),e){case r.ListType.RELOCATION:this._txt.texture=o.SALLY_AIRUNIT.getTexture(128),this._txt_on.texture=o.SALLY_AIRUNIT.getTexture(129),this._txt.position.set(479,12),this._txt_on.position.set(467,-2),1==t&&this._activate();break;case r.ListType.DEPLOYMENT:this._txt.texture=o.SALLY_AIRUNIT.getTexture(131),this._txt.position.set(577,2)}},e.prototype.dispose=function(){this._deactivate()},e.prototype._activate=function(){null==this._t&&(this._txt_on.alpha=0,this._t=createjs.Tween.get(this._txt_on,{loop:!0}).to({alpha:1},800).to({alpha:0},400))},e.prototype._deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null,this._txt_on.alpha=0)},e}(PIXI.Sprite);e.AirUnitListItemExtraLayer=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(26),r=function(t){function e(){var e=t.call(this)||this;return e.texture=PIXI.Texture.EMPTY,e}return n(e,t),e.prototype.update=function(t){switch(t){case 1:this.texture=o.SALLY_AIRUNIT.getTexture(91);break;case 2:this.texture=o.SALLY_AIRUNIT.getTexture(92);break;case 3:this.texture=o.SALLY_AIRUNIT.getTexture(93);break;case 4:this.texture=o.SALLY_AIRUNIT.getTexture(94);break;case 5:this.texture=o.SALLY_AIRUNIT.getTexture(95);break;case 6:this.texture=o.SALLY_AIRUNIT.getTexture(96);break;case 7:this.texture=o.SALLY_AIRUNIT.getTexture(97);break;default:this.texture=PIXI.Texture.EMPTY}},e.prototype.dispose=function(){this.texture=PIXI.Texture.EMPTY},e}(PIXI.Sprite);e.AirPlaneSkillLevel=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(26),s=function(t){function e(){var e=t.call(this)||this;return e._star=new PIXI.Sprite,e._star.position.set(0,3),e.addChild(e._star),e._plus=new PIXI.Sprite,e._plus.position.set(18,6),e.addChild(e._plus),e._num=new o.TextBox(19,3198426),e._num.position.set(30,0),e.addChild(e._num),e._max=new PIXI.Sprite,e._max.position.set(6,0),e.addChild(e._max),e}return n(e,t),e.prototype.initialize=function(){this._star.visible=!1,this._plus.visible=!1,this._max.visible=!1,this._star.texture=r.SALLY_AIRUNIT.getTexture(45),this._plus.texture=r.SALLY_AIRUNIT.getTexture(44),this._max.texture=r.SALLY_AIRUNIT.getTexture(46)},e.prototype.update=function(t){t<=0||t>10?(this._star.visible=!1,this._plus.visible=!1,this._num.text="",this._max.visible=!1):10==t?(this._star.visible=!1,this._plus.visible=!1,this._num.text="",this._max.visible=!0):(this._star.visible=!0,this._plus.visible=!0,this._num.text=t.toString(),this._max.visible=!1)},e.prototype.dispose=function(){this.removeChildren(),this._num.destroy()},e}(PIXI.Container);e.SlotitemLevel=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(165),r=i(26),s=i(968),a=i(1),_=function(t){function e(e,i){var n=t.call(this)||this;return n.FUEL=3,n.BAUX=5,n._fuelNow=0,n._bauxNow=0,n._material_key=null,n._onMouseOverBtn=function(){var t=n._calcNeedMaterial([n._squadron]);n._title.show(t.fuel,t.baux,""),n._materialShow(t.fuel,t.baux,"")},n._onMouseOutBtn=function(){n._title.hide(""),n._materialHide("")},n._onMouseOverBtnAll=function(){var t=n._calcNeedMaterial(n._airunit.squadrons);n._title.show(t.fuel,t.baux,"all"),n._materialShow(t.fuel,t.baux,"all")},n._onMouseOutBtnAll=function(){n._title.hide("all"),n._materialHide("all")},n._onClick=function(){if(null!=n._cb_onSupply){n._cb_onPreSupply();var t=n._airunit.area_id,e=n._airunit.id,i=[n._squadron.id];n._cb_onSupply(t,e,i),n.fuelContainer.playSupply(function(){}),n.bauxContainer.playSupply(function(){})}},n._onClickAll=function(){if(null!=n._cb_onSupply){n._cb_onPreSupply();for(var t=n._airunit.area_id,e=n._airunit.id,i=[],o=0,r=n._airunit.squadrons;o<r.length;o++){var s=r[o];1==s.state&&s.count<s.countMax&&i.push(s.id)}n._cb_onSupply(t,e,i),n.fuelContainer.playSupply(function(){}),n.bauxContainer.playSupply(function(){})}},n._cb_onSupply=e,n._cb_onPreSupply=i,n._bg=new PIXI.Sprite,n.addChild(n._bg),n._title=new s.AirUnitSupplyPanelTitle,n.addChild(n._title),n._btn=new l(n._onMouseOverBtn,n._onMouseOutBtn,n._onClick),n._btn.position.set(32,438),n._btn_all=new u(n._onMouseOverBtnAll,n._onMouseOutBtnAll,n._onClickAll),n._btn_all.position.set(32,495),n.interactive=!0,n}return n(e,t),e.prototype.initialize=function(t,e,i,n){if(this._fuelNow=t,this._bauxNow=e,this._airunit=i,this._squadron=n,this._bg.texture=r.SALLY_AIRUNIT.getTexture(35),this._title.initialize(t,e),this.fuelContainer=new o.FuelContainer,this.fuelContainer.position.set(17,206),this.addChild(this.fuelContainer),this.bauxContainer=new o.BauxContainer,this.bauxContainer.position.set(158,206),this.addChild(this.bauxContainer),null==this._squadron)this._btn.initialize(!1),this._btn_all.initialize(!1);else{var s=t>=this.FUEL&&e>=this.BAUX;this._btn.initialize(s),this.addChild(this._btn),this._btn_all.initialize(s),this.addChild(this._btn_all)}},e.prototype.activate=function(){this._btn.activate(),this._btn_all.activate()},e.prototype.deactivate=function(){this._btn.deactivate(),this._btn_all.deactivate()},e.prototype.dispose=function(){this.fuelContainer.dispose(),this.bauxContainer.dispose(),this._title.dispose(),this._btn.dispose(),this._btn_all.dispose(),this._cb_onSupply=null,this._cb_onPreSupply=null},e.prototype.autoPlaySupplyAll=function(){var t=this,e=this._calcNeedMaterial(this._airunit.squadrons);this._title.show(e.fuel,e.baux,"all"),this._fuelNow>=e.fuel&&this._bauxNow>=e.baux?(this._materialShow(e.fuel,e.baux,"all"),createjs.Tween.get(null).wait(1e3).call(function(){t._onClickAll()})):createjs.Tween.get(null).wait(1e3).call(function(){if(null!=t._cb_onSupply){var e=t._airunit.area_id,i=t._airunit.id,n=[];t._cb_onSupply(e,i,n)}})},e.prototype.playSupplyAnimation=function(t){this.deactivate(),createjs.Tween.get(null).wait(1500).call(t)},e.prototype._calcNeedMaterial=function(t){for(var e={fuel:0,baux:0},i=0,n=t;i<n.length;i++){var o=n[i],r=o.countMax-o.count;e.fuel+=r*this.FUEL,e.baux+=r*this.BAUX}return e},e.prototype._materialShow=function(t,e,i){void 0===i&&(i=null),this._material_key=i,this.fuelContainer.update(t),this.bauxContainer.update(e)},e.prototype._materialHide=function(t){void 0===t&&(t=null),null!=t&&t!=this._material_key||(this._material_key=null,this.fuelContainer.update(0),this.bauxContainer.update(0))},e}(PIXI.Container);e.AirUnitSupplyPanel=_;var l=function(t){function e(e,i,n){var o=t.call(this)||this;return o._onMouseOver=function(){o._update(!0),null!=o._cb_onMouseOver&&o._cb_onMouseOver()},o._onMouseOut=function(){o._update(!1),null!=o._cb_onMouseOut&&o._cb_onMouseOut()},o._onClick=function(){null!=o._cb_onClick&&o._cb_onClick()},o._cb_onMouseOver=e,o._cb_onMouseOut=i,o._cb_onClick=n,o.interactive=!0,o}return n(e,t),e.prototype.initialize=function(t){this._enabled=t,this._update(!1),this.on(a.EventType.MOUSEOVER,this._onMouseOver),this.on(a.EventType.MOUSEOUT,this._onMouseOut)},e.prototype.activate=function(){0!=this._enabled&&1!=this.buttonMode&&(this.buttonMode=!0,this.on(a.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(a.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate(),this.off(a.EventType.MOUSEOVER,this._onMouseOver),this.off(a.EventType.MOUSEOUT,this._onMouseOut)},e.prototype._update=function(t){0==this._enabled?this.texture=r.SALLY_AIRUNIT.getTexture(18):this.texture=0==t?r.SALLY_AIRUNIT.getTexture(17):r.SALLY_AIRUNIT.getTexture(19)},e}(PIXI.Sprite),u=function(t){function e(e,i,n){var o=t.call(this)||this;return o._onMouseOver=function(){o._update(!0),null!=o._cb_onMouseOver&&o._cb_onMouseOver()},o._onMouseOut=function(){o._update(!1),null!=o._cb_onMouseOut&&o._cb_onMouseOut()},o._onClick=function(){null!=o._cb_onClick&&o._cb_onClick()},o._cb_onMouseOver=e,o._cb_onMouseOut=i,o._cb_onClick=n,o.interactive=!0,o}return n(e,t),e.prototype.initialize=function(t){this._enabled=t,this._update(!1),this.on(a.EventType.MOUSEOVER,this._onMouseOver),this.on(a.EventType.MOUSEOUT,this._onMouseOut)},e.prototype.activate=function(){0!=this._enabled&&1!=this.buttonMode&&(this.buttonMode=!0,this.on(a.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(a.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate(),this.off(a.EventType.MOUSEOVER,this._onMouseOver),this.off(a.EventType.MOUSEOUT,this._onMouseOut)},e.prototype._update=function(t){0==this._enabled?this.texture=r.SALLY_AIRUNIT.getTexture(14):this.texture=0==t?r.SALLY_AIRUNIT.getTexture(13):r.SALLY_AIRUNIT.getTexture(15)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(26),s=function(t){function e(){var e=t.call(this)||this;return e._fuel_max=0,e._baux_max=0,e._key=null,e._title=new PIXI.Sprite,e._title.position.set(15,17),e.addChild(e._title),e._icon_fuel=new PIXI.Sprite,e._icon_fuel.position.set(17,75),e.addChild(e._icon_fuel),e._icon_baux=new PIXI.Sprite,e._icon_baux.position.set(158,75),e.addChild(e._icon_baux),e._txt_fuel=new o.TextBox(28,5523516),e._txt_fuel.y=158,e.addChild(e._txt_fuel),e._txt_baux=new o.TextBox(28,5523516),e._txt_baux.y=158,e.addChild(e._txt_baux),e}return n(e,t),e.prototype.initialize=function(t,e){this._fuel_max=t,this._baux_max=e,this._title.texture=r.SALLY_AIRUNIT.getTexture(118),this._icon_fuel.texture=r.SALLY_AIRUNIT.getTexture(12),this._icon_baux.texture=r.SALLY_AIRUNIT.getTexture(11)},e.prototype.show=function(t,e,i){void 0===i&&(i=null),this._key=i;var n=t>this._fuel_max?16711680:5523516;this._txt_fuel.style.fill=n,this._txt_fuel.text=t.toString(),this._txt_fuel.x=144-this._txt_fuel.width;var o=e>this._baux_max?16711680:5523516;this._txt_baux.style.fill=o,this._txt_baux.text=e.toString(),this._txt_baux.x=285-this._txt_baux.width},e.prototype.hide=function(t){void 0===t&&(t=null),null!=t&&t!=this._key||(this._key=null,this._txt_fuel.text="",this._txt_baux.text="")},e.prototype.dispose=function(){this.removeChildren(),this._txt_fuel.destroy(),this._txt_baux.destroy()},e}(PIXI.Container);e.AirUnitSupplyPanelTitle=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(2),a=i(17),_=i(970),l=i(1),u=function(t){function e(e,i,n,o,r){var s=t.call(this)||this;return s._result=!1,s._onCancel=function(){s._result=!1,s._close()},s._onChange=function(){s._result=!0,s._close()},s._layer=e,s._area_id=i,s._airunit_id=n,s._index=o,s._item=r,s}return n(e,t),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e.prototype.cancel=function(){this._onCancel()},e.prototype._start=function(){this._cancel_area=new a.FadeBox(.2),this._layer.addChild(this._cancel_area),this._openPanel()},e.prototype._openPanel=function(){var t=this,e=null,i=r.default.model.airunit.getAirUnit(this._area_id,this._airunit_id),n=i.squadrons[this._index];n.mem_id>0&&(e=r.default.model.slot.get(n.mem_id));var s=this._item;this._panel=new _.AirUnitChangeConfirmPanel(this._onChange),this._panel.initialize(),this._panel.update(e,s),this._panel.position.set(o.default.width,102),this._layer.addChild(this._panel),createjs.Tween.get(this._panel).to({x:840},200).call(function(){t._cancel_area.on(l.EventType.CLICK,t._onCancel),t._cancel_area.buttonMode=!0,t._panel.activate()})},e.prototype._close=function(){var t=this;this._cancel_area.off(l.EventType.CLICK,this._onCancel),this._cancel_area.buttonMode=!1,this._panel.deactivate(),createjs.Tween.get(this._panel).to({x:o.default.width},200).call(function(){t._panel.dispose(),t._layer.removeChild(t._panel),t._layer.removeChild(t._cancel_area),t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._cancel_area=null,this._panel=null,this._item=null,t.prototype._endTask.call(this)},e}(s.TaskBase);e.TaskShowAirUnitChangeConfirm=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(4),s=i(45),a=i(85),_=i(26),l=i(358),u=i(1),c=function(t){function e(e){var i=t.call(this)||this;return i._bg=new PIXI.Sprite,i._bg.position.set(0,38),i.addChild(i._bg),i._title_bg=new PIXI.Sprite,i._title_bg.position.set(2,0),i.addChild(i._title_bg),i._title_label=new PIXI.Sprite,i._title_label.position.set(35,11),i.addChild(i._title_label),i._label_from=new PIXI.Sprite,i._label_from.position.set(266,56),i.addChild(i._label_from),i._label_tobe=new PIXI.Sprite,i._label_tobe.position.set(266,305),i.addChild(i._label_tobe),i._arrow=new h,i._arrow.position.set(170,279),i.addChild(i._arrow),i._item_from=new p,i._item_from.position.set(27,78),i.addChild(i._item_from),i._item_tobe=new p,i._item_tobe.position.set(27,326),i.addChild(i._item_tobe),i._btn=new d(e),i._btn.position.set(92,524),i.addChild(i._btn),i.interactive=!0,i}return n(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._bg.width},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._bg.texture=_.SALLY_AIRUNIT.getTexture(9),this._title_bg.texture=_.SALLY_AIRUNIT.getTexture(117),this._title_label.texture=_.SALLY_AIRUNIT.getTexture(10),this._label_from.texture=_.SALLY_AIRUNIT.getTexture(127),this._label_tobe.texture=_.SALLY_AIRUNIT.getTexture(126),this._arrow.initialize(),this._item_from.initialize(),this._item_tobe.initialize(),this._btn.initialize()},e.prototype.update=function(t,e){this._item_from.update(t),this._item_tobe.update(e);var i=e.equipTypeSp,n=e.cost*l.getKadouCount(i),r=n<=o.default.model.useItem.getCount(34);this._btn.update(r)},e.prototype.activate=function(){this._arrow.activate(),this._btn.activate()},e.prototype.deactivate=function(){a.TaskLoadSlotResource.abortBy(this),this._arrow.deactivate(),this._btn.deactivate()},e.prototype.dispose=function(){this.removeChildren(),this._arrow.dispose(),this._item_from.dispose(),this._item_tobe.dispose(),this._btn.dispose()},e}(PIXI.Container);e.AirUnitChangeConfirmPanel=c;var h=function(t){function e(){var e=t.call(this)||this;return e._over=new PIXI.Sprite,e.addChild(e._over),e}return n(e,t),e.prototype.initialize=function(){this.texture=_.SALLY_AIRUNIT.getTexture(40),this._over.texture=_.SALLY_AIRUNIT.getTexture(41)},e.prototype.activate=function(){var t=this;null==this._t&&(this._over.visible=!1,this._over.y=0,this._t=createjs.Tween.get(null,{loop:!0}).wait(100).call(function(){t._over.visible=!0}).wait(250).call(function(){t._over.y=15}).wait(250).call(function(){t._over.visible=!1,t._over.y=0}))},e.prototype.deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e.prototype.dispose=function(){this.deactivate()},e}(PIXI.Sprite),p=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite,e.addChild(e._img),e._text=new r.TextBox(20,4999235),e._text.position.set(17,42),e.addChild(e._text),e}return n(e,t),e.prototype.initialize=function(){this.texture=_.SALLY_AIRUNIT.getTexture(34)},e.prototype.update=function(t){if(a.TaskLoadSlotResource.abortBy(this._img),this._target=t,null==t)this._img.texture=PIXI.Texture.EMPTY,this._text.text="";else{var e=t.mstID;this._img.texture=o.default.resources.getSlotitem(e,"remodel"),this._img.texture==PIXI.Texture.EMPTY&&new a.TaskLoadSlotResource("remodel",this._img,e).start(),this._text.text=s.SlotUtil.genSummaryText(t,"+","\n",!1,5)}},e.prototype.dispose=function(){this.removeChildren(),this._target=null,this._img=null,this._text.destroy(),this._text=null},e}(PIXI.Sprite),d=function(t){function e(e){var i=t.call(this)||this;return i._enabled=!0,i._onMouseOver=function(){i._update(!0)},i._onMouseOut=function(){i._update(!1)},i._onClick=function(){0!=i._enabled&&null!=i._cb_onClick&&i._cb_onClick()},i._cb_onClick=e,i._img=new PIXI.Sprite,i.addChild(i._img),i._img.interactive=!0,i._alert=new PIXI.Sprite,i._alert.position.set(-35,-92),i.addChild(i._alert),i}return n(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._alert.texture=_.SALLY_AIRUNIT.getTexture(39),this._update(!1)},e.prototype.update=function(t){this._enabled=t,this._update(!1)},e.prototype.activate=function(){1!=this.buttonMode&&(this._img.buttonMode=!0,this._img.on(u.EventType.MOUSEOVER,this._onMouseOver),this._img.on(u.EventType.MOUSEOUT,this._onMouseOut),this._img.on(u.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this._img.buttonMode=!1,this._img.off(u.EventType.MOUSEOVER,this._onMouseOver),this._img.off(u.EventType.MOUSEOUT,this._onMouseOut),this._img.off(u.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate()},e.prototype._update=function(t){0==this._enabled?(this._img.texture=_.SALLY_AIRUNIT.getTexture(31),this._alert.visible=t):(this._img.texture=0==t?_.SALLY_AIRUNIT.getTexture(30):_.SALLY_AIRUNIT.getTexture(32),this._alert.visible=!1)},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(18),a=i(1),_=i(2),l=i(23),u=i(8),c=i(4),h=i(25),p=i(67),d=i(6),f=i(10),y=i(26),m=i(972),g=function(t){function e(e,i,n){var o=t.call(this)||this;return o._onSelect=function(t){if(o._dialog.deactivate(),0==t)o._removeDialog(),o._endTask();else{new m.AirUnitExtendAPI(o._area_id).start(function(){o._removeDialog(),o._loadItemCard()})}},o._layer=e,o._area_id=i,o._cb_onUpdateInAnimation=n,o}return n(e,t),e.prototype._start=function(){this._bg=new u.AreaBox(.6),this._layer.addChild(this._bg),this._dialog=new v(this._onSelect),this._dialog.initialize();var t=this._area_id,e=r.default.model.useItem.getCount(73);this._dialog.update(t,e),this._dialog.activate(),this._layer.addChild(this._dialog)},e.prototype._removeDialog=function(){this._layer.removeChild(this._dialog),this._dialog.dispose(),this._dialog=null},e.prototype._loadItemCard=function(){var t=this,e=new p.UseitemLoader;e.add(73,1),e.load(function(){t._loadTextImage()})},e.prototype._loadTextImage=function(){var t=this,e=h.MathUtil.zeroPadding(this._area_id,3),i=r.default.settings.path_root+"resources/area/airunit_extend_confirm/"+e+"_.png";i=i+"?"+s.START_TIME;var n=new PIXI.loaders.Loader;n.add(i),n.load(function(){t._message=new PIXI.Container;var e=n.resources[i].texture,r=new PIXI.Sprite(e);t._message.addChild(r);var s=new PIXI.Sprite(y.SALLY_AIRUNIT.getTexture(134));t._message.addChild(s),r.x=o.default.width/2-Math.round(r.width/2),s.x=o.default.width/2-Math.round(s.width/2);var a=r.height/2+s.height;r.y=o.default.height/2-Math.round(a/2),s.y=r.y+Math.round(r.height/2),t._showCard()})},e.prototype._showCard=function(){var t=this;this._card=new l.Container,this._card.position.set(o.default.width/2,o.default.height/2),this._card.scale.set(0),this._layer.addChild(this._card);var e=r.default.resources.getUseitem(73,1),i=new PIXI.Sprite(e);i.position.set(-i.width/2,-i.height/2),this._card.addChild(i),d.SE.play("230"),createjs.Tween.get(this._card).to({scaleX:1,scaleY:1},250).wait(1300).call(function(){t._shakeCard()})},e.prototype._shakeCard=function(){for(var t=this,e=createjs.Tween.get(null),i=0;i<20;i++)e.call(function(){t._card.x=o.default.width/2+16*Math.random()-8,t._card.y=o.default.height/2+16*Math.random()-8}),e.wait(50);e.call(function(){t._card.x=o.default.width/2,t._card.y=o.default.height/2,t._showFlash()})},e.prototype._showFlash=function(){var t=this,e=new l.Container;e.position.set(o.default.width/2,o.default.height/2),e.scale.set(1.25),e.alpha=0,this._layer.addChild(e);var i=new PIXI.Sprite(f.COMMON_MISC.getTexture(68));i.position.set(-i.width/2,-i.height/2),e.addChild(i),createjs.Tween.get(e).to({scaleX:2,scaleY:2,alpha:1},350).to({scaleX:2.8,scaleY:2.8},300),this._white=new u.AreaBox(1,16777215),this._white.alpha=0,this._layer.addChild(this._white),createjs.Tween.get(this._white).wait(200).to({alpha:1},450).call(function(){null!=t._cb_onUpdateInAnimation&&t._cb_onUpdateInAnimation(),t._layer.removeChild(t._card),t._card=null,t._layer.removeChild(e),t._showText()})},e.prototype._showText=function(){var t=this;this._message.x=o.default.width,this._white.addChild(this._message),d.SE.play("216"),createjs.Tween.get(this._message).to({x:0},500).wait(500).call(function(){t._waitClick()})},e.prototype._waitClick=function(){var t=this;this._white.buttonMode=!0,this._white.once(a.EventType.CLICK,function(){t._bg.alpha=0,createjs.Tween.get(t._white).to({alpha:0},1e3).call(function(){t._layer.removeChild(t._white),t._white=null,t._endTask()})})},e.prototype._endTask=function(){this._layer.removeChild(this._bg),this._bg=null,t.prototype._endTask.call(this)},e}(_.TaskBase);e.TaskExtendAirUnit=g;var v=function(t){function e(e){var i=t.call(this)||this;return i._onClickYes=function(){null!=i._cb_onResult&&i._cb_onResult(!0)},i._onClickNo=function(){null!=i._cb_onResult&&i._cb_onResult(!1)},i._cb_onResult=e,i._bg=new PIXI.Sprite,i._bg.position.set(231,185),i.addChild(i._bg),i._area_name=new PIXI.Sprite,i._area_name.position.set(0,219),i.addChild(i._area_name),i._title=new PIXI.Sprite,i._title.position.set(437,260),i.addChild(i._title),i._icon=new PIXI.Sprite,i._icon.position.set(533,327),i.addChild(i._icon),i._item_num=new c.TextBox(20,1381651),i._item_num.position.set(621,351),i.addChild(i._item_num),i._logo=new PIXI.Sprite,i._logo.position.set(761,96),i.addChild(i._logo),i._btn_yes=new PIXI.Sprite,i._btn_yes.position.set(387,455),i.addChild(i._btn_yes),i._btn_no=new PIXI.Sprite,i._btn_no.position.set(642,455),i.addChild(i._btn_no),i._btn_yes.interactive=!0,i._btn_no.interactive=!0,i}return n(e,t),e.prototype.initialize=function(){this._bg.texture=y.SALLY_AIRUNIT.getTexture(90),this._title.texture=y.SALLY_AIRUNIT.getTexture(141),this._icon.texture=r.default.resources.getUseitem(73,0),this._item_num.text="1\u21920",this._logo.texture=y.SALLY_AIRUNIT.getTexture(47),this._btn_yes.texture=y.SALLY_AIRUNIT.getTexture(33),this._btn_no.texture=y.SALLY_AIRUNIT.getTexture(16)},e.prototype.update=function(t,e){var i=this,n=h.MathUtil.zeroPadding(t,3),o=r.default.settings.path_root+"resources/area/airunit_extend_confirm/"+n+".png";o=o+"?"+s.START_TIME;var a=new PIXI.loaders.Loader;a.add(o),a.load(function(){var t=a.resources[o].texture;i._area_name.texture=t;var e=i._title.x+i._title.width/2-i._area_name.width/2;i._area_name.x=Math.round(e)});var _=e;this._item_num.text=_+"\u2192"+Math.max(0,_-1)},e.prototype.activate=function(){0==this._btn_yes.buttonMode&&(this._btn_yes.buttonMode=!0,this._btn_yes.on(a.EventType.CLICK,this._onClickYes)),0==this._btn_no.buttonMode&&(this._btn_no.buttonMode=!0,this._btn_no.on(a.EventType.CLICK,this._onClickNo))},e.prototype.deactivate=function(){this._btn_yes.buttonMode=!1,this._btn_yes.off(a.EventType.CLICK,this._onClickYes),this._btn_no.buttonMode=!1,this._btn_no.off(a.EventType.CLICK,this._onClickNo)},e.prototype.dispose=function(){this.deactivate(),this.removeChildren(),this._item_num.destroy(),this._cb_onResult=null},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=function(t){function e(e){var i=t.call(this)||this;return i._url="api_req_air_corps/expand_base",i._area_id=e,i}return n(e,t),e.prototype._connect=function(){this._post_data.api_area_id=this._area_id,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e=this._raw_data[0];o.default.model.airunit.addData(e);var i=o.default.model.useItem.get(73);i.__setCount__(i.count-1),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.AirUnitExtendAPI=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(18),a=i(2),_=i(17),l=i(974),u=i(976),c=i(351),h=i(359),p=function(t){function e(e,i,n,o,s){var a=t.call(this)||this;return a._showBeginnerAlert=function(){new l.ShowIntroAlertDialogTask(a._layer).start(a._showMapIntro)},a._showMapIntro=function(){var t=r.default.model.basic.level,e=[];t>=80&&(4==a._before_selected_type||3==a._before_selected_type?e.push(4):0==a._before_selected_type&&e.push(4)),t>=35&&e.push(3),e.push(2),e.push(1);var i=a._model.getSelectedOperationType();new u.ShowMapIntroDialogTask(a._layer,a._model,e).start(function(){var t=a._model.getSelectedOperationType(),e=0==t;i!=t&&null!=a._mapThumbnailPanel?new c.TaskLoadGaugeResources([a._model]).start(function(){a._mapThumbnailPanel.updateGauge(a._model),a._hideFade(e)}):a._hideFade(e)})},a._model=e,a._before_selected_type=i,a._layer=n,a._mapThumbnailPanel=o,a._detailPanel=s,a}return n(e,t),e.prototype._start=function(){if(this._model.area_id==s.EVENT_AREA_ID){this._fade=new _.FadeBox(.6),this._fade.hide(0),this._layer.addChild(this._fade);var t=this._model.map_no,e=r.default.model.basic.level;1==t||e<35?this._fade.show(300,this._showBeginnerAlert):this._fade.show(300,this._showMapIntro);var i=this._voicePlayList(t);null!=i&&this._voicePlay(i)}else this._showDetailPanel()},e.prototype._voicePlayList=function(t){switch(t){case 1:return{voice:[411,415,424],delay:[0,200,200]};case 2:return{voice:[411,416,422,424],delay:[0,200,200,200]};case 3:return{voice:[412,421,424],delay:[0,200,200]};default:return null}},e.prototype._voicePlay=function(t){var e=this,i=t.voice,n=t.delay;h.EventOperationVoice.voice=r.default.sound.voice.play("9999",i[0],function(){i.shift(),n.shift(),i.length>0&&e._voiceNextDelay(t)})},e.prototype._voiceNextDelay=function(t){var e=this,i=t.delay;i[0]<=0?this._voicePlay(t):h.EventOperationVoice.tween=createjs.Tween.get(null).wait(i[0]).call(function(){e._voicePlay(t)})},e.prototype._hideFade=function(t){var e=this;this._fade.hide(300,function(){e._layer.removeChild(e._fade),t?e._endTask(!0):e._showDetailPanel()})},e.prototype._showDetailPanel=function(){var t=this,e=this._detailPanel;e.update(this._model),e.x=o.default.width,e.visible=!0,createjs.Tween.get(e).to({x:840},200).call(function(){e.activate(),t._endTask()})},e.prototype._endTask=function(e){void 0===e&&(e=!1),this._model=null,this._layer=null,this._mapThumbnailPanel=null,this._detailPanel=null,this._fade=null,t.prototype._endTask.call(this,e)},e}(a.TaskBase);e.TaskShowDetailPanel=p},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(975),s=i(1),a=function(t){function e(e){var i=t.call(this)||this;return i._onClick=function(){i._dialog.interactive=!1,i._dialog.buttonMode=!1,i._close()},i._layer=e,i}return n(e,t),e.prototype._start=function(){this._dialog=new r.IntroAlertDialog,this._dialog.chara.alpha=0,this._dialog.board.scale.y=0,this._dialog.initialize(),this._open()},e.prototype._open=function(){var t=this;this._layer.addChild(this._dialog),createjs.Tween.get(this._dialog.chara).to({alpha:1},250),createjs.Tween.get(this._dialog.board).wait(150).to({scaleY:1},250).call(function(){t._wait()})},e.prototype._wait=function(){this._dialog.interactive=!0,this._dialog.buttonMode=!0,this._dialog.once(s.EventType.CLICK,this._onClick)},e.prototype._close=function(){var t=this;createjs.Tween.get(this._dialog.chara).to({alpha:0},150),createjs.Tween.get(this._dialog.board).wait(100).to({scaleY:0},150).call(function(){t._layer.removeChild(t._dialog),t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._dialog=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.ShowIntroAlertDialogTask=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(12),r=i(41),s=function(t){function e(){var e=t.call(this)||this;return e._board=new a,e._board.position.set(726,346),e._chara=new PIXI.Sprite,e._chara.position.set(17,74),e.addChild(e._board),e.addChild(e._chara),e}return n(e,t),Object.defineProperty(e.prototype,"board",{get:function(){return this._board},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chara",{get:function(){return this._chara},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._board.initialize(),this._chara.texture=r.SALLY_EVENT.getTexture(27)},e}(PIXI.Container);e.IntroAlertDialog=s;var a=function(t){function e(){var e=t.call(this)||this;return e.anchor.set(.5),e._content=new PIXI.Sprite,e.addChild(e._content),e}return n(e,t),e.prototype.initialize=function(){this.texture=r.SALLY_EVENT.getTexture(6),this._content.position.set(-345,-215),this._content.texture=r.SALLY_EVENT.getTexture(40)},e}(o.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(977),s=i(978),a=i(981),_=i(1),l=function(t){function e(e,i,n,o){void 0===o&&(o=!1);var s=t.call(this)||this;return s._onClick=function(){s._dialog.change_btn.deactivate(),s._dialog.interactive=!1,s._dialog.buttonMode=!1;var t=s._model.getSelectedOperationType();0==t?s._showSelectView(t):s._close()},s._onClickChangeBtn=function(){s._dialog.change_btn.deactivate(),s._dialog.interactive=!1,s._dialog.buttonMode=!1,s._dialog.off(_.EventType.CLICK,s._onClick);var t=s._model.getSelectedOperationType();s._showSelectView(t)},s._onOperationSelect=function(t){var e=new a.ChangeConfirmTask(s._layer,s._model);e.start(function(){0==e.cancel&&(s._dialog.board.selectView.deactivate(),s._dialog.board.selectView.showCircle(t,function(){if(1==s._skip_api_connection)s._close();else{new r.APIOperationChange(s._model,t).start(function(){s._close()})}}))})},s._onOperationSelectCancel=function(){s._dialog.board.selectView.deactivate(),s._close()},s._layer=e,s._model=i,s._selectable=n,s._skip_api_connection=o,s}return n(e,t),e.prototype._start=function(){this._dialog=new s.MapIntroDialog,this._dialog.chara.alpha=0,this._dialog.board.scale.y=0,this._dialog.operation.visible=!1,this._dialog.change_btn.visible=!1;var t=this._model.mst_id,e=this._model.getSelectedOperationType();this._dialog.initialize(t,e),this._open()},e.prototype._open=function(){var t=this;this._layer.addChild(this._dialog),createjs.Tween.get(this._dialog.chara).to({alpha:1},250),createjs.Tween.get(this._dialog.board).wait(150).to({scaleY:1},250).call(function(){0!=t._model.getSelectedOperationType()&&0==t._model.isCleared()&&(t._dialog.operation.visible=!0,t._dialog.change_btn.visible=!0,t._dialog.change_btn.activate(t._onClickChangeBtn)),t._wait()})},e.prototype._wait=function(){this._dialog.interactive=!0,this._dialog.buttonMode=!0,this._dialog.once(_.EventType.CLICK,this._onClick)},e.prototype._showSelectView=function(t){var e=this._dialog.board.showSelectView();e.initialize(t,this._selectable),e.activate(this._onOperationSelect,this._onOperationSelectCancel)},e.prototype._close=function(){var t=this;this._dialog.operation.visible=!1,this._dialog.change_btn.visible=!1,createjs.Tween.get(this._dialog.chara).to({alpha:0},150),createjs.Tween.get(this._dialog.board).wait(100).to({scaleY:0},150).call(function(){t._dialog.dispose(),t._layer.removeChild(t._dialog),t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._model=null,this._selectable=null,this._dialog=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.ShowMapIntroDialogTask=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),r=i(9),s=function(t){function e(e,i){var n=t.call(this)||this;return n._url="api_req_map/select_eventmap_rank",n._model=e,n._selected=i,n}return n(e,t),e.prototype._connect=function(){this._post_data.api_maparea_id=this._model.area_id,this._post_data.api_map_no=this._model.map_no,this._post_data.api_rank=this._selected,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e=this._model.getGaugeNum(),i=this._model.gauge_type,n=this._model.gauge_max,r=this._model.gauge_now,s=this._raw_data;if(null!=s){if(s.hasOwnProperty("api_maphp")){var a=s.api_maphp;a.hasOwnProperty("api_gauge_num")&&(e=a.api_gauge_num),a.hasOwnProperty("api_gauge_type")&&(i=a.api_gauge_type),1==a.hasOwnProperty("api_max_maphp")&&(n=a.api_max_maphp),1==a.hasOwnProperty("api_now_maphp")&&(r=a.api_now_maphp)}this._model.changeOperation(this._selected,e,i,n,r);var _=o.ObjUtil.getNumArray(s,"api_sally_flag");_&&this._model.changeAllowedDeckType(_),t.prototype._completedEnd.call(this)}},e}(r.APIBase);e.APIOperationChange=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(41),r=i(979),s=i(1),a=function(t){function e(){var e=t.call(this)||this;return e._board=new r.MapIntroBoard,e._board.position.set(522,369),e._chara=new PIXI.Sprite,e._chara.position.set(825,0),e._operation=new _,e._operation.position.set(363,51),e._change_btn=new l,e._change_btn.position.set(648,69),e.addChild(e._board),e.addChild(e._chara),e.addChild(e._operation),e.addChild(e._change_btn),e}return n(e,t),Object.defineProperty(e.prototype,"board",{get:function(){return this._board},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chara",{get:function(){return this._chara},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"operation",{get:function(){return this._operation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"change_btn",{get:function(){return this._change_btn},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e){this._board.initialize(t),this._chara.texture=o.SALLY_EVENT.getTexture(26),this._type=e,this._operation.update(e),this._change_btn.initialize()},e.prototype.dispose=function(){this._board.dispose(),this._change_btn.dispose()},e}(PIXI.Container);e.MapIntroDialog=a;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.update=function(t){this.texture=1==t?o.SALLY_EVENT.getTexture(25):2==t?o.SALLY_EVENT.getTexture(22):3==t?o.SALLY_EVENT.getTexture(24):4==t?o.SALLY_EVENT.getTexture(23):PIXI.Texture.EMPTY},e}(PIXI.Sprite),l=function(t){function e(){var e=t.call(this)||this;return e._onClick=function(t){t.stopPropagation(),null!=e._cb_onClick&&e._cb_onClick()},e.interactive=!0,e}return n(e,t),e.prototype.initialize=function(){this.texture=o.SALLY_EVENT.getTexture(19)},e.prototype.activate=function(t){this._cb_onClick=t,this.buttonMode=!0,this.on(s.EventType.CLICK,this._onClick)},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(s.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this._cb_onClick=null,this.deactivate()},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(12),r=i(41),s=i(980),a=i(0),_=i(14),l=function(t){function e(){var e=t.call(this)||this;return e.anchor.set(.5),e._content=new PIXI.Sprite,e.addChild(e._content),e}return n(e,t),Object.defineProperty(e.prototype,"selectView",{get:function(){return this._createSelectView(),this._selectView},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){var e=a.default.settings.path_root+"img/sally/event_maesetsu",i="?version="+_.UIImageLoader.getVersion("sally");switch(this.texture=r.SALLY_EVENT.getTexture(5),t){case 451:this._content.position.set(-330,-224),this._content.texture=PIXI.Texture.fromImage(e+"/238_70639.png"+i);break;case 452:this._content.position.set(-286,-220),this._content.texture=PIXI.Texture.fromImage(e+"/239_993e0.png"+i);break;case 453:this._content.position.set(-295,-216),this._content.texture=PIXI.Texture.fromImage(e+"/240_99999.png"+i);break;default:this._content.texture=PIXI.Texture.EMPTY}},e.prototype.showSelectView=function(){return this._content.visible=!1,this._createSelectView(),this.addChild(this._selectView),this._selectView},e.prototype.dispose=function(){null!=this._selectView&&this._selectView.dispose()},e.prototype._createSelectView=function(){null==this._selectView&&(this._selectView=new s.OperationSelectView)},e}(o.Sprite);e.MapIntroBoard=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(41),r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e._onSelect=function(t){null!=e._cb_onSelect&&e._cb_onSelect(t)},e._onBack=function(){null!=e._cb_onBack&&e._cb_onBack()},e._title=new PIXI.Sprite,e._title.position.set(-350,-201),e.addChild(e._title),e._btn_kou=new _(4,e._onSelect),e._btn_kou.position.set(-353,-53),e._btn_otsu=new _(3,e._onSelect),e._btn_otsu.position.set(-183,-53),e._btn_hei=new _(2,e._onSelect),e._btn_hei.position.set(-15,-53),e._btn_tei=new _(1,e._onSelect),e._btn_tei.position.set(152,-53),e._btn_back=new l(e._onBack),e.addChild(e._btn_kou),e.addChild(e._btn_otsu),e.addChild(e._btn_hei),e.addChild(e._btn_tei),e.addChild(e._btn_back),e}return n(e,t),e.prototype.initialize=function(t,e){this._title.texture=o.SALLY_EVENT.getTexture(39),this._btn_kou.initialize(),this._btn_kou.enabled=this._getEnabled(4,t,e),this._btn_otsu.initialize(),this._btn_otsu.enabled=this._getEnabled(3,t,e),this._btn_hei.initialize(),this._btn_hei.enabled=this._getEnabled(2,t,e),this._btn_tei.initialize(),this._btn_tei.enabled=this._getEnabled(1,t,e),this._btn_back.initialize(t),this._btn_back.x=263-this._btn_back.width/2,this._btn_back.y=152-this._btn_back.height/2},e.prototype.activate=function(t,e){this._cb_onSelect=t,this._cb_onBack=e,this._btn_kou.activate(),this._btn_otsu.activate(),this._btn_hei.activate(),this._btn_tei.activate(),this._btn_back.activate()},e.prototype.deactivate=function(){this._btn_kou.deactivate(),this._btn_otsu.deactivate(),this._btn_hei.deactivate(),this._btn_tei.deactivate(),this._btn_back.deactivate()},e.prototype.dispose=function(){this._btn_kou.dispose(),this._btn_otsu.dispose(),this._btn_hei.dispose(),this._btn_tei.dispose(),this._btn_back.dispose(),this._title=null,this._btn_kou=null,this._btn_otsu=null,this._btn_hei=null,this._btn_tei=null,this._cb_onSelect=null,this._cb_onBack=null},e.prototype.showCircle=function(t,e){void 0===e&&(e=null),this._getBtn(t).showCircle(e)},e.prototype._getBtn=function(t){return t==this._btn_kou.type?this._btn_kou:t==this._btn_otsu.type?this._btn_otsu:t==this._btn_hei.type?this._btn_hei:t==this._btn_tei.type?this._btn_tei:null},e.prototype._getEnabled=function(t,e,i){return t!=e&&!(i.indexOf(t)<0)},e}(PIXI.Container);e.OperationSelectView=s;var a=function(t){function e(e){var i=t.call(this)||this;return i._enabled=!0,i._type=e,i._content=new PIXI.Sprite,i.addChild(i._content),i._label=new PIXI.Sprite,i.addChild(i._label),i._circle=new PIXI.Sprite,i._circle.position.set(-32,-39),i._circle.alpha=0,i._circle.visible=!1,i.addChild(i._circle),i}return n(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._update(!1),this._label.texture=this._getTextureLabel(),this._circle.texture=o.SALLY_EVENT.getTexture(55)},e.prototype._update=function(t){0==this._enabled?this._content.texture=this._getTextureOff():this._content.texture=1==t?this._getTextureOn():this._getTexture()},e.prototype._getTexture=function(){return 4==this._type?o.SALLY_EVENT.getTexture(52):3==this._type?o.SALLY_EVENT.getTexture(56):2==this._type?o.SALLY_EVENT.getTexture(49):1==this._type?o.SALLY_EVENT.getTexture(59):PIXI.Texture.EMPTY},e.prototype._getTextureOn=function(){return 4==this._type?o.SALLY_EVENT.getTexture(54):3==this._type?o.SALLY_EVENT.getTexture(58):2==this._type?o.SALLY_EVENT.getTexture(51):1==this._type?o.SALLY_EVENT.getTexture(61):PIXI.Texture.EMPTY},e.prototype._getTextureOff=function(){return 4==this._type?o.SALLY_EVENT.getTexture(53):3==this._type?o.SALLY_EVENT.getTexture(57):2==this._type?o.SALLY_EVENT.getTexture(50):1==this._type?o.SALLY_EVENT.getTexture(60):PIXI.Texture.EMPTY},e.prototype._getTextureLabel=function(){return 4==this._type?(this._label.position.set(0,111),o.SALLY_EVENT.getTexture(45)):3==this._type?(this._label.position.set(6,111),o.SALLY_EVENT.getTexture(44)):2==this._type?(this._label.position.set(23,111),o.SALLY_EVENT.getTexture(43)):1==this._type?(this._label.position.set(0,111),o.SALLY_EVENT.getTexture(46)):PIXI.Texture.EMPTY},e}(PIXI.Container),_=function(t){function e(e,i){var n=t.call(this,e)||this;return n._onMouseOver=function(){n._update(!0)},n._onMouseOut=function(){n._update(!1)},n._onClick=function(){null!=n._cb_onClick&&n._cb_onClick(n.type)},n._cb_onClick=i,n}return n(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled!=t&&(1==t?1==this.interactive&&this._activate():this.deactivate()),this._enabled=t,this._update(!1)},enumerable:!0,configurable:!0}),e.prototype.activate=function(){1!=this._content.interactive&&(this._content.interactive=!0,this._activate())},e.prototype.deactivate=function(){this._content.off(r.EventType.MOUSEOVER,this._onMouseOver),this._content.off(r.EventType.MOUSEOUT,this._onMouseOut),this._content.off(r.EventType.CLICK,this._onClick),this._content.interactive=!1,this._content.buttonMode=!1},e.prototype.dispose=function(){this.deactivate()},e.prototype.showCircle=function(t){if(void 0===t&&(t=null),1==this._circle.visible)return void(null!=t&&t());this._circle.alpha=0,this._circle.visible=!0;var e=createjs.Tween.get(this._circle).to({alpha:1},500).wait(500);null!=t&&e.call(t)},e.prototype._activate=function(){0!=this._enabled&&(this._content.on(r.EventType.MOUSEOVER,this._onMouseOver),this._content.on(r.EventType.MOUSEOUT,this._onMouseOut),this._content.on(r.EventType.CLICK,this._onClick),this._content.buttonMode=!0)},e}(a),l=function(t){function e(e){var i=t.call(this)||this;return i._onMouseOver=function(){i._update(!0)},i._onMouseOut=function(){i._update(!1)},i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick()},i._cb_onClick=e,i}return n(e,t),e.prototype.initialize=function(t){this._selected_type=t,this._update(!1)},e.prototype.activate=function(){1!=this.interactive&&(this.on(r.EventType.MOUSEOVER,this._onMouseOver),this.on(r.EventType.MOUSEOUT,this._onMouseOut),this.once(r.EventType.CLICK,this._onClick),this.interactive=!0,this.buttonMode=!0)},e.prototype.deactivate=function(){this.off(r.EventType.MOUSEOVER,this._onMouseOver),this.off(r.EventType.MOUSEOUT,this._onMouseOut),this.off(r.EventType.CLICK,this._onClick),this.interactive=!1,this.buttonMode=!1},e.prototype.dispose=function(){this.deactivate(),this._stoptAnim()},e.prototype._update=function(t){1==t?(this._stoptAnim(),0==this._selected_type?this.texture=o.SALLY_EVENT.getTexture(42):this.texture=o.SALLY_EVENT.getTexture(48)):0==this._selected_type?(this.texture=o.SALLY_EVENT.getTexture(41),this._startAnim()):this.texture=o.SALLY_EVENT.getTexture(47)},e.prototype._startAnim=function(){null==this._t&&(this.alpha=1,this._t=createjs.Tween.get(this,{loop:!0}).to({alpha:.5},700).wait(100).to({alpha:1},700).wait(800))},e.prototype._stoptAnim=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null,this.alpha=1)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(982),s=function(t){function e(e,i){var n=t.call(this)||this;return n._cancel=!0,n._waitClick=function(){n._dialog.btn_no.activate(n._onNo),n._dialog.btn_yes.activate(n._onYes)},n._onNo=function(){n._dialog.btn_no.deactivate(),n._dialog.btn_yes.deactivate(),n._closeDialog()},n._onYes=function(){n._dialog.btn_no.deactivate(),n._dialog.btn_yes.deactivate(),n._cancel=!1,n._closeDialog()},n._layer=e,n._model=i,n}return n(e,t),Object.defineProperty(e.prototype,"cancel",{get:function(){return this._cancel},enumerable:!0,configurable:!0}),e.prototype._start=function(){0==this._model.getSelectedOperationType()?(this._cancel=!1,this._endTask()):this._openDialog()},e.prototype._openDialog=function(){var t=this;this._dialog=new r.OperationSelectConfirmDialog,this._dialog.initialize(),this._dialog.fade.hide(0),this._dialog.bg.alpha=0,this._layer.addChild(this._dialog),this._dialog.fade.show(200,function(){createjs.Tween.get(t._dialog.bg).to({alpha:1},300).call(t._waitClick)})},e.prototype._closeDialog=function(){var t=this;createjs.Tween.get(this._dialog).to({alpha:0},200).call(function(){t._dialog.fade.hide(100,function(){t._layer.removeChild(t._dialog),t._endTask()})})},e.prototype._endTask=function(){this._layer=null,this._model=null,this._dialog=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.ChangeConfirmTask=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(17),r=i(41),s=i(1),a=function(t){function e(){var e=t.call(this)||this;return e._fade=new o.FadeBox(.3),e._bg=new PIXI.Sprite,e._bg.position.set(219,207),e.addChild(e._fade),e.addChild(e._bg),e._btn_no=new _(!1),e._btn_no.position.set(168,216),e._btn_yes=new _(!0),e._btn_yes.position.set(417,216),e.bg.addChild(e._btn_no),e.bg.addChild(e._btn_yes),e}return n(e,t),Object.defineProperty(e.prototype,"fade",{get:function(){return this._fade},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_no",{get:function(){return this._btn_no},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_yes",{get:function(){return this._btn_yes},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._bg.texture=r.SALLY_EVENT.getTexture(28),this._btn_no.initialize(),this._btn_yes.initialize()},e}(PIXI.Container);e.OperationSelectConfirmDialog=a;var _=function(t){function e(e){var i=t.call(this)||this;return i._onMouseOver=function(){i._update(!0)},i._onMouseOut=function(){i._update(!1)},i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick()},i._is_yes=e,i}return n(e,t),e.prototype.initialize=function(){this._update(!1)},e.prototype.activate=function(t){this._cb_onClick=t,1!=this.interactive&&(this.interactive=!0,this.buttonMode=!0,this.on(s.EventType.MOUSEOVER,this._onMouseOver),this.on(s.EventType.MOUSEOUT,this._onMouseOut),this.on(s.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this._cb_onClick=null,this.interactive=!1,this.buttonMode=!1,this.on(s.EventType.MOUSEOVER,this._onMouseOver),this.on(s.EventType.MOUSEOUT,this._onMouseOut),this.on(s.EventType.CLICK,this._onClick)},e.prototype._update=function(t){var e;e=1==t?this._is_yes?21:18:this._is_yes?20:17,this.texture=r.SALLY_EVENT.getTexture(e)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(26),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick()},i._cb_onClick=e,i._flash=new PIXI.Sprite(o.SALLY_AIRUNIT.getTexture(7)),i._flash.position.set(-14,-14),i._flash.alpha=0,i.addChild(i._flash),i.interactive=!0,i}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this.deactivate(),this._cb_onClick=null,this._flash=null},e.prototype.initialize=function(){this.texture=o.SALLY_AIRUNIT.getTexture(6)},e.prototype.activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(r.EventType.CLICK,this._onClick),this.playFlash())},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(r.EventType.CLICK,this._onClick),this.stopFlash()},e.prototype.playFlash=function(){this.stopFlash(),this._tween=createjs.Tween.get(this._flash,{loop:!0}),this._tween.to({alpha:1},1e3).to({alpha:0},1e3)},e.prototype.stopFlash=function(){this._tween&&(this._tween.setPaused(!0),createjs.Tween.removeTweens(this._flash),this._tween=null,this._flash.alpha=0)},e}(PIXI.Sprite);e.AirUnitBtn=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(18),s=i(52),a=i(360),_=i(985),l=function(t){function e(e){var i=t.call(this)||this;i._initialized=!1,i._activated=!1,i._onSelectArea=function(t){null!=i._cb&&i._cb(t.area_id)},i._cb=e,i._btns=new Array;for(var n=[0,96,191,383,478,574,287],o=0;o<n.length;o++){var r=new a.AreaIconBtn(o+1);r.position.set(n[o],0),i._btns.push(r)}return i}return n(e,t),e.prototype.initialize=function(){if(1!=this._initialized){this._initialized=!0;var t=new PIXI.Sprite(s.SALLY_SORTIE.getTexture(32));if(t.x=65,t.y=27,this.addChild(t),r.EVENT_AREA_ID>0){if(null!=o.default.model.map.getArea(r.EVENT_AREA_ID)){var e=new _.EventAreaIconBtn(r.EVENT_AREA_ID);e.position.set(875,-9),this._btns.push(e)}}for(var i=0,n=this._btns;i<n.length;i++){var e=n[i];e.initialize(this._onSelectArea),this.addChild(e)}}},e.prototype.update=function(t){for(var e=0,i=this._btns;e<i.length;e++){var n=i[e],o=n.area_id==t;n.selected=o,o?n.deactivate():n.activate()}},e.prototype.activate=function(){if(0==this._activated){for(var t=0,e=this._btns;t<e.length;t++){e[t].activate()}this._activated=!0}},e.prototype.deactivate=function(){this._activated=!1;for(var t=0,e=this._btns;t<e.length;t++){e[t].deactivate()}},e.prototype.dispose=function(){this._cb=null,this.removeChildren();for(var t=0,e=this._btns;t<e.length;t++){e[t].dispose()}this._btns=null},e}(PIXI.Container);e.CompAreaIcons=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(41),r=i(360),s=function(t){function e(e){var i=t.call(this,e)||this;return i._overlay=new PIXI.Sprite,i.addChild(i._overlay),i._t=createjs.Tween.get(i._overlay,{loop:!0}).to({alpha:0},600).to({alpha:1},600),i._t.setPaused(!0),i}return n(e,t),e.prototype.initialize=function(e){this._overlay.texture=o.SALLY_EVENT.getTexture(1),this.texture=o.SALLY_EVENT.getTexture(0),t.prototype.initialize.call(this,e)},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._t.setPaused(!0),this._t=null},e.prototype._update=function(t){1==this.selected?(this._t.setPaused(!0),this._overlay.alpha=1):1==t?(this._t.setPaused(!0),this._overlay.alpha=1):this._t.setPaused(!1)},e}(r.AreaIconBtn);e.EventAreaIconBtn=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(361),s=i(987),a=function(t){function e(e,i,n){var r=t.call(this,n)||this;return r._panel=new s.PanelDeckSelect(e,i,r._onGo),r._panel.position.set(o.default.width,102),r.addChild(r._panel),r}return n(e,t),Object.defineProperty(e.prototype,"panel",{get:function(){return this._panel},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e,i){this._panel.initialize(t,e,i)},e.prototype.activate=function(){t.prototype.activate.call(this),this._panel.activate()},e.prototype.deactivate=function(){t.prototype.deactivate.call(this),this._panel.deactivate()},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._panel.dispose(),this._panel=null},e}(r.ContainerDeckSelectBase);e.ContainerDeckSelect=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(10),s=i(30),a=i(362),_=i(364),l=i(365),u=i(229),c=i(366),h=i(230),p=i(368),d=i(991),f=i(992),y=i(993),m=i(111),g=function(t){function e(e,i,n){var r=t.call(this)||this;return r._onDeckChange=function(t){r._update(t)},r._onGo=function(){if(null!=r._cb_onGo){var t=r._selected_map.mst_id;r._cb_onGo(t,r._deck_id)}},r._onClickTempSupply=function(){var t=o.default.model.deck.get(r._deck_id).getShipList();new _.TaskTemporarySupply(t,r._rader,function(){r._update(r._deck_id)}).start()},r._cb_onGo=n,r._banners=new a.PanelDeckSelectBanners,r._banners.position.set(30,95),r._decks=new h.CompDeckBtns(r._onDeckChange),r._decks.position.set(30,54),r._rader=new c.RaderCanvas,r._rader.position.set(488,293),r._arrow=new u.CompArrow2,r._arrow.position.set(567,537),r._alert=new l.AlertBalloon,r._alert.anchor.set(1,.5),r._alert.position.set(299,566),r.interactive=!0,r._airunit_limit=e,r._event_sortie_condition=i,r._btn=new d.BtnGo(r._onGo),r._btn.position.set(302,539),r._shop=new f.BtnShop,r._shop.position.set(15,538),r._temp_supply_btn=new p.TempSupplyBtn,r._temp_supply_btn.position.set(210,528),r}return n(e,t),e.prototype.initialize=function(t,e,i){this._selected_map=t;var n=new PIXI.Sprite(s.SALLY_COMMON.getTexture(27));n.position.set(-8,36);var a=new PIXI.Sprite(s.SALLY_COMMON.getTexture(51));a.position.set(0,0);var _=new PIXI.Sprite(s.SALLY_COMMON.getTexture(15));if(_.position.set(24,11),this._decks.initialize(e),this._rader.initialize(),this._arrow.initialize(),this.addChild(n),this.addChild(a),this.addChild(_),this.addChild(this._banners),this.addChild(this._decks),this.addChild(this._rader),this.addChild(this._arrow),this._alert.initialize(),this.addChild(this._alert),o.default.model.deck.exist3rdUnit){var l=new PIXI.Sprite(r.COMMON_MISC.getTexture(185));l.position.set(108,33),this.addChild(l)}1==i&&(this._deck_combined_frame=new m.CombinedView,this._deck_combined_frame.position.set(23,45),this.addChild(this._deck_combined_frame)),this._btn.initialize(),this.addChild(this._btn),this._shop.initialize(),this.addChild(this._shop),this._temp_supply_btn.initialize(this._onClickTempSupply),this.addChild(this._temp_supply_btn),this._update(e[0])},e.prototype.activate=function(){this._decks.activate(),this._arrow.activate(),null!=this._deck_combined_frame&&this._deck_combined_frame.activate(),this._btn.activate(),this._alert.activate(),this._temp_supply_btn.activate(),this._shop.activate()},e.prototype.deactivate=function(){this._decks.deactivate(),this._arrow.deactivate(),null!=this._deck_combined_frame&&this._deck_combined_frame.deactivate(),this._btn.deactivate(),this._temp_supply_btn.deactivate(),this._shop.deactivate()},e.prototype.dispose=function(){this.removeChildren(),this._selected_map=null,this._cb_onGo=null,this._banners.dispose(),this._banners=null,this._decks.dispose(),this._decks=null,this._rader.dispose(),this._rader=null,this._arrow.dispose(),this._arrow=null,this._alert=null,this._btn.dispose(),this._btn=null,this._shop.deactivate(),this._shop=null,this._temp_supply_btn.dispose(),this._temp_supply_btn=null,null!=this._deck_combined_frame&&(this._deck_combined_frame.dispose(),this._deck_combined_frame=null)},e.prototype._update=function(t){this._deck_id=t,this._decks.setSelected(t);for(var e=o.default.model.deck.get(t),i=e.getShipListAll(),n=e.getShipList(),r=!0,s=0;s<i.length;s++){var a=i[s];null!=a&&1==r&&(a.fuelNow<a.fuelMax||a.ammoNow<a.ammoMax)&&(r=!1)}this._rader.update(i);var _=o.default.model.ndock.getShipMemIDs(),l=y.check(this._selected_map,e,_,this._event_sortie_condition);this._btn.enabled=l.result;var u=this._airunit_limit,c=this._selected_map.area_id,h=o.default.model.airunit.getReadyAirUnitList(c);if(this._btn.air_unit=u>0&&h.length>0,this._alert.update(l.reason),this._arrow.enabled=l.result,this._arrow.update(r),this._arrow.activate(),0==o.default.model.basic.getExtraSupplySortie())this._temp_supply_btn.visible=!1;else if(r)this._temp_supply_btn.visible=!1;else if(0!=l.reason&&2!=l.reason&&14!=l.reason)this._temp_supply_btn.visible=!1;else{for(var p=0,d=0,s=0;s<n.length;s++){var a=n[s];null!=a&&(p+=a.getFuelForSupply(),d+=a.getAmmoForSupply())}var f=o.default.model.useItem.getCount(31),m=o.default.model.useItem.getCount(32),g=p>0&&p<=f,v=d>0&&d<=m;this._temp_supply_btn.enabled=0!=g||0!=v,this._temp_supply_btn.visible=!0}this._shop.visible=l.result,this._banners.update(n)},e}(PIXI.Container);e.PanelDeckSelect=g},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(30),r=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.initialize=function(){this._fuel=new a,this._ammo=new _,this._fuel.initialize(),this._ammo.initialize(),this._ammo.position.set(38,0),this.addChild(this._fuel),this.addChild(this._ammo)},e.prototype.update=function(t){null==t?this.visible=!1:(this.visible=!0,this._fuel.update(t.fuelNow/t.fuelMax),this._ammo.update(t.ammoNow/t.ammoMax))},e}(PIXI.Container);e.CompLackAlerts=r;var s=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.initialize=function(){var t=new PIXI.Sprite(this._getTexture());this._alert=new PIXI.Sprite,t.position.set(-14,-14),this._alert.position.set(0,-11),this.addChild(t),this.addChild(this._alert)},e.prototype.update=function(t){t<=.5?(this._alert.texture=o.SALLY_COMMON.getTexture(33),this.visible=!0):t<1?(this._alert.texture=o.SALLY_COMMON.getTexture(32),this.visible=!0):this.visible=!1},e.prototype._getTexture=function(){return null},e}(PIXI.Container),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._getTexture=function(){return o.SALLY_COMMON.getTexture(30)},e}(s),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._getTexture=function(){return o.SALLY_COMMON.getTexture(31)},e}(s)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(30),r=function(t){function e(){var e=t.call(this)||this;return e._bg=new PIXI.Sprite,e._label=new PIXI.Sprite,e._n001=new PIXI.Sprite,e._n010=new PIXI.Sprite,e._n100=new PIXI.Sprite,e.addChild(e._bg),e.addChild(e._label),e.addChild(e._n001),e.addChild(e._n010),e.addChild(e._n100),e}return n(e,t),e.prototype.initialize=function(){this._bg.texture=o.SALLY_COMMON.getTexture(29),this._label.texture=o.SALLY_COMMON.getTexture(34),this._n001.position.set(44,3),this._n010.position.set(33,3),this._n100.position.set(23,3)},e.prototype.update=function(t){if(null==t)this.visible=!1;else{var e=t.level;e=Math.max(0,e),e=Math.min(999,e);var i=Math.floor(e/100),n=e%100,r=Math.floor(n/10),s=n%10,a=[59,60,61,62,63,64,65,66,67,68];e<10?(this._bg.scale.x=.866,this._bg.position.x=17,this._label.position.set(23,5),this._n001.texture=o.SALLY_COMMON.getTexture(a[s]),this._n010.visible=!1,this._n100.visible=!1):e<100?(this._bg.scale.x=1.067,this._bg.position.x=8,this._label.position.set(12,5),this._n001.texture=o.SALLY_COMMON.getTexture(a[s]),this._n010.texture=o.SALLY_COMMON.getTexture(a[r]),this._n010.visible=!0,this._n100.visible=!1):(this._bg.scale.x=1.233,this._bg.position.x=0,this._label.position.set(3,5),this._n001.texture=o.SALLY_COMMON.getTexture(a[s]),this._n010.texture=o.SALLY_COMMON.getTexture(a[r]),this._n100.texture=o.SALLY_COMMON.getTexture(a[i]),this._n010.visible=!0,this._n100.visible=!0),this.visible=!0}},e}(PIXI.Container);e.CompBannerLevel=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(165),s=i(165),a=i(30),_=function(t){function e(){var e=t.call(this)||this;return e._fuelTitle=new PIXI.Sprite,e.addChild(e._fuelTitle),e._ammoTitle=new PIXI.Sprite,e._ammoTitle.x=141,e.addChild(e._ammoTitle),e._fuelBox=new r.FuelContainer,e._fuelBox.y=126,e.addChild(e._fuelBox),e._ammoBox=new s.AmmoContainer,e._ammoBox.x=141,e._ammoBox.y=126,e.addChild(e._ammoBox),e._fuelText=new o.TextBox(28,4999235),e._fuelText.y=84,e.addChild(e._fuelText),e._ammoText=new o.TextBox(28,4999235),e._ammoText.y=84,e.addChild(e._ammoText),e}return n(e,t),e.prototype.initialize=function(){this._fuelTitle.texture=a.SALLY_COMMON.getTexture(17),this._ammoTitle.texture=a.SALLY_COMMON.getTexture(16)},e.prototype.update=function(t,e){this._fuelText.text=t.toString(),this._fuelText.x=128-this._fuelText.width,this._ammoText.text=e.toString(),this._ammoText.x=269-this._ammoText.width,this._fuelBox.update(t),this._ammoBox.update(e)},e.prototype.play=function(t,e,i){1==t?(this._fuelBox.playSupply(i),1==e&&this._ammoBox.playSupply(function(){})):1==e?this._ammoBox.playSupply(i):i()},e.prototype.dispose=function(){this.removeChildren(),this._fuelBox.dispose(),this._ammoBox.dispose(),this._fuelText.destroy(),this._ammoText.destroy()},e}(PIXI.Container);e.TempSupplyBox=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(52),r=i(369),s=function(t){function e(e){return t.call(this,e)||this}return n(e,t),Object.defineProperty(e.prototype,"air_unit",{get:function(){return null!=this._airunit},set:function(t){if(t!=this.air_unit){if(1==t){this._btn.position.set(0,-8);var e=o.SALLY_SORTIE.getTexture(7);this._airunit=new PIXI.Sprite(e),this._airunit.position.set(6,33),this.addChild(this._airunit)}else this.removeChild(this._airunit),this._airunit=null,this._btn.position.set(0,0);this._updateTexture()}},enumerable:!0,configurable:!0}),e.prototype._updateTexture=function(){1==this.air_unit?0==this._enabled?this._btn.texture=o.SALLY_SORTIE.getTexture(18):1==this._overed?this._btn.texture=o.SALLY_SORTIE.getTexture(19):this._btn.texture=o.SALLY_SORTIE.getTexture(17):0==this._enabled?this._btn.texture=o.SALLY_SORTIE.getTexture(21):1==this._overed?this._btn.texture=o.SALLY_SORTIE.getTexture(22):this._btn.texture=o.SALLY_SORTIE.getTexture(20)},e}(r.BtnGoBase);e.BtnGo=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(80),s=i(30),a=i(1),_=function(t){function e(){var e=t.call(this)||this;return e._flg=!1,e._overed=!1,e._updateTexture=function(){e._flg=!e._flg,1==e._flg||1==e._overed?e._icon.texture=s.SALLY_COMMON.getTexture(42):e._icon.texture=s.SALLY_COMMON.getTexture(41)},e._onMouseOver=function(){e._overed=!0,e._updateTexture(),e._over.visible=!0},e._onMouseOut=function(){e._overed=!1,e._updateTexture(),e._over.visible=!1},e._onClick=function(){o.default.scene.change(24,new r.ItemSceneModel)},e._icon=new PIXI.Sprite,e._over=new PIXI.Sprite,e._over.position.set(30,-55),e._over.visible=!1,e._icon.interactive=!0,e}return n(e,t),e.prototype.initialize=function(){this._icon.texture=s.SALLY_COMMON.getTexture(41),this._over.texture=s.SALLY_COMMON.getTexture(44),this.addChild(this._over),this.addChild(this._icon)},e.prototype.activate=function(){var t=this;null==this._t&&(this._icon.buttonMode=!0,this._icon.on(a.EventType.MOUSEOVER,this._onMouseOver),this._icon.on(a.EventType.MOUSEOUT,this._onMouseOut),this._icon.on(a.EventType.CLICK,this._onClick),this._t=createjs.Tween.get(this,{loop:!0}).wait(300).call(function(){t._updateTexture()}))},e.prototype.deactivate=function(){this._icon.off(a.EventType.MOUSEOVER,this._onMouseOver),this._icon.off(a.EventType.MOUSEOUT,this._onMouseOut),this._icon.off(a.EventType.CLICK,this._onClick),null!=this._t&&(this._t.setPaused(!0),this._t=null),this._icon.buttonMode=!1},e}(PIXI.Container);e.BtnShop=_},function(t,e,i){"use strict";function n(t,e,i,n){if(0==e.getCount())return{result:!1,reason:31};var _=o(t,e);if(null!=_)return _;var l=t.mst_id,u=e.getShipListAll();if(16==l&&null!=(_=r(u)))return _;if(63==l&&null!=(_=s(u)))return _;if(64==l&&null!=(_=a(u)))return _;if(null!=e.expedition)return{result:!1,reason:30};if(null!=n){var c=e.getCombinedType(),h=n.check(c,u);if(0==h.result||0!=h.reason)return h}for(var p=!1,d=!1,f=0,y=u;f<y.length;f++){var m=y[f];null!=m&&(-1!=i.indexOf(m.memID)&&(p=!0),(m.fuelNow<=0||m.ammoNow<=0)&&(d=!0))}if(1==p)return{result:!1,reason:1};if(1==d)return{result:!1,reason:2};var g=u[0].getDamageType();if(0!=e.getCombinedType()){if(50==g||25==g||0==g)return{result:!1,reason:21};var v=u[6].getDamageType();if(50==v||25==v||0==v)return{result:!1,reason:21}}else if(25==g||0==g)return{result:!1,reason:3};return 1==e.isCombined_Sub()?{result:!1,reason:20}:{result:!0,reason:0}}function o(t,e){var i=e.getCombinedType(),n=t.getAllowedDeckType();if(0==i){if(e.getCount()>6)return 1==n.yugeki?null:{result:!1,reason:36};if(1==n.normal)return null}var o=n.rengo;return 0!=o||1!=i&&2!=i&&3!=i?1==o&&1!=i?{result:!1,reason:23}:2==o&&2!=i?{result:!1,reason:24}:3==o&&1!=i&&2!=i?{result:!1,reason:25}:4==o&&3!=i?{result:!1,reason:28}:5==o&&1!=i&&3!=i?{result:!1,reason:26}:6==o&&2!=i&&3!=i?{result:!1,reason:27}:7==o&&1!=i&&2!=i&&3!=i?{result:!1,reason:29}:null:432==t.mst_id||433==t.mst_id?{result:!1,reason:46}:{result:!1,reason:22}}function r(t){for(var e=0,i=t;e<i.length;e++){var n=i[e];if(null!=n){switch(n.shipTypeID){case 4:case 8:case 9:case 11:case 13:case 14:case 18:return{result:!1,reason:4}}}}return null}function s(t){for(var e=0,i=0,n=0,o=0,r=t;o<r.length;o++){var s=r[o];if(null!=s){var a=s.shipTypeID;if(2==a)e++;else if(3==a)i++;else if(21==a)i++;else{if(16!=a)return{result:!1,reason:5};n++}}}return 0==e?{result:!1,reason:6}:0==i?{result:!1,reason:7}:i>=4?{result:!1,reason:8}:0==n?{result:!1,reason:9}:n>=3?{result:!1,reason:10}:null}function a(t){for(var e=0,i=0,n=0,o=t;n<o.length;n++){var r=o[n];if(null!=r){var s=r.shipTypeID;8==s?e++:9==s?e++:10==s?e++:7==s?i++:11==s?i++:18==s&&i++}}return e>=3?{result:!1,reason:11}:i>=3?{result:!1,reason:12}:null}Object.defineProperty(e,"__esModule",{value:!0}),e.check=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(4),s=i(30),a=i(52),_=i(995),l=i(996),u=i(997),c=function(t){function e(e){var i=t.call(this)||this;return i._onClick=function(){null!=i._cb&&i._cb(i._selected_id)},i._cb=e,i.interactive=!0,i}return n(e,t),e.prototype.initialize=function(){var t=new PIXI.Sprite(s.SALLY_COMMON.getTexture(28));t.position.set(0,138),this.addChild(t);var e=new PIXI.Sprite(s.SALLY_COMMON.getTexture(51));e.position.set(0,102),this.addChild(e);var i=new PIXI.Sprite(a.SALLY_SORTIE.getTexture(9));i.position.set(24,111),this.addChild(i);var n=new PIXI.Sprite(a.SALLY_SORTIE.getTexture(33));n.position.set(27,227),this.addChild(n);var o=new PIXI.Sprite(a.SALLY_SORTIE.getTexture(34));o.position.set(27,315),this.addChild(o);var c=new PIXI.Sprite(s.SALLY_COMMON.getTexture(47));c.position.set(27,530),this.addChild(c);var h=new PIXI.Graphics;h.lineStyle(1,13421772),h.moveTo(21,224),h.lineTo(336,224),h.moveTo(21,309),h.lineTo(336,309),this.addChild(h),this._map_name_txt=new r.TextBox(21,4999235),this._map_name_txt.position.set(24,156),this.addChild(this._map_name_txt),this._areaText=new _.AreaTextImage,this._areaText.position.set(29,185),this.addChild(this._areaText),this._ope_name_txt=new r.TextBox(21,4999235),this._ope_name_txt.position.set(24,249),this.addChild(this._ope_name_txt),this._ope_detail_txt=new r.TextBox(21,4999235),this._ope_detail_txt.position.set(24,342),this._ope_detail_txt.style.wordWrap=!0,this._ope_detail_txt.style.breakWords=!0,this._ope_detail_txt.style.wordWrapWidth=323,this.addChild(this._ope_detail_txt),this._err_txt=new r.TextBox(17,12467003),this._err_txt.position.set(24,465),this.addChild(this._err_txt),this._shop=new u.BtnShop2,this._shop.position.set(271,468),this._shop.initialize(),this.addChild(this._shop),this._items=new Array;for(var p=0;p<4;p++){var d=new PIXI.Sprite;d.position.set(26+81*p,555),this._items.push(d)}for(var f=0,y=this._items;f<y.length;f++){var m=y[f];this.addChild(m)}this._btn=new l.BtnDicision,this._btn.position.set(33,638),this._btn.initialize(),this._btn.on("dicision",this._onClick),this.addChild(this._btn)},e.prototype.update=function(t){this._selected_id=t.mst_id,45==t.area_id?(this._map_name_txt.position.set(24,156),this._areaText.position.set(18,179),this._map_name_txt.text=t.name):(this._map_name_txt.position.set(24,156),this._areaText.position.set(29,185),this._map_name_txt.text=t.name),this._areaText.update(t.area_id),this._ope_name_txt.text=t.operation_name,this._ope_detail_txt.text=t.operation_detail.replace(/<br.*?>/g,"\n"),this._err_txt.text="";for(var e=t.item_ids,i=0;i<this._items.length;i++){var n=this._items[i];if(null!=e&&e.length>i&&e[i]>0){var r=e[i];n.texture=o.default.resources.getUseitem(r,0),n.visible=!0}else n.visible=!1}var s=o.default.model.const.boko_max_ships,a=o.default.model.basic.shipMax,_=a<s,l=o.default.model.ship.num,u=o.default.model.basic.slotMax,c=o.default.model.slot.num;a-l<1?(this._err_txt.text="\u8266\u5a18\u4fdd\u6709\u6570\u304c\u4e0a\u9650\u4e00\u676f\u306e\u305f\u3081\u3001\n\u51fa\u6483\u306b\u3088\u308b\u65b0\u3057\u3044\u8266\u5a18\u306e\u7372\u5f97\n\u306f\u3067\u304d\u307e\u305b\u3093\u3002",1==_&&(this._shop.visible=!0)):u-c<4?(this._err_txt.text="\u88c5\u5099\u4fdd\u6709\u6570\u304c\u4e0a\u9650\u4e00\u676f\u306e\u305f\u3081\u3001\n\u51fa\u6483\u306b\u3088\u308b\u65b0\u3057\u3044\u8266\u5a18\u306e\u7372\u5f97\n\u306f\u3067\u304d\u307e\u305b\u3093\u3002",1==_&&(this._shop.visible=!0)):this._shop.visible=!1},e.prototype.activate=function(){this._shop.activate(),this._btn.activate()},e.prototype.deactivate=function(){this._shop.deactivate(),this._btn.deactivate()},e.prototype.dispose=function(){this.removeChildren(),this._cb=null,this._map_name_txt.destroy(),this._areaText.dispose(),this._ope_name_txt.destroy(),this._ope_detail_txt.destroy(),this._err_txt.destroy(),this._shop.deactivate(),this._btn.off("dicision",this._onClick)},e}(PIXI.Container);e.PanelDetail=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(18),s=i(15),a=function(t){function e(){var e=t.call(this)||this;return e._area_id=-1,e}return n(e,t),e.prototype.update=function(t,e){var i=this;if(void 0===e&&(e=null),this._area_id==t)return void(null!=e&&e());this._area_id=t;var n=s.MathUtil.zeroPadding(t,3),a=o.default.settings.path_root+"resources/area/sally/"+n+".png";if(a=a+"?"+r.START_TIME,this.clear(),this._img=new PIXI.Sprite,this.addChild(this._img),null!=PIXI.utils.TextureCache[a])this._img.texture=PIXI.utils.TextureCache[a],null!=e&&e();else{var _=new PIXI.loaders.Loader;_.add(a),_.load(function(){i._img.texture=_.resources[a].texture,null!=e&&e()})}},e.prototype.clear=function(){null!=this._img&&(null!=this._img.parent&&this._img.parent.removeChild(this._img),this._img=null)},e.prototype.dispose=function(){this.clear()},e}(PIXI.Container);e.AreaTextImage=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(30),r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e._onMouseOver=function(){e.texture=o.SALLY_COMMON.getTexture(20)},e._onMouseOut=function(){e.texture=o.SALLY_COMMON.getTexture(18)},e._onClick=function(){e.emit("dicision")},e.interactive=!0,e}return n(e,t),e.prototype.initialize=function(){this.texture=o.SALLY_COMMON.getTexture(18)},e.prototype.activate=function(){0==this.buttonMode&&(this.buttonMode=!0,this.on(r.EventType.MOUSEOVER,this._onMouseOver),this.on(r.EventType.MOUSEOUT,this._onMouseOut),this.on(r.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(r.EventType.MOUSEOVER,this._onMouseOver),this.off(r.EventType.MOUSEOUT,this._onMouseOut),this.off(r.EventType.CLICK,this._onClick)},e.prototype._setTextture=function(t){this.texture=t},e}(PIXI.Sprite);e.BtnDicision=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(80),s=i(30),a=i(1),_=function(t){function e(){var e=t.call(this)||this;return e._flg=!1,e._overed=!1,e._updateTexture=function(){e._flg=!e._flg,1==e._flg||1==e._overed?e._icon.texture=s.SALLY_COMMON.getTexture(42):e._icon.texture=s.SALLY_COMMON.getTexture(41)},e._onMouseOver=function(){e._overed=!0,e._updateTexture(),e._over.visible=!0},e._onMouseOut=function(){e._overed=!1,e._updateTexture(),e._over.visible=!1},e._onClick=function(){o.default.scene.change(24,new r.ItemSceneModel)},e._icon=new PIXI.Sprite,e._over=new PIXI.Sprite,e._over.position.set(-187,-40),e._over.visible=!1,e._icon.interactive=!0,e}return n(e,t),e.prototype.initialize=function(){this._icon.texture=s.SALLY_COMMON.getTexture(41),this._over.texture=s.SALLY_COMMON.getTexture(45),this.addChild(this._over),this.addChild(this._icon)},e.prototype.activate=function(){var t=this;null==this._t&&(this._icon.buttonMode=!0,this._icon.on(a.EventType.MOUSEOVER,this._onMouseOver),this._icon.on(a.EventType.MOUSEOUT,this._onMouseOut),this._icon.on(a.EventType.CLICK,this._onClick),this._t=createjs.Tween.get(this,{loop:!0}).wait(300).call(function(){t._updateTexture()}))},e.prototype.deactivate=function(){this._icon.off(a.EventType.MOUSEOVER,this._onMouseOver),this._icon.off(a.EventType.MOUSEOUT,this._onMouseOut),this._icon.off(a.EventType.CLICK,this._onClick),null!=this._t&&(this._t.setPaused(!0),this._t=null),this._icon.buttonMode=!1},e}(PIXI.Container);e.BtnShop2=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(18),s=i(999),a=i(1e3),_=i(1001),l=i(1006),u=i(1007),c=i(1013),h=i(1),p=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._onSelect=function(t,e){r._cb_select(t,e)},r._onSelectAirUnit=function(){null!=r._cb_onSelectAirUnit&&r._cb_onSelectAirUnit()},r._cb_select=e,r._cb_onSelectAirUnit=i,r._cb_back=n,r._cb_next=o,r._back_btn=new s.BtnBack,r._next_btn=new a.BtnNext,r}return n(e,t),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._back_btn.on(h.EventType.CLICK,this._cb_back),this._next_btn.on(h.EventType.CLICK,this._cb_next),this.addChild(this._back_btn),this.addChild(this._next_btn)},e.prototype.update=function(t,e,i){var n=o.default.model.map.getMapMems(t);t==r.EVENT_AREA_ID?this._updateEventArea(t,e,n):this._updateNormalArea(t,e,n),this._content.updateAirUnitEnabled(i)},e.prototype.deactivate=function(){this._content.deactivate()},e.prototype.dispose=function(){this._back_btn.off(h.EventType.CLICK,this._cb_back),this._next_btn.off(h.EventType.CLICK,this._cb_next),this._back_btn.dispose(),this._next_btn.dispose(),this._cb_select=null,this._cb_back=null,this._cb_next=null,this._removePreContent(),this.removeChildren(),this._back_btn=null,this._next_btn=null},e.prototype._updateNormalArea=function(t,e,i){this._removePreContent(),this._content=0==e?new l.LayoutMap4(e,this._onSelect,this._onSelectAirUnit):new _.LayoutMap3(e,this._onSelect,this._onSelectAirUnit),this._content.initialize(i),this.addChildAt(this._content,0),this._content.activate(),this._updateBackBtn(),this._updateNextBtn(t,e,i)},e.prototype._updateEventArea=function(t,e,i){this._removePreContent(),this._content=e>=1?new u.LayoutEventMap1(e,this._onSelect,this._onSelectAirUnit):new c.LayoutEventMap2(e,this._onSelect,this._onSelectAirUnit),this._content.initialize(i),this.addChildAt(this._content,0),this._content.activate(),this._next_btn.hide(),this._back_btn.hide()},e.prototype._removePreContent=function(){null!=this._content&&(this._content.deactivate(),this.removeChild(this._content),this._content.dispose(),this._content=null)},e.prototype._updateBackBtn=function(t){void 0===t&&(t=!1),this._content.offset>0?(this._back_btn.update(t),this._back_btn.show()):this._back_btn.hide()},e.prototype._updateNextBtn=function(t,e,i){var n=!1,o=this._content.offset+this._content.num;if(o<i.length){var r=i[o];if(1==r.isOpened())n=!0;else if(65==r.mst_id){var s=i[o-1];1==s.isCleared()&&(n=!0)}}1==n?(this._next_btn.update(t,e),this._next_btn.show()):this._next_btn.hide()},e}(PIXI.Container);e.ContainerLayout=p},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(52),r=i(41),s=function(t){function e(){var e=t.call(this)||this;return e._light=new PIXI.Sprite,e._content=new PIXI.Sprite,e.addChild(e._light),e.addChild(e._content),e.interactive=!0,e.buttonMode=!0,e}return n(e,t),e.prototype.update=function(t){0==t?(this._light.visible=!1,this._content.position.set(141,341),this._content.texture=o.SALLY_SORTIE.getTexture(14)):(this._content.position.set(488,353),this._content.texture=r.SALLY_EVENT.getTexture(7),this._light.texture=r.SALLY_EVENT.getTexture(8),this._light.position.set(this._content.x-23,this._content.y-20),this._light.visible=!0)},e.prototype.show=function(){this._activate(),this.visible=!0},e.prototype.hide=function(){this._deactivate(),this.visible=!1},e.prototype.dispose=function(){this._deactivate()},e.prototype._activate=function(){null==this._t&&0!=this._light.visible&&(this._light.alpha=0,this._t=createjs.Tween.get(this._light,{loop:!0}).to({alpha:1},800).to({alpha:0},800))},e.prototype._deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null,this._light.alpha=0)},e}(PIXI.Container);e.BtnBack=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(18),r=i(52),s=i(41),a=function(t){function e(){var e=t.call(this)||this;return e._content=new PIXI.Sprite,e._light=new PIXI.Sprite,e._light.alpha=0,e.addChild(e._light),e.addChild(e._content),e.interactive=!0,e.buttonMode=!0,e}return n(e,t),e.prototype.update=function(t,e){t==o.EVENT_AREA_ID?(e>=0&&(this._content.position.set(1012,328),this._content.texture=s.SALLY_EVENT.getTexture(13)),this._light.texture=s.SALLY_EVENT.getTexture(16),this._light.position.set(1012,328),this._light.alpha=0):(this._content.position.set(1031,332),this._content.texture=r.SALLY_SORTIE.getTexture(15),this._light.texture=r.SALLY_SORTIE.getTexture(16),this._light.position.set(this._content.x-26,this._content.y-24),this._light.alpha=0)},e.prototype.show=function(){this._activate(),this.visible=!0},e.prototype.hide=function(){this._deactivate(),this.visible=!1},e.prototype.dispose=function(){this._deactivate()},e.prototype._activate=function(){null==this._t&&(this._t=createjs.Tween.get(this._light,{loop:!0}).to({alpha:1},1500).to({alpha:0},800))},e.prototype._deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null,this._light.alpha=0)},e}(PIXI.Container);e.BtnNext=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(231),r=i(233),s=function(t){function e(e,i,n){for(var r=t.call(this,e)||this,s=0;s<3;s++){var a=new o.MapThumbnail(3,i,n,null,null),_=206+144*s;a.position.set(186,_),r.addChild(a),r._maps.push(a)}return r}return n(e,t),e}(r.LayoutBase);e.LayoutMap3=s},function(t,e,i){"use strict";function n(t){return 64==t?1:t>=415?2:t>=411?3:0}function o(t){return 64==t?new PIXI.Point(-26,69):65==t?new PIXI.Point(-34,47):451==t?new PIXI.Point(-19,144):452==t?new PIXI.Point(-19,144):453==t?new PIXI.Point(-15,341):null}Object.defineProperty(e,"__esModule",{value:!0}),e.getType=n,e.getPosition=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(52),r=function(t){function e(){var e=t.call(this)||this;return e._content=new PIXI.Sprite,e.addChild(e._content),e.visible=!1,e}return n(e,t),e.prototype.show=function(t){void 0===t&&(t=0),this._content.y=0;var e=-1;0==t?(e=31,this._content.y=8):1==t?e=26:2==t?e=25:3==t?e=24:4==t&&(e=23),this._content.texture=e<0?PIXI.Texture.EMPTY:o.SALLY_SORTIE.getTexture(e),this._content.x=-Math.floor(this._content.width/2),this.visible=!0},e.prototype.hide=function(){this.visible=!1},e}(PIXI.Container);e.ClearBadge=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(52),r=i(1),s=function(t){function e(e){void 0===e&&(e=null);var i=t.call(this)||this;return i._onClick=function(t){t.stopPropagation(),null!=i._click_cb&&i._click_cb()},i._click_cb=e,i._bg=new PIXI.Sprite,i._title=new PIXI.Sprite,i._number=new PIXI.Sprite,i._touch_area=new PIXI.Graphics,i._touch_area.on(r.EventType.CLICK,i._onClick),i.enabled=!0,i.addChild(i._bg),i.addChild(i._title),i.addChild(i._number),i.addChild(i._touch_area),i}return n(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._touch_area.interactive},set:function(t){this._touch_area.interactive=t,this._touch_area.buttonMode=t},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){this._type=t,this._touch_area.clear(),this._touch_area.beginFill(16711680,0),0==t?(this._bg.texture=o.SALLY_SORTIE.getTexture(0),this._title.texture=o.SALLY_SORTIE.getTexture(10),this._title.position.set(143,62),this._title.visible=!1,this._number.position.set(233,59),this._number.visible=!1,this._touch_area.drawRect(32,18,287,48)):1==t?(this._bg.texture=o.SALLY_SORTIE.getTexture(6),this._title.texture=o.SALLY_SORTIE.getTexture(10),this._title.position.set(86,54),this._title.visible=!1,this._number.position.set(176,51),this._number.visible=!1,this._touch_area.drawRect(32,18,227,36)):2==t?(this._bg.texture=o.SALLY_SORTIE.getTexture(1),this._title.texture=o.SALLY_SORTIE.getTexture(2),this._title.position.set(314,25),this._title.visible=!1,this._number.position.set(325,44),this._number.visible=!1,this._touch_area.drawRect(24,27,287,36)):3==t&&(this._bg.texture=o.SALLY_SORTIE.getTexture(1),this._title.texture=o.SALLY_SORTIE.getTexture(2),this._title.position.set(250,71),this._title.visible=!1,this._number.position.set(261,90),this._number.visible=!1,this._touch_area.drawRect(24,27,287,36)),this._touch_area.endFill()},e.prototype.update=function(t){var e=-1;0==this._type||1==this._type?(1==t&&(e=11),2==t&&(e=12),3==t&&(e=13)):(1==t&&(e=3),2==t&&(e=4),3==t&&(e=5)),-1==e?(this._title.visible=!1,this._number.visible=!1):(this._number.texture=o.SALLY_SORTIE.getTexture(e),this._title.visible=!0,this._number.visible=!0)},e.prototype.dispose=function(){this._touch_area.off(r.EventType.CLICK,this._click_cb)},e}(PIXI.Container);e.AirUnitBadge=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(52),r=function(t){function e(){var e=t.call(this)||this,i=createjs.Ticker.framerate;return e._cloud1=new s(3,60/i*.0035),e._cloud2=new s(2,60/i*.0025),e._cloud3=new s(0,60/i*.005),e._cloud1.anchor.set(.5,.5),e._cloud2.anchor.set(.5,.5),e._cloud3.anchor.set(.5,.5),e.addChild(e._cloud1),e.addChild(e._cloud2),e.addChild(e._cloud3),e}return n(e,t),e.prototype.initialize=function(){this._cloud1.texture=o.SALLY_SORTIE.getTexture(27),this._cloud2.texture=o.SALLY_SORTIE.getTexture(28),this._cloud3.texture=o.SALLY_SORTIE.getTexture(29)},e.prototype.activate=function(){var t=this;if(null==this._t){var e=function(e){t._cloud1.update(),t._cloud2.update(),t._cloud3.update()};this._t=createjs.Tween.get(this,{loop:!0,onChange:e})}},e.prototype.deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Container);e.MapThumbnailLockedCloud=r;var s=function(t){function e(e,i){var n=t.call(this)||this;return n._tmp=150*Math.random(),n._offset=e,n._speed=i,n}return n(e,t),e.prototype.update=function(){var t=createjs.Ticker.framerate;this.x=90*Math.cos(this._tmp+this._offset),this.y=15*Math.cos(.9*this._tmp*(60/t)+this._offset),this._tmp+=this._speed},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(231),r=i(233),s=function(t){function e(e,i,n){for(var r=t.call(this,e)||this,s=0;s<4;s++){var a=new o.MapThumbnail(4,i,n,null,null),_=s%2==0?188:689,l=s<2?207:422;a.position.set(_,l),r.addChild(a),r._maps.push(a)}return r}return n(e,t),e}(r.LayoutBase);e.LayoutMap4=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(371),r=i(372),s=function(t){function e(e,i,n){var o=t.call(this,e,n)||this,s=new r.EventMapThumbnail(1,i,n,o._onMouseOver,o._onMouseOut);return s.position.set(501,207),o.addChild(s),o._maps.push(s),o}return n(e,t),e}(o.EventLayoutBase);e.LayoutEventMap1=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1009),r=i(1010),s=function(t){function e(){var e=t.call(this)||this;return e._bg=new PIXI.Sprite,e.addChild(e._bg),e._area_layer=new PIXI.Container,e.addChild(e._area_layer),e._arrow_layer=new PIXI.Container,e.addChild(e._arrow_layer),e._base=new PIXI.Container,e.addChild(e._base),e._plate=new PIXI.Container,e.addChild(e._plate),e._label_layer=new PIXI.Container,e.addChild(e._label_layer),e._mini_text_layer=new PIXI.Sprite,e.addChild(e._mini_text_layer),e._title1=new PIXI.Sprite(o.SALLY_STRATEGYMAP.getTexture(27)),e._title2=new PIXI.Sprite,e._title1.position.set(-9,-42),e._title2.y=-26,e.addChild(e._title1),e.addChild(e._title2),e}return n(e,t),e.prototype.update=function(t){this._bg.texture=this._getBGTexture(t),this._bg.y=5,this._createAreaAnimation(t),this._createArrowAnimation(t),this._createAirBase(t),this._createPlate(t),this._createLabelAnimation(t),this._createMiniTextAnimation(t),this._title2.texture=this._getTitleTexture(t),this._title2.x=Math.round(141-this._title2.width/2),this._title2.y=-21},e.prototype.dispose=function(){this._cleanArea(),this._cleanArrow(),this._cleanLabel()},e.prototype._getBGTexture=function(t){switch(t){case 451:return o.SALLY_STRATEGYMAP.getTexture(23);case 452:return o.SALLY_STRATEGYMAP.getTexture(24);case 453:return r.SALLY_STRATEGYMAP_S.getTexture(7);default:return PIXI.Texture.EMPTY}},e.prototype._createAreaAnimation=function(t){switch(this._cleanArea(),t){case 451:return this._createArea(1,70,o.SALLY_STRATEGYMAP.getTexture(0)),this._createArea(42,21,o.SALLY_STRATEGYMAP.getTexture(1)),void this._createArea(30,165,o.SALLY_STRATEGYMAP.getTexture(2));case 452:return this._createArea(53,116,o.SALLY_STRATEGYMAP.getTexture(3)),void this._createArea(147,71,o.SALLY_STRATEGYMAP.getTexture(4));case 453:return this._createArea(126,130,r.SALLY_STRATEGYMAP_S.getTexture(0)),void this._createArea(105,6,r.SALLY_STRATEGYMAP_S.getTexture(1));default:return}},e.prototype._createArrowAnimation=function(t){switch(this._cleanArrow(),t){case 451:return this._createArrow(37,120,o.SALLY_STRATEGYMAP.getTexture(5),o.SALLY_STRATEGYMAP.getTexture(6)),this._createArrow(97,72,o.SALLY_STRATEGYMAP.getTexture(7),o.SALLY_STRATEGYMAP.getTexture(8)),void this._createArrow(85,158,o.SALLY_STRATEGYMAP.getTexture(9),o.SALLY_STRATEGYMAP.getTexture(10));case 452:return this._createArrow(10,105,o.SALLY_STRATEGYMAP.getTexture(11),o.SALLY_STRATEGYMAP.getTexture(12)),void this._createArrow(130,115,o.SALLY_STRATEGYMAP.getTexture(13),o.SALLY_STRATEGYMAP.getTexture(14));case 453:return void this._createArrow(24,54,r.SALLY_STRATEGYMAP_S.getTexture(2),r.SALLY_STRATEGYMAP_S.getTexture(3));default:return}},e.prototype._createArea=function(t,e,i){var n=new a(i);n.x=t,n.y=e,this._area_layer.addChild(n)},e.prototype._cleanArea=function(){for(var t=0,e=this._area_layer.children;t<e.length;t++){e[t].dispose()}this._area_layer.removeChildren()},e.prototype._createArrow=function(t,e,i,n){var o=new _(i,n);o.x=t,o.y=e,this._arrow_layer.addChild(o)},e.prototype._cleanArrow=function(){for(var t=0,e=this._arrow_layer.children;t<e.length;t++){e[t].dispose()}this._arrow_layer.removeChildren()},e.prototype._createAirBase=function(t){this._base.removeChildren()},e.prototype._createPlate=function(t){var e=this;this._plate.removeChildren();var i=function(t,i,n){var o=new PIXI.Sprite(t);o.position.set(i,n),e._plate.addChild(o)};switch(t){case 451:return void i(o.SALLY_STRATEGYMAP.getTexture(17),108,143);case 452:return void i(o.SALLY_STRATEGYMAP.getTexture(18),132,178);case 453:return void i(r.SALLY_STRATEGYMAP_S.getTexture(4),122,160);default:return}},e.prototype._createLabelAnimation=function(t){switch(this._cleanLabel(),t){case 451:return void this._createLabel(47,80,o.SALLY_STRATEGYMAP.getTexture(19),o.SALLY_STRATEGYMAP.getTexture(20));case 452:return void this._createLabel(27,91,o.SALLY_STRATEGYMAP.getTexture(21),o.SALLY_STRATEGYMAP.getTexture(22));case 453:return void this._createLabel(19,118,r.SALLY_STRATEGYMAP_S.getTexture(5),r.SALLY_STRATEGYMAP_S.getTexture(6));default:return}},e.prototype._createLabel=function(t,e,i,n){var o=new l(i,n);o.x=t,o.y=e,this._label_layer.addChild(o)},e.prototype._cleanLabel=function(){for(var t=0,e=this._label_layer.children;t<e.length;t++){e[t].dispose()}this._label_layer.removeChildren()},e.prototype._createMiniTextAnimation=function(t){switch(this._cleanMiniText(),t){case 452:case 453:return void this._createLabel(192,281,o.SALLY_STRATEGYMAP.getTexture(28),o.SALLY_STRATEGYMAP.getTexture(29));default:return}},e.prototype._createMiniText=function(t,e,i,n){var o=new u(i,n);o.x=t,o.y=e,this._mini_text_layer.addChild(o)},e.prototype._cleanMiniText=function(){for(var t=0,e=this._mini_text_layer.children;t<e.length;t++){e[t].dispose()}this._mini_text_layer.removeChildren()},e.prototype._getTitleTexture=function(t){switch(t){case 451:return o.SALLY_STRATEGYMAP.getTexture(25);case 452:return o.SALLY_STRATEGYMAP.getTexture(26);case 453:return r.SALLY_STRATEGYMAP_S.getTexture(8);default:return PIXI.Texture.EMPTY}},e}(PIXI.Container);e.StrategyMap=s;var a=function(t){function e(e){var i=t.call(this,e)||this;return i._startAnimation(),i}return n(e,t),e.prototype.dispose=function(){this._stopAnimation()},e.prototype._startAnimation=function(){null==this._t&&(this.alpha=.5,this._t=createjs.Tween.get(this,{loop:!0}).to({alpha:1},1800).to({alpha:.5},0))},e.prototype._stopAnimation=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Sprite),_=function(t){function e(e,i){var n=t.call(this,e)||this;return n._over=new PIXI.Sprite(i),n.addChild(n._over),n._startAnimation(),n}return n(e,t),e.prototype.dispose=function(){this._stopAnimation()},e.prototype._startAnimation=function(){null==this._t&&(this._over.alpha=0,this._t=createjs.Tween.get(this._over,{loop:!0}).to({alpha:1},1200).to({alpha:0},0))},e.prototype._stopAnimation=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Sprite),l=function(t){function e(e,i){var n=t.call(this,e)||this;return n._over=new PIXI.Sprite(i),n.addChild(n._over),n._startAnimation(),n}return n(e,t),e.prototype.dispose=function(){this._stopAnimation()},e.prototype._startAnimation=function(){null==this._t&&(this._over.alpha=0,this._t=createjs.Tween.get(this._over,{loop:!0}).wait(600).to({alpha:1},0).wait(600).to({alpha:0},0))},e.prototype._stopAnimation=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Sprite),u=function(t){function e(e,i){var n=t.call(this,e)||this;return n._over=new PIXI.Sprite(i),n.addChild(n._over),n._startAnimation(),n}return n(e,t),e.prototype.dispose=function(){this._stopAnimation()},e.prototype._startAnimation=function(){null==this._t&&(this._over.alpha=0,this._t=createjs.Tween.get(this._over,{loop:!0}).wait(800).to({alpha:1},0).wait(800).to({alpha:0},0))},e.prototype._stopAnimation=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Sprite)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("sally_strategymap_"+t)}t.getTexture=e}(e.SALLY_STRATEGYMAP||(e.SALLY_STRATEGYMAP={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("sally_strategymap_s_"+t)}t.getTexture=e}(e.SALLY_STRATEGYMAP_S||(e.SALLY_STRATEGYMAP_S={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(26),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick()},i._cb_onClick=e,i.interactive=!0,i}return n(e,t),e.prototype.initialize=function(){this.texture=o.SALLY_AIRUNIT.getTexture(5)},e.prototype.activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(r.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(r.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate(),this._cb_onClick=null},e}(PIXI.Sprite);e.AirUnitBtn=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(41),r=i(370),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._getBlackTexture=function(){switch(this._type){case 2:return o.SALLY_EVENT.getTexture(31);case 3:return o.SALLY_EVENT.getTexture(30)}return PIXI.Texture.EMPTY},e.prototype._setPositions=function(){1==this._type?(this._key.position.set(216,104),this._cloud.position.set(230,137),this._text.position.set(230,174)):2==this._type?(this._key.position.set(311,42),this._cloud.position.set(332,81),this._text.position.set(333,152)):3==this._type?(this._black.position.set(-3,-2),this._key.position.set(311,11),this._cloud.position.set(332,56),this._text.position.set(339,117)):4==this._type&&(this._key.position.set(311,8),this._cloud.position.set(332,51),this._text.position.set(333,60))},e}(r.MapThumbnailLocked);e.EventMapThumbnailLocked=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(371),r=i(372),s=function(t){function e(e,i,n){for(var o=t.call(this,e,n)||this,s=0;s<2;s++){var a=new r.EventMapThumbnail(2,i,n,o._onMouseOver,o._onMouseOut),_=207+216*s;a.position.set(501,_),o.addChild(a),o._maps.push(a)}return o}return n(e,t),e}(o.EventLayoutBase);e.LayoutEventMap2=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1015);e.EventSortieCondition=n.EventSortieCondition},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(18),s=i(2),a=i(1016),_=i(1017),l=function(){function t(){}return t.prototype.getPreLoadTask=function(){return this._model=new a.EventSortieConditionModel,new u(this._model)},t.prototype.update=function(t){this._map=t},t.prototype.check=function(t,e){if(this._map.area_id!=r.EVENT_AREA_ID)return{result:!0,reason:0};var i=this._checkCommon();return null!=i?i:(i=this._check(t,e),null!=i?i:{result:!0,reason:0})},t.prototype._checkCommon=function(){var t=this._model.win_count,e=this._model.lose_count;if(0==t&&0==e)return{result:!1,reason:13};if(this._model.win_rate<.75)return{result:!1,reason:15};var i=o.default.model.basic.shipMax,n=o.default.model.ship.num;return i-n<5?{result:!1,reason:16}:(i=o.default.model.basic.slotMax,n=o.default.model.slot.num,i-n<20?{result:!1,reason:17}:0==this._map.getSelectedOperationType()?{result:!1,reason:18}:null)},t.prototype._check=function(t,e){var i=this._map.mst_id;if(451==i)for(var n=[11,18],o=0,r=e;o<r.length;o++){var s=r[o];if(null!=s){var a=s.shipTypeID;if(n.indexOf(a)>-1)return{result:!1,reason:38}}}var _=this._map.getSelectedOperationType(),l=[3,4].indexOf(_)>-1,u=4==_;if(l)if(451==i)for(var c=0,h=e;c<h.length;c++){var s=h[c];if(null!=s){var p=s.label;if(0!=p&&1!=p)return{result:!1,reason:19}}}else if(452==i)for(var d=0,f=e;d<f.length;d++){var s=f[d];if(null!=s){var p=s.label;if(0!=p&&2!=p)return{result:!1,reason:19}}}if(u&&453==i&&!this._map.isCleared())for(var y=0,m=e;y<m.length;y++){var s=m[y];if(null!=s){var p=s.label;if(0!=p&&3!=p)return{result:!1,reason:19}}}return{result:!0,reason:0}},t}();e.EventSortieCondition=l;var u=function(t){function e(e){var i=t.call(this)||this;return i._onComplete=function(){i._endTask()},i._model=e,i}return n(e,t),e.prototype._start=function(){new _.APIEventSortieCondition(this._model).start(this._onComplete)},e.prototype._endTask=function(){this._model=null,t.prototype._endTask.call(this)},e}(s.TaskBase)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),o=function(){function t(){}return Object.defineProperty(t.prototype,"win_count",{get:function(){return n.ObjUtil.getNumber(this._war,"api_win")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lose_count",{get:function(){return n.ObjUtil.getNumber(this._war,"api_lose")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"win_rate",{get:function(){return n.ObjUtil.getNumber(this._war,"api_rate")},enumerable:!0,configurable:!0}),t.prototype.update=function(t){this._o=t},Object.defineProperty(t.prototype,"_war",{get:function(){return n.ObjUtil.getObject(this._o,"api_war")},enumerable:!0,configurable:!0}),t}();e.EventSortieConditionModel=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=function(t){function e(e){var i=t.call(this)||this;return i._url="api_get_member/sortie_conditions",i._model=e,i}return n(e,t),e.prototype._completedEnd=function(){var e=this._raw_data;this._model.update(e),this._model=null,t.prototype._completedEnd.call(this)},e}(o.APIBase);e.APIEventSortieCondition=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(37),r=i(1019),s=i(1020),a=i(1022),_=i(1036),l=i(1037),u=function(t){function e(e,i){var n=t.call(this,e,i)||this;n._timer_id=0,n._onChangeMatching=function(t){new l.TaskChangeMatching(t,n).start()},n._sub_title=new _.CompSubTitle,n._sub_title.position.set(202,204),n._rivals=new Array;for(var o=0;o<5;o++){var r=new a.CompRivalDeck;r.position.set(211,267+82*o),n._rivals.push(r)}return n._matching_btns=new s.CompMatchingSelectBtns(n._onChangeMatching),n._matching_btns.position.set(460,669),n}return n(e,t),Object.defineProperty(e.prototype,"rivals",{get:function(){return this._rivals},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matching_btns",{get:function(){return this._matching_btns},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){t.prototype.initialize.call(this),this._sub_title.initialize(),this.addChild(this._sub_title);for(var e=0,i=this._rivals;e<i.length;e++){var n=i[e];n.initialize(),this.addChild(n)}this._matching_btns.initialize(),this.addChild(this._matching_btns)},e.prototype.update=function(t){o.TaskLoadShipResource.abortBy(this),this._sub_title.update(t.matching_type);for(var e=t.rivals,i=0;i<this._rivals.length;i++){var n=this._rivals[i];e.length<=i?n.visible=!1:(n.update(e[i]),n.visible=!0)}this._selected_matching_type=t.matching_type_next;var r=t.remain_time;this._startTimer(1e3*r),this._matching_btns.update(r>0,t.matching_type_next)},e.prototype.updateMatchingState=function(t,e){this._selected_matching_type=e,this._matching_btns.update(t,e),this._matching_btns.activate()},e.prototype.activate=function(){t.prototype.activate.call(this);for(var e=0,i=this.rivals;e<i.length;e++){i[e].activate()}this._matching_btns.activate()},e.prototype.deactivate=function(){t.prototype.deactivate.call(this);for(var e=0,i=this.rivals;e<i.length;e++){i[e].deactivate()}this._matching_btns.deactivate(),o.TaskLoadShipResource.abortBy(this)},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._sub_title.dispose();for(var e=0,i=this.rivals;e<i.length;e++){i[e].dispose()}this._matching_btns.dispose(),this._stopTimer()},e.prototype._startTimer=function(t){var e=this;this._stopTimer(),t>0&&(this._timer_id=setTimeout(function(){e.updateMatchingState(!1,e._selected_matching_type),e._timer_id=0},t))},e.prototype._stopTimer=function(){this._timer_id>0&&clearTimeout(this._timer_id),this._timer_id=0},e}(r.ViewMainBase);e.ViewMain=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(30),r=i(53),s=i(227),a=i(228),_=function(t){function e(e,i){var n=t.call(this)||this;return n._switch=new a.CompSwitchBtns(1,e,i),n._switch.position.set(807,171),n}return n(e,t),e.prototype.initialize=function(){var t=new PIXI.Sprite(o.SALLY_COMMON.getTexture(27));t.position.set(144,168);var e=new PIXI.Sprite(o.SALLY_COMMON.getTexture(51));e.position.set(0,102);var i=new PIXI.Sprite(r.SALLY_PRACTICE.getTexture(0));i.position.set(198,112);var n=new PIXI.Sprite(r.SALLY_PRACTICE.getTexture(31));n.position.set(207,177);var s=new PIXI.Sprite(r.SALLY_PRACTICE.getTexture(15));s.position.set(196,228);var a=new PIXI.Sprite(r.SALLY_PRACTICE.getTexture(27));a.position.set(196,228),this._switch.initialize(),this.addChild(t),this.addChild(e),this.addChild(i),this.addChild(n),this.addChild(s),this.addChild(a),this.addChild(this._switch)},e.prototype.activate=function(){this._switch.activate()},e.prototype.deactivate=function(){this._switch.deactivate()},e.prototype.dispose=function(){this.removeChildren(),this._switch.dispose()},e}(s.ViewMainBase);e.ViewMainBase=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(1021),s=function(t){function e(e){var i=t.call(this)||this;return i._enabled=!1,i._btn1=new r.BtnMatchingSelect(e),i._btn2=new r.BtnMatchingSelect(e),i._btn3=new r.BtnMatchingSelect(e),i._txt1=new o.TextBox(19,4999235),i._txt=new o.TextBox(15,4999235),i}return n(e,t),e.prototype.initialize=function(){this._btn1.initialize(0),this._btn2.initialize(1),this._btn3.initialize(2),this._txt1.text="\u3088\u308a\u6b21\u56de\u6f14\u7fd2\u5019\u88dc\u3092\u66f4\u65b0\u5f8c\u306b\u8a2d\u5b9a\u3002",this._txt1.position.set(141,7),this.addChild(this._btn1),this.addChild(this._btn2),this.addChild(this._btn3),this.addChild(this._txt1),this.addChild(this._txt)},e.prototype.update=function(t,e){this._enabled=t,1==t?(this._btn1.position.set(0,0),this._btn2.position.set(150,0),this._btn3.position.set(300,0),this._txt1.visible=!1,this._txt.position.set(445,9),0==e?(this._btn1.setSelected(!0),this._btn2.setSelected(!1),this._btn3.setSelected(!1)):1==e?(this._btn1.setSelected(!1),this._btn2.setSelected(!0),this._btn3.setSelected(!1)):(this._btn1.setSelected(!1),this._btn2.setSelected(!1),this._btn3.setSelected(!0)),this._txt.text="\u6f14\u7fd2\u76f8\u624b\u306f\u4e00\u65e5\u4e8c\u56de\u66f4\u65b0\u3055\u308c\u307e\u3059\u3002"):(this._btn1.setSelected(!1),this._btn2.setSelected(!1),this._btn3.setSelected(!1),this._btn1.deactivate(),this._btn2.deactivate(),this._btn3.deactivate(),this._btn1.visible=!1,this._btn2.visible=!1,this._btn3.visible=!1,0==e?(this._btn1.visible=!0,this._btn1.position.set(0,0)):1==e?(this._btn2.visible=!0,this._btn2.position.set(0,0)):(this._btn3.visible=!0,this._btn3.position.set(0,0)),this._txt1.visible=!0,this._txt.position.set(490,10),this._txt.text="\u66f4\u65b0\u5f8c\u306b\u8a2d\u5b9a\u5909\u66f4\u53ef\u80fd\u3067\u3059\u3002")},e.prototype.activate=function(){1==this._enabled&&(this._btn1.activate(),this._btn2.activate(),this._btn3.activate())},e.prototype.deactivate=function(){this._btn1.deactivate(),this._btn2.deactivate(),this._btn3.deactivate()},e.prototype.dispose=function(){this.removeChildren(),this._btn1.dispose(),this._btn2.dispose(),this._btn3.dispose(),this._txt1.destroy(),this._txt.destroy()},e}(PIXI.Container);e.CompMatchingSelectBtns=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(6),r=i(53),s=i(1),a=function(t){function e(e){var i=t.call(this)||this;return i._activated=!1,i._selected=!1,i._onMouseOver=function(){i._updateState(!0)},i._onMouseOut=function(){i._updateState(!1)},i._onClick=function(){null!=i._cb&&1==i._btn.interactive&&(o.SE.play("231"),i.deactivate(),i._updateState(!0),i._cb(i._type))},i._cb=e,i}return n(e,t),e.prototype.setSelected=function(t){this._selected=t,1==this._selected&&1==this._activated&&this.deactivate(),this._updateState(t)},e.prototype.initialize=function(t){this._type=t;var e,i;0==t?(e=3,i=4):1==t?(e=5,i=6):(e=7,i=8),this._btn=new PIXI.Sprite(r.SALLY_PRACTICE.getTexture(e)),this._btn_on=new PIXI.Sprite(r.SALLY_PRACTICE.getTexture(i)),this._btn_on.position.set(-6,-7),this.addChild(this._btn),this.addChild(this._btn_on),this._updateState(!1)},e.prototype.activate=function(){0==this._activated&&0==this._selected&&(this._btn.interactive=this._btn.buttonMode=!0,this._btn.on(s.EventType.MOUSEOVER,this._onMouseOver),this._btn.on(s.EventType.MOUSEOUT,this._onMouseOut),this._btn.on(s.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this._btn.interactive=this._btn.buttonMode=!1,this._btn.off(s.EventType.MOUSEOVER,this._onMouseOver),this._btn.off(s.EventType.MOUSEOUT,this._onMouseOut),this._btn.off(s.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate()},e.prototype._updateState=function(t){1==t?(this._btn.alpha=0,this._btn_on.visible=!0):(this._btn.alpha=1,this._btn_on.visible=!1)},e}(PIXI.Container);e.BtnMatchingSelect=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(170),r=i(4),s=i(32),a=i(53),_=i(1023),l=i(373),u=i(1035),c=i(1),h=function(t){function e(){var e=t.call(this)||this;return e._enabled=!1,e._activated=!1,e._onClick=function(){new _.TaskDetailInfo(e._model.id,e._model.flag,e._model.medal_num).start()},e}return n(e,t),e.prototype.initialize=function(){var t=new PIXI.Sprite(a.SALLY_PRACTICE.getTexture(14)),e=new PIXI.Sprite(a.SALLY_PRACTICE.getTexture(34));this._flag=new l.CompFlag,this._banner=new s.ShipBanner,this._name=new r.TextBox(18,1949120),this._level=new r.TextBox(26,4999235),this._comment=new r.TextBox(15,4999235),this._rank_name=new r.TextBox(18,4999235),this._medal=new o.MedalIcon,this._result_rank=new u.CompRank,this._hit_area=new PIXI.Graphics,this._hit_area.beginFill(0,0),this._hit_area.drawRect(0,0,939,79),this._hit_area.endFill(),this._medal.initialize(),this._result_rank.initialize(),t.position.set(295,24),e.position.set(546,-3),this._flag.position.set(0,16),this._banner.position.set(48,0),this._name.position.set(294,0),this._level.anchor.set(1,0),this._level.position.set(624,-7),this._comment.position.set(310,33),this._rank_name.position.set(637,0),this._medal.position.set(750,25),this._result_rank.position.set(817,3),this._hit_area.position.set(-10,-7),this._hit_area.visible=!1,this.addChild(t),this.addChild(e),this.addChild(this._flag),this.addChild(this._banner),this.addChild(this._name),this.addChild(this._level),this.addChild(this._comment),this.addChild(this._rank_name),this.addChild(this._medal),this.addChild(this._result_rank),this.addChild(this._hit_area)},e.prototype.update=function(t){this._model=t,this._flag.update(t.flag),this._banner.updateImage(t.flagShipMstID,!1),this._name.text=t.name,this._level.text=t.level.toString(),this._comment.text=t.comment,this._rank_name.text="["+t.rank_name+"]",this._medal.update(t.medal_num,9466926),this._result_rank.update(t.state),this._enabled=t.isNoBattle()},e.prototype.activate=function(){0==this._activated&&1==this._enabled&&(this._hit_area.interactive=this._hit_area.buttonMode=!0,this._hit_area.on(c.EventType.CLICK,this._onClick),this._hit_area.visible=!0,this._activated=!0)},e.prototype.deactivate=function(){this._hit_area.interactive=this._hit_area.buttonMode=!1,this._hit_area.off(c.EventType.CLICK,this._onClick),this._hit_area.visible=!1,this._activated=!1},e.prototype.dispose=function(){this.deactivate(),this.removeChildren(),this._banner.dispose(),this._name.destroy(),this._level.destroy(),this._comment.destroy(),this._rank_name.destroy(),this._medal.dispose(),this._result_rank.dispose()},e}(PIXI.Container);e.CompRivalDeck=h},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(17),a=i(1024),_=i(1025),l=function(t){function e(e,i,n){var r=t.call(this)||this;return r._hideDetailInfo=function(){r._detail.deactivate(),createjs.Tween.get(r._detail).to({alpha:0},300),createjs.Tween.get(r._fade).wait(100).to({alpha:0},300).call(function(){r._detail.dispose(),o.default.view.overLayer.removeChild(r._fade)})},r._rival_id=e,r._flag_type=i,r._medal_num=n,r}return n(e,t),e.prototype._start=function(){this._showFade()},e.prototype._showFade=function(){this._fade=new s.FadeBox(1),this._fade.hide(0),o.default.view.overLayer.addChild(this._fade),this._fade.show(300),this._connectAPI()},e.prototype._connectAPI=function(){var t=this,e=new a.RivalDetailAPI(this._rival_id,this._flag_type,this._medal_num);e.start(function(){t._showDetailInfo(e.res_model)})},e.prototype._showDetailInfo=function(t){var e=this;this._detail=new _.ContainerOverlay;var i=o.default.model.deck.getIDs(),n=o.default.model.deck.isCombined();this._detail.initialize(i,n),this._detail.update(t),this._detail.alpha=0,this._fade.addChild(this._detail),createjs.Tween.get(this._detail).to({alpha:1},300).call(function(){e._detail.once("close",e._hideDetailInfo),e._detail.activate()})},e}(r.TaskBase);e.TaskDetailInfo=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(18),s=i(9),a=i(7),_=function(t){function e(e,i,n,o){void 0===o&&(o=!1);var r=t.call(this)||this;return r._url="api_req_member/get_practice_enemyinfo",r._rival_id=e,r._flag_type=i,r._medal_num=n,r._res_model=new l,r._debug=o,r}return n(e,t),Object.defineProperty(e.prototype,"res_model",{get:function(){return this._res_model},enumerable:!0,configurable:!0}),e.prototype._connect=function(){this._post_data.api_member_id=this._rival_id,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._res_model.setData(this._rival_id,this._raw_data,this._flag_type,this._medal_num),t.prototype._completedEnd.call(this)},e}(s.APIBase);e.RivalDetailAPI=_;var l=function(){function t(){}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"flag_type",{get:function(){return this._flag_type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"medal_num",{get:function(){return this._medal_num},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return a.ObjUtil.getString(this._o,"api_nickname")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return a.ObjUtil.getNumber(this._o,"api_level")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rank",{get:function(){return a.ObjUtil.getNumber(this._o,"api_rank")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rank_name",{get:function(){return r.RANK_NAME[this.rank]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exp_now",{get:function(){var t=a.ObjUtil.getStrArray(this._o,"api_experience");return null!=t&&t.length>0?t[0]:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exp_next",{get:function(){var t=a.ObjUtil.getStrArray(this._o,"api_experience");return null!=t&&t.length>1?t[1]:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"comment",{get:function(){return a.ObjUtil.getString(this._o,"api_cmt")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"friend_num",{get:function(){return a.ObjUtil.getNumber(this._o,"api_friend")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ship_nums",{get:function(){var t=a.ObjUtil.getNumArray(this._o,"api_ship");return null!=t&&t.length>1?[t[0],t[1]]:[0,0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slot_nums",{get:function(){var t=a.ObjUtil.getNumArray(this._o,"api_slotitem");return null!=t&&t.length>1?[t[0],t[1]+3]:[0,0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"furniture_num",{get:function(){return a.ObjUtil.getNumber(this._o,"api_furniture")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deck_name",{get:function(){return a.ObjUtil.getString(this._o,"api_deckname")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ships",{get:function(){return this._ships},enumerable:!0,configurable:!0}),t.prototype.setData=function(t,e,i,n){this._id=t,this._o=e,this._flag_type=i,this._medal_num=n,this._ships=new Array;var o=a.ObjUtil.getObject(e,"api_deck");if(null!=o)for(var r=a.ObjUtil.getObjectArray(o,"api_ships"),s=0,_=r;s<_.length;s++){var l=_[s],c=new u(l);1==c.isValid()?this._ships.push(c):this._ships.push(null)}for(;this._ships.length<6;)this._ships.push(null)},t}();e.RivalDetailAPIResultModel=l;var u=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"id",{get:function(){return a.ObjUtil.getNumber(this._o,"api_ship_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var t=o.default.model.ship.getMst(this.id);return null==t?"":t.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return a.ObjUtil.getNumber(this._o,"api_level")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"star",{get:function(){return a.ObjUtil.getNumber(this._o,"api_star")},enumerable:!0,configurable:!0}),t.prototype.isValid=function(){return this._mem_id>0},Object.defineProperty(t.prototype,"_mem_id",{get:function(){return a.ObjUtil.getNumber(this._o,"api_id")},enumerable:!0,configurable:!0}),t}();e.RivalShipModel=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1026),s=i(225),a=i(169),_=i(1027),l=i(1032),u=function(t){function e(){var e=t.call(this)||this;return e._changeToInfo=function(){e._showInfo()},e._changeToDeck=function(){e._showDeck()},e._onStartPractice=function(){for(var t=e._deck.selected_deck_id,i=o.default.model.deck.get(t),n=o.default.model.basic.medal_num,_=o.default.model.basic.nickName,l=new s.DeckModelReplica(i,!0,n,_),u=new Array,c=e._selected_rival.ships,h=0;h<c.length;h++){var p=c[h];if(null==p)u.push(null);else{var d=p.id,f=p.level,y=new a.ShipModelReplica(1,!0,h,d,-h,f);u.push(y)}}var m=e._selected_rival.id,g=e._selected_rival.medal_num,v=e._selected_rival.name,b=e._selected_rival.deck_name,w=new s.DeckModelReplica(m,!0,g,v,0,b,u),x=new r.PracticeSceneModel(l,w);o.default.scene.change(32,x),e.emit("close")},e._onClose=function(){e.emit("close")},e._info=new _.UserinfoPanel(e._changeToDeck,e._onClose),e._deck=new l.PanelDeckSelect(e._onClose),e}return n(e,t),e.prototype.initialize=function(t,e){this._info.initialize(),this._deck.visible=!1,this._deck.initialize(t,e,this._onStartPractice,this._changeToInfo),this.addChild(this._info),this.addChild(this._deck)},e.prototype.update=function(t){this._selected_rival=t,this._info.update(t),this._showInfo()},e.prototype.activate=function(){1==this._info.visible?(this._info.activate(),this._deck.deactivate()):(this._deck.activate(),this._info.deactivate())},e.prototype.deactivate=function(){this._info.deactivate(),this._deck.deactivate()},e.prototype.dispose=function(){this._info.dispose(),this._deck.dispose()},e.prototype._showInfo=function(){1!=this._info.visible&&(this._deck.deactivate(),this._info.visible=!0,this._deck.visible=!1,this._info.activate())},e.prototype._showDeck=function(){1!=this._deck.visible&&(this._info.deactivate(),this._deck.visible=!0,this._info.visible=!1,this._deck.activate())},e}(PIXI.Container);e.ContainerOverlay=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(198),r=function(t){function e(e,i){var n=t.call(this)||this;return n._deck_f=e,n._deck_e=i,n}return n(e,t),Object.defineProperty(e.prototype,"deck_f",{get:function(){return this._deck_f},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deck_e",{get:function(){return this._deck_e},enumerable:!0,configurable:!0}),e}(o.SceneModel);e.PracticeSceneModel=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(8),s=i(37),a=i(1028),_=i(1029),l=i(373),u=i(1030),c=i(1031),h=i(374),p=i(1),d=function(t){function e(e,i){var n=t.call(this)||this;return n._onClose=function(){null!=n._cb_onClose&&n._cb_onClose()},n._cb_onClose=i,n._bg=new a.UserinfoPanelBG,n.addChild(n._bg),n._detail=new _.UserinfoPanelInfoDetail,n.addChild(n._detail),n._deck_name=new o.TextBox(25,4999235),n._deck_name.anchor.set(.5,0),n._deck_name.position.set(885,132),n.addChild(n._deck_name),n._flag=new l.CompFlag,n._flag.position.set(1065,129),n.addChild(n._flag),n._ship_container=new PIXI.Container,n._ship_container.position.set(711,172),n.addChild(n._ship_container),n._ships=[],n._area_close=new r.AreaBox(0),n.addChild(n._area_close),n._btn=new c.GoPracticeBtn(e),n._btn.position.set(249,583),n.addChild(n._btn),n._btn_close=new h.CloseBtn(i),n._btn_close.position.set(1108,27),n.addChild(n._btn_close),n}return n(e,t),e.prototype.initialize=function(){this._bg.initialize(),this._detail.initialize();for(var t=0;t<6;t++){var e=new u.CompRivalShip;e.initialize(),e.y=80*t,this._ship_container.addChild(e),this._ships.push(e)}this._btn.initialize(),this._btn_close.initialize()},e.prototype.update=function(t){this._detail.update(t),this._flag.update(t.flag_type);for(var e=0;e<this._ships.length;e++){var i=this._ships[e],n=t.ships[e];i.update(n)}},e.prototype.activate=function(){this._area_close.on(p.EventType.CLICK,this._onClose),this._btn.activate(),this._btn_close.activate()},e.prototype.deactivate=function(){this._area_close.off(p.EventType.CLICK,this._onClose),this._btn.deactivate(),this._btn_close.deactivate()},e.prototype.dispose=function(){s.TaskLoadShipResource.abortBy(this._ship_container),this._detail.dispose(),this._deck_name.destroy();for(var t=0,e=this._ships;t<e.length;t++){e[t].dispose()}this._area_close.off(p.EventType.CLICK,this._onClose),this._btn.dispose(),this._btn_close.dispose(),this._cb_onClose=null},e}(PIXI.Container);e.UserinfoPanel=d},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(53),r=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.initialize=function(){this.texture=o.SALLY_PRACTICE.getTexture(28);var t=new PIXI.Sprite(o.SALLY_PRACTICE.getTexture(29));t.position.set(40,57),this.addChild(t);var e=new PIXI.Sprite(o.SALLY_PRACTICE.getTexture(30));e.position.set(102,64),this.addChild(e);var i=new PIXI.Sprite(o.SALLY_PRACTICE.getTexture(32));i.position.set(132,64),this.addChild(i)},e}(PIXI.Sprite);e.UserinfoPanelBG=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(170),r=i(4),s=i(31),a=function(t){function e(){var e=t.call(this)||this;return e._name=new r.TextBox(30,4999235),e._name.position.set(193,129),e.addChild(e._name),e._level=new r.TextBox(26,4999235),e._level.anchor.set(1,0),e._level.position.set(319,192),e.addChild(e._level),e._rank_name=new r.TextBox(19,4999235),e._rank_name.position.set(324,198),e.addChild(e._rank_name),e._exp=new r.TextBox(19,4999235),e._exp.position.set(363,235),e.addChild(e._exp),e._comment=new r.TextBox(16,4999235),e._comment.position.set(151,286),e.addChild(e._comment),e._friend_num=new r.TextBox(20,4999235),e._friend_num.anchor.set(1,0),e._friend_num.position.set(645,344),e.addChild(e._friend_num),e._ship_num=new r.TextBox(20,4999235),e._ship_num.anchor.set(1,0),e._ship_num.position.set(645,375),e.addChild(e._ship_num),e._slot_num=new r.TextBox(20,4999235),e._slot_num.anchor.set(1,0),e._slot_num.position.set(645,407),e.addChild(e._slot_num),e._furniture_num=new r.TextBox(20,4999235),e._furniture_num.anchor.set(1,0),e._furniture_num.position.set(645,438),e.addChild(e._furniture_num),e._rank_icon=new s.RankIcon,e._rank_icon.position.set(135,181),e.addChild(e._rank_icon),e._medal=new o.MedalIcon,e._medal.position.set(594,543),e.addChild(e._medal),e}return n(e,t),e.prototype.initialize=function(){this._medal.initialize()},e.prototype.update=function(t){this._name.text=t.name,this._level.text=t.level.toString(),this._rank_name.text=t.rank_name,this._exp.text=t.exp_now+"/"+t.exp_next,this._comment.text=t.comment,this._friend_num.text=t.friend_num.toString();var e=t.ship_nums;this._ship_num.text=e[0]+"/"+e[1];var i=t.slot_nums;this._slot_num.text=i[0]+"/"+i[1],this._furniture_num.text=t.furniture_num.toString(),this._rank_icon.update(t.rank),this._medal.update(t.medal_num,9466926)},e.prototype.dispose=function(){this.removeChildren(),this._name.destroy(),this._name=null,this._level.destroy(),this._level=null,this._rank_name.destroy(),this._rank_name=null,this._exp.destroy(),this._exp=null,this._comment.destroy(),this._comment=null,this._friend_num.destroy(),this._friend_num=null,this._ship_num.destroy(),this._ship_num=null,this._slot_num.destroy(),this._slot_num=null,this._furniture_num.destroy(),this._furniture_num=null,this._rank_icon=null,this._medal.dispose(),this._medal=null},e}(PIXI.Container);e.UserinfoPanelInfoDetail=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(83),s=i(32),a=i(15),_=i(53),l=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.initialize=function(){var t=new PIXI.Sprite(_.SALLY_PRACTICE.getTexture(34));this._banner=new s.ShipBanner,this._name=new o.TextBox(21,4999235),this._level=new o.TextBox(20,4999235),this._star=new r.StarRateView,this._container=new PIXI.Container,t.position.set(330,12);var e=a.CreateRect.gradientLeftToRight(95,this._name.height,.85,.9);this._container.position.set(243,0),this._level.position.set(392,11),this._level.anchor.set(1,0),this._star.position.set(295,40),this.addChild(t),this.addChild(this._banner),this.addChild(this._container),this._container.addChild(this._name,e),this._container.mask=e,this.addChild(this._level),this.addChild(this._star)},e.prototype.update=function(t){null==t?this.visible=!1:(this._container.cacheAsBitmap=!1,this._name.text=t.name,this._level.text=t.level.toString(),this._star.update(t.star+1),this._banner.updateImage(t.id,!1),this.visible=!0,this._container.cacheAsBitmap=!0)},e.prototype.dispose=function(){this.removeChildren(),this._container.cacheAsBitmap=!1,this._container.removeChildren(),this._banner.dispose(),this._star.dispose(),this._name.destroy(),this._level.destroy(),this._container.mask=null,this._name=null,this._level=null,this._star=null,this._container=null},e}(PIXI.Container);e.CompRivalShip=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(53),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i._onMouseOver=function(){i._update(!0)},i._onMouseOut=function(){i._update(!1)},i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick()},i._cb_onClick=e,i.interactive=!0,i}return n(e,t),e.prototype.initialize=function(){this._update(!1)},e.prototype.activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(r.EventType.MOUSEOVER,this._onMouseOver),this.on(r.EventType.MOUSEOUT,this._onMouseOut),this.on(r.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(r.EventType.MOUSEOVER,this._onMouseOver),this.off(r.EventType.MOUSEOUT,this._onMouseOut),this.off(r.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate(),this._cb_onClick=null},e.prototype._update=function(t){this.texture=1==t?o.SALLY_PRACTICE.getTexture(13):o.SALLY_PRACTICE.getTexture(12)},e}(PIXI.Sprite);e.GoPracticeBtn=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(4),s=i(111),a=i(37),_=i(10),l=i(53),u=i(229),c=i(363),h=i(230),p=i(367),d=i(1033),f=i(374),y=i(1034),m=function(t){function e(e){var i=t.call(this)||this;return i._selected_deck_id=1,i._onChangeDeck=function(t){i.update(t)},i._bg=new PIXI.Sprite,i.addChild(i._bg),i._ship_container=new PIXI.Container,i._ship_container.position.set(270,160),i.addChild(i._ship_container),i._ships=[],i._btn_close=new f.CloseBtn(e),i._btn_close.position.set(1108,27),i}return n(e,t),Object.defineProperty(e.prototype,"selected_deck_id",{get:function(){return this._selected_deck_id},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e,i,n){this._bg.texture=l.SALLY_PRACTICE.getTexture(35);var a=new PIXI.Sprite(l.SALLY_PRACTICE.getTexture(29));a.position.set(40,57),this._bg.addChild(a),a=new PIXI.Sprite(l.SALLY_PRACTICE.getTexture(33)),a.position.set(102,64),this._bg.addChild(a);for(var f=0;f<6;f++){var m=new c.CompBannerAndLack;m.initialize(),m.position.set(0,76*f),this._ship_container.addChild(m),this._ships.push(m)}if(this._deck_selection=new h.CompDeckBtns(this._onChangeDeck),this._deck_selection.initialize(t),this._btn_back=new d.BackBtn(n),this._btn_back.initialize(),this._btn=new y.StartPracticeBtn(i),this._btn.initialize(),this._rader=new p.Rader,this._rader.initialize(),this._arrow=new u.CompArrow2,this._arrow.initialize(),this._err_message=new r.TextBox(16,16724736),this._deck_selection.position.set(270,120),this._btn_back.position.set(306,615),this._btn.position.set(558,615),this._rader.position.set(556,138),this._arrow.position.set(823,616),this._err_message.anchor.set(.5,0),this._err_message.position.set(750,576),this.addChild(this._deck_selection),this.addChild(this._rader),this.addChild(this._arrow),this.addChild(this._btn_back),this.addChild(this._btn),this.addChild(this._err_message),o.default.model.deck.exist3rdUnit){var g=new PIXI.Sprite(_.COMMON_MISC.getTexture(185));g.position.set(346,98),this.addChild(g)}1==e&&(this._deck_combined_frame=new s.CombinedView,this._deck_combined_frame.position.set(263,110),this._deck_combined_frame.adjustFramePosition(0,1),this.addChild(this._deck_combined_frame)),this._btn_close.initialize(),this.addChild(this._btn_close)},e.prototype.update=function(t){if(this._selected_deck_id!=t){var e=o.default.model.deck.get(t);null!=e&&(this._selected_deck_id=t,this._update(e))}},e.prototype._update=function(t){a.TaskLoadShipResource.abortBy(this._ship_container),this._deck_selection.setSelected(t.mstID);for(var e=t.getShipListAll(),i=t.getShipList(),n=0;n<this._ships.length;n++){var o=i[n];this._ships[n].update(o,!1)}this._rader.update(e),this._checkCondition(t,e)},e.prototype.activate=function(){this._arrow.activate(),this._btn_back.activate(),this._btn.activate(),null!=this._deck_combined_frame&&this._deck_combined_frame.activate();var t=this._selected_deck_id;this._selected_deck_id=0,this.update(t),this._btn_close.activate()},e.prototype.deactivate=function(){a.TaskLoadShipResource.abortBy(this._ship_container),this._arrow.deactivate(),this._btn.deactivate(),this._btn_back.deactivate(),this._rader.update(null),null!=this._deck_combined_frame&&this._deck_combined_frame.deactivate(),this._btn_close.deactivate()},e.prototype.dispose=function(){this.removeChildren(),this._deck_selection.dispose(),null!=this._deck_combined_frame&&this._deck_combined_frame.dispose();for(var t=0,e=this._ships;t<e.length;t++){e[t].dispose()}this._rader.dispose(),this._arrow.dispose(),this._btn.dispose(),this._btn_back.dispose(),this._btn_close.dispose(),this._err_message.destroy()},e.prototype._checkCondition=function(t,e){var i=t.getCount();if(0==i)return this._arrow.enabled=!1,this._btn.setEnabled(!1),void(this._err_message.text="");if(i>6)return this._arrow.enabled=!1,this._btn.setEnabled(!1),void(this._err_message.text="\u904a\u6483\u90e8\u968a \u7b2c\u4e09\u90e8\u968a\u3067\u306f\u51fa\u6483\u3067\u304d\u307e\u305b\u3093\u3002");for(var n=o.default.model.ndock.getShipMemIDs(),r=!1,s=!1,a=!0,_=0,l=e;_<l.length;_++){var u=l[_];null!=u&&(-1!=n.indexOf(u.memID)&&(r=!0),(u.fuelNow<=0||u.ammoNow<=0)&&(s=!0),(u.fuelNow<u.fuelMax||u.ammoNow<u.ammoMax)&&(a=!1))}if(this._arrow.update(a),t.isCombined_Main()||t.isCombined_Sub())return this._arrow.enabled=!1,this._btn.setEnabled(!1),void(this._err_message.text="\u9023\u5408\u8266\u968a\u3067\u306f\u51fa\u6483\u3067\u304d\u307e\u305b\u3093\u3002");if(null!=t.expedition)return this._arrow.enabled=!1,this._btn.setEnabled(!1),void(this._err_message.text="");if(1==r)return this._arrow.enabled=!1,this._btn.setEnabled(!1),void(this._err_message.text="\u8266\u968a\u5185\u306b\u5165\u6e20\u4e2d\u306e\u8266\u304c\u3042\u308a\u307e\u3059\uff01");if(1==s)return this._arrow.enabled=!1,this._btn.setEnabled(!1),void(this._err_message.text="\u71c3\u6599\u30fb\u5f3e\u85ac\u306e\u88dc\u7d66\u4e0d\u8db3\u3067\u3059\uff01");var c=e[0].getDamageType();if(25==c||0==c)return this._arrow.enabled=!1,this._btn.setEnabled(!1),void(this._err_message.text="\u65d7\u8266\u304c\u5927\u7834\u3057\u3066\u304a\u308a\u3001\u51fa\u6483\u3067\u304d\u307e\u305b\u3093\u3002");this._arrow.enabled=!0,this._btn.setEnabled(!0),this._err_message.text=""},e}(PIXI.Container);e.PanelDeckSelect=m},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(53),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i._onMouseOver=function(){i._update(!0)},i._onMouseOut=function(){i._update(!1)},i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick()},i._cb_onClick=e,i.interactive=!0,i}return n(e,t),e.prototype.initialize=function(){this._update(!1)},e.prototype.activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(r.EventType.MOUSEOVER,this._onMouseOver),this.on(r.EventType.MOUSEOUT,this._onMouseOut),this.on(r.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(r.EventType.MOUSEOVER,this._onMouseOver),this.off(r.EventType.MOUSEOUT,this._onMouseOut),this.off(r.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate(),this._cb_onClick=null},e.prototype._update=function(t){this.texture=1==t?o.SALLY_PRACTICE.getTexture(2):o.SALLY_PRACTICE.getTexture(1)},e}(PIXI.Sprite);e.BackBtn=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(53),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i._enabled=!1,i._onMouseOver=function(){i._update(!0)},i._onMouseOut=function(){i._update(!1)},i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick()},i._cb_onClick=e,i.interactive=!0,i}return n(e,t),e.prototype.setEnabled=function(t){this._enabled!=t&&(this._enabled=t,0==this._enabled?this.deactivate():this.activate(),this._update(!1))},e.prototype.initialize=function(){this._update(!1)},e.prototype.activate=function(){1!=this.buttonMode&&0!=this._enabled&&(this.buttonMode=!0,this.on(r.EventType.MOUSEOVER,this._onMouseOver),this.on(r.EventType.MOUSEOUT,this._onMouseOut),this.on(r.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(r.EventType.MOUSEOVER,this._onMouseOver),this.off(r.EventType.MOUSEOUT,this._onMouseOut),this.off(r.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate(),this._cb_onClick=null},e.prototype._update=function(t){0==this._enabled?this.texture=o.SALLY_PRACTICE.getTexture(10):this.texture=1==t?o.SALLY_PRACTICE.getTexture(11):o.SALLY_PRACTICE.getTexture(9)},e}(PIXI.Sprite);e.StartPracticeBtn=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(53),r=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.initialize=function(){this._result=new PIXI.Sprite,this._rank=new PIXI.Sprite,this._rank.position.set(66,7),this.addChild(this._result),this.addChild(this._rank)},e.prototype.update=function(t){this.visible=!0,6==t?(this._result.texture=o.SALLY_PRACTICE.getTexture(26),this._rank.texture=o.SALLY_PRACTICE.getTexture(25)):5==t?(this._result.texture=o.SALLY_PRACTICE.getTexture(26),this._rank.texture=o.SALLY_PRACTICE.getTexture(20)):4==t?(this._result.texture=o.SALLY_PRACTICE.getTexture(26),this._rank.texture=o.SALLY_PRACTICE.getTexture(21)):3==t?(this._result.texture=o.SALLY_PRACTICE.getTexture(19),this._rank.texture=o.SALLY_PRACTICE.getTexture(22)):2==t?(this._result.texture=o.SALLY_PRACTICE.getTexture(19),this._rank.texture=o.SALLY_PRACTICE.getTexture(23)):1==t?(this._result.texture=o.SALLY_PRACTICE.getTexture(19),this._rank.texture=o.SALLY_PRACTICE.getTexture(24)):this.visible=!1},e.prototype.dispose=function(){},e}(PIXI.Container);e.CompRank=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=function(t){function e(){var e=t.call(this)||this;return e._txt1=new o.TextBox(16,4999235),e._txt2=new o.TextBox(16,4999235),e._txt3=new o.TextBox(16,4999235),e.addChild(e._txt1),e.addChild(e._txt2),e.addChild(e._txt3),e}return n(e,t),e.prototype.initialize=function(){this._txt1.text="\u73fe\u5728\u306e\u6f14\u7fd2\u5019\u88dc\u306f",this._txt2.text="\u6f14\u7fd2\u8266\u968a\u3010\u7b2c\u4e00\u7fa4\u3011",this._txt3.text="\u3088\u308a\u62bd\u51fa\u3055\u308c\u305f\u3082\u306e\u3067\u3059\u3002",this._txt2.x=this._txt1.width},e.prototype.update=function(t){0==t?(this._txt2.style.fill=6595904,this._txt2.text="\u6f14\u7fd2\u8266\u968a\u3010\u7b2c\u4e00\u7fa4\u3011"):1==t?(this._txt2.style.fill=4236648,this._txt2.text="\u6f14\u7fd2\u8266\u968a\u3010\u7b2c\u4e8c\u7fa4\u3011"):(this._txt2.style.fill=4232101,this._txt2.text="\u3010\u5168\u4f53\u3011"),this._txt3.x=this._txt2.x+this._txt2.width},e.prototype.dispose=function(){this.removeChildren(),this._txt1.destroy(),this._txt1=null,this._txt2.destroy(),this._txt2=null,this._txt3.destroy(),this._txt3=null},e}(PIXI.Container);e.CompSubTitle=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(1038),s=function(t){function e(e,i){var n=t.call(this)||this;return n._selected_type=e,n._view=i,n}return n(e,t),e.prototype._start=function(){var t=this,e=new r.ChangeMatchingAPI(this._selected_type);e.start(function(){t._view.updateMatchingState(e.res_model.isSucceed(),t._selected_type),t._endTask()})},e}(o.TaskBase);e.TaskChangeMatching=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=i(7),s=function(t){function e(e,i){void 0===i&&(i=!1);var n=t.call(this)||this;return n._url="api_req_practice/change_matching_kind",n._selected_type=e,n._res_model=new a,n._debug=i,n}return n(e,t),Object.defineProperty(e.prototype,"res_model",{get:function(){return this._res_model},enumerable:!0,configurable:!0}),e.prototype._connect=function(){this._post_data.api_selected_kind=this._selected_type,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._res_model.setData(this._raw_data),t.prototype._completedEnd.call(this)},e}(o.APIBase);e.ChangeMatchingAPI=s;var a=function(){function t(){}return t.prototype.setData=function(t){this._o=t},t.prototype.isSucceed=function(){return 1==r.ObjUtil.getNumber(this._o,"api_update_flag")},t}();e.ChangeMatchingAPIResultModel=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(227),s=i(1040),a=i(1046),_=i(1052),l=i(379),u=i(1053),c=i(84),h=i(378),p=function(t){function e(e,i){var n=t.call(this)||this;n._deckInfo={},n._lastFrameUpdateTimeMS=0,n._INTERVAL_UPDATE_TIME=500,n._onClickSallyMenu=function(t){n._expeditionStage.compSwitch.deactivate(),n._switch_func(t)},n._onGoExpedition=function(t,e){if(n._deckSelect.deactivate(),-1==e)return o.default.view.clickGuard=!0,n._deckSelect.cancelArea.hide(300),createjs.Tween.get(n._expeditionStage.detail).to({x:694},300),void createjs.Tween.get(n._deckSelect.panel).to({x:1200},300).call(function(){n.removeChild(n._deckSelect),n._deckSelect.dispose(),n._deckSelect=null,o.default.view.clickGuard=!1});o.default.view.clickGuard=!0,n._callExpeditionStartAPI(e,t)};var r=new s.ExpeditionStage(e,n._onClickSallyMenu);return r.areaIcons.forEach(function(t){return t.onClick=function(t){return n._onClickArea(t)}}),r.eventAreaIcon.onClick=function(t){return n._onClickArea(t)},r.list.items.forEach(function(t){t.onClick=function(t){return n._onClickListItem(t)}}),r.nextButton.initialize(function(){n._onClickNext()}),r.prevButton.initialize(function(){n._onClickPrev()}),r.detail.onClickStart=function(t){n._onClickStart(t)},r.detail.onClickCancel=function(t){n._onClickCancel(t)},r.position.set(150,138),n.addChild(r),n._expeditionStage=r,n._switch_func=i,n}return n(e,t),e.prototype.initialize=function(){this._expeditionStage.interactive=!1,this._expeditionStage.interactiveChildren=!1,this._expeditionStage.list.items.forEach(function(t){return t.visible=!1}),this._expeditionStage.nextButton.visible=!1,this._expeditionStage.prevButton.visible=!1,this._expeditionStage.detail.visible=!1,this._expeditionStage.emptyDetail.visible=!1,this._updateVerificationTime(Date.now()),this._updateDeckInfo(),this._updateArea(1),this._updateList(0)},e.prototype._updateVerificationTime=function(t){this._verificationTimeMS=t},e.prototype.activate=function(){this._expeditionStage.interactive=!0,this._expeditionStage.interactiveChildren=!0,this._expeditionStage.compSwitch.activate(),this._expeditionStage.nextButton.activate(),this._expeditionStage.prevButton.activate(),this._startCycle()},e.prototype.deactivate=function(){this._expeditionStage.interactive=!1,this._expeditionStage.interactiveChildren=!1,this._deckSelect&&this._deckSelect.deactivate(),this._expeditionStage.eventAreaIcon.deactivate()},e.prototype.dispose=function(){this._stopCycle(),this._deckSelect&&(this._deckSelect.dispose(),this._deckSelect=null),this._expeditionStage.dispose(),this._expeditionStage=null,this._area_mst_id=null,this._pageSeekIndex=null,this._requestAnimationFrameID=null,this._switch_func=null,this._deckInfo=null,this._area_expeditions=null,this._lastFrameUpdateTimeMS=null,this._INTERVAL_UPDATE_TIME=null},e.prototype._startCycle=function(){this._cycle()},e.prototype._stopCycle=function(){cancelAnimationFrame(this._requestAnimationFrameID)},e.prototype._cycle=function(){var t=this;this._requestAnimationFrameID=requestAnimationFrame(function(){return t._cycle()});var e=Date.now(),i=e-this._lastFrameUpdateTimeMS;this._INTERVAL_UPDATE_TIME<i&&this._updateTime(e)},e.prototype._updateTime=function(t){this._expeditionStage.detail&&this._expeditionStage.detail.updateInterface(t),this._lastFrameUpdateTimeMS=t},e.prototype._genWinItemInfo=function(t){var e={rewardRepairKit:!1,rewardDevKit:!1,rewardBuildKit:!1,rewardOtherItem:!1};return[t.item1_id,t.item2_id].forEach(function(t){switch(t){case 0:break;case 1:e.rewardRepairKit=!0;break;case 2:e.rewardBuildKit=!0;break;case 3:e.rewardDevKit=!0;break;default:e.rewardOtherItem=!0}}),e},e.prototype._updateDetail=function(t){var e=o.default.model.expedition.get(t);this._expeditionStage.emptyDetail.visible=!1,this._expeditionStage.detail.visible=!0;var i=e.win_mat_level,n=e.isCancelable();if(this._expeditionStage.detail.updateMaster(e.mstID,e.name,e.reset_type,e.damage_type,e.time,e.fuel,e.ammo,e.detail,i[0],i[1],i[2],i[3],e.item1_id,e.item1_count,e.item2_id,e.item2_count,n),this._deckInfo[t]){var r=this._deckInfo[t],s=o.default.model.deck.get(r),a=s.expedition,_=new Array;s.getShipList().forEach(function(t){t&&_.push(t.shipTypeID)});var l=s.getShipModel(0);this._expeditionStage.detail.updateMember(a.state,a.complete_unixtime,_,r,s.name,l,!1),this._expeditionStage.detail.updateInterface(Date.now())}else{var u=0<e.reset_type,c=2==e.state,p=this._expeditionStage.list.items.some(function(e){var i=e.expedition_mst_id==t?e.expeditionStateIcon.viewState:h.ExpeditionState.NONE;return h.ExpeditionState.TIME_OVER_MONTHLY==i}),d=!0;u&&(c||p)&&(d=!1),this._expeditionStage.detail.updateMember(0,null,null,null,null,null,d)}},e.prototype._updateDeckInfo=function(){for(var t={},e=o.default.model.deck.getAll(),i=0;i<e.length;i++){var n=e[i];n.expedition&&(t[n.expedition.expedition_id]=n.mstID)}this._deckInfo=t},e.prototype._updateList=function(t){for(var e=o.default.model.expedition.getLimitTime(1),i=this._area_expeditions.slice(t,t+this._expeditionStage.list.items.length),n=0;n<this._expeditionStage.list.items.length;n++){var r=this._expeditionStage.list.items[n];r.visible=!1;if(n<i.length){var s=null;s=0==n?h.ListType.HEADER:n==this._expeditionStage.list.items.length-1?h.ListType.FOOTER:h.ListType.CENTER;var a=i[n],_=a.win_mat_level,l=this._genWinItemInfo(a),u=a.sample_fleet.filter(function(t){return 0!=t}),c=0<a.reset_type;r.updateMaster(a.mstID,a.dispID,a.name,a.difficulty,a.time,a.damage_type,u,a.required_num,_[0],_[1],_[2],_[3],l.rewardBuildKit,l.rewardRepairKit,l.rewardDevKit,l.rewardOtherItem,c);var p=this._verificationTimeMS+60*a.time*1e3,d=p>1e3*e;if(this._deckInfo[a.mstID]){var f=this._deckInfo[a.mstID];r.updateMember(a.state,f,s,d)}else r.updateMember(a.state,null,s,d);r.visible=!0}}this._expeditionStage.prevButton.visible=!1,0<t&&(this._expeditionStage.prevButton.visible=!0),this._expeditionStage.nextButton.visible=!1,t+this._expeditionStage.list.items.length<this._area_expeditions.length&&(this._expeditionStage.nextButton.visible=!0),this._pageSeekIndex=t},e.prototype._updateArea=function(t){var e=this;if(this._area_mst_id!=t){this._expeditionStage.detail.visible=!1,this._expeditionStage.emptyDetail.visible=!0,this._expeditionStage.areaIcons.forEach(function(i){var n=i.area_mst_id==t;i.focus(n),n&&e._expeditionStage.seekHukidashi(i.x+.5*i.width-20)});var i=this._expeditionStage.eventAreaIcon.area_id==t;this._expeditionStage.eventAreaIcon.selected=i,1==i&&this._expeditionStage.seekHukidashi(this._expeditionStage.eventAreaIcon.x+.5*this._expeditionStage.eventAreaIcon.width-35)}var n=o.default.model.expedition.getInArea(t,!0);this._area_expeditions=n,this._area_mst_id=t},e.prototype._onClickListItem=function(t){this._updateDetail(t)},e.prototype._onClickStart=function(t){var e=this;this._deckSelect=new a.ContainerDeckSelect(this._onGoExpedition);var i=o.default.model.deck.getIDs(),n=i.indexOf(1);-1!=n&&i.splice(n,1);var r=o.default.model.deck.isCombined();this._deckSelect.initialize(t,i,r),this.addChild(this._deckSelect),this._deckSelect.cancelArea.show(300),createjs.Tween.get(this._expeditionStage.detail.position).to({x:150},300),createjs.Tween.get(this._deckSelect.panel).to({x:493},300).call(function(){e._deckSelect.activate()})},e.prototype._onClickCancel=function(t){var e=this,i=this._deckInfo[t];new u.CancelExpeditionTask(i).start(function(){e._updateDeckInfo(),e._updateList(e._pageSeekIndex),e._updateDetail(t)})},e.prototype._onClickArea=function(t){this._area_mst_id!=t&&(this._updateVerificationTime(Date.now()),this._updateArea(t),this._updateList(0))},e.prototype._onClickNext=function(){this._updateList(this._pageSeekIndex+1)},e.prototype._onClickPrev=function(){this._updateList(this._pageSeekIndex-1)},e.prototype._callExpeditionStartAPI=function(t,e){var i=this,n=new _.ExpeditionStartAPI(e,t);n.start(function(){n.expiredFlag?(i._deckSelect.panel.expiredUpdate(n.expiredFlag),o.default.view.clickGuard=!1,i._deckSelect.activate()):i._callDeckAPI(t,e)})},e.prototype._callDeckAPI=function(t,e){var i=this,n=o.default.model.deck.get(t).getShipModel(0).mstID;o.default.sound.voice.play(n.toString(),26),(new l.DeckAPI).start(function(){var n=o.default.model.expedition.get(e);0==n.state&&n.__setState__(1),i._closeAnimationDeckInfo(t,e)})},e.prototype._closeAnimationDeckInfo=function(t,e){var i=this;this._deckSelect.cancelArea.hide(300),createjs.Tween.get(this._expeditionStage.detail).to({x:694},300),createjs.Tween.get(this._deckSelect.panel).to({x:1200},300).call(function(){i.removeChild(i._deckSelect),i._deckSelect.dispose(),i._deckSelect=null,i._entryAnimationDeck(t,e)})},e.prototype._entryAnimationDeck=function(t,e){for(var i,n=this,o=0;o<this._expeditionStage.list.items.length;o++){var r=this._expeditionStage.list.items[o];if(r.expedition_mst_id==e){i=r;break}}if(null!=i){var s=i.genEntryDeckAnimation(t);s.execute(function(){s.dispose(),n._updateStartExpeditionInfo(t,e)})}else this._updateStartExpeditionInfo(t,e)},e.prototype._updateStartExpeditionInfo=function(t,e){this._updateDeckInfo(),this._updateList(this._pageSeekIndex),this._updateDetail(e),this._showAnimationExpeditionStart(t)},e.prototype._showAnimationExpeditionStart=function(t){var e=o.default.model.deck.get(t);new c.TaskExpeditionStartCutin(e.mstID).start(function(){o.default.view.clickGuard=!1})},e}(r.ViewMainBase);e.ViewMain=p},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1041),r=i(30),s=i(1042),a=i(58),_=i(113),l=i(228),u=i(1),c=i(1045),h=i(18),p=i(0),d=function(t){function e(e,i){var n=t.call(this)||this,u=new Array,d=27;[1,2,3,7,4,5,6].forEach(function(t){var e=new f(t);u.push(e),e.position.x=d,e.position.y=510,d=e.position.x+e.width+4}),n._eventAreaIcon=new c.ExpeditionEventAreaIconBtn(h.EVENT_AREA_ID),n._eventAreaIcon.position.set(590,497);var y=new o.ExpeditionDetail;y.position.set(694,0);var m=new o.ExpeditionEmptyDetail;m.position.set(694,0);var g=new PIXI.Sprite(r.SALLY_COMMON.getTexture(27));g.position.set(-5,2);var v=new PIXI.Sprite(a.SALLY_EXPEDITION.getTexture(28)),b=new s.ExpeditionList;b.position.set(10,55);var w=new PIXI.Sprite(a.SALLY_EXPEDITION.getTexture(91));w.position.set(37,468);var x=new _.ArrowButton;x.scale.set(.85),x.position.set(300,75);var I=new _.ArrowButton(!0);I.scale.set(.85),I.position.set(300,480);var T=new l.CompSwitchBtns(2,e,i);if(T.position.set(300,12),T.initialize(),n.addChild(g),n.addChild(v),n.addChild(b),n.addChild(w),u.forEach(function(t){n.addChild(t)}),h.EVENT_AREA_ID>0){null!=p.default.model.map.getArea(h.EVENT_AREA_ID)&&(n._eventAreaIcon.initialize(),n._eventAreaIcon.activate(),n.addChild(n._eventAreaIcon))}return n.addChild(x,I),n.addChild(T),n.addChild(y,m),n._detail=y,n._emptyDetail=m,n._prevButton=x,n._nextButton=I,n._areaIcons=u,n._list=b,n._hukidashi=w,n._compSwitchBtns=T,n}return n(e,t),Object.defineProperty(e.prototype,"list",{get:function(){return this._list},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"detail",{get:function(){return this._detail},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"emptyDetail",{get:function(){return this._emptyDetail},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"areaIcons",{get:function(){return this._areaIcons},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventAreaIcon",{get:function(){return this._eventAreaIcon},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextButton",{get:function(){return this._nextButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"prevButton",{get:function(){return this._prevButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"compSwitch",{get:function(){return this._compSwitchBtns},enumerable:!0,configurable:!0}),e.prototype.seekHukidashi=function(t){this._hukidashi.position.x=t},e.prototype.dispose=function(){this.removeChildren(),this._detail.dispose(),this._emptyDetail.dispose(),this._list.dispose(),this._areaIcons.forEach(function(t){return t.dispose()}),this._areaIcons.length=0,this._eventAreaIcon.dispose(),this._nextButton.dispose(),this._prevButton.dispose(),this._hukidashi.texture=PIXI.Texture.EMPTY,this._compSwitchBtns.dispose(),this._detail=null,this._emptyDetail=null,this._list=null,this._areaIcons=null,this._nextButton=null,this._prevButton=null,this._hukidashi=null,this._compSwitchBtns=null,this._areaIcons=null,this._eventAreaIcon=null},e}(PIXI.Container);e.ExpeditionStage=d;var f=function(t){function e(e){var i=t.call(this)||this;i.RESOURCE_MAP={1:{off:0,on:1},2:{off:2,on:3},3:{off:4,on:5},4:{off:8,on:9},5:{off:10,on:11},6:{off:12,on:13},7:{off:6,on:7}},i._focus=!1,i._onClick=function(){i.onClick(i._area_mst_id)},i._onOver=function(){i._focus||i._setActive(!0)},i._onOut=function(){i._focus||i._setActive(!1)};var n=new PIXI.Sprite,o=(new PIXI.Graphics).beginFill(0,0).drawRect(0,0,56,56).endFill();return o.addListener(u.EventType.CLICK,i._onClick),o.addListener(u.EventType.MOUSEOVER,i._onOver),o.addListener(u.EventType.MOUSEOUT,i._onOut),o.buttonMode=!0,o.interactive=!0,i.addChild(n),i.addChild(o),i._icon=n,i._area_mst_id=e,i._resourceMap=i.RESOURCE_MAP[e],i._hitArea=o,i._setActive(!1),i._area_mst_id=e,i}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._hitArea.removeAllListeners(u.EventType.CLICK),this._hitArea.removeAllListeners(u.EventType.MOUSEOUT),this._hitArea.removeAllListeners(u.EventType.MOUSEOVER),this._icon.texture=PIXI.Texture.EMPTY,this._icon.texture=null,this._hitArea=null,this._resourceMap=null,this.onClick=this._onClick=null,this._onOver=null,this._onOut=null},Object.defineProperty(e.prototype,"area_mst_id",{get:function(){return this._area_mst_id},enumerable:!0,configurable:!0}),e.prototype._setActive=function(t){t?this._icon.texture=a.SALLY_EXPEDITION.getTexture(this._resourceMap.on):(this._icon.texture=a.SALLY_EXPEDITION.getTexture(this._resourceMap.off),this._hitArea.interactive=!0)},e.prototype.focus=function(t){this._setActive(t);var e=0==t;this._hitArea.interactive=e,this._focus=t},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(30),r=i(58),s=i(375),a=i(87),_=i(31),l=i(4),u=i(1),c=i(234),h=i(235),p=i(376),d=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(14)),n=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(38));n.position.set(8,36);var u=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(120));u.position.set(225,8);var h=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(69));h.position.set(75,4);var p=new l.TextBox(27,4999235,"bold");p.position.set(16,60);var d=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(39));d.position.set(8,95);var f=new l.TextBox(21,4999235,"bold");f.position.set(18,119);var I=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(40));I.position.set(22,256);var T=new y({on:97,off:98});T.position.set(175,268);var O=new y({on:99,off:100});O.position.set(265,268);var C=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(41));C.position.set(22,289);var P=new m({on:97,off:98});P.position.set(175,301);var k=new m({on:99,off:100});k.position.set(175,326);var S=new m({on:101,off:102});S.position.set(265,301);var M=new m({on:103,off:104});M.position.set(265,326);var A=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(42));A.position.set(22,345);var E=new PIXI.Sprite;E.position.set(175,359.5),E.anchor.set(.5,.5);var j=new l.TextBox(18,4999235,"bold");j.position.set(186,349);var N=new PIXI.Sprite;N.position.set(233,359.5),N.anchor.set(.5,.5);var L=new l.TextBox(18,4999235,"bold");L.position.set(244,349);var B=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(70)),R=new g,D=new v,U=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(43));U.position.set(8,379);var X=new _.ShipBanner;X.position.set(10,405);var F=new a.ShipInDeckFlag;F.anchor.set(.5,.5),F.scale.set(.75,.75),F.position.set(25,483);var V=new l.TextBox(14,0);V.position.set(86,382);var z=new l.TextBox(14,0);z.position.set(39,467);var G=new l.TextBox(14,0);G.position.set(39,483);var K=new s.FleetShadow(c.ShadowType.DETAIL);K.position.set(332,486),K.scale.set(1,1);var Y=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(45));Y.position.set(305,420),Y.anchor.set(.5,.5);var H=new b;H.position.x=305,H.position.y=420;var W=new w;W.position.x=305,W.position.y=420;var q=new x;q.position.x=305,q.position.y=420;var J=new c.ShipShadow;J.anchor.set(.5,0),J.position.set(305,380),R.position.set(40,502),D.position.set(80,502),B.position.set(39,502);var Z=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(19));Z.anchor.set(0,.5),Z.position.set(40,20);var $=new PIXI.Sprite(o.SALLY_COMMON.getTexture(51));return $.position.set(0,-35),$.addChild(Z),R.onClick=function(){return e.onClickStart(e._expedition_mst_id)},D.onClick=function(){return e.onClickCancel(e._expedition_mst_id)},e.addChild(i),e.addChild(n,p,u,h),e.addChild(d,f),e.addChild(I,T,O),e.addChild(C,P,S,k,M),e.addChild(A,E,j,N,L),e.addChild(U,V,z,G,X,F),e.addChild(K,D,B,R),e.addChild(Y,q,W,H,J),e.addChild($),e._textExpeditionDetail=f,e._textExpeditionName=p,e._decisionButton=R,e._stopButton=D,e._useAmmo=O,e._useFuel=T,e._rewardFuel=P,e._rewardAmmo=k,e._rewardSteel=S,e._rewardBauxite=M,e._rewardItem1Icon=E,e._rewardItem1Text=j,e._rewardItem2Icon=N,e._rewardItem2Text=L,e._flagShipBanner=X,e._textDeckName=V,e._textFlagShipName=z,e._textFlagShipLevel=G,e._hexClockActive=H,e._hexClockCancel=W,e._hexClockComplete=q,e._iconMonthly=u,e._iconDamage=h,e._iconTower=B,e._iconDeck=F,e._deckFleetShadow=K,e._flagShipShadow=J,e}return n(e,t),e.prototype._itemId2Texture=function(t){switch(t){case 0:return PIXI.Texture.EMPTY;case 1:return p.SALLY_EXPEDITION_DETAIL.getTexture(0);case 2:return p.SALLY_EXPEDITION_DETAIL.getTexture(2);case 3:return p.SALLY_EXPEDITION_DETAIL.getTexture(1);default:return p.SALLY_EXPEDITION_DETAIL.getTexture(3)}},e.prototype.updateMaster=function(t,e,i,n,o,r,s,a,_,l,u,c,h,p,d,f,y){this._useFuel.update(r),this._useAmmo.update(s),this._rewardFuel.update(_),this._rewardAmmo.update(l),this._rewardSteel.update(u),this._rewardBauxite.update(c),this._rewardItem1Icon.texture=this._itemId2Texture(h),this._rewardItem1Text.text="x"+p,0==p?(this._rewardItem1Icon.visible=!1,this._rewardItem1Text.visible=!1):(this._rewardItem1Icon.visible=!0,this._rewardItem1Text.visible=!0,this._rewardItem1Icon.texture=this._itemId2Texture(h),this._rewardItem1Text.text="\xd7"+p),0==f?(this._rewardItem2Icon.visible=!1,this._rewardItem2Text.visible=!1):(this._rewardItem2Icon.visible=!0,this._rewardItem2Text.visible=!0,this._rewardItem2Icon.texture=this._itemId2Texture(d),this._rewardItem2Text.text="\xd7"+f),this._iconMonthly.visible=!1,0<i&&(this._iconMonthly.visible=!0),this._iconDamage.visible=!1,0<n&&(this._iconDamage.visible=!0),this._textExpeditionDetail.text=a.replace(/<br>/g,"\n"),this._textExpeditionName.text=e,this._cancelable=y,this._expedition_mst_id=t,this._useTime=o},e.prototype.updateMember=function(t,e,i,n,o,r,s){switch(this._flagShipBanner.visible=!1,this._textFlagShipName.visible=!1,this._textFlagShipLevel.visible=!1,this._flagShipShadow.visible=!1,r&&(this._flagShipBanner.updateImage(r.mstID,r.isDamaged()),this._flagShipBanner.updateRing(r.isMarriage()),this._textFlagShipName.text="\u65d7\u8266 ["+r.name+"]",this._textFlagShipLevel.text="Lv."+r.level,this._flagShipBanner.visible=!0,this._textFlagShipName.visible=!0,this._textFlagShipLevel.visible=!0,this._flagShipShadow.update(r.shipTypeID,c.ShadowType.DETAIL),this._flagShipShadow.visible=!0),this._textDeckName.visible=!1,o&&(this._textDeckName.text=o,this._textDeckName.visible=!0),this._hexClockActive.visible=!1,this._flagShipShadow.visible=!1,this._hexClockCancel.visible=!1,this._hexClockComplete.visible=!1,t){case 0:break;case 1:this._hexClockActive.visible=!0,this._flagShipShadow.visible=!0;break;case 2:this._hexClockComplete.visible=!0;break;case 3:this._hexClockCancel.visible=!0,this._flagShipShadow.visible=!0}if(e){var a=60*this._useTime*1e3,_=1-(e-Date.now())/a,l=Math.floor((1-_)*a);this._hexClockActive.visible&&this._hexClockActive.update(_,l),this._hexClockCancel.visible&&this._hexClockCancel.update(_,l)}this._decisionButton.setClickable(s),this._decisionButton.visible=!1,this._iconTower.visible=!1,this._stopButton.visible=!1;var u=e-Date.now();switch(t){case 0:this._decisionButton.visible=!0;break;case 1:var h=u<0,p=0==h&&this._cancelable;this._stopButton.setClickable(p),this._stopButton.visible=!0,this._iconTower.visible=!0;break;case 2:case 3:this._stopButton.setClickable(!1),this._stopButton.visible=!0,this._iconTower.visible=!0}this._iconDeck.visible=!1,n&&(this._iconDeck.update([n,0]),this._iconDeck.visible=!0),this._deckFleetShadow.visible=!1,i&&(this._deckFleetShadow.update(i),this._deckFleetShadow.visible=!0),this._completeTime=e,this._deckExpeditionType=t},e.prototype.updateInterface=function(t){var e=60*this._useTime*1e3,i=1-(this._completeTime-t)/e;switch(i<0&&(i=0),1<=i&&(i=1,1==this._deckExpeditionType&&(this._deckExpeditionType=2),this._stopButton.setClickable(!1)),this._hexClockActive.visible=!1,this._hexClockCancel.visible=!1,this._hexClockComplete.visible=!1,this._deckExpeditionType){case 0:break;case 1:this._hexClockActive.visible=!0;break;case 2:this._hexClockComplete.visible=!0;break;case 3:this._hexClockCancel.visible=!0}var n=Math.floor((1-i)*e);this._hexClockActive.visible&&this._hexClockActive.update(i,n),this._hexClockCancel.visible&&this._hexClockCancel.update(i,n)},e.prototype.dispose=function(){this.removeChildren(),this._useFuel.dispose(),this._useAmmo.dispose(),this._rewardFuel.dispose(),this._rewardAmmo.dispose(),this._rewardSteel.dispose(),this._rewardBauxite.dispose(),this._flagShipBanner.dispose(),this._hexClockActive.dispose(),this._hexClockCancel.dispose(),this._iconMonthly.texture=PIXI.Texture.EMPTY,this._iconDamage.texture=PIXI.Texture.EMPTY,this._decisionButton.dispose(),this._stopButton.dispose(),this._iconTower.texture=PIXI.Texture.EMPTY,this._iconDeck.dispose(),this._deckFleetShadow.dispose(),this._deckFleetShadow=null,this._useFuel=null,this._useAmmo=null,this._rewardFuel=null,this._rewardAmmo=null,this._rewardSteel=null,this._rewardBauxite=null,this._rewardItem1Icon=null,this._rewardItem1Text=null,this._rewardItem2Icon=null,this._rewardItem2Text=null,this._flagShipBanner=null,this._hexClockActive=null,this._hexClockCancel=null,this._iconMonthly=null,this._iconDamage=null,this._decisionButton=null,this._stopButton=null,this._iconTower=null,this._iconDeck=null,this.onClickStart=null,this.onClickCancel=null,this._textExpeditionDetail=null,this._textExpeditionName=null,this._expedition_mst_id=null,this._textFlagShipName=null,this._textFlagShipLevel=null,this._textDeckName=null},e}(PIXI.Container);e.ExpeditionDetail=d;var f=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(14)),n=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(38));n.position.set(8,36);var s=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(39));s.position.set(8,95);var a=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(40));a.position.set(22,256);var _=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(41));_.position.set(22,289);var l=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(42));l.position.set(22,345);var u=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(43));u.position.set(8,379);var c=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(97)),h=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(99));c.anchor.set(.5,.5),c.position.set(175,268),h.anchor.set(.5,.5),h.position.set(265,268),e.addChild(i),e.addChild(n,s,a,_,l,u,c,h);var p=new PIXI.Sprite(o.SALLY_COMMON.getTexture(51)),d=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(19));return e.addChild(p),p.addChild(d),d.anchor.set(0,.5),d.position.set(40,20),p.position.set(0,-35),e.addChild(p),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren()},e}(PIXI.Container);e.ExpeditionEmptyDetail=f;var y=function(t){function e(e){var i=t.call(this)||this,n=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(36)),o=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(e.on)),s=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(e.off)),a=new l.TextBox(16,4999235,"bold");return o.anchor.set(.5,.5),s.anchor.set(.5,.5),a.anchor.set(.5,.5),n.anchor.set(0,.5),n.position.x=18,a.position.set(40,.5),i.addChild(n,s,o,a),i._iconOn=o,i._iconOff=s,i._text=a,i}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._iconOn.texture=PIXI.Texture.EMPTY,this._iconOff.texture=PIXI.Texture.EMPTY,this._text.texture=PIXI.Texture.EMPTY,this._iconOn=null,this._iconOff=null,this._text=null},e.prototype.update=function(t){this._iconOn.visible=!1,0<t&&(this._iconOn.visible=!0),this._text.text=h.useMaterialToString(t)},e}(PIXI.Container),m=function(t){function e(e){for(var i=t.call(this)||this,n=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(37)),o=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(e.on)),s=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(e.off)),a=new Array,_=0;_<4;_++){var l=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(67));l.position.y=-1,l.anchor.set(0,.5),a.push(l)}o.anchor.set(.5,.5),s.anchor.set(.5,.5),n.anchor.set(0,.5),n.position.x=7,i._iconOn=o,i._iconOff=s,i._dots=a,i.addChild(n,s,o);for(var u=21,_=0;_<a.length;_++){var l=a[_];l.position.x=u,u=u+l.width+3.2,i.addChild(l)}return i}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._iconOn.texture=PIXI.Texture.EMPTY,this._iconOff.texture=PIXI.Texture.EMPTY,this._dots.forEach(function(t){return t.texture=PIXI.Texture.EMPTY}),this._dots.length=0,this._iconOn=null,this._iconOff=null,this._dots=null},e.prototype.update=function(t){this._iconOn.visible=!1,0<t&&(this._iconOn.visible=!0);for(var e=0;e<this._dots.length;e++){var i=this._dots[e];i.visible=!1,e<t&&(i.visible=!0)}},e}(PIXI.Container),g=function(t){function e(){var e=t.call(this)||this;e._resourceMap={on:18,over:20,off:19},e._onClick=function(){e.onClick()},e._onOver=function(){e._over()},e._onOut=function(){e._on()};var i=o.SALLY_COMMON.getTexture(e._resourceMap.off),n=new PIXI.Sprite(i),r=(new PIXI.Graphics).beginFill(0,0).drawRect(0,0,280,60).endFill();return e.addChild(n),e.addChild(r),r.addListener(u.EventType.CLICK,e._onClick),r.addListener(u.EventType.MOUSEOVER,e._onOver),r.addListener(u.EventType.MOUSEOUT,e._onOut),r.buttonMode=r.interactive=!0,e._image=n,e._hitArea=r,e}return n(e,t),e.prototype.setClickable=function(t){t?this._on():this._off(),this._hitArea.visible=t},e.prototype._over=function(){this._image.texture=o.SALLY_COMMON.getTexture(this._resourceMap.over)},e.prototype._on=function(){this._image.texture=o.SALLY_COMMON.getTexture(this._resourceMap.on)},e.prototype._off=function(){this._image.texture=o.SALLY_COMMON.getTexture(this._resourceMap.off)},e.prototype.dispose=function(){this.removeChildren(),this._hitArea.removeAllListeners(u.EventType.CLICK),this._hitArea.removeAllListeners(u.EventType.MOUSEOVER),this._hitArea.removeAllListeners(u.EventType.MOUSEOUT),this._image.texture=PIXI.Texture.EMPTY,this._hitArea=null,this._image=null,this.onClick=this._onClick=null,this._onOver=null,this._onOut=null},e}(PIXI.Container),v=function(t){function e(){var e=t.call(this)||this;e._resourceMap={off:26,on:25,over:27},e._onClick=function(){e.onClick()},e._onOver=function(){0!=e._clickable&&e._over()},e._onOut=function(){0!=e._clickable&&e._on()};var i=r.SALLY_EXPEDITION.getTexture(e._resourceMap.off),n=new PIXI.Sprite(i),o=(new PIXI.Graphics).beginFill(0,0).drawRect(0,0,i.width,i.height).endFill();return e.addChild(n),e.addChild(o),o.addListener(u.EventType.CLICK,e._onClick),o.addListener(u.EventType.MOUSEOVER,e._onOver),o.addListener(u.EventType.MOUSEOUT,e._onOut),o.buttonMode=o.interactive=!0,e._image=n,e._hitArea=o,e.setClickable(!1),e}return n(e,t),e.prototype.setClickable=function(t){t?this._on():this._off(),this._hitArea.interactive=t,this._clickable=t},e.prototype._over=function(){this._image.texture=r.SALLY_EXPEDITION.getTexture(this._resourceMap.over)},e.prototype._off=function(){this._image.texture=r.SALLY_EXPEDITION.getTexture(this._resourceMap.off)},e.prototype._on=function(){this._image.texture=r.SALLY_EXPEDITION.getTexture(this._resourceMap.on)},e.prototype.dispose=function(){this.removeChildren(),this._hitArea.removeAllListeners(u.EventType.CLICK),this._hitArea.removeAllListeners(u.EventType.MOUSEOVER),this._hitArea.removeAllListeners(u.EventType.MOUSEOUT),this._image.texture=PIXI.Texture.EMPTY,this.onClick=this._onClick=null,this._onOver=null,this._onOut=null,this._hitArea=null,this._image=null},e}(PIXI.Container),b=function(t){function e(){var e=t.call(this)||this;e._yellowMap={1:57,2:58,3:59,4:60,5:61,6:62},e._lightMap={1:48,2:49,3:50,4:51,5:52,6:53};for(var i=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(45)),n=new Array,o=1;o<=6;o++){var s=e._yellowMap[o],a=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(s));a.anchor.set(.5,.5),n.push(a)}for(var _=new Array,o=1;o<=6;o++){var l=e._lightMap[o],u=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(l));u.anchor.set(.5,.5),_.push(u)}var c=new PIXI.Sprite,h=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(54)),p=new PIXI.Text;p.anchor.set(1,.5),p.position.set(22,-11),p.style.fontSize=22;var d=new PIXI.Text;d.anchor.set(.5,0),d.position.y=7,d.style.fontSize=20;var f=new PIXI.Text;f.anchor.set(.5,0),f.position.y=27,f.style.fontSize=17,i.anchor.set(.5,.5),c.anchor.set(.5,.5),h.anchor.set(.5,.5),e.addChild(i);for(var o=0;o<n.length;o++){var a=n[o];e.addChild(a)}for(var o=0;o<_.length;o++){var y=_[o];y.position.x=.5,e.addChild(y)}return e.addChild(p,f,d,h),e._textProgress=p,e._yellows=n,e._lights=_,e._textLast=d,e._textLastSec=f,e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._yellows.forEach(function(t){return t.texture=PIXI.Texture.EMPTY}),this._lights.forEach(function(t){return t.texture=PIXI.Texture.EMPTY}),this._textProgress=null,this._textLast=null,this._yellows=null,this._lights=null},e.prototype.update=function(t,e){var i=Math.floor(e%6e4/1e3);this._updateYellow(1-i/60),this._updateGauge(t),this._textProgress.text=Math.floor(100*t).toString(),this._textLast.text=h.millisecondToFormatHHMM(e);var n="";i<10&&(n+="0"),n+=i.toString(),this._textLastSec.text=n.toString()},e.prototype._updateYellow=function(t){for(var e=Math.floor(6*t)+1,i=0;i<this._yellows.length;i++){var n=this._yellows[i];n.visible=!1,i<e&&(n.visible=!0)}},e.prototype._updateGauge=function(t){for(var e=Math.floor(6*t)+1,i=0;i<this._lights.length;i++){var n=this._lights[i];n.visible=!1,i<e&&(n.visible=!0)}},e}(PIXI.Container),w=function(t){function e(){var e=t.call(this)||this;e._yellowMap={1:57,2:58,3:59,4:60,5:61,6:62};for(var i=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(47)),n=new Array,o=1;o<=6;o++){var s=e._yellowMap[o],a=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(s));a.anchor.set(.5,.5),n.push(a)}var _=new PIXI.Sprite,l=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(56)),u=new PIXI.Text;u.anchor.set(.5,0),u.position.y=7,u.style.fontSize=20;var c=new PIXI.Text;c.anchor.set(.5,0),c.position.y=27,c.style.fontSize=17,i.anchor.set(.5,.5),_.anchor.set(.5,.5),l.anchor.set(.5,.5),e.addChild(i);for(var o=0;o<n.length;o++){var a=n[o];e.addChild(a)}return e.addChild(c,u,l),e._yellows=n,e._textLast=u,e._textLastSec=c,e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._yellows.forEach(function(t){return t.texture=PIXI.Texture.EMPTY}),this._textLast=null,this._yellows=null},e.prototype.update=function(t,e){if(1<=t)this._textLast.text="",this._textLastSec.text="";else{var i=Math.floor(e%6e4/1e3);this._updateYellow(1-i/60),this._textLast.text=h.millisecondToFormatHHMM(e);var n="";i<10&&(n+="0"),n+=i.toString(),this._textLastSec.text=n.toString()}},e.prototype._updateYellow=function(t){for(var e=Math.floor(6*t)+1,i=0;i<this._yellows.length;i++){var n=this._yellows[i];n.visible=!1,i<e&&(n.visible=!0)}},e}(PIXI.Container),x=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(46)),n=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(55));return i.anchor.set(.5,.5),n.anchor.set(.5,.5),e.addChild(i),e.addChild(n),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren()},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1043),r=i(58),s=i(30),a=function(t){function e(){for(var e=t.call(this)||this,i=new Array,n=47,a=0;a<8;a++){var _=new o.ExpeditionListItem;_.x=8,_.y=n,i.push(_),n+=45}var l=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(90));l.position.y=-1;var u=new PIXI.Sprite(r.SALLY_EXPEDITION.getTexture(18));u.anchor.set(0,.5),u.position.set(40,20);var c=new PIXI.Sprite(s.SALLY_COMMON.getTexture(51));return c.addChild(u),c.position.set(-20,-90),i.forEach(function(t){e.addChild(t)}),e.addChild(l),e.addChild(c),e._listItems=i,e}return n(e,t),Object.defineProperty(e.prototype,"items",{get:function(){return this._listItems},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.removeChildren(),this._listItems.forEach(function(t){return t.dispose()}),this._listItems.length=0,this._listItems=null},e}(PIXI.Container);e.ExpeditionList=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(58),r=i(4),s=i(87),a=i(377),_=i(1),l=i(0),u=i(15),c=i(375),h=i(378),p=i(235),d=i(234),f=function(t){function e(){var e=t.call(this)||this;e._onClick=function(t){var i=t.data,n=l.default.model.basic.member_id,o=u.__create_serial_id__(n,i.global.x,i.global.y);l.default.model.expedition.serial_id=o,e.onClick(e._expedition_mst_id)},e._onOver=function(){e._focusOver()},e._onOut=function(){e._focusOut()};var i=(new PIXI.Graphics).beginFill(16777215,0).drawRect(0,0,655,45).endFill(),n=new PIXI.Sprite(o.SALLY_EXPEDITION.getTexture(95)),a=(new PIXI.Graphics).beginFill(0,0).drawRect(0,0,655,45).endFill(),h=new r.TextBox(18,4999235,"bold"),p=new r.TextBox(20,3768020,"bold"),f=new r.TextBox(14,4999235,"bold"),w=new PIXI.Sprite(o.SALLY_EXPEDITION.getTexture(69));w.position.y=-10,w.scale.set(.75,.75);var x=new c.FleetShadow(d.ShadowType.LIST);x.scale.set(1,1),x.position.set(656,32),a.interactive=!0,a.buttonMode=!0,a.addListener(_.EventType.CLICK,e._onClick),a.addListener(_.EventType.MOUSEOVER,e._onOver),a.addListener(_.EventType.MOUSEOUT,e._onOut);var I=new PIXI.Sprite(o.SALLY_EXPEDITION.getTexture(92));I.alpha=0;var T=new PIXI.Sprite(o.SALLY_EXPEDITION.getTexture(63)),O=new PIXI.Sprite(o.SALLY_EXPEDITION.getTexture(81)),C=new s.ShipInDeckFlag;T.anchor.set(.5,.5),T.position.set(23,.5*i.height),O.anchor.set(.5,.5),O.position.set(23,.5*i.height),C.anchor.set(.5,.5),C.position.set(23,.5*i.height),C.scale.set(.75,.75);var P=new r.TextBox(15,4999235,"bold");P.position.set(42,.5*i.height),P.anchor.set(0,.5);var k=new g;k.position.set(80,.5*i.height);var S=new v;S.position.set(67,0);var M=new r.TextBox(22,4999235,"bold");M.position.set(95,Math.floor(.5*i.height)),M.anchor.set(0,.5);var A=new PIXI.Graphics;A.beginFill(16777215,1),A.drawRect(92,0,229,44),A.endFill(),M.mask=A;var E=new PIXI.Sprite;E.position.set(294,0),E.scale.y=.96;var j=new m({on:72,off:73}),N=new m({on:74,off:75}),L=new m({on:76,off:77}),B=new m({on:78,off:79});j.y=N.y=L.y=B.y=1,j.x=337,L.x=j.x+j.width+2,N.x=L.x+L.width+2,B.x=N.x+N.width+2;var R=new y({on:82,off:83}),D=new y({on:84,off:85}),U=new y({on:86,off:87}),X=new y({on:88,off:89});R.position.set(431.5,9),D.position.set(446,9.5),U.position.set(429.5,23),X.position.set(447,23.5),h.position.set(645,.5*i.height),h.anchor.set(1,.5),p.style.fill=3768020,p.style.fontSize=20,p.position.set(478,Math.floor(.5*i.height)-.5),p.anchor.set(1,.5),f.position.set(p.position.x,Math.floor(.5*i.height)),f.anchor.set(0,.5);var F=new b;return F.position.set(524,7),e.addChild(i),e.addChild(n),e.addChild(I),e.addChild(T,O,C),e.addChild(P,M,A,E,h,p,f,w),e.addChild(S,k),e.addChild(j,N,L,B),e.addChild(R,D,U,X),e.addChild(x),e.addChild(F),e.addChild(a),e._textDispNo=P,e._textTime=h,e._textName=M,e._textNameGradMask=E,e._textDeckNumText=f,e._hitArea=a,e._focus=I,e._textDeckNum=p,e._exampleFleetShadow=x,e._difficulty=k,e._iconDamage=w,e._expeditionStateIcon=F,e._iconDeck=C,e._iconClear=T,e._iconNew=O,e._difficultyBG=S,e._fuel=j,e._steel=L,e._ammo=N,e._bauxite=B,e._repairKit=R,e._devKit=D,e._buildKit=U,e._otherItem=X,e._grayOut=n,e}return n(e,t),Object.defineProperty(e.prototype,"expedition_mst_id",{get:function(){return this._expedition_mst_id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expeditionStateIcon",{get:function(){return this._expeditionStateIcon},enumerable:!0,configurable:!0}),e.prototype._focusOver=function(){this._focus.alpha=1,this._textNameGradMask.texture=o.SALLY_EXPEDITION.getTexture(93)},e.prototype._focusOut=function(){this._focus.alpha=0,this._grayOut.visible?this._textNameGradMask.texture=o.SALLY_EXPEDITION.getTexture(94):this._textNameGradMask.texture=o.SALLY_EXPEDITION.getTexture(96)},e.prototype.updateMaster=function(t,e,i,n,o,r,s,a,_,l,u,c,h,d,f,y,m){this._fuel.update(_),this._ammo.update(l),this._steel.update(u),this._bauxite.update(c),this._repairKit.update(d),this._buildKit.update(h),this._devKit.update(f),this._otherItem.update(y),this._exampleFleetShadow.update(s),this._difficulty.update(n),this._textDeckNumText.text=6==a?"\u96bb\u9060\u5f81":"\u96bb\u4ee5\u4e0a",this._iconDamage.visible=!1,0<r&&(this._iconDamage.visible=!0),this._textDispNo.text=e,this._textTime.text=p.minuteToFormatHHMM(o),this._textName.text=i,this._textDeckNum.text=""+a,this._iconDamage.position.x=this._textName.position.x+this._textName.width-12,this._monthly=m,this._expedition_mst_id=t},e.prototype.updateMember=function(t,e,i,n){this._expeditionStateIcon.update(h.ExpeditionState.NONE),this._expeditionStateIcon.visible=!1,this._iconDeck.visible=!1,this._iconNew.visible=!1,this._iconClear.visible=!1,this._grayOut.visible=!1,this._textNameGradMask.texture=o.SALLY_EXPEDITION.getTexture(96),e?(this._iconDeck.update([e,0]),this._expeditionStateIcon.update(h.ExpeditionState.EXPEDITION),this._expeditionStateIcon.visible=!0,this._iconDeck.visible=!0):2==t?(this._monthly&&(this._expeditionStateIcon.update(h.ExpeditionState.COMPLETE_MONTHLY),this._expeditionStateIcon.visible=!0,this._grayOut.visible=!0,this._textNameGradMask.texture=o.SALLY_EXPEDITION.getTexture(94)),this._iconClear.visible=!0):(0==t&&(this._iconNew.visible=!0),this._monthly&&n&&(this._expeditionStateIcon.update(h.ExpeditionState.TIME_OVER_MONTHLY),this._expeditionStateIcon.visible=!0,this._grayOut.visible=!0,this._textNameGradMask.texture=o.SALLY_EXPEDITION.getTexture(94))),null!=i&&this._difficultyBG.update(i)},e.prototype.dispose=function(){this.removeChildren(),this._hitArea.removeAllListeners(_.EventType.CLICK),this._hitArea.removeAllListeners(_.EventType.MOUSEOVER),this._hitArea.removeAllListeners(_.EventType.MOUSEOUT),this._focus.texture=PIXI.Texture.EMPTY,this._difficulty.dispose(),this._iconDamage.texture=PIXI.Texture.EMPTY,this._iconDeck.dispose(),this._iconClear.texture=PIXI.Texture.EMPTY,this._iconNew.texture=PIXI.Texture.EMPTY,this._fuel.dispose(),this._steel.dispose(),this._ammo.dispose(),this._bauxite.dispose(),this._repairKit.dispose(),this._devKit.dispose(),this._buildKit.dispose(),this._otherItem.dispose(),this._exampleFleetShadow.dispose(),this._grayOut.texture=PIXI.Texture.EMPTY,this.onClick=null,this._textTime=null,this._textName=null,this._textDeckNum=null,this._textDeckNumText=null,this._textNameGradMask=null,this._textDispNo=null,this._hitArea=null,this._focus=null,this._difficulty=null,this._iconDamage=null,this._expeditionStateIcon=null,this._iconDeck=null,this._iconClear=null,this._iconNew=null,this._fuel=null,this._steel=null,this._ammo=null,this._bauxite=null,this._repairKit=null,this._devKit=null,this._buildKit=null,this._otherItem=null,this._exampleFleetShadow=null,this._grayOut=null,this._onClick=null,this._onOver=null,this._onOut=null},e.prototype.genEntryDeckAnimation=function(t){var e=this;return a.$_$.Sequence(function(){return a.$_$.Call(function(){e._iconDeck.update([t,0]),e._iconDeck.alpha=0,e._iconDeck.scale.set(1.5,1.5),e._iconDeck.visible=!0,e._iconClear.visible=!1,e._iconNew.visible=!1})},function(){return a.$_$.Parallel(function(){return a.$_$.Value(e._iconDeck,{alpha:1},400)},function(){return a.$_$.Value(e._iconDeck.scale,{x:.75,y:.75},400)})},function(){return a.$_$.Delay(100)},function(){return a.$_$.Call(function(){var t=[1,0,0,.5,0,1,0,.5,0,0,1,.5,0,0,0,1],i=new PIXI.filters.ColorMatrixFilter;i.matrix=t,e._iconDeck.filters=[i]})},function(){return a.$_$.Delay(100)},function(){return a.$_$.Call(function(){e._iconDeck.filters=null})})},e}(PIXI.Container);e.ExpeditionListItem=f;var y=function(t){function e(e){var i=t.call(this)||this,n=new PIXI.Sprite(o.SALLY_EXPEDITION.getTexture(e.on)),r=new PIXI.Sprite(o.SALLY_EXPEDITION.getTexture(e.off));return r.anchor.set(.5,.5),n.anchor.set(.5,.5),i.addChild(r,n),i._iconOn=n,i}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._iconOn.texture=PIXI.Texture.EMPTY,this._iconOn=null},e.prototype.update=function(t){this._iconOn.visible=!1,t&&(this._iconOn.visible=!0)},e}(PIXI.Container),m=function(t){function e(e){var i=t.call(this)||this,n=new PIXI.Sprite(o.SALLY_EXPEDITION.getTexture(116));n.anchor.set(.5,0);var r=new PIXI.Sprite(o.SALLY_EXPEDITION.getTexture(e.on));r.anchor.set(.5,.5),r.scale.set(.8,.8);var s=new PIXI.Sprite(o.SALLY_EXPEDITION.getTexture(e.off));s.anchor.set(.5,.5),s.scale.set(.8,.8),s.position.y=r.position.y=16;var a=new PIXI.Sprite(o.SALLY_EXPEDITION.getTexture(66));a.x=.5*-a.width,a.y=26;for(var _=a.x,l=new Array,u=0;u<4;u++){var c=new PIXI.Sprite(o.SALLY_EXPEDITION.getTexture(65));c.position.x=_,c.position.y=a.y,l.push(c),_=c.position.x+c.width+1}return i.addChild(n),i.addChild(s),i.addChild(r),i.addChild(a),l.forEach(function(t){i.addChild(t)}),i._dots=l,i._iconOn=r,i._triangle=n,i}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._dots.forEach(function(t){return t.texture=PIXI.Texture.EMPTY}),this._iconOn.texture=PIXI.Texture.EMPTY,this._triangle.texture=PIXI.Texture.EMPTY,this._dots=null,this._iconOn=null,this._triangle=null},e.prototype.update=function(t){this._iconOn.visible=!1,this._triangle.visible=!1,0<t&&(this._iconOn.visible=!0,this._triangle.visible=!0);for(var e=0;e<this._dots.length;e++){var i=this._dots[e];i.visible=!1,e<t&&(i.visible=!0)}},e}(PIXI.Container),g=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite;return i.anchor.set(.5,.5),e.addChild(i),e._textDiff=i,e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._textDiff.texture=PIXI.Texture.EMPTY,this._textDiff=null},e.prototype.update=function(t){var e=this._difficultyToResourceID(t);this._textDiff.texture=o.SALLY_EXPEDITION.getTexture(e),this._textDiff.position.set(0,0),35==e&&this._textDiff.position.set(2,0)},e.prototype._difficultyToResourceID=function(t){switch(t){case 0:throw new Error("UNSUPPORT VALUE");case 1:return 33;case 2:return 32;case 3:return 31;case 4:return 30;case 5:return 29;case 6:case 7:case 8:return 34}if(9<=t)return 35},e}(PIXI.Container),v=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite;return e.addChild(i),e._bg=i,e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._bg.texture=PIXI.Texture.EMPTY,this._bg=null},e.prototype.update=function(t){switch(this._bg.y=0,this._bg.texture=PIXI.Texture.EMPTY,t){case h.ListType.HEADER:this._bg.texture=o.SALLY_EXPEDITION.getTexture(16),this._bg.y=-9;break;case h.ListType.CENTER:this._bg.texture=o.SALLY_EXPEDITION.getTexture(15),this._bg.y=-2;break;case h.ListType.FOOTER:this._bg.texture=o.SALLY_EXPEDITION.getTexture(17),this._bg.y=-1}},e}(PIXI.Container),b=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite;return e.addChild(i),e._image=i,e._viewState=h.ExpeditionState.NONE,e}return n(e,t),Object.defineProperty(e.prototype,"viewState",{get:function(){return this._viewState},enumerable:!0,configurable:!0}),e.prototype.update=function(t){switch(this._image.texture=PIXI.Texture.EMPTY,this._viewState=t,t){case h.ExpeditionState.EXPEDITION:this._image.texture=o.SALLY_EXPEDITION.getTexture(118);break;case h.ExpeditionState.COMPLETE_MONTHLY:this._image.texture=o.SALLY_EXPEDITION.getTexture(117);break;case h.ExpeditionState.TIME_OVER_MONTHLY:this._image.texture=o.SALLY_EXPEDITION.getTexture(119);break;default:this._viewState=h.ExpeditionState.NONE}},e}(PIXI.Container)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("battle_zrk_"+t)}t.getTexture=e}(e.BATTLE_ZRK||(e.BATTLE_ZRK={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(41),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i._activated=!1,i._selected=!1,i._onMouseOver=function(){i._update(!0)},i._onMouseOut=function(){i._update(!1)},i._onClick=function(){null!=i.onClick&&i.onClick(i._area_id)},i._area_id=e,i._light=new PIXI.Sprite,i.addChild(i._light),i}return n(e,t),Object.defineProperty(e.prototype,"area_id",{get:function(){return this._area_id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected=t,1==this._selected?this.deactivate():this.activate(),this._update(!1)},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.texture=o.SALLY_EVENT.getTexture(2),this._light.texture=o.SALLY_EVENT.getTexture(3),this._update(!1)},e.prototype.activate=function(){1!=this._activated&&(this._activated=!0,this.interactive=this.buttonMode=!0,this.on(r.EventType.MOUSEOVER,this._onMouseOver),this.on(r.EventType.MOUSEOUT,this._onMouseOut),this.on(r.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this._activated=!1,this.interactive=this.buttonMode=!1,this.off(r.EventType.MOUSEOVER,this._onMouseOver),this.off(r.EventType.MOUSEOUT,this._onMouseOut),this.off(r.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this._stopTween(),this.deactivate(),this.onClick=null},e.prototype._update=function(t){this.selected||t?(this._light.visible=!0,this._stopTween()):this._startTween()},e.prototype._startTween=function(){null==this._t&&(this._light.alpha=1,this._t=createjs.Tween.get(this._light,{loop:!0}).to({alpha:0},700).to({alpha:1},700))},e.prototype._stopTween=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Sprite);e.ExpeditionEventAreaIconBtn=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(361),r=i(1047),s=function(t){function e(e){var i=t.call(this,e)||this;return i._panel=new r.PanelDeckSelect(i._onGo),i._panel.position.set(1200,102),i.addChild(i._panel),i}return n(e,t),Object.defineProperty(e.prototype,"panel",{get:function(){return this._panel},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e,i){this._panel.initialize(t,e,i)},e.prototype.activate=function(){t.prototype.activate.call(this),this._panel.activate()},e.prototype.deactivate=function(){t.prototype.deactivate.call(this),this._panel.deactivate()},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._panel.dispose()},e}(o.ContainerDeckSelectBase);e.ContainerDeckSelect=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(111),s=i(10),a=i(30),_=i(58),l=i(229),u=i(230),c=i(362),h=i(366),p=i(368),d=i(364),f=i(1048),y=i(365),m=i(1049),g=i(1050),v=i(1051),b=function(t){function e(e){var i=t.call(this)||this;i._onDeckChange=function(t){i._update(t)},i._onGo=function(){null!=i._cb_onGo&&i._cb_onGo(i._selected_id,i._deck_id)},i._onClickTempSupply=function(){var t=o.default.model.deck.get(i._deck_id).getShipList();new d.TaskTemporarySupply(t,i._rader,function(){i._update(i._deck_id)}).start()},i._cb_onGo=e,i._banners=new c.PanelDeckSelectBanners,i._banners.position.set(30,94),i._decks=new u.CompDeckBtns(i._onDeckChange),i._decks.position.set(30,54),i._rader=new h.RaderCanvas,i._rader.position.set(487,292),i._arrow=new l.CompArrow2,i._arrow.position.set(567,537),i._alert=new y.AlertBalloon,i._alert.anchor.set(1,.5),i._alert.position.set(298,565),i._btn=new m.BtnGo(i._onGo),i._btn.position.set(301,538),i._drum_counts=[];for(var n=0;n<6;n++){var r=new g.CompDrumCount;r.position.set(33,136+75*n),i._drum_counts.push(r)}i._support_boats=[];for(var n=0;n<6;n++){var s=new v.CompSupportBoatCount;s.position.set(55,145+75*n),i._support_boats.push(s)}return i._flagship_flag=new PIXI.Sprite,i._flagship_flag.position.set(31,87),i._temp_supply_btn=new p.TempSupplyBtn,i._temp_supply_btn.position.set(210,528),i._checker=new f.ExpeditionCondition,i.interactive=!0,i._expired_flag=!1,i}return n(e,t),e.prototype.initialize=function(t,e,i){this._selected_id=t;var n=new PIXI.Sprite(a.SALLY_COMMON.getTexture(27));n.position.set(-7,36),this.addChild(n);var l=new PIXI.Sprite(a.SALLY_COMMON.getTexture(51));l.position.set(0,0),this.addChild(l);var u=new PIXI.Sprite(a.SALLY_COMMON.getTexture(15));if(u.position.set(24,10),this.addChild(u),this.addChild(this._banners),this._decks.initialize(e),this.addChild(this._decks),this._rader.initialize(),this.addChild(this._rader),this._arrow.initialize(),this.addChild(this._arrow),this._alert.initialize(),this.addChild(this._alert),o.default.model.deck.exist3rdUnit){var c=new PIXI.Sprite(s.COMMON_MISC.getTexture(185));c.position.set(108,33),this.addChild(c)}1==i&&(this._deck_combined_frame=new r.CombinedView,this._deck_combined_frame.position.set(22,44),this.addChild(this._deck_combined_frame)),this._btn.initialize(),this.addChild(this._btn);for(var h=0,p=this._drum_counts;h<p.length;h++){var d=p[h];d.initialize(),this.addChild(d)}for(var f=0,y=this._support_boats;f<y.length;f++){var m=y[f];m.initialize(),this.addChild(m)}this._flagship_flag.texture=_.SALLY_EXPEDITION.getTexture(71),this.addChild(this._flagship_flag),this._temp_supply_btn.initialize(this._onClickTempSupply),this.addChild(this._temp_supply_btn),this._update(e[0])},e.prototype.activate=function(){this._decks.activate(),this._arrow.activate(),this._alert.activate(),null!=this._deck_combined_frame&&this._deck_combined_frame.activate(),this._btn.activate(),this._temp_supply_btn.activate()},e.prototype.deactivate=function(){this._decks.deactivate(),this._arrow.deactivate(),null!=this._deck_combined_frame&&this._deck_combined_frame.deactivate(),this._btn.deactivate(),this._temp_supply_btn.deactivate()},e.prototype.dispose=function(){this._banners.dispose(),this._decks.dispose(),this._rader.dispose(),this._arrow.dispose(),null!=this._deck_combined_frame&&this._deck_combined_frame.dispose(),this._btn.dispose(),this._temp_supply_btn.dispose(),this._checker=null},e.prototype.expiredUpdate=function(t){this._expired_flag=t,this._update(this._deck_id)},e.prototype._update=function(t){this._deck_id=t;for(var e=o.default.model.deck.get(t),i=e.getShipListAll(),n=this._checker.check(this._selected_id,e,this._expired_flag),r=!0,s=0;s<i.length;s++){var a=i[s];null!=a&&1==r&&(a.fuelNow<a.fuelMax||a.ammoNow<a.ammoMax)&&(r=!1)}this._decks.setSelected(t),this._rader.update(i),this._arrow.enabled=n.result,this._arrow.update(r),this._arrow.activate(),this._alert.update(n.reason),this._btn.enabled=n.result;for(var _=e.getShipList(),s=0;s<_.length;s++){var a=_[s];this._drum_counts[s].update(a),this._support_boats[s].update(a)}if(this._flagship_flag.visible=null!=_[0],0==o.default.model.basic.getExtraSupplyExpedition())this._temp_supply_btn.visible=!1;else if(r)this._temp_supply_btn.visible=!1;else if(0!=n.reason&&2!=n.reason&&14!=n.reason)this._temp_supply_btn.visible=!1;else{for(var l=0,u=0,s=0;s<_.length;s++){var a=_[s];null!=a&&(l+=a.getFuelForSupply(),u+=a.getAmmoForSupply())}var c=o.default.model.useItem.getCount(31),h=o.default.model.useItem.getCount(32),p=l>0&&l<=c,d=u>0&&u<=h;this._temp_supply_btn.enabled=0!=p||0!=d,this._temp_supply_btn.visible=!0}this._banners.update(_)},e}(PIXI.Container);e.PanelDeckSelect=b},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(){}return t.prototype.check=function(t,e,i){void 0===i&&(i=!1);var o=n.default.model.expedition.get(t);if(null==o||null==e)return{result:!1,reason:0};var r=e.getCount();if(0==r)return{result:!1,reason:31};if(r>6)return{result:!1,reason:36};if(e.isCombined_Main()||e.isCombined_Sub())return{result:!1,reason:22};if(1==o.reset_type){var s=n.default.model.expedition.getLimitTime(1),a=Date.now()+60*o.time*1e3;if(1==i||a>1e3*s)return{result:!1,reason:50}}var _=e.getShipList(),l=o.isSupport();if(l){for(var u=0,c=0,h=_;c<h.length;c++){var p=h[c];null!=p&&(2==p.shipTypeID&&u++)}if(u<2)return{result:!1,reason:13}}if(null!=e.expedition)return{result:!1,reason:30};for(var d=n.default.model.ndock.getShipMemIDs(),f=!1,y=!1,m=!0,g=0,v=_;g<v.length;g++){var p=v[g];null!=p&&(d.indexOf(p.memID)>=0&&(f=!0),(p.fuelNow<=0||p.ammoNow<=0)&&(y=!0),(p.fuelNow<p.fuelMax||p.ammoNow<p.ammoMax)&&(m=!1))}if(f)return{result:!1,reason:1};if(l&&0==m)return{result:!1,reason:14};if(y)return{result:!1,reason:2};var b=_[0].getDamageType();return 25==b||0==b?{result:!1,reason:3}:{result:!0,reason:0}},t}();e.ExpeditionCondition=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(58),r=i(369),s=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype._updateTexture=function(){0==this._enabled?this._btn.texture=o.SALLY_EXPEDITION.getTexture(23):1==this._overed?this._btn.texture=o.SALLY_EXPEDITION.getTexture(24):this._btn.texture=o.SALLY_EXPEDITION.getTexture(22)},e}(r.BtnGoBase);e.BtnGo=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(150),r=i(58),s=function(t){function e(){var e=t.call(this)||this;e._drums=[];for(var i=0;i<4;i++){var n=new PIXI.Sprite;n.x=[0,-19,0,-19][i],n.y=[0,0,-27,-27][i],n.visible=!1,e._drums.push(n),e.addChild(n)}return e}return n(e,t),e.prototype.initialize=function(){this.update(0);for(var t=0,e=this._drums;t<e.length;t++){e[t].texture=r.SALLY_EXPEDITION.getTexture(68)}},e.prototype.update=function(t){t instanceof o.ShipModel?this._updateFromShipModel(t):this._update(t)},e.prototype._updateFromShipModel=function(t){for(var e=0,i=t.getSlotitems(),n=0,o=i;n<o.length;n++){var r=o[n];null!=r&&(75==r.mstID&&e++)}var s=t.getSlotitemEx();null!=s&&75==s.mstID&&e++,this._update(e)},e.prototype._update=function(t){for(var e=0;e<this._drums.length;e++)this._drums[e].visible=e<t},e}(PIXI.Container);e.CompDrumCount=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(58),r=function(t){function e(){var e=t.call(this)||this;e._icons=[];for(var i=0;i<4;i++){var n=new PIXI.Sprite;n.x=[0,0,49,49][i],n.y=[0,-15,0,-15][i],e.addChild(n),e._icons.push(n)}return e}return n(e,t),e.prototype.initialize=function(){for(var t=0;t<this._icons.length;t++){this._icons[t].visible=!1}},e.prototype.update=function(t){var e=[];if(null!=t){var i=t.getSlotitems();i=i.concat(t.getSlotitemEx());for(var n=0,o=i;n<o.length;n++){var r=o[n];if(null!=r){var s=r.equipType;if(24==s){355!=r.mstID&&e.push(r)}else 46==s&&e.push(r)}}}this._update(e)},e.prototype._update=function(t){for(var e=0;e<this._icons.length;e++){var i=this._icons[e];if(e>=t.length)i.visible=!1;else{var n=t[e].equipType;24==n?i.texture=o.SALLY_EXPEDITION.getTexture(64):46==n&&(i.texture=o.SALLY_EXPEDITION.getTexture(80)),i.visible=!0}}},e}(PIXI.Container);e.CompSupportBoatCount=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(11),s=i(15),a=function(t){function e(e,i,n){void 0===n&&(n=!1);var o=t.call(this)||this;return o._url="api_req_mission/start",o._expedition_id=e,o._deck_id=i,o._debug=n,o._expiredFlag=!1,o}return n(e,t),Object.defineProperty(e.prototype,"expiredFlag",{get:function(){return this._expiredFlag},enumerable:!0,configurable:!0}),e.prototype._connect=function(){this._post_data.api_mission_id=this._expedition_id,this._post_data.api_deck_id=this._deck_id,this._post_data.api_mission=Math.round(100*Math.random()),this._post_data.api_serial_cid=o.default.model.expedition.getserialID(),t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._expiredFlag=s.ObjUtil.getBoolean(this._raw_data,"api_expired_flag"),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.ExpeditionStartAPI=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(17),a=i(58),_=i(1054),l=i(1),u=function(t){function e(e){var i=t.call(this)||this;return i._showDialog=function(){i._dialog=new c,i._dialog.alpha=0,i._dialog.initialize(),o.default.view.overLayer.addChild(i._dialog),createjs.Tween.get(i._dialog).to({alpha:1},150).call(i._waitClick)},i._waitClick=function(){i._dialog.btn_y.interactive=i._dialog.btn_y.buttonMode=!0,i._dialog.btn_y.once(l.EventType.CLICK,i._onClickYes),i._dialog.btn_n.interactive=i._dialog.btn_n.buttonMode=!0,i._dialog.btn_n.once(l.EventType.CLICK,i._onClickNo)},i._onClickYes=function(){i._deactivate(),new _.ExpeditionCancelAPI(i._deck_id).start(i._hideDialog)},i._onClickNo=function(){i._deactivate(),i._hideDialog()},i._hideDialog=function(){createjs.Tween.get(i._dialog).to({alpha:0},150).call(function(){i._dialog.parent.removeChild(i._dialog),i._fade.hide(100,function(){i._fade.parent.removeChild(i._fade),i._endTask()})})},i._deck_id=e,i}return n(e,t),e.prototype._start=function(){this._fade=new s.FadeBox(.6),this._fade.hide(),o.default.view.overLayer.addChild(this._fade),this._fade.show(100,this._showDialog)},e.prototype._deactivate=function(){this._dialog.btn_y.interactive=this._dialog.btn_y.buttonMode=!1,this._dialog.btn_y.off(l.EventType.CLICK,this._onClickYes),this._dialog.btn_n.interactive=this._dialog.btn_n.buttonMode=!1,this._dialog.btn_n.off(l.EventType.CLICK,this._onClickNo)},e.prototype._endTask=function(e){void 0===e&&(e=!1),this._fade=null,this._dialog=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.CancelExpeditionTask=u;var c=function(t){function e(){var e=t.call(this)||this;return e._activated=!1,e}return n(e,t),Object.defineProperty(e.prototype,"btn_y",{get:function(){return this._btn_y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_n",{get:function(){return this._btn_n},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){var t=new PIXI.Sprite(a.SALLY_EXPEDITION.getTexture(105));this._btn_y=new PIXI.Sprite(a.SALLY_EXPEDITION.getTexture(21)),this._btn_n=new PIXI.Sprite(a.SALLY_EXPEDITION.getTexture(20)),t.position.set(219,207),this._btn_y.position.set(375,411),this._btn_n.position.set(645,411),this.addChild(t),this.addChild(this._btn_y),this.addChild(this._btn_n)},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=i(7),a=function(t){function e(e,i){void 0===i&&(i=!1);var n=t.call(this)||this;return n._url="api_req_mission/return_instruction",n._deck_id=e,n._debug=i,n}return n(e,t),e.prototype._connect=function(){this._post_data.api_deck_id=this._deck_id,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e=o.default.model.deck.get(this._deck_id).expedition,i=s.ObjUtil.getNumArray(this._raw_data,"api_mission");null==i||e.__update__(i),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.ExpeditionCancelAPI=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(11),s=i(1056),a=i(1058),_=i(1059),l=i(1066),u=i(1069),c=i(1070),h=function(t){function e(){var e=t.call(this)||this;return e._dispose=function(){null!=e._viewTop&&(e.removeChild(e._viewTop),e._viewTop.dispose(),e._viewTop=null,e._viewInfo.dispose(),e._viewInfo=null,e._viewRanking.dispose(),e._viewRanking=null),null!=e._topTask&&e._topTask.cancel(),null!=e._viewSub&&(e.removeChild(e._viewSub),e._viewSub.dispose(),e._viewSub=null)},e}return n(e,t),Object.defineProperty(e.prototype,"viewTop",{get:function(){return this._viewTop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewInfo",{get:function(){return this._viewInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewRanking",{get:function(){return this._viewRanking},enumerable:!0,configurable:!0}),e.prototype.getPreInitializeTask=function(t){return new s.PreInitializeTask(this)},e.prototype.getInitializeTask=function(t){return new s.InitializeTask(this)},e.prototype.getPreFinalizeTask=function(){return new a.PreFinalizeTask(this)},e.prototype.getFinalizeTask=function(){return new a.FinalizeTask(this._dispose)},e.prototype.initialize=function(){this._viewTop=new l.ViewTop,this._viewTop.initialize(),this.addChild(this._viewTop),this._viewInfo=new u.ViewInfo,this._viewInfo.initialize(),this.addChild(this._viewInfo),this._viewRanking=new c.ViewRanking,this._viewRanking.initialize(),this._viewRanking.visible=!1,this.addChild(this._viewRanking)},e.prototype.startTopTask=function(){var t=this,e=o.default.model.deck.get(1).getShipList()[0].mstID;o.default.sound.voice.play(e.toString(),8),this._topTask=new _.TaskTop(this),this._topTask.start(function(){t._topTask=null})},e}(r.SceneBase);e.RecordScene=h},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(11),s=i(1057),a=i(15),_=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){this._loadResources()},e.prototype._loadResources=function(){var t=this;(new s.TaskLoadResources).start(function(){t._showTopView()})},e.prototype._showTopView=function(){this._scene.initialize(),this._scene.startTopTask(),this._scene=null,this._endTask()},e}(r.TaskBase);e.PreInitializeTask=_;var l=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){this._playBGM(),a.EditTextBoxUtil.setVisibility(!0)},e.prototype._playBGM=function(){o.default.sound.bgm.play(102),this._startScene()},e.prototype._startScene=function(){this._endTask()},e}(r.TaskBase);e.InitializeTask=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(14),s=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype._start=function(){this._load()},e.prototype._load=function(){var t=this,e=new r.UIImageLoader("record");e.add("record_parts.json").add("record_mini.json").add("record_menu.json"),e.load(function(){t._endTask()})},e}(o.TaskBase);e.TaskLoadResources=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=i(15),s=i(14),a=function(t){function e(e){var i=t.call(this)||this;return i._view=e,i}return n(e,t),e.prototype._start=function(){this._view=null,r.EditTextBoxUtil.setVisibility(!1),this._endTask()},e}(o.TaskBase);e.PreFinalizeTask=a;var _=function(t){function e(e){var i=t.call(this)||this;return i._scene_dispose_delegate=e,i}return n(e,t),e.prototype._start=function(){null!=this._scene_dispose_delegate&&this._scene_dispose_delegate(),this._view=null,s.UIImageLoader.clearMemoryCache("record"),this._endTask()},e}(o.TaskBase);e.FinalizeTask=_},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(1060))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o,r=i(11),s=i(0),a=i(18),_=i(3),l=i(380),u=i(236),c=i(381),h=i(1063),p=i(382),d=i(1064),f=i(1065),y=i(18),m=i(15),g=i(159),v=i(1);!function(t){t[t.MODE_INFO=0]="MODE_INFO",t[t.MODE_RANKING=1]="MODE_RANKING"}(o||(o={}));var b=function(t){function e(e){var i=t.call(this)||this;i._selected=null,i._recordRankingModel=new Array(101),i._onKeyDown=function(){var t=m.EditTextBoxUtil.text;i._validation=m.EditTextBoxUtil.validation(t,i._nowComment),i._keydownInput()},i._updateComment=function(){if(i._nowComment!=m.EditTextBoxUtil.text&&0!=i._validation){var t=m.EditTextBoxUtil.text;t=t.replace(/%/g,"\uff05"),t=t.replace(/\t/g," "),t=t.replace(/</g,"\uff1c"),t=t.replace(/>/g,"\uff1e"),t=t.replace(/&/g,"\uff06"),t=t.replace(/\"/g,""),t=t.replace(/\'/g,""),t=t.replace(/\`/g,""),i._nowComment=t,i._GadgetIP="http://"+s.default.settings.osapi_root;var e=i._GadgetIP;window.parent.postMessage(g.PostMessageType.COMMENT+"\t"+i._nowComment,e),window.addEventListener("message",i._onCallback)}},i._onCallback=function(t){if(window.removeEventListener("message",i._onCallback),t.origin!=i._GadgetIP)return void s.default.view.showError();var e=t.data;i._CommentUpdate(i._nowComment,e)},i._onClickBtnModeInfo=function(){i._topView.btn_modeInfo.interactive=i._topView.btn_modeInfo.buttonMode=!1,i._topView.btn_modeInfo.texture=l.RECORD_MENU.getTexture(4),i._topView.btn_modeRanking.interactive=i._topView.btn_modeRanking.buttonMode=!0,i._topView.btn_modeRanking.texture=l.RECORD_MENU.getTexture(1),i._viewRanking.visible=!1,i._viewInfo.visible=!0,i._topView.sideMenu_light1.texture=l.RECORD_MENU.getTexture(5),i._topView.sideMenu_light1.position.set(i._topView.btn_modeInfo.x,i._topView.btn_modeInfo.y),i._NowMode=o.MODE_INFO,-1!=i._rankingMyPage&&(i._rankingLastPage<51&&i._viewRanking.btn_Rank500.position.set(-150,-150),i._rankingNowPage=i._rankingMyPage,m.EditTextBoxUtil.setVisibility(!0)),i._keydownInput()},i._onClickBtnModeRanking=function(){i._topView.btn_modeInfo.interactive=i._topView.btn_modeInfo.buttonMode=!0,i._topView.btn_modeInfo.texture=l.RECORD_MENU.getTexture(4),i._topView.btn_modeRanking.interactive=i._topView.btn_modeRanking.buttonMode=!1,i._topView.btn_modeRanking.texture=l.RECORD_MENU.getTexture(1),i._viewRanking.visible=!0,i._viewInfo.visible=!1,i._setRankingPage(0),i._NowMode=o.MODE_RANKING,i._topView.sideMenu_light1.texture=l.RECORD_MENU.getTexture(2),i._topView.sideMenu_light1.position.set(i._topView.btn_modeRanking.x,i._topView.btn_modeRanking.y),m.EditTextBoxUtil.setVisibility(!1)},i._onClickBtnLists=function(t){switch(t){case 0:i._onClickBtnListGoMyRank();break;case 1:i._onClickBtnListGoRank1st();break;case 2:i._onClickBtnListGoRank501st();break;case 3:i._onClickBtnListGoPrev();break;case 4:i._onClickBtnListGoNext()}},i._onClickBtnListGoRank1st=function(){i._rankingMyPage>0&&1!=i._rankingNowPage&&(i._rankingNowPage=1,i._setRankingPage(i._rankingNowPage))},i._onClickBtnListGoRank501st=function(){i._rankingMyPage>0&&51!=i._rankingNowPage&&i._rankingLastPage>=51&&(i._rankingNowPage=51,i._setRankingPage(i._rankingNowPage))},i._onClickBtnListGoMyRank=function(){i._rankingMyPage>0&&i._rankingNowPage!=i._rankingMyPage&&(i._rankingNowPage=i._rankingMyPage,i._setRankingPage(i._rankingNowPage))},i._onClickBtnListGoPrev=function(){1!=i._rankingNowPage&&(i._rankingNowPage--,i._setRankingPage(i._rankingNowPage))},i._onClickBtnListGoNext=function(){i._rankingNowPage!=i._rankingLastPage&&(i._rankingNowPage++,i._setRankingPage(i._rankingNowPage))},i._onClickBtnBack=function(){i._removeEventListeners(),s.default.scene.change(0)},i._scene=e,i._topView=e.viewTop,i._viewInfo=e.viewInfo,i._viewRanking=e.viewRanking,i._tweens=new Array,i._NowMode=o.MODE_INFO,i._recordInfoModel=new c.RecordInfoModel(i._o);for(var n=0;n<101;n++)i._recordRankingModel[n]=new p.RecordRankingModel(i._o);return i._rankingNowPage=1,i._rankingLastPage=1,i._rankingMyPage=-1,m.EditTextBoxUtil.init(277,337,300,16,4473924,"font_j"),m.EditTextBoxUtil.onLengthCheck(12,i._onKeyDown),i}return n(e,t),e.prototype.cancel=function(){this._dispose()},e.prototype._dispose=function(){this._removeEventListeners(),this._scene=null,this._topView=null,this._selected=null,this._selected=null,this._NowMode=null,this._o=null,this._rankingNowPage=null,this._rankingLastPage=null,this._rankingMyPage=null;for(var t=0;t<101;t++)this._recordRankingModel[t].remove_list();this._recordRankingModel=null,this._recordInfoModel=null,m.EditTextBoxUtil.setVisibility(!1)},e.prototype._start=function(){var t=this;this._topView.btn_back.on(v.EventType.CLICK,this._onClickBtnBack),this._topView.btn_modeInfo.on(v.EventType.CLICK,this._onClickBtnModeInfo),this._topView.btn_modeRanking.on(v.EventType.CLICK,this._onClickBtnModeRanking),this._viewInfo.btn_USER_BTN_EDIT.on(v.EventType.CLICK,this._updateComment),this._viewRanking.btn_RankMy.on(v.EventType.CLICK,function(){t._onClickBtnLists(0)}),this._viewRanking.btn_RankTop.on(v.EventType.CLICK,function(){t._onClickBtnLists(1)}),this._viewRanking.btn_Rank500.on(v.EventType.CLICK,function(){t._onClickBtnLists(2)}),this._viewRanking.btn_ArrowPrev.on(v.EventType.CLICK,function(){t._onClickBtnLists(3)}),this._viewRanking.btn_ArrowNext.on(v.EventType.CLICK,function(){t._onClickBtnLists(4)}),this._setInfoPage()},e.prototype._setInfoPage=function(){var t=this;new h.RecordInfoAPI(this._recordInfoModel).start(function(){t._nowComment=t._recordInfoModel.comment,m.EditTextBoxUtil.text=t._nowComment,t._setInfoParam(),t._onClickBtnModeInfo()})},e.prototype._keydownInput=function(){this._viewInfo.btn_USER_BTN_EDIT.dispose(),this._nowComment==m.EditTextBoxUtil.text||0==this._validation?this._viewInfo.btn_USER_BTN_EDIT.initialize(32,32):this._viewInfo.btn_USER_BTN_EDIT.initialize(33,34)},e.prototype._CommentUpdate=function(t,e){var i=this;_.SE.play("246"),new f.RecordUpdateCommentAPI(t,e).start(function(){i._viewInfo.btn_USER_BTN_EDIT.dispose(),i._viewInfo.btn_USER_BTN_EDIT.initialize(32,32),-1!=i._rankingMyPage&&(i._recordRankingModel[0].isLoaded=!1,i._recordRankingModel[i._rankingMyPage].isLoaded=!1)})},e.prototype._setInfoParam=function(){this._viewInfo.NickName.text=this._recordInfoModel.nickname,this._viewInfo.Rank.text="["+a.RANK_NAME[this._recordInfoModel.rank]+"]";var t=s.default.model.basic.port_bgm_id,e=s.default.model.mst_bgm.getMst(t).name;this._viewInfo.BGM.text="\u266a\u300c"+e+"\u300d",this._viewInfo.Level.text=this._recordInfoModel.level+"",this._viewInfo.Experiences.text=this._recordInfoModel.experience_now+(0==this._recordInfoModel.experience_next?"":"/"+this._recordInfoModel.experience_next),this._viewInfo.WarWin.text=this._recordInfoModel.warWin+"",this._viewInfo.WarLose.text=this._recordInfoModel.warLose+"",this._viewInfo.WarRate.text=100*parseFloat(this._recordInfoModel.warRate)+"%",this._viewInfo.MissionCount.text=this._recordInfoModel.missionCount+"",this._viewInfo.MissionSuccess.text=this._recordInfoModel.missionSuccess+"",this._viewInfo.MissionRate.text=Math.round(parseFloat(this._recordInfoModel.missionRate))+"%",this._viewInfo.PracticeWin.text=this._recordInfoModel.practiceWin+"",this._viewInfo.PracticeLose.text=this._recordInfoModel.practiceLose+"",this._viewInfo.PracticeRate.text=Math.round(parseFloat(this._recordInfoModel.practiceRate))+"%",this._viewInfo.DeckNum.text=this._recordInfoModel.deckNum+"",this._viewInfo.ArsenalDockNum.text=this._recordInfoModel.kDockNum+"",this._viewInfo.RepairDockNum.text=this._recordInfoModel.nDockNum+"",this._viewInfo.ShipNum.text=this._recordInfoModel.shipNum+"",this._viewInfo.ShipMax.text=this._recordInfoModel.shipMax+"",this._viewInfo.SlotItemNum.text=this._recordInfoModel.slotitemNum+"",this._viewInfo.ShipMaxRemain.text="+"+(s.default.model.const.boko_max_ships-this._recordInfoModel.shipMax),this._viewInfo.SlotItemMax.text=this._recordInfoModel.slotitemMax+3+"",this._viewInfo.FurnitureNum.text=this._recordInfoModel.furnitureNum+"",this._viewInfo.DeckMax.text="4",this._viewInfo.MaterialMax.text=this._recordInfoModel.materialMax+"",this._viewInfo.DutyExecCount.text=s.default.model.basic.getDutyExecutableCount()+"",this._viewInfo.RevKitCount.text=s.default.model.useItem.getMaterialCounts().revKit+"",this._viewInfo.Level.text=s.default.model.basic.level+"",s.default.model.basic.medal_num>=2?this._viewInfo.Medal_Kou_Num.text=s.default.model.basic.medal_num+"":this._viewInfo.Medal_Kou_Num.text=""},e.prototype._setRankingPage=function(t){var e=this;if(100==t&&(t=0),this._recordRankingModel[t].isLoaded)this.__drawRanking(t);else{new d.RecordRankingAPI(this._recordRankingModel,t).start(function(){e.__drawRanking(t),0==t&&(e._recordRankingModel[t].dispPage<=e._recordRankingModel[t].pageCount?(e._rankingNowPage=e._recordRankingModel[t].dispPage,e._rankingLastPage=e._recordRankingModel[t].pageCount,e._rankingMyPage=e._rankingNowPage):(e._rankingNowPage=100,e._rankingLastPage=e._recordRankingModel[t].pageCount,e._rankingMyPage=100),e._rankingLastPage<51&&e._viewRanking.btn_Rank500.position.set(-150,-150),e._pageBtnEnalechk())})}},e.prototype._getPortSeed=function(t){var e=y.PORT_API_SEED[t%10];return(e-e%100)/100},e.prototype.__drawRanking=function(t){for(var e=0;e<10;e++)if(this._recordRankingModel[t].list[e].isLoaded){var i=[8931,1201,1156,5061,4569,4732,3779,4568,5695,4619,4912,5669,6586],n=i[this._recordRankingModel[t].list[e].rank%13];this._viewRanking.textN_Rank[e].text=this._recordRankingModel[t].list[e].rank+"",this._viewRanking.textJ_Name[e].text=this._recordRankingModel[t].list[e].nickname,this._recordRankingModel[t].list[e].classrank<=2?this._viewRanking.obj_flag[e].texture=u.RECORD_PARTS.getTexture(15):this._recordRankingModel[t].list[e].classrank<=6?this._viewRanking.obj_flag[e].texture=u.RECORD_PARTS.getTexture(16):this._viewRanking.obj_flag[e].texture=u.RECORD_PARTS.getTexture(14),this._viewRanking.obj_flag[e].visible=!0,this._viewRanking.textJ_RankName[e].text=a.RANK_NAME[this._recordRankingModel[t].list[e].classrank]+"",this._viewRanking.obj_balloon[e].visible=!0,this._viewRanking.textJ_Comment[e].text=this._recordRankingModel[t].list[e].comment;var o=this._recordRankingModel[t].list[e].medals;o=o/(n+1853)-157,o<1?(this._viewRanking.obj_medal[e].position.set(-150,231+45*e),this._viewRanking.obj_medal[e].visible=!1):(this._viewRanking.obj_medal[e].position.set(1021,231+45*e),this._viewRanking.obj_medal[e].visible=!0),this._viewRanking.textN_Medal[e].text=o<2?"":o+"",this._viewRanking.obj_medal[e].scale.set(1,1);var r=this._recordRankingModel[t].list[e].score[0],_=this._getPortSeed(s.default.model.basic.member_id);r=r/n/_-91,this._viewRanking.textN_Score[e].text=r+""}else this._viewRanking.textN_Rank[e].text="",this._viewRanking.textJ_Name[e].text="",this._viewRanking.obj_flag[e].visible=!1,this._viewRanking.textJ_RankName[e].text="",this._viewRanking.obj_balloon[e].visible=!1,this._viewRanking.textJ_Comment[e].text="",this._viewRanking.obj_medal[e].visible=!1,this._viewRanking.textN_Medal[e].text="",this._viewRanking.textN_Score[e].text="";this._pageBtnEnalechk()},e.prototype._pageBtnEnalechk=function(){var t=!0,e=!0;100==this._rankingNowPage&&(t=!1,e=!1),1==this._rankingNowPage&&(t=!1),this._rankingNowPage==this._rankingLastPage&&(e=!1),this._viewRanking.btn_ArrowPrev.interactive=this._viewRanking.btn_ArrowPrev.buttonMode=t,this._viewRanking.btn_ArrowPrev.visible=t,this._viewRanking.btn_ArrowNext.interactive=this._viewRanking.btn_ArrowNext.buttonMode=e,this._viewRanking.btn_ArrowNext.visible=e},e.prototype._removeEventListeners=function(){var t=this;m.EditTextBoxUtil.onEventDestroy(),this._topView.btn_back.off(v.EventType.CLICK,this._onClickBtnBack),this._topView.btn_modeInfo.off(v.EventType.CLICK,this._onClickBtnModeInfo),this._topView.btn_modeRanking.off(v.EventType.CLICK,this._onClickBtnModeRanking),this._viewInfo.btn_USER_BTN_EDIT.off(v.EventType.CLICK,this._updateComment),this._viewRanking.btn_RankMy.off(v.EventType.CLICK,function(){t._onClickBtnLists(0)}),this._viewRanking.btn_RankTop.off(v.EventType.CLICK,function(){t._onClickBtnLists(1)}),this._viewRanking.btn_Rank500.off(v.EventType.CLICK,function(){t._onClickBtnLists(2)}),this._viewRanking.btn_ArrowPrev.off(v.EventType.CLICK,function(){t._onClickBtnLists(3)}),this._viewRanking.btn_ArrowNext.off(v.EventType.CLICK,function(){t._onClickBtnLists(4)})},e.prototype._endTask=function(e){void 0===e&&(e=!1),t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskTop=b},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this._o=t}return t}();e.RecordModelBase=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(237),o=function(){function t(){}return t.prototype.addInfoData=function(t){for(var e=0,i=t;e<i.length;e++){var o=i[e];new n.RecordInfoModel(o)}},t}();e.RecordModelManager=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=function(t){function e(e){var i=t.call(this)||this;return i._url="api_get_member/record",i._recordInfoModel=e,i}return n(e,t),e.prototype._connect=function(){t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._recordInfoModel.SetAll(this._raw_data),t.prototype._completedEnd.call(this)},e}(o.APIBase);e.RecordInfoAPI=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(18),s=i(11),a=function(t){function e(e,i){var n=t.call(this)||this;return n._url="api_req_ranking/mxltvkpyuklh",n._recordRankingModels=e,n._pageNo=i,n}return n(e,t),e.prototype._connect=function(){0!=this._pageNo&&(this._post_data.api_pageno=this._pageNo),this._post_data.api_ranking=this._createKey(o.default.model.basic.member_id),t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._recordRankingModels[this._pageNo].SetAll(this._raw_data,this._pageNo),t.prototype._completedEnd.call(this)},e.prototype._getSeed=function(t){return r.PORT_API_SEED[t%10]},e.prototype._createKey=function(t){var e=this._getSeed(t),i=Math.floor(Date.now()/1e3),n=1e3*(Math.floor(9*Math.random())+1)+t%1e3,o=Math.floor(8999*Math.random())+1e3,r=Math.floor(32767*Math.random())+32768,s=Math.floor(10*Math.random()),a=Math.floor(10*Math.random()),_=Math.floor(10*Math.random()),l=parseInt(t.toString().substr(0,4)),u=(4132653+r)*(l+1e3)-i+(1875979+9*r),c=u-t,h=c*e,p=n.toString()+h.toString()+o.toString();p=s.toString()+p;var d=p.substr(0,8),f=p.substr(8);return p=d+a+f,d=p.substr(0,18),f=p.substr(18),(p=d+_+f)+r.toString()},e}(s.APIBase);e.RecordRankingAPI=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=function(t){function e(e,i){var n=t.call(this)||this;return n._url="api_req_member/updatecomment",n._comment=e,n._cmt_id=i,n}return n(e,t),e.prototype._connect=function(){this._post_data.api_cmt=this._comment,""!=this._cmt_id&&(this._post_data.api_cmt_id=this._cmt_id),t.prototype._connect.call(this)},e.prototype._completedEnd=function(){t.prototype._completedEnd.call(this)},e}(o.APIBase);e.RecordUpdateCommentAPI=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(380),r=i(31),s=i(1067),a=i(1068),_=i(1),l=function(t){function e(){var e=t.call(this)||this;return e._btn_back=new r.BackBtn,e._btn_back.position.set(0,653),e._btn_modeInfo=new u,e._btn_modeInfo.position.set(0,205),e._btn_modeRanking=new u,e._btn_modeRanking.position.set(0,261),e._isModeChanging=!1,e._disposed=!1,e}return n(e,t),Object.defineProperty(e.prototype,"btn_back",{get:function(){return this._btn_back},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_modeInfo",{get:function(){return this._btn_modeInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_modeRanking",{get:function(){return this._btn_modeRanking},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sideMenu_light1",{get:function(){return this._sideMenu_light1},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){var t=new PIXI.Sprite(o.RECORD_MENU.getTexture(0));this.addChild(t),this._btn_back.initialize(),this._btn_back.activate(),this._btn_modeInfo.initialize(4,6),this._btn_modeRanking.initialize(1,3),this._sideMenu_light1=new PIXI.Sprite(o.RECORD_MENU.getTexture(5)),this._sideMenu_light1.position.set(this._btn_modeInfo.position.x,this._btn_modeInfo.position.y),this.sideMenu_light_blink(),this._kira=new s.RecordKiraLayer,this._kira.scale.set(1,1),this._kira.position.set(132,528),this._kira.initialize(),this._medalist=new a.RecordMiniChara,this._medalist.scale.set(1,1),this._medalist.position.set(-21,433),this._medalist.initialize(),this._medalist.activate(),this.addChild(this._btn_back),this.addChild(this._btn_modeInfo),this.addChild(this._btn_modeRanking),this.addChild(this._sideMenu_light1),this.addChild(this._medalist),this.addChild(this._kira)},e.prototype.sideMenu_light_blink=function(){var t=this;this._t=createjs.Tween.get(this._sideMenu_light1).to({alpha:0},1).to({alpha:1},2500,createjs.Ease.quadOut).to({alpha:0},2499,createjs.Ease.quadIn).call(function(){t._t=null,t._disposed||t.sideMenu_light_blink()})},e.prototype.dispose=function(){this._disposed=!0,this._medalist.dispose(),this._medalist=null,this._kira.dispose(),this._kira=null,this._btn_back.dispose(),this._btn_modeInfo.dispose(),this._btn_modeRanking.dispose(),this.removeChildren()},e}(PIXI.Container);e.ViewTop=l;var u=function(t){function e(){var e=t.call(this)||this;return e._onMouseOver=function(){e._setTexture(e._texture_no_on)},e._onMouseOut=function(){e._setTexture(e._texture_no)},e}return n(e,t),e.prototype.initialize=function(t,e){this._texture_no=t,this._texture_no_on=e,this._setTexture(this._texture_no),null!=this._texture_no_on&&(this.interactive=this.buttonMode=!0,this.on(_.EventType.MOUSEOVER,this._onMouseOver),this.on(_.EventType.MOUSEOUT,this._onMouseOut))},e.prototype.dispose=function(){this.interactive=this.buttonMode=!1,this.off(_.EventType.MOUSEOVER,this._onMouseOver),this.off(_.EventType.MOUSEOUT,this._onMouseOut)},e.prototype._setTexture=function(t){this.texture=o.RECORD_MENU.getTexture(t)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(383),r=function(t){function e(){var e=t.call(this)||this;e._particle=new Array;for(var i=[0,4,16],n=[0,24,16],o=0;o<i.length;o++){var r=new s;r.position.set(i[o],n[o]),e.addChild(r),e._particle.push(r)}return e}return n(e,t),e.prototype.initialize=function(){for(var t=0,e=this._particle;t<e.length;t++){var i=e[t];i.initialize(),i.startAnim()}},e.prototype.dispose=function(){for(var t=0,e=this._particle;t<e.length;t++){e[t].stopAnim()}this._particle=null},e}(PIXI.Container);e.RecordKiraLayer=r;var s=function(t){function e(){var e=t.call(this)||this;return e.alpha=0,e}return n(e,t),e.prototype.initialize=function(){this.texture=o.RECORD_MINI.getTexture(2)},e.prototype.startAnim=function(){this._anim()},e.prototype.stopAnim=function(){null!=this._tween&&(this._tween.setPaused(!0),this._tween=null)},e.prototype._anim=function(){var t=this;this._tween=createjs.Tween.get(this).wait(1e3*Math.random()+1e3).to({alpha:1},150).to({alpha:0},150).call(function(){t._tween=null,t._anim()})},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(383),r=function(t){function e(){var e=t.call(this)||this;return e._eye_open_flag=!0,e._disposed=!1,e._onUpdate=function(){},e}return n(e,t),e.prototype.initialize=function(){this._update()},e.prototype.activate=function(){this._startWaiting()},e.prototype.deactivate=function(){this._stopWaiting()},e.prototype.dispose=function(){this._disposed=!0,this._t.setPaused(!0),this._t=null,this.deactivate()},e.prototype._update=function(){1==this._eye_open_flag?this.texture=o.RECORD_MINI.getTexture(0):this.texture=o.RECORD_MINI.getTexture(1)},e.prototype._startWaiting=function(){var t=this;if(null==this._t&&!this._disposed){var e=0;e=1==this._eye_open_flag?3e3*Math.random()+1e4:200*Math.random()+100,this._t=createjs.Tween.get(null,{onChange:this._onUpdate}).wait(e).call(function(){t._eye_open_flag=!t._eye_open_flag,t._update(),t._t=null,t._startWaiting()})}},e.prototype._stopWaiting=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Sprite);e.RecordMiniChara=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=i(236),s=i(4),a=i(189),_=i(0),l=i(1),u=function(t){function e(){var e=t.call(this)||this;return e._disposed=!1,e}return n(e,t),Object.defineProperty(e.prototype,"NickName",{get:function(){return this._textJ_NickName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rank",{get:function(){return this._textJ_Rank},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BGM",{get:function(){return this._textJ_BGM},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DeckNum",{get:function(){return this._textN_DeckNum},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ArsenalDockNum",{get:function(){return this._textN_ArsenalDockNum},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"RepairDockNum",{get:function(){return this._textN_RepairDockNum},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ShipNum",{get:function(){return this._textN_ShipNum},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SlotItemNum",{get:function(){return this._textN_SlotItemNum},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FurnitureNum",{get:function(){return this._textN_FurnitureNum},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DeckMax",{get:function(){return this._textN_DeckMax},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ShipMax",{get:function(){return this._textN_ShipMax},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ShipMaxRemain",{get:function(){return this._textN_ShipMaxRemain},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SlotItemMax",{get:function(){return this._textN_SlotItemMax},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DutyExecCount",{get:function(){return this._textN_DutyExecCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MaterialMax",{get:function(){return this._textN_MaterialMax},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"RevKitCount",{get:function(){return this._textN_RevKitCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Level",{get:function(){return this._textN_Level},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Experiences",{get:function(){return this._textN_Experiences},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"WarWin",{get:function(){return this._textN_WarWin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"WarLose",{get:function(){return this._textN_WarLose},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"WarRate",{get:function(){return this._textN_WarRate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MissionCount",{get:function(){return this._textN_MissionCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MissionSuccess",{get:function(){return this._textN_MissionSuccess},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MissionRate",{get:function(){return this._textN_MissionRate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PracticeWin",{get:function(){return this._textN_PracticeWin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PracticeLose",{get:function(){return this._textN_PracticeLose},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PracticeRate",{get:function(){return this._textN_PracticeRate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Medal_Kou_Num",{get:function(){return this._textN_Medal_Kou_Num},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_USER_BTN_EDIT",{get:function(){return this._btn_USER_BTN_EDIT},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){var t=this;this._bg=new PIXI.Sprite(o.COMMON_MISC.getTexture(48)),this._bg.position.set(171,103),this._header=new PIXI.Sprite(r.RECORD_PARTS.getTexture(30)),this._header.anchor.set(1,0),this._header.position.set(1200,102),this.addChild(this._bg),this.addChild(this._header),this._obj_USER_TXT1=new PIXI.Sprite(r.RECORD_PARTS.getTexture(40)),this._obj_USER_TXT1.position.set(219,192),this.addChild(this._obj_USER_TXT1),this._obj_CLASS=new PIXI.Sprite(o.COMMON_MISC.getTexture(this._getClassTexture(_.default.model.basic.rank))),this._obj_CLASS.position.set(258,235),this.addChild(this._obj_CLASS),this._obj_USER_TXT2=new PIXI.Sprite(r.RECORD_PARTS.getTexture(41)),this._obj_USER_TXT2.position.set(360,258),this.addChild(this._obj_USER_TXT2),this._obj_USER_ICON1=new PIXI.Sprite(r.RECORD_PARTS.getTexture(18)),this._obj_USER_ICON1.position.set(360,294),this.addChild(this._obj_USER_ICON1),this._obj_USER_COMMENT=new PIXI.Sprite(r.RECORD_PARTS.getTexture(35)),this._obj_USER_COMMENT.position.set(270,334),this.addChild(this._obj_USER_COMMENT),this._obj_USER_BG=new PIXI.Sprite(r.RECORD_PARTS.getTexture(31)),this._obj_USER_BG.position.set(204,405),this.addChild(this._obj_USER_BG),_.default.model.basic.medal_num>0&&(this._obj_ICON_CLEAR_1S=new PIXI.Sprite(r.RECORD_PARTS.getTexture(19)),this._obj_ICON_CLEAR_1S.position.set(684,640),this.addChild(this._obj_ICON_CLEAR_1S)),this._obj_USER_INFO2_BG2=new PIXI.Sprite(r.RECORD_PARTS.getTexture(37)),this._obj_USER_INFO2_BG2.position.set(775,195),this.addChild(this._obj_USER_INFO2_BG2),this._obj_BROWN_S_KANTAI=new PIXI.Sprite(r.RECORD_PARTS.getTexture(2)),this._obj_BROWN_S_KANTAI.position.set(1176,199),this._obj_BROWN_S_KANTAI.anchor.set(1,0),this.addChild(this._obj_BROWN_S_KANTAI),this._obj_BROWN_S_SHISETSU1=new PIXI.Sprite(r.RECORD_PARTS.getTexture(4)),this._obj_BROWN_S_SHISETSU1.position.set(1176,226),this._obj_BROWN_S_SHISETSU1.anchor.set(1,0),this.addChild(this._obj_BROWN_S_SHISETSU1),this._obj_BROWN_S_SHISETSU2=new PIXI.Sprite(r.RECORD_PARTS.getTexture(4)),this._obj_BROWN_S_SHISETSU2.position.set(1176,253),this._obj_BROWN_S_SHISETSU2.anchor.set(1,0),this.addChild(this._obj_BROWN_S_SHISETSU2),this._obj_BROWN_S_SEKI=new PIXI.Sprite(r.RECORD_PARTS.getTexture(3)),this._obj_BROWN_S_SEKI.position.set(1176,280),this._obj_BROWN_S_SEKI.anchor.set(1,0),this.addChild(this._obj_BROWN_S_SEKI),this._obj_WorldName=new a.WorldTextImage,this._obj_WorldName.load("small"),this._obj_WorldName.anchor.set(0,0),this._obj_WorldName.texture.baseTexture.hasLoaded?this._alignMid(this._obj_WorldName,1120,372):this._obj_WorldName.texture.baseTexture.addListener("loaded",function(){t._alignMid(t._obj_WorldName,1120,372)}),this.addChild(this._obj_WorldName),this._obj_BLUE_S_SHISETSU=new PIXI.Sprite(r.RECORD_PARTS.getTexture(1)),this._obj_BLUE_S_SHISETSU.position.set(1176,415),this._obj_BLUE_S_SHISETSU.anchor.set(1,0),this.addChild(this._obj_BLUE_S_SHISETSU),this._obj_BLUE_S_SEKI=new PIXI.Sprite(r.RECORD_PARTS.getTexture(0)),this._obj_BLUE_S_SEKI.position.set(1176,442),this._obj_BLUE_S_SEKI.anchor.set(1,0),this.addChild(this._obj_BLUE_S_SEKI),this._obj_USER_TXT_SEKI=new PIXI.Sprite(r.RECORD_PARTS.getTexture(43)),this._obj_USER_TXT_SEKI.position.set(1176,469),this._obj_USER_TXT_SEKI.anchor.set(1,0),this.addChild(this._obj_USER_TXT_SEKI),this._obj_USER_INFO2_TXT=new PIXI.Sprite(r.RECORD_PARTS.getTexture(39)),this._obj_USER_INFO2_TXT.position.set(780,579),this.addChild(this._obj_USER_INFO2_TXT),this._obj_USER_INFO2_KAISYU=new PIXI.Sprite(r.RECORD_PARTS.getTexture(38)),this._obj_USER_INFO2_KAISYU.position.set(1050,579),this.addChild(this._obj_USER_INFO2_KAISYU),this._obj_JUKEBOX_BG2=new PIXI.Sprite(r.RECORD_PARTS.getTexture(22)),this._obj_JUKEBOX_BG2.position.set(774,660),this.addChild(this._obj_JUKEBOX_BG2),this._obj_USER_ILINE1=new PIXI.Sprite(r.RECORD_PARTS.getTexture(36)),this._obj_USER_ILINE1.position.set(1053,600),this.addChild(this._obj_USER_ILINE1),_.default.model.useItem.getCount(79)>0&&(this._obj_ICON_CLEAR_4S=new PIXI.Sprite(r.RECORD_PARTS.getTexture(20)),this._obj_ICON_CLEAR_4S.position.set(471,601),this.addChild(this._obj_ICON_CLEAR_4S)),_.default.model.useItem.getCount(81)+_.default.model.useItem.getCount(82)+_.default.model.useItem.getCount(83)+_.default.model.useItem.getCount(84)>0&&(this._obj_ICON_CLEAR_5S=new PIXI.Sprite(r.RECORD_PARTS.getTexture(21)),this._obj_ICON_CLEAR_5S.position.set(529,596),this.addChild(this._obj_ICON_CLEAR_5S)),this._textJ_NickName=new s.TextBox(30,4473924),this._textJ_NickName.text=_.default.model.basic.nickName,this._textJ_NickName.position.set(312,186),this.addChild(this._textJ_NickName),this._textJ_Rank=new s.TextBox(20,4473924),this._textJ_Rank.text="",this._textJ_Rank.position.set(457,252),this.addChild(this._textJ_Rank),this._textJ_BGM=new s.TextBox(18,4473924),this._textJ_BGM.text="",this._textJ_BGM.anchor.set(1,0),this._textJ_BGM.position.set(1180,663),this.addChild(this._textJ_BGM);this._textN_DeckNum=new s.TextBox(21,4473924),this._textN_DeckNum.text="",this._textN_DeckNum.anchor.set(1,0),this._textN_DeckNum.position.set(1141,195),this.addChild(this._textN_DeckNum),this._textN_ArsenalDockNum=new s.TextBox(21,4473924),this._textN_ArsenalDockNum.text="",this._textN_ArsenalDockNum.anchor.set(1,0),this._textN_ArsenalDockNum.position.set(1141,222),this.addChild(this._textN_ArsenalDockNum),this._textN_RepairDockNum=new s.TextBox(21,4473924),this._textN_RepairDockNum.text="",this._textN_RepairDockNum.anchor.set(1,0),this._textN_RepairDockNum.position.set(1141,249),this.addChild(this._textN_RepairDockNum),this._textN_ShipNum=new s.TextBox(21,4473924),this._textN_ShipNum.text="",this._textN_ShipNum.anchor.set(1,0),this._textN_ShipNum.position.set(1158,276),this.addChild(this._textN_ShipNum),this._textN_SlotItemNum=new s.TextBox(21,4473924),this._textN_SlotItemNum.text="",this._textN_SlotItemNum.anchor.set(1,0),this._textN_SlotItemNum.position.set(1179,303),this.addChild(this._textN_SlotItemNum),this._textN_FurnitureNum=new s.TextBox(21,4473924),this._textN_FurnitureNum.text="",this._textN_FurnitureNum.anchor.set(1,0),this._textN_FurnitureNum.position.set(1179,330),this.addChild(this._textN_FurnitureNum),this._textN_DeckMax=new s.TextBox(21,2334367),this._textN_DeckMax.text="",this._textN_DeckMax.anchor.set(1,0),this._textN_DeckMax.position.set(1141,411),this.addChild(this._textN_DeckMax),this._textN_ShipMax=new s.TextBox(21,2334367),this._textN_ShipMax.text="",this._textN_ShipMax.anchor.set(1,0),this._textN_ShipMax.position.set(1158,438),this.addChild(this._textN_ShipMax),this._textN_ShipMaxRemain=new s.TextBox(21,2323103),this._textN_ShipMaxRemain.text="",this._textN_ShipMaxRemain.anchor.set(1,0),this._textN_ShipMaxRemain.position.set(1158,465),this.addChild(this._textN_ShipMaxRemain),this._textN_SlotItemMax=new s.TextBox(21,2334367),this._textN_SlotItemMax.text="",this._textN_SlotItemMax.anchor.set(1,0),this._textN_SlotItemMax.position.set(1179,492),this.addChild(this._textN_SlotItemMax),this._textN_DutyExecCount=new s.TextBox(21,2334367),this._textN_DutyExecCount.text="",this._textN_DutyExecCount.anchor.set(1,0),this._textN_DutyExecCount.position.set(1179,519),this.addChild(this._textN_DutyExecCount),this._textN_MaterialMax=new s.TextBox(21,2334367),this._textN_MaterialMax.text="",this._textN_MaterialMax.anchor.set(1,0),this._textN_MaterialMax.position.set(1179,546),this.addChild(this._textN_MaterialMax),this._textN_RevKitCount=new s.TextBox(21,10324338),this._textN_RevKitCount.text="",this._textN_RevKitCount.anchor.set(1,0),this._textN_RevKitCount.position.set(1179,573),this.addChild(this._textN_RevKitCount),this._textN_Level=new s.TextBox(28,4473924),this._textN_Level.text="",this._textN_Level.position.set(393,248),this.addChild(this._textN_Level),this._textN_Experiences=new s.TextBox(24,4473924),this._textN_Experiences.text="",this._textN_Experiences.position.set(490,291),this.addChild(this._textN_Experiences);this._textN_WarWin=new s.TextBox(21,16777215),this._textN_WarWin.text="",this._textN_WarWin.anchor.set(1,0),this._textN_WarWin.position.set(450,430),this.addChild(this._textN_WarWin),this._textN_WarLose=new s.TextBox(21,16777215),this._textN_WarLose.text="",this._textN_WarLose.anchor.set(1,0),this._textN_WarLose.position.set(450,460),this.addChild(this._textN_WarLose),this._textN_WarRate=new s.TextBox(21,16777215),this._textN_WarRate.text="",this._textN_WarRate.anchor.set(1,0),this._textN_WarRate.position.set(450,490),this.addChild(this._textN_WarRate),this._textN_MissionCount=new s.TextBox(21,16777215),this._textN_MissionCount.text="",this._textN_MissionCount.anchor.set(1,0),this._textN_MissionCount.position.set(450,550),this.addChild(this._textN_MissionCount),this._textN_MissionSuccess=new s.TextBox(21,16777215),this._textN_MissionSuccess.text="",this._textN_MissionSuccess.anchor.set(1,0),this._textN_MissionSuccess.position.set(450,580),this.addChild(this._textN_MissionSuccess),this._textN_MissionRate=new s.TextBox(21,16777215),this._textN_MissionRate.text="",this._textN_MissionRate.anchor.set(1,0),this._textN_MissionRate.position.set(450,610),this.addChild(this._textN_MissionRate),this._textN_PracticeWin=new s.TextBox(21,16777215),this._textN_PracticeWin.text="",this._textN_PracticeWin.anchor.set(1,0),this._textN_PracticeWin.position.set(726,430),this.addChild(this._textN_PracticeWin),this._textN_PracticeLose=new s.TextBox(21,16777215),this._textN_PracticeLose.text="",this._textN_PracticeLose.anchor.set(1,0),this._textN_PracticeLose.position.set(726,460),this.addChild(this._textN_PracticeLose),this._textN_PracticeRate=new s.TextBox(21,16777215),this._textN_PracticeRate.text="",this._textN_PracticeRate.anchor.set(1,0),this._textN_PracticeRate.position.set(726,490),this.addChild(this._textN_PracticeRate),this._textN_Medal_Kou_Num=new s.TextBox(16,16777215),this._textN_Medal_Kou_Num.text="",this._textN_Medal_Kou_Num.style.stroke=4473924,this._textN_Medal_Kou_Num.style.strokeThickness=3,this._textN_Medal_Kou_Num.anchor.set(1,0),this._textN_Medal_Kou_Num.position.set(736,655),this.addChild(this._textN_Medal_Kou_Num),this._btn_USER_BTN_EDIT=new c,this._btn_USER_BTN_EDIT.initialize(32,32),this._btn_USER_BTN_EDIT.position.set(613,334),this.addChild(this._btn_USER_BTN_EDIT)},e.prototype._getClassTexture=function(t){switch(t){case 10:return 38;case 9:return 39;case 8:return 40;case 7:return 41;case 6:return 42;case 5:return 43;case 4:return 44;case 3:return 45;case 2:return 46;case 1:return 47}},e.prototype.dispose=function(){this._textJ_NickName.destroy(),this._textJ_Rank.destroy(),this._textJ_BGM.destroy(),this._textN_DeckNum.destroy(),this._textN_ArsenalDockNum.destroy(),this._textN_RepairDockNum.destroy(),this._textN_ShipNum.destroy(),this._textN_SlotItemNum.destroy(),this._textN_FurnitureNum.destroy(),this._textN_DeckMax.destroy(),this._textN_ShipMax.destroy(),this._textN_ShipMaxRemain.destroy(),this._textN_SlotItemMax.destroy(),this._textN_DutyExecCount.destroy(),this._textN_MaterialMax.destroy(),this._textN_RevKitCount.destroy(),this._textN_Level.destroy(),this._textN_Experiences.destroy(),this._textN_WarWin.destroy(),this._textN_WarLose.destroy(),this._textN_WarRate.destroy(),this._textN_MissionCount.destroy(),this._textN_MissionSuccess.destroy(),this._textN_MissionRate.destroy(),this._textN_PracticeWin.destroy(),this._textN_PracticeLose.destroy(),this._textN_PracticeRate.destroy(),this._textN_Medal_Kou_Num.destroy(),this._disposed=!0,this.removeChildren()},e.prototype._alignMid=function(t,e,i){t.position.set(Math.floor(e-t.width/2),Math.floor(i-t.height/2))},e}(PIXI.Container);e.ViewInfo=u;var c=function(t){function e(){var e=t.call(this)||this;return e._onMouseOver=function(){e._setTexture(e._texture_no_on)},e._onMouseOut=function(){e._setTexture(e._texture_no)},e}return n(e,t),e.prototype.initialize=function(t,e){this._texture_no=t,this._texture_no_on=e,this._setTexture(this._texture_no),null!=this._texture_no_on&&(this.interactive=this.buttonMode=!0,this.on(l.EventType.MOUSEOVER,this._onMouseOver),this.on(l.EventType.MOUSEOUT,this._onMouseOut))},e.prototype.dispose=function(){this.interactive=this.buttonMode=!1,this.off(l.EventType.MOUSEOVER,this._onMouseOver),this.off(l.EventType.MOUSEOUT,this._onMouseOut)},e.prototype._setTexture=function(t){this._texture=r.RECORD_PARTS.getTexture(t)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(10),r=i(236),s=i(4),a=i(189),_=i(1),l=function(t){function e(){var e=t.call(this)||this;return e._obj_line=[],e._obj_balloon=[],e._obj_medal=[],e._obj_flag=[],e._textJ_Name=[],e._textJ_RankName=[],e._textJ_Comment=[],e._textN_Rank=[],e._textN_Medal=[],e._textN_Score=[],e._mode2_mask=[],e}return n(e,t),Object.defineProperty(e.prototype,"obj_line",{get:function(){return this._obj_line},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"obj_balloon",{get:function(){return this._obj_balloon},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"obj_medal",{get:function(){return this._obj_medal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"obj_flag",{get:function(){return this._obj_flag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textJ_Name",{get:function(){return this._textJ_Name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textJ_RankName",{get:function(){return this._textJ_RankName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textJ_Comment",{get:function(){return this._textJ_Comment},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textN_Rank",{get:function(){return this._textN_Rank},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textN_Medal",{get:function(){return this._textN_Medal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textN_Score",{get:function(){return this._textN_Score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mode2_mask",{get:function(){return this._mode2_mask},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_RankMy",{get:function(){return this._btn_RankMy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_RankTop",{get:function(){return this._btn_RankTop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_Rank500",{get:function(){return this._btn_Rank500},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_ArrowPrev",{get:function(){return this._btn_ArrowPrev},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_ArrowNext",{get:function(){return this._btn_ArrowNext},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._bg=new PIXI.Sprite(o.COMMON_MISC.getTexture(48)),this._bg.position.set(171,103),this.addChild(this._bg),this._header=new PIXI.Sprite(r.RECORD_PARTS.getTexture(28)),this._header.anchor.set(1,0),this._header.position.set(1200,102),this.addChild(this._header),this._obj_ServerName=new a.WorldTextImage,this._obj_ServerName.visible=!0,this._obj_ServerName.load("large"),this._obj_ServerName.position.set(1143,160),this._obj_ServerName.anchor.set(1,0),this.addChild(this._obj_ServerName),this._obj_TIT_RANKING=new PIXI.Sprite(r.RECORD_PARTS.getTexture(29)),this._obj_TIT_RANKING.visible=!0,this._obj_TIT_RANKING.position.set(186,111),this.addChild(this._obj_TIT_RANKING),this._obj_board=new PIXI.Sprite(r.RECORD_PARTS.getTexture(26)),this._obj_board.visible=!0,this._obj_board.position.set(205,198),this.addChild(this._obj_board),this._textJ_Title1=new s.TextBox(17,16777215),this._textJ_Title1.visible=!0,this._textJ_Title1.position.set(610,112),this._textJ_Title1.text="\u51fa\u6483\u30fb\u4efb\u52d9\u306e\u63d0\u7763\u30e9\u30f3\u30ad\u30f3\u30b0\u3067\u3059",this.addChild(this._textJ_Title1),this._textJ_Title2=new s.TextBox(17,2334367),this._textJ_Title2.visible=!0,this._textJ_Title2.position.set(875,112),this._textJ_Title2.text="(\u79f0\u53f7\u3068\u3068\u3082\u306b\u4e00\u65e5\u4e8c\u56de\u66f4\u65b0\u3055\u308c\u307e\u3059)",this.addChild(this._textJ_Title2),this._btn_RankMy=new u,this._btn_RankMy.visible=!0,this._btn_RankMy.initialize(10,7),this._btn_RankMy.position.set(192,159),this.addChild(this._btn_RankMy),this._btn_RankTop=new u,this._btn_RankTop.visible=!0,this._btn_RankTop.initialize(9,8),this._btn_RankTop.position.set(336,159),this.addChild(this._btn_RankTop),this._btn_Rank500=new u,this._btn_Rank500.visible=!0,this._btn_Rank500.initialize(6,5),this._btn_Rank500.position.set(480,159),this.addChild(this._btn_Rank500),this._btn_ArrowPrev=new u,this._btn_ArrowPrev.visible=!0,this._btn_ArrowPrev.initialize(12,12),this._btn_ArrowPrev.position.set(547,682),this.addChild(this._btn_ArrowPrev),this._btn_ArrowNext=new u,this._btn_ArrowNext.visible=!0,this._btn_ArrowNext.initialize(11,11),this._btn_ArrowNext.position.set(738,682),this.addChild(this._btn_ArrowNext);for(var t=0;t<10;t++)this._obj_line[t]=new PIXI.Sprite(r.RECORD_PARTS.getTexture(25)),this._obj_line[t].visible=!0,this._obj_line[t].position.set(205,268+45*t),this._obj_line[t].width=942,this.addChild(this._obj_line[t]),this._obj_balloon[t]=new PIXI.Sprite(r.RECORD_PARTS.getTexture(24)),this._obj_balloon[t].visible=!0,this._obj_balloon[t].position.set(714,231+45*t),this.addChild(this._obj_balloon[t]),this._obj_medal[t]=new PIXI.Sprite(r.RECORD_PARTS.getTexture(19)),this._obj_medal[t].visible=!0,this._obj_medal[t].position.set(-150,231+45*t),this._obj_medal[t].scale.set(0,0),this.addChild(this._obj_medal[t]),this._textJ_Name[t]=new s.TextBox(19,2334367),this._textJ_Name[t].visible=!0,this._textJ_Name[t].position.set(346,237+45*t),this._textJ_Name[t].text="",this.addChild(this._textJ_Name[t]),this._mode2_mask[t]=new PIXI.Sprite(r.RECORD_PARTS.getTexture(23)),this._mode2_mask[t].visible=!0,this._mode2_mask[t].position.set(561,231+45*t),this._mode2_mask[t].height=34,this.addChild(this._mode2_mask[t]),this._obj_flag[t]=new PIXI.Sprite,this._obj_flag[t].visible=!0,this._obj_flag[t].position.set(573,237+45*t),this.addChild(this._obj_flag[t]),this._textJ_RankName[t]=new s.TextBox(19,16777215),this._textJ_RankName[t].visible=!0,this._textJ_RankName[t].position.set(618,237+45*t),this._textJ_RankName[t].text="",this.addChild(this._textJ_RankName[t]),this._textJ_Comment[t]=new s.TextBox(18,4473924),this._textJ_Comment[t].visible=!0,this._textJ_Comment[t].position.set(732,238+45*t),this._textJ_Comment[t].text="",this.addChild(this._textJ_Comment[t]),this._textN_Rank[t]=new s.TextBox(26,16777215),this._textN_Rank[t].visible=!0,this._textN_Rank[t].position.set(336,232+45*t),this._textN_Rank[t].anchor.set(1,0),this._textN_Rank[t].text="",this.addChild(this._textN_Rank[t]),this._textN_Medal[t]=new s.TextBox(17,16777215),this._textN_Medal[t].visible=!0,this._textN_Medal[t].position.set(1074,270+45*t),this._textN_Medal[t].anchor.set(1,1),this._textN_Medal[t].text="",this._textN_Medal[t].style.stroke=0,this._textN_Medal[t].style.strokeThickness=3,this.addChild(this._textN_Medal[t]),this._textN_Score[t]=new s.TextBox(17,16777215),this._textN_Score[t].visible=!0,this._textN_Score[t].position.set(1147,238+45*t),this._textN_Score[t].anchor.set(1,0),this._textN_Score[t].text="",this.addChild(this._textN_Score[t])},e.prototype.dispose=function(){this.removeChildren(),this._textJ_Title1.destroy(),this._textJ_Title2.destroy();for(var t=0;t<10;t++)this._textJ_Name[t].destroy(),this._textJ_RankName[t].destroy(),this._textJ_Comment[t].destroy(),this._textN_Rank[t].destroy(),this._textN_Medal[t].destroy(),this._textN_Score[t].destroy();this._btn_ArrowNext.dispose(),this._btn_ArrowPrev.dispose(),this._btn_Rank500.dispose(),this._btn_RankTop.dispose(),this._btn_RankMy.dispose()},e.prototype._alignMid=function(t,e,i){t.position.set(Math.floor(e-t.width/2),Math.floor(i-t.height/2))},e}(PIXI.Container);e.ViewRanking=l;var u=function(t){function e(){var e=t.call(this)||this;return e._onMouseOver=function(){e._setTexture(e._texture_no_on)},e._onMouseOut=function(){e._setTexture(e._texture_no)},e}return n(e,t),e.prototype.initialize=function(t,e){this._texture_no=t,this._texture_no_on=e,this._setTexture(this._texture_no),null!=this._texture_no_on&&(this.interactive=this.buttonMode=!0,this.on(_.EventType.MOUSEOVER,this._onMouseOver),this.on(_.EventType.MOUSEOUT,this._onMouseOut))},e.prototype.dispose=function(){this.interactive=this.buttonMode=!1,this.off(_.EventType.MOUSEOVER,this._onMouseOver),this.off(_.EventType.MOUSEOUT,this._onMouseOut)},e.prototype._setTexture=function(t){this.texture=r.RECORD_PARTS.getTexture(t)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(11),s=i(17),a=i(84),_=i(171),l=i(73),u=i(73),c=i(73),h=i(73),p=i(384),d=i(117),f=i(117),y=i(117),m=i(117),g=i(117),v=i(117),b=i(42),w=function(t){function e(){var e=t.call(this)||this;return e._selected_mode=1,e._selected_tab_no=0,e._onChangeTab=function(t,i){if(1==t){var n=_.AlbumConst.BGM_ID_FOR_SHIP;o.default.sound.bgm.play(n)}else{var n=_.AlbumConst.BGM_ID_FOR_SLOT;o.default.sound.bgm.play(n)}e._selected_mode=t;var r=i*_.AlbumConst.COUNT_INTAB*_.AlbumConst.COUNT_INPAGE;if(e._selected_tab_no=r,e._view.tab_container.update(t,i),0==e._model.hasData(t,i)){new p.AlbumAPI(t,i,e._model).start(function(){e._update(t,r)})}else e._update(t,r)},e._onChangePage=function(t){var i=e._selected_mode;e._update(i,t)},e._onSelect=function(t){if(t instanceof c.AlbumShipModel){var i=new m.TaskShowShipDetail(e._over,t,e._option,e._view);i.start()}else if(t instanceof h.AlbumSlotModel){var i=new g.TaskShowSlotDetail(e._over,t,e._view);i.start()}},e._onSwitchAlbum=function(){new v.TaskSwitchAlbumMode(e._view.album_switch_btn,e._view.tab_container).start()},e._onBack=function(){o.default.scene.change(0)},e._option=new l.AlbumSceneOptionModel,e._model=new u.AlbumModelManager,e._view=new b.MainView(e._onChangeTab,e._onChangePage,e._onSelect,e._onSwitchAlbum),e.addChild(e._view),e._over=new s.FadeBox(1,0,1200,720),e._over.hide(0),e._over.visible=!1,e.addChild(e._over),e}return n(e,t),e.prototype.getPreInitializeTask=function(t){return new d.TaskScenePreInitialize(t,this._model,this._view,this._onBack)},e.prototype.getInitializeTask=function(t){return new f.TaskSceneInitialize(t,this._view)},e.prototype.getFinalizeTask=function(){return a.TaskLoadBase.abortAll(),new y.TaskSceneFinalize(this._view)},e.prototype._update=function(t,e){a.TaskLoadBase.abortAll();var i=_.AlbumConst.COUNT_INPAGE,n=this._model.getData(t,e,i),o=this._selected_tab_no;this._view.pager.update(o,e);var r=this._view.content;r.deactivate(),r.update(t,e,n),r.activate()},e}(r.SceneBase);e.AlbumScene=w},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.BGM_ID_FOR_SHIP=123,t.BGM_ID_FOR_SLOT=102,t.COUNT_INTAB=7,t.COUNT_INPAGE=10,t}();e.AlbumConst=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.takao_flag=1,this.atago_flag=1}return t}();e.AlbumSceneOptionModel=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(73),o=i(73),r=function(){function t(){this._ship_data_flag=[],this._slot_data_flag=[],this._ship={},this._slot={}}return t.prototype.hasData=function(t,e){return 1==t?this._ship_data_flag.indexOf(e)>=0:2==t&&this._slot_data_flag.indexOf(e)>=0},t.prototype.getData=function(t,e,i){return 1==t?this.getShipData(e,i):2==t?this.getSlotData(e,i):null},t.prototype.getShipData=function(t,e){for(var i=[],n=0;n<e;n++){var o=t+1+n;1==this._ship.hasOwnProperty(o.toString())?i.push(this._ship[o]):i.push(null)}return i},t.prototype.getSlotData=function(t,e){for(var i=[],n=0;n<e;n++){var o=t+1+n;1==this._slot.hasOwnProperty(o.toString())?i.push(this._slot[o]):i.push(null)}return i},t.prototype.addShipData=function(t,e){this._ship_data_flag.push(t);for(var i=0,o=e;i<o.length;i++){var r=o[i],s=new n.AlbumShipModel(r);this._ship[s.no]=s}},t.prototype.addSlotData=function(t,e){this._slot_data_flag.push(t);for(var i=0,n=e;i<n.length;i++){var r=n[i],s=new o.AlbumSlotModel(r);this._slot[s.no]=s}},t}();e.AlbumModelManager=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"no",{get:function(){return n.ObjUtil.getNumber(this._o,"api_index_no")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mst_ids",{get:function(){return n.ObjUtil.getNumArray(this._o,"api_table_id")},enumerable:!0,configurable:!0}),t}();e.AlbumModelBase=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(15),r=i(73),s=function(t){function e(e){return t.call(this,e)||this}return n(e,t),Object.defineProperty(e.prototype,"sType",{get:function(){return o.ObjUtil.getNumber(this._o,"api_stype")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return o.ObjUtil.getString(this._o,"api_sinfo")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"karyoku",{get:function(){return o.ObjUtil.getNumber(this._o,"api_houg")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"raisou",{get:function(){return o.ObjUtil.getNumber(this._o,"api_raig")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taiku",{get:function(){return o.ObjUtil.getNumber(this._o,"api_tyku")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kaihi",{get:function(){return o.ObjUtil.getNumber(this._o,"api_kaih")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taikyu",{get:function(){return o.ObjUtil.getNumber(this._o,"api_taik")},enumerable:!0,configurable:!0}),e.prototype.hasTaiha=function(t){var e=this.mst_ids.indexOf(t);if(e<0)return!1;var i=o.ObjUtil.getObjectArray(this._o,"api_state");return!(null==i||i.length<=e)&&(!(null==(i=i[e])||i.length<=1)&&1==i[1])},e.prototype.isMarriage=function(t){var e=this.mst_ids.indexOf(t);if(e<0)return!1;var i=o.ObjUtil.getObjectArray(this._o,"api_state");return!(null==i||i.length<=e)&&(!(null==(i=i[e])||i.length<=2)&&1==i[2])},e.prototype.hasMarriage=function(){var t=o.ObjUtil.getObjectArray(this._o,"api_state");if(null==t)return!1;for(var e=0,i=t;e<i.length;e++){var n=i[e];if(!(null==n||n.length<=2)&&1==n[2])return!0}return!1},e.prototype.extraVoices=function(){return o.ObjUtil.getObjectArray(this._o,"api_q_voice_info")},e}(r.AlbumModelBase);e.AlbumShipModel=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(15),r=i(73),s=function(t){function e(e){return t.call(this,e)||this}return n(e,t),Object.defineProperty(e.prototype,"cardType",{get:function(){var t=o.ObjUtil.getNumArray(this._o,"api_type");return null==t||t.length<=1?0:t[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"equipType",{get:function(){var t=o.ObjUtil.getNumArray(this._o,"api_type");return null==t||t.length<=2?0:t[2]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconType",{get:function(){var t=o.ObjUtil.getNumArray(this._o,"api_type");return null==t||t.length<=3?0:t[3]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"soukou",{get:function(){return o.ObjUtil.getNumber(this._o,"api_souk")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"karyoku",{get:function(){return o.ObjUtil.getNumber(this._o,"api_houg")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"raisou",{get:function(){return o.ObjUtil.getNumber(this._o,"api_raig")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baku",{get:function(){return o.ObjUtil.getNumber(this._o,"api_baku")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taiku",{get:function(){return o.ObjUtil.getNumber(this._o,"api_tyku")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taisen",{get:function(){return o.ObjUtil.getNumber(this._o,"api_tais")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"meichu",{get:function(){return o.ObjUtil.getNumber(this._o,"api_houm")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kaihi",{get:function(){return o.ObjUtil.getNumber(this._o,"api_houk")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sakuteki",{get:function(){return o.ObjUtil.getNumber(this._o,"api_saku")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"syatei",{get:function(){return o.ObjUtil.getNumber(this._o,"api_leng")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return o.ObjUtil.getString(this._o,"api_info")},enumerable:!0,configurable:!0}),e}(r.AlbumModelBase);e.AlbumSlotModel=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=i(7),s=function(t){function e(e,i,n){var o=t.call(this)||this;return o._url="api_get_member/picture_book",o._mode=e,o._no=i,o._modelManager=n,o}return n(e,t),e.prototype._connect=function(){this._post_data.api_type=this._mode,this._post_data.api_no=this._no+1,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e=r.ObjUtil.getObjectArray(this._raw_data,"api_list");null!=e&&(1==this._mode?this._modelManager.addShipData(this._no,e):this._modelManager.addSlotData(this._no,e)),this._modelManager=null,t.prototype._completedEnd.call(this)},e}(o.APIBase);e.AlbumAPI=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=i(171),s=i(384),a=i(385),_=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._model=i,r._view=n,r._onBack=o,r}return n(e,t),e.prototype._start=function(){var t=this;(new a.TaskLoadResources).start(function(){t._initView()})},e.prototype._initView=function(){this._view.initialize(this._onBack),this._connectAPI()},e.prototype._connectAPI=function(){var t=this;new s.AlbumAPI(1,0,this._model).start(function(){t._showImage()})},e.prototype._showImage=function(){var t=r.AlbumConst.COUNT_INPAGE,e=this._model.getData(1,0,t);this._view.content.update(1,0,e),this._endTask()},e.prototype._endTask=function(){this._model=null,this._view=null,this._onBack=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskScenePreInitialize=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(11),s=i(171),a=function(t){function e(e,i){var n=t.call(this)||this;return n._view=i,n}return n(e,t),e.prototype._start=function(){var t=s.AlbumConst.BGM_ID_FOR_SHIP;o.default.sound.bgm.play(t),this._startScene()},e.prototype._startScene=function(){this._view.activate(),this._endTask()},e.prototype._endTask=function(){this._view=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskSceneInitialize=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=i(14),s=function(t){function e(e){var i=t.call(this)||this;return i._view=e,i}return n(e,t),e.prototype._start=function(){this._view.dispose(),r.UIImageLoader.clearMemoryCache("album"),this._endTask()},e.prototype._endTask=function(){this._view=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskSceneFinalize=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(13),a=function(t){function e(e,i){var n=t.call(this)||this;return n._mst_id=e,n._target=i,n}return n(e,t),e.prototype.cancel=function(){this._target=null},e.prototype._start=function(){var t=this,e=new s.ShipLoader;e.add(this._mst_id,!1,"card"),e.load(function(){if(null!=t._target){var e=o.default.resources.getShip(t._mst_id,!1,"card");t._target.texture=e}t._endTask()})},e.prototype._endTask=function(){this._target=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskShowShipCard=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(24),a=function(t){function e(e,i){var n=t.call(this)||this;return n._mst_id=e,n._target=i,n}return n(e,t),e.prototype.cancel=function(){this._target=null},e.prototype._start=function(){var t=this,e=new s.SlotLoader;e.add(this._mst_id,"card"),e.load(function(){if(null!=t._target){var e=o.default.resources.getSlotitem(t._mst_id,"card");t._target.texture=e}t._endTask()})},e.prototype._endTask=function(){this._target=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskShowSlotCard=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(13),s=i(386),a=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._onClose=function(){r._panel.deactivate(),r._hideFade()},r._layer=e,r._model=i,r._option=n,r._mainView=o,r}return n(e,t),e.prototype._start=function(){this._layer.hide(0),this._layer.visible=!0,this._layer.show(300),this._loadImages()},e.prototype._loadImages=function(){var t=this,e=this._model.mst_ids,i=new r.ShipLoader;i.add(e[0],!1,"album_status");for(var n=0,o=e;n<o.length;n++){var s=o[n],a=i.getSpecificAlbumImageLoadList(s);1==i.needCard(a.typeList)&&i.add(s,!1,"card"),1==i.needCharaFull(a.typeList)&&i.add(s,!1,"character_full"),1==i.needCharaUp(a.typeList)&&i.add(s,!1,"character_up"),1==this._model.hasTaiha(s)&&(null==a.typeList?(i.add(s,!0,"character_full"),i.add(s,!0,"character_up")):a.hasTaiha&&(i.add(s,!0,"character_full"),i.add(s,!0,"character_up")))}i.load(function(){t._showPanel()})},e.prototype._showPanel=function(){var t=this,e=new s.ShipDetailPanel(this._onClose);this._panel=e,e.initialize(this._model,this._option),e.alpha=0,this._layer.addChild(e),e.preactivate(),createjs.Tween.get(e).to({alpha:1},500).call(function(){e.activate(),t._mainView.visible=!1})},e.prototype._hideFade=function(){var t=this;this._mainView.visible=!0,createjs.Tween.get(this._panel).to({alpha:0},300),this._layer.hide(500,function(){t._layer.visible=!1,t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._model=null,this._option=null,null!=this._panel.parent&&this._panel.parent.removeChild(this._panel),this._panel.dispose(),this._panel=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskShowShipDetail=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(203),r=i(131),s=i(1086),a=i(387),_=i(388),l=i(390),u=i(1087),c=function(t){function e(e,i,n,r){var c=t.call(this)||this;return c._bg=new PIXI.Sprite,c._bg.position.set(147,60),c.addChild(c._bg),c._pager=new _.PagerContainer(i),c._pager.position.set(195,14),c.addChild(c._pager),c._content=new s.MainContainer(n),c._content.position.set(126,66),c.addChild(c._content),c._tab_container=new l.TabBtnContainer(e),c._tab_container.position.set(0,89),c.addChild(c._tab_container),c._mini_chara=new a.MiniChara,c._mini_chara.position.set(104,564),c.addChild(c._mini_chara),c._back_btn=new o.BackBtn,c._back_btn.position.set(0,659),c.addChild(c._back_btn),c._album_switch_btn=new u.AlbumModeSwitchBtn(r,e),c._album_switch_btn.position.set(0,419),c.addChild(c._album_switch_btn),c}return n(e,t),Object.defineProperty(e.prototype,"pager",{get:function(){return this._pager},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tab_container",{get:function(){return this._tab_container},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"album_switch_btn",{get:function(){return this._album_switch_btn},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){this._bg.texture=r.ALBUM_MAIN.getTexture(20),this._pager.initialize(),this._tab_container.initialize(),this._content.initialize(),this._pager.update(0,0),this._content.update(1,0,null),this._tab_container.update(1,0),this._mini_chara.initialize(),this._back_btn.initialize(t),this._album_switch_btn.initialize()},e.prototype.activate=function(){this._pager.activate(),this._content.activate(),this._tab_container.activate(),this._mini_chara.activate(),this._back_btn.activate(),this._album_switch_btn.activate()},e.prototype.deactivate=function(){this._pager.deactivate(),this._content.deactivate(),this._tab_container.deactivate(),this._mini_chara.deactivate(),this._back_btn.deactivate(),this._album_switch_btn.deactivate()},e.prototype.dispose=function(){this.removeChildren(),this._pager.dispose(),this._content.dispose(),this._tab_container.dispose(),this._mini_chara.dispose(),this._back_btn.dispose(),this._album_switch_btn.dispose(),this._bg=null,this._pager=null,this._content=null,this._tab_container=null,this._mini_chara=null,this._back_btn=null,this._album_switch_btn=null},e}(PIXI.Container);e.MainView=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(15),r=i(42),s=i(3),a=function(t){function e(e){var i=t.call(this)||this;i._items_ship=[],i._items_slot=[],i._slot_separate=new PIXI.Container,i._slot_separate.position.set(0,10);var n=new PIXI.Sprite;n.name="l1",n.position.set(120,312),i._slot_separate.addChild(n);var o=new PIXI.Sprite;o.name="l2",o.position.set(502,300),i._slot_separate.addChild(o);var s=new PIXI.Sprite;s.name="l3",s.position.set(660,312),i._slot_separate.addChild(s),i.addChild(i._slot_separate);for(var a=0;a<10;a++){var _=new r.MainItemShip(e);_.x=120+a%5*179,_.y=45+288*Math.floor(a/5),i._items_ship.push(_);var l=new r.MainItemSlot(e);l.x=120+a%5*179,l.y=60+318*Math.floor(a/5),i._items_slot.push(l)}return i}return n(e,t),e.prototype.initialize=function(){this._slot_separate.getChildByName("l1").texture=s.ALBUM_MAIN.getTexture(17),this._slot_separate.getChildByName("l2").texture=s.ALBUM_MAIN.getTexture(18),this._slot_separate.getChildByName("l3").texture=s.ALBUM_MAIN.getTexture(17),this._items_ship.forEach(function(t){t.initialize()}),this._items_slot.forEach(function(t){t.initialize()})},e.prototype.update=function(t,e,i){if(this._updateLabels(t,e),1==t)this._slot_separate.visible=!1,this._removeSlotItems(),this._updateShipItem(i),this._addShipItem();else{if(2!=t)return this._slot_separate.visible=!1,this._removeShipItems(),this._removeSlotItems(),null;this._slot_separate.visible=!0,this._removeShipItems(),this._updateSlotItem(i),this._addSlotItem()}},e.prototype.activate=function(){if(null!=this._items_ship)for(var t=0,e=this._items_ship;t<e.length;t++){var i=e[t];null!=i.parent&&i.activate()}if(null!=this._items_slot)for(var n=0,o=this._items_slot;n<o.length;n++){var i=o[n];null!=i.parent&&i.activate()}},e.prototype.deactivate=function(){if(null!=this._items_ship)for(var t=0,e=this._items_ship;t<e.length;t++){var i=e[t];i.deactivate()}if(null!=this._items_slot)for(var n=0,o=this._items_slot;n<o.length;n++){var i=o[n];i.deactivate()}},e.prototype.dispose=function(){this.removeChildren(),this.deactivate();for(var t=0;t<this._items_ship.length;t++)this._items_ship[t].dispose(),this._items_ship[t]=null;for(var t=0;t<this._items_slot.length;t++)this._items_slot[t].dispose(),this._items_slot[t]=null;this._slot_separate.removeChildren(),this._items_ship=null,this._items_slot=null,this._slot_separate=null},e.prototype._updateLabels=function(t,e){switch(t){case 1:this._items_ship.forEach(function(t,i){var n=o.MathUtil.zeroPadding(e+1+i,3);t.updateLabel(n)});break;case 2:this._items_slot.forEach(function(t,i){var n=o.MathUtil.zeroPadding(e+1+i,3);t.updateLabel(n)})}},e.prototype._addShipItem=function(){if(null!=this._items_ship)for(var t=0,e=this._items_ship;t<e.length;t++){var i=e[t];this.addChild(i)}},e.prototype._updateShipItem=function(t){if(null==this._items_ship)return null;if(null==t)return null;for(var e=t,i=Math.min(this._items_ship.length,e.length),n=0;n<i;n++){var o=this._items_ship[n],r=e[n];o.update(r)}},e.prototype._removeShipItems=function(){if(null!=this._items_ship)for(var t=0,e=this._items_ship;t<e.length;t++){var i=e[t];null!=i.parent&&i.parent.removeChild(i)}},e.prototype._addSlotItem=function(){if(null!=this._items_slot)for(var t=0,e=this._items_slot;t<e.length;t++){var i=e[t];this.addChild(i)}},e.prototype._updateSlotItem=function(t){if(null==this._items_slot)return null;if(null==t)return null;for(var e=t,i=Math.min(this._items_slot.length,e.length),n=0;n<i;n++){var o=this._items_slot[n],r=e[n];o.update(r)}},e.prototype._removeSlotItems=function(){if(null!=this._items_slot)for(var t=0,e=this._items_slot;t<e.length;t++){var i=e[t];null!=i.parent&&i.parent.removeChild(i)}},e}(PIXI.Container);e.MainContainer=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(131),s=function(t){function e(e,i){var n=t.call(this)||this;return n._activated=!1,n._onMouseOver=function(){n._update(!0)},n._onMouseOut=function(){n._update(!1)},n._onClick=function(){null!=n._cb_onClick&&null!=n._cb_onChange&&(n._cb_onClick(),n._cb_onChange(n._mode,0))},n._mode=1,n._cb_onChange=i,n._cb_onClick=e,n.interactive=!0,n}return n(e,t),Object.defineProperty(e.prototype,"mode",{get:function(){return this._mode},set:function(t){this._mode=t},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._ship_texture_cache=r.ALBUM_MAIN.getTexture(24),this._ship_texture_on_cache=r.ALBUM_MAIN.getTexture(25),this._slot_texture_cache=r.ALBUM_MAIN.getTexture(22),this._slot_texture_on_cache=r.ALBUM_MAIN.getTexture(23),this._update(!1)},e.prototype.update=function(t){this._update(t)},e.prototype.activate=function(){1!=this._activated&&(this._activated=!0,this._activate())},e.prototype.deactivate=function(){this._activated=!1,this._deactivate()},e.prototype.dispose=function(){this.deactivate(),this._slot_texture_cache=null,this._slot_texture_on_cache=null,this._ship_texture_cache=null,this._ship_texture_on_cache=null,this._cb_onChange=null,this._cb_onClick=null},e.prototype.addOnceClickEvent=function(){this.once(o.EventType.CLICK,this._onClick)},e.prototype._update=function(t){1==t?1==this._mode?this.texture=this._slot_texture_on_cache:this.texture=this._ship_texture_on_cache:1==this._mode?this.texture=this._slot_texture_cache:this.texture=this._ship_texture_cache},e.prototype._activate=function(){this.buttonMode=!0,this.on(o.EventType.MOUSEOVER,this._onMouseOver),this.on(o.EventType.MOUSEOUT,this._onMouseOut),this.once(o.EventType.CLICK,this._onClick)},e.prototype._deactivate=function(){this.buttonMode=!1,this.off(o.EventType.MOUSEOVER,this._onMouseOver),this.off(o.EventType.MOUSEOUT,this._onMouseOut),this.off(o.EventType.CLICK,this._onClick)},e}(PIXI.Sprite);e.AlbumModeSwitchBtn=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(70),s=i(37),a=i(3),_=i(4),l=function(t){function e(e){var i=t.call(this)||this;i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick(i._target)},i._cb_onClick=e;var n=new PIXI.Container;i._no=new PIXI.Sprite,i._no.position.set(0,10),n.addChild(i._no),i._label=new _.TextBox(28,4999235),i._label.position.set(37,0),i._label.text="",n.addChild(i._label),i.addChild(n);var o=new PIXI.Container;return o.position.set(0,34),i._bg=new PIXI.Sprite,o.addChild(i._bg),i._img=new PIXI.Sprite,i._img.position.set(2,2),i._img.scale.set(.5),o.addChild(i._img),i._ring=new r.RingMiddle,i._ring.position.set(114,175),i._ring.visible=!1,o.addChild(i._ring),i.addChild(o),i._bg.interactive=!0,i}return n(e,t),e.prototype.initialize=function(){this._no.texture=a.ALBUM_MAIN.getTexture(19),this._bg.texture=a.ALBUM_MAIN.getTexture(15)},e.prototype.update=function(t){if(this._target=t,this._img.texture=PIXI.Texture.EMPTY,this._ring.visible=!1,null!=t){var e=t.mst_ids[0];this._ring.initialize(),this._ring.visible=t.hasMarriage(),this._ring.deactivate(),1==this._ring.visible&&this._ring.activate(),new s.TaskLoadShipResource("card",this._img,e,!1).start()}},e.prototype.updateLabel=function(t){this._label.text=t},e.prototype.activate=function(){null!=this._target&&1!=this._bg.buttonMode&&(this._bg.buttonMode=!0,this._bg.on(o.EventType.CLICK,this._onClick),this._ring.activate())},e.prototype.deactivate=function(){this._bg.buttonMode=!1,this._bg.off(o.EventType.CLICK,this._onClick),this._ring.deactivate()},e.prototype.dispose=function(){this.removeChildren(),this.deactivate(),this._ring.dispose(),this._label.destroy(),this._target=null,this._bg=null,this._img=null,this._ring=null,this._no=null,this._label=null,this._cb_onClick=null},e}(PIXI.Container);e.MainItemShip=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(85),s=i(3),a=i(4),_=function(t){function e(e){var i=t.call(this)||this;i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick(i._target)},i._cb_onClick=e;var n=new PIXI.Container;i._no=new PIXI.Sprite,i._no.position.set(0,10),n.addChild(i._no),i._label=new a.TextBox(28,4999235),i._label.position.set(37,0),i._label.text="",n.addChild(i._label),i.addChild(n);var o=new PIXI.Container;return o.position.set(0,34),i._bg=new PIXI.Sprite,o.addChild(i._bg),i._img=new PIXI.Sprite,i._img.position.set(2,2),o.addChild(i._img),i.addChild(o),i.scale.set(1),i._bg.interactive=!0,i}return n(e,t),e.prototype.initialize=function(){this._no.texture=s.ALBUM_MAIN.getTexture(19),this._bg.texture=s.ALBUM_MAIN.getTexture(16)},e.prototype.update=function(t){if(this._target=t,this._img.texture=PIXI.Texture.EMPTY,null==t)return null;var e=t.mst_ids[0];new r.TaskLoadSlotResource("card_t",this._img,e).start()},e.prototype.updateLabel=function(t){this._label.text=t},e.prototype.activate=function(){null!=this._target&&1!=this._bg.buttonMode&&(this._bg.buttonMode=!0,this._bg.on(o.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this._bg.buttonMode=!1,this._bg.off(o.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.removeChildren(),this.deactivate(),this._label.destroy(),this._target=null,this._bg=null,this._img=null,this._no=null,this._label=null,this._cb_onClick=null},e}(PIXI.Container);e.MainItemSlot=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(3),s=function(t){function e(){var e=t.call(this)||this;return e._karyoku=e._createTextBox(85),e._raisou=e._createTextBox(124),e._taiku=e._createTextBox(163),e._kaihi=e._createTextBox(202),e._taikyu=e._createTextBox(241),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._karyoku.destroy(),this._raisou.destroy(),this._taiku.destroy(),this._kaihi.destroy(),this._taikyu.destroy(),this._karyoku=null,this._raisou=null,this._taiku=null,this._kaihi=null,this._taikyu=null},e.prototype.initialize=function(t){this.texture=r.ALBUM_MAIN.getTexture(100),this._karyoku.text=t.karyoku.toString(),this._karyoku.x=487-Math.floor(this._karyoku.width/2),this._raisou.text=t.raisou.toString(),this._raisou.x=487-Math.floor(this._raisou.width/2),this._taiku.text=t.taiku.toString(),this._taiku.x=487-Math.floor(this._taiku.width/2),this._kaihi.text=t.kaihi.toString(),this._kaihi.x=487-Math.floor(this._kaihi.width/2),this._taikyu.text=t.taikyu.toString(),this._taikyu.x=487-Math.floor(this._taikyu.width/2)},e.prototype._createTextBox=function(t){var e=new o.TextBox(23,16777215);return e.y=t-3,this.addChild(e),e},e}(PIXI.Sprite);e.ShipDetailStatusBox=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=function(t){function e(){var e=t.call(this)||this;return e._n100=new s,e.addChild(e._n100),e._n010=new s,e._n010.x=18,e.addChild(e._n010),e._n001=new s,e._n001.x=36,e.addChild(e._n001),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._n100=null,this._n010=null,this._n001=null},e.prototype.update=function(t){if(t<0||t>999)this._n100.texture=PIXI.Texture.EMPTY,this._n010.texture=PIXI.Texture.EMPTY,this._n001.texture=PIXI.Texture.EMPTY;else{this._n100.update(Math.floor(t/100));var e=t%100;this._n010.update(Math.floor(e/10)),e=t%10,this._n001.update(e)}},e}(PIXI.Container);e.DetailPanelNumbers=r;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.update=function(t){if(t<0||t>9)this.texture=PIXI.Texture.EMPTY;else{var e=[103,104,105,106,107,108,109,110,111,112][t];this.texture=o.ALBUM_MAIN.getTexture(e)}},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(18),s=i(25),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.update=function(t,e){var i;if(553==t||554==t)i=o.default.settings.path_root+"resources/stype/etext/sp001.png?"+r.START_TIME;else{8==e?e=9:15==e&&(e=22);var n=s.MathUtil.zeroPadding(e,3);i=o.default.settings.path_root+"resources/stype/etext/"+n+".png?"+r.START_TIME}this.texture=PIXI.Texture.fromImage(i)},e.prototype.dispose=function(){},e}(PIXI.Sprite);e.EngStypeView=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var e=t.call(this)||this;return e._progress=0,e}return n(e,t),Object.defineProperty(e.prototype,"progress",{get:function(){return this._progress},set:function(t){this._progress=t,this._draw(this._progress)},enumerable:!0,configurable:!0}),e.prototype.update=function(t){if(this._model=t,null==t)return void this._clear();this._startAnimation()},e.prototype.dispose=function(){this._stopAnimation()},e.prototype._clear=function(){this._stopAnimation(),this.clear()},e.prototype._startAnimation=function(){var t=this;this._stopAnimation(),this._progress=0,this._t=createjs.Tween.get(this).to({progress:1},1e3).call(function(){t._t=null,t._progress=0})},e.prototype._stopAnimation=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e.prototype._draw=function(t){var e=[(this._model.karyoku>100?100:this._model.karyoku)*t,(this._model.raisou>100?100:this._model.raisou)*t,(this._model.taiku>100?100:this._model.taiku)*t,(this._model.kaihi>100?100:this._model.kaihi)*t,(this._model.taikyu>100?100:this._model.taikyu)*t],i=e.map(function(t,e,i){var n=(72*e-90)/180*Math.PI;return[95*t/100*Math.cos(n),95*t/100*Math.sin(n)]});this.clear(),this.lineStyle(1.4,16774898),this.beginFill(1949120),this.moveTo(i[0][0],i[0][1]);for(var n=0;n<5;n++){var o=(n+1)%5;i[n][0]==i[o][0]&&i[n][1]==i[o][1]||this.lineTo(i[o][0],i[o][1])}this.endFill()},e}(PIXI.Graphics);e.RaderGraph=o;var r=function(){function t(){this.karyoku=0,this.raisou=0,this.taiku=0,this.kaihi=0,this.taikyu=0}return t}();e.RaderGraphModel=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),s=i(8),a=i(70),_=i(1095),l=i(392),u=i(394),c=i(393),h=i(395),p=function(t){function e(){var e=t.call(this)||this;e._extraVoiceBtn=[],e._extraVoiceBtnData=[],e._onPrev=function(t){if(t.stopPropagation(),null!=e._current){var i=e._data_list.indexOf(e._current);if(!(i<0)){var n=i-1;n<0&&(n=e._data_list.length-1),e._current=e._data_list[n],e._update()}}},e._onNext=function(t){if(t.stopPropagation(),null!=e._current){var i=e._data_list.indexOf(e._current);if(!(i<0)){var n=i+1;n>=e._data_list.length&&(n=0),e._current=e._data_list[n],e._update()}}},e._onVoice=function(t){if(t.stopPropagation(),null!=e._data_list&&0!=e._data_list.length){var i=e._data_list[0].mst_id;e._playVoice(i,25)}},e._onMovie=function(t){if(t.stopPropagation(),null!=e._current){var i=e._current.mst_id;66==i?1==e._option.takao_flag?(i=269,e._option.takao_flag=0):e._option.takao_flag=1:67==i&&(1==e._option.atago_flag?(i=270,e._option.atago_flag=0):e._option.atago_flag=1);var n=new s.AreaBox(1,16777215);n.alpha=0,o.default.view.overLayer.addChild(n),e._stopVoice();new h.TaskWedding(n,i).start(function(){o.default.view.overLayer.removeChild(n)})}},e._onClickRing=function(t){if(t.stopPropagation(),null!=e._data_list&&0!=e._data_list.length){var i=e._data_list[0].mst_id;e._playVoice(i,24)}},e._onClickExtraVoice=function(t,i){if(t.stopPropagation(),-1!==i){e._data_list[0].mst_id;e._playVoice(9997,i)}},e._canvas=new PIXI.Sprite,e.addChild(e._canvas),e._prevBtn=new l.PrevBtn(e._onPrev),e._prevBtn.position.set(10,582),e.addChild(e._prevBtn),e._nextBtn=new l.NextBtn(e._onNext),e._nextBtn.position.set(55,582),e.addChild(e._nextBtn),e._voiceBtn=new c.VoiceBtn(e._onVoice),e._voiceBtn.position.set(105,582),e.addChild(e._voiceBtn),e._movieBtn=new u.MovieBtn(e._onMovie),e._movieBtn.position.set(154,582),e.addChild(e._movieBtn);for(var i=[370,325,280,235],n=0,r=i.length;n<r;n++){var p=i[n],d=new _.extraVoiceBtn(e._onClickExtraVoice);d.position.set(p,582),e.addChild(d),e._extraVoiceBtn[n]=d,e._extraVoiceBtnData[n]=null}return e._ring=new a.RingLarge,e._ring.position.set(-13,22),e._ring.interactive=!0,e.addChild(e._ring),e._canvas.interactive=!0,e}return n(e,t),e.prototype.initialize=function(t,e){this._option=e,this._data_list=[];for(var i=0,n=t.mst_ids;i<n.length;i++){var r=n[i],s=t.isMarriage(r),a=o.default.resources.getShip(r,!1,"card");this._addImageData(r,a,s,new PIXI.Point(45,105)),a=o.default.resources.getShip(r,!1,"character_full"),this._addImageData(r,a,s),a=o.default.resources.getShip(r,!1,"character_up"),this._addImageData(r,a,s),1==t.hasTaiha(r)&&(a=o.default.resources.getShip(r,!0,"character_full"),this._addImageData(r,a,s),a=o.default.resources.getShip(r,!0,"character_up"),this._addImageData(r,a,s))}var _=t.extraVoices();if(null!==_)for(var l=0,u=_.length;l<u;l++){var c=_[l],h=c.api_no-1;this._extraVoiceBtnData[h]=c}for(var l=0,u=this._extraVoiceBtn.length;l<u;l++)this._extraVoiceBtn[l].initialize(this._extraVoiceBtnData[l]);this._data_list.length>0&&(this._current=this._data_list[0],this._update(),this._playVoice(this._current.mst_id,25)),this._prevBtn.initialize(),this._nextBtn.initialize(),this._voiceBtn.initialize(),this._movieBtn.initialize(),this._ring.initialize()},e.prototype.preactivate=function(){this._ring.activate()},e.prototype.activate=function(){if(1!=this._canvas.buttonMode){this._canvas.buttonMode=!0,this._canvas.on(r.EventType.CLICK,this._onNext),this._prevBtn.activate(),this._nextBtn.activate(),this._voiceBtn.activate(),this._movieBtn.activate(),this._ring.buttonMode=!0,this._ring.on(r.EventType.CLICK,this._onClickRing);for(var t=0,e=this._extraVoiceBtn.length;t<e;t++)this._extraVoiceBtn[t].activate()}},e.prototype.deactivate=function(){this._canvas.buttonMode=!1,this._canvas.off(r.EventType.CLICK,this._onNext),this._prevBtn.deactivate(),this._nextBtn.deactivate(),this._voiceBtn.deactivate(),this._movieBtn.deactivate(),this._ring.deactivate(),this._ring.buttonMode=!1,this._ring.off(r.EventType.CLICK,this._onClickRing);for(var t=0,e=this._extraVoiceBtn.length;t<e;t++)this._extraVoiceBtn[t].deactivate()},e.prototype.dispose=function(){this.removeChildren(),this.deactivate(),this._prevBtn.dispose(),this._nextBtn.dispose(),this._voiceBtn.dispose(),this._movieBtn.dispose(),this._ring.dispose(),this._stopVoice();for(var t=0,e=this._extraVoiceBtn.length;t<e;t++)this._extraVoiceBtn[t].dispose(),this._extraVoiceBtn[t]=null;for(var t=0;t<this._data_list.length;t++)this._data_list[t]=null;this._option=null,this._data_list=null,this._current=null,this._canvas=null,this._prevBtn=null,this._nextBtn=null,this._voiceBtn=null,this._movieBtn=null,this._ring=null,this._extraVoiceBtn=null,this._extraVoiceBtnData=null,this._play_voice=null},e.prototype._addImageData=function(t,e,i,n){if(void 0===n&&(n=null),e!=PIXI.Texture.EMPTY){var o=new d;o.mst_id=t,o.texture=e,o.marriage=i,o.offset=n,this._data_list.push(o)}},e.prototype._update=function(){if(null!=this._current){this._canvas.texture=this._current.texture,null!=this._current.offset?(this._canvas.x=this._current.offset.x,this._canvas.y=this._current.offset.y):this._canvas.position.set(0,0),this._movieBtn.visible=this._current.marriage,this._ring.visible=this._current.marriage;for(var t=0,e=this._extraVoiceBtn.length;t<e;t++){var i=this._extraVoiceBtnData[t];this._extraVoiceBtn[t].visible=null!==i}}},e.prototype._playVoice=function(t,e){this._stopVoice(),this._play_voice=o.default.sound.voice.play(t.toString(),e)},e.prototype._stopVoice=function(){null!=this._play_voice&&o.default.sound.voice.stop(this._play_voice)},e}(PIXI.Container);e.ShipDetailContent=p;var d=function(){function t(){}return t}()},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(31),r=i(3),s=i(1),a=function(t){function e(e){var i=t.call(this)||this;return i._onMouseOver=function(){i._update(!0)},i._onMouseOut=function(){i._update(!1)},i._onClick=function(t){null!=i._cb_onClick&&i._cb_onClick(t,i._voice_id)},i._bg=new PIXI.Sprite,i._bg.position.set(0,0),i.addChild(i._bg),i._icon=new o.Sprite,i._icon.position.set(18.5,18.5),i._icon.anchor.set(.5),i.addChild(i._icon),i._category=new PIXI.Sprite,i._category.position.set(0,0),i.addChild(i._category),i._t=createjs.Tween.get(i._icon,{loop:!0}).to({scaleX:1.5,scaleY:1.5},1e3).to({scaleX:1,scaleY:1},1e3),i._t.setPaused(!0),i._cb_onClick=e,i._bg.interactive=!0,i}return n(e,t),e.prototype.initialize=function(t){this._voice_id=null===t?-1:t.api_voice_id,this._icon.texture=r.ALBUM_MAIN.getTexture(12);var e=4;this._category.position.set(23,20),null!==t&&2===t.api_icon_id&&(e=3,this._category.position.set(20,20)),this._category.texture=r.ALBUM_MAIN.getTexture(e),this._update(!1)},e.prototype._update=function(t){0==t?(this._bg.texture=r.ALBUM_MAIN.getTexture(1),this._icon.visible=!0,this._t.setPaused(!1)):(this._bg.texture=r.ALBUM_MAIN.getTexture(13),this._icon.visible=!1,this._t.setPaused(!0))},e.prototype.activate=function(){1!=this.buttonMode&&(this._bg.buttonMode=!0,this._bg.on(s.EventType.MOUSEOVER,this._onMouseOver),this._bg.on(s.EventType.MOUSEOUT,this._onMouseOut),this._bg.on(s.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this._bg.buttonMode=!1,this._bg.off(s.EventType.MOUSEOVER,this._onMouseOver),this._bg.off(s.EventType.MOUSEOUT,this._onMouseOut),this._bg.off(s.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.removeChildren(),this.deactivate(),this._t.setPaused(!0),createjs.Tween.removeTweens(this._icon),this._bg=null,this._icon=null,this._category=null,this._t=null,this._cb_onClick=null,this._voice_id=null},e}(PIXI.Container);e.extraVoiceBtn=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),s=i(4),a=i(3),_=i(42),l=i(42),u=i(42),c=i(42),h=function(t){function e(e){var i=t.call(this)||this;return i._onClose=function(){null!=i._cb_onClose&&i._cb_onClose()},i._cb_onClose=e,i._title=new p,i._title.position.set(39,45),i.addChild(i._title),i._message=new s.TextBox(20,5523516),i._message.position.set(94,136),i._message.style.breakWords=!0,i._message.style.wordWrap=!0,i._message.style.wordWrapWidth=598,i._message.style.lineHeight=33.6,i.addChild(i._message),i._statusBox=new _.SlotDetailStatusBox,i._statusBox.position.set(93,355),i.addChild(i._statusBox),i._etype=new u.SlotTypeView,i._etype.position.set(873,37),i.addChild(i._etype),i._content=new c.SlotDetailContent,i._content.position.set(699,34),i.addChild(i._content),i._close_btn=new PIXI.Sprite,i._close_btn.position.set(1111,30),i._close_btn.interactive=!0,i.addChild(i._close_btn),i.interactive=!0,i}return n(e,t),e.prototype.initialize=function(t){this._model=t,this.texture=a.ALBUM_MAIN.getTexture(94);var e=t.no,i=t.mst_ids[0];this._title.initialize(e,i),this._message.text=t.message.replace(/<br>/g,"\n"),this._statusBox.initialize(t),this._etype.update(t.cardType),this._content.initialize(t),this._close_btn.texture=a.ALBUM_MAIN.getTexture(21)},e.prototype.activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this._content.activate(),this.on(r.EventType.CLICK,this._onClose))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(r.EventType.CLICK,this._onClose),this._content.deactivate()},e.prototype.dispose=function(){this.removeChildren(),this.deactivate(),this._title.dispose(),this._content.dispose(),this._statusBox.dispose(),this._message.destroy(),this._model=null,this._title=null,this._message=null,this._statusBox=null,this._etype=null,this._content=null,this._close_btn=null,this._cb_onClose=null},e}(PIXI.Sprite);e.SlotDetailPanel=h;var p=function(t){function e(){var e=t.call(this)||this;return e._nums=new l.DetailPanelNumbers,e._nums.position.set(60,36),e.addChild(e._nums),e._img=new PIXI.Sprite,e.addChild(e._img),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._nums.dispose(),this._nums=null,this._img=null},e.prototype.initialize=function(t,e){this.texture=a.ALBUM_MAIN.getTexture(93),this._nums.update(t),this._img.texture=o.default.resources.getSlotitem(e,"statustop_item")},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(42),s=i(1),a=function(t){function e(){var e=t.call(this)||this;return e._onPrev=function(t){if(t.stopPropagation(),null!=e._current){var i=e._data_list.indexOf(e._current);if(!(i<0)){var n=i-1;n<0&&(n=e._data_list.length-1),e._current=e._data_list[n],e._update()}}},e._onNext=function(t){if(t.stopPropagation(),null!=e._current){var i=e._data_list.indexOf(e._current);if(!(i<0)){var n=i+1;n>=e._data_list.length&&(n=0),e._current=e._data_list[n],e._update()}}},e._canvas=new PIXI.Sprite,e.addChild(e._canvas),e._prevBtn=new r.PrevBtn(e._onPrev),e._prevBtn.position.set(10,582),e.addChild(e._prevBtn),e._nextBtn=new r.NextBtn(e._onNext),e._nextBtn.position.set(55,582),e.addChild(e._nextBtn),e._canvas.interactive=!0,e}return n(e,t),e.prototype.initialize=function(t){this._data_list=[];for(var e=0,i=t.mst_ids;e<i.length;e++){var n=i[e],r=o.default.resources.getSlotitem(n,"card");this._addImageData(n,r,new PIXI.Point(20,142)),r=o.default.resources.getSlotitem(n,"item_up"),this._addImageData(n,r),r=o.default.resources.getSlotitem(n,"item_on"),this._addImageData(n,r),r=o.default.resources.getSlotitem(n,"item_character"),this._addImageData(n,r)}this._data_list.length>0&&(this._current=this._data_list[0],this._update()),this._prevBtn.initialize(),this._nextBtn.initialize()},e.prototype.activate=function(){1!=this._canvas.buttonMode&&(this._canvas.buttonMode=!0,this._canvas.on(s.EventType.CLICK,this._onNext),this._prevBtn.activate(),this._nextBtn.activate())},e.prototype.deactivate=function(){this._canvas.buttonMode=!1,this._canvas.off(s.EventType.CLICK,this._onNext),this._prevBtn.deactivate(),this._nextBtn.deactivate()},e.prototype.dispose=function(){this.removeChildren(),this.deactivate(),this._prevBtn.dispose(),this._nextBtn.dispose();for(var t=0;t<this._data_list.length;t++)this._data_list[t]=null;this._data_list=null,this._current=null,this._canvas=null,this._prevBtn=null,this._nextBtn=null},e.prototype._addImageData=function(t,e,i){if(void 0===i&&(i=null),e!=PIXI.Texture.EMPTY){var n=new _;n.mst_id=t,n.texture=e,n.offset=i,this._data_list.push(n)}},e.prototype._update=function(){null!=this._current&&(this._canvas.texture=this._current.texture,null!=this._current.offset?(this._canvas.x=this._current.offset.x,this._canvas.y=this._current.offset.y):this._canvas.position.set(0,0))},e}(PIXI.Container);e.SlotDetailContent=a;var _=function(){function t(){}return t}()},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.update=function(t){this.texture=o.ALBUM_SLOT2.getTextureFromMstID(t)},e}(PIXI.Sprite);e.SlotTypeView=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(3),s=i(3),a=i(3),_=i(42),l=function(t){function e(){var e=t.call(this)||this;return e._boxes=new h,e._boxes.position.set(7,190),e.addChild(e._boxes),e._icon=new u,e.addChild(e._icon),e._name=new c,e._name.position.set(150,19),e.addChild(e._name),e._params=new _.SlotParamsContainer,e._params.position.set(159,66),e.addChild(e._params),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._boxes.dispose(),this._params.dispose(),this._boxes=null,this._icon=null,this._name=null,this._params=null},e.prototype.initialize=function(t){this.texture=r.ALBUM_MAIN.getTexture(92),this._boxes.initialize(),this._boxes.update(t.equipType),this._icon.update(t.iconType),this._name.update(t.equipType,t.iconType),this._params.update(t)},e}(PIXI.Sprite);e.SlotDetailStatusBox=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.update=function(t){this.texture=a.ALBUM_SLOT4.getTextureFromMstID(t)},e}(PIXI.Sprite);e.IconView=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.update=function(t,e){38==t?t=3:93==t?t=13:94==t?t=9:48==t&&44==e&&(t=148),this.texture=s.ALBUM_SLOT3.getTextureFromMstID(t)},e}(PIXI.Sprite);e.TypeNameView=c;var h=function(t){function e(){var e=t.call(this)||this;e._boxes=[];for(var i=0;i<8;i++){var n=new PIXI.Sprite;n.x=i%4*144,n.y=54*Math.floor(i/4),n.visible=!1,e.addChild(n),e._boxes.push(n)}return e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._boxes=null},e.prototype.initialize=function(){for(var t=[43,44,45,47,46,41,42,40],e=0;e<this._boxes.length;e++){var i=t[e];this._boxes[e].texture=r.ALBUM_MAIN.getTexture(i)}},e.prototype.update=function(t){for(var e=[2,3,5,9,7,11,16,10],i=0;i<this._boxes.length;i++){var n=e[i],r=this._boxes[i],s=o.default.model.shipType.get(n);r.visible=s.getEquippableTypes().indexOf(t)>=0}},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(3),s=function(t){function e(){var e=t.call(this)||this;e._items=[];for(var i=0;i<6;i++){var n=new a;n.x=i%2*225,n.y=39*Math.floor(i/2),e.addChild(n),e._items.push(n)}return e}return n(e,t),e.prototype.dispose=function(){this.removeChildren();for(var t=0;t<this._items.length;t++)this._items[t].dispose(),this._items[t]=null;this._items=null},e.prototype.update=function(t){var e=[];this._addParamData(e,0,t.soukou),this._addParamData(e,1,t.karyoku),this._addParamData(e,2,t.raisou),this._addParamData(e,3,t.baku),this._addParamData(e,4,t.taiku),this._addParamData(e,5,t.taisen),this._addParamData(e,6,t.meichu),this._addParamData(e,7,t.kaihi),this._addParamData(e,8,t.sakuteki),this._addParamData(e,9,t.syatei);for(var i=t.equipType,n=0;n<this._items.length;n++)if(e.length<=n)this._items[n].visible=!1;else{var o=e[n];this._items[n].update(o.type,o.value,i),this._items[n].visible=!0}},e.prototype._addParamData=function(t,e,i){null!=t&&0!=i&&t.push({type:e,value:i})},e}(PIXI.Container);e.SlotParamsContainer=s;var a=function(t){function e(){var e=t.call(this)||this;return e._value_text=new o.TextBox(19,16774898),e._value_text.position.set(189,2),e._value_text.anchor.x=1,e.addChild(e._value_text),e._value_img=new PIXI.Sprite,e._value_img.position.set(184,13),e._value_img.anchor.set(1,.5),e.addChild(e._value_img),e}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._value_text.destroy(),this._value_text=null,this._value_img=null},e.prototype.update=function(t,e,i){if(this.texture=this._getTexture(t,i),9==t){this._value_text.visible=!1;var n=[97,98,96,95,99][e];this._value_img.texture=r.ALBUM_MAIN.getTexture(n),this._value_img.visible=!0}else this._value_img.visible=!1,this._value_text.text=e>0?"+"+e:e.toString(),this._value_text.visible=!0},e.prototype._getTexture=function(t,e){var i;switch(t){case 0:i=34;break;case 1:i=37;break;case 2:i=38;break;case 3:i=31;break;case 4:i=39;break;case 5:i=28;break;case 6:i=48==e?32:30;break;case 7:i=48==e?33:35;break;case 8:i=29;break;case 9:i=36;break;default:return PIXI.Texture.EMPTY}return r.ALBUM_MAIN.getTexture(i)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=i(24),s=i(42),a=function(t){function e(e,i,n){var o=t.call(this)||this;return o._onClose=function(){o._panel.deactivate(),o._hideFade()},o._layer=e,o._model=i,o._mainView=n,o}return n(e,t),e.prototype._start=function(){this._layer.hide(0),this._layer.visible=!0,this._layer.show(300),this._loadImages()},e.prototype._loadImages=function(){var t=this,e=this._model.mst_ids,i=new r.SlotLoader;i.add(e[0],"statustop_item");for(var n=0,o=e;n<o.length;n++){var s=o[n];i.add(s,"card"),i.add(s,"item_up"),i.add(s,"item_on"),i.add(s,"item_character")}i.load(function(){t._showPanel()})},e.prototype._showPanel=function(){var t=this,e=new s.SlotDetailPanel(this._onClose);this._panel=e,e.initialize(this._model),e.alpha=0,this._layer.addChild(e),createjs.Tween.get(e).to({alpha:1},500).call(function(){e.activate(),t._mainView.visible=!1})},e.prototype._hideFade=function(){var t=this;this._mainView.visible=!0,createjs.Tween.get(this._panel).to({alpha:0},300),this._layer.hide(500,function(){t._layer.visible=!1,t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._model=null,null!=this._panel.parent&&this._panel.parent.removeChild(this._panel),this._panel.dispose(),this._panel=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskShowSlotDetail=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=function(t){function e(e,i){var n=t.call(this)||this;n._switchOrder=[1,2],n._switch_btn=e,n._tab_container=i;var o=n._switchOrder.indexOf(n._switch_btn.mode);return n._switchMode=o+1>=n._switchOrder.length?n._switchOrder[0]:n._switchOrder[o+1],n}return n(e,t),e.prototype._start=function(){this._switch_btn.mode=this._switchMode,this._tab_container.switchViewAlbumMode(this._switchMode),this._animate()},e.prototype._animate=function(){var t=this;createjs.Tween.get(this._switch_btn).to({alpha:0},0).to({x:-137},0).wait(300).call(function(){t._switch_btn.update(!1),createjs.Tween.get(t._switch_btn).to({alpha:1},0).wait(100).to({x:0},450,createjs.Ease.quintOut).call(function(){t._endTask()})})},e.prototype._endTask=function(){this._switch_btn.addOnceClickEvent(),t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskSwitchAlbumMode=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(47),s=i(203),a=i(10),_=i(396),l=i(397),u=i(398),c=i(238),h=i(1104),p=i(1105),d=i(1107),f=i(1108),y=i(1109),m=i(399),g=i(401),v=i(1112),b=i(1155),w=i(1164),x=function(t){function e(){var e=t.call(this)||this;return e._initialize=function(t){e._selected_state=t;var i,n=o.default.model.basic.getUISkinID();101==n||102==n?(i=new PIXI.Sprite(_.ITEM_MENU_1.getTexture(6)),e._tabs.y=193):201==n?(i=new PIXI.Sprite(l.ITEM_MENU_2.getTexture(6)),e._tabs.y=190):301!=n&&311!=n||(i=new PIXI.Sprite(u.ITEM_MENU_3.getTexture(12)),e._tabs.y=187),e._bg.addChild(i),i=new PIXI.Sprite(a.COMMON_MISC.getTexture(48)),i.position.set(171,103),e._bg.addChild(i),e._tabs.initialize(n),e._mini_chara.initialize(),e._back_btn.initialize(e._onBack),e._showView(e._selected_state)},e._activate=function(){e._tabs.activate(),e._mini_chara.activate(),e._back_btn.activate()},e._dispose=function(){e._removeView(),null!=e._ilist&&(e._ilist.dispose(),e._ilist=null),null!=e._ishop&&(e._ishop.dispose(),e._ishop=null),null!=e._fshop&&(e._fshop.dispose(),e._fshop=null),e._tabs.dispose(),e._tabs=null,e._mini_chara.dispose(),e._mini_chara=null,e._back_btn.dispose(),e._back_btn=null,e._purchasedItems=null,e.removeChildren()},e._onChangeSceneState=function(t){e._showView(t)},e._onPurchased=function(){new c.PayItemAPI(e._purchasedItems).start(function(){e._showView(0,!0)})},e._onBack=function(){o.default.scene.change(0)},e._purchasedItems=new h.PurchasedItemModelHolder,e._bg=new PIXI.Container,e.addChild(e._bg),e._tabs=new m.TabContainer(e._onChangeSceneState),e.addChild(e._tabs),e._mini_chara=new g.MiniChara,e._mini_chara.position.set(-16,444),e.addChild(e._mini_chara),e._back_btn=new s.BackBtn,e._back_btn.position.set(0,653),e.addChild(e._back_btn),e}return n(e,t),e.prototype.getPreInitializeTask=function(t,e){return new p.TaskItemScenePreInitialize(this._purchasedItems,e,this._initialize)},e.prototype.getInitializeTask=function(t){return new d.TaskItemSceneInitialize(this._activate)},e.prototype.getFinalizeTask=function(){return new f.TaskItemSceneFinalize(this._dispose)},e.prototype._removeView=function(){null!=this._current&&(this.removeChild(this._current),this._current.deactivate(),this._current=null)},e.prototype._showView=function(t,e){if(void 0===e&&(e=!1),this._removeView(),this._tabs.update(t),0==t?(null==this._ilist&&(this._ilist=new v.ItemListMain(this._purchasedItems),this._ilist.initialize()),this._current=this._ilist):1==t?(null==this._ishop&&(this._ishop=new b.ItemShopMain(this._purchasedItems,this._onPurchased),this._ishop.initialize()),this._current=this._ishop):2==t&&(null==this._fshop&&(this._fshop=new w.FurnitureShopMain,this._fshop.initialize()),this._current=this._fshop),0==t&&1==e){this._ilist.updateForPurchasedView();var i=o.default.view.overLayer;new y.TaskPurchased(i).start()}else this._current.update();this._current.activate(),this.addChild(this._current)},e}(r.SceneBase);e.ItemScene=x},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),r=function(){function t(){this._dic={}}return t.prototype.getCount=function(t){var e=this.getData(t);return null==e?0:e.count},t.prototype.getData=function(t){return 1==this._dic.hasOwnProperty(t.toString())?this._dic[t]:null},t.prototype.setData=function(t){if(this._dic={},null!=t)for(var e=0,i=t;e<i.length;e++){var n=i[e],o=new a(n);this._dic[o.id]=o}},t}();e.PurchasedItemModelHolder=r;var s=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"id",{get:function(){return parseInt(o.ObjUtil.getString(this._o,"api_payitem_id"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return o.ObjUtil.getString(this._o,"api_name")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){return o.ObjUtil.getString(this._o,"api_description")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return o.ObjUtil.getNumber(this._o,"api_count")},enumerable:!0,configurable:!0}),t}();e.PurchasedItemModel=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.setCount=function(t){this._o.api_count=t},e}(s);e.PurchasedItemModelEdit=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(80),a=i(238),_=i(1106),l=function(t){function e(e,i,n){var o=t.call(this)||this;return o._purchasedItems=e,o._scene_model=i,o._delegate_initialize=n,o}return n(e,t),e.prototype._start=function(){this._loadResources()},e.prototype._loadResources=function(){var t=this;(new _.TaskLoadResources).start(function(){if(null!=t._delegate_initialize){o.default.model.useItem.updateCount();var e=0;t._scene_model instanceof s.ItemSceneModel&&(e=t._scene_model.subtype),t._delegate_initialize(e)}t._connectAPI()})},e.prototype._connectAPI=function(){var t=this;new a.PayItemAPI(this._purchasedItems).start(function(){t._endTask()})},e.prototype._endTask=function(){this._purchasedItems=null,this._scene_model=null,this._delegate_initialize=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskItemScenePreInitialize=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(14),a=i(239),_=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype._start=function(){this._load()},e.prototype._load=function(){var t=this,e=new s.UIImageLoader("item");e.add("item_common.json"),e.add("item_ilist.json"),e.add("item_payitemicon.json"),e.add("item_ishop.json"),e.add("item_fshop.json"),e.add("item_mini.json"),e.load(function(){t._load2()})},e.prototype._load2=function(){var t=this,e=new s.UIImageLoader("item");e.add("item_ilist_medal.json"),e.add("item_ilist_medal_kou.json"),e.add("item_ilist_presentbox.json"),e.add("item_ilist_hishimochi.json"),e.load(function(){t._loadSkinResource()})},e.prototype._loadSkinResource=function(){var t=this,e=new s.UIImageLoader("item"),i=o.default.model.basic.getUISkinID();101==i||102==i?e.add("item_menu_1.json"):201==i?e.add("item_menu_2.json"):301!=i&&311!=i||e.add("item_menu_3.json"),e.load(function(){t._loadAkashiResoueces()})},e.prototype._loadAkashiResoueces=function(){var t=this,e=new s.UIImageLoader("item");e.add("akashi/"+a.POSTER_TYPE+"1.png",a.POSTER_KEY_1),e.add("akashi/"+a.POSTER_TYPE+"2.png",a.POSTER_KEY_2),e.load(function(){t._endTask()})},e}(r.TaskBase);e.TaskLoadResources=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(11),s=function(t){function e(e){var i=t.call(this)||this;return i._scene_activate_delegate=e,i}return n(e,t),e.prototype._start=function(){this._playBGM()},e.prototype._playBGM=function(){o.default.sound.bgm.play(102),this._startScene()},e.prototype._startScene=function(){null!=this._scene_activate_delegate&&this._scene_activate_delegate(),this._endTask()},e}(r.TaskBase);e.TaskItemSceneInitialize=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=i(14),s=function(t){function e(e){var i=t.call(this)||this;return i._scene_dispose_delegate=e,i}return n(e,t),e.prototype._start=function(){null!=this._scene_dispose_delegate&&this._scene_dispose_delegate(),r.UIImageLoader.clearMemoryCache("item"),this._endTask()},e}(o.TaskBase);e.TaskItemSceneFinalize=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(11),a=i(8),_=i(3),l=i(1),u=i(239),c=function(t){function e(e){var i=t.call(this)||this;return i._onClose=function(){i._dialog.btn.buttonMode=!1,createjs.Tween.get(i._chara).to({x:o.default.width},300),createjs.Tween.get(i._dialog).to({alpha:0},300).call(function(){i._layer.removeChild(i._bg),i._layer.removeChild(i._chara),i._layer.removeChild(i._dialog),i._endTask()})},i._layer=e,i}return n(e,t),e.prototype._start=function(){this._bg=new a.AreaBox(0),this._layer.addChild(this._bg);var t=PIXI.Sprite.fromFrame(u.POSTER_KEY_2),e=u.getPosterOffsetPurchased();null!=e&&(t.x=e.x,t.y=e.y),this._chara=new PIXI.Sprite,this._chara.addChild(t),this._chara.position.set(681,3),this._layer.addChild(this._chara),this._dialog=new h,this._dialog.initialize(),this._dialog.position.set(219,207),this._layer.addChild(this._dialog),r.default.sound.voice.playAtRandom("9999",[316,317],[60,40]),this._dialog.btn.buttonMode=!0,this._dialog.btn.once(l.EventType.CLICK,this._onClose)},e}(s.TaskBase);e.TaskPurchased=c;var h=function(t){function e(){var e=t.call(this)||this;return e._btn=new PIXI.Sprite,e._btn.position.set(291,201),e._btn.interactive=!0,e.addChild(e._btn),e}return n(e,t),Object.defineProperty(e.prototype,"btn",{get:function(){return this._btn},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.texture=_.ITEM_COMMON.getTexture(4),this._btn.texture=_.ITEM_COMMON.getTexture(3)},e}(PIXI.Sprite)},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(400)),n(i(401)),n(i(1111)),n(i(399))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(396),s=i(397),a=i(398),_=function(t){function e(e,i){var n=t.call(this)||this;return n._selected=!1,n._activated=!1,n._onClick=function(){null!=n._cb_onClick&&n._cb_onClick(n._target)},n._onMouseOver=function(){n._update(!0)},n._onMouseOut=function(){n._update(!1)},n._target=e,n._cb_onClick=i,n.interactive=!0,n._base=new PIXI.Sprite,n.addChild(n._base),n._over=new PIXI.Sprite,n.addChild(n._over),n._light=new l,n.addChild(n._light),n}return n(e,t),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{set:function(t){this._selected!=t&&(this._selected=t,0==this._selected&&1==this._activated?this._activate():this._deactivate(),this._update(!1))},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){this._deactivate(),0==this._selected&&1==this._activated&&this.activate(),this._base.texture=this._getTexture(t),this._over.texture=this._getTextureOn(t),this._light.initialize(this._getTextureOn(t)),201==t?(this._over.y=-3,this._light.y=-3):(this._over.y=0,this._light.y=0),this._update(!1)},e.prototype.activate=function(){this._activated=!0,1!=this.buttonMode&&1!=this._selected&&this._activate()},e.prototype.deactivate=function(){this._activated=!1,this._deactivate()},e.prototype.dispose=function(){this.deactivate(),this._cb_onClick=null},e.prototype._activate=function(){this.buttonMode=!0,this.on(o.EventType.MOUSEOVER,this._onMouseOver),this.on(o.EventType.MOUSEOUT,this._onMouseOut),this.on(o.EventType.CLICK,this._onClick)},e.prototype._deactivate=function(){this.buttonMode=!1,this.off(o.EventType.MOUSEOVER,this._onMouseOver),this.off(o.EventType.MOUSEOUT,this._onMouseOut),this.off(o.EventType.CLICK,this._onClick)},e.prototype._update=function(t){0==t||1==this._selected?(this._base.visible=!0,this._over.visible=!1):(this._base.visible=!1,this._over.visible=!0),1==this._selected?this._light.activate():this._light.deactivate()},e.prototype._getTexture=function(t){if(101==t||102==t){if(0==this._target)return r.ITEM_MENU_1.getTexture(0);if(1==this._target)return r.ITEM_MENU_1.getTexture(2);if(2==this._target)return r.ITEM_MENU_1.getTexture(4)}else if(201==t){if(0==this._target)return s.ITEM_MENU_2.getTexture(0);if(1==this._target)return s.ITEM_MENU_2.getTexture(2);if(2==this._target)return s.ITEM_MENU_2.getTexture(4)}else if(301==t){if(0==this._target)return a.ITEM_MENU_3.getTexture(0);if(1==this._target)return a.ITEM_MENU_3.getTexture(2);if(2==this._target)return a.ITEM_MENU_3.getTexture(4)}else if(311==t){if(0==this._target)return a.ITEM_MENU_3.getTexture(6);if(1==this._target)return a.ITEM_MENU_3.getTexture(8);if(2==this._target)return a.ITEM_MENU_3.getTexture(10)}return PIXI.Texture.EMPTY},e.prototype._getTextureOn=function(t){if(101==t||102==t){if(0==this._target)return r.ITEM_MENU_1.getTexture(1);if(1==this._target)return r.ITEM_MENU_1.getTexture(3);if(2==this._target)return r.ITEM_MENU_1.getTexture(5)}else if(201==t){if(0==this._target)return s.ITEM_MENU_2.getTexture(1);if(1==this._target)return s.ITEM_MENU_2.getTexture(3);if(2==this._target)return s.ITEM_MENU_2.getTexture(5)}else if(301==t){if(0==this._target)return a.ITEM_MENU_3.getTexture(1);if(1==this._target)return a.ITEM_MENU_3.getTexture(3);if(2==this._target)return a.ITEM_MENU_3.getTexture(5)}else if(311==t){if(0==this._target)return a.ITEM_MENU_3.getTexture(7);if(1==this._target)return a.ITEM_MENU_3.getTexture(9);if(2==this._target)return a.ITEM_MENU_3.getTexture(11)}return PIXI.Texture.EMPTY},e}(PIXI.Sprite);e.TabBtn=_;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initialize=function(t){this.texture=t,this.visible=!1},e.prototype.activate=function(){this.alpha=0,this.visible=!0,this._tween=createjs.Tween.get(this,{loop:!0}).to({alpha:1},3e3).to({alpha:0},3e3)},e.prototype.deactivate=function(){this.visible=!1,null!=this._tween&&this._tween.setPaused(!0),this._tween=null},e.prototype.dispose=function(){this.deactivate()},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(132),r=i(91),s=i(1113),a=i(1114),_=i(1151),l=function(t){function e(e){var i=t.call(this)||this;return i._onChangeSceneState=function(t){i._showView(t)},i._purchasedItems=e,i._header=new PIXI.Sprite,i._header.position.set(0,102),i.addChild(i._header),i._tabs=new s.TabContainer(i._onChangeSceneState),i._tabs.position.set(181,160),i.addChild(i._tabs),i}return n(e,t),e.prototype.initialize=function(){this._header.texture=o.ITEM_ILIST.getTexture(35),this._tabs.initialize()},e.prototype.update=function(){this._showView(0)},e.prototype.updateForPurchasedView=function(){this._showView(1)},e.prototype.activate=function(){this._tabs.activate()},e.prototype.deactivate=function(){this._tabs.deactivate()},e.prototype.dispose=function(){this._tabs.dispose(),null!=this._ownedView&&(this._ownedView.dispose(),this._ownedView=null),null!=this._purchasedView&&(this._purchasedView.dispose(),this._purchasedView=null),this._purchasedItems=null},e.prototype._removeView=function(){null!=this._current&&(this.removeChild(this._current),this._current.deactivate(),this._current=null)},e.prototype._showView=function(t){this._removeView(),this._tabs.update(t),0==t?(null==this._ownedView&&(this._ownedView=new a.OwnedItemListMain,this._ownedView.initialize()),this._current=this._ownedView):1==t&&(null==this._purchasedView&&(this._purchasedView=new _.PurchasedItemListMain(this._purchasedItems),this._purchasedView.initialize()),this._current=this._purchasedView),this._current.update(),this._current.activate(),this.addChild(this._current)},e}(r.ViewBase);e.ItemListMain=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i._owned=new a(0,e),i.addChild(i._owned),i._purchased=new a(1,e),i._purchased.x=192,i.addChild(i._purchased),i}return n(e,t),e.prototype.initialize=function(){this._owned.initialize(),this._purchased.initialize()},e.prototype.activate=function(){this._owned.activate(),this._purchased.activate()},e.prototype.update=function(t){this._owned.selected=t==this._owned.state,this._purchased.selected=t==this._purchased.state},e.prototype.deactivate=function(){this._owned.deactivate(),this._purchased.deactivate()},e.prototype.dispose=function(){this._owned.dispose(),this._purchased.dispose()},e}(PIXI.Container);e.TabContainer=s;var a=function(t){function e(e,i){var n=t.call(this)||this;return n._activated=!1,n._selected=!1,n._onMouseOver=function(){n._update(!0)},n._onMouseOut=function(){n._update(!1)},n._onClick=function(){null!=n._cb_onClick&&n._cb_onClick(n._state)},n._state=e,n._cb_onClick=i,n.interactive=!0,n}return n(e,t),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected!=t&&(this._selected=t,0==this._selected&&1==this._activated?this.activate():1==this._selected&&1==this._activated&&this._deactivate(),this._update(!1))},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._update(!1)},e.prototype.activate=function(){this._activated=!0,1!=this.buttonMode&&1!=this.selected&&(this.buttonMode=!0,this.on(r.EventType.MOUSEOVER,this._onMouseOver),this.on(r.EventType.MOUSEOUT,this._onMouseOut),this.on(r.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this._activated=!1,this._deactivate()},e.prototype.dispose=function(){this.deactivate()},e.prototype._deactivate=function(){this.buttonMode=!1,this.off(r.EventType.MOUSEOVER,this._onMouseOver),this.off(r.EventType.MOUSEOUT,this._onMouseOut),this.off(r.EventType.CLICK,this._onClick)},e.prototype._update=function(t){0==t&&0==this._selected?this.texture=this._getTexture():this.texture=this._getTextureOn()},e.prototype._getTexture=function(){var t;switch(this._state){case 0:t=30;break;case 1:t=32;break;default:return PIXI.Texture.EMPTY}return o.ITEM_ILIST.getTexture(t)},e.prototype._getTextureOn=function(){var t;switch(this._state){case 0:t=31;break;case 1:t=33;break;default:return PIXI.Texture.EMPTY}return o.ITEM_ILIST.getTexture(t)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(3),s=i(91),a=i(118),_=i(402),l=i(1116),u=i(240),c=i(1),h=function(t){function e(){var e=t.call(this)||this;return e._onSelect=function(t){e._detail_panel.update(t)},e._onUse=function(t){var i=o.default.model.useItem.get(t);if(null!=i){var n=o.default.view.overLayer,r=new u.TaskUseItem(n,i);r.start(function(){1==r.result&&(e.update(!1),e.activate(),e._detail_panel.update(-1))})}},e._onExOpen=function(){e._openExShelf(300)},e._onExClose=function(){e._closeExShelf(300)},e._bg_layer=new PIXI.Container,e.addChild(e._bg_layer),e._btn_ex_close=new f,e._btn_ex_close.position.set(186,205),e.addChild(e._btn_ex_close),e._btn_ex_open=new d,e._btn_ex_open.position.set(735,205),e.addChild(e._btn_ex_open),e._shelf_layer=new PIXI.Container,e.addChild(e._shelf_layer),e._shelf_mask=new PIXI.Graphics,e._shelf_mask.beginFill(0),e._shelf_mask.drawRect(180,240,727,427),e._shelf_mask.endFill(),e.addChild(e._shelf_mask),e._shelf_layer.mask=e._shelf_mask,e._shelf_grad=new PIXI.Sprite,e._shelf_grad.position.set(180,240),e._shelf_grad.visible=!1,e.addChild(e._shelf_grad),e._detail_panel=new l.OwnedItemDetailPanel(e._onUse),e._detail_panel.position.set(904,201),e.addChild(e._detail_panel),e}return n(e,t),e.prototype.initialize=function(){var t=new PIXI.Sprite(r.ITEM_ILIST.getTexture(16));t.position.set(180,202),this._bg_layer.addChild(t),this._btn_ex_open.initialize(this._onExOpen),this._btn_ex_close.initialize(this._onExClose),t=new PIXI.Sprite(r.ITEM_ILIST.getTexture(18)),t.position.set(180,240),this._shelf_layer.addChild(t),t=new PIXI.Sprite(r.ITEM_ILIST.getTexture(19)),t.position.set(907,240),this._shelf_layer.addChild(t),this._shelf_grad.texture=r.ITEM_ILIST.getTexture(0),this._detail_panel.initialize(),this._icons=[];for(var e=a.ITEMLIST_ORDER.length,i=0;i<e;i++){var n=new _.ItemIcon(this._onSelect);if(i<32){var o=Math.floor(i/8);n.x=213+i%8*84,n.y=260+104*o,o>=2&&(n.y-=1)}else{var s=i-32,o=Math.floor(s/3);n.x=928+s%3*84,n.y=260+104*o,o>=2&&(n.y-=1)}n.initialize(),this._shelf_layer.addChild(n),this._icons.push(n)}},e.prototype.update=function(t){void 0===t&&(t=!0),t&&this._closeExShelf(0),this._detail_panel.update(-1);for(var e=0;e<this._icons.length;e++){var i=this._icons[e],n=a.ITEMLIST_ORDER[e],r=o.default.model.useItem.get(n),s=null==r?0:r.count;i.update(n,s)}},e.prototype.activate=function(){for(var t=0,e=this._icons;t<e.length;t++){e[t].activate()}this._btn_ex_open.activate(),this._btn_ex_close.activate()},e.prototype.deactivate=function(){for(var t=0,e=this._icons;t<e.length;t++){e[t].deactivate()}this._btn_ex_open.deactivate(),this._btn_ex_close.deactivate()},e.prototype.dispose=function(){this._shelf_layer.removeChildren(),this._shelf_layer=null;for(var t=0,e=this._icons;t<e.length;t++){var i=e[t];i.deactivate(),i.dispose()}this._icons=null,this._btn_ex_open.dispose(),this._btn_ex_close.dispose(),this._detail_panel.dispose(),this.removeChildren()},e.prototype._openExShelf=function(t){var e=this;this._btn_ex_open.hide(),this._shelf_grad.visible=!0,createjs.Tween.get(this._shelf_layer).to({x:-282},t,createjs.Ease.cubicOut).call(function(){e._btn_ex_close.show()})},e.prototype._closeExShelf=function(t){var e=this;this._btn_ex_close.hide(),createjs.Tween.get(this._shelf_layer).to({x:0},t,createjs.Ease.cubicOut).call(function(){e._shelf_grad.visible=!1,e._btn_ex_open.show()})},e}(s.ViewBase);e.OwnedItemListMain=h;var p=function(t){function e(){var e=t.call(this)||this;return e._onMouseOver=function(){e._update(!0)},e._onMouseOut=function(){e._update(!1)},e._onClick=function(){null!=e._cb_onClick&&e._cb_onClick()},e.interactive=!0,e}return n(e,t),e.prototype.initialize=function(t){this._cb_onClick=t,this._update(!1)},e.prototype.activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(c.EventType.MOUSEOVER,this._onMouseOver),this.on(c.EventType.MOUSEOUT,this._onMouseOut),this.on(c.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(c.EventType.MOUSEOVER,this._onMouseOver),this.off(c.EventType.MOUSEOUT,this._onMouseOut),this.off(c.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate()},e.prototype.show=function(){this.visible=!0},e.prototype.hide=function(){this.visible=!1,this._update(!1)},e}(PIXI.Sprite),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._update=function(t){this.texture=0==t?r.ITEM_ILIST.getTexture(20):r.ITEM_ILIST.getTexture(21)},e}(p),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._update=function(t){this.texture=0==t?r.ITEM_ILIST.getTexture(22):r.ITEM_ILIST.getTexture(23)},e}(p)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){try{return PIXI.Texture.fromFrame("item_payitemicon_id_"+t)}catch(t){return PIXI.Texture.EMPTY}}t.getTextureFromMstID=e}(e.ITEM_PAYITEMICON||(e.ITEM_PAYITEMICON={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(4),s=i(3),a=i(1117),_=function(t){function e(e){var i=t.call(this)||this;return i._onUse=function(){null!=i._cb_onUse&&i._cb_onUse(i._mst_id)},i._cb_onUse=e,i._name=new r.TextBox(22,16777215),i._name.position.set(0,18),i.addChild(i._name),i._name2=new r.TextBox(22,16777215),i._name2.position.set(0,18),i.addChild(i._name2),i._name2.visible=!1,i._icon=new PIXI.Sprite,i._icon.position.set(105,81),i.addChild(i._icon),i._count=new l,i._count.position.set(243,84),i.addChild(i._count),i._description=new r.TextBox(18,16777215),i._description.position.set(22,186),i._description.style.breakWords=!0,i._description.style.wordWrap=!0,i._description.style.wordWrapWidth=264,i.addChild(i._description),i._use_btn=new a.UseBtn,i._use_btn.position.set(66,388),i._use_btn.visible=!1,i.addChild(i._use_btn),i}return n(e,t),e.prototype.initialize=function(){this.texture=s.ITEM_ILIST.getTexture(17),this._use_btn.initialize(this._onUse)},e.prototype.update=function(t){this._mst_id=t;var e=o.default.model.useItem.get(t);if(null==e)return void this._clean();if(76==this._mst_id){var i=e.name.match(/(.+)(\(.+\))/);if(null==i||i.length<3)this._name.text=e.name,this._name.x=Math.round(154-this._name.width/2),this._name2.visible=!1;else{this._name.text=i[1],this._name2.text=i[2],this._name2.style.fontSize=21,this._name2.visible=!0;var n=this._name.width+this._name2.width;this._name.x=Math.round(154-n/2),this._name2.x=this._name.x+this._name.width,this._name2.y=this._name.y+this._name.height-this._name2.height}}else this._name.text=e.name,this._name.x=Math.round(154-this._name.width/2),this._name2.visible=!1;this._icon.texture=o.default.resources.getUseitem(t,0),this._count.update(e.count),this._count.visible=!0,this._description.text=e.description.replace(/<br>/g,"\n"),1==e.isUsable()&&e.count>0?(this._use_btn.visible=!0,this._use_btn.activate()):(this._use_btn.visible=!1,this._use_btn.deactivate())},e.prototype.dispose=function(){this._name.destroy(),this._name2.destroy(),this._count.dispose(),this._description.destroy(),this._use_btn.dispose(),this._cb_onUse=null},e.prototype._clean=function(){this._name.text="",this._name2.text="",this._icon.texture=PIXI.Texture.EMPTY,this._count.visible=!1,this._description.text="",this._use_btn.visible=!1,this._use_btn.deactivate()},e}(PIXI.Sprite);e.OwnedItemDetailPanel=_;var l=function(t){function e(){var e=t.call(this)||this;return e._bg=new PIXI.Sprite,e.addChild(e._bg),e._text=new r.TextBox(30,16777215),e._text.y=28,e.addChild(e._text),e}return n(e,t),e.prototype.initialize=function(){this.update(0)},e.prototype.update=function(t){var e;e=t<100?24:t<1e3?25:26,this._bg.texture=s.ITEM_ILIST.getTexture(e),this._bg.x=-Math.round(this._bg.width/2),this._text.text=t.toString(),this._text.x=-Math.round(this._text.width/2)},e.prototype.dispose=function(){this.removeChildren(),this._text.destroy()},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(31),r=i(3),s=function(t){function e(){var e=t.call(this)||this;return e._light=new PIXI.Sprite,e._light.position.set(-22,-24),e.addChild(e._light),e}return n(e,t),e.prototype.dispose=function(){this._stopTween(),t.prototype.dispose.call(this)},e.prototype._update=function(t){0==t?(this.texture=r.ITEM_ILIST.getTexture(12),this._light.texture=r.ITEM_ILIST.getTexture(1)):(this.texture=r.ITEM_ILIST.getTexture(13),this._light.texture=r.ITEM_ILIST.getTexture(2)),this._stopTween(),this._startTween()},e.prototype._activate=function(){this._stopTween(),this._startTween(),t.prototype._activate.call(this)},e.prototype._startTween=function(){this._light.alpha=0,this._tween=createjs.Tween.get(this._light,{loop:!0}).to({alpha:1},3e3).to({alpha:0},3e3)},e.prototype._stopTween=function(){null!=this._tween&&this._tween.setPaused(!0),this._tween=null},e}(o.BtnBase);e.UseBtn=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(17),a=i(34),_=i(167),l=i(129),u=i(106),c=i(158),h=i(200),p=i(6),d=i(403),f=i(1123),y=i(1125),m=i(1130),g=i(1134),v=i(1138),b=i(1142),w=function(t){function e(e,i){var n=t.call(this)||this;return n._layer=e,n._target=i,n}return n(e,t),Object.defineProperty(e.prototype,"result",{get:function(){return null!=this._api_result},enumerable:!0,configurable:!0}),e.prototype._start=function(){if(null==this._target)return void this._endTask();this._fade=new s.FadeBox(.6),this._fade.hide(0),this._startTask()},e.prototype._startTask=function(){var t,e=this._target.mstID;if(10==e||11==e||12==e)t=new f.TaskUseFurnitureBox(this._fade,this._target);else if(57==e)t=new y.TaskUseMedal(this._fade,this._target);else if(60==e)t=new m.TaskUsePresentBox(this._fade,this._target);else if(61==e)t=new g.TaskUseKouMedal(this._fade,this._target);else if(62==e)t=new v.TaskUseHishimochi(this._fade,this._target);else if(63==e){var i=o.default.model.const.quest_max,n=o.default.model.basic.getDutyExecutableCount();n<i?(p.SE.play("244"),t=new d.TaskUseNormalItem(this._fade,this._target)):p.SE.play("248")}else 68==e||72==e||(80==e?t=new b.TaskUseGiftBox(this._fade,this._target):85==e||86==e||87==e||88==e||89==e||90==e||(t=new d.TaskUseNormalItem(this._fade,this._target)));null!=t?this._showFade(t):this._endTask()},e.prototype._showFade=function(t){var e=this;this._layer.addChild(this._fade),this._fade.show(200,function(){t.start(function(){e._api_result=t.result,e._updateData()})})},e.prototype._updateData=function(){var t=this;if(null==this._api_result)return void this._hideFade();if(63==this._target.mstID){var e=o.default.model.basic.getDutyExecutableCount();o.default.model.basic.setDutyExcutableCount(e+1)}else if(68==this._target.mstID){var i=o.default.model.deck.get(1).getShipModel(0);o.default.sound.voice.play(i.mstID.toString(),26)}var n=new a.APIConnector;if(n.add(new u.UseItemAPI),this._api_result.hasMaterialReward()&&n.add(new _.MaterialAPI),this._api_result.hasCoinReward()&&n.add(new c.UserDataAPI),this._api_result.hasSlotitemReward()){var r=this._api_result.getSlotitemObjects();o.default.model.slot.addMemData(r),n.add(new l.UnsetSlotAPI)}n.start(function(){o.default.model.useItem.updateCount(),o.default.view.portMain.updateInfo(),t._showReward()})},e.prototype._showReward=function(){var t=this;if(null==this._api_result)return void this._hideFade();var e=this._api_result.rewards;if(null==e||0==e.length)return void this._hideFade();var i=o.default.view.overLayer;new h.TaskReward(i,e).start(function(){t._hideFade()})},e.prototype._hideFade=function(){var t=this;this._fade.hide(150,function(){t._layer.removeChild(t._fade),t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._target=null,this._fade=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskUseItem=w},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(92))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._result=null,e}return n(e,t),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e}(o.TaskBase);e.TaskWithResult=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(PIXI.Sprite);e.DialogBase=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=function(t){function e(e,i){var n=t.call(this)||this;return n._activated=!1,n._enabled=!0,n._onClick=function(){null!=n._cb_onClick&&n._cb_onClick(n._target)},n._target=e,n._cb_onClick=i,n.interactive=!0,n}return n(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled!=t&&(this._enabled=t,1==this._enabled?1==this._activated&&this._activate():1==this._activated&&this._deactivate(),this._update())},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e){void 0===e&&(e=null),this._t=t,this._t_off=null==e?t:e,this._update()},e.prototype.activate=function(){1!=this._activated&&(this._activated=!0,0!=this._enabled&&this._activate())},e.prototype.deactivate=function(){this._activated=!1,this._deactivate()},e.prototype.dispose=function(){this.deactivate(),this._cb_onClick=null,this._t=null,this._t_off=null},e.prototype._update=function(){0==this._enabled?this.texture=this._t_off:this.texture=this._t},e.prototype._activate=function(){this.buttonMode=!0,this.once(o.EventType.CLICK,this._onClick)},e.prototype._deactivate=function(){this.buttonMode=!1,this.off(o.EventType.CLICK,this._onClick)},e}(PIXI.Sprite);e.BtnBase=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(92),s=i(33),a=i(93),_=i(1124),l=function(t){function e(e,i){var n=t.call(this)||this;return n._onResult=function(t){n._dialog.deactivate(),n._selected_exchange_type=t,-1==t?n._hideDialog(!1):n._connectAPI(t)},n._layer=e,n._target=i,n}return n(e,t),e.prototype._start=function(){this._showDialog()},e.prototype._showDialog=function(){var t=this;this._dialog=new _.FBoxUseDialog(this._onResult),this._dialog.initialize(this._target.count),this._dialog.alpha=0,this._layer.addChild(this._dialog),createjs.Tween.get(this._dialog).to({alpha:1},150).call(function(){t._dialog.activate()})},e.prototype._connectAPI=function(t){var e=this,i=this._target.mstID,n=(o.default.view.overLayer,new r.UseItemUseAPI(i,!1,t)),s=n.result;n.start(function(){1==s.hasCaution()?e._hideDialog(!0):(e._result=s,e._hideDialog(!1))})},e.prototype._hideDialog=function(t){var e=this;createjs.Tween.get(this._dialog).to({alpha:0},150).call(function(){e._dialog.dispose(),e._layer.removeChild(e._dialog),e._dialog=null,1==t?e._confirm():e._endTask()})},e.prototype._confirm=function(){var t=this,e=this._target.mstID,i=this._selected_exchange_type,n=this._layer,o=new a.TaskItemOverflowConfirm(n);o.start(function(){if(1==o.result){var n=new r.UseItemUseAPI(e,!0,i),s=n.result;n.start(function(){t._result=s,t._endTask()})}else t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._target=null,t.prototype._endTask.call(this)},e}(s.TaskWithResult);e.TaskUseFurnitureBox=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(3),s=i(33),a=i(33),_=function(t){function e(e){var i=t.call(this)||this;return i._bg=new PIXI.Sprite,i._bg.position.set(147,267),i.addChild(i._bg),i._btn_all=new a.BtnBase(41,e),i._btn_all.position.set(332,305),i.addChild(i._btn_all),i._btn_half=new a.BtnBase(42,e),i._btn_half.position.set(537,305),i.addChild(i._btn_half),i._btn_only10=new a.BtnBase(43,e),i._btn_only10.position.set(744,305),i.addChild(i._btn_only10),i._btn_back=new a.BtnBase(-1,e),i._btn_back.position.set(972,402),i.addChild(i._btn_back),i}return n(e,t),e.prototype.initialize=function(t){var e,i;e=r.ITEM_FSHOP.getTexture(52),this._bg.texture=e,e=o.ITEM_ILIST.getTexture(4),this._btn_all.initialize(e),e=o.ITEM_ILIST.getTexture(5),i=o.ITEM_ILIST.getTexture(6),this._btn_half.initialize(e,i),this._btn_half.enabled=t>1,e=o.ITEM_ILIST.getTexture(7),i=o.ITEM_ILIST.getTexture(8),this._btn_only10.initialize(e,i),this._btn_only10.enabled=t>=10,e=r.ITEM_FSHOP.getTexture(1),this._btn_back.initialize(e)},e.prototype.activate=function(){this._btn_all.activate(),this._btn_half.activate(),this._btn_only10.activate(),this._btn_back.activate()},e.prototype.deactivate=function(){this._btn_all.deactivate(),this._btn_half.deactivate(),this._btn_only10.deactivate(),this._btn_back.deactivate()},e.prototype.dispose=function(){this._btn_all.dispose(),this._btn_half.dispose(),this._btn_only10.dispose(),this._btn_back.dispose()},e}(s.DialogBase);e.FBoxUseDialog=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(92),s=i(33),a=i(93),_=i(1126),l=function(t){function e(e,i){var n=t.call(this)||this;return n._onResult=function(t){n._dialog.deactivate(),n._selected_exchange_type=t,-1==t?n._hideDialog(!1):n._connectAPI(t)},n._layer=e,n._target=i,n}return n(e,t),e.prototype._start=function(){this._showDialog()},e.prototype._showDialog=function(){var t=this;this._dialog=new _.MedalUseDialog(this._onResult),this._dialog.initialize(this._target.count),this._dialog.alpha=0,this._layer.addChild(this._dialog),createjs.Tween.get(this._dialog).to({alpha:1},150).call(function(){t._dialog.activate()})},e.prototype._connectAPI=function(t){var e=this,i=this._target.mstID,n=(o.default.view.overLayer,new r.UseItemUseAPI(i,!1,t)),s=n.result;n.start(function(){1==s.hasCaution()?e._hideDialog(!0):(e._result=s,e._hideDialog(!1))})},e.prototype._hideDialog=function(t){var e=this;createjs.Tween.get(this._dialog).to({alpha:0},150).call(function(){e._dialog.dispose(),e._layer.removeChild(e._dialog),e._dialog=null,1==t?e._confirm():e._endTask()})},e.prototype._confirm=function(){var t=this,e=this._target.mstID,i=this._selected_exchange_type,n=this._layer,o=new a.TaskItemOverflowConfirm(n);o.start(function(){if(1==o.result){var n=new r.UseItemUseAPI(e,!0,i),s=n.result;n.start(function(){t._result=s,t._endTask()})}else t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._target=null,t.prototype._endTask.call(this)},e}(s.TaskWithResult);e.TaskUseMedal=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(33),r=i(1127),s=i(1128),a=i(1129),_=function(t){function e(e){var i=t.call(this)||this;return i._count=0,i._onSelectFromTop=function(t){if(-1==t){if(null==i._cb_onResult)return;i._cb_onResult(t)}else null!=i._confirm_view&&(null!=i._confirm_view.parent&&i._confirm_view.parent.removeChild(i._confirm_view),i._confirm_view.dispose(),i._confirm_view=null),1==t?(i._confirm_view=new a.ConfirmRemodelPlanView(1,i._onSelectFromConfirm),i._confirm_view.position.set(220,171)):0==t?(i._confirm_view=new s.ConfirmView(0,i._onSelectFromConfirm),i._confirm_view.position.set(225,208)):2==t&&(i._confirm_view=new s.ConfirmView(2,i._onSelectFromConfirm),i._confirm_view.position.set(225,208)),i._confirm_view.initialize(i._count),i.addChild(i._confirm_view),i._top_view.visible=!1},i._onSelectFromConfirm=function(t){null!=i._confirm_view&&i._confirm_view.dispose(),null!=i._cb_onResult&&i._cb_onResult(t)},i._cb_onResult=e,i._top_view=new r.TopView(i._onSelectFromTop),i._top_view.position.set(225,208),i.addChild(i._top_view),i}return n(e,t),e.prototype.initialize=function(t){this._count=t,this._top_view.initialize(t)},e.prototype.activate=function(){this._top_view.activate()},e.prototype.deactivate=function(){this._top_view.deactivate()},e.prototype.dispose=function(){this._top_view.dispose()},e}(o.DialogBase);e.MedalUseDialog=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(4),s=i(3),a=i(33),_=function(t){function e(e){var i=t.call(this)||this;return i._message=new r.TextBox(18,4999235),i._message.position.set(272,74),i.addChild(i._message),i._icon=new PIXI.Sprite,i._icon.position.set(149,74),i.addChild(i._icon),i._btn_plan=new a.BtnBase(1,e),i._btn_plan.position.set(21,207),i.addChild(i._btn_plan),i._btn_mat=new a.BtnBase(0,e),i._btn_mat.position.set(332,188),i.addChild(i._btn_mat),i._btn_rev=new a.BtnBase(2,e),i._btn_rev.position.set(332,237),i.addChild(i._btn_rev),i._btn_back=new a.BtnBase(-1,e),i._btn_back.position.set(585,213),i.addChild(i._btn_back),i}return n(e,t),e.prototype.initialize=function(t){this.texture=s.ITEM_ILIST_MEDAL.getTexture(7),this._message.text="\u300c\u8cc7\u6e90\u300d\u3084\u300c\u6539\u4fee\u8cc7\u6750\u300d\u306b\u4ea4\u63db\u3067\u304d\u307e\u3059\u3002\n\u307e\u305f\u3001\u52f2\u7ae04\u500b\u3092\u300c\u6539\u88c5\u8a2d\u8a08\u56f3\u300d1\u679a\u306b\n\u4ea4\u63db\u53ef\u80fd\u3067\u3059\u3002",this._icon.texture=o.default.resources.getUseitem(57,0);var e=s.ITEM_ILIST_MEDAL.getTexture(2),i=s.ITEM_ILIST_MEDAL.getTexture(3);this._btn_plan.initialize(e,i),this._btn_plan.enabled=t>=4,e=s.ITEM_ILIST_MEDAL.getTexture(4),this._btn_mat.initialize(e),e=s.ITEM_ILIST_MEDAL.getTexture(5),this._btn_rev.initialize(e),e=s.ITEM_ILIST_MEDAL.getTexture(1),this._btn_back.initialize(e)},e.prototype.activate=function(){this._btn_plan.activate(),this._btn_mat.activate(),this._btn_rev.activate(),this._btn_back.activate()},e.prototype.deactivate=function(){this._btn_plan.deactivate(),this._btn_mat.deactivate(),this._btn_rev.deactivate(),this._btn_back.deactivate()},e.prototype.dispose=function(){this.removeChildren(),this._message.destroy(),this._btn_plan.dispose(),this._btn_mat.dispose(),this._btn_rev.dispose(),this._btn_back.dispose()},e}(PIXI.Sprite);e.TopView=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(3),s=i(33),a=i(404),_=i(405),l=function(t){function e(e,i){var n=t.call(this)||this;return n._message=new o.TextBox(18,4999235),n._message.position.set(230,33),n.addChild(n._message),n._icon=new _.MedalIcon,n._icon.position.set(308,116),n.addChild(n._icon),n._btn_yes=new s.BtnBase(e,i),n._btn_yes.position.set(179,215),n.addChild(n._btn_yes),n._btn_no=new s.BtnBase(-1,i),n._btn_no.position.set(389,215),n.addChild(n._btn_no),0==e?n._message.text="\u52f2\u7ae0\u3092\u300c\u8cc7\u6e90\u300d\u306b\u4ea4\u63db\u3057\u307e\u3059\u3002\n\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f":2==e&&(n._message.text="\u52f2\u7ae0\u3092\u300c\u6539\u4fee\u8cc7\u6750\u300d\u306b\u4ea4\u63db\u3057\u307e\u3059\u3002\n\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f"),n}return n(e,t),e.prototype.initialize=function(t){this.texture=r.ITEM_ILIST_MEDAL.getTexture(7),this._initialize(t,1)},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._message.destroy()},e}(a.ConfirmViewBase);e.ConfirmView=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(33),s=i(404),a=i(405),_=function(t){function e(e,i){var n=t.call(this)||this;return n._bg=new PIXI.Sprite,n._bg.position.set(-106,37),n.addChild(n._bg),n._message=new PIXI.Sprite,n._message.position.set(282,74),n.addChild(n._message),n._icon=new a.MedalIcon,n._icon.position.set(358,152),n.addChild(n._icon),n._btn_yes=new r.BtnBase(e,i),n._btn_yes.position.set(241,251),n.addChild(n._btn_yes),n._btn_no=new r.BtnBase(-1,i),n._btn_no.position.set(451,251),n.addChild(n._btn_no),n}return n(e,t),e.prototype.initialize=function(t){this._bg.texture=o.ITEM_ILIST_MEDAL.getTexture(8),this._message.texture=o.ITEM_ILIST_MEDAL.getTexture(9),this._initialize(t,4)},e}(s.ConfirmViewBase);e.ConfirmRemodelPlanView=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(92),s=i(33),a=i(93),_=i(1131),l=function(t){function e(e,i){var n=t.call(this)||this;return n._onResult=function(t){n._dialog.deactivate(),n._seleced_use_type=t,-1==t?n._hideDialog(!1):n._connectAPI()},n._layer=e,n._target=i,n}return n(e,t),e.prototype._start=function(){this._showDialog()},e.prototype._showDialog=function(){var t=this;this._dialog=new _.PresentBoxUseDialog(this._onResult),this._dialog.initialize(),this._dialog.alpha=0,this._layer.addChild(this._dialog),createjs.Tween.get(this._dialog).to({alpha:1},150).call(function(){t._dialog.activate()})},e.prototype._connectAPI=function(){var t=this,e=this._target.mstID,i=this._seleced_use_type,n=(o.default.view.overLayer,new r.UseItemUseAPI(e,!1,i)),s=n.result;n.start(function(){1==s.hasCaution()?t._hideDialog(!0):(t._result=s,t._hideDialog(!1))})},e.prototype._hideDialog=function(t){var e=this;createjs.Tween.get(this._dialog).to({alpha:0},150).call(function(){e._dialog.dispose(),e._layer.removeChild(e._dialog),e._dialog=null,1==t?e._confirm():e._endTask()})},e.prototype._confirm=function(){var t=this,e=this._target.mstID,i=this._seleced_use_type,n=this._layer,o=new a.TaskItemOverflowConfirm(n);o.start(function(){if(1==o.result){var n=new r.UseItemUseAPI(e,!0,i),s=n.result;n.start(function(){t._result=s,t._endTask()})}else t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._target=null,t.prototype._endTask.call(this)},e}(s.TaskWithResult);e.TaskUsePresentBox=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(33),r=i(1132),s=i(1133),a=function(t){function e(e){var i=t.call(this)||this;return i._onSelectFromTop=function(t){if(i._top_view.deactivate(),-1==t){if(null==i._cb_onResult)return;i._cb_onResult(t)}else i._confirm_view=new s.ConfirmView(t,i._onSelectFromConfirm),i._confirm_view.position.set(387,171),i.addChild(i._confirm_view),i._confirm_view.initialize(t),i._confirm_view.activate(),i._top_view.dispose(),i.removeChild(i._top_view),i._top_view=null},i._onSelectFromConfirm=function(t){null!=i._cb_onResult&&i._cb_onResult(t)},i._cb_onResult=e,i._top_view=new r.TopView(i._onSelectFromTop),i._top_view.position.set(312,171),i.addChild(i._top_view),i}return n(e,t),e.prototype.initialize=function(){this._top_view.initialize()},e.prototype.activate=function(){null!=this._top_view&&this._top_view.activate(),null!=this._confirm_view&&this._confirm_view.activate()},e.prototype.deactivate=function(){null!=this._top_view&&this._top_view.deactivate(),null!=this._confirm_view&&this._confirm_view.deactivate()},e.prototype.dispose=function(){null!=this._top_view&&this._top_view.dispose(),null!=this._confirm_view&&this._confirm_view.dispose()},e}(o.DialogBase);e.PresentBoxUseDialog=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(3),s=i(33),a=function(t){function e(e){var i=t.call(this)||this;return i._message1=new o.TextBox(22,1381651),i._message1.position.set(167,96),i.addChild(i._message1),i._message2=new o.TextBox(22,1381651),i._message2.position.set(167,126),i.addChild(i._message2),i._btn_shigen=new s.BtnBase(11,e),i._btn_shigen.position.set(146,180),i.addChild(i._btn_shigen),i._btn_kanmi=new s.BtnBase(13,e),i._btn_kanmi.position.set(284,180),i.addChild(i._btn_kanmi),i._btn_shizai=new s.BtnBase(12,e),i._btn_shizai.position.set(422,180),i.addChild(i._btn_shizai),i._btn_back=new s.BtnBase(-1,e),i._btn_back.position.set(585,278),i.addChild(i._btn_back),i}return n(e,t),e.prototype.initialize=function(){this.texture=r.ITEM_ILIST_PRESENTBOX.getTexture(9),this._message1.text="\u300c\u30d7\u30ec\u30bc\u30f3\u30c8\u7bb1\u300d\u3092\u958b\u5c01\u3057\u307e\u3059\u3002",this._message1.x=339-this._message1.width/2,this._message2.text="\u4e0b\u8a18\u306e\u30c1\u30e7\u30a4\u30b9\u304c\u53ef\u80fd\u3067\u3059\u3002",this._message2.x=339-this._message2.width/2;var t=r.ITEM_ILIST_PRESENTBOX.getTexture(3);this._btn_shigen.initialize(t),t=r.ITEM_ILIST_PRESENTBOX.getTexture(4),this._btn_kanmi.initialize(t),t=r.ITEM_ILIST_PRESENTBOX.getTexture(5),this._btn_shizai.initialize(t),t=r.ITEM_ILIST_PRESENTBOX.getTexture(0),this._btn_back.initialize(t)},e.prototype.activate=function(){this._btn_shigen.activate(),this._btn_kanmi.activate(),this._btn_shizai.activate(),this._btn_back.activate()},e.prototype.deactivate=function(){this._btn_shigen.deactivate(),this._btn_kanmi.deactivate(),this._btn_shizai.deactivate(),this._btn_back.deactivate()},e.prototype.dispose=function(){this.removeChildren(),this._message1.destroy(),this._message2.destroy(),this._btn_shigen.dispose(),this._btn_kanmi.dispose(),this._btn_shizai.dispose(),this._btn_back.dispose()},e}(PIXI.Sprite);e.TopView=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(3),s=i(33),a=function(t){function e(e,i){var n=t.call(this)||this;return n._message1=new o.TextBox(22,1381651),n._message1.position.set(92,81),n.addChild(n._message1),n._message2=new o.TextBox(22,1381651),n._message2.position.set(92,111),n.addChild(n._message2),n._icon=new PIXI.Sprite,n._icon.position.set(152,165),n.addChild(n._icon),n._btn_yes=new s.BtnBase(e,i),n._btn_yes.position.set(129,267),n.addChild(n._btn_yes),n._btn_back=new s.BtnBase(-1,i),n._btn_back.position.set(279,267),n.addChild(n._btn_back),n}return n(e,t),e.prototype.initialize=function(t){this.texture=r.ITEM_ILIST_PRESENTBOX.getTexture(10),this._message1.text="\u300c\u30d7\u30ec\u30bc\u30f3\u30c8\u7bb1\u300d\u3092\u958b\u5c01\u3057\u307e\u3059\u3002",this._message1.x=264-this._message1.width/2,this._message2.text="\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",this._message2.x=264-this._message2.width/2,11==t?this._icon.texture=r.ITEM_ILIST_PRESENTBOX.getTexture(7):13==t?this._icon.texture=r.ITEM_ILIST_PRESENTBOX.getTexture(6):12==t&&(this._icon.texture=r.ITEM_ILIST_PRESENTBOX.getTexture(8));var e=r.ITEM_ILIST_PRESENTBOX.getTexture(2);this._btn_yes.initialize(e),e=r.ITEM_ILIST_PRESENTBOX.getTexture(1),this._btn_back.initialize(e)},e.prototype.activate=function(){this._btn_yes.activate(),this._btn_back.activate()},e.prototype.deactivate=function(){this._btn_yes.deactivate(),this._btn_back.deactivate()},e.prototype.dispose=function(){this.removeChildren(),this._message1.destroy(),this._message2.destroy(),this._btn_yes.dispose(),this._btn_back.dispose()},e}(PIXI.Sprite);e.ConfirmView=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(92),s=i(33),a=i(93),_=i(1135),l=function(t){function e(e,i){var n=t.call(this)||this;return n._onResult=function(t){n._dialog.deactivate(),-1==t?n._hideDialog(!1):n._connectAPI()},n._layer=e,n._target=i,n}return n(e,t),e.prototype._start=function(){this._showDialog()},e.prototype._showDialog=function(){var t=this;this._dialog=new _.KouMedalUseDialog(this._onResult),this._dialog.initialize(this._target.count),this._dialog.alpha=0,this._layer.addChild(this._dialog),createjs.Tween.get(this._dialog).to({alpha:1},150).call(function(){t._dialog.activate()})},e.prototype._connectAPI=function(){var t=this,e=this._target.mstID,i=(o.default.view.overLayer,new r.UseItemUseAPI(e,!1,0)),n=i.result;i.start(function(){1==n.hasCaution()?t._hideDialog(!0):(t._result=n,t._hideDialog(!1))})},e.prototype._hideDialog=function(t){var e=this;createjs.Tween.get(this._dialog).to({alpha:0},150).call(function(){e._dialog.dispose(),e._layer.removeChild(e._dialog),e._dialog=null,1==t?e._confirm():e._endTask()})},e.prototype._confirm=function(){var t=this,e=this._target.mstID,i=this._layer,n=new a.TaskItemOverflowConfirm(i);n.start(function(){if(1==n.result){var i=new r.UseItemUseAPI(e,!0,0),o=i.result;i.start(function(){t._result=o,t._endTask()})}else t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._target=null,t.prototype._endTask.call(this)},e}(s.TaskWithResult);e.TaskUseKouMedal=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(33),r=i(1136),s=i(1137),a=function(t){function e(e){var i=t.call(this)||this;return i._count=0,i._onSelectFromTop=function(t){if(i._top_view.deactivate(),-1==t){if(null==i._cb_onResult)return;i._cb_onResult(t)}else i._confirm_view=new s.ConfirmView(i._onSelectFromConfirm),i._confirm_view.position.set(215,206),i.addChild(i._confirm_view),i._confirm_view.initialize(i._count),i._confirm_view.activate(),i._top_view.dispose(),i.removeChild(i._top_view),i._top_view=null},i._onSelectFromConfirm=function(t){null!=i._cb_onResult&&i._cb_onResult(t)},i._cb_onResult=e,i._top_view=new r.TopView(i._onSelectFromTop),i._top_view.position.set(215,206),i.addChild(i._top_view),i}return n(e,t),e.prototype.initialize=function(t){this._count=t,this._top_view.initialize(t)},e.prototype.activate=function(){null!=this._top_view&&this._top_view.activate(),null!=this._confirm_view&&this._confirm_view.activate()},e.prototype.deactivate=function(){null!=this._top_view&&this._top_view.deactivate(),null!=this._confirm_view&&this._confirm_view.deactivate()},e.prototype.dispose=function(){null!=this._top_view&&this._top_view.dispose(),null!=this._confirm_view&&this._confirm_view.dispose()},e}(o.DialogBase);e.KouMedalUseDialog=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(3),s=i(33),a=function(t){function e(e){var i=t.call(this)||this;return i._message=new o.TextBox(18,4999235),i._message.position.set(176,47),i.addChild(i._message),i._message1=new o.TextBox(18,4999235),i._message1.position.set(237,92),i.addChild(i._message1),i._message2=new o.TextBox(18,4999235),i._message2.position.set(399,92),i.addChild(i._message2),i._message3=new o.TextBox(18,4999235),i._message3.position.set(237,122),i.addChild(i._message3),i._message4=new o.TextBox(18,4999235),i._message4.position.set(399,122),i.addChild(i._message4),i._message5=new o.TextBox(18,4999235),i._message5.position.set(323,161),i.addChild(i._message5),i._btn_yes=new s.BtnBase(0,e),i._btn_yes.position.set(191,219),i.addChild(i._btn_yes),i._btn_back=new s.BtnBase(-1,e),i._btn_back.position.set(399,219),i.addChild(i._btn_back),i}return n(e,t),e.prototype.initialize=function(t){this.texture=r.ITEM_ILIST_MEDAL_KOU.getTexture(2),this._message.text="\u7532\u7a2e\u52f2\u7ae0\u306f\u3001\u4e0b\u8a18\u306e\u7269\u8cc7\u3068\u4ea4\u63db\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002",this._message1.text="\u71c3\u6599\xd710,000",this._message2.text="\u6539\u4fee\u8cc7\u6750\xd710",this._message3.text="\u958b\u767a\u8cc7\u6e90\xd710",this._message4.text="\u5bb6\u5177\u7bb1(\u5927)\xd710",this._message5.text="\u4ea4\u63db\u3057\u307e\u3059\u304b\uff1f";var e=r.ITEM_ILIST_MEDAL_KOU.getTexture(1);this._btn_yes.initialize(e),e=r.ITEM_ILIST_MEDAL_KOU.getTexture(0),this._btn_back.initialize(e)},e.prototype.activate=function(){this._btn_yes.activate(),this._btn_back.activate()},e.prototype.deactivate=function(){this._btn_yes.deactivate(),this._btn_back.deactivate()},e.prototype.dispose=function(){this.removeChildren(),this._message.destroy(),this._message1.destroy(),this._message2.destroy(),this._message3.destroy(),this._message4.destroy(),this._message5.destroy(),this._btn_yes.dispose(),this._btn_back.dispose()},e}(PIXI.Sprite);e.TopView=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(4),s=i(3),a=i(33),_=function(t){function e(e){var i=t.call(this)||this;return i._message=new r.TextBox(18,4999235),i._message.position.set(174,47),i.addChild(i._message),i._icon=new PIXI.Sprite,i._icon.position.set(303,122),i.addChild(i._icon),i._arrow=new r.TextBox(18,4999235),i._arrow.text="\u2192",i._arrow.position.set(425,150),i.addChild(i._arrow),i._from=new r.TextBox(18,4999235),i._from.position.set(380,152),i.addChild(i._from),i._tobe=new r.TextBox(18,4999235),i._tobe.position.set(455,152),i.addChild(i._tobe),i._btn_yes=new a.BtnBase(0,e),i._btn_yes.position.set(191,219),i.addChild(i._btn_yes),i._btn_back=new a.BtnBase(-1,e),i._btn_back.position.set(399,219),i.addChild(i._btn_back),i}return n(e,t),e.prototype.initialize=function(t){this.texture=s.ITEM_ILIST_MEDAL_KOU.getTexture(2),this._message.text="\u7269\u8cc7\u3068\u4ea4\u63db\u3059\u308b\u3068\u3001\u7532\u7a2e\u52f2\u7ae0\xd71\u304c\u6d88\u3048\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u305d\u308c\u3067\u3082\u4ea4\u63db\u3057\u307e\u3059\u304b\uff1f",this._icon.texture=o.default.resources.getUseitem(61,0),this._from.text=t.toString(),this._from.x=420-this._from.width,this._tobe.text=(t-1).toString();var e=s.ITEM_ILIST_MEDAL_KOU.getTexture(1);this._btn_yes.initialize(e),e=s.ITEM_ILIST_MEDAL_KOU.getTexture(0),this._btn_back.initialize(e)},e.prototype.activate=function(){this._btn_yes.activate(),this._btn_back.activate()},e.prototype.deactivate=function(){this._btn_yes.deactivate(),this._btn_back.deactivate()},e.prototype.dispose=function(){this.removeChildren(),this._message.destroy(),this._arrow.destroy(),this._from.destroy(),this._tobe.destroy(),this._btn_yes.dispose(),this._btn_back.dispose()},e}(PIXI.Sprite);e.ConfirmView=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(92),s=i(33),a=i(93),_=i(1139),l=function(t){function e(e,i){var n=t.call(this)||this;return n._onResult=function(t){n._dialog.deactivate(),n._seleced_use_type=t,-1==t?n._hideDialog(!1):n._connectAPI()},n._layer=e,n._target=i,n}return n(e,t),e.prototype._start=function(){this._showDialog()},e.prototype._showDialog=function(){var t=this;this._dialog=new _.HishimochiUseDialog(this._onResult),this._dialog.initialize(),this._dialog.alpha=0,this._layer.addChild(this._dialog),createjs.Tween.get(this._dialog).to({alpha:1},150).call(function(){t._dialog.activate()})},e.prototype._connectAPI=function(){var t=this,e=this._target.mstID,i=this._seleced_use_type,n=(o.default.view.overLayer,new r.UseItemUseAPI(e,!1,i)),s=n.result;n.start(function(){1==s.hasCaution()?t._hideDialog(!0):(t._result=s,t._hideDialog(!1))})},e.prototype._hideDialog=function(t){var e=this;createjs.Tween.get(this._dialog).to({alpha:0},150).call(function(){e._dialog.dispose(),e._layer.removeChild(e._dialog),e._dialog=null,1==t?e._confirm():e._endTask()})},e.prototype._confirm=function(){var t=this,e=this._target.mstID,i=this._seleced_use_type,n=this._layer,o=new a.TaskItemOverflowConfirm(n);o.start(function(){if(1==o.result){var n=new r.UseItemUseAPI(e,!0,i),s=n.result;n.start(function(){t._result=s,t._endTask()})}else t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._target=null,t.prototype._endTask.call(this)},e}(s.TaskWithResult);e.TaskUseHishimochi=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(33),r=i(1140),s=i(1141),a=function(t){function e(e){var i=t.call(this)||this;return i._onSelectFromTop=function(t){if(i._top_view.deactivate(),-1==t){if(null==i._cb_onResult)return;i._cb_onResult(t)}else i._confirm_view=new s.ConfirmView(t,i._onSelectFromConfirm),i._confirm_view.position.set(387,171),i.addChild(i._confirm_view),i._confirm_view.initialize(t),i._confirm_view.activate(),i._top_view.dispose(),i.removeChild(i._top_view),i._top_view=null},i._onSelectFromConfirm=function(t){null!=i._cb_onResult&&i._cb_onResult(t)},i._cb_onResult=e,i._top_view=new r.TopView(i._onSelectFromTop),i._top_view.position.set(312,171),i.addChild(i._top_view),i}return n(e,t),e.prototype.initialize=function(){this._top_view.initialize()},e.prototype.activate=function(){null!=this._top_view&&this._top_view.activate(),null!=this._confirm_view&&this._confirm_view.activate()},e.prototype.deactivate=function(){null!=this._top_view&&this._top_view.deactivate(),null!=this._confirm_view&&this._confirm_view.deactivate()},e.prototype.dispose=function(){null!=this._top_view&&this._top_view.dispose(),null!=this._confirm_view&&this._confirm_view.dispose()},e}(o.DialogBase);e.HishimochiUseDialog=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(3),s=i(33),a=function(t){function e(e){var i=t.call(this)||this;return i._message1=new o.TextBox(22,1381651),i._message1.position.set(189,89),i.addChild(i._message1),i._message2=new o.TextBox(22,1381651),i._message2.position.set(189,119),i.addChild(i._message2),i._btn_shigen=new s.BtnBase(21,e),i._btn_shigen.position.set(143,168),i.addChild(i._btn_shigen),i._btn_kanmi=new s.BtnBase(23,e),i._btn_kanmi.position.set(281,168),i.addChild(i._btn_kanmi),i._btn_shizai=new s.BtnBase(22,e),i._btn_shizai.position.set(419,168),i.addChild(i._btn_shizai),i._btn_back=new s.BtnBase(-1,e),i._btn_back.position.set(585,270),i.addChild(i._btn_back),i}return n(e,t),e.prototype.initialize=function(){this.texture=r.ITEM_ILIST_HISHIMOCHI.getTexture(9),this._message1.text="\u300c\u83f1\u9905\u300d\u3092\u4ea4\u63db\u3057\u307e\u3059\u3002",this._message1.x=226-this._message1.width/2,this._message2.text="\u4e0b\u8a18\u306e\u30c1\u30e7\u30a4\u30b9\u304c\u53ef\u80fd\u3067\u3059\u3002",this._message2.x=226-this._message2.width/2;var t=r.ITEM_ILIST_HISHIMOCHI.getTexture(3);this._btn_shigen.initialize(t),t=r.ITEM_ILIST_HISHIMOCHI.getTexture(4),this._btn_kanmi.initialize(t),t=r.ITEM_ILIST_HISHIMOCHI.getTexture(5),this._btn_shizai.initialize(t),t=r.ITEM_ILIST_HISHIMOCHI.getTexture(0),this._btn_back.initialize(t)},e.prototype.activate=function(){this._btn_shigen.activate(),this._btn_kanmi.activate(),this._btn_shizai.activate(),this._btn_back.activate()},e.prototype.deactivate=function(){this._btn_shigen.deactivate(),this._btn_kanmi.deactivate(),this._btn_shizai.deactivate(),this._btn_back.deactivate()},e.prototype.dispose=function(){this.removeChildren(),this._message1.destroy(),this._message2.destroy(),this._btn_shigen.dispose(),this._btn_kanmi.dispose(),this._btn_shizai.dispose(),this._btn_back.dispose()},e}(PIXI.Sprite);e.TopView=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(3),s=i(33),a=function(t){function e(e,i){var n=t.call(this)||this;return n._message=new o.TextBox(22,1381651),n._message.position.set(123,77),n.addChild(n._message),n._icon=new PIXI.Sprite,n._icon.position.set(152,144),n.addChild(n._icon),n._btn_yes=new s.BtnBase(e,i),n._btn_yes.position.set(129,260),n.addChild(n._btn_yes),n._btn_back=new s.BtnBase(-1,i),n._btn_back.position.set(279,260),n.addChild(n._btn_back),n}return n(e,t),e.prototype.initialize=function(t){this.texture=r.ITEM_ILIST_HISHIMOCHI.getTexture(10),this._message.text="\u300c\u83f1\u9905\u300d\u3092\u4ea4\u63db\u3057\u307e\u3059\u304b\uff1f",21==t?this._icon.texture=r.ITEM_ILIST_HISHIMOCHI.getTexture(7):23==t?this._icon.texture=r.ITEM_ILIST_HISHIMOCHI.getTexture(6):22==t&&(this._icon.texture=r.ITEM_ILIST_HISHIMOCHI.getTexture(8));var e=r.ITEM_ILIST_HISHIMOCHI.getTexture(2);this._btn_yes.initialize(e),e=r.ITEM_ILIST_HISHIMOCHI.getTexture(1),this._btn_back.initialize(e)},e.prototype.activate=function(){this._btn_yes.activate(),this._btn_back.activate()},e.prototype.deactivate=function(){this._btn_yes.deactivate(),this._btn_back.deactivate()},e.prototype.dispose=function(){this.removeChildren(),this._message.destroy(),this._btn_yes.dispose(),this._btn_back.dispose()},e}(PIXI.Sprite);e.ConfirmView=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(406),s=i(407),a=i(408),_=i(173),l=i(173),u=i(92),c=i(33),h=i(93),p=function(t){function e(e,i){var n=t.call(this)||this;return n._onSelect=function(t){if(null==t)return void n._hideDialog(!1);var e=PIXI.Texture.EMPTY;if(11==t.type)e=o.default.resources.getShip(t.mst_id,!1,"icon_box");else if(12==t.type)e=o.default.resources.getSlotitem(t.mst_id,"card");else if(13==t.type)e=o.default.resources.getUseitem(t.mst_id,2);else if(14==t.type){e=o.default.resources.getFurniture(t.mst_id,"reward");var i=o.default.model.furniture.getData(t.mst_id);if(null==i||1==i.has())return void n._dialog.showAlert(t)}var r=new s.TaskRewardSelectConfirm(n._layer,e);r.start(function(){n._dialog.deactivate(),1==r.result?(n._seleced=t,n._connectAPI()):n._dialog.activate()})},n._layer=e,n._candidates=[new a.SelectableRewardModel({api_no:51,api_kind:12,api_mst_id:238,api_slotitem_level:0,api_count:1}),new a.SelectableRewardModel({api_no:52,api_kind:12,api_mst_id:82,api_slotitem_level:0,api_count:1}),new a.SelectableRewardModel({api_no:53,api_kind:13,api_mst_id:4,api_slotitem_level:0,api_count:5})],n._target=i,n}return n(e,t),e.prototype._start=function(){this._loadResources()},e.prototype._loadResources=function(){for(var t=this,e=new r.TaskLoadResources,i=0,n=this._candidates;i<n.length;i++){var o=n[i];11==o.type?e.addShip(o.mst_id):12==o.type?e.addSlotitem(o.mst_id):13==o.type?e.addUseitem(o.mst_id):14==o.type&&e.addFurniture(o.mst_id)}e.start(function(){t._showDialog()})},e.prototype._showDialog=function(){var t=this;3==this._candidates.length?(this._dialog=new l.RewardSelectDialog3(!0),this._dialog.position.set(195,164)):(this._dialog=new _.RewardSelectDialog2(!0),this._dialog.position.set(297,164)),this._dialog.initialize(this._candidates,this._onSelect),this._dialog.alpha=0,this._layer.addChild(this._dialog),createjs.Tween.get(this._dialog).to({alpha:1},150).call(function(){t._dialog.activate()})},e.prototype._connectAPI=function(){var t=this,e=this._target.mstID,i=this._seleced.no,n=(o.default.view.overLayer,new u.UseItemUseAPI(e,!1,i)),r=n.result;n.start(function(){1==r.hasCaution()?t._hideDialog(!0):(t._result=r,t._hideDialog(!1))})},e.prototype._hideDialog=function(t){var e=this;createjs.Tween.get(this._dialog).to({alpha:0},150).call(function(){e._layer.removeChild(e._dialog),e._dialog=null,1==t?e._confirm():e._endTask()})},e.prototype._confirm=function(){var t=this,e=this._target.mstID,i=this._seleced.no,n=this._layer,o=new h.TaskItemOverflowConfirm(n);o.start(function(){if(1==o.result){var n=new u.UseItemUseAPI(e,!0,i),r=n.result;n.start(function(){t._result=r,t._endTask()})}else t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._target=null,t.prototype._endTask.call(this)},e}(c.TaskWithResult);e.TaskUseGiftBox=p},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(74),s=function(t){function e(e){var i=t.call(this)||this;return i._onClickYes=function(){null!=i._cb_onClick&&i._cb_onClick(!0)},i._onClickNo=function(){null!=i._cb_onClick&&i._cb_onClick(!1)},i._cb_onClick=e,i._btn_yes=new PIXI.Sprite,i._btn_yes.position.set(153,78),i.addChild(i._btn_yes),i._btn_no=new PIXI.Sprite,i._btn_no.position.set(246,78),i.addChild(i._btn_no),i._btn_yes.interactive=!0,i._btn_no.interactive=!0,i}return n(e,t),e.prototype.initialize=function(t){this.texture=r.COMMON_SELECTABLE_REWARD.getTexture(1);var e=new PIXI.Sprite(t),i=Math.min(135/e.width,135/e.height);e.scale.set(i),e.x=11+Math.round((135-e.width)/2),e.y=12+Math.round((135-e.height)/2),this.addChild(e),this._btn_yes.texture=r.COMMON_SELECTABLE_REWARD.getTexture(4),this._btn_no.texture=r.COMMON_SELECTABLE_REWARD.getTexture(3)},e.prototype.activate=function(){1!=this._btn_yes.buttonMode&&(this._btn_yes.buttonMode=!0,this._btn_yes.on(o.EventType.CLICK,this._onClickYes),this._btn_no.buttonMode=!0,this._btn_no.on(o.EventType.CLICK,this._onClickNo))},e.prototype.deactivate=function(){this._btn_yes.buttonMode=!1,this._btn_yes.off(o.EventType.CLICK,this._onClickYes),this._btn_no.buttonMode=!1,this._btn_no.off(o.EventType.CLICK,this._onClickNo)},e.prototype.dispose=function(){this.deactivate(),this._cb_onClick=null},e}(PIXI.Sprite);e.RewardSelectConfirm=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(74),s=i(174),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._initialize=function(){this._icon.texture=r.COMMON_SELECTABLE_REWARD.getTexture(5);var t=new PIXI.Graphics;t.beginFill(6710886,0),t.drawRect(-97.5,-97.5,195,195),t.endFill(),this._canvas.addChild(t);var e=this._candidate.mst_id,i=o.default.resources.getFurniture(e,"reward"),n=new PIXI.Sprite(i),s=Math.min(195/n.width,195/n.height);n.scale.set(s),n.position.set(-Math.round(n.width/2),-Math.round(n.height/2)),this._canvas.addChild(n)},e}(s.RewardSelectDialogBtnBase);e.RewardSelectDialogFurnitureBtn=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(74),r=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.update=function(t){if(null==this._star&&(this._star=new PIXI.Sprite(o.COMMON_SELECTABLE_REWARD.getTexture(13)),this.addChild(this._star)),null==this._plus&&(this._plus=new PIXI.Sprite(o.COMMON_SELECTABLE_REWARD.getTexture(23)),this._plus.position.set(21,5),this.addChild(this._plus)),null==this._level&&(this._level=new PIXI.Sprite,this._level.position.set(39,2),this.addChild(this._level)),t<1||9<t)this._star.visible=!1,this._plus.visible=!1,this._level.visible=!1;else{switch(t){case 1:this._level.texture=o.COMMON_SELECTABLE_REWARD.getTexture(14);break;case 2:this._level.texture=o.COMMON_SELECTABLE_REWARD.getTexture(15);break;case 3:this._level.texture=o.COMMON_SELECTABLE_REWARD.getTexture(16);break;case 4:this._level.texture=o.COMMON_SELECTABLE_REWARD.getTexture(17);break;case 5:this._level.texture=o.COMMON_SELECTABLE_REWARD.getTexture(18);break;case 6:this._level.texture=o.COMMON_SELECTABLE_REWARD.getTexture(19);break;case 7:this._level.texture=o.COMMON_SELECTABLE_REWARD.getTexture(20);break;case 8:this._level.texture=o.COMMON_SELECTABLE_REWARD.getTexture(21);break;case 9:this._level.texture=o.COMMON_SELECTABLE_REWARD.getTexture(22)}this._star.visible=!0,this._plus.visible=!0,this._level.visible=!0}},e}(PIXI.Container);e.LevelStar=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(74),r=function(t){function e(){var e=t.call(this)||this;return e._num=new PIXI.Sprite,e.addChild(e._num),e}return n(e,t),e.prototype.initialize=function(){this.texture=o.COMMON_SELECTABLE_REWARD.getTexture(0)},e.prototype.update=function(t){88==t?this._num.position.set(25,19):this._num.position.set(29,15),this._num.texture=this._getNumImage(t),this.visible=this._num.texture!=PIXI.Texture.EMPTY},e.prototype._getNumImage=function(t){switch(t){case 1:return o.COMMON_SELECTABLE_REWARD.getTexture(24);case 2:return o.COMMON_SELECTABLE_REWARD.getTexture(25);case 3:return o.COMMON_SELECTABLE_REWARD.getTexture(26);case 4:return o.COMMON_SELECTABLE_REWARD.getTexture(27);case 5:return o.COMMON_SELECTABLE_REWARD.getTexture(28);case 6:return o.COMMON_SELECTABLE_REWARD.getTexture(29);case 7:return o.COMMON_SELECTABLE_REWARD.getTexture(30);case 8:return o.COMMON_SELECTABLE_REWARD.getTexture(31);case 9:return o.COMMON_SELECTABLE_REWARD.getTexture(33);case 88:return o.COMMON_SELECTABLE_REWARD.getTexture(32)}return PIXI.Texture.EMPTY},e}(PIXI.Sprite);e.RewardSelectDialogCount=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(174),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._onMouseOver=function(){e._canvas.scale.set(1.05)},e._onMouseOut=function(){e._canvas.scale.set(1)},e}return n(e,t),e.prototype.load=function(t){t()},e.prototype._initialize=function(){this._icon.visible=!1;this._canvas.x=103,this._canvas.y=121,this._canvas.scale.set(1);var t=new PIXI.Graphics;t.beginFill(6710886,.1),t.drawRect(-88,-121,176,242),t.endFill(),this._canvas.addChild(t);var e=this._candidate.mst_id,i=o.default.resources.getShip(e,!1,"card_round"),n=new PIXI.Sprite(i);n.position.set(-Math.round(n.width/2),-Math.round(n.height/2)),this._canvas.addChild(n)},e}(r.RewardSelectDialogBtnBase);e.RewardSelectDialogShipBtn=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(74),s=i(174),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._initialize=function(){this._icon.texture=r.COMMON_SELECTABLE_REWARD.getTexture(6);var t=new PIXI.Graphics;t.beginFill(6710886,.1),t.drawRect(-97.5,-97.5,195,195),t.endFill(),this._canvas.addChild(t);var e=this._candidate.mst_id,i=o.default.resources.getSlotitem(e,"card"),n=new PIXI.Sprite(i),s=Math.min(195/n.width,195/n.height);n.scale.set(s),n.position.set(-Math.round(n.width/2),-Math.round(n.height/2)),this._canvas.addChild(n)},e}(s.RewardSelectDialogBtnBase);e.RewardSelectDialogSlotitemBtn=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(74),s=i(174),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._initialize=function(){this._icon.texture=r.COMMON_SELECTABLE_REWARD.getTexture(7);var t=new PIXI.Graphics;t.beginFill(6710886,.1),t.drawRect(-97.5,-97.5,195,195),t.endFill(),this._canvas.addChild(t);var e=this._candidate.mst_id,i=o.default.resources.getUseitem(e,1),n=new PIXI.Sprite(i),s=Math.min(195/n.width,195/n.height);n.scale.set(s),n.position.set(-Math.round(n.width/2),-Math.round(n.height/2)),this._canvas.addChild(n)},e}(s.RewardSelectDialogBtnBase);e.RewardSelectDialogUseitemBtn=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(74),r=function(t){function e(){var e=t.call(this)||this;return e.alpha=0,e.visible=!1,e}return n(e,t),e.prototype.initialize=function(){this.texture=o.COMMON_SELECTABLE_REWARD.getTexture(12)},e.prototype.show=function(){var t=this;this.hide(),this.visible=!0,this._t=createjs.Tween.get(this).to({alpha:1},300).wait(2e3).to({alpha:0},300).call(function(){t.visible=!1})},e.prototype.hide=function(){this._stopTween(),this.alpha=0,this.visible=!1},e.prototype._stopTween=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Sprite);e.RewardSelectDialogFurnitureAlert=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(34),s=i(129),a=i(167),_=i(158),l=i(128),u=i(106),c=i(6),h=i(132),p=i(1152),d=i(91),f=i(118),y=i(118),m=i(118),g=i(118),v=i(118),b=i(240),w=i(402),x=i(1153),I=function(t){function e(e){var i=t.call(this)||this;return i._onSelect=function(t){var e=i._purchasedItems.getData(t);i._detail_panel.update(e)},i._onPickup=function(t){if(16==t.id){var e=o.default.model.const.boko_max_ships,n=o.default.model.basic.shipMax;if(n>=e)return void c.SE.play("248");c.SE.play("244")}else c.SE.play("243");var r=new p.PurchasedItemPickupAPI(t.id,!1),s=r.result;r.start(function(){i._detail_panel.update(null),1==s.hasCaution()?i._confirm(t):i._AfterPickup(t)})},i._purchasedItems=e,i._bg=new PIXI.Sprite,i._bg.position.set(202,201),i.addChild(i._bg),i._detail_panel=new x.PurchasedItemDetailPanel(i._onPickup),i._detail_panel.position.set(904,201),i.addChild(i._detail_panel),i._icon_layer=new PIXI.Container,i.addChild(i._icon_layer),i}return n(e,t),e.prototype.initialize=function(){this._bg.texture=h.ITEM_ILIST.getTexture(14),this._detail_panel.initialize(),this._icons=[];for(var t=f.PAYITEMLIST_ORDER.length,e=0;e<t;e++){var i=new w.PayItemIcon(this._onSelect);i.x=238+e%7*84,e%7>=3&&(i.x+=54),i.y=265+112*Math.floor(e/7),i.initialize(),this._icon_layer.addChild(i),this._icons.push(i)}},e.prototype.update=function(){this._detail_panel.update(null);for(var t=0;t<this._icons.length;t++){var e=this._icons[t],i=f.PAYITEMLIST_ORDER[t],n=this._purchasedItems.getData(i),o=null==n?0:n.count;e.update(i,o)}},e.prototype.activate=function(){for(var t=0,e=this._icons;t<e.length;t++){e[t].activate()}},e.prototype.deactivate=function(){for(var t=0,e=this._icons;t<e.length;t++){e[t].deactivate()}},e.prototype.dispose=function(){this._icon_layer.removeChildren(),this._icon_layer=null;for(var t=0,e=this._icons;t<e.length;t++){var i=e[t];i.deactivate(),i.dispose()}this._icons=null,this._detail_panel.dispose(),this._detail_panel=null,this._purchasedItems=null,this.removeChildren()},e.prototype._confirm=function(t){var e=this,i=o.default.view.overLayer,n=new b.TaskItemOverflowConfirm(i);n.start(function(){if(1==n.result){var i=new p.PurchasedItemPickupAPI(t.id,!0);i.result;i.start(function(){e._AfterPickup(t)})}})},e.prototype._AfterPickup=function(t){var e=this,i=t.id,n=new r.APIConnector;m.RELATED_USERDATA_PAYITEM.indexOf(i)>=0&&n.add(new _.UserDataAPI),g.RELATED_SLOTITEM_PAYITEM.indexOf(i)>=0&&(n.add(new l.UserSlotItemAPI),n.add(new s.UnsetSlotAPI)),v.RELATED_USEITEM_PAYITEM.indexOf(i)>=0&&n.add(new u.UseItemAPI),y.RELATED_MATERIAL_PAYITEM.indexOf(i)>=0&&n.add(new a.MaterialAPI),n.start(function(){t.setCount(t.count-1),e.update(),o.default.model.useItem.updateCount(),o.default.view.portMain.updateInfo()})},e}(d.ViewBase);e.PurchasedItemListMain=I},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=i(7),s=function(t){function e(e,i){var n=t.call(this)||this;return n._url="api_req_member/payitemuse",n._result=new _,n._mst_id=e,n._force=i,n}return n(e,t),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e.prototype._connect=function(){this._post_data.api_payitem_id=this._mst_id,this._post_data.api_force_flag=this._force?1:0,t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._result.setData(this._raw_data),t.prototype._completedEnd.call(this)},e}(o.APIBase);e.PurchasedItemPickupAPI=s;var a=function(){function t(){}return Object.defineProperty(t.prototype,"cautionFlg",{get:function(){return r.ObjUtil.getNumber(this._o,"api_caution_flag")},enumerable:!0,configurable:!0}),t.prototype.hasCaution=function(){return this.cautionFlg>=1},t}();e.PurchasedItemPickupResult=a;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.setData=function(t){this._o=t},e}(a)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(132),s=i(172),a=i(1154),_=function(t){function e(e){var i=t.call(this)||this;return i._onPickup=function(){null!=i._cb_onPickup&&i._cb_onPickup(i._model)},i._cb_onPickup=e,i._name=new o.TextBox(22,16777215),i._name.position.set(0,18),i.addChild(i._name),i._icon=new PIXI.Sprite,i._icon.position.set(105,81),i.addChild(i._icon),i._count=new l,i._count.position.set(243,84),i.addChild(i._count),i._description=new o.TextBox(18,16777215),i._description.position.set(22,186),i._description.style.breakWords=!0,i._description.style.wordWrap=!0,i._description.style.wordWrapWidth=264,i.addChild(i._description),i._pickup_btn=new a.PickupBtn,i._pickup_btn.position.set(66,388),i._pickup_btn.visible=!1,i.addChild(i._pickup_btn),i}return n(e,t),e.prototype.initialize=function(){this._pickup_btn.initialize(this._onPickup)},e.prototype.update=function(t){return null!=t&&this._model==t?void this._onPickup():(this._model=t,null==this._model?void this._clean():(this._name.text=this._model.name,this._name.x=Math.round(154-this._name.width/2),this._icon.texture=s.getPayitemIcon(this._model.id),this._count.update(this._model.count),this._count.visible=!0,this._description.text=this._model.description.replace(/<br>/g,"\n"),this._pickup_btn.visible=!0,void this._pickup_btn.activate()))},e.prototype.dispose=function(){this.removeChildren(),this._name.destroy(),this._count.dispose(),this._description.destroy(),this._pickup_btn.dispose(),this._cb_onPickup=null},e.prototype._clean=function(){this._name.text="",this._icon.texture=PIXI.Texture.EMPTY,this._count.visible=!1,this._description.text="",this._pickup_btn.visible=!1,this._pickup_btn.deactivate()},e}(PIXI.Sprite);e.PurchasedItemDetailPanel=_;var l=function(t){function e(){var e=t.call(this)||this;return e._bg=new PIXI.Sprite,e.addChild(e._bg),e._text=new o.TextBox(30,16777215),e._text.y=28,e.addChild(e._text),e}return n(e,t),e.prototype.initialize=function(){this.update(0)},e.prototype.update=function(t){var e;e=t<100?24:t<1e3?25:26,this._bg.texture=r.ITEM_ILIST.getTexture(e),this._bg.x=-Math.round(this._bg.width/2),this._text.text=t.toString(),this._text.x=-Math.round(this._text.width/2)},e.prototype.dispose=function(){this.removeChildren(),this._text.destroy()},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(31),r=i(3),s=function(t){function e(){var e=t.call(this)||this;return e._light=new PIXI.Sprite,e._light.position.set(-22,-24),e.addChild(e._light),e}return n(e,t),e.prototype.dispose=function(){this._stopTween(),t.prototype.dispose.call(this)},e.prototype._update=function(t){0==t?(this.texture=r.ITEM_ILIST.getTexture(10),this._light.texture=r.ITEM_ILIST.getTexture(1)):(this.texture=r.ITEM_ILIST.getTexture(11),this._light.texture=r.ITEM_ILIST.getTexture(2)),this._stopTween(),this._startTween()},e.prototype._activate=function(){this._stopTween(),this._startTween(),t.prototype._activate.call(this)},e.prototype._startTween=function(){this._light.alpha=0,this._tween=createjs.Tween.get(this._light,{loop:!0}).to({alpha:1},3e3).to({alpha:0},3e3)},e.prototype._stopTween=function(){null!=this._tween&&this._tween.setPaused(!0),this._tween=null},e}(o.BtnBase);e.PickupBtn=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(6),s=i(133),a=i(91),_=i(1156),l=i(1157),u=i(1158),c=i(1159),h=i(1163),p=function(t){function e(e,i){var n=t.call(this)||this;return n._count=0,n._onChangePage=function(){var t=n._views.indexOf(n._current);n._showView(t?0:1)},n._onSelect=function(t,e){r.SE.play("214");var i=10;27==e.id&&(i=10,i-=n._purchasedItems.getCount(27),i-=o.default.model.useItem.getCount(73));var s=new c.TaskPurchaseConfirm(t,e,i);n.addChild(s.layer),s.start(function(){s.count>0&&null!=n._cb_onPurchased&&n._cb_onPurchased()})},n._purchasedItems=e,n._cb_onPurchased=i,n._header=new PIXI.Sprite,n._header.position.set(226,114),n.addChild(n._header),n._tab=new _.TabContainer(n._onChangePage),n.addChild(n._tab),n._views=[],n._views.push(new l.NormalItemShopMain(n._onSelect)),n._views.push(new u.SpecialItemShopMain(n._onSelect)),n}return n(e,t),e.prototype.initialize=function(){this._header.texture=s.ITEM_ISHOP.getTexture(35);for(var t=0,e=this._views;t<e.length;t++){e[t].initialize()}},e.prototype.update=function(){this._count=0,this._showView(0)},e.prototype.activate=function(){null!=this._current&&this._current.activate(),this._tab.activate()},e.prototype.deactivate=function(){null!=this._current&&this._current.deactivate(),this._tab.deactivate()},e.prototype.dispose=function(){this._purchasedItems=null,this._tab.dispose(),this._removeView();for(var t=0,e=this._views;t<e.length;t++){e[t].dispose()}},e.prototype._removeView=function(){null!=this._current&&(this.removeChild(this._current),this._current.deactivate(),this._current=null,this._tab.deactivate())},e.prototype._showView=function(t){this._removeView(),this._tab.update(t),this._tab.activate(),this._current=this._views[t],this._current.update(),this._current.activate(),this.addChild(this._current),this._count+=0==t?1:0;var e=o.default.view.overLayer;new h.TaskWelcomeCutin(e,t,this._count).start()},e}(a.ViewBase);e.ItemShopMain=p},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i._btn=new a(e),i.addChild(i._btn),i}return n(e,t),e.prototype.initialize=function(){this._btn.initialize()},e.prototype.activate=function(){this._btn.activate()},e.prototype.update=function(t){this._btn.update(t),0==t?this._btn.position.set(801,667):this._btn.position.set(207,666)},e.prototype.deactivate=function(){this._btn.deactivate()},e.prototype.dispose=function(){this._btn.dispose()},e}(PIXI.Container);e.TabContainer=s;var a=function(t){function e(e){var i=t.call(this)||this;return i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick()},i._cb_onClick=e,i._over=new PIXI.Sprite,i.addChild(i._over),i.interactive=!0,i}return n(e,t),e.prototype.initialize=function(){},e.prototype.update=function(t){0==t?(this._texture=o.ITEM_ISHOP.getTexture(6),this._over.texture=o.ITEM_ISHOP.getTexture(7)):(this._texture=o.ITEM_ISHOP.getTexture(4),this._over.texture=o.ITEM_ISHOP.getTexture(5))},e.prototype.activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(r.EventType.CLICK,this._onClick),this._startTween())},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(r.EventType.CLICK,this._onClick),this._stopTween()},e.prototype.dispose=function(){this.deactivate()},e.prototype._startTween=function(){null==this._t&&(this._over.alpha=0,this._t=createjs.Tween.get(this._over,{loop:!0}).to({alpha:1},500).to({alpha:0},500))},e.prototype._stopTween=function(){null!=this._t&&(this._over.alpha=0,this._t.setPaused(!0),this._t=null)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(4),s=i(133),a=i(91),_=i(409),l=function(t){function e(e){var i=t.call(this)||this;return i._onMouseOn=function(t,e){i._description.x=0==t?202:1==t?535:865,i._description.text=e.replace(/<br>/g,"\n")},i._onMouseOff=function(){i._description.text=""},i._cb_onSelect=e,i._bg_layer=new PIXI.Container,i.addChild(i._bg_layer),i._description=new r.TextBox(18,16777215),i._description.y=217,i.addChild(i._description),i}return n(e,t),e.prototype.initialize=function(){var t=new PIXI.Sprite(s.ITEM_ISHOP.getTexture(29));t.position.set(186,144),this._bg_layer.addChild(t),t=new PIXI.Sprite(s.ITEM_ISHOP.getTexture(13)),t.position.set(184,204),this._bg_layer.addChild(t),t=new PIXI.Sprite(s.ITEM_ISHOP.getTexture(28)),t.position.set(516,144),this._bg_layer.addChild(t),t=new PIXI.Sprite(s.ITEM_ISHOP.getTexture(17)),t.position.set(516,204),this._bg_layer.addChild(t),t=new PIXI.Sprite(s.ITEM_ISHOP.getTexture(27)),t.position.set(846,144),this._bg_layer.addChild(t),t=new PIXI.Sprite(s.ITEM_ISHOP.getTexture(15)),t.position.set(846,204),this._bg_layer.addChild(t),t=new PIXI.Sprite(s.ITEM_ISHOP.getTexture(25)),t.position.set(1176,144),this._bg_layer.addChild(t),this._icons=[];for(var e=0;e<12;e++){var i=new _.ItemIcon(this._onMouseOn,this._onMouseOff,this._cb_onSelect);i.x=204+330*Math.floor(e/4)+e%2*150,i.y=289+(Math.floor(e%4)<=1?0:180),i.initialize(Math.floor(e/4)),this.addChild(i),this._icons.push(i)}},e.prototype.update=function(){for(var t=o.default.model.payitem.getOrder(0),e=0;e<this._icons.length;e++){var i=this._icons[e],n=t[e],r=o.default.model.payitem.getData(n);i.update(r)}},e.prototype.activate=function(){for(var t=0,e=this._icons;t<e.length;t++){e[t].activate()}},e.prototype.deactivate=function(){for(var t=0,e=this._icons;t<e.length;t++){e[t].deactivate()}},e.prototype.dispose=function(){this.removeChildren();for(var t=0,e=this._icons;t<e.length;t++){e[t].dispose()}this._description.destroy(),this._cb_onSelect=null},e}(a.ViewBase);e.NormalItemShopMain=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(4),s=i(133),a=i(91),_=i(409),l=function(t){function e(e){var i=t.call(this)||this;return i._onMouseOn=function(t,e){i._description.text=e.replace(/<br>/g,"\n")},i._onMouseOff=function(){i._description.text=""},i._cb_onSelect=e,i._bg_layer=new PIXI.Container,i.addChild(i._bg_layer),i._description=new r.TextBox(19,16777215),i._description.position.set(219,219),i._description.style.breakWords=!0,i._description.style.wordWrap=!0,i._description.style.wordWrapWidth=744,i.addChild(i._description),i}return n(e,t),e.prototype.initialize=function(){var t=new PIXI.Sprite(s.ITEM_ISHOP.getTexture(26));t.position.set(172,144),this._bg_layer.addChild(t),t=new PIXI.Sprite(s.ITEM_ISHOP.getTexture(30)),t.position.set(202,144),this._bg_layer.addChild(t),t=new PIXI.Sprite(s.ITEM_ISHOP.getTexture(19)),t.position.set(202,202),this._bg_layer.addChild(t),this._icons=[];for(var e=0;e<14;e++){var i=new _.ItemIcon(this._onMouseOn,this._onMouseOff,this._cb_onSelect);i.x=234+118*Math.floor(e/2),i.y=288+(0==Math.floor(e%2)?0:181),i.initialize(3),this.addChild(i),this._icons.push(i)}},e.prototype.update=function(){for(var t=o.default.model.payitem.getOrder(1),e=0;e<this._icons.length;e++){var i=this._icons[e],n=t[e],r=o.default.model.payitem.getData(n);i.update(r)}},e.prototype.activate=function(){for(var t=0,e=this._icons;t<e.length;t++){e[t].activate()}},e.prototype.deactivate=function(){for(var t=0,e=this._icons;t<e.length;t++){e[t].deactivate()}},e.prototype.dispose=function(){this.removeChildren();for(var t=0,e=this._icons;t<e.length;t++){e[t].dispose()}this._description.destroy(),this._cb_onSelect=null},e}(a.ViewBase);e.SpecialItemShopMain=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(8),a=i(17),_=i(4),l=i(202),u=i(3),c=i(400),h=i(172),p=i(1160),d=i(159),f=i(1),y=function(t){function e(e,i,n){var r=t.call(this)||this;return r._count=1,r._onUp=function(){r._count++,r._count=Math.min(10,r._count),r._dialog.update(r._count,r._mst.price*r._count,r._limit)},r._onDown=function(){r._count--,r._count=Math.max(1,r._count),r._dialog.update(r._count,r._mst.price*r._count,r._limit)},r._onBack=function(){r._count=0,r._dialog.deactivate(),r._close()},r._onBuy=function(){r._dialog.deactivate(),r._clickGuard=new s.AreaBox(0),o.default.view.overLayer.addChild(r._clickGuard);var t=""+location.hostname,e=r._mst.id,i=r._mst.price,n=r._count,a=r._mst.description.replace(/<br>/g,""),_=r._mst.name,l="http://"+t+"/kcs/images/purchase_items/"+e+".jpg",u=e+"\t"+i+"\t"+n+"\t"+a+"\t"+_+"\t"+l;r._GadgetIP="http://"+o.default.settings.osapi_root;var c=r._GadgetIP;window.parent.postMessage(d.PostMessageType.BUY+"\t"+u,c),window.addEventListener("message",r._onCallback)},r._onCallback=function(t){window.removeEventListener("message",r._onCallback);var e=t.data;if(t.origin!=r._GadgetIP&&(r._count=0,r._close()),e>=0){var i=new p.TaskPayCheck;i.start(function(){1==i.result?r._close():(r._count=0,r._close())})}else r._count=0,r._close()},r._type=e,r._mst=i,r._limit=n,r._layer=new a.FadeBox(.8,0,1200,720),r}return n(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return this._layer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),e.prototype._start=function(){var t=this;o.default.sound.voice.playAtRandom("9999",[313,314],[60,40]),this._layer.show(200,function(){t._showDialog()})},e.prototype._showDialog=function(){var t=this;this._dialog=new m,this._dialog.initialize(this._type,this._mst,this._onUp,this._onDown,this._onBack,this._onBuy),this._dialog.update(this._count,this._mst.price*this._count,this._limit),this._dialog.alpha=0,this._layer.addChild(this._dialog),createjs.Tween.get(this._dialog).to({alpha:1},300).call(function(){t._dialog.activate()})},e.prototype._close=function(){var t=this;createjs.Tween.get(this._dialog).to({alpha:0},200).call(function(){t._layer.hide(300,function(){o.default.view.overLayer.removeChild(t._clickGuard),t._layer.removeChild(t._dialog),t._dialog.dispose(),t._endTask()})})},e.prototype._endTask=function(){null!=this._layer.parent&&this._layer.parent.removeChild(this._layer),this._layer=null,this._mst=null,this._dialog=null,this._clickGuard=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskPurchaseConfirm=y;var m=function(t){function e(){var e=t.call(this)||this;return e._bg=new PIXI.Sprite,e._bg.position.set(48,102),e.addChild(e._bg),e._header=new PIXI.Sprite,e._header.position.set(439,123),e.addChild(e._header),e._icon=new PIXI.Sprite,e._icon.position.set(562,195),e.addChild(e._icon),e._description=new _.TextBox(21,16774898),e._description.position.set(534,282),e._description.style.breakWords=!0,e._description.style.wordWrap=!0,e._description.style.wordWrapWidth=306,e.addChild(e._description),e._count=new _.TextBox(21,16774898),e._count.anchor.x=1,e._count.position.set(568,418),e.addChild(e._count),e._price=new _.TextBox(21,16724736),e._price.position.set(574,456),e.addChild(e._price),e._btn_up=new g,e._btn_up.position.set(604,418),e.addChild(e._btn_up),e._btn_down=new v,e._btn_down.position.set(604,438),e.addChild(e._btn_down),e._btn_back=new c.BackBtn,e._btn_back.position.set(108,571),e.addChild(e._btn_back),e._btn_purchase=new b,e._btn_purchase.position.set(424,568),e.addChild(e._btn_purchase),e}return n(e,t),e.prototype.initialize=function(t,e,i,n,o,r){this._bg.texture=u.ITEM_ISHOP.getTexture(8);var s=new PIXI.Sprite(u.ITEM_ISHOP.getTexture(36));s.position.set(267,18),this._bg.addChild(s),s=new PIXI.Sprite(u.ITEM_ISHOP.getTexture(9)),s.position.set(366,183),this._bg.addChild(s),s=new PIXI.Sprite(u.ITEM_ISHOP.getTexture(10)),s.position.set(366,316),this._bg.addChild(s),s=new PIXI.Sprite(u.ITEM_ISHOP.getTexture(11)),s.position.set(366,354),this._bg.addChild(s),s=new PIXI.Sprite(u.ITEM_ISHOP.getTexture(12)),s.position.set(499,358),this._bg.addChild(s),this._label=new _.TextBox(21,16777215),this._label.text="\u500b",this._label.position.set(520,316),this._bg.addChild(this._label),this._header.texture=0==t?u.ITEM_ISHOP.getTexture(29):1==t?u.ITEM_ISHOP.getTexture(28):2==t?u.ITEM_ISHOP.getTexture(27):u.ITEM_ISHOP.getTexture(31),this._icon.texture=h.getPayitemIcon(e.id),this._description.text=e.description.replace(/<br>/g,"\n"),this._btn_up.initialize(i),this._btn_down.initialize(n),this._btn_back.initialize(o),this._btn_purchase.initialize(r)},e.prototype.update=function(t,e,i){this._count.text=t.toString(),this._price.text=e.toString(),this._btn_purchase.enabled=t<=i},e.prototype.activate=function(){this._btn_up.activate(),this._btn_down.activate(),this._btn_back.activate(),this._btn_purchase.activate()},e.prototype.deactivate=function(){this._btn_up.deactivate(),this._btn_down.deactivate(),this._btn_back.deactivate(),this._btn_purchase.deactivate()},e.prototype.dispose=function(){this.removeChildren(),this._label.destroy(),this._description.destroy(),this._count.destroy(),this._price.destroy(),this._btn_up.dispose(),this._btn_down.dispose(),this._btn_back.dispose(),this._btn_purchase.dispose()},e}(PIXI.Container),g=function(t){function e(){var e=t.call(this)||this;return e._onMouseOver=function(){e._update(!0)},e._onMouseOut=function(){e._update(!1)},e._onClick=function(){null!=e._cb_onClick&&e._cb_onClick()},e.interactive=!0,e}return n(e,t),e.prototype.initialize=function(t){this._cb_onClick=t,this._update(!1)},e.prototype.activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(f.EventType.MOUSEOVER,this._onMouseOver),this.on(f.EventType.MOUSEOUT,this._onMouseOut),this.on(f.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){1!=this.buttonMode&&(this.buttonMode=!1,this.off(f.EventType.MOUSEOVER,this._onMouseOver),this.off(f.EventType.MOUSEOUT,this._onMouseOut),this.off(f.EventType.CLICK,this._onClick))},e.prototype.dispose=function(){this.deactivate(),this._cb_onClick=null},e.prototype._update=function(t){this.texture=0==t?u.ITEM_ISHOP.getTexture(2):u.ITEM_ISHOP.getTexture(0)},e}(PIXI.Sprite),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._update=function(t){this.texture=0==t?u.ITEM_ISHOP.getTexture(3):u.ITEM_ISHOP.getTexture(1)},e}(g),b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._update=function(t){0==this._enabled?this.texture=u.ITEM_ISHOP.getTexture(33):this.texture=0==t?u.ITEM_ISHOP.getTexture(32):u.ITEM_ISHOP.getTexture(34)},e}(l.BtnBase);e.PurchaseBtn=b},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=i(1161),s=function(t){function e(){var e=t.call(this)||this;return e._result=!1,e._api=null,e._retry_count=0,e}return n(e,t),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e.prototype._start=function(){var t=this;createjs.Tween.get(null).wait(500).call(function(){t._check()})},e.prototype._check=function(){var t=this;this._retry_count++,this._api=new r.PayCheckAPI,this._api.start(function(){t._checked()})},e.prototype._checked=function(){var t=this;2==this._api.result?(this._result=!0,this._endTask()):this._retry_count>=3?this._endTask():createjs.Tween.get(null).wait(1e3).call(function(){t._check()})},e.prototype._endTask=function(){this._api=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskPayCheck=s},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(238)),n(i(1162))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=i(15),s=function(t){function e(){var e=t.call(this)||this;return e._result=-1,e._url="api_dmm_payment/paycheck",e}return n(e,t),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e.prototype._completedEnd=function(){this._result=r.ObjUtil.getNumber(this._raw_data,"api_check_value",-1),t.prototype._completedEnd.call(this)},e}(o.APIBase);e.PayCheckAPI=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(8),a=i(1),_=i(239),l=function(t){function e(e,i,n){var o=t.call(this)||this;return o._onClose=function(){o._bg.buttonMode=!1,o._bg.off(a.EventType.CLICK,o._onClose),null!=o._t&&(o._t.setPaused(!0),o._t=null),createjs.Tween.get(o._chara).to({y:450,alpha:0},300).call(function(){o._layer.removeChild(o._bg),o._layer.removeChild(o._chara),o._endTask()})},o._layer=e,o._page_no=i,o._count=n,o}return n(e,t),e.prototype._start=function(){var t=this;this._bg=new s.AreaBox(0,0,1200,720),this._layer.addChild(this._bg);var e=PIXI.Sprite.fromFrame(_.POSTER_KEY_1),i=_.getPosterOffsetWelcome();null!=i&&(e.x=i.x,e.y=i.y),this._chara=new PIXI.Sprite,this._chara.addChild(e),this._chara.position.set(1200,0),this._layer.addChild(this._chara),0==this._page_no?this._count<=1&&o.default.sound.voice.playAtRandom("9999",[311,312],[60,40]):o.default.sound.voice.play("9999",315),this._bg.interactive=!0,this._bg.buttonMode=!0,this._bg.once(a.EventType.CLICK,this._onClose),this._t=createjs.Tween.get(this._chara).to({x:660},300).call(function(){t._t=null})},e}(r.TaskBase);e.TaskWelcomeCutin=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(6),s=i(110),a=i(91),_=i(1165),l=i(1167),u=i(1173),c=i(1174),h=function(t){function e(){var e=t.call(this)||this;return e._onSelect=function(t){r.SE.play("240"),null==e._sub_view&&(e._sub_view=new l.FShopListView(e._onUnSelect,e._onExchange),e.addChild(e._sub_view)),e._sub_view.initialize(t),e._sub_view.activate(),e._sub_view.visible=!0,e._main_view.deactivate(),e._main_view.visible=!1},e._onUnSelect=function(){e._main_view.activate(),e._main_view.visible=!0,e._sub_view.deactivate(),e._sub_view.visible=!1},e._onExchange=function(t){var i=o.default.view.overLayer,n=new c.TaskExchange(i,t);n.start(function(){1==n.result&&(e.update(),null!=e._sub_view&&1==e._sub_view.visible&&e._sub_view.update())})},e._header=new PIXI.Sprite,e._header.position.set(0,102),e.addChild(e._header),e._main_view=new _.FurnitureShopMainView(e._onSelect),e.addChild(e._main_view),e._coin=new u.CoinBox,e._coin.position.set(984,640),e.addChild(e._coin),e}return n(e,t),e.prototype.initialize=function(){this._header.texture=s.ITEM_FSHOP.getTexture(55),this._main_view.initialize(),this._coin.initialize(),this.update()},e.prototype.update=function(){var t=o.default.model.useItem.getCount(44);this._coin.update(t)},e.prototype.activate=function(){1==this._main_view.visible&&this._main_view.activate()},e.prototype.deactivate=function(){this._main_view.deactivate(),this._main_view.visible=!0,null!=this._sub_view&&(this._sub_view.visible=!1)},e.prototype.dispose=function(){this.removeChildren(),this._main_view.dispose(),null!=this._sub_view&&this._sub_view.dispose(),this._coin.dispose()},e}(a.ViewBase);e.FurnitureShopMain=h},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(3),s=i(1166),a=function(t){function e(e){var i=t.call(this)||this;i._onBtnMouseOver=function(t){i._illust.update(t)},i._onBtnMouseOut=function(t){i._illust.update()},i._onBtnClick=function(t){null!=i._cb_onSelect&&i._cb_onSelect(t)},i._cb_onSelect=e,i._header=new PIXI.Sprite,i._header.position.set(561,169),i.addChild(i._header),i._illust=new _,i._illust.position.set(387,210),i.addChild(i._illust),i._footer=new o.TextBox(16,0),i._footer.position.set(670,679),i._footer.text="\u5bb6\u5177\u30b3\u30a4\u30f3\u306f\u9060\u5f81\u306a\u3069\u3067\u5165\u624b\u3067\u304d\u307e\u3059\u3002",i.addChild(i._footer),i._btns=[];for(var n=[1,0,5,2,3,4],r=0;r<n.length;r++){var a=n[r],l=new s.FurnitureTypeBtn(a);l.x=204,l.y=241+70*r,i.addChild(l),i._btns.push(l)}return i}return n(e,t),e.prototype.initialize=function(){this._header.texture=r.ITEM_FSHOP.getTexture(51),this._illust.initiatize();for(var t=0,e=this._btns;t<e.length;t++){e[t].initialize(this._onBtnMouseOver,this._onBtnMouseOut,this._onBtnClick)}},e.prototype.activate=function(){for(var t=0,e=this._btns;t<e.length;t++){e[t].activate()}},e.prototype.deactivate=function(){this._illust.update();for(var t=0,e=this._btns;t<e.length;t++){e[t].deactivate()}},e.prototype.dispose=function(){this.removeChildren(),this._footer.destroy();for(var t=0,e=this._btns;t<e.length;t++){e[t].dispose()}this._cb_onSelect=null},e}(PIXI.Container);e.FurnitureShopMainView=a;var _=function(t){function e(){var e=t.call(this)||this;return e._over=new PIXI.Sprite,e.addChild(e._over),e}return n(e,t),e.prototype.initiatize=function(){this.texture=r.ITEM_FSHOP.getTexture(38)},e.prototype.update=function(t){if(void 0===t&&(t=-1),-1==t)this._over.visible=!1;else{var e=void 0;switch(t){case 0:e=39,this._over.position.set(16,258);break;case 1:e=40,this._over.position.set(16,16);break;case 2:e=41,this._over.position.set(196,15);break;case 3:e=42,this._over.position.set(16,16);break;case 4:e=43,this._over.position.set(577,16);break;case 5:e=44,this._over.position.set(39,114);break;default:return void(this._over.visible=!1)}this._over.texture=r.ITEM_FSHOP.getTexture(e),this._over.visible=!0}},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i._onMouseOver=function(){i._update(!0),null!=i._cb_onMouseOver&&i._cb_onMouseOver(i._type)},i._onMouseOut=function(){i._update(!1),null!=i._cb_onMouseOut&&i._cb_onMouseOut(i._type)},i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick(i._type)},i._type=e,i.interactive=!0,i}return n(e,t),e.prototype.initialize=function(t,e,i){this._cb_onMouseOver=t,this._cb_onMouseOut=e,this._cb_onClick=i,this._update(!1)},e.prototype.activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(r.EventType.MOUSEOVER,this._onMouseOver),this.on(r.EventType.MOUSEOUT,this._onMouseOut),this.on(r.EventType.CLICK,this._onClick),this._update(!1))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(r.EventType.MOUSEOVER,this._onMouseOver),this.off(r.EventType.MOUSEOUT,this._onMouseOut),this.off(r.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate()},e.prototype._update=function(t){this.texture=0==t?this._getTexture():this._getTextureOn()},e.prototype._getTexture=function(){var t;switch(this._type){case 0:t=25;break;case 1:t=27;break;case 2:t=29;break;case 3:t=31;break;case 4:t=33;break;case 5:t=35;break;default:return PIXI.Texture.EMPTY}return o.ITEM_FSHOP.getTexture(t)},e.prototype._getTextureOn=function(){var t;switch(this._type){case 0:t=26;break;case 1:t=28;break;case 2:t=30;break;case 3:t=32;break;case 4:t=34;break;case 5:t=36;break;default:return PIXI.Texture.EMPTY}return o.ITEM_FSHOP.getTexture(t)},e}(PIXI.Sprite);e.FurnitureTypeBtn=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(6),s=i(110),a=i(1168),_=i(1169),l=i(1171),u=i(1172),c=function(t){function e(e,i){var n=t.call(this)||this;return n._onSelect=function(t){r.SE.play("239"),n._now_selected=t;var e=o.default.model.useItem.getCount(52);n._detail.update(t,e),n._exchange_btn.enabled=n._getExchangeBtnEnabled(t,e)},n._onBack=function(){n._now_selected=null,null!=n._cb_onBack&&n._cb_onBack()},n._onExchange=function(){null!=n._cb_onExchange&&n._cb_onExchange(n._now_selected)},n._cb_onBack=e,n._cb_onExchange=i,n._header=new h,n._header.position.set(648,147),n.addChild(n._header),n._list=new a.FShopListPanel(n._onSelect),n._list.position.set(187,183),n.addChild(n._list),n._detail=new _.FShopDetailPanel,n._detail.position.set(643,213),n.addChild(n._detail),n._back_btn=new l.BackBtn,n._back_btn.position.set(202,654),n.addChild(n._back_btn),n._exchange_btn=new u.ExchangeBtn,n._exchange_btn.position.set(666,643),n.addChild(n._exchange_btn),n}return n(e,t),e.prototype.initialize=function(t){this._type=t,this._list.initialize(),this._detail.initialize(),this._back_btn.initialize(this._onBack),this._exchange_btn.initialize(this._onExchange),this.update()},e.prototype.update=function(){this._header.update(this._type);var t=o.default.model.furniture.getOnSaleList(this._type);this._list.update(t),this._detail.update(null,0),this._exchange_btn.enabled=!1},e.prototype.activate=function(){this._list.activate(),this._back_btn.activate(),this._exchange_btn.activate()},e.prototype.deactivate=function(){this._list.deactivate(),this._back_btn.deactivate(),this._exchange_btn.deactivate()},e.prototype.dispose=function(){this._list.dispose(),this._detail.dispose(),this._back_btn.dispose(),this._exchange_btn.dispose(),this._cb_onBack=null,this._cb_onExchange=null},e.prototype._getExchangeBtnEnabled=function(t,e){if(1==t.has())return!1;var i=o.default.model.useItem.getCount(44);if(i<t.price){if(1!=t.isHighGrade())return!1;if(i<t.getDiscountPrice()||e<1)return!1}return!(1==t.isNeedCraftsman()&&e<1)},e}(PIXI.Container);e.FShopListView=c;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.update=function(t){var e;switch(t){case 0:e=45;break;case 1:e=46;break;case 2:e=47;break;case 3:e=48;break;case 4:e=49;break;case 5:e=50;break;default:return void(this.texture=PIXI.Texture.EMPTY)}this.texture=s.ITEM_FSHOP.getTexture(e)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(4),s=i(110),a=function(t){function e(e){var i=t.call(this)||this;i._onMouseOverListItem=function(t){i._focusTo=t,i._focus.x=t.x-6,i._focus.y=t.y-4,i._focus.visible=!0},i._onMouseOutListItem=function(t){i._focusTo==t&&(i._focusTo=null,i._focus.visible=!1)},i._items=[];for(var n=0;n<10;n++){var o=new _(i._onMouseOverListItem,i._onMouseOutListItem,e);o.y=45*n,i.addChild(o),i._items.push(o)}return i._focus=new PIXI.Sprite,i.addChild(i._focus),i}return n(e,t),e.prototype.initialize=function(){this.texture=s.ITEM_FSHOP.getTexture(22);for(var t=0,e=this._items;t<e.length;t++){e[t].initialize()}this._focus.texture=s.ITEM_FSHOP.getTexture(23)},e.prototype.update=function(t){for(var e=0;e<this._items.length;e++){var i=this._items[e];e<t.length?(i.update(t[e]),i.visible=!0):i.visible=!1}},e.prototype.activate=function(){for(var t=0,e=this._items;t<e.length;t++){e[t].activate()}},e.prototype.deactivate=function(){for(var t=0,e=this._items;t<e.length;t++){e[t].deactivate()}},e.prototype.dispose=function(){for(var t=0,e=this._items;t<e.length;t++){e[t].dispose()}this._items=null},e}(PIXI.Sprite);e.FShopListPanel=a;var _=function(t){function e(e,i,n){var o=t.call(this)||this;return o._onMouseOver=function(){null!=o._cb_onMouseOver&&o._cb_onMouseOver(o)},o._onMouseOut=function(){null!=o._cb_onMouseOut&&o._cb_onMouseOut(o)},o._onClick=function(){null!=o._cb_onClick&&o._cb_onClick(o._model)},o._cb_onMouseOver=e,o._cb_onMouseOut=i,o._cb_onClick=n,o._coin=new PIXI.Sprite,o._coin.position.set(316,12),o.addChild(o._coin),o._name=new r.TextBox(20,16774898),o._name.position.set(6,10),o.addChild(o._name),o._price=new r.TextBox(18,16774898),o._price.anchor.x=1,o._price.position.set(433,10),o.addChild(o._price),o._soldout=new PIXI.Sprite,o._soldout.x=1,o._soldout.alpha=0,o.addChild(o._soldout),o.interactive=!0,o}return n(e,t),e.prototype.initialize=function(){this._coin.texture=s.ITEM_FSHOP.getTexture(14),this._soldout.texture=s.ITEM_FSHOP.getTexture(24)},e.prototype.update=function(t){this._model=t,this._name.text=t.name,this._price.text=t.price.toString(),this._soldout.alpha=1==t.has()?1:0},e.prototype.activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(o.EventType.MOUSEOVER,this._onMouseOver),this.on(o.EventType.MOUSEOUT,this._onMouseOut),this.on(o.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(o.EventType.MOUSEOVER,this._onMouseOver),this.off(o.EventType.MOUSEOUT,this._onMouseOut),this.off(o.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate(),this.removeChildren(),this._name.destroy(),this._price.destroy(),this._model=null,this._cb_onMouseOver=null,this._cb_onMouseOut=null,this._cb_onClick=null},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(110),s=i(1170),a=function(t){function e(){var e=t.call(this)||this;return e._thumbnail=new s.Thumbnail,e._thumbnail.position.set(30,31),e._name=new o.TextBox(20,16774898),e._name.x=283,e._name.y=28,e.addChild(e._name),e._description=new o.TextBox(19,16774898),e._description.x=285,e._description.y=87,e._description.style.breakWords=!0,e._description.style.wordWrap=!0,e._description.style.wordWrapWidth=258,e._description.style.lineHeight=24.7,e._price=new o.TextBox(20,16774898),e._price.x=292,e._price.y=255,e._bgmFairy=new PIXI.Sprite,e._bgmFairy.x=368,e._bgmFairy.y=234,e._rare=new _,e._rare.x=319,e._rare.y=333,e._craftman=new l,e._craftman.x=34,e._craftman.y=343,e}return n(e,t),e.prototype.initialize=function(){this.texture=r.ITEM_FSHOP.getTexture(56);var t=r.ITEM_FSHOP.getTexture(10),e=new PIXI.Sprite(t);e.x=282,e.y=61,this.addChild(e),t=r.ITEM_FSHOP.getTexture(12),e=new PIXI.Sprite(t),e.x=282,e.y=222,this.addChild(e),t=r.ITEM_FSHOP.getTexture(11),e=new PIXI.Sprite(t),e.x=282,e.y=304,this.addChild(e),this._thumbnail.initialize(),this.addChild(this._thumbnail),this.addChild(this._description),this.addChild(this._price),this._bgmFairy.texture=r.ITEM_FSHOP.getTexture(13),this.addChild(this._bgmFairy),this._rare.initialize(),this.addChild(this._rare),this._craftman.initialize(),this._craftman.visible=!1,this.addChild(this._craftman)},e.prototype.update=function(t,e){null==t?(this._thumbnail.clean(),this._name.text="",this._description.text="",this._price.text="",this._bgmFairy.visible=!1,this._rare.update(0),this._craftman.visible=!1):(this._thumbnail.updateFromModel(t),this._name.text=t.name,this._description.text=t.description.replace(/<br>/g,"\n"),this._price.text=t.price.toString(),this._bgmFairy.visible=t.seasonID>0,this._rare.update(t.rarity),1==t.isNeedCraftsman()?(this._craftman.update(e),this._craftman.visible=!0):this._craftman.visible=!1)},e.prototype.dispose=function(){this.removeChildren(),this._name.destroy(),this._description.destroy(),this._price.destroy(),this._craftman.dispose()},e}(PIXI.Sprite);e.FShopDetailPanel=a;var _=function(t){function e(){var e=t.call(this)||this;e._stars=[];for(var i=0;i<7;i++){var n=new PIXI.Sprite;n.x=30*i,n.visible=!1,e.addChild(n),e._stars.push(n)}return e}return n(e,t),e.prototype.initialize=function(){this.texture=r.ITEM_FSHOP.getTexture(53);for(var t=0,e=this._stars;t<e.length;t++){e[t].texture=r.ITEM_FSHOP.getTexture(15)}},e.prototype.update=function(t){for(var e=0;e<this._stars.length;e++){this._stars[e].visible=e<t}},e}(PIXI.Sprite),l=function(t){function e(){var e=t.call(this)||this;return e._icon=new PIXI.Sprite,e._icon.x=1,e.addChild(e._icon),e._arrow=new PIXI.Sprite,e._arrow.x=88,e._arrow.y=7,e.addChild(e._arrow),e._from=new o.TextBox(19,16774898),e._from.anchor.x=1,e._from.x=79,e.addChild(e._from),e._to=new o.TextBox(19,16774898),e._to.x=120,e.addChild(e._to),e._comment=new o.TextBox(17,16774898),e._comment.y=27,e._comment.text="\u7279\u6ce8\u5bb6\u5177\u8077\u4eba\u306e\u5354\u529b\u304c\u5fc5\u8981\u3068\u306a\u308a\u307e\u3059\u3002",e.addChild(e._comment),e}return n(e,t),e.prototype.initialize=function(){this._icon.texture=r.ITEM_FSHOP.getTexture(8),this._arrow.texture=r.ITEM_FSHOP.getTexture(0)},e.prototype.update=function(t){this._from.text=t.toString(),t>0?(this._to.style.fill=16774898,this._to.text=(t-1).toString()):(this._to.style.fill=15859712,this._to.text="0")},e.prototype.dispose=function(){this.removeChildren(),this._from.destroy(),this._to.destroy(),this._comment.destroy()},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(78),r=i(306),s=i(79),a=i(3),_=function(t){function e(){var e=t.call(this)||this;return e._soldout=new PIXI.Sprite,e._soldout.x=147,e._soldout.y=207,e._soldout.visible=!1,e.addChild(e._soldout),e}return n(e,t),e.prototype.initialize=function(){t.prototype.initialize.call(this),this._soldout.texture=a.ITEM_FSHOP.getTexture(21)},e.prototype.updateFromModel=function(e){if(this.clean(),this._soldout.visible=e.has(),e.isActive()){this._img.scale.set(1),this._img.position.set(0,0);var i=o.FurnitureLoader.getPath(e.mstID,"thumbnail"),n=o.FurnitureLoader.getVersionQuery(e.mstID),r=i+(""==n?"":"?"+n),a=PIXI.Texture.fromImage(r);t.prototype.update.call(this,a)}else{switch(e.type){case 0:this._img.scale.set(1.45),this._img.position.set(-757,-99);break;case 1:this._img.scale.set(.64),this._img.position.set(-96,3);break;case 2:this._img.scale.set(.64),this._img.position.set(3,3);break;case 3:this._img.scale.set(1),this._img.position.set(0,0);break;case 4:this._img.scale.set(.73),this._img.position.set(1,-90);break;case 5:this._img.scale.set(.56),this._img.position.set(-34,9)}var _=e.mstID,r=o.FurnitureLoader.getPath(_,"normal")+s.VersionUtil.getResourceVersion(2,_),a=PIXI.Texture.fromImage(r);t.prototype.update.call(this,a)}},e.prototype.clean=function(){this._soldout.visible=!1,t.prototype.clean.call(this)},e}(r.FurnitureThumbnail);e.Thumbnail=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(31),r=i(3),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._update=function(t){this.texture=0==t?r.ITEM_FSHOP.getTexture(19):r.ITEM_FSHOP.getTexture(20)},e}(o.BtnBase);e.BackBtn=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(31),r=i(3),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._update=function(t){0==this._enabled?this.texture=r.ITEM_FSHOP.getTexture(17):this.texture=0==t?r.ITEM_FSHOP.getTexture(16):r.ITEM_FSHOP.getTexture(18)},e}(o.BtnBase);e.ExchangeBtn=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(3),s=function(t){function e(){var e=t.call(this)||this;return e._text=new o.TextBox(28,5010027),e._text.anchor.x=1,e._text.position.set(174,27),e.addChild(e._text),e}return n(e,t),e.prototype.initialize=function(){this.texture=r.ITEM_FSHOP.getTexture(37),this.update(0)},e.prototype.update=function(t){t=Math.max(t,0),this._text.text=t.toString()},e.prototype.dispose=function(){this.removeChildren(),this._text.destroy()},e}(PIXI.Sprite);e.CoinBox=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(17),a=i(4),_=i(3),l=i(3),u=i(410),c=i(1175),h=i(1),p=function(t){function e(e,i){var n=t.call(this)||this;return n._result=!1,n._layer=e,n._model=i,n}return n(e,t),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e.prototype._start=function(){var t=this;if(1==this._model.isHighGrade()){var e=new c.TaskExchangeHighGrade(this._layer,this._model);e.start(function(){t._result=e.result,t._endTask()})}else{var i=new d(this._layer,this._model);i.start(function(){t._result=i.result,t._endTask()})}},e.prototype._endTask=function(){this._layer=null,this._model=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskExchange=p;var d=function(t){function e(e,i){var n=t.call(this)||this;return n._result=!1,n._showDialog=function(){var t=o.default.model.useItem.getCount(44),e=t-n._model.price,i=o.default.model.useItem.getCount(52),r=i-1;n._dialog=new f(n._onResult),n._dialog.initialize(),n._dialog.update(t,e,i,r),n._dialog.alpha=0,n._fade.addChild(n._dialog),createjs.Tween.get(n._dialog).to({alpha:1},300).call(function(){n._dialog.activate()})},n._onResult=function(t){n._dialog.deactivate(),1==t?n._connectAPI():n._hideDialog()},n._layer=e,n._model=i,n}return n(e,t),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e.prototype._start=function(){1==this._model.isNeedCraftsman()?this._showFade():this._connectAPI()},e.prototype._showFade=function(){this._fade=new s.FadeBox(.8),this._fade.hide(0),this._layer.addChild(this._fade),this._fade.show(200,this._showDialog)},e.prototype._connectAPI=function(){var t=this;_.SE.play("215"),this._result=!0,new u.FurnitureExchangeAPI(this._model).start(function(){null==t._dialog?t._endTask():t._hideDialog()})},e.prototype._hideDialog=function(){var t=this;createjs.Tween.get(this._dialog).to({alpha:0},200).call(function(){t._dialog.dispose(),t._layer.removeChild(t._dialog),t._dialog=null,t._hideFade()})},e.prototype._hideFade=function(){var t=this;this._fade.hide(200,function(){t._layer.removeChild(t._fade),t._fade=null,t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._model=null,t.prototype._endTask.call(this)},e}(r.TaskBase),f=function(t){function e(e){var i=t.call(this)||this;return i._onYes=function(){null!=i._cb_onResult&&i._cb_onResult(!0)},i._onNo=function(){null!=i._cb_onResult&&i._cb_onResult(!1)},i._cb_onResult=e,i._label1=new a.TextBox(21,1949120),i._label1.text="-\u5bb6\u5177\u5c4b\u3000\u7279\u5225\u6ce8\u6587-",i._label1.position.set(600-i._label1.width/2,21),i.addChild(i._label1),i._label2=new a.TextBox(21,1949120),i._label2.text="\u5bb6\u5177\u30b3\u30a4\u30f3",i._label2.position.set(395,236),i.addChild(i._label2),i._label3=new a.TextBox(21,1949120),i._label3.text="\u7279\u6ce8\u5bb6\u5177\u8077\u4eba",i._label3.position.set(395,308),i.addChild(i._label3),i._coin_from=new a.TextBox(21,16774898),i._coin_from.anchor.x=1,i._coin_from.position.set(681,236),i.addChild(i._coin_from),i._coin_to=new a.TextBox(21,16774898),i._coin_to.position.set(710,236),i.addChild(i._coin_to),i._craftman_from=new a.TextBox(21,16774898),i._craftman_from.anchor.x=1,i._craftman_from.position.set(681,309),i.addChild(i._craftman_from),i._craftman_to=new a.TextBox(21,16774898),i._craftman_to.position.set(710,309),i.addChild(i._craftman_to),i._btn_no=new PIXI.Sprite,i._btn_no.interactive=!0,i._btn_no.position.set(381,578),i.addChild(i._btn_no),i._btn_yes=new PIXI.Sprite,i._btn_yes.interactive=!0,i._btn_yes.position.set(665,578),i.addChild(i._btn_yes),i}return n(e,t),e.prototype.initialize=function(){this.texture=l.ITEM_FSHOP.getTexture(54),this._btn_no.texture=l.ITEM_FSHOP.getTexture(6),this._btn_yes.texture=l.ITEM_FSHOP.getTexture(7);var t=new PIXI.Sprite(l.ITEM_FSHOP.getTexture(9));t.position.set(573,234),this.addChild(t),t=new PIXI.Sprite(l.ITEM_FSHOP.getTexture(8)),t.position.set(576,308),this.addChild(t);var e=l.ITEM_FSHOP.getTexture(0),i=new PIXI.Sprite(e);i.position.set(684,243),this.addChild(i),i=new PIXI.Sprite(e),i.position.set(684,318),this.addChild(i)},e.prototype.update=function(t,e,i,n){this._coin_from.text=t.toString(),this._coin_to.text=e.toString(),this._craftman_from.text=i.toString(),this._craftman_to.text=n.toString()},e.prototype.activate=function(){this._btn_no.buttonMode=!0,this._btn_no.once(h.EventType.CLICK,this._onNo),this._btn_yes.buttonMode=!0,this._btn_yes.once(h.EventType.CLICK,this._onYes)},e.prototype.deactivate=function(){this._btn_no.buttonMode=!1,this._btn_no.off(h.EventType.CLICK,this._onNo),this._btn_yes.buttonMode=!1,this._btn_yes.off(h.EventType.CLICK,this._onYes)},e.prototype.dispose=function(){this.deactivate(),this.removeChildren(),this._label1.destroy(),this._label2.destroy(),this._label3.destroy(),this._coin_from.destroy(),this._coin_to.destroy(),this._craftman_from.destroy(),this._craftman_to.destroy(),this._cb_onResult=null},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),s=i(2),a=i(17),_=i(4),l=i(6),u=i(110),c=i(410),h=function(t){function e(e,i){var n=t.call(this)||this;return n._result=!1,n._showDialog=function(){var t=o.default.model.useItem.getCount(44),e=o.default.model.useItem.getCount(52);n._dialog=new p(n._onResult),n._dialog.initialize(n._model,t,e),n._dialog.alpha=0,n._fade.addChild(n._dialog),createjs.Tween.get(n._dialog).to({alpha:1},150).call(function(){n._dialog.activate()})},n._onResult=function(t){n._dialog.deactivate(),0==t?n._hideDialog():n._connectAPI(t)},n._layer=e,n._model=i,n}return n(e,t),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e.prototype._start=function(){this._showFade()},e.prototype._showFade=function(){this._fade=new a.FadeBox(.6),this._fade.hide(0),this._layer.addChild(this._fade),this._fade.show(200,this._showDialog)},e.prototype._connectAPI=function(t){var e=this;l.SE.play("215"),this._result=!0;var i=2==t;new c.FurnitureExchangeAPI(this._model,i).start(function(){null==e._dialog?e._endTask():e._hideDialog()})},e.prototype._hideDialog=function(){var t=this;createjs.Tween.get(this._dialog).to({alpha:0},150).call(function(){t._dialog.dispose(),t._layer.removeChild(t._dialog),t._dialog=null,t._hideFade()})},e.prototype._hideFade=function(){var t=this;this._fade.hide(150,function(){t._layer.removeChild(t._fade),t._fade=null,t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._model=null,t.prototype._endTask.call(this)},e}(s.TaskBase);e.TaskExchangeHighGrade=h;var p=function(t){function e(e){var i=t.call(this)||this;return i._onNominal=function(){null!=i._cb_onResult&&i._cb_onResult(1)},i._onDiscount=function(){null!=i._cb_onResult&&i._cb_onResult(2)},i._onBack=function(){null!=i._cb_onResult&&i._cb_onResult(0)},i._cb_onResult=e,i._bg=new PIXI.Sprite,i._bg.position.set(147,267),i.addChild(i._bg),i._btn_nominal=new d(i._onNominal),i._btn_nominal.interactive=!0,i._btn_nominal.position.set(259,312),i.addChild(i._btn_nominal),i._btn_discount=new f(i._onDiscount),i._btn_discount.interactive=!0,i._btn_discount.position.set(622,295),i.addChild(i._btn_discount),i._btn_back=new PIXI.Sprite,i._btn_back.interactive=!0,i._btn_back.position.set(972,402),i.addChild(i._btn_back),i}return n(e,t),e.prototype.initialize=function(t,e,i){this._bg.texture=u.ITEM_FSHOP.getTexture(52);var n=t.price;this._btn_nominal.initialize(n,e>=n),n=t.getDiscountPrice(),this._btn_discount.initialize(n,e>=n&&i>0),this._btn_back.texture=u.ITEM_FSHOP.getTexture(1)},e.prototype.activate=function(){this._btn_nominal.activate(),this._btn_discount.activate(),this._btn_back.buttonMode=!0,this._btn_back.once(r.EventType.CLICK,this._onBack)},e.prototype.deactivate=function(){this._btn_nominal.deactivate(),this._btn_discount.deactivate(),this._btn_back.buttonMode=!1,this._btn_back.off(r.EventType.CLICK,this._onBack)},e.prototype.dispose=function(){this.deactivate(),this._cb_onResult=null},e}(PIXI.Container),d=function(t){function e(e){var i=t.call(this)||this;return i._enabled=!1,i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick()},i._price=new _.TextBox(28,16774898),i._price.y=58,i.addChild(i._price),i._cb_onClick=e,i}return n(e,t),e.prototype.initialize=function(t,e){this._enabled=e,this.texture=1==e?u.ITEM_FSHOP.getTexture(2):u.ITEM_FSHOP.getTexture(3),this._price.text=t.toString(),this._price.x=Math.floor(72-this._price.width/2)},e.prototype.activate=function(){0!=this._enabled&&(this.buttonMode=!0,this.once(r.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(r.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate(),this.removeChildren(),this._price.destroy(),this._cb_onClick=null},e}(PIXI.Sprite),f=function(t){function e(e){var i=t.call(this)||this;return i._enabled=!1,i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick()},i._price=new _.TextBox(28,16774898),i._price.y=88,i.addChild(i._price),i._cb_onClick=e,i}return n(e,t),e.prototype.initialize=function(t,e){this._enabled=e,this.texture=1==e?u.ITEM_FSHOP.getTexture(4):u.ITEM_FSHOP.getTexture(5),this._price.text=t.toString(),this._price.x=Math.floor(70-this._price.width/2)},e.prototype.activate=function(){0!=this._enabled&&(this.buttonMode=!0,this.once(r.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(r.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate(),this._cb_onClick=null},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(47),r=i(1177),s=i(1179),a=i(1181),_=i(1184),l=function(t){function e(){return t.call(this)||this}return n(e,t),Object.defineProperty(e.prototype,"viewTop",{get:function(){return this._viewTop},enumerable:!0,configurable:!0}),e.prototype.getPreInitializeTask=function(t){return new r.PreInitializeTask(this)},e.prototype.getInitializeTask=function(t){return new r.InitializeTask(this)},e.prototype.getFinalizeTask=function(){return new _.FinalizeTask(this)},e.prototype.initialize=function(){this._viewTop=new a.ViewTop,this._viewTop.initialize(),this.addChild(this._viewTop)},e.prototype.startTopTask=function(){var t=this;this._topTask=new s.TaskTop(this),this._topTask.start(function(){t._topTask=null})},e.prototype.dispose=function(){null!=this._topTask&&(this._topTask.cancel(),this._topTask=null),null!=this._viewTop&&(this._viewTop.dispose(),this._viewTop=null),null!=this._viewSub&&(this._viewSub.dispose(),this._viewSub=null),this._FurnitureLists=null,this.removeChildren()},e}(o.SceneBase);e.InteriorScene=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(11),s=i(1178),a=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){this._loadResources()},e.prototype._loadResources=function(){var t=this;(new s.TaskLoadResources).start(function(){t._showTopView()})},e.prototype._showTopView=function(){this._scene.initialize(),this._scene.startTopTask(),this._scene=null,this._endTask()},e}(r.TaskBase);e.PreInitializeTask=a;var _=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){this._playBGM()},e.prototype._playBGM=function(){o.default.sound.bgm.play(104),this._startScene()},e.prototype._startScene=function(){this._endTask()},e}(r.TaskBase);e.InitializeTask=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(14),s=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype._start=function(){this._load()},e.prototype._load=function(){var t=this,e=new r.UIImageLoader("interior");e.add("interior_parts.json"),e.load(function(){t._endTask()})},e}(o.TaskBase);e.TaskLoadResources=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(80),a=i(78),_=i(199),l=i(6),u=i(411),c=i(1180),h=i(1),p=function(t){function e(e){var i=t.call(this)||this;return i._selected=null,i._FurnitureIdsonPage=new Array(10),i._ids_before=new Array(7),i._ids_after=new Array(7),i._ids_season=new Array(6),i._onClickBtnGoFigure=function(t){i._ListNowPage=i._ListPagerLeft+t,l.SE.play("249"),i._drawList()},i._onClickBtnLists=function(t){if(i._NowFurnitureSelected=i._FurnitureIdsonPage[t],i._ListNowFurnitureBeforeSelected!=i._NowFurnitureSelected){-1!=i._ListNowFurnitureBeforeSelected&&l.SE.play("239"),i._ListNowFurnitureBeforeSelected=i._NowFurnitureSelected,i._ListNowFurnitureSelected=t,i._topView.itemName.text=i._topView.lists_str[t].text,i._topView.itemName.position.set(Math.floor(975-i._topView.itemName.width/2),Math.floor(409-i._topView.itemName.height/2));var e=o.default.model.furniture.getData(i._NowFurnitureSelected).description;i._topView.itemDescription.text=e.replace(/<br>/g,"\n"),i._topView.bgm_fairy.scale.x=o.default.model.furniture.getData(i._NowFurnitureSelected).seasonID>0?1:0;var n=o.default.model.furniture.isActive(i._NowFurnitureSelected);if(n){var r=new a.FurnitureLoader;r.add(i._NowFurnitureSelected,"thumbnail"),r.load(function(){i._topView.thumbnail.texture=o.default.resources.getFurniture(i._NowFurnitureSelected,"thumbnail")}),i._topView.thumbnail.scale.set(1,1),i._topView.thumbnail.position.set(856,89)}else{var r=new a.FurnitureLoader;switch(r.add(i._NowFurnitureSelected,"normal"),r.load(function(){i._topView.thumbnail.texture=o.default.resources.getFurniture(i._NowFurnitureSelected,"normal")}),i._selected){case i._topView.btn_wall:i._topView.thumbnail.scale.set(.64,.64),i._topView.thumbnail.position.set(754,89);break;case i._topView.btn_floor:i._topView.thumbnail.scale.set(1.45,1.45),i._topView.thumbnail.position.set(93,-11);break;case i._topView.btn_desk:i._topView.thumbnail.scale.set(.56,.56),i._topView.thumbnail.position.set(817,93);break;case i._topView.btn_window:i._topView.thumbnail.scale.set(.64,.64),i._topView.thumbnail.position.set(851,87);break;case i._topView.btn_object:i._topView.thumbnail.scale.set(1,1),i._topView.thumbnail.position.set(850,86);break;case i._topView.btn_chest:i._topView.thumbnail.scale.set(.73,.73),i._topView.thumbnail.position.set(851,-2)}}i._topView.thumbnail.mask=i._topView.thumbnailMask}},i._onClickBtnListGoTop=function(){0!=i._ListNowPage&&(i._ListNowPage=0,i._drawList("249"))},i._onClickBtnListGoPrev=function(){0!=i._ListNowPage&&(i._ListNowPage-5>=0?i._ListNowPage-=5:i._ListNowPage=0,i._drawList("249"))},i._onClickBtnListGoNext=function(){i._ListNowPage+1!=i._ListLastPage&&(i._ListNowPage+5<i._ListLastPage?i._ListNowPage+=5:i._ListNowPage=i._ListLastPage-1,i._drawList("249"))},i._onClickBtnListGoLowest=function(){i._ListNowPage+1!=i._ListLastPage&&(i._ListNowPage=i._ListLastPage-1,i._drawList("249"))},i._onClickBtnBack=function(){i.__onLeaveInterior(!0)},i._onClickBtnGoShop=function(){i.__onLeaveInterior(!1)},i._onClickBtnChange=function(){var t=-1;switch(i._selected){case i._topView.btn_wall:i._ids_after[1]!=i._NowFurnitureSelected&&l.SE.play("246"),t=i._ids_season[1],i._ids_after[1]=i._NowFurnitureSelected;break;case i._topView.btn_floor:i._ids_after[0]!=i._NowFurnitureSelected&&l.SE.play("246"),t=i._ids_season[0],i._ids_after[0]=i._NowFurnitureSelected;break;case i._topView.btn_desk:i._ids_after[5]!=i._NowFurnitureSelected&&l.SE.play("246"),t=i._ids_season[5],i._ids_after[5]=i._NowFurnitureSelected;break;case i._topView.btn_window:i._ids_after[2]!=i._NowFurnitureSelected&&l.SE.play("246"),t=i._ids_season[2],i._ids_after[2]=i._NowFurnitureSelected;break;case i._topView.btn_object:i._ids_after[3]!=i._NowFurnitureSelected&&l.SE.play("246"),t=i._ids_season[3],i._ids_after[3]=i._NowFurnitureSelected;break;case i._topView.btn_chest:i._ids_after[4]!=i._NowFurnitureSelected&&l.SE.play("246"),t=i._ids_season[4],i._ids_after[4]=i._NowFurnitureSelected}var e=new _.FurnitureLoadTask(!1);e.floor_id=i._ids_after[0],e.wall_id=i._ids_after[1],e.window_id=i._ids_after[2],e.object_id=i._ids_after[3],e.desk_id=i._ids_after[5],e.chest_id=i._ids_after[4],e.start(function(){});var n=o.default.model.furniture.getData(i._NowFurnitureSelected).seasonID;switch(0!=n?(i._LastChangedSeason=n,i._ids_after[6]=n):0!=t&&(i._LastChangedSeason=n,i._ids_after[6]=n),i._selected){case i._topView.btn_wall:i._ids_season[1]=n;break;case i._topView.btn_floor:i._ids_season[0]=n;break;case i._topView.btn_desk:i._ids_season[5]=n;break;case i._topView.btn_window:i._ids_season[2]=n;break;case i._topView.btn_object:i._ids_season[3]=n;break;case i._topView.btn_chest:i._ids_season[4]=n}i._changeList()},i._onClickBtnMess=function(){i._NowAnimeUI||(i._NowVisibleUI?i.Fade(!1):i.Fade(!0))},i._onClickBtnWall=function(){i._selected=i._topView.btn_wall,i._topView.menumoji.texture=u.INTERIOR_PARTS.getTexture(19),i.interactiveAllLeftMenuSet(!0),i._topView.btn_wall.interactive=!1,i._topView.btn_wall.texture=u.INTERIOR_PARTS.getTexture(29),i._changeList()},i._onClickBtnFloor=function(){i._selected=i._topView.btn_floor,i._topView.menumoji.texture=u.INTERIOR_PARTS.getTexture(18),i.interactiveAllLeftMenuSet(!0),i._topView.btn_floor.interactive=!1,i._topView.btn_floor.texture=u.INTERIOR_PARTS.getTexture(26),i._changeList()},i._onClickBtnDesk=function(){i._selected=i._topView.btn_desk,i._topView.menumoji.texture=u.INTERIOR_PARTS.getTexture(23),i.interactiveAllLeftMenuSet(!0),i._topView.btn_desk.interactive=!1,i._topView.btn_desk.texture=u.INTERIOR_PARTS.getTexture(41),i._changeList()},i._onClickBtnWindow=function(){i._selected=i._topView.btn_window,i._topView.menumoji.texture=u.INTERIOR_PARTS.getTexture(20),i.interactiveAllLeftMenuSet(!0),i._topView.btn_window.interactive=!1,i._topView.btn_window.texture=u.INTERIOR_PARTS.getTexture(32),i._changeList()},i._onClickBtnObject=function(){i._selected=i._topView.btn_object,i._topView.menumoji.texture=u.INTERIOR_PARTS.getTexture(21),i.interactiveAllLeftMenuSet(!0),i._topView.btn_object.interactive=!1,i._topView.btn_object.texture=u.INTERIOR_PARTS.getTexture(35),i._changeList()},i._onClickBtnChest=function(){i._selected=i._topView.btn_chest,i._topView.menumoji.texture=u.INTERIOR_PARTS.getTexture(22),i.interactiveAllLeftMenuSet(!0),i._topView.btn_chest.interactive=!1,i._topView.btn_chest.texture=u.INTERIOR_PARTS.getTexture(38),i._changeList()},i._scene=e,i._topView=e.viewTop,i._ListNowFurnitureBeforeSelected=-1,i._tweens=new Array,i._NowVisibleUI=!0,i._NowAnimeUI=!1,i}return n(e,t),e.prototype.cancel=function(){this._removeEventListeners();for(var t=0,e=this._tweens;t<e.length;t++){e[t].setPaused(!0)}this._tweens=null},e.prototype._start=function(){var t=this;this._firstIDs(),this._topView.btn_back.on(h.EventType.CLICK,this._onClickBtnBack),this._topView.btn_goShop.on(h.EventType.CLICK,this._onClickBtnGoShop),this._topView.btn_change.on(h.EventType.CLICK,this._onClickBtnChange),this._topView.btn_mess_icon.on(h.EventType.CLICK,this._onClickBtnMess),this._topView.btn_wall.on(h.EventType.CLICK,this._onClickBtnWall),this._topView.btn_floor.on(h.EventType.CLICK,this._onClickBtnFloor),this._topView.btn_desk.on(h.EventType.CLICK,this._onClickBtnDesk),this._topView.btn_window.on(h.EventType.CLICK,this._onClickBtnWindow),this._topView.btn_object.on(h.EventType.CLICK,this._onClickBtnObject),this._topView.btn_chest.on(h.EventType.CLICK,this._onClickBtnChest),this._topView.btn_list_goTop.on(h.EventType.CLICK,this._onClickBtnListGoTop),this._topView.btn_list_goPrev.on(h.EventType.CLICK,this._onClickBtnListGoPrev),this._topView.btn_list_goNext.on(h.EventType.CLICK,this._onClickBtnListGoNext),this._topView.btn_list_goLowest.on(h.EventType.CLICK,this._onClickBtnListGoLowest);for(var e=this,i=0;i<10;i++)!function(i){e._topView.btn_lists[i].on(h.EventType.CLICK,function(){t._onClickBtnLists(i)})}(i);for(var n=this,i=0;i<5;i++)!function(e){n._topView.btn_list_goFigure[e].on(h.EventType.CLICK,function(){t._onClickBtnGoFigure(e)})}(i);this._selected=this._topView.btn_wall,this._onClickBtnWall()},e.prototype._firstIDs=function(){this._LastChangedSeason=-1,this._ids_before[1]=o.default.model.basic.getPortFurnitureMstID(1),this._ids_before[0]=o.default.model.basic.getPortFurnitureMstID(0),this._ids_before[5]=o.default.model.basic.getPortFurnitureMstID(5),this._ids_before[2]=o.default.model.basic.getPortFurnitureMstID(2),this._ids_before[3]=o.default.model.basic.getPortFurnitureMstID(3),this._ids_before[4]=o.default.model.basic.getPortFurnitureMstID(4),this._ids_before[6]=this._LastChangedSeason,this._ids_after[1]=this._ids_before[1],this._ids_after[0]=this._ids_before[0],this._ids_after[5]=this._ids_before[5],this._ids_after[2]=this._ids_before[2],this._ids_after[3]=this._ids_before[3],this._ids_after[4]=this._ids_before[4],this._ids_after[6]=this._LastChangedSeason,this._ids_season[1]=o.default.model.furniture.getData(this._ids_after[1]).seasonID,this._ids_season[0]=o.default.model.furniture.getData(this._ids_after[0]).seasonID,this._ids_season[5]=o.default.model.furniture.getData(this._ids_after[5]).seasonID,this._ids_season[2]=o.default.model.furniture.getData(this._ids_after[2]).seasonID,this._ids_season[3]=o.default.model.furniture.getData(this._ids_after[3]).seasonID,this._ids_season[4]=o.default.model.furniture.getData(this._ids_after[4]).seasonID},e.prototype.SetFontStyle=function(t,e){switch(e){case 0:this._topView.btn_list_goFigureStr[t].style.fill=2014913,this._topView.btn_list_goFigureStr[t].style.fontSize=29,this._topView.btn_list_goFigureStr[t].y=566,this._topView.btn_list_goFigure[t].interactive=this._topView.btn_list_goFigure[t].buttonMode=!1;break;case 1:this._topView.btn_list_goFigureStr[t].style.fill=0,this._topView.btn_list_goFigureStr[t].style.fontSize=22,this._topView.btn_list_goFigureStr[t].y=567,this._topView.btn_list_goFigure[t].interactive=this._topView.btn_list_goFigure[t].buttonMode=!0;break;case 2:this._topView.btn_list_goFigureStr[t].style.fill=16777215,this._topView.btn_list_goFigureStr[t].style.fontSize=29,this._topView.btn_list_goFigureStr[t].y=566,this._topView.btn_list_goFigure[t].interactive=this._topView.btn_list_goFigure[t].buttonMode=!1}},e.prototype.PagerFigureDraw=function(){if(this._ListLastPage<=5){this._ListPagerLeft=0;for(var t=0;t<5;t++)this._topView.btn_list_goFigureStr[t].text=(t+1).toString(),t==this._ListNowPage?this.SetFontStyle(t,0):t<this._ListLastPage?this.SetFontStyle(t,1):this.SetFontStyle(t,2)}else{this._ListLastPage-this._ListNowPage<=3?this._ListPagerLeft=this._ListLastPage-5:this._ListNowPage<3?this._ListPagerLeft=0:this._ListPagerLeft=this._ListNowPage-2;for(var t=0;t<5;t++)this._topView.btn_list_goFigureStr[t].text=(t+1+this._ListPagerLeft).toString(),t+this._ListPagerLeft==this._ListNowPage?this.SetFontStyle(t,0):this.SetFontStyle(t,1)}},e.prototype.__onLeaveInterior=function(t){var e=this;this._removeEventListeners();for(var i=!1,n=0;n<6;n++)if(this._ids_before[n]!=this._ids_after[n]){i=!0;break}if(l.SE.play("237"),i){var o=this._ids_before[6]==this._ids_after[6]?-1:this._ids_after[6];new c.FurnitureChangeAPI(this._ids_after[0],this._ids_after[1],this._ids_after[2],this._ids_after[3],this._ids_after[4],this._ids_after[5],o).start(function(){e.__GotoScene(t)})}else this.__GotoScene(t)},e.prototype.__GotoScene=function(t){if(t)o.default.scene.change(0);else{var e=new s.ItemSceneModel(2);o.default.scene.change(24,e)}},e.prototype.interactiveAllLeftMenuSet=function(t){this._topView.btn_wall.interactive=t,this._topView.btn_floor.interactive=t,this._topView.btn_desk.interactive=t,this._topView.btn_window.interactive=t,this._topView.btn_object.interactive=t,this._topView.btn_chest.interactive=t,this._topView.btn_wall.texture=u.INTERIOR_PARTS.getTexture(t?27:28),this._topView.btn_floor.texture=u.INTERIOR_PARTS.getTexture(t?24:25),this._topView.btn_desk.texture=u.INTERIOR_PARTS.getTexture(t?39:40),this._topView.btn_window.texture=u.INTERIOR_PARTS.getTexture(t?30:31),this._topView.btn_object.texture=u.INTERIOR_PARTS.getTexture(t?33:34),this._topView.btn_chest.texture=u.INTERIOR_PARTS.getTexture(t?36:37)},e.prototype._changeList=function(){this._ListNowFurnitureBeforeSelected=-1;var t=0;switch(this._selected){case this._topView.btn_wall:this._FurnitureList=o.default.model.furniture.getOwnList(1),t=this._ids_after[1];break;case this._topView.btn_floor:this._FurnitureList=o.default.model.furniture.getOwnList(0),t=this._ids_after[0];break;case this._topView.btn_desk:this._FurnitureList=o.default.model.furniture.getOwnList(5),t=this._ids_after[5];break;case this._topView.btn_window:this._FurnitureList=o.default.model.furniture.getOwnList(2),t=this._ids_after[2];break;case this._topView.btn_object:this._FurnitureList=o.default.model.furniture.getOwnList(3),t=this._ids_after[3];break;case this._topView.btn_chest:this._FurnitureList=o.default.model.furniture.getOwnList(4),t=this._ids_after[4]}for(var e=0,i=0,n=this._FurnitureList;i<n.length;i++){n[i].mstID==t&&(this._ListNowFurniturePage=parseInt(e/10+""),this._ListNowPage=this._ListNowFurniturePage,this._ListNowFurnitureLine=e%10),e++}this._ListLastPage=parseInt((this._FurnitureList.length-1)/10+"",10)+1,this._drawList(),this._onClickBtnLists(this._ListNowFurnitureLine)},e.prototype._drawList=function(t){void 0===t&&(t=null);for(var e=0,i=0,n=0,o=this._FurnitureList;n<o.length;n++){var r=o[n];if(this._ListNowPage>i/10)i++;else if(this._topView.lists_str[e].text=r.name,this._topView.btn_lists[e].interactive=this._topView.btn_lists[e].buttonMode=!0,this._FurnitureIdsonPage[e]=r.mstID,10==++e)break}for(var r=e;r<10;r++)this._topView.lists_str[r].text="",this._topView.btn_lists[r].interactive=this._topView.btn_lists[r].buttonMode=!1,this._FurnitureIdsonPage[r]=-1;this._ListNowPage==this._ListNowFurniturePage?this._topView.iconEquipment.position.set(288,48*this._ListNowFurnitureLine+59):this._topView.iconEquipment.position.set(-150,-150),this.PagerFigureDraw(),null!=t&&l.SE.play(t)},e.prototype._removeEventListeners=function(){var t=this;this._topView.btn_back.off(h.EventType.CLICK,this._onClickBtnBack),this._topView.btn_change.off(h.EventType.CLICK,this._onClickBtnChange),this._topView.btn_goShop.on(h.EventType.CLICK,this._onClickBtnGoShop),this._topView.btn_mess_icon.off(h.EventType.CLICK,this._onClickBtnMess),this._topView.btn_wall.off(h.EventType.CLICK,this._onClickBtnWall),this._topView.btn_floor.off(h.EventType.CLICK,this._onClickBtnFloor),this._topView.btn_desk.off(h.EventType.CLICK,this._onClickBtnDesk),this._topView.btn_window.off(h.EventType.CLICK,this._onClickBtnWindow),this._topView.btn_object.off(h.EventType.CLICK,this._onClickBtnObject),this._topView.btn_chest.off(h.EventType.CLICK,this._onClickBtnChest),this._topView.btn_list_goTop.off(h.EventType.CLICK,this._onClickBtnListGoTop),this._topView.btn_list_goPrev.off(h.EventType.CLICK,this._onClickBtnListGoPrev),this._topView.btn_list_goNext.off(h.EventType.CLICK,this._onClickBtnListGoNext),this._topView.btn_list_goLowest.off(h.EventType.CLICK,this._onClickBtnListGoLowest);for(var e=this,i=0;i<10;i++)!function(i){e._topView.btn_lists[i].off(h.EventType.CLICK,function(){t._onClickBtnLists(i)})}(i);for(var n=this,i=0;i<5;i++)!function(e){n._topView.btn_list_goFigure[e].off(h.EventType.CLICK,function(){t._onClickBtnGoFigure(e)})}(i)},e.prototype._VisibleUI=function(t){this._topView.btn_back.visible=t,this._topView.btn_change.visible=t,this._topView.btn_goShop.visible=t,this._topView.btn_wall.visible=t,this._topView.btn_floor.visible=t,this._topView.btn_desk.visible=t,this._topView.btn_window.visible=t,this._topView.btn_object.visible=t,this._topView.btn_chest.visible=t,this._topView.frame1_bg.visible=t,this._topView.btn_list_goTop.visible=t,this._topView.btn_list_goPrev.visible=t,this._topView.btn_list_goNext.visible=t,this._topView.btn_list_goLowest.visible=t,this._topView.frame2_bg.visible=t;for(var e=0;e<5;e++)this._topView.btn_list_goFigureStr[e].visible=t,this._topView.btn_list_goFigure[e].visible=t;for(var e=0;e<10;e++)this._topView.lists_str[e].visible=t,this._topView.btn_lists[e].visible=t;this._topView.iconEquipment.visible=t,this._topView.itemName.visible=t,this._topView.itemDescription.visible=t,this._topView.thumbnailBG.visible=t,this._topView.thumbnail.visible=t,this._topView.thumbnailBG2.visible=t,this._topView.menumoji.visible=t,this._topView.bgm_fairy.visible=t},e.prototype._AlphaAnime=function(t,e){e?this._tweens.push(createjs.Tween.get(t).to({alpha:1},150)):this._tweens.push(createjs.Tween.get(t).to({alpha:0},150))},e.prototype.Fade=function(t){var e=this;this._NowAnimeUI=!0,this._NowVisibleUI||this._VisibleUI(!0),this._AlphaAnime(this._topView.btn_back,t),this._AlphaAnime(this._topView.btn_change,t),this._AlphaAnime(this._topView.btn_goShop,t),this._AlphaAnime(this._topView.btn_wall,t),this._AlphaAnime(this._topView.btn_floor,t),this._AlphaAnime(this._topView.btn_desk,t),this._AlphaAnime(this._topView.btn_window,t),this._AlphaAnime(this._topView.btn_object,t),this._AlphaAnime(this._topView.btn_chest,t),this._AlphaAnime(this._topView.frame1_bg,t),this._AlphaAnime(this._topView.btn_list_goTop,t),this._AlphaAnime(this._topView.btn_list_goPrev,t),this._AlphaAnime(this._topView.btn_list_goNext,t),this._AlphaAnime(this._topView.btn_list_goLowest,t),this._AlphaAnime(this._topView.frame2_bg,t);for(var i=0;i<5;i++)this._AlphaAnime(this._topView.btn_list_goFigureStr[i],t),this._AlphaAnime(this._topView.btn_list_goFigure[i],t);for(var i=0;i<10;i++)this._AlphaAnime(this._topView.lists_str[i],t),this._AlphaAnime(this._topView.btn_lists[i],t);this._AlphaAnime(this._topView.iconEquipment,t),this._AlphaAnime(this._topView.itemName,t),this._AlphaAnime(this._topView.itemDescription,t),this._AlphaAnime(this._topView.thumbnailBG,t),this._AlphaAnime(this._topView.thumbnail,t),this._AlphaAnime(this._topView.thumbnailBG2,t),this._AlphaAnime(this._topView.menumoji,t),this._AlphaAnime(this._topView.bgm_fairy,t),this._tweens[this._tweens.length-1].call(function(){t||e._VisibleUI(!1),e._topView.changeMessIconTexture(t),e._NowVisibleUI=t,e._NowAnimeUI=!1})},e.prototype._endTask=function(e){void 0===e&&(e=!1),this._scene.dispose(),this._scene=null,this._topView.dispose(),this._topView=null,this._selected=null;for(var i=0,n=this._tweens;i<n.length;i++){n[i].setPaused(!0)}this._tweens=null,this._FurnitureList=null,this._FurnitureIdsonPage=null,this._ids_before=null,this._ids_after=null,this._ids_season=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskTop=p},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=function(t){function e(e,i,n,o,r,s,a){var _=t.call(this)||this;return _._url="api_req_furniture/change",_._api_floor=e,_._api_wallpaper=i,_._api_window=n,_._api_wallhanging=o,_._api_shelf=r,_._api_desk=s,_._api_season=a,_}return n(e,t),e.prototype._connect=function(){this._post_data.api_floor=this._api_floor,this._post_data.api_wallpaper=this._api_wallpaper,this._post_data.api_window=this._api_window,this._post_data.api_wallhanging=this._api_wallhanging,this._post_data.api_shelf=this._api_shelf,this._post_data.api_desk=this._api_desk,-1!=this._api_season&&(this._post_data.api_season=this._api_season),t.prototype._connect.call(this)},e.prototype._completedEnd=function(){var e=o.default.model.basic;e.updatePortFurnitureMstID(0,this._api_floor),e.updatePortFurnitureMstID(1,this._api_wallpaper),e.updatePortFurnitureMstID(2,this._api_window),e.updatePortFurnitureMstID(3,this._api_wallhanging),e.updatePortFurnitureMstID(4,this._api_shelf),e.updatePortFurnitureMstID(5,this._api_desk),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.FurnitureChangeAPI=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1182),r=i(4),s=i(31),a=i(1),_=function(t){function e(){var e=t.call(this)||this;e._btn_lists=[],e._lists_str=[],e._btn_list_goFigure=[],e._btn_list_goFigureStr=[],e._btn_back=new s.BackBtn,e._btn_back.position.set(15,653),e._btn_change=new l,e._btn_change.position.set(862,645),e._btn_mess_icon=new l,e._btn_mess_icon.position.set(1101,684),e._btn_wall=new l,e._btn_wall.position.set(10,39),e._btn_floor=new l,e._btn_floor.position.set(10,102),e._btn_desk=new l,e._btn_desk.position.set(10,165),e._btn_window=new l,e._btn_window.position.set(10,228),e._btn_object=new l,e._btn_object.position.set(10,291),e._btn_chest=new l,e._btn_chest.position.set(10,354),e._btn_goShop=new l,e._btn_goShop.position.set(0,477);for(var i=0;i<10;i++)e._btn_lists[i]=new l,e._btn_lists[i].position.set(327,48*i+54);e._btn_list_goTop=new l,e._btn_list_goTop.position.set(273,573),e._btn_list_goPrev=new l,e._btn_list_goPrev.position.set(330,573),e._btn_list_goNext=new l,e._btn_list_goNext.position.set(645,573),e._btn_list_goLowest=new l,e._btn_list_goLowest.position.set(699,573);for(var i=0;i<5;i++)e._btn_list_goFigure[i]=new l;return e}return n(e,t),Object.defineProperty(e.prototype,"btn_back",{get:function(){return this._btn_back},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_goShop",{get:function(){return this._btn_goShop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_change",{get:function(){return this._btn_change},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_mess_icon",{get:function(){return this._btn_mess_icon},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_wall",{get:function(){return this._btn_wall},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_floor",{get:function(){return this._btn_floor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_desk",{get:function(){return this._btn_desk},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_window",{get:function(){return this._btn_window},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_object",{get:function(){return this._btn_object},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_chest",{get:function(){return this._btn_chest},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_lists",{get:function(){return this._btn_lists},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lists_str",{get:function(){return this._lists_str},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_list_goTop",{get:function(){return this._btn_list_goTop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_list_goLowest",{get:function(){return this._btn_list_goLowest},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_list_goPrev",{get:function(){return this._btn_list_goPrev},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_list_goNext",{get:function(){return this._btn_list_goNext},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemName",{get:function(){return this._itemName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemDescription",{get:function(){return this._itemDescription},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemDescriptionLength",{get:function(){return this._itemDescriptionLength},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconEquipment",{get:function(){return this._iconEquipment},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_list_goFigure",{get:function(){return this._btn_list_goFigure},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_list_goFigureStr",{get:function(){return this._btn_list_goFigureStr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frame1_bg",{get:function(){return this._frame1_bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frame2_bg",{get:function(){return this._frame2_bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbnail",{get:function(){return this._thumbnail},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbnailBG",{get:function(){return this._thumbnailBG},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbnailBG2",{get:function(){return this._thumbnailBG2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbnailMask",{get:function(){return this._thumbnailMask},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"menumoji",{get:function(){return this._menumoji},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bgm_fairy",{get:function(){return this._bgm_fairy},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._frame1_bg=new PIXI.Sprite(o.INTERIOR_PARTS.getTexture(10)),this._frame1_bg.position.set(261,37),this._frame2_bg=new PIXI.Sprite(o.INTERIOR_PARTS.getTexture(11)),this._frame2_bg.position.set(763,58),this._menumoji=new PIXI.Sprite(o.INTERIOR_PARTS.getTexture(19)),this._menumoji.position.set(1050,457),this._bgm_fairy=new PIXI.Sprite(o.INTERIOR_PARTS.getTexture(15)),this._bgm_fairy.position.set(1171,604),this._bgm_fairy.anchor.set(1,1),this._thumbnailBG=new PIXI.Sprite(o.INTERIOR_PARTS.getTexture(12)),this._thumbnailBG.position.set(849,83),this._thumbnailBG2=new PIXI.Sprite(o.INTERIOR_PARTS.getTexture(13)),this._thumbnailBG2.position.set(849,83),this._thumbnailMask=new PIXI.Graphics,this._thumbnailMask.beginFill(16777215),this._thumbnailMask.drawRect(853,83,240,300),this._thumbnail=new PIXI.Sprite,this._thumbnail.position.set(849,77),this._btn_back.initialize(),this._btn_back.activate(),this._btn_goShop.initialize(2,3),this._btn_change.initialize(0,1),this._btn_mess_icon.initialize(16,16),this._btn_wall.initialize(27,28),this._btn_floor.initialize(24,25),this._btn_desk.initialize(39,40),this._btn_window.initialize(30,31),this._btn_object.initialize(33,34),this._btn_chest.initialize(36,37),this._btn_list_goTop.initialize(7,7),this._btn_list_goPrev.initialize(6,6),this._btn_list_goNext.initialize(5,5),this._btn_list_goLowest.initialize(4,4),this.addChild(this._btn_back),this.addChild(this._btn_goShop),this.addChild(this._btn_change),this.addChild(this._btn_mess_icon),this.addChild(this._btn_wall),this.addChild(this._btn_floor),this.addChild(this._btn_desk),this.addChild(this._btn_window),this.addChild(this._btn_object),this.addChild(this._btn_chest),this.addChild(this._frame1_bg),this.addChild(this._btn_list_goTop),this.addChild(this._btn_list_goPrev),this.addChild(this._btn_list_goNext),this.addChild(this._btn_list_goLowest),this.addChild(this._frame2_bg),this.addChild(this._menumoji),this.addChild(this._bgm_fairy);for(var t=0;t<5;t++)this._btn_list_goFigureStr[t]=new r.TextBox(24,5592405),this._btn_list_goFigureStr[t].text=(t+1).toString(),this._btn_list_goFigureStr[t].position.set(394+52*t,566),this.addChild(this._btn_list_goFigureStr[t]),this._btn_list_goFigure[t].position.set(382+52*t,566),this._btn_list_goFigure[t].initialize(9,9),this._btn_list_goFigure[t].width=36,this._btn_list_goFigure[t].height=36,this.addChild(this._btn_list_goFigure[t]);for(var t=0;t<10;t++)this._lists_str[t]=new r.TextBox(24,5592405),this._lists_str[t].text="",this._lists_str[t].position.set(333,48*t+61),this.addChild(this._lists_str[t]),this._btn_lists[t].initialize(9,8),this.addChild(this._btn_lists[t]);this._iconEquipment=new PIXI.Sprite(o.INTERIOR_PARTS.getTexture(14)),this._iconEquipment.position.set(-150,-150),this.addChild(this._iconEquipment),this._itemName=new r.TextBox(22,5592405),this._itemName.text="",this._itemName.position.set(Math.floor(900-this._itemName.width/2),Math.floor(409-this._itemName.height/2)),this._itemDescription=new r.TextBox(19,5592405),this._itemDescription.text="",this._itemDescription.position.set(801,442),this._itemDescription.style.wordWrap=!0,this._itemDescription.style.wordWrapWidth=272,this._itemDescription.style.breakWords=!0,this.addChild(this._itemName),this.addChild(this._itemDescription),this.addChild(this._thumbnailBG),this.addChild(this._thumbnailMask),this.addChild(this._thumbnail),this.addChild(this._thumbnailBG2)},e.prototype.changeMessIconTexture=function(t){this._btn_mess_icon.dispose(),t?this._btn_mess_icon.initialize(16,16):this._btn_mess_icon.initialize(17,17)},e.prototype.dispose=function(){this._btn_back.dispose(),this._btn_back=null,this._btn_goShop.dispose(),this._btn_goShop=null,this._btn_change.dispose(),this._btn_change=null,this._btn_mess_icon.dispose(),this._btn_mess_icon=null,this._btn_wall.dispose(),this._btn_wall=null,this._btn_floor.dispose(),this._btn_floor=null,this._btn_desk.dispose(),this._btn_desk=null,this._btn_window.dispose(),this._btn_window=null,this._btn_object.dispose(),this._btn_object=null,this._btn_chest.dispose(),this._btn_chest=null;for(var t=0;t<10;t++)this._btn_lists[t].dispose();this._btn_lists=null,this._lists_str.forEach(function(t){t.destroy()}),this._lists_str=null,this._btn_list_goTop.dispose(),this._btn_list_goTop=null,this._btn_list_goLowest.dispose(),this._btn_list_goLowest=null,this._btn_list_goPrev.dispose(),this._btn_list_goPrev=null,this._btn_list_goNext.dispose(),this._btn_list_goNext=null,this._itemName.destroy(),this._itemName=null,this._itemDescription.destroy(),this._itemDescription=null,this._itemDescriptionLength=null,this._iconEquipment=null;for(var t=0;t<5;t++)this._btn_list_goFigure[t].dispose();this._btn_list_goFigure=null,this._btn_list_goFigureStr.forEach(function(t){t.destroy()}),this._btn_list_goFigureStr=null,this._frame1_bg=null,this._frame2_bg=null,this._thumbnail=null,this._thumbnailBG=null,this._thumbnailBG2=null,this._thumbnailMask=null,this._menumoji=null,this._bgm_fairy=null,this.removeChildren()},e}(PIXI.Container);e.ViewTop=_;var l=function(t){function e(){var e=t.call(this)||this;return e._onMouseOver=function(){e._setTexture(e._texture_no_on)},e._onMouseOut=function(){e._setTexture(e._texture_no)},e}return n(e,t),e.prototype.initialize=function(t,e){this._texture_no=t,this._texture_no_on=e,this._setTexture(this._texture_no),null!=this._texture_no_on&&(this.interactive=this.buttonMode=!0,this.on(a.EventType.MOUSEOVER,this._onMouseOver),this.on(a.EventType.MOUSEOUT,this._onMouseOut))},e.prototype.dispose=function(){this.interactive=this.buttonMode=!1,this.off(a.EventType.MOUSEOVER,this._onMouseOver),this.off(a.EventType.MOUSEOUT,this._onMouseOut)},e.prototype._setTexture=function(t){this.texture=o.INTERIOR_PARTS.getTexture(t)},e}(PIXI.Sprite)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(1183))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(411))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=i(14),s=function(t){function e(e){var i=t.call(this)||this;return i._view=e,i}return n(e,t),e.prototype._start=function(){this._view=null,this._endTask()},e}(o.TaskBase);e.PreFinalizeTask=s;var a=function(t){function e(e){var i=t.call(this)||this;return i._view=e,i}return n(e,t),e.prototype._start=function(){this._view.dispose(),this._view=null,r.UIImageLoader.clearMemoryCache("interior"),this._endTask()},e}(o.TaskBase);e.FinalizeTask=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(11),s=i(8),a=i(10),_=i(119),l=i(412),u=i(120),c=i(75),h=i(75),p=i(75),d=i(75),f=i(75),y=i(75),m=i(75),g=i(75),v=function(t){function e(){var e=t.call(this)||this;return e._onInitialize=function(){var t=_.DUTY_COMMON.getTexture(46),i=new PIXI.Sprite(t);e.addChild(i),t=a.COMMON_MISC.getTexture(48),i=new PIXI.Sprite(t),i.position.set(171,103),e.addChild(i),e._girl_layer=new s.AreaBox(0),o.default.view.overLayer.addChild(e._girl_layer),e.addChild(e._view);var n=o.default.model.basic.getDutyExecutableCount();e._view.initialize(n,e._onBack),e._view.update(e._data)},e._onActivate=function(){if(null!=e._girl_layer){new d.TaskPosterGirl(e._girl_layer).start(function(){e._girl_layer.parent.removeChild(e._girl_layer),e._girl_layer=null})}e._view.activate()},e._onDispose=function(){e._view.dispose()},e._onChangeType=function(t){new f.TaskUpdateDutyListData(1,t,e._data).start(function(){e._view.update(e._data)})},e._onChangePage=function(t){var i=e._data.selected_type;new f.TaskUpdateDutyListData(t,i,e._data).start(function(){e._view.update(e._data)})},e._onSelectDuty=function(t){if(3==t.status){if(0==t.alert){var i=o.default.view.overLayer,n=new g.TaskTasseiDutySelect(i,t,e._data);n.start(function(){e._view.update(e._data)})}}else if(2==t.status){var n=new m.TaskExecutedDutySelect(t,e._data);n.start(function(){e._view.update(e._data)})}else{var n=new y.TaskWaitedDutySelect(t,e._data);n.start(function(){e._view.update(e._data)})}},e._onBack=function(){o.default.scene.change(0)},e._data=new l.DutyDataHolder,e._view=new u.DutyMainView(e._onChangeType,e._onChangePage,e._onSelectDuty),e}return n(e,t),e.prototype.getPreInitializeTask=function(t){return new c.TaskDutyScenePreInitialize(this._data,this._onInitialize)},e.prototype.getInitializeTask=function(t){return new h.TaskDutySceneInitialize(this._data,this._onActivate)},e.prototype.getFinalizeTask=function(){return new p.TaskDutySceneFinalize(this._onDispose)},e}(r.SceneBase);e.DutyScene=v},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),o=i(412),r=function(){function t(){this._models=[]}return Object.defineProperty(t.prototype,"selected_type",{get:function(){return this._selected_type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected_page_no",{get:function(){return n.ObjUtil.getNumber(this._o,"api_disp_page",1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"page_max",{get:function(){return n.ObjUtil.getNumber(this._o,"api_page_count",0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"models",{get:function(){return this._models},enumerable:!0,configurable:!0}),t.prototype.update=function(t,e){this._selected_type=t,this._o=e,this._models=[];var i=n.ObjUtil.getObjectArray(this._o,"api_list");if(null!=i)for(var r=0,s=i;r<s.length;r++){var a=s[r];"number"==typeof a&&-1==a||this._models.push(new o.DutyModel_(a))}},t.prototype.getExecCount=function(){return n.ObjUtil.getNumber(this._o,"api_exec_count")},t.prototype.hasComplete=function(){if(1==(1==n.ObjUtil.getNumber(this._o,"api_completed_kind")))return!0;var t=n.ObjUtil.getObjectArray(this._o,"api_c_list");if(null!=t)for(var e=0,i=t;e<i.length;e++){var r=i[e],s=new o.DutyModel_(r);if(3==s.status)return!0}return!1},t}();e.DutyDataHolder=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(414),s=function(t){function e(e){var i=t.call(this,e)||this;switch(i.id){case 506:i._statusUpdate506();break;case 641:i._statusUpdate641();break;case 642:i._statusUpdate642();break;case 643:i._statusUpdate643();break;case 644:i._statusUpdate644();break;case 645:i._statusUpdate645();break;case 646:i._statusUpdate646();break;case 647:i._statusUpdate647();break;case 648:i._statusUpdate648();break;case 649:i._statusUpdate649();break;case 650:i._statusUpdate650();break;case 651:i._statusUpdate651();break;case 652:i._statusUpdate652();break;case 653:i._statusUpdate653();break;case 654:i._statusUpdate654();break;case 655:i._statusUpdate655();break;case 657:i._statusUpdate657();break;case 658:i._statusUpdate658();break;case 666:i._statusUpdate666();break;case 668:i._statusUpdate668()}return i}return n(e,t),e.prototype._statusUpdate506=function(){var t=this._getRawProgress(),e=this._getUnsetSlotCount(145);if(t>=3&&e.all>=3){2==this._getRawStatus()?(this._updateTassei(),e.unlocked<3&&(this._alert=4)):this._updateProgress(2)}else t>=2&&e.all>=2?this._updateProgress(2):t>=1&&e.all>=1?this._updateProgress(1):this._updateProgress(0)},e.prototype._statusUpdate641=function(){if(0!=this._getRawProgress()){var t=this._getUnsetSlotCount(37),e=this._getUnsetSlotCount(19),i=t.all>=2&&e.all>=2,n=t.unlocked>=2&&e.unlocked>=2;if(1==i){var o=this._getRawStatus();2==o?(this._updateTassei(),0==n&&(this._alert=4)):1==o&&this._updateProgress(2)}}},e.prototype._statusUpdate642=function(){var t=this._getUnsetSlotCount(37),e=this._getUnsetSlotCount(23),i=t.all>=2&&e.all>=2,n=t.unlocked>=2&&e.unlocked>=2;if(1==i){var o=this._getRawStatus();2==o?(this._updateTassei(),0==n&&(this._alert=4)):1==o&&this._updateProgress(2)}else t.all>=2||e.all>=2?this._updateProgress(1):this._updateProgress(0)},e.prototype._statusUpdate643=function(){if(0!=this._getRawProgress()){var t=this._getUnsetSlotCount(16),e=this._getUnsetSlotCount(168),i=t.all>=2&&e.all>=1,n=t.unlocked>=2&&e.unlocked>=1;if(1==i){var o=this._getRawStatus();2==o?(this._updateTassei(),0==n&&(this._alert=4)):1==o&&this._updateProgress(2)}}},e.prototype._statusUpdate644=function(){var t=this._getUnsetSlotCount(17),e=this._getUnsetSlotCount(169),i=t.all>=2&&e.all>=1,n=t.unlocked>=2&&e.unlocked>=1;if(1==i){var o=this._getRawStatus();2==o?(this._updateTassei(),0==n&&(this._alert=4)):1==o&&this._updateProgress(2)}else e.all>=1?this._updateProgress(1):this._updateProgress(0)},e.prototype._statusUpdate645=function(){var t=this._getRawProgress(),e=o.default.model.useItem.getCount(31),i=o.default.model.useItem.getCount(32),n=e>=750&&i>=750,r=new a;if(r.add(75,2),r.add(36,1),2==t&&1==n&&1==r.isFulfill()){var s=this._getRawStatus();2==s?(this._updateTassei(),0==r.isFulfillUnlocked()&&(this._alert=4)):1==s&&this._updateProgress(2)}else 2==t&&1==n&&r.fulfill_count>0?this._updateProgress(1):this._updateProgress(0)},e.prototype._statusUpdate646=function(){var t=this._getRawProgress(),e=o.default.model.useItem.getCount(44),i=e>=5e3,n=new a;if(n.add(39,2),n.add(40,2),2==t&&1==i&&1==n.isFulfill()){var r=this._getRawStatus();2==r?(this._updateTassei(),0==n.isFulfillUnlocked()&&(this._alert=4)):1==r&&this._updateProgress(2)}else 2==t&&1==i&&n.fulfill_count>0?this._updateProgress(1):this._updateProgress(0)},e.prototype._statusUpdate647=function(){var t=this._getRawProgress(),e=o.default.model.useItem.getCount(31),i=o.default.model.useItem.getCount(34),n=e>=1200&&i>=3e3,r=o.default.model.useItem.getCount(73),s=r>=1;if(2==t&&1==n&&1==s){var a=this._getRawStatus();2==a?this._updateTassei():1==a&&this._updateProgress(2)}else 1==n&&1==s?this._updateProgress(1):this._updateProgress(0)},e.prototype._statusUpdate648=function(){var t=this._getRawProgress(),e=o.default.model.useItem.getCount(44),i=e>=5e3,n=new a;if(n.add(4,2),n.add(11,2),2==t&&1==i&&1==n.isFulfill()){var r=this._getRawStatus();2==r?(this._updateTassei(),0==n.isFulfillUnlocked()&&(this._alert=4)):1==r&&this._updateProgress(2)}else 2==t&&1==i&&n.fulfill_count>0?this._updateProgress(2):1==t&&1==i&&n.fulfill_count>0?this._updateProgress(1):this._updateProgress(0)},e.prototype._statusUpdate649=function(){var t=this._getRawProgress(),e=this._getUnsetSlotCount(169),i=this._getUnsetSlotCount(54),n=e.all>=1&&i.all>=2,o=e.unlocked>=1&&i.unlocked>=2;if(2==t&&1==n){var r=this._getRawStatus();2==r?(this._updateTassei(),0==o&&(this._alert=4)):1==r&&this._updateProgress(2)}else 2==t&&0==n?this._updateProgress(1):1==n?this._updateProgress(1):this._updateProgress(0)},e.prototype._statusUpdate650=function(){var t=this._getRawProgress(),e=o.default.model.useItem.getCount(74),i=o.default.model.useItem.getCount(71),n=e>=2&&i>=1;if(2==t&&1==n){var r=this._getRawStatus();2==r?this._updateTassei():1==r&&this._updateProgress(2)}else 2==t&&0==n?this._updateProgress(2):1==t?this._updateProgress(1):1==n?this._updateProgress(1):this._updateProgress(0)},e.prototype._statusUpdate651=function(){var t=this._getRawProgress(),e=o.default.model.useItem.getCount(33),i=this._getUnsetSlotCount(18),n=this._getUnsetSlotCount(22),r=i.all>=2&&n.all>=2&&e>=8e3,s=i.unlocked>=2&&n.unlocked>=2&&e>=8e3;if(2==t&&1==r){var a=this._getRawStatus();2==a?(this._updateTassei(),0==s&&(this._alert=4)):1==a&&this._updateProgress(2)}else 2==t?this._updateProgress(2):1==t?this._updateProgress(1):1==r?this._updateProgress(1):this._updateProgress(0)},e.prototype._statusUpdate652=function(){var t=this._getRawProgress(),e=o.default.model.useItem.getCount(44),i=e>=5e3,n=new a;if(n.add(19,2),n.add(37,2),2==t&&1==i&&1==n.isFulfill()){var r=this._getRawStatus();2==r?(this._updateTassei(),0==n.isFulfillUnlocked()&&(this._alert=4)):1==r&&this._updateProgress(2)}else 2==t&&1==i&&n.fulfill_count>0?this._updateProgress(2):1==t&&1==i&&n.fulfill_count>0?this._updateProgress(1):this._updateProgress(0)},e.prototype._statusUpdate653=function(){var t=this._getRawProgress(),e=o.default.model.useItem.getCount(44),i=e>=5e3,n=new a;if(n.add(1,2),n.add(25,2),2==t&&1==i&&1==n.isFulfill()){var r=this._getRawStatus();2==r?(this._updateTassei(),0==n.isFulfillUnlocked()&&(this._alert=4)):1==r&&this._updateProgress(2)}else 2==t&&1==i&&n.fulfill_count>0?this._updateProgress(2):1==t&&1==i&&n.fulfill_count>0?this._updateProgress(1):this._updateProgress(0)},e.prototype._statusUpdate654=function(){var t=this._getRawProgress(),e=o.default.model.useItem.getCount(3),i=e>=10,n=this._getUnsetSlotCount(16),r=n.all>=1,s=n.unlocked>=1;if(2==t&&1==i&&1==r){var a=this._getRawStatus();2==a?(this._updateTassei(),0==s&&(this._alert=4)):1==a&&this._updateProgress(2)}else 2==t&&1==i?this._updateProgress(1):this._updateProgress(0)},e.prototype._statusUpdate655=function(){var t=this._getRawProgress(),e=o.default.model.useItem.getCount(3),i=e>=20,n=this._getUnsetSlotCount(54),r=n.all>=1,s=n.unlocked>=1;if(2==t&&1==i&&1==r){var a=this._getRawStatus();2==a?(this._updateTassei(),0==s&&(this._alert=4)):1==a&&this._updateProgress(2)}else 2==t&&1==i?this._updateProgress(1):this._updateProgress(0)},e.prototype._statusUpdate657=function(){var t=this._getRawProgress(),e=o.default.model.useItem.getCount(44),i=e>=5e3,n=new a;if(n.add(23,2),n.add(13,2),2==t&&1==i&&1==n.isFulfill()){var r=this._getRawStatus();2==r?(this._updateTassei(),0==n.isFulfillUnlocked()&&(this._alert=4)):1==r&&this._updateProgress(2)}else 2==t&&1==i&&n.fulfill_count>0?this._updateProgress(2):1==t&&1==i&&n.fulfill_count>0?this._updateProgress(1):this._updateProgress(0)},e.prototype._statusUpdate658=function(){var t=this._getRawProgress(),e=o.default.model.useItem.getCount(3),i=e>=120,n=new a;if(n.add(15,3),n.add(46,3),2==t&&1==i&&1==n.isFulfill()){var r=this._getRawStatus();2==r?(this._updateTassei(),0==n.isFulfillUnlocked()&&(this._alert=4)):1==r&&this._updateProgress(2)}else 2==t&&1==i&&n.fulfill_count>0?this._updateProgress(2):1==t&&1==i&&n.fulfill_count>0?this._updateProgress(1):this._updateProgress(0)},e.prototype._statusUpdate666=function(){var t=this._getRawProgress(),e=new a;e.add(23,2),e.add(26,2);var i=o.default.model.useItem.getCount(70),n=i>=1;if(1==t)if(1==e.isFulfill())if(1==n){var r=this._getRawStatus();2==r?(this._updateTassei(),0==e.isFulfillUnlocked()&&(this._alert=4)):this._updateProgress(2)}else this._updateProgress(2);else this._updateProgress(1);else this._updateProgress(0)},e.prototype._statusUpdate668=function(){var t=this._getUnsetSlotCount(145),e=o.default.model.useItem.get(31).count,i=o.default.model.useItem.get(34).count,n=e>=800&&i>=150;if(1==n&&t.all>=2){2==this._getRawStatus()?(this._updateTassei(),t.unlocked<2&&(this._alert=4)):this._updateProgress(2)}else 1==n&&t.all>=1?this._updateProgress(1):this._updateProgress(0)},e.prototype._getUnsetSlotCount=function(t){for(var e=o.default.model.slot.createUnsetList([],[t]),i=e.length,n=0,r=0,s=e;r<s.length;r++){0==s[r].isLocked()&&n++}return{all:i,unlocked:n}},e.prototype._updateTassei=function(){this._o.api_state_=3,this._updateProgress(0)},e.prototype._updateProgress=function(t){this._o.api_progress_flag_=t},e}(r.DutyModel);e.DutyModel_=s;var a=function(){function t(){this._conds=[]}return Object.defineProperty(t.prototype,"fulfill_count",{get:function(){for(var t=0,e=0,i=this._conds;e<i.length;e++){var n=i[e];n.count<n.need&&t++}return t},enumerable:!0,configurable:!0}),t.prototype.add=function(t,e){var i=new _(t,e);this._conds.push(i)},t.prototype.isFulfill=function(){for(var t=0,e=this._conds;t<e.length;t++){var i=e[t];if(i.count<i.need)return!1}return!0},t.prototype.isFulfillUnlocked=function(){for(var t=0,e=this._conds;t<e.length;t++){var i=e[t];if(i.count_unlocked<i.need)return!1}return!0},t}(),_=function(){function t(t,e){this._count=0,this._count_unlocked=0,this._need=0;var i=o.default.model.slot.createUnsetList([],[t]);this._count=i.length,this._count_unlocked=0;for(var n=0,r=i;n<r.length;n++){0==r[n].isLocked()&&this._count_unlocked++}this._need=e}return Object.defineProperty(t.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count_unlocked",{get:function(){return this._count_unlocked},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"need",{get:function(){return this._need},enumerable:!0,configurable:!0}),t}()},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(119),r=function(t){function e(){var e=t.call(this)||this;return e._dic={},e}return n(e,t),e.prototype.showAlert=function(t){var e,i=t.model.alert,n=384,r=0;if(1==i)e=1,n=444,r=-7;else if(2==i)e=2;else if(3==i)e=3;else if(4==i)e=4;else{if(5!=i)return;e=5}var s=new PIXI.Sprite(o.DUTY_COMMON.getTexture(e));s.x=t.x+n,s.y=t.y+r,this.addChild(s),this._dic[t.model.id]=s},e.prototype.hideAlert=function(t){if(void 0===t&&(t=null),null==t)for(var e in this._dic)this._hideAlert(e);else{var i=t.model.id;this._hideAlert(i.toString())}},e.prototype._hideAlert=function(t){if(1==this._dic.hasOwnProperty(t)){var e=this._dic[t];null!=e.parent&&(e.parent.removeChild(e),delete this._dic[t])}},e}(PIXI.Container);e.AlertLayer=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(31),s=i(119),a=i(120),_=i(120),l=i(120),u=i(120),c=i(120),h=function(t){function e(e,i,n){var o=t.call(this)||this;return o._list=new p(n),o._list.position.set(216,165),o.addChild(o._list),o._tab=new _.TabContainer(e),o._tab.position.set(9,184),o.addChild(o._tab),o._back_btn=new r.BackBtn,o._back_btn.position.set(2,652),o.addChild(o._back_btn),o._minichara=new c.MiniChara,o._minichara.position.set(36,498),o.addChild(o._minichara),o._header=new d,o._header.position.set(0,105),o.addChild(o._header),o._pager=new l.Pager(i),o._pager.position.set(369,681),o.addChild(o._pager),o}return n(e,t),e.prototype.initialize=function(t,e){this._list.initialize(),this._tab.initialize(),this._back_btn.initialize(e),this._minichara.initialize(),this._header.initialize(t),this._pager.initialize()},e.prototype.activate=function(){this._tab.activate(),this._back_btn.activate(),this._minichara.activate()},e.prototype.deactivate=function(){this._tab.deactivate(),this._back_btn.deactivate(),this._minichara.deactivate()},e.prototype.update=function(t){this._list.update(t),this._tab.update(t.selected_type),this._pager.update(t.selected_page_no,t.page_max)},e.prototype.dispose=function(){this._list.dispose(),this._tab.dispose(),this._back_btn.dispose(),this._minichara.dispose(),this._header.dispose(),this._pager.dispose()},e}(PIXI.Container);e.DutyMainView=h;var p=function(t){function e(e){var i=t.call(this)||this;i._onMouseOver=function(t){0!=t.model.alert&&i._alert_later.showAlert(t)},i._onMouseOut=function(t){i._alert_later.hideAlert(t)},i._items=[];for(var n=0;n<5;n++){var o=new a.ListItem(e,i._onMouseOver,i._onMouseOut);o.y=102*n,i.addChild(o),i._items.push(o)}return i._message=new PIXI.Sprite,i._message.position.set(285,221),i._message.visible=!1,i.addChild(i._message),i._alert_later=new u.AlertLayer,i.addChild(i._alert_later),i}return n(e,t),e.prototype.initialize=function(){for(var t=0,e=this._items;t<e.length;t++){e[t].initialize()}},e.prototype.update=function(t){for(var e=0;e<this._items.length;e++){var i=this._items[e],n=e<t.models.length?t.models[e]:null;i.update(n)}t.models.length>0?this._message.visible=!1:(9==t.selected_type?this._message.texture=s.DUTY_COMMON.getTexture(52):this._message.texture=s.DUTY_COMMON.getTexture(51),this._message.visible=!0)},e.prototype.dispose=function(){for(var t=0,e=this._items;t<e.length;t++){e[t].dispose()}},e}(PIXI.Container),d=function(t){function e(){var e=t.call(this)||this;return e._gear=new PIXI.Sprite,e._gear.position.set(186,7),e.addChild(e._gear),e._title=new PIXI.Sprite,e._title.position.set(222,6),e.addChild(e._title),e._message1=new o.TextBox(21,16777215),e._message1.y=8,e.addChild(e._message1),e._message2=new o.TextBox(21,4565413),e._message2.y=8,e.addChild(e._message2),e._message3=new o.TextBox(21,16777215),e._message3.y=8,e.addChild(e._message3),e}return n(e,t),e.prototype.initialize=function(t){this.texture=s.DUTY_COMMON.getTexture(48),this._gear.texture=s.DUTY_COMMON.getTexture(49),this._title.texture=s.DUTY_COMMON.getTexture(50),this._message1.text="\u73fe\u5728\u767a\u751f\u4e2d\u306e\u4efb\u52d9\u4e00\u89a7\u3067\u3059\u3002\u540c\u6642\u306b",this._message2.text=t.toString(),this._message3.text="\u500b\u307e\u3067\u9042\u884c\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002",this._message3.x=1200-this._message3.width,this._message2.x=this._message3.x-this._message2.width,this._message1.x=this._message2.x-this._message1.width},e.prototype.dispose=function(){this.removeChildren(),this._message1.destroy(),this._message2.destroy(),this._message3.destroy()},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(119),r=function(t){function e(){var e=t.call(this)||this;return e._star1=new PIXI.Sprite,e._star1.position.set(73,42),e._star1.visible=!1,e.addChild(e._star1),e._star2=new PIXI.Sprite,e._star2.position.set(93,27),e._star2.visible=!1,e.addChild(e._star2),e}return n(e,t),e.prototype.initialize=function(){this.texture=o.DUTY_COMMON.getTexture(42),this._star1.texture=o.DUTY_COMMON.getTexture(45),this._star2.texture=o.DUTY_COMMON.getTexture(44)},e.prototype.activate=function(){null==this._t&&this._wait()},e.prototype.deactivate=function(){this._stopTween()},e.prototype.dispose=function(){this.deactivate()},e.prototype._wait=function(){var t=this;this._stopTween(),this._t=createjs.Tween.get(null).wait(3e3*Math.random()+1e3).call(function(){t._wink()})},e.prototype._wink=function(){0==Math.floor(4*Math.random())?this._anim():this._wait()},e.prototype._anim=function(){var t=this;this._stopTween(),this.texture=o.DUTY_COMMON.getTexture(43),this._t=createjs.Tween.get(null).wait(150).call(function(){t.texture=o.DUTY_COMMON.getTexture(42)}).wait(150).call(function(){t.texture=o.DUTY_COMMON.getTexture(43)}).wait(150).call(function(){t._star1.visible=!0,t.texture=o.DUTY_COMMON.getTexture(42)}).wait(100).call(function(){t._star2.visible=!0}).wait(600).call(function(){t._star1.visible=!1}).wait(30).call(function(){t._star2.visible=!1,t._wait()})},e.prototype._stopTween=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null,this.texture=o.DUTY_COMMON.getTexture(42),this._star1.visible=!1,this._star2.visible=!1)},e}(PIXI.Sprite);e.MiniChara=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(21),s=i(1),a=function(t){function e(e){var i=t.call(this)||this;i._onFirst=function(){i._onChange(1)},i._onPrev=function(){i._onChange(i._page_now-1)},i._onNext=function(){i._onChange(i._page_now+1)},i._onLast=function(){i._onChange(i._page_max)},i._onChange=function(t){null!=i._cb_onChangePage&&i._cb_onChangePage(t)},i._cb_onChangePage=e,i._pages=[];for(var n=0;n<5;n++){var o=new _(i._onChange);o.x=118+82*n,i.addChild(o),i._pages.push(o)}return i._first=new l(i._onFirst),i._first.position.set(0,2),i.addChild(i._first),i._prev=new l(i._onPrev),i._prev.position.set(57,2),i.addChild(i._prev),i._next=new l(i._onNext),i._next.position.set(544,2),i.addChild(i._next),i._last=new l(i._onLast),i._last.position.set(595,2),i.addChild(i._last),i}return n(e,t),e.prototype.initialize=function(){for(var t=0,e=this._pages;t<e.length;t++){e[t].initialize()}this._first.initialize(r.COMMON_MAIN.getTexture(6)),this._prev.initialize(r.COMMON_MAIN.getTexture(8)),this._next.initialize(r.COMMON_MAIN.getTexture(7)),this._last.initialize(r.COMMON_MAIN.getTexture(5))},e.prototype.update=function(t,e){if(0==e)return void(this.visible=!1);this.visible=!0,this._page_now=t,this._page_max=e;var i=Math.min(t-2,e-4);i=Math.max(i,1);for(var n=0;n<5;n++){var o=this._pages[n],r=i+n;o.enabled=r<=e,o.selected=r==t,o.update(r)}this._first.visible=t>1,this._prev.visible=this._first.visible,this._last.visible=t<e,this._next.visible=this._last.visible},e.prototype.dispose=function(){for(var t=0,e=this._pages;t<e.length;t++){e[t].dispose()}this._first.dispose(),this._prev.dispose(),this._last.dispose(),this._next.dispose(),this._cb_onChangePage=null},e}(PIXI.Container);e.Pager=a;var _=function(t){function e(e){var i=t.call(this)||this;return i._page_no=0,i.enabled=!0,i.selected=!1,i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick(i._page_no)},i._cb_onClick=e,i.interactive=!0,i.hitArea=new PIXI.Rectangle(12,3,57,27),i}return n(e,t),e.prototype.initialize=function(){this._text=new o.TextBox(24,1949120),this.addChild(this._text)},e.prototype.update=function(t){this._page_no=t,this._text.text=this._page_no.toString(),this._text.x=42-Math.floor(this._text.width/2),0==this.enabled?(this._text.style.fill=16777215,this.deactivate()):1==this.selected?(this._text.style.fill=3642803,this.deactivate()):(this._text.style.fill=4999235,this.activate())},e.prototype.activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(s.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(s.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate(),this.removeChildren(),this._text.destroy(),this._cb_onClick=null},e}(PIXI.Container),l=function(t){function e(e){var i=t.call(this)||this;return i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick()},i._cb_onClick=e,i.interactive=!0,i}return n(e,t),e.prototype.initialize=function(t){this.texture=t,this.buttonMode=!0,this.on(s.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.off(s.EventType.CLICK,this._onClick),this._cb_onClick=null},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(119),s=i(1),a=function(t){function e(e,i,n){var r=t.call(this)||this;return r._onMouseOver=function(){null!=r._cb_onMouseOver&&null!=r._model&&3==r._model.status&&r._cb_onMouseOver(r)},r._onMouseOut=function(){null!=r._cb_onMouseOut&&null!=r._model&&3==r._model.status&&r._cb_onMouseOut(r)},r._onClick=function(){null!=r._cb_onClick&&r._cb_onClick(r._model)},r._cb_onClick=e,r._cb_onMouseOver=i,r._cb_onMouseOut=n,r._icon=new _,r._icon.position.set(9,7),r.addChild(r._icon),r._title=new o.TextBox(21,4999235),r._title.position.set(105,2),r.addChild(r._title),r._description=new o.TextBox(15,4999235),r._description.position.set(105,27),r.addChild(r._description),r._bonus=new PIXI.Sprite,r._bonus.position.set(115,70),r.addChild(r._bonus),r._mat=new l,r._mat.position.set(234,66),r.addChild(r._mat),r._progress=new u,r._progress.position.set(715,69),r.addChild(r._progress),r._type=new c,r._type.position.set(70,54),r.addChild(r._type),r._status=new h,r._status.position.set(849,0),r.addChild(r._status),r.interactive=!0,r}return n(e,t),Object.defineProperty(e.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.texture=r.DUTY_COMMON.getTexture(0),this._bonus.texture=r.DUTY_COMMON.getTexture(15),this._mat.initialize()},e.prototype.update=function(t){this._model=t,null==t?(this.visible=!1,this._deactivate()):(this._icon.update(t.category),this._title.text=t.title,this._description.text=t.description.replace(/<br>/g,"\n"),this._bonus.visible=t.hasBonus(),this._mat.update(t.fuel,t.ammo,t.steel,t.baux),this._progress.update(t.progress),this._type.update(t.type),this._status.update(t.status),this.visible=!0,this._activate())},e.prototype.dispose=function(){this._model=null,this._deactivate(),this.removeChildren(),this._title.destroy(),this._description.destroy(),this._mat.dispose(),this._status.dispose(),this._cb_onClick=null,this._cb_onMouseOver=null,this._cb_onMouseOut=null},e.prototype._activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(s.EventType.MOUSEOVER,this._onMouseOver),this.on(s.EventType.MOUSEOUT,this._onMouseOut),this.on(s.EventType.CLICK,this._onClick))},e.prototype._deactivate=function(){this.buttonMode=!1,this.off(s.EventType.MOUSEOVER,this._onMouseOver),this.off(s.EventType.MOUSEOUT,this._onMouseOut),this.off(s.EventType.CLICK,this._onClick)},e}(PIXI.Sprite);e.ListItem=a;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.update=function(t){var e;if(1==t)e=39;else if(2==t)e=34;else if(3==t)e=35;else if(4==t)e=36;else if(5==t)e=37;else if(6==t)e=40;else if(7==t)e=38;else if(8==t)e=34;else{if(9!=t)return void(this.texture=PIXI.Texture.EMPTY);e=41}this.texture=r.DUTY_COMMON.getTexture(e)},e}(PIXI.Sprite),l=function(t){function e(){var e=t.call(this)||this;return e._fuel=new o.TextBox(19,4999235),e._fuel.position.set(29,0),e._ammo=new o.TextBox(19,4999235),e._ammo.position.set(115,0),e._steel=new o.TextBox(19,4999235),e._steel.position.set(198,0),e._baux=new o.TextBox(19,4999235),e._baux.position.set(278,0),e}return n(e,t),e.prototype.initialize=function(){var t=r.DUTY_COMMON.getTexture(6),e=new PIXI.Sprite(t);e.position.set(0,1),this.addChild(e),t=r.DUTY_COMMON.getTexture(7),e=new PIXI.Sprite(t),e.position.set(82,3),this.addChild(e),t=r.DUTY_COMMON.getTexture(8),e=new PIXI.Sprite(t),e.position.set(165,1),this.addChild(e),t=r.DUTY_COMMON.getTexture(9),e=new PIXI.Sprite(t),e.position.set(247,1),this.addChild(e),this.addChild(this._fuel),this.addChild(this._ammo),this.addChild(this._steel),this.addChild(this._baux)},e.prototype.update=function(t,e,i,n){this._fuel.text=t.toString(),this._ammo.text=e.toString(),this._steel.text=i.toString(),this._baux.text=n.toString()},e.prototype.dispose=function(){this.removeChildren(),this._fuel.destroy(),this._ammo.destroy(),this._steel.destroy(),this._baux.destroy()},e}(PIXI.Container),u=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.update=function(t){2==t?(this.texture=r.DUTY_COMMON.getTexture(11),this.visible=!0):1==t?(this.texture=r.DUTY_COMMON.getTexture(10),this.visible=!0):this.visible=!1},e}(PIXI.Sprite),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.update=function(t){this.texture=1==t?r.DUTY_COMMON.getTexture(14):2==t?r.DUTY_COMMON.getTexture(19):3==t?r.DUTY_COMMON.getTexture(16):4==t?r.DUTY_COMMON.getTexture(17):5==t?r.DUTY_COMMON.getTexture(18):PIXI.Texture.EMPTY},e}(PIXI.Sprite),h=function(t){function e(){var e=t.call(this)||this;return e._over=null,e._img=new PIXI.Sprite,e._img.position.set(10,28),e.addChild(e._img),e._over=new PIXI.Sprite,e._over.position.set(1,19),e._over.visible=!1,e.addChild(e._over),e}return n(e,t),e.prototype.update=function(t){3==t?(this._img.texture=r.DUTY_COMMON.getTexture(12),this._over.texture=r.DUTY_COMMON.getTexture(13),this._over.visible=!0,this._startAnimation()):2==t?(this._img.texture=r.DUTY_COMMON.getTexture(47),this._over.visible=!1,this._stopAnimation()):(this._img.texture=PIXI.Texture.EMPTY,this._over.visible=!1,this._stopAnimation())},e.prototype.dispose=function(){this._stopAnimation()},e.prototype._startAnimation=function(){null==this._t&&(this._over.alpha=0,this._t=createjs.Tween.get(this._over,{loop:!0}).to({alpha:1},1700).to({alpha:0},1700))},e.prototype._stopAnimation=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(119),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i._tabs=[],i._createTab(0,e),i._createTab(9,e),i._createTab(1,e),i._createTab(2,e),i._createTab(3,e),i._createTab(4,e),i._createTab(5,e),i}return n(e,t),e.prototype._createTab=function(t,e){var i=new a(t,e);i.y=43*this._tabs.length,this.addChild(i),this._tabs.push(i)},e.prototype.initialize=function(){for(var t=0,e=this._tabs;t<e.length;t++){e[t].initialize()}},e.prototype.activate=function(){for(var t=0,e=this._tabs;t<e.length;t++){e[t].activate()}},e.prototype.deactivate=function(){for(var t=0,e=this._tabs;t<e.length;t++){e[t].deactivate()}},e.prototype.update=function(t){for(var e=0,i=this._tabs;e<i.length;e++){var n=i[e];n.selected=n.type==t}},e.prototype.dispose=function(){for(var t=0,e=this._tabs;t<e.length;t++){e[t].dispose()}},e}(PIXI.Container);e.TabContainer=s;var a=function(t){function e(e,i){var n=t.call(this)||this;return n._activated=!1,n._selected=!1,n._onClick=function(){null!=n._cb_onChange&&n._cb_onChange(n._type)},n._type=e,n._cb_onChange=i,n.interactive=!0,n}return n(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected!=t&&(this._selected=t,1==this._selected&&1==this._activated?this._deactivate():0==this._selected&&1==this._activated&&this._activate(),this._update())},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._update()},e.prototype.activate=function(){this._activated=!0,1!=this._selected&&this._activate()},e.prototype.deactivate=function(){this._activated=!1,this._deactivate()},e.prototype.dispose=function(){this._deactivate(),this._cb_onChange=null},e.prototype._activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(r.EventType.CLICK,this._onClick))},e.prototype._deactivate=function(){this.buttonMode=!1,this.off(r.EventType.CLICK,this._onClick)},e.prototype._update=function(){0==this._selected?this.texture=this._getTexture():this.texture=this._getTextureOn()},e.prototype._getTexture=function(){var t;if(0==this._type)t=20;else if(1==this._type)t=24;else if(2==this._type)t=26;else if(3==this._type)t=28;else if(4==this._type)t=30;else if(5==this._type)t=32;else{if(9!=this._type)return PIXI.Texture.EMPTY;t=22}return o.DUTY_COMMON.getTexture(t)},e.prototype._getTextureOn=function(){var t;if(0==this._type)t=21;else if(1==this._type)t=25;else if(2==this._type)t=27;else if(3==this._type)t=29;else if(4==this._type)t=31;else if(5==this._type)t=33;else{if(9!=this._type)return PIXI.Texture.EMPTY;t=23}return o.DUTY_COMMON.getTexture(t)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(34),a=i(69),_=i(415),l=i(416),u=function(t){function e(e,i){var n=t.call(this)||this;return n._data=e,n._scene_initialize_delegate=i,n}return n(e,t),e.prototype._start=function(){this._loadResources()},e.prototype._loadResources=function(){var t=this;(new l.TaskLoadResources).start(function(){t._connectAPI()})},e.prototype._connectAPI=function(){var t=this,e=new s.APIConnector;20==o.default.model.basic.getTutorialProgress()&&e.add(new a.UpdateTutorialAPI(30));e.add(new _.DutyListAPI(1,0,this._data)),e.start(function(){null!=t._scene_initialize_delegate&&t._scene_initialize_delegate(),t._endTask()})},e.prototype._endTask=function(){this._data=null,this._scene_initialize_delegate=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskDutyScenePreInitialize=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(11),s=function(t){function e(e,i){var n=t.call(this)||this;return n._data=e,n._scene_activate_delegate=i,n}return n(e,t),e.prototype._start=function(){this._playBGM()},e.prototype._playBGM=function(){o.default.sound.bgm.play(102),this._playVoice()},e.prototype._playVoice=function(){1==o.default.option.voice_duty&&(1==this._data.hasComplete()?o.default.sound.voice.playAtRandom("9999",[401,402,403,404,405],[20,20,20,20,20]):o.default.sound.voice.playAtRandom("9999",[406,407],[50,50])),this._startScene()},e.prototype._startScene=function(){null!=this._scene_activate_delegate&&this._scene_activate_delegate(),this._endTask()},e.prototype._endTask=function(){this._data=null,this._scene_activate_delegate=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskDutySceneInitialize=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(14),s=function(t){function e(e){var i=t.call(this)||this;return i._scene_dispose_delegate=e,i}return n(e,t),e.prototype._start=function(){null!=this._scene_dispose_delegate&&this._scene_dispose_delegate(),this._endTask()},e.prototype._endTask=function(){this._scene_dispose_delegate=null,r.UIImageLoader.clearMemoryCache("duty"),t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskDutySceneFinalize=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=i(241),s=i(1),a=function(t){function e(e){var i=t.call(this)||this;return i._waitClick=function(){i._layer.buttonMode=!0,i._layer.once(s.EventType.CLICK,i._onClick)},i._onClick=function(){i._layer.buttonMode=!1,i._chara.texture=PIXI.Texture.fromFrame(r.POSTER_KEY_2),createjs.Tween.get(i._chara).wait(300).to({x:1200},500,createjs.Ease.sineInOut).call(function(){i._layer.removeChild(i._chara),i._endTask()})},i._layer=e,i}return n(e,t),e.prototype._start=function(){this._chara=PIXI.Sprite.fromFrame(r.POSTER_KEY_1),this._chara.position.set(760,705),this._layer.addChild(this._chara),createjs.Tween.get(this._chara).to({y:45},500).call(this._waitClick)},e.prototype._endTask=function(){this._layer=null,this._chara=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskPosterGirl=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(34),a=i(379),_=i(167),l=i(129),u=i(106),c=i(158),h=i(1199),p=i(210),d=i(128),f=i(8),y=i(200),m=i(6),g=i(417),v=i(418),b=i(175),w=function(t){function e(e,i,n){var o=t.call(this)||this;return o._layer=e,o._model=i,o._holder=n,o}return n(e,t),e.prototype._start=function(){var t=this,e=this._model.getRewardCandidates();if(null!=e&&e.length>0){this._click_guard=new f.AreaBox(.2),this._layer.addChild(this._click_guard);var i=new v.TaskRewardSelectMulti(this._layer,e);i.start(function(){var e=i.result;t._receiveReward(e)})}else this._click_guard=new f.AreaBox(0),this._layer.addChild(this._click_guard),this._receiveReward(null)},e.prototype._receiveReward=function(t){var e,i=this;m.SE.play("215"),this._model.hasVoiceID&&o.default.sound.voice.play("9999",this._model.voiceID,null,"duty");var n=this._model.id,r=[];if(null!=t)for(var s=0,a=t;s<a.length;s++){var e=a[s];null!=e&&r.push(e.no)}var _=new g.DutyEndAPI(n,r),l=_.result;_.start(function(){i._showRewardDialog(l)})},e.prototype._showRewardDialog=function(t){var e=this,i=o.default.view.overLayer,n=t.getRewardList();new y.TaskReward(i,n,this._model.id).start(function(){e._updateInternalData(t)})},e.prototype._updateInternalData=function(t){var e=this,i=new s.APIConnector;i.add(new _.MaterialAPI),1==t.isNeedUpdateUserBasic()&&i.add(new c.UserDataAPI),1!=t.isNeedUpdateSlotitem()&&318!=this._model.id&&513!=this._model.id||i.add(new d.UserSlotItemAPI),1==t.isNeedUpdateSlotitem()&&i.add(new l.UnsetSlotAPI);var n=[511,513,620,621,688,689,690,695,696];if((1==t.isNeedUpdateUseitem()||n.indexOf(this._model.id)>=0)&&i.add(new u.UseItemAPI),t.getRewards(2).length>0&&i.add(new a.DeckAPI),t.getRewards(11).length>0)i.add(new p.UserShipAPI);else if(318==this._model.id||513==this._model.id){var r=o.default.model.deck.get(1).getShipList()[0].memID;i.add(new p.UserShipAPI(r))}t.getRewards(14).length>0&&i.add(new h.UserFurnitureAPI),i.start(function(){var i=t.getRewards(6);if(i.length>0)for(var n=0;n<i.length;n++){var r=i[n],s=r.flag,a=[o.default.model.basic.getExtraSupplySortie()?1:0,o.default.model.basic.getExtraSupplyExpedition()?1:0];1==s?a[0]=1:2==s&&(a[1]=1),o.default.model.basic.setExtraSupplyFlag(a)}e._updateDutyList(t)})},e.prototype._updateDutyList=function(t){var e=this;new b.TaskUpdateDutyListData(this._holder.selected_page_no,this._holder.selected_type,this._holder).start(function(){t.getRewards(2).length>0&&o.default.view.portMain.updateUserInfo({fleetNum:o.default.model.deck.num}),o.default.view.portMain.updateInfo(),null!=e._click_guard&&e._layer.removeChild(e._click_guard),e._endTask()})},e.prototype._endTask=function(){this._layer=null,this._model=null,this._holder=null,this._click_guard=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskTasseiDutySelect=w},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=function(t){function e(){var e=t.call(this)||this;return e._url="api_get_member/furniture",e}return n(e,t),e.prototype._completedEnd=function(){o.default.model.furniture.setMemData(this._raw_data),t.prototype._completedEnd.call(this)},e}(r.APIBase);e.UserFurnitureAPI=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=function(t){function e(e){var i=t.call(this)||this;return i._url="api_req_quest/start",i._duty_id=e,i}return n(e,t),e.prototype._connect=function(){this._post_data.api_quest_id=this._duty_id,t.prototype._connect.call(this)},e}(o.APIBase);e.DutyStartAPI=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=function(t){function e(e){var i=t.call(this)||this;return i._url="api_req_quest/stop",i._duty_id=e,i}return n(e,t),e.prototype._connect=function(){this._post_data.api_quest_id=this._duty_id,t.prototype._connect.call(this)},e}(o.APIBase);e.DutyCancelAPI=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(11),s=i(6),a=i(242),_=i(175),l=function(t){function e(e,i){var n=t.call(this)||this;return n._model=e,n._holder=i,n}return n(e,t),e.prototype._start=function(){var t=this,e=o.default.model.basic.getDutyExecutableCount();if(this._holder.getExecCount()>=e)return void this._endTask();s.SE.play("240"),new a.DutyStartAPI(this._model.id).start(function(){t._update()})},e.prototype._update=function(){var t=this,e=this._holder.selected_page_no,i=this._holder.selected_type;new _.TaskUpdateDutyListData(e,i,this._holder).start(function(){1==o.default.option.voice_duty&&o.default.sound.voice.playAtRandom("9999",[409,410],[50,50]),t._endTask()})},e.prototype._endTask=function(){this._model=null,this._holder=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskWaitedDutySelect=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=i(6),s=i(242),a=i(175),_=function(t){function e(e,i){var n=t.call(this)||this;return n._model=e,n._holder=i,n}return n(e,t),e.prototype._start=function(){var t=this;r.SE.play("240"),new s.DutyCancelAPI(this._model.id).start(function(){t._update()})},e.prototype._update=function(){var t=this,e=this._holder.selected_page_no,i=this._holder.selected_type;new a.TaskUpdateDutyListData(e,i,this._holder).start(function(){t._endTask()})},e.prototype._endTask=function(){this._model=null,this._holder=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskExecutedDutySelect=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=i(1205),s=i(1207),a=i(1208),_=i(1215),l=function(t){function e(){var e=t.call(this)||this;return e._dispose=function(){null!=e._topTask&&(e._topTask.dispose(),e._topTask=null),null!=e._viewList&&(e._viewList.dispose(),e._viewList=null),null!=e._viewTop&&(e._viewTop.dispose(),e._viewTop=null)},e}return n(e,t),Object.defineProperty(e.prototype,"viewTop",{get:function(){return this._viewTop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewList",{get:function(){return this._viewList},enumerable:!0,configurable:!0}),e.prototype.getPreInitializeTask=function(t){return new r.PreInitializeTask(this)},e.prototype.getInitializeTask=function(t){return new r.InitializeTask(this)},e.prototype.getFinalizeTask=function(){return new s.TaskItemSceneFinalize(this._dispose)},e.prototype.initialize=function(){this._viewTop=new _.ViewTop,this._viewTop.initialize(),this.addChild(this._viewTop),this._viewList=new _.ViewSlotitemList,this._viewList.initialize(),this._viewList.position.set(1219,102),this.addChild(this._viewList)},e.prototype.startTopTask=function(){var t=this;this._topTask=new a.TaskTop(this),this._topTask.start(function(){t._topTask=null})},e}(o.SceneBase);e.RevampScene=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(1206),a=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){this._loadResources()},e.prototype._loadResources=function(){var t=this;(new s.TaskLoadResources).start(function(){t._showTopView()})},e.prototype._showTopView=function(){this._scene.initialize(),this._scene.startTopTask(),this._scene=null,this._endTask()},e}(r.TaskBase);e.PreInitializeTask=a;var _=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){this._playBGM()},e.prototype._playBGM=function(){var t=this._getBGMID();o.default.sound.bgm.play(t),this._startScene()},e.prototype._startScene=function(){this._endTask()},e.prototype._getBGMID=function(){var t=o.default.model.deck.get(1).getShipModel(1);return null==t?206:466!=t.mstID&&467!=t.mstID?206:0==o.default.model.useItem.get(71).count?206:126},e}(r.TaskBase);e.InitializeTask=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(14),s=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype._start=function(){this._load()},e.prototype._load=function(){var t=this,e=new r.UIImageLoader("revamp");e.add("revamp_box.json"),e.add("revamp_list.json"),e.add("revamp_pager.json"),e.add("revamp_revamp.json"),e.load(function(){t._endTask()})},e}(o.TaskBase);e.TaskLoadResources=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=i(14),s=function(t){function e(e){var i=t.call(this)||this;return i._scene_dispose_delegate=e,i}return n(e,t),e.prototype._start=function(){null!=this._scene_dispose_delegate&&this._scene_dispose_delegate(),r.UIImageLoader.clearMemoryCache("revamp"),this._endTask()},e}(o.TaskBase);e.TaskItemSceneFinalize=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(1209))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(45),s=i(2),a=i(6),_=i(134),l=i(420),u=i(243),c=i(421),h=i(1212),p=i(1213),d=i(1214),f=i(25),y=i(1),m=i(24),g=i(13),v=i(34),b=i(166),w=i(219),x=i(220),I=function(t){function e(e){var i=t.call(this)||this;return i._selected=null,i._UnlockSetItems=[[],{}],i._UnlockBtnParam=new Array(10),i._onClickBtnListBackBox=function(){i._listView._appearList(!1)},i._debugButton=function(){i._goSlotChange(2,63)},i._onClickDialogBtnBack=function(){a.SE.play("205"),i._listView._appearBtn(!1)},i._onClickDialogBtnSpecialRepair=function(){i._NowAnimeUI=!0,i._listView._appearBtn(!1),a.SE.play("204"),i._topView.fadeMask.alpha=.2,10==i._items[i._NowSelectedNo].level?o.default.sound.voice.play("9999",310):o.default.sound.voice.play("9999",313),new d.RevampSlotListDetailAPI(i._recipe.list[i._NowSelectedBox].id,i._items[i._NowSelectedNo].memID,i._recipe,i._NowSelectedBox).start(function(){i.Detail()})},i._onClickBtnGoFigure=function(t){a.SE.play("249"),i._ListNowPage=i._ListPagerLeft+t,i._drawList()},i._onClickRecipeBox=function(t){i._NowAnimeUI||(i._NowSelectedBox=t,i.SetSlotitemList(i._recipe.list[i._NowSelectedBox].slot_id),a.SE.play("249"),o.default.sound.voice.playAtRandom("9999",[303,304],[50,50]))},i._onClickRecipeBoxCertainSwitch=function(t){i._NowAnimeUI||(i._NowAnimeUI=!0,i._NowSelectedBox=t,i._topView.revampRecipeBox[i._NowSelectedBox].ToggleCertainSwitch(),i._tween0=createjs.Tween.get(i).wait(300).call(function(){i._tween0=null,i._NowAnimeUI=!1}))},i._onClickRecipeBoxGoRemodel=function(t){i._NowAnimeUI||(i._NowSelectedBox=t,a.SE.play("204"),i._GoRemodel(i._NowSelectedBox))},i._onRevampItemChangeQuit=function(){i._topView.revampItemChange.IsAnime||i._BackPressed||(i._BackPressed=!0,i._topView.pushAnyScreen.visible=!1,i._topView.pushAnyScreen.interactive=i._topView.pushAnyScreen.buttonMode=!1,i._topView.revampItemChange.dispose(),i._topView.revampParticleOverLayer.dispose(),i._tween0=createjs.Tween.get(i).wait(1e3).call(function(){i._tween0=null,o.default.view.overLayer.removeChild(i._topView.revampParticleOverLayer),o.default.view.overLayer.removeChild(i._topView.revampItemChange)}),i._onClickScreen())},i._onClickScreen=function(){i._topView.pushAnyScreen.visible=!1,i._topView.pushAnyScreen.interactive=i._topView.pushAnyScreen.buttonMode=!1,i.RemodelSceneResume()},i._onClickRecipeBoxBtnCancel=function(t){i._NowAnimeUI||(a.SE.play("205"),i._topView.revampRecipeBox[i._NowSelectedBox].SetDetail(!1),i._topView.revampBaloon.ResetBaloon(),i._ResumeBox(!0))},i._onClickBtnLists=function(t){0!=i._listView.focus_txt[t].textColorChangeEnabled&&(i._NowSelectedNo=10*i._ListNowPage+t,i._listView.focus_txt[t].dispose(),i._listView.focus_txt[t].initialize(9,9),i._listView.focus_txt[t].interactive=i._listView.focus_txt[t].buttonMode=!1,i._listView.containerName[t].cacheAsBitmap=!1,i._listView.text_slotName[t].style.fill=16777215,i._listView.containerName[t].cacheAsBitmap=!0,i._listView._appearBtn(!0))},i._onClickBtnRemoveSlotItem=function(t){i._NowSelectedNo=10*i._ListNowPage+t;var e=i._UnlockBtnParam[t][1]>=0?new w.SlotSetAPI(i._UnlockBtnParam[t][0],-1,i._UnlockBtnParam[t][1]):new x.SlotSetExAPI(i._UnlockBtnParam[t][0],-1),n=new v.APIConnector,r=new b.Ship3API(i._UnlockBtnParam[t][0]);a.SE.play("106"),n.add(e).add(r).start(function(){o.default.view.portMain.updateInfo(),null!=i._items&&delete i._items,i._items=i._createLevelSortedListFromMstId(i._recipe.list[i._NowSelectedBox].slot_id),i._drawList()})},i._onClickBtnListGoPrev=function(){0!=i._ListNowPage&&a.SE.play("249"),i._ListNowPage-=5,i._ListNowPage<0&&(i._ListNowPage=0),i._drawList()},i._onClickBtnListGoNext=function(){i._ListNowPage!=i._ListLastPage-1&&a.SE.play("249"),i._ListNowPage+=5,i._ListNowPage>=i._ListLastPage&&(i._ListNowPage=i._ListLastPage-1),i._drawList()},i._onNamePopUpMouseOver=function(t){i._listView.namePopUp[t].visible=!0,i._listView.containerName[t].visible=!1,i._listView.list_kosho_mask[t].texture=u.REVAMP_LIST.getTexture(9)},i._onNamePopupMouseOut=function(t){i._listView.namePopUp[t].visible=!1,i._listView.containerName[t].visible=!0,i._listView.list_kosho_mask[t].texture=u.REVAMP_LIST.getTexture(15)},i._scene=e,i._topView=e.viewTop,i._listView=e.viewList,i._tweens=new Array,i._NowVisibleUI=!0,i._NowAnimeUI=!1,i._recipe=new c.RevampSlotlistModel(i._o),i._req_buildkit_bak=new Array(3),i._req_remodelkit_bak=new Array(3),i._NowSelectedBox=-1,i._NowSelectedNo=-1,i._ListNowPage=0,i._ListLastPage=-1,i._BackPressed=!1,i}return n(e,t),e.prototype._start=function(){var t=this;this._topView.debugBtn.on(y.EventType.CLICK,this._debugButton),this._listView.btn_prev.on(y.EventType.CLICK,this._onClickBtnListGoPrev),this._listView.btn_next.on(y.EventType.CLICK,this._onClickBtnListGoNext),this._listView.black_bg[0].on(y.EventType.CLICK,this._onClickBtnListBackBox),this._listView.btn_special_repair.on(y.EventType.CLICK,this._onClickDialogBtnSpecialRepair),this._listView.btn_back.on(y.EventType.CLICK,this._onClickDialogBtnBack);for(var e=this,i=0;i<3;i++)!function(i){e._topView.revampRecipeBox[i].btn_cancel.on(y.EventType.CLICK,function(){t._onClickRecipeBoxBtnCancel(i)}),e._topView.revampRecipeBox[i].box_bg_selected.on(y.EventType.CLICK,function(){t._onClickRecipeBox(i)}),e._topView.revampRecipeBox[i].switch_btn.on(y.EventType.CLICK,function(){t._onClickRecipeBoxCertainSwitch(i)}),e._topView.revampRecipeBox[i].btn_start.on(y.EventType.CLICK,function(){t._onClickRecipeBoxGoRemodel(i)})}(i);for(var n=this,i=0;i<10;i++)!function(e){n._listView.focus_txt[e].on(y.EventType.CLICK,function(){t._onClickBtnLists(e)}),n._listView.removeSlotItemBtn[e].on(y.EventType.CLICK,function(){t._onClickBtnRemoveSlotItem(e)}),n._listView.removeSlotItemBtn[e].on(y.EventType.MOUSEOVER,function(){t._onNamePopUpMouseOver(e)}),n._listView.removeSlotItemBtn[e].on(y.EventType.MOUSEOUT,function(){t._onNamePopupMouseOut(e)})}(i);for(var o=this,i=0;i<5;i++)!function(e){o._listView.btn_list_goFigure[e].on(y.EventType.CLICK,function(){t._onClickBtnGoFigure(e)})}(i);this._topView.pushAnyScreen.on(y.EventType.CLICK,function(){t._onClickScreen()}),this._topView.revampItemChange.whiteMask.on(y.EventType.CLICK,function(){t._onRevampItemChangeQuit()}),this.GetRecipe()},e.prototype._voiceEnd=function(){this._topView.revampRecipeBox[this._NowSelectedBox].isVoiceFinished=!0},e.prototype._createLevelSortedListFromMstId=function(t){var e=this,i=o.default.model.slot.createUnsetListFromMstId(t);return this._UnlockSetItems=o.default.model.slot.createSetListFromMstId(t),this._UnlockSetItems[0].forEach(function(n){if(n.mstID==t){var r=o.default.model.ship.get(e._UnlockSetItems[1][n.memID]),s=o.default.model.deck.isInDeck(r.memID);if(null!=s){null==o.default.model.deck.get(s[0]).expedition&&i.push(n)}else i.push(n)}}),r.SlotUtil.sort(i,1),i},e.prototype.GetRevampableItems=function(t,e){for(var i=o.default.model.slot.createUnsetListFromMstId(t),n=0,r=0,s=i;r<s.length;r++){var a=s[r];0!=a.level||a.isLocked()||a.memID==e||n++}return n},e.prototype.GetRecipe=function(){var t=this;new p.RevampSlotlistAPI(this._recipe).start(function(){t.SetRecipes()})},e.prototype.SetRecipes=function(){for(var t=0;t<this._recipe.list.length;t++){this._req_buildkit_bak[t]=this._recipe.list[t].req_buildkit,this._req_remodelkit_bak[t]=this._recipe.list[t].req_remodelkit,this._topView.revampRecipeBox[t].slotItemName.text=o.default.model.slot.getMst(this._recipe.list[t].slot_id).name,this._topView.revampRecipeBox[t].slotTypeItemIcon.texture=_.COMMON_ICON_WEAPON.getTextureFromMstID(o.default.model.slot.getMst(this._recipe.list[t].slot_id).iconType);var e=this._recipe.list[t].slot_id;this._topView.revampRecipeBox[t].slotItemIcon.texture=PIXI.Texture.fromImage(m.SlotLoader.getPath(e,"item_on")),this._topView.revampRecipeBox[t].slotItemParamsValue[0]=this._recipe.list[t].req_fuel,this._topView.revampRecipeBox[t].slotItemParamsValue[1]=this._recipe.list[t].req_bull,this._topView.revampRecipeBox[t].slotItemParamsValue[2]=this._recipe.list[t].req_steel,this._topView.revampRecipeBox[t].slotItemParamsValue[3]=this._recipe.list[t].req_bauxite,this._topView.revampRecipeBox[t].slotItemParamsValue[4]=this._recipe.list[t].req_buildkit,this._topView.revampRecipeBox[t].slotItemParamsValue[5]=this._recipe.list[t].req_remodelkit,this._topView.revampRecipeBox[t].SlotItemParamsUpdate(),0==this._createLevelSortedListFromMstId(this._recipe.list[t].slot_id).length&&(this._topView.revampRecipeBox[t].btn_select.texture=l.REVAMP_BOX.getTexture(11),this._topView.revampRecipeBox[t].box_bg_selected.interactive=this._topView.revampRecipeBox[t].box_bg_selected.buttonMode=!1),this._topView.revampRecipeBox[t].SetNumbers(this._recipe.list[t].req_buildkit,this._recipe.list[t].req_remodelkit)}this._topView.revampBaloon._setBalloon2(1),this._AlphaAnimeG(this._topView.fadeMask,!1),o.default.sound.voice.playAtRandom("9999",[301,302],[50,50])},e.prototype.SetFontStyle=function(t,e){switch(e){case 0:this._listView.btn_list_goFigureStr[t].style.fill=1949120,this._listView.btn_list_goFigureStr[t].style.fontSize=33,this._listView.btn_list_goFigure[t].interactive=this._listView.btn_list_goFigure[t].buttonMode=!1;break;case 1:this._listView.btn_list_goFigureStr[t].style.fill=0,this._listView.btn_list_goFigureStr[t].style.fontSize=33,this._listView.btn_list_goFigure[t].interactive=this._listView.btn_list_goFigure[t].buttonMode=!0;break;case 2:this._listView.btn_list_goFigureStr[t].style.fill=16777215,this._listView.btn_list_goFigureStr[t].style.fontSize=33,this._listView.btn_list_goFigure[t].interactive=this._listView.btn_list_goFigure[t].buttonMode=!1}},e.prototype.PagerFigureDraw=function(){if(this._ListLastPage<=5){this._ListPagerLeft=0;for(var t=0;t<5;t++)this._listView.btn_list_goFigureStr[t].text=(t+1).toString(),t==this._ListNowPage?this.SetFontStyle(t,0):t<this._ListLastPage?this.SetFontStyle(t,1):this.SetFontStyle(t,2)}else{this._ListLastPage-this._ListNowPage<=3?this._ListPagerLeft=this._ListLastPage-5:this._ListNowPage<3?this._ListPagerLeft=0:this._ListPagerLeft=this._ListNowPage-2;for(var t=0;t<5;t++)this._listView.btn_list_goFigureStr[t].text=(t+1+this._ListPagerLeft).toString(),t+this._ListPagerLeft==this._ListNowPage?this.SetFontStyle(t,0):this.SetFontStyle(t,1)}},e.prototype.Detail=function(){this._recipe.list[this._NowSelectedBox].req_useitem_id;var t;t=0==this._recipe.list[this._NowSelectedBox].req_slot_num?this.GetRevampableItems(this._recipe.list[this._NowSelectedBox].slot_id,this._items[this._NowSelectedNo].memID):this.GetRevampableItems(this._recipe.list[this._NowSelectedBox].req_slot_id,this._items[this._NowSelectedNo].memID),this._topView.revampRecipeBox[this._NowSelectedBox].SetNumbers(this._recipe.list[this._NowSelectedBox].req_buildkit,this._recipe.list[this._NowSelectedBox].req_remodelkit),this._topView.revampRecipeBox[this._NowSelectedBox].SetDetailNumbers(this._recipe.list[this._NowSelectedBox].certain_buildkit,this._recipe.list[this._NowSelectedBox].certain_remodelkit,t),this._topView.revampRecipeBox[this._NowSelectedBox].SetDetail(!0),this._topView.revampRecipeBox[this._NowSelectedBox].SetStarts(this._items[this._NowSelectedNo].level),this._topView.revampRecipeBox[this._NowSelectedBox].CheckNeedItem(this._recipe.list[this._NowSelectedBox]),this._CenteringBox()},e.prototype._setBtnBalloon=function(){var t;t=0==this._recipe.list[this._NowSelectedBox].req_slot_num?this.GetRevampableItems(this._recipe.list[this._NowSelectedBox].slot_id,this._items[this._NowSelectedNo].memID):this.GetRevampableItems(this._recipe.list[this._NowSelectedBox].req_slot_id,this._items[this._NowSelectedNo].memID),this._NowAnimeUI=!1,this._topView.revampRecipeBox[this._NowSelectedBox].CheckGoBtnNyCertainly(),this._topView.revampRecipeBox[this._NowSelectedBox].CheckGoBtnByItem(this._recipe.list[this._NowSelectedBox],t,this._items[this._NowSelectedNo].isLocked()),this._topView.revampBaloon.SetBalloon(this._recipe.list[this._NowSelectedBox],t,this._items[this._NowSelectedNo].isLocked())},e.prototype.SetSlotitemList=function(t){this._listView._appearList(!0),null!=this._items&&delete this._items,this._items=this._createLevelSortedListFromMstId(t);this._ListLastPage=parseInt((this._items.length-1)/10+"",10)+1,this._ListNowPage=0,this._drawList()},e.prototype._GoRemodel=function(t){var e=this;this._topView.sceneChangeGuard.interactive=!0,o.default.sound.voice.playAtRandom("9999",[306,307],[50,50]);var i=new h.RevampRemodelSlotAPI(this._recipe.list[this._NowSelectedBox],this._items[this._NowSelectedNo].memID,this._topView.revampRecipeBox[this._NowSelectedBox].isCertainly),n=i.result;i.start(function(){e._RemodelScene(n)})},e.prototype._RemodelScene=function(t){var e=this;o.default.view.portMain.updateInfo();if(this._topView.revampBaloon._setBalloon1(0),this._topView.revampBaloon._setBalloon2(0),this._topView.revampBaloon._setBalloon3(0,0),this._topView.revampakashi.AkashiMove(!0),this._topView.revampakashi.Spark(),a.SE.play("203"),this._topView.revampRecipeBox[this._NowSelectedBox].RevampFlash(t),0!=t.voice_ship_id){var i=o.default.model.deck.get(1).getShipModel(1).mstID;f.MathUtil.zeroPadding(i,4);this._topView.revamp2ndShip.texture=PIXI.Texture.fromImage(g.ShipLoader.getPath(i,!1,"full"));this._topView.revamp2ndShip.scale.set(.6,.6);var n=o.default.model.ship_graph.get(i).getFaceRect(!1);this._leaveX=.6*-n.x+198,this._topView.revamp2ndShip.position.set(this._leaveX,.6*-n.y+153),this._topView.revamp2ndShip.alpha=0,this._tween0=createjs.Tween.get(this._topView.revamp2ndShip).to({x:.6*-n.x+348,alpha:1},500,createjs.Ease.quadIn).wait(500).call(function(){e._tween0=null,o.default.sound.voice.play(t.voice_ship_id+"",t.voice_id,function(){return e._voiceEnd()}),e._topView.revampRecipeBox[e._NowSelectedBox].noVoiceWait(5e3)})}else this._topView.revampRecipeBox[this._NowSelectedBox].noVoiceWait(2500);this._checkRecipeBoxisFinished(t)},e.prototype._checkRecipeBoxisFinished=function(t){var e=this;this._topView.revampRecipeBox[this._NowSelectedBox].isFlashFinished?0!=t.voice_ship_id?this._tween0=createjs.Tween.get(this._topView.revamp2ndShip).to({x:this._leaveX,alpha:0},500,createjs.Ease.quadIn).call(function(){e._tween0=null,e._topView.revamp2ndShip.alpha=1,e._topView.revamp2ndShip.position.set(-600,138),e._RemodelSceneResult(t)}):this._RemodelSceneResult(t):this._tween0=createjs.Tween.get(this).wait(200).call(function(){e._tween0=null,e._checkRecipeBoxisFinished(t)})},e.prototype._RemodelSceneResult=function(t){if(this._topView.revampRecipeBox[this._NowSelectedBox].FlashBoxOff(),1==t.isSuccess()){var e=o.default.model.slot.get(t.target_slotitem_memid);if(t.remodel_id[0]!=t.remodel_id[1])return void this._goSlotChange(t.remodel_id[0],t.remodel_id[1]);this._topView.revampBaloon._setBalloon4(1),this._topView.revampRecipeBox[this._NowSelectedBox].SetStarts(e.level),this._topView.revampBaloon.SetResultBalloon(!0,t.remodel_id[1],e.level),this._topView.revampBaloon.SetResultBalloonKira(!0),o.default.sound.voice.play("9999",308),this._topView.revampParticleLayer.activate(),a.SE.play("211")}else this._topView.revampBaloon._setBalloon4(1),this._topView.revampBaloon.SetResultBalloon(!1,0,0),o.default.sound.voice.play("9999",309),a.SE.play("206");this._topView.pushAnyScreen.visible=!0,this._topView.pushAnyScreen.interactive=this._topView.pushAnyScreen.buttonMode=!0},e.prototype._goSlotChange=function(t,e){var i=this;this._topView.revampItemChange.preload(t,e,function(){i._topView.revampItemChange.initialize(i._scene),o.default.view.overLayer.addChild(i._topView.revampItemChange),i._waitTextureload()})},e.prototype._waitTextureload=function(){var t=this;this._tween0=createjs.Tween.get(this).wait(200).call(function(){t._tween0=null,t._topView.revampItemChange._scene0(),t._tween1=createjs.Tween.get(t).wait(200).call(function(){t._tween1=null,t._topView.revampParticleOverLayer.initialize(),o.default.view.overLayer.addChild(t._topView.revampParticleOverLayer)})})},e.prototype.RemodelSceneResume=function(){var t=this;this._topView.revampParticleLayer.dispose(),this._topView.sceneChangeGuard.interactive=!1,this._tween0=createjs.Tween.get(this).call(function(){t._topView.revampBaloon._setBalloon4(0),t._topView.revampakashi.AkashiMove(!1),t._topView.revampRecipeBox[t._NowSelectedBox].SetDetail(!1),t._ResumeBox(!0),t._topView.revampRecipeBox[t._NowSelectedBox].btn_cancel.dispose(),t._topView.revampRecipeBox[t._NowSelectedBox].btn_cancel.initialize(4,6)}).wait(1e3).call(function(){t._tween0=null,t._topView.revampBaloon.ResetBaloon(),t._topView.revampBaloon._setBalloon1(9),t._topView.revampBaloon._setBalloon2(1),t._BackPressed=!1})},e.prototype._skill2Texture=function(t){switch(t){case 1:return u.REVAMP_LIST.getTexture(17);case 2:return u.REVAMP_LIST.getTexture(18);case 3:return u.REVAMP_LIST.getTexture(19);case 4:return u.REVAMP_LIST.getTexture(20);case 5:return u.REVAMP_LIST.getTexture(21);case 6:return u.REVAMP_LIST.getTexture(22);case 7:return u.REVAMP_LIST.getTexture(23);default:return PIXI.Texture.EMPTY}},e.prototype._drawList=function(){for(var t=this,e=10*this._ListNowPage,i=this._items.slice(e,e+10),n=this,r=0;r<10;r++)!function(e){var r=null==i[e];n._listView.focus_txt[e].dispose(),n._listView.focus_txt[e].initialize(2,9),n._listView.focus_txt[e].interactive=n._listView.focus_txt[e].buttonMode=!r,n._listView.containerName[e].cacheAsBitmap=!1,n._listView.text_slotName[e].style.fill=4999235,n._listView.text_slotName[e].text=r?"":i[e].name,n._listView.text_slotName[e].visible=!0,n._listView.removeSlotItemBtn[e].visible=!1,n._listView.focus_txt[e].textColorChangeEnabled=!0,n._listView.list_kosho_mask[e].visible=!1;var s=0,a=!1;if(0==r){var l="";if(null!=n._UnlockSetItems[1][i[e].memID]){var u=o.default.model.ship.get(n._UnlockSetItems[1][i[e].memID]);if(u.getSlotitems().forEach(function(n){null!=n&&i[e].memID==n.memID&&(t._UnlockBtnParam[e]=[u.memID,s],a=!0),s++}),0==a){var c=u.getSlotitemEx();null!=c&&i[e].memID==c.memID&&(n._UnlockBtnParam[e]=[u.memID,-1],a=!0)}if(a){n._listView.removeSlotItemBtn[e].visible=!0,l=""+u.name;var h=o.default.model.deck.isInDeck(u.memID);n._listView.namePopUp[e].update(l,u.level,null==h?[-1,-1]:h),n._listView.focus_txt[e].textColorChangeEnabled=!1,n._listView.list_kosho_mask[e].visible=!0}}}r&&(n._listView.containerName[e].cacheAsBitmap=!0),n._listView.type_icon[e].texture=r?PIXI.Texture.EMPTY:_.COMMON_ICON_WEAPON.getTextureFromMstID(i[e].iconType),n._listView.type_icon[e].visible=!r,n._listView.skill_lv[e].texture=r?PIXI.Texture.EMPTY:n._skill2Texture(i[e].skillLevel),n._listView.skill_lv[e].visible=!r,n._listView.setStars(e,r?0:i[e].level),n._listView.lock_on[e].visible=!r&&i[e].isLocked()}(r);this.PagerFigureDraw()},e.prototype._removeEventListeners=function(){var t=this;this._listView.btn_prev.off(y.EventType.CLICK,this._onClickBtnListGoPrev),this._listView.btn_next.off(y.EventType.CLICK,this._onClickBtnListGoNext),this._listView.btn_special_repair.off(y.EventType.CLICK,this._onClickDialogBtnSpecialRepair),this._listView.btn_back.off(y.EventType.CLICK,this._onClickDialogBtnBack),this._listView.black_bg[0].on(y.EventType.CLICK,this._onClickBtnListBackBox);for(var e=this,i=0;i<3;i++)!function(i){e._topView.revampRecipeBox[i].btn_cancel.off(y.EventType.CLICK,function(){t._onClickRecipeBoxBtnCancel(i)}),e._topView.revampRecipeBox[i].box_bg_selected.off(y.EventType.CLICK,function(){t._onClickRecipeBox(i)}),e._topView.revampRecipeBox[i].switch_btn.off(y.EventType.CLICK,function(){t._onClickRecipeBoxCertainSwitch(i)}),e._topView.revampRecipeBox[i].btn_start.off(y.EventType.CLICK,function(){t._onClickRecipeBoxGoRemodel(i)})}(i);for(var n=this,i=0;i<10;i++)!function(e){n._listView.focus_txt[e].off(y.EventType.CLICK,function(){t._onClickBtnLists(e)}),n._listView.removeSlotItemBtn[e].on(y.EventType.CLICK,function(){t._onClickBtnRemoveSlotItem(e)}),n._listView.removeSlotItemBtn[e].on(y.EventType.MOUSEOVER,function(){t._onNamePopUpMouseOver(e)}),n._listView.removeSlotItemBtn[e].on(y.EventType.MOUSEOUT,function(){t._onNamePopupMouseOut(e)})}(i);for(var o=this,i=0;i<5;i++)!function(e){o._listView.btn_list_goFigure[e].off(y.EventType.CLICK,function(){t._onClickBtnGoFigure(e)})}(i);this._topView.pushAnyScreen.off(y.EventType.CLICK,function(){t._onClickScreen()})},e.prototype._CenteringBox=function(){var t=this;this._topView.fadeMask.interactive=!0,0==this._NowSelectedBox?(a.SE.play("207"),this._tween1=createjs.Tween.get(this._topView.revampRecipeBox[1]).to({y:1239},1e3,createjs.Ease.quartIn).call(function(){t._tween1=null}),this._tween2=createjs.Tween.get(this._topView.revampRecipeBox[2]).to({y:1539},800,createjs.Ease.quartIn).call(function(){t._tween2=null}),this._tween0=createjs.Tween.get(this._topView.revampRecipeBox[0]).wait(500).to({y:339},400,createjs.Ease.getPowIn(2.72*2.5)).to({y:354},0).wait(30).to({y:332},0).wait(40).to({y:339},0).wait(30).call(function(){t._tween0=null,t._topView.fadeMask.alpha=0,t._topView.fadeMask.interactive=!1,t._setBtnBalloon()})):1==this._NowSelectedBox?(this._tween0=createjs.Tween.get(this._topView.revampRecipeBox[0]).to({y:-561},1e3,createjs.Ease.quartIn).call(function(){t._topView.revampRecipeBox[0].position.y=-111,t._tween0=null,a.SE.play("209"),t._topView.fadeMask.alpha=0,t._topView.fadeMask.interactive=!1,t._setBtnBalloon()}),this._tween2=createjs.Tween.get(this._topView.revampRecipeBox[2]).to({y:1239},1e3,createjs.Ease.quartIn).call(function(){t._topView.revampRecipeBox[0].position.y=789,t._tween2=null})):(a.SE.play("207"),this._tween0=createjs.Tween.get(this._topView.revampRecipeBox[0]).to({y:-861},800,createjs.Ease.quartIn).call(function(){t._tween0=null}),this._tween1=createjs.Tween.get(this._topView.revampRecipeBox[1]).to({y:-561},1e3,createjs.Ease.quartIn).call(function(){t._tween1=null}),this._tween2=createjs.Tween.get(this._topView.revampRecipeBox[2]).wait(500).to({y:339},400,createjs.Ease.getPowIn(2.72*2.5)).to({y:324},0).wait(30).to({y:346},0).wait(40).to({y:339},0).wait(30).call(function(){t._tween2=null,t._topView.fadeMask.alpha=0,t._topView.fadeMask.interactive=!1,t._setBtnBalloon()}))},e.prototype._ResumeBox=function(t){var e=this;this._NowAnimeUI=!0,this._topView.revampRecipeBox[this._NowSelectedBox].SetNumbers(this._req_buildkit_bak[this._NowSelectedBox],this._req_remodelkit_bak[this._NowSelectedBox]),0==this._NowSelectedBox?(this._tween3=createjs.Tween.get(this._topView.revampRecipeBox[0]).wait(350).call(function(){a.SE.play("208")}).wait(700).call(function(){a.SE.play("209")}).wait(100).call(function(){a.SE.play("209"),e._tween3=null}),this._tween0=createjs.Tween.get(this._topView.revampRecipeBox[0]).to({y:159},700,createjs.Ease.getPowIn(2.72*2.5)).to({y:144},0).wait(30).to({y:166},0).wait(40).to({y:159},0).wait(30).call(function(){e._tween0=null}),this._tween1=createjs.Tween.get(this._topView.revampRecipeBox[1]).wait(300).to({y:339},750,createjs.Ease.quartIn).to({y:324},0).wait(30).to({y:346},0).wait(40).to({y:339},0).wait(30).call(function(){e._tween1=null}),this._tween2=createjs.Tween.get(this._topView.revampRecipeBox[2]).wait(500).to({y:519},750,createjs.Ease.quartIn).to({y:504},0).wait(30).to({y:526},0).wait(40).to({y:519},0).wait(30).call(function(){e._tween2=null,e._NowAnimeUI=!1})):1==this._NowSelectedBox?(this._tween3=createjs.Tween.get(this._topView.revampRecipeBox[0]).wait(400).call(function(){e._tween3=null,a.SE.play("208")}),this._tween0=createjs.Tween.get(this._topView.revampRecipeBox[0]).to({y:159},700,createjs.Ease.getPowIn(2.72*2.5)).to({y:174},0).wait(30).to({y:152},0).wait(40).to({y:159},0).wait(30).call(function(){e._tween0=null,e._NowAnimeUI=!1}),this._tween2=createjs.Tween.get(this._topView.revampRecipeBox[2]).to({y:519},700,createjs.Ease.getPowIn(2.72*2.5)).to({y:504},0).wait(30).to({y:526},0).wait(40).to({y:519},0).wait(30).call(function(){e._tween2=null})):2==this._NowSelectedBox&&(this._tween3=createjs.Tween.get(this._topView.revampRecipeBox[0]).wait(350).call(function(){a.SE.play("208")}).wait(700).call(function(){a.SE.play("209")}).wait(100).call(function(){a.SE.play("209"),e._tween3=null}),this._tween0=createjs.Tween.get(this._topView.revampRecipeBox[0]).wait(500).to({y:159},700,createjs.Ease.quartIn).to({y:144},0).wait(30).to({y:166},0).wait(40).to({y:159},0).wait(30).call(function(){e._tween0=null,e._NowAnimeUI=!1}),this._tween1=createjs.Tween.get(this._topView.revampRecipeBox[1]).wait(300).to({y:339},700,createjs.Ease.quartIn).to({y:324},0).wait(30).to({y:346},0).wait(40).to({y:339},0).wait(30).call(function(){e._tween1=null}),this._tween2=createjs.Tween.get(this._topView.revampRecipeBox[2]).to({y:519},700,createjs.Ease.getPowIn(2.72*2.5)).to({y:504},0).wait(30).to({y:526},0).wait(40).to({y:519},3).wait(30).call(function(){e._tween2=null}))},e.prototype._AlphaAnime=function(t,e){e?this._tweens.push(createjs.Tween.get(t).to({alpha:1},150)):this._tweens.push(createjs.Tween.get(t).to({alpha:0},150))},e.prototype._AlphaAnimeG=function(t,e){e?this._tweens.push(createjs.Tween.get(t).to({alpha:1},150)):this._tweens.push(createjs.Tween.get(t).to({alpha:0},150))},e.prototype._alignMid=function(t,e,i){t.position.set(parseInt(e-t.width/2+""),parseInt(i-t.height/2+""))},e.prototype.dispose=function(){this._removeEventListeners();for(var t=0;t<10;t++)this._listView.containerName[t].cacheAsBitmap=!1,this._listView.namePopUp[t].dispose();this._items=null,this._tweens=null,this._recipe=null,this._req_buildkit_bak=null,this._req_remodelkit_bak=null},e.prototype._endTask=function(e){void 0===e&&(e=!1),this._scene=null,this._topView=null,this._listView=null,this._selected=null,this._tweens=null,t.prototype._endTask.call(this)},e}(s.TaskBase);e.TaskTop=I},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(1211)),n(i(421)),n(i(422))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this._o=t}return t}();e.RevampModelBase=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(11),s=i(422),a=i(34),_=i(129),l=function(t){function e(e,i,n){var o=t.call(this)||this;return o._url="api_req_kousyou/remodel_slot",o._result=new u,o._list=e,o._post_data.api_id=e.id,o._post_data.api_slot_id=i,o._post_data.api_certain_flag=n,o}return n(e,t),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e.prototype._connect=function(){t.prototype._connect.call(this)},e.prototype._completedEnd=function(){if(this._result.update(this._raw_data),1==this._result.isSuccess()){var e=this._result.target_slotitem_memid;if(o.default.model.slot.get(e).__updateObject__(this._result.getItemObject()),this._result.isChanged()){var i=new a.APIConnector;i.add(new _.UnsetSlotAPI),i.start()}}for(var n=this._result.use_slotitem_memids,r=0,s=n;r<s.length;r++){var l=s[r];o.default.model.slot.delete(l)}var u=this._list.req_useitem_num;if(u>0&&1==this._result.isSuccess()){var c=this._list.req_useitem_id,h=o.default.model.useItem.get(c),p=h.count;h.__setCount__(p-u)}var d=this._list.req_useitem_num2;if(d>0&&1==this._result.isSuccess()){var f=this._list.req_useitem_id2,y=o.default.model.useItem.get(f),p=y.count;y.__setCount__(p-d)}var m=this._result.after_materials;this._updateMaterialCount(31,m[0]),this._updateMaterialCount(32,m[1]),this._updateMaterialCount(33,m[2]),this._updateMaterialCount(34,m[3]),this._updateMaterialCount(2,m[4]),this._updateMaterialCount(1,m[5]),this._updateMaterialCount(3,m[6]),this._updateMaterialCount(4,m[7]),t.prototype._completedEnd.call(this)},e.prototype._updateMaterialCount=function(t,e){var i=o.default.model.useItem.get(t);null!=i&&i.__setCount__(e)},e}(r.APIBase);e.RevampRemodelSlotAPI=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.update=function(t){this._o=t},e}(s.RevampRemodelSlotModel)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=function(t){function e(e){var i=t.call(this)||this;return i._url="api_req_kousyou/remodel_slotlist",i._revampSlotlistModel=e,i}return n(e,t),e.prototype._connect=function(){t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._revampSlotlistModel.SetAll(this._raw_data),t.prototype._completedEnd.call(this)},e}(o.APIBase);e.RevampSlotlistAPI=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._url="api_req_kousyou/remodel_slotlist_detail",r._id=e,r._slot_id=i,r._revampSlotlistModel=n,r._boxno=o,r._post_data.api_id=r._id,r._post_data.api_slot_id=r._slot_id,r}return n(e,t),e.prototype._connect=function(){t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._revampSlotlistModel.SetDetail(this._raw_data,this._boxno),t.prototype._completedEnd.call(this)},e}(o.APIBase);e.RevampSlotListDetailAPI=r},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(1216)),n(i(1217)),n(i(427)),n(i(426)),n(i(1218)),n(i(1219)),n(i(429)),n(i(430)),n(i(428)),n(i(431)),n(i(432))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(PIXI.Container);e.ViewMainBase=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(423),r=i(5),s=i(0),a=i(426),_=i(427),l=i(429),u=i(430),c=i(431),h=i(1),p=function(t){function e(){var e=t.call(this)||this;return e._isDEBUG=!1,e._revampRecipeBox=new Array(3),e._ship1st=s.default.model.deck.get(1).getShipModel(0).mstID,e}return n(e,t),Object.defineProperty(e.prototype,"revamp2ndShip",{get:function(){return this._revamp2ndShip},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"revampakashi",{get:function(){return this._revampAkashi},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"revampRecipeBox",{get:function(){return this._revampRecipeBox},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"revampParticleLayer",{get:function(){return this._revampParticleLayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"revampRingParticleLayer",{get:function(){return this._revampRingParticleLayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"revampParticleOverLayer",{get:function(){return this._revampParticleOverLayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"revampBaloon",{get:function(){return this._revampBaloon},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"debugBtn",{get:function(){return this._debugBtn},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pushAnyScreen",{get:function(){return this._pushAnyScreen},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fadeMask",{get:function(){return this._fadeMask},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"revampItemChange",{get:function(){return this._revampItemChange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sceneChangeGuard",{get:function(){return this._sceneChangeGuard},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._revamp2ndShip=new PIXI.Sprite,this._revamp2ndShip.position.set(0,0),this.addChild(this._revamp2ndShip),this._revampAkashi=new l.RevampAkashi(this._ship1st),this._revampAkashi.activate(),this.addChild(this._revampAkashi),this._tit2_bg=new PIXI.Sprite(o.REVAMP_REVAMP.getTexture(26)),this._tit2_bg.position.set(0,102),this._blue_txt_30=new PIXI.Sprite(o.REVAMP_REVAMP.getTexture(9)),this._blue_txt_30.position.set(186,112),this.addChild(this._tit2_bg),this.addChild(this._blue_txt_30),this._debugBtn=new d,this._debugBtn.visible=!1,this._isDEBUG&&(this._debugBtn.visible=!0,this._debugBtn.initialize(7,7),this._debugBtn.scale.set(2,2),this._debugBtn.position.set(417,300),this.addChild(this._debugBtn)),this._revampBaloon=new _.RevampBalloon,this._revampBaloon.position.set(855,207),this.addChild(this._revampBaloon),this._revampParticleLayer=new u.RevampParticleLayer(-1),this._revampParticleLayer.position.set(0,0),this.addChild(this._revampParticleLayer),this._revampParticleOverLayer=new u.RevampParticleLayer(0),this._revampParticleOverLayer.position.set(0,0);for(var t=0;t<3;t++)this._revampRecipeBox[t]=new a.RevampRecipeBox,this._revampRecipeBox[t].position.set(168,180*t+159),this.addChild(this._revampRecipeBox[t]);this._pushAnyScreen=new d,this._pushAnyScreen.initialize(2,2),this._pushAnyScreen.width=1200,this._pushAnyScreen.height=720,this._pushAnyScreen.interactive=this._pushAnyScreen.buttonMode=!1,this.addChild(this._pushAnyScreen),this._fadeMask=new PIXI.Graphics,this._fadeMask.beginFill(0),this._fadeMask.drawRect(0,0,r.default.width,r.default.height),this.addChild(this._fadeMask),this._revampItemChange=new c.RevampItemChange,this._revampItemChange.position.set(0,0),this._sceneChangeGuard=new PIXI.Graphics,this._sceneChangeGuard.beginFill(0),this._sceneChangeGuard.drawRect(0,0,1200,139),this._sceneChangeGuard.drawRect(0,0,162,720),this._sceneChangeGuard.alpha=.001,this._sceneChangeGuard.interactive=!1,s.default.view.overLayer.addChild(this._sceneChangeGuard)},e.prototype.dispose=function(){this._ship1st=null,this._revamp2ndShip=null,this._revampAkashi.dispose(),this._revampAkashi=null;for(var t=0;t<3;t++)this._revampRecipeBox[t].dispose();this._revampRecipeBox=null,this._revampBaloon.dispose(),this._revampBaloon=null,this._revampParticleLayer.dispose(),this._revampParticleLayer=null,this._revampParticleOverLayer.dispose(),this._revampParticleOverLayer=null,this._tit2_bg=null,this._blue_txt_30=null,this._pushAnyScreen=null,this.removeChildren()},e}(PIXI.Container);e.ViewTop=p;var d=function(t){function e(){var e=t.call(this)||this;return e._onMouseOver=function(){e._setTexture(e._texture_no_on)},e._onMouseOut=function(){e._setTexture(e._texture_no)},e}return n(e,t),e.prototype.initialize=function(t,e){this._texture_no=t,this._texture_no_on=e,this._setTexture(this._texture_no),null!=this._texture_no_on&&(this.interactive=this.buttonMode=!0,this.on(h.EventType.MOUSEOVER,this._onMouseOver),this.on(h.EventType.MOUSEOUT,this._onMouseOut))},e.prototype.dispose=function(){this.interactive=this.buttonMode=!1,this.off(h.EventType.MOUSEOVER,this._onMouseOver),this.off(h.EventType.MOUSEOUT,this._onMouseOut)},e.prototype._setTexture=function(t){this.texture=o.REVAMP_LIST.getTexture(t)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(134),s=i(243),a=i(424),_=i(1),l=i(15),u=i(87),c=function(t){function e(){var e=t.call(this)||this;e._type_icon=new Array(10),e._focus_txt=new Array(10),e._text_slotName=new Array(10),e._skill_lv=new Array(10),e._namePopUp=new Array(10),e._icon_star=new Array(10),e._icon_plus=new Array(10),e._text_level=new Array(10),e._icon_starM=new Array(10),e._containerName=new Array(10),e._removeSlotItemBtn=new Array(10),e._btn_list_goFigureStr=new Array(5),e._btn_list_goFigure=new Array(5),e._lock_on=new Array(10),e._black_bg=new Array(2),e._list_kosho_mask=new Array(10),e._isListAnime=!1,e._isBtnAnime=!1,e._black_bg[0]=new h,e._black_bg[0].initialize(1,1),e._black_bg[0].width=1275,e._black_bg[0].height=720,e._black_bg[0].alpha=.2,e._black_bg[0].position.set(-1248,-102),e._black_bg[0].visible=!1,e._black_bg[0].interactive=!1,e.addChild(e._black_bg[0]),e._list_bg=new PIXI.Sprite(s.REVAMP_LIST.getTexture(13)),e._list_bg.position.set(-6,36),e.addChild(e._list_bg),e._list_item=new PIXI.Sprite(s.REVAMP_LIST.getTexture(14)),e._list_item.position.set(49,48),e.addChild(e._list_item),e._tit2_bg=new PIXI.Sprite(s.REVAMP_LIST.getTexture(24)),e._tit2_bg.position.set(0,0),e.addChild(e._tit2_bg),e._blue_txt_04=new PIXI.Sprite(s.REVAMP_LIST.getTexture(3)),e._blue_txt_04.position.set(40,10),e.addChild(e._blue_txt_04);for(var i=0;i<10;i++){e._type_icon[i]=new PIXI.Sprite,e._type_icon[i].visible=!1,e._type_icon[i].texture=r.COMMON_ICON_WEAPON.getTextureFromMstID(1+i),e._type_icon[i].position.set(33,45*i+105),e._type_icon[i].anchor.set(.5,.5),e.addChild(e._type_icon[i]),e._containerName[i]=new PIXI.Container,e._containerName[i].position.set(64,92+45*i),e._text_slotName[i]=new o.TextBox(21,4999235),e._list_kosho_mask[i]=new PIXI.Sprite,e._list_kosho_mask[i].texture=s.REVAMP_LIST.getTexture(15),e._list_kosho_mask[i].visible=!1,e._list_kosho_mask[i].position.set(57,84+45*i),e._list_kosho_mask[i].width=487,e.addChild(e._list_kosho_mask[i]),e._focus_txt[i]=new h(e._text_slotName[i],e._containerName[i]),e._focus_txt[i].initialize(2,9),e._focus_txt[i].width=487,e._focus_txt[i].height=43,e._focus_txt[i].position.set(57,84+45*i),e.addChild(e._focus_txt[i]),e._text_slotName[i].visible=!1,e._text_slotName[i].text="";var n=l.CreateRect.gradientLeftToRight(254,45,.9,.97);e._text_slotName[i].mask=n,e._containerName[i].addChild(e._text_slotName[i],n),e.addChild(e._containerName[i])}for(var i=0;i<10;i++)e._skill_lv[i]=new PIXI.Sprite,e._skill_lv[i].visible=!1,e._skill_lv[i].position.set(277,84+45*i),e.addChild(e._skill_lv[i]),e._icon_star[i]=new PIXI.Sprite(s.REVAMP_LIST.getTexture(11)),e._icon_star[i].visible=!1,e._icon_star[i].position.set(315,96+45*i),e.addChild(e._icon_star[i]),e._icon_plus[i]=new PIXI.Sprite(s.REVAMP_LIST.getTexture(10)),e._icon_plus[i].visible=!1,e._icon_plus[i].position.set(333,99+45*i),e.addChild(e._icon_plus[i]),e._icon_starM[i]=new PIXI.Sprite(s.REVAMP_LIST.getTexture(12)),e._icon_starM[i].visible=!1,e._icon_starM[i].position.set(327,90+45*i),e.addChild(e._icon_starM[i]),e._text_level[i]=new o.TextBox(17,4565413),e._text_level[i].visible=!1,e._text_level[i].position.set(348,95+45*i),e._text_level[i].text=i+"",e.addChild(e._text_level[i]),e._lock_on[i]=new PIXI.Sprite(s.REVAMP_LIST.getTexture(16)),e._lock_on[i].visible=!1,e._lock_on[i].position.set(358,81+45*i),e.addChild(e._lock_on[i]),e._namePopUp[i]=new p,e._namePopUp[i].position.set(297,90+45*i),e._namePopUp[i].visible=!1,e.addChild(e._namePopUp[i]),e._removeSlotItemBtn[i]=new h,e._removeSlotItemBtn[i].initialize(6,6),e._removeSlotItemBtn[i].position.set(8,45*i+86),e.addChild(e._removeSlotItemBtn[i]);e._btn_prev=new h,e._btn_prev.initialize(1,1,!0),e._btn_prev.position.set(46,559),e.addChild(e._btn_prev),e._btn_next=new h,e._btn_next.initialize(0,0,!0),e._btn_next.position.set(319,559),e.addChild(e._btn_next);for(var i=0;i<5;i++)e._btn_list_goFigureStr[i]=new o.TextBox(26,4999235),e._btn_list_goFigureStr[i].position.set(111+42*i,553),e._btn_list_goFigureStr[i].text=i+1+"",e._btn_list_goFigureStr[i].anchor.set(.5,0),e._btn_list_goFigureStr[i].style.letterSpacing=-1,e._btn_list_goFigure[i]=new h,e._btn_list_goFigure[i].position.set(111+42*i,553),e._btn_list_goFigure[i].initialize(2,2),e._btn_list_goFigure[i].anchor.set(.5,0),e._btn_list_goFigure[i].width=42,e._btn_list_goFigure[i].height=36,e.addChild(e._btn_list_goFigure[i]),e.addChild(e._btn_list_goFigureStr[i]);return e._black_bg[1]=new h,e._black_bg[1].initialize(1,1),e._black_bg[1].width=1800,e._black_bg[1].height=720,e._black_bg[1].alpha=.3,e._black_bg[1].position.set(-1248,-102),e._black_bg[1].visible=!1,e._black_bg[1].interactive=!1,e.addChild(e._black_bg[1]),e._btn_special_repair=new h,e._btn_special_repair.initialize(7,8),e._btn_special_repair.position.set(447,540),e.addChild(e._btn_special_repair),e._btn_back=new h,e._btn_back.initialize(4,5),e._btn_back.position.set(588,550),e.addChild(e._btn_back),e}return n(e,t),Object.defineProperty(e.prototype,"isListAnime",{get:function(){return this._isListAnime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBtnAnime",{get:function(){return this._isBtnAnime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type_icon",{get:function(){return this._type_icon},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focus_txt",{get:function(){return this._focus_txt},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text_slotName",{get:function(){return this._text_slotName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skill_lv",{get:function(){return this._skill_lv},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"namePopUp",{get:function(){return this._namePopUp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"containerName",{get:function(){return this._containerName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"removeSlotItemBtn",{get:function(){return this._removeSlotItemBtn},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon_star",{get:function(){return this._icon_star},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon_plus",{get:function(){return this._icon_plus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text_level",{get:function(){return this._text_level},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon_starM",{get:function(){return this._icon_starM},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_prev",{get:function(){return this._btn_prev},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_next",{get:function(){return this._btn_next},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_list_goFigureStr",{get:function(){return this._btn_list_goFigureStr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_list_goFigure",{get:function(){return this._btn_list_goFigure},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lock_on",{get:function(){return this._lock_on},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"black_bg",{get:function(){return this._black_bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_special_repair",{get:function(){return this._btn_special_repair},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_back",{get:function(){return this._btn_back},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"list_kosho_mask",{get:function(){return this._list_kosho_mask},enumerable:!0,configurable:!0}),e.prototype.setStars=function(t,e){0==e?(this._icon_star[t].visible=!1,this._icon_plus[t].visible=!1,this._text_level[t].visible=!1,this._text_level[t].text="",this._icon_starM[t].visible=!1):e<10?(this._icon_star[t].visible=!0,this._icon_plus[t].visible=!0,this._text_level[t].visible=!0,this._text_level[t].text=e+"",this._icon_starM[t].visible=!1):(this._icon_star[t].visible=!1,this._icon_plus[t].visible=!1,this._text_level[t].visible=!1,this._text_level[t].text="",this._icon_starM[t].visible=!0)},e.prototype.initialize=function(){},e.prototype.dispose=function(){this.removeChildren(),this._type_icon=null,this._focus_txt=null,this._text_slotName.forEach(function(t){t.destroy()}),this._text_slotName=null,this._containerName=null,this._skill_lv=null,this._icon_star=null,this._icon_plus=null,this._text_level.forEach(function(t){t.destroy()}),this._text_level=null,this._icon_starM=null,this._btn_list_goFigureStr.forEach(function(t){t.destroy()}),this._btn_list_goFigureStr=null,this._btn_list_goFigure=null,this._lock_on=null,this._black_bg=null},e.prototype._appearList=function(t){var e=this;this._isListAnime||(this._isListAnime=!0,t?(this._black_bg[0].visible=!0,this._black_bg[0].interactive=!0,this._tween=createjs.Tween.get(this).to({x:798},200).call(function(){e._tween=null,e._isListAnime=!1})):(this._black_bg[1].visible=!0,this._black_bg[1].interactive=!0,this._tween=createjs.Tween.get(this).to({x:1219},200).call(function(){e._black_bg[1].visible=!1,e._black_bg[1].interactive=!1,e._black_bg[0].visible=!1,e._black_bg[0].interactive=!1,e._tween=null,e._isListAnime=!1})))},e.prototype._appearBtn=function(t){var e=this;this._isBtnAnime||(this._isBtnAnime=!0,t?(this._black_bg[1].visible=!0,this._black_bg[1].interactive=!0,this._tween=createjs.Tween.get(this._btn_special_repair).to({x:87},200).call(function(){e._tween=null,e._isBtnAnime=!1}),this._tween2=createjs.Tween.get(this._btn_back).to({x:228},200).call(function(){e._tween2=null,e._isBtnAnime=!1})):(this._tween=createjs.Tween.get(this._btn_special_repair).to({x:447},200).call(function(){e._tween=null,e._isBtnAnime=!1}),this._tween2=createjs.Tween.get(this._btn_back).to({x:588},200).call(function(){e._tween2=null,e._isBtnAnime=!1,e._appearList(!1)})))},e}(PIXI.Container);e.ViewSlotitemList=c;var h=(function(t){function e(){var e=t.call(this)||this;return e.alpha=0,e}n(e,t),e.prototype.initialize=function(){},e.prototype.startAnim=function(){this._anim()},e.prototype.stopAnim=function(){null!=this._tween&&(this._tween.setPaused(!0),this._tween=null)},e.prototype._anim=function(){var t=this;this._tween=createjs.Tween.get(this).to({alpha:1},150).to({alpha:0},150).call(function(){t._tween=null})}}(PIXI.Sprite),function(t){function e(e,i,n,o){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null),void 0===o&&(o=null);var r=t.call(this)||this;return r._onMouseOver=function(){r._setTexture(r._texture_no_on,r._isPager),r.textColorChangeEnabled&&(null!=r._tbj&&(null!=r._containerName&&(r._containerName.cacheAsBitmap=!1),r._tbj.style.fill=16777215,null!=r._containerName&&(r._containerName.cacheAsBitmap=!0)),null!=r._tbjShip&&(null!=r._containerShipName&&(r._containerShipName.cacheAsBitmap=!1),r._tbjShip.style.fill=16777215,null!=r._containerShipName&&(r._containerShipName.cacheAsBitmap=!0)))},r._onMouseOut=function(){r._setTexture(r._texture_no,r._isPager),r.textColorChangeEnabled&&(null!=r._tbj&&(null!=r._containerName&&(r._containerName.cacheAsBitmap=!1),r._tbj.style.fill=4999235,null!=r._containerName&&(r._containerName.cacheAsBitmap=!0)),null!=r._tbjShip&&(null!=r._containerShipName&&(r._containerShipName.cacheAsBitmap=!1),r._tbjShip.style.fill=4999235,null!=r._containerShipName&&(r._containerShipName.cacheAsBitmap=!0)))},r._tbj=e,r._containerName=i,r._tbjShip=n,r._containerShipName=o,r.textColorChangeEnabled=!0,r}return n(e,t),e.prototype.initialize=function(t,e,i){void 0===i&&(i=!1),this._texture_no=t,this._texture_no_on=e,this._isPager=i,this._setTexture(this._texture_no,this._isPager),null!=this._texture_no_on&&(this.interactive=this.buttonMode=!0,this.on(_.EventType.MOUSEOVER,this._onMouseOver),this.on(_.EventType.MOUSEOUT,this._onMouseOut))},e.prototype.dispose=function(){this.interactive=this.buttonMode=!1,this.off(_.EventType.MOUSEOVER,this._onMouseOver),this.off(_.EventType.MOUSEOUT,this._onMouseOut)},e.prototype._setTexture=function(t,e){this.texture=e?a.REVAMP_PAGER.getTexture(t):s.REVAMP_LIST.getTexture(t)},e}(PIXI.Sprite)),p=function(t){function e(){var e=t.call(this)||this;return e.TEXT_OFFSET_X=3,e.TEXT_OFFSET_Y=2,e.textName=new o.TextBox(21,16777215),e.textLv=new o.TextBox(18,16774898),e.containerName=new PIXI.Container,e.textName.position.set(e.TEXT_OFFSET_X-236,e.TEXT_OFFSET_Y),e.textMask=l.CreateRect.gradientLeftToRight(360,31,.2,.3),e.textMask.position.set(e.TEXT_OFFSET_X-236,e.TEXT_OFFSET_Y),e.textName.mask=e.textMask,e.containerName.addChild(e.textName,e.textMask),e.textLv.anchor.x=1,e.textLv.position.set(e.TEXT_OFFSET_X-18-48,e.TEXT_OFFSET_Y+4),e.shipFlag=new u.ShipInDeckFlag,e.shipFlag.position.set(e.TEXT_OFFSET_X-16-48,e.TEXT_OFFSET_Y+2),e.shipFlag.scale.set(.75,.75),e.addChild(e.containerName,e.textLv,e.shipFlag),e}return n(e,t),e.prototype.dispose=function(){this.containerName.cacheAsBitmap=!1,this.removeChildren(),this.textName.destroy(),this.textName=null},e.prototype.update=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),""!=t&&(this.containerName.cacheAsBitmap=!1),this.textName.text=t,this.textName.anchor.x=0,this.textLv.text="(Lv:"+e+")",this.shipFlag.update(null==i?[-1,-1]:i),""!=t&&(this.containerName.cacheAsBitmap=!0)},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(423),r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e._onMouseOver=function(){e.texture=o.REVAMP_BOX.getTexture(9)},e._onMouseOut=function(){e.texture=o.REVAMP_BOX.getTexture(9)},e._onClick=function(){e.emit("dicision")},e.interactive=!0,e}return n(e,t),e.prototype.initialize=function(){this.texture=o.REVAMP_BOX.getTexture(9)},e.prototype.activate=function(){0==this.buttonMode&&(this.buttonMode=!0,this.on(r.EventType.MOUSEOVER,this._onMouseOver),this.on(r.EventType.MOUSEOUT,this._onMouseOut),this.on(r.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(r.EventType.MOUSEOVER,this._onMouseOver),this.off(r.EventType.MOUSEOUT,this._onMouseOut),this.off(r.EventType.CLICK,this._onClick)},e.prototype._setTextture=function(t){this.texture=t},e}(PIXI.Sprite);e.BtnDicision=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(47),s=i(1221),a=i(1222),_=i(1224),l=i(1225),u=i(1237),c=function(t){function e(e,i){var n=t.call(this)||this;return n._startBattleResult=function(){n._result.initialize(),n.addChild(n._result),n._result.shutter.close(),n._result.once("complete",n._endBattleResult);var t=n._taskMain.model;n._result.start(t)},n._endBattleResult=function(){o.default.scene.change(0)},n._battle=e,n._result=i,n._view=new u.ViewMain,n._battle.alpha=0,n.addChild(n._view),n.addChild(n._battle),n}return n(e,t),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"battle",{get:function(){return this._battle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e.prototype.start=function(){var t=this;this._taskMain.start(function(){t._startBattle()})},e.prototype._startBattle=function(){this._battle.once("complete",this._startBattleResult),this._battle.start()},e.prototype.getPreInitializeTask=function(t,e){return this._model=e,this._taskMain=new l.TaskMain(this,this._model),new a.TaskInitPre(this)},e.prototype.getInitializeTask=function(t){return new _.TaskInit(this)},e.prototype.getFinalizeTask=function(){var t=this;return new s.TaskFinalize(function(){t.removeChild(t._battle),t._battle.dispose(),t.removeChild(t._result),t._result.dispose()})},e}(r.SceneBase);e.PracticeScene=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(14),s=function(t){function e(e){var i=t.call(this)||this;return i._callback=e,i}return n(e,t),e.prototype._start=function(){this._callback&&this._callback(),this._endTask()},e.prototype._endTask=function(){this._callback=null,r.UIImageLoader.clearMemoryCache("prac"),t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskFinalize=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(1223),s=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){var t=this;(new r.TaskLoadResourcesPractice).start(function(){t._initView()})},e.prototype._initView=function(){var t=this;this._scene.view.bg.setDay(function(){t._scene.view.initialize(),t._endTask()})},e.prototype._endTask=function(){this._scene=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskInitPre=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(14),s=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype._start=function(){var t=this,e=new r.UIImageLoader("prac");e.add("prac_main.json"),e.load(function(){t._endTask()})},e}(o.TaskBase);e.TaskLoadResourcesPractice=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){this._scene.start(),this._endTask()},e.prototype._endTask=function(){this._scene=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskInit=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(244),s=i(433),a=i(1228),_=i(1231),l=function(t){function e(e,i){var n=t.call(this)||this;return n._scene=e,n._option=i,n}return n(e,t),Object.defineProperty(e.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),e.prototype._start=function(){var t=this;this._model=new r.BattleSceneModel(!0),this._model.updateDeckData(this._option.deck_f,this._option.deck_e),this._scene.battle.initialize(this._model),this._scene.view.shutter.once("closed",function(){t._formationSelect()}),this._scene.view.shutter.close(400)},e.prototype._formationSelect=function(){var t=this,e=new a.TaskFormationSelect(this._scene,this._option.deck_f);e.start(function(){t._option.deck_f.formation=e.selected_formation,t._insert()})},e.prototype._insert=function(){var t=this;this._scene.battle.bg.setDay(function(){createjs.Tween.get(t._scene.view).to({alpha:0},300),t._scene.battle.shutter2.open(0),createjs.Tween.get(t._scene.battle).to({alpha:1},300),new s.SallyAnimationTask(t._scene).start(function(){t._cutin()})})},e.prototype._cutin=function(){var t=this,e=this._option.deck_f.ships,i=this._option.deck_f.medal_num,n=this._option.deck_e.ships,o=this._option.deck_e.medal_num,r=new _.StartAnimationTask(this._scene,e,i,n,o);r.preload(function(){r.start(function(){t._endTask()})})},e.prototype._endTask=function(){this._scene=null,this._option=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskMain=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1227),o=function(){function t(){this._dic={}}return t.prototype.add=function(t){null!=t&&(this._dic[t.mem_id]=new n.ShipInstantModel(t))},t.prototype.addList=function(t){if(null!=t)for(var e=0,i=t;e<i.length;e++){var n=i[e];this.add(n)}},t.prototype.get=function(t){return 1==this._dic.hasOwnProperty(t.toString())?this._dic[t]:null},t.prototype.getTotalHP=function(){var t=0;for(var e in this._dic){t+=this._dic[e].hp}return t},t}();e.DeckInstantModel=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this._hp=t.hp_now,this._slotitem=[];var e=t.slots;if(null!=e)for(var i=0,n=e;i<n.length;i++){var o=n[i];null!=o&&this._slotitem.push({mst:o.mst_id,mem:o.mem_id})}null!=t.slot_ex&&(this._slotitem_ex={mst:t.slot_ex.mst_id,mem:t.slot_ex.mem_id})}return Object.defineProperty(t.prototype,"hp",{get:function(){return this._hp},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slotitem",{get:function(){return this._slotitem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slotitem_ex",{get:function(){return this._slotitem_ex},enumerable:!0,configurable:!0}),t}();e.ShipInstantModel=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(13),a=i(434),_=i(436),l=function(t){function e(e,i){var n=t.call(this)||this;return n._selected_formation=1,n._onSelectFormation=function(t){n._selected_formation=t,n._view.boxes.deactivate(),n._view.message_box.text="",createjs.Tween.get(n._view.message_box).to({alpha:0},300),createjs.Tween.get(n._view.chara).to({alpha:0},300),createjs.Tween.get(n._view.boxes).to({alpha:0},300).call(function(){n._preEnd()})},n._parent=e,n._deck=i,n}return n(e,t),Object.defineProperty(e.prototype,"selected_formation",{get:function(){return this._selected_formation},enumerable:!0,configurable:!0}),e.prototype._start=function(){this._view=new u,this._parent.addChild(this._view),this._readyForFormationBox()},e.prototype._readyForFormationBox=function(){var t=this._deck.getCount();this._view.boxes.initialize(t,this._onSelectFormation,6),this._view.boxes.alpha=0,this._view.boxes.count<=1?this._preEnd():this._readyForFlagship()},e.prototype._readyForFlagship=function(){var t=this,e=this._deck.ships[0],i=e.mst_id,n=e.isDamaged(),r=o.default.model.ship_graph.get(i).getMapOffset(n);this._view.chara.position.set(-80+r.x,-93+r.y),this._view.chara.alpha=0,(new s.ShipLoader).add(i,n,"full").load(function(){t._view.chara.texture=o.default.resources.getShip(i,n,"full"),t._showMessageBox()})},e.prototype._showMessageBox=function(){var t=this;this._view.message_box.initialize(),this._view.message_box.activate(function(){t._showFlagShip()})},e.prototype._showFlagShip=function(){var t=this,e=this._view.chara.x;this._view.chara.x+=75,createjs.Tween.get(this._view.chara).to({alpha:1,x:e},300),createjs.Tween.get(this._view.boxes).to({alpha:1},300).call(function(){t._view.boxes.activate(),t._view.message_box.text="\u9663\u5f62\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"})},e.prototype._preEnd=function(){this._parent.removeChild(this._view),this._view.dispose(),this._view=null,this._parent=null,this._deck=null,this._endTask()},e}(r.TaskBase);e.TaskFormationSelect=l;var u=function(t){function e(){var e=t.call(this)||this;return e._chara=new PIXI.Sprite,e._boxes=new _.FormationBoxContainer,e._message_box=new a.CompMessageBox,e.addChild(e._chara),e.addChild(e._boxes),e.addChild(e._message_box),e}return n(e,t),Object.defineProperty(e.prototype,"chara",{get:function(){return this._chara},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boxes",{get:function(){return this._boxes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message_box",{get:function(){return this._message_box},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.removeChildren(),this._boxes.dispose(),this._message_box.dispose()},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(138),r=function(t){function e(){var e=t.call(this)||this;return e._interval_id=0,e._bg=new PIXI.Sprite,e._bg.anchor.set(.5,.5),e._hand=new PIXI.Sprite,e._hand.anchor.set(.5,.5),e._light=new PIXI.Sprite,e._light.anchor.set(.5,.5),e.addChild(e._bg),e.addChild(e._hand),e.addChild(e._light),e}return n(e,t),e.prototype.initialize=function(){this._bg.texture=o.SALLY_MAP_PARTS.getTexture(15),this._hand.texture=o.SALLY_MAP_PARTS.getTexture(17),this._light.texture=o.SALLY_MAP_PARTS.getTexture(16)},e.prototype.activate=function(){this._startMove()},e.prototype.deactivate=function(){this._stopMove()},e.prototype.dispose=function(){this._stopMove()},e.prototype._startMove=function(){var t=this;0==this._interval_id&&(this._interval_id=setInterval(function(){t._hand.rotation=(4*Math.random()-2)/180*Math.PI},30))},e.prototype._stopMove=function(){0!=this._interval_id&&clearInterval(this._interval_id),this._interval_id=0},e}(PIXI.Container);e.CompCompass=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(125),r=i(176),s=i(437),a=i(1),_=function(t){function e(e){var i=t.call(this)||this;return i._enabled=!1,i._bg=new PIXI.Sprite,i._points=new s.FormationPoints(e),i._btn=new l,i._btn.position.set(15,161),i._points.position.set(90,84),i._points.scale.set(.6),i._points.rotation=Math.PI/2,i.addChild(i._bg),i.addChild(i._points),i.addChild(i._btn),i}return n(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e,i,n){3==t&&e<5?(this._enabled=!1,this.visible=!1):e<4?(this._enabled=!1,this.visible=!1):(this._enabled=!0,this._bg.texture=r.SALLY_JIN.getTexture(33),this._points.initialize(t,e,n),this._points.show(0),this._btn.initialize(t,i))},e.prototype.activate=function(){1==this._enabled&&this._btn.activate()},e.prototype.deactivate=function(){this._btn.deactivate()},e.prototype.dispose=function(){this._btn.dispose()},e}(PIXI.Container);e.FormationBox=_;var l=function(t){function e(){var e=t.call(this)||this;return e._onMouseOver=function(){e._update(!0)},e._onMouseOut=function(){e._update(!1)},e._onClick=function(){null!=e._cb&&e._cb(e._type)},e.interactive=!0,e}return n(e,t),e.prototype.initialize=function(t,e){this._type=t,this._cb=e,1==t?(this._texture_no=6,this._texture_no_on=7):2==t?(this._texture_no=0,this._texture_no_on=1):3==t?(this._texture_no=4,this._texture_no_on=5):4==t?(this._texture_no=10,this._texture_no_on=11):5==t?(this._texture_no=8,this._texture_no_on=9):6==t&&(this._texture_no=2,this._texture_no_on=3),this._update(!1)},e.prototype.activate=function(){if(1!=this.buttonMode){this.buttonMode=!0,this.on(a.EventType.MOUSEOVER,this._onMouseOver),this.on(a.EventType.MOUSEOUT,this._onMouseOut),this.on(a.EventType.CLICK,this._onClick);var t=o.InteractiveUtil.isOnMouse(this);this._update(t)}},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(a.EventType.MOUSEOVER,this._onMouseOver),this.off(a.EventType.MOUSEOUT,this._onMouseOut),this.off(a.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){1==this.buttonMode&&this.deactivate(),this._cb=null},e.prototype._update=function(t){this.texture=0==t?r.SALLY_JIN.getTexture(this._texture_no):r.SALLY_JIN.getTexture(this._texture_no_on)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(2),a=i(27),_=i(20),l=i(13),u=i(139),c=i(1232),h=function(t){function e(e,i,n,o,r){var s=t.call(this)||this;return s._layer=e,s._ships_f=i,s._medal_num_f=n,s._ships_e=o,s._medal_num_e=r,s}return n(e,t),e.prototype.preload=function(t){var e=new l.ShipLoader,i=this._ships_f[0];e.add(i.mst_id,i.isDamaged(),"full");var n=this._ships_e[0];e.add(n.mst_id,n.isDamaged(),"full"),e.load(function(){null!=t&&t()})},e.prototype._start=function(){var t=this;this._view=new c.PracticeAnimMainView,this._view.initialize(this._ships_f,this._medal_num_f,this._ships_e,this._medal_num_e),r.default.view.addChild(this._view);var e=new _.TweenTask;e.addTween(createjs.Tween.get(this._view.upper).to({alpha:1},200)),e.addTween(createjs.Tween.get(this._view.enemy.content).wait(200).to({x:0,alpha:1},200)),e.addTween(createjs.Tween.get(this._view.friend.content).wait(200).to({x:0,alpha:1},200)),e.start(function(){t._animation2()})},e.prototype._animation2=function(){var t=this,e=new a.ParallelTask;e.add(this._view.friend.getAnimationTask()),e.add(this._view.enemy.getAnimationTask()),e.start(function(){t._animation3()})},e.prototype._animation3=function(){var t=this,e=u.PRAC_MAIN.getTexture(5);this._line_g=new PIXI.extras.TilingSprite(e,825,45),this._line_g.rotation=109/180*Math.PI,this._line_g.position.set(o.default.width/2-128+38,o.default.height),this._view.friend.addChild(this._line_g),e=u.PRAC_MAIN.getTexture(6),this._line_r=new PIXI.extras.TilingSprite(e,825,45),this._line_r.rotation=-71/180*Math.PI,this._line_r.position.set(90,0),this._view.enemy.addChild(this._line_r);var i=new _.TweenTask;i.addTween(createjs.Tween.get(this._line_g).to({x:o.default.width/2+128,y:0},200)),i.addTween(createjs.Tween.get(this._line_r).to({x:-128,y:o.default.height},200)),i.start(function(){t._animation4()})},e.prototype._animation4=function(){var t=this;this._view.friend.circle.visible=!0,this._view.enemy.circle.visible=!0;var e=new _.TweenTask;e.addTweens([createjs.Tween.get(this._view.friend.circle.scale).to({x:1,y:1},600),createjs.Tween.get(this._view.friend.circle).to({rotation:4*Math.PI},600),createjs.Tween.get(this._view.enemy.circle.scale).to({x:1,y:1},600),createjs.Tween.get(this._view.enemy.circle).to({rotation:4*Math.PI},600)]),e.start(function(){t._animation5()})},e.prototype._animation5=function(){var t=this,e=new _.TweenTask;e.addTweens([createjs.Tween.get(this._line_g).wait(400).to({x:773},500),createjs.Tween.get(this._line_r).wait(400).to({x:-173},500),createjs.Tween.get(this._view.friend.content).wait(400).to({x:45},100).to({x:-375,alpha:0},400),createjs.Tween.get(this._view.enemy.content).wait(400).to({x:-45},100).to({x:375,alpha:0},400),createjs.Tween.get(this._view.upper).wait(500).to({y:-54,alpha:0},400)]),e.start(function(){r.default.view.removeChild(t._view),t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._ships_f=null,this._ships_e=null,this._view.dispose(),this._view=null,t.prototype._endTask.call(this)},e}(s.TaskBase);e.StartAnimationTask=h},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(1233),s=i(1236),a=function(t){function e(){var e=t.call(this)||this;return e._enemy=new r.Panel(!1),e._enemy.position.set(o.default.width/2,0),e.addChild(e._enemy),e._friend=new r.Panel(!0),e.addChild(e._friend),e._upper=new s.PracticeTitleBar,e._upper.position.set(38,56),e._upper.alpha=0,e.addChild(e._upper),e}return n(e,t),Object.defineProperty(e.prototype,"enemy",{get:function(){return this._enemy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"friend",{get:function(){return this._friend},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"upper",{get:function(){return this._upper},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e,i,n){this._friend.initialize(t,e),this._enemy.initialize(i,n),this._upper.initialize("\u6f14\u7fd2")},e.prototype.dispose=function(){this.removeChildren(),this._enemy.dispose(),this._friend.dispose(),this._upper.dispose()},e}(PIXI.Container);e.PracticeAnimMainView=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(20),s=i(139),a=i(1234),_=function(t){function e(e){var i=t.call(this)||this;i._friend=e,i._circle=new PIXI.Sprite,i._circle.anchor.set(.5,.5),i._circle.scale.set(.1),i._circle.visible=!1,i._content=new a.Content(e),i._content.alpha=0,i.addChild(i._circle),i.addChild(i._content);var n=new PIXI.Graphics;return n.beginFill(65280,.5),i._drawGraphics(n),n.endFill(),i.addChild(n),i.mask=n,i._friend?(i.circle.position.set(255,311),i.content.position.set(-150,0)):(i.circle.position.set(345,311),i.content.position.set(150,0)),i}return n(e,t),Object.defineProperty(e.prototype,"circle",{get:function(){return this._circle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e){this._friend?this._circle.texture=s.PRAC_MAIN.getTexture(3):this._circle.texture=s.PRAC_MAIN.getTexture(4),this._content.initialize(t,e)},e.prototype.dispose=function(){this.removeChildren(),this._content.dispose()},e.prototype.getAnimationTask=function(){var t=new r.TweenTask;t.addTween(createjs.Tween.get(this._content.medal).to({alpha:1},100));for(var e=this._content.elements,i=this._friend?0:173,n=0;n<e.length;n++){var o=e[n];0!=o.visible&&t.addTween(createjs.Tween.get(o).wait(300+100*n).to({x:i,alpha:1},200,createjs.Ease.sineIn))}return t},e.prototype._drawGraphics=function(t){this._friend?(t.moveTo(0,0),t.lineTo(0,o.default.height),t.lineTo(o.default.width/2-128,o.default.height),t.lineTo(o.default.width/2+128,0)):(t.moveTo(128,0),t.lineTo(o.default.width/2,0),t.lineTo(o.default.width/2,o.default.height),t.lineTo(-128,o.default.height))},e}(PIXI.Container);e.Panel=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(170),s=i(4),a=i(139),_=i(1235),l=function(t){function e(e){var i=t.call(this)||this;i._friend=e,i._chara=new PIXI.Sprite,i.addChild(i._chara),i._bg=new PIXI.Sprite,i._bg.x=e?0:95,i._bg.y=368,i.addChild(i._bg),i._stype_txt=new s.TextBox(21,16774898);var n=new PIXI.Graphics;return n.beginFill(0).drawRect(0,0,126,27).endFill(),i._stype_txt.addChild(n),i._stype_txt.mask=n,i._stype_txt.x=e?6:168,i._stype_txt.y=476,i.addChild(i._stype_txt),i._name_txt=new s.TextBox(39,16774898),n=new PIXI.Graphics,n.beginFill(0).drawRect(0,0,204,45).endFill(),i._name_txt.addChild(n),i._name_txt.mask=n,i._name_txt.x=e?143:303,i._name_txt.y=465,i.addChild(i._name_txt),i._lvlabel_txt=new s.TextBox(27,16774898),i._lvlabel_txt.text="Lv",i._lvlabel_txt.x=e?351:512,i._lvlabel_txt.y=474,i.addChild(i._lvlabel_txt),i._lv_txt=new s.TextBox(28,16774898),i._lv_txt.x=e?383:543,i._lv_txt.y=473,i.addChild(i._lv_txt),i._elementLayer=new PIXI.Container,i.addChild(i._elementLayer),i._medal=new r.MedalIcon,i._medal.alpha=0,i._medal.x=e?440:108,i._medal.y=533,i.addChild(i._medal),i}return n(e,t),Object.defineProperty(e.prototype,"medal",{get:function(){return this._medal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e){this._friend?this._bg.texture=a.PRAC_MAIN.getTexture(1):this._bg.texture=a.PRAC_MAIN.getTexture(0);var i=t[0],n=i.mst_id,r=i.isDamaged(),s=o.default.model.ship_graph.get(n),_=null==s?new PIXI.Point:s.getLeftOffset(r);this._friend||(_.x+=90),this._chara.position.set(_.x-150,_.y-60),this._chara.texture=o.default.resources.getShip(n,r,"full"),this._stype_txt.text=i.stype_name,this._name_txt.text=i.name,this._lv_txt.text=i.level.toString(),this._initializeElements(t),e>0&&(this._medal.initialize(),this._medal.update(e,9466926))},e.prototype.dispose=function(){if(this.removeChildren(),this._stype_txt.destroy(),this._name_txt.destroy(),this._lvlabel_txt.destroy(),this._lv_txt.destroy(),this._medal.dispose(),null!=this._elements)for(var t=0,e=this._elements;t<e.length;t++){var i=e[t];i.dispose()}},e.prototype._initializeElements=function(t){this._elements=[];for(var e=1;e<t.length;e++){var i=t[e];if(null==i)return;var n=new _.ShipElement;n.alpha=0,n.x=this._friend?-101:273,n.y=530+38*(e-1);var o=i.stype_name,r=i.name,s=i.level;n.update(o,r,s),this._elements.push(n),this._elementLayer.addChild(n)}},e}(PIXI.Container);e.Content=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(139),s=function(t){function e(){var e=t.call(this)||this;e._bg=new PIXI.Sprite,e._name_txt=new o.TextBox(20,16774898);var i=new PIXI.Graphics;return i.beginFill(0),i.drawRect(0,0,264,26),i.endFill(),e._name_txt.addChild(i),e._name_txt.mask=i,e._name_txt.position.set(20,3),e._lvlabel_txt=new o.TextBox(20,16774898),e._lvlabel_txt.position.set(351,5),e._lvlabel_txt.text="Lv",e._lv_txt=new o.TextBox(24,16774898),e._lv_txt.anchor.set(1,0),e._lv_txt.position.set(423,0),e.addChild(e._bg),e.addChild(e._name_txt),e.addChild(e._lvlabel_txt),e.addChild(e._lv_txt),e}return n(e,t),e.prototype.update=function(t,e,i){this._bg.texture=r.PRAC_MAIN.getTexture(2),this._name_txt.text=t+" "+e,this._lv_txt.text=i.toString()},e.prototype.dispose=function(){this.removeChildren(),this._name_txt.destroy(),this._lvlabel_txt.destroy(),this._lv_txt.destroy()},e}(PIXI.Container);e.ShipElement=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(139),s=function(t){function e(){var e=t.call(this)||this;return e._bg=new PIXI.Sprite,e._text=new o.TextBox(39,16774898),e._text.anchor.set(.5,0),e.addChild(e._bg),e.addChild(e._text),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){void 0===t&&(t=""),this._bg.texture=r.PRAC_MAIN.getTexture(7),this._text.position.set(this._bg.width/2,9),this.update(t)},e.prototype.update=function(t){this._text.text=t},e.prototype.dispose=function(){this.removeChildren(),this._text.destroy()},e}(PIXI.Container);e.PracticeTitleBar=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(17),r=i(152),s=i(50),a=function(t){function e(){var e=t.call(this)||this;return e._bg=new r.MapBG,e._black=new o.FadeBox(1),e._shutter=new s.Shutter,e.addChild(e._bg),e.addChild(e._black),e.addChild(e._shutter),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"black",{get:function(){return this._black},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shutter",{get:function(){return this._shutter},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._shutter.initializeLight()},e}(PIXI.Container);e.ViewMain=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=function(t){function e(e,i,n){void 0===n&&(n=-1);var o=t.call(this)||this;return o._url="api_req_map/next",o._model=e,o._repair_item=i,o._next_cell_no=n,o}return n(e,t),e.prototype._connect=function(){this._post_data.api_recovery_type=this._repair_item,this._next_cell_no>=0&&(this._post_data.api_cell_id=this._next_cell_no),t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._model.__add__(this._raw_data),t.prototype._completedEnd.call(this)},e}(o.APIBase);e.APIMapNext=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(9),s=i(7),a=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._url="api_get_member/ship_deck",r._deck_ids=e,r._area_id=i,r._map_no=n,r._cell_no=o,r}return n(e,t),e.prototype._connect=function(){this._post_data.api_deck_rid=this._deck_ids.join(","),t.prototype._connect.call(this)},e.prototype._completedEnd=function(){for(var e=s.ObjUtil.getObjectArray(this._raw_data,"api_deck_data"),i=0,n=e;i<n.length;i++){var r=n[i];o.default.model.deck.updateData(r)}for(var a=s.ObjUtil.getObjectArray(this._raw_data,"api_ship_data"),_=0,l=a;_<l.length;_++){var r=l[_];o.default.model.ship.updateData(r)}t.prototype._completedEnd.call(this)},e}(r.APIBase);e.APIShipDeck=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1241),o=function(){function t(){this._data=[]}return Object.defineProperty(t.prototype,"backgrounds",{get:function(){if(null==this._backgrounds){this._backgrounds=[];for(var t=0,e=this._data;t<e.length;t++){var i=e[t];(n=this._backgrounds).push.apply(n,i.backgrounds)}}return this._backgrounds;var n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labels",{get:function(){if(null==this._labels){this._labels=[];for(var t=0,e=this._data;t<e.length;t++){var i=e[t];(n=this._labels).push.apply(n,i.labels)}}return this._labels;var n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spots",{get:function(){if(null==this._spots){this._spots=[];for(var t=0,e=this._data;t<e.length;t++){var i=e[t];(n=this._spots).push.apply(n,i.spots)}}return this._spots;var n},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var e=new n.MapInfoModel(t);this._data.push(e),this._backgrounds=null,this._labels=null,this._spots=null,this._airraids=null,this._recce=null},t.prototype.getSpot=function(t){for(var e=0,i=this.spots;e<i.length;e++){var n=i[e];if(n.no==t)return n}return null},t.prototype.getEnemyOption=function(t){for(var e=this.getSameSpotData(t),i=e.map(function(t,e,i){return t.no}),n=0,o=this._data;n<o.length;n++)for(var r=o[n],s=r.enemies,a=0,_=s;a<_.length;a++){var l=_[a];if(i.indexOf(l.no)>=0)return l}return null},t.prototype.getAirRaidOption=function(t){if(null==this._airraids){this._airraids=[];for(var e=0,i=this._data;e<i.length;e++){var n=i[e];(p=this._airraids).push.apply(p,n.airraids)}}for(var o=0,r=this._airraids;o<r.length;o++){var s=r[o];if(s.no==t)return s}for(var a=this.getSameSpotData(t),_=0,l=a;_<l.length;_++){var u=l[_];if(u.no!=t)for(var c=0,h=this._airraids;c<h.length;c++){var s=h[c];if(s.no==u.no)return s}}return null;var p},t.prototype.getAirBaseRaidOption=function(){for(var t=0,e=this._data;t<e.length;t++){var i=e[t],n=i.airbaseraid;if(null!=n)return n}return null},t.prototype.getAirBasePos=function(){for(var t=0,e=this._data;t<e.length;t++){var i=e[t],n=i.airbase;if(null!=n)return n}return null},t.prototype.getShipDirection=function(t){var e=this.getSpot(t);return null==e?0:e.direction},t.prototype.getControlPoint=function(t){var e=this.getSpot(t);return null==e?null:e.controll_point},t.prototype.getBranchOption=function(t){var e=this.getSpot(t);if(null!=e.branch)return e.branch;for(var i=this.getSameSpotData(t),n=0,o=i;n<o.length;n++){var r=o[n];if(r!=e&&null!=r.branch)return r.branch}return null},t.prototype.getAnchorageRepairConfirmOffsets=function(t){var e=this.getSpot(t);return null==e?null:e.repair_confirm_offsets},t.prototype.getReplenishConfirmOffsets=function(t){var e=this.getSpot(t);return null==e?null:e.replenish_confirm_offsets},t.prototype.getRationConfirmOffset=function(t){var e=this.getSpot(t);return null==e?null:e.ration_confirm_offset},t.prototype.getAirReconnaissancePoint=function(t){if(null==this._recce){this._recce=[];for(var e=0,i=this._data;e<i.length;e++){var n=i[e];(c=this._recce).push.apply(c,n.recce)}}for(var o=0,r=this._recce;o<r.length;o++){var s=r[o];if(s.no==t)return new PIXI.Point(s.x,s.y)}for(var a=this.getSameSpotData(t),_=a.map(function(t,e,i){return t.no}),l=0,u=this._recce;l<u.length;l++){var s=u[l];if(_.indexOf(s.no)>=0)return new PIXI.Point(s.x,s.y)}return null;var c},t.prototype.hasAirReconnaissancePoint=function(){if(null==this._recce){this._recce=[];for(var t=0,e=this._data;t<e.length;t++){var i=e[t];(n=this._recce).push.apply(n,i.recce)}}return this._recce.length>0;var n},t.prototype.getLandingBalloonType=function(t){var e=this.getSpot(t);return null==e?0:null==e.landing?0:e.landing.type},t.prototype.getSameSpotData=function(t){for(var e=[],i=this.spots,n=null,o=0,r=i;o<r.length;o++){var s=r[o];if(s.no==t){n=s;break}}if(null==n)return e;for(var a=0,_=i;a<_.length;a++){var s=_[a];s.x==n.x&&s.y==n.y&&e.push(s)}return e.sort(function(t,e){return t.no<e.no?-1:t.no>e.no?1:0})},t}();e.MapResourceInfo=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=i(1242),r=i(1244),s=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"backgrounds",{get:function(){var t=[],e=n.ObjUtil.getObjectArray(this._o,"bg");if(null!=e)for(var i=0,o=e;i<o.length;i++){var r=o[i];if(r.hasOwnProperty("name")&&r.hasOwnProperty("img")){var s=n.ObjUtil.getString(r,"name"),a=n.ObjUtil.getString(r,"img");t.push({name:s,img:a})}else t.push({name:null,img:r})}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labels",{get:function(){var t=[],e=n.ObjUtil.getObjectArray(this._o,"labels");if(null!=e)for(var i=0,o=e;i<o.length;i++){var r=o[i],s={x:n.ObjUtil.getNumber(r,"x"),y:n.ObjUtil.getNumber(r,"y"),r:n.ObjUtil.getNumber(r,"r"),img:n.ObjUtil.getString(r,"img")};t.push(s)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spots",{get:function(){var t=[],e=n.ObjUtil.getObjectArray(this._o,"spots");if(null!=e)for(var i=0,r=e;i<r.length;i++){var s=r[i],a=new o.SpotData(s);t.push(a)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enemies",{get:function(){var t=[],e=n.ObjUtil.getObjectArray(this._o,"enemies");if(null!=e)for(var i=0,o=e;i<o.length;i++){var r=o[i],s={no:n.ObjUtil.getNumber(r,"no"),x:n.ObjUtil.getNumber(r,"x"),y:n.ObjUtil.getNumber(r,"y"),img:n.ObjUtil.getString(r,"img")};t.push(s)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"airbase",{get:function(){var t=n.ObjUtil.getObject(this._o,"airbase");return null==t?null:new PIXI.Point(n.ObjUtil.getNumber(t,"x"),n.ObjUtil.getNumber(t,"y"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"airraids",{get:function(){var t=[],e=n.ObjUtil.getObjectArray(this._o,"airraids");if(null!=e)for(var i=0,o=e;i<o.length;i++){var s=o[i];t.push(new r.AirRaidData(s))}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"airbaseraid",{get:function(){var t=n.ObjUtil.getObjectArray(this._o,"airbaseraid");return null==t?null:new r.AirRaidData(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recce",{get:function(){var t=[],e=n.ObjUtil.getObjectArray(this._o,"recce");if(null!=e)for(var i=0,o=e;i<o.length;i++){var r=o[i],s={no:n.ObjUtil.getNumber(r,"no"),x:n.ObjUtil.getNumber(r,"x"),y:n.ObjUtil.getNumber(r,"y")};t.push(s)}return t},enumerable:!0,configurable:!0}),t}();e.MapInfoModel=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=i(1243),r=function(){function t(t){this._offsetDic=null,this._line=null,this._route=null,this._branch=null,this._o=t}return Object.defineProperty(t.prototype,"no",{get:function(){return n.ObjUtil.getNumber(this._o,"no")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return n.ObjUtil.getNumber(this._o,"x")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return n.ObjUtil.getNumber(this._o,"y")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return n.ObjUtil.getNumber(this._o,"color")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsetDic",{get:function(){return 0==this._o.hasOwnProperty("offsets")?{}:this._o.offsets},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){if(null==this._line&&1==this._o.hasOwnProperty("line")){var t=this._o.line;this._line={x:n.ObjUtil.getNumber(t,"x"),y:n.ObjUtil.getNumber(t,"y"),r:n.ObjUtil.getNumber(t,"r"),img:n.ObjUtil.getString(t,"img")}}return this._line},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"route",{get:function(){if(null==this._route&&1==this._o.hasOwnProperty("route")){var t=this._o.route;this._route={x:t.hasOwnProperty("x")?t.x:null==this.line?0:this.line.x,y:t.hasOwnProperty("y")?t.y:null==this.line?0:this.line.y,r:t.hasOwnProperty("r")?t.r:null==this.line?0:this.line.r,img:n.ObjUtil.getString(t,"img")}}return this._route},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"landing",{get:function(){if(0==this._o.hasOwnProperty("landing"))return null;var t=this._o.landing;return{x:n.ObjUtil.getNumber(t,"x"),y:n.ObjUtil.getNumber(t,"y"),type:n.ObjUtil.getNumber(t,"type")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"branch",{get:function(){if(null==this._branch){if(0==this._o.hasOwnProperty("branch"))return null;var t=this._o.branch;this._branch=new o.BranchBalloonData(t)}return this._branch},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"direction",{get:function(){if(0==this._o.hasOwnProperty("direction"))return 0;var t=n.ObjUtil.getString(this._o,"direction");return"R"==t?2:"L"==t?1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controll_point",{get:function(){var t=n.ObjUtil.getObject(this._o,"cpoint");return null==t?null:new PIXI.Point(n.ObjUtil.getNumber(t,"x"),n.ObjUtil.getNumber(t,"y"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repair_confirm_offsets",{get:function(){var t=n.ObjUtil.getObject(this._o,"repair");if(null==t)return null;var e=n.ObjUtil.getObject(t,"box"),i=new PIXI.Point(n.ObjUtil.getNumber(e,"x"),n.ObjUtil.getNumber(e,"y")),o=n.ObjUtil.getObject(t,"button");return{box:i,btn:new PIXI.Point(n.ObjUtil.getNumber(o,"x"),n.ObjUtil.getNumber(o,"y"))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"replenish_confirm_offsets",{get:function(){var t=n.ObjUtil.getObject(this._o,"replenish");if(null==t)return null;var e=n.ObjUtil.getObject(t,"box"),i=new PIXI.Point(n.ObjUtil.getNumber(e,"x"),n.ObjUtil.getNumber(e,"y")),o=n.ObjUtil.getObject(t,"button"),r=new PIXI.Point(n.ObjUtil.getNumber(o,"x"),n.ObjUtil.getNumber(o,"y")),s=n.ObjUtil.getObject(t,"balloon");return{box:i,btn:r,bln:new PIXI.Point(n.ObjUtil.getNumber(s,"x"),n.ObjUtil.getNumber(s,"y"))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ration_confirm_offset",{get:function(){var t=n.ObjUtil.getObject(this._o,"ration");if(null==t)return null;var e=n.ObjUtil.getNumber(t,"box"),i=new PIXI.Point;i.x=n.ObjUtil.getNumber(e,"x"),i.y=n.ObjUtil.getNumber(e,"y");var o=n.ObjUtil.getNumber(t,"button"),r=new PIXI.Point;return r.x=n.ObjUtil.getNumber(o,"x"),r.y=n.ObjUtil.getNumber(o,"y"),[i,r]},enumerable:!0,configurable:!0}),t}();e.SpotData=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"offset",{get:function(){return this._o.hasOwnProperty("x")||this._o.hasOwnProperty("y")?new PIXI.Point(n.ObjUtil.getNumber(this._o,"x"),n.ObjUtil.getNumber(this._o,"y")):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){switch(n.ObjUtil.getString(this._o,"type")){case"R":return 2;case"L":return 6;case"T":return 0;case"B":return 4;case"RT":case"TR":return 1;case"RB":case"BR":return 3;case"LT":case"TL":return 7;case"LB":case"BL":return 5}return 1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"beak",{get:function(){switch(n.ObjUtil.getString(this._o,"beak")){case"s":case"straight":return 1}return 0},enumerable:!0,configurable:!0}),t}();e.BranchBalloonData=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"no",{get:function(){return n.ObjUtil.getNumber(this._o,"no")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return n.ObjUtil.getNumber(this._o,"type")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"from",{get:function(){var t=n.ObjUtil.getNumber(this._o,"from"),e=new PIXI.Point;return e.x=n.ObjUtil.getNumber(t,"x"),e.y=n.ObjUtil.getNumber(t,"y"),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"to",{get:function(){var t=n.ObjUtil.getNumber(this._o,"to"),e=new PIXI.Point;return e.x=n.ObjUtil.getNumber(t,"x"),e.y=n.ObjUtil.getNumber(t,"y"),e},enumerable:!0,configurable:!0}),t}();e.AirRaidData=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.supply_on_the_sea=-1,this.ration=-1}return t}();e.UserSelectModel=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(1247),a=function(t){function e(e,i){var n=t.call(this)||this;return n._scene=e,n._model=i,n}return n(e,t),e.prototype._start=function(){this._loadResources()},e.prototype._loadResources=function(){var t=this;(new s.TaskLoadResourcesMap).start(function(){t._showViewMain()})},e.prototype._showViewMain=function(){var t=this;this._scene.view.bg.setDay(function(){t._initialize()})},e.prototype._initialize=function(){this._scene.view.initialize();var t=this._model.sortie.area_id,e=this._model.sortie.map_id,i=o.default.model.map.getMapMst(e.toString()).name;this._scene.view.upper.update(t,i),this._endTask()},e}(r.TaskBase);e.TaskInitPre=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(14),s=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype._start=function(){this._load()},e.prototype._load=function(){var t=this,e=new r.UIImageLoader("map");e.add("map_common.json"),e.add("map_compass.json"),e.add("map_flagship_damage.json"),e.load(function(){t._endTask()})},e}(o.TaskBase);e.TaskLoadResourcesMap=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(146),a=i(2),_=i(17),l=i(68),u=i(433),c=i(1249),h=i(1250),p=function(t){function e(e,i){var n=t.call(this)||this;return n._scene=e,n._model=i,n._black=new _.FadeBox(1),n}return n(e,t),e.prototype._start=function(){var t=this;this._black.hide(0),this._scene.view.addChild(this._black),this._black.show(300),new u.SallyAnimationTask(this._scene.view).start(function(){t._loadMapResource()})},e.prototype._loadMapResource=function(){var t=this,e=this._model.sortie.map_id,i=this._scene.view.map,n=this._scene.resInfo,o=this._model.sortie.cells;new c.TaskCreateMap(e,i,n,o).start(function(){t._initMapGauge()})},e.prototype._initMapGauge=function(){var t=this,e=0,i=0,n=this._model.sortie.getNextCell();if(1==n.hasEventMapData()){if(e=n.gauge_max,(i=n.gauge_now)<=0)return void this._loadMapBGM()}else e=this._model.sortie.map.defeat_required,i=e-this._model.sortie.map.defeat_count;if(e<=0)return void this._loadMapBGM();var s=this._model.sortie.map,a=s.area_id,_=s.map_no,u=s.getGaugeNum(),c=l.GaugeSetModel.createKey(a,_,u),h=r.default.resources.gauge.createLoaderVertical();h.add(c),h.load(function(){var n=r.default.resources.gauge.getGaugeInfo(c);if(n){var s=n.vertical;null!=s&&(t._scene.view.gauge_layer.initialize(s,i,e),s.x<o.default.width/2&&t._scene.view.frontOfGaugeLayer())}t._loadMapBGM()})},e.prototype._loadMapBGM=function(){var t=this._model.sortie.area_id,e=this._model.sortie.map_no,i=s.MapConst.getMapBGMID(t,e);1==i.battle_bgm?r.default.sound.bgm.playBattleBGM(i.id):r.default.sound.bgm.play(i.id),this._showMap()},e.prototype._showMap=function(){var t=this;this._black.hide(200,function(){t._scene.view.removeChild(t._black),t._showShipAndMessageBox()})},e.prototype._showShipAndMessageBox=function(){var t=this;this._scene.view.message_box.activate(),new h.AnimShipInit(this._scene,this._model).start(function(){t._endTask()})},e}(a.TaskBase);e.TaskInit=p},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(55),s=i(25),a=i(7),_=i(2),l=i(14),u=function(t){function e(e,i,n,o){var r=t.call(this)||this;if(r._map_id=e,r._mapView=i,r._mapInfo=n,r._memDataNum=0,r._memData={},null!=o)for(var s=0,a=o;s<a.length;s++){var _=a[s];r._memData[_.no]=_,r._memDataNum++}return r._version=l.UIImageLoader.getResourceVersionMap(r._map_id),r}return n(e,t),e.prototype._start=function(){var t=this,e=this._getPath("info.json"+(this._version?"?version="+this._version:""));axios.get(e).then(function(e){var i=a.ObjUtil.getObject(e,"data");t._mapInfo.add(i),t._loadSpriteSheet()}).catch(function(e){t._failedEnd()})},e.prototype._loadSpriteSheet=function(){var t=this,e=this._getPath("image.json");if(null!=PIXI.utils.TextureCache[e+"_image"])this._loadAddingInfo();else{var i=new PIXI.loaders.Loader;null!=this._version&&(i.defaultQueryString="version="+this._version),i.add(e),i.load(function(){t._loadAddingInfo()})}},e.prototype._loadAddingInfo=function(){var t=this;if(this._mapInfo.spots.length>=this._memDataNum)if(445==this._map_id){var e=new l.UIImageLoader("map");e.add("map_event_anime.json"),e.load(function(){t._createMapBackGround()})}else this._createMapBackGround();else{var i=this._mapInfo.spots.length,n=this._getPath("info"+i+".json"+(this._version?"?version="+this._version:""));axios.get(n).then(function(e){var n=a.ObjUtil.getObject(e,"data");t._mapInfo.add(n),t._loadAddingSpriteSheet(i)}).catch(function(e){t._failedEnd()})}},e.prototype._loadAddingSpriteSheet=function(t){var e=this,i=this._getPath("image"+t+".json");if(null!=PIXI.utils.TextureCache[i+"_image"])this._loadAddingInfo();else{var n=new PIXI.loaders.Loader;null!=this._version&&(n.defaultQueryString="version="+this._version),n.add(i),n.load(function(){e._loadAddingInfo()})}},e.prototype._createMapBackGround=function(){for(var t=this._mapInfo.backgrounds,e=0,i=t;e<i.length;e++){var n=i[e],o=r.MapUtil.toResKey(this._map_id),s="map"+o+"_"+n.img,a=PIXI.Texture.fromFrame(s);this._mapView.bg.addBGLayer(a,n.name)}445==this._map_id&&this._mapView.bg.setMapAnime(),this._createLabel()},e.prototype._createLabel=function(){for(var t=this._mapInfo.labels,e=0,i=t;e<i.length;e++){var n=i[e],o=r.MapUtil.toResKey(this._map_id),s="map"+o+"_"+n.img,a=PIXI.Texture.fromFrame(s);this._mapView.bg.addLabel(a,n.x,n.y)}this._createSpots()},e.prototype._createSpots=function(){for(var t=this._mapInfo.spots,e=0,i=t;e<i.length;e++){var n=i[e],o=n.no;if(!(this._memDataNum>0&&null==this._memData[o])&&(this._mapView.addSpot(this._map_id,o,this._mapInfo),null!=n.landing)){var r=n.x+n.landing.x,s=n.y+n.landing.y;this._mapView.spotLayer.addFlag(o,r,s)}}this._createAirBase()},e.prototype._createAirBase=function(){var t=this._mapInfo.getAirBasePos();null!=t&&this._mapView.airbaseLayer.create(t),this._initCellColor()},e.prototype._initCellColor=function(){for(var t=[],e=this._mapView.spotLayer.getAllSpots(),i=0,n=e;i<n.length;i++){var o=n[i];if(!(t.indexOf(o.no)>=0)){for(var r=!1,s=0,a=0,_=this._mapInfo.getSameSpotData(o.no),l=0,u=_;l<u.length;l++){var c=u[l];t.push(c.no),0==s&&(s=c.color);var h=this._memData[c.no];null!=h&&(r=r||h.passed,0==a&&(a=h.color))}var p=_[0].no,d=this._mapView.spotLayer.getSpot(p);1==r?d.setColor(a):d.setColor(s)}}this._endTask()},e.prototype._getPath=function(t){var e=r.MapUtil.toAreaID(this._map_id),i=r.MapUtil.toMapNo(this._map_id);return o.default.settings.path_root+"resources/map/"+s.MathUtil.zeroPadding(e,3)+"/"+s.MathUtil.zeroPadding(i,2)+"_"+t},e}(_.TaskBase);e.TaskCreateMap=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=function(t){function e(e,i){var n=t.call(this)||this;return n._anim=function(){var t=n._scene.view.map.ship_icon;createjs.Tween.get(t).to({alpha:1},300),createjs.Tween.get(t.scale).to({x:1,y:1},300).call(function(){n._endTask()})},n._scene=e,n._model=i,n}return n(e,t),e.prototype._start=function(){this._initialize()},e.prototype._initialize=function(){var t=this._scene.view.map.ship_icon;t.alpha=0,t.scale.set(1.7);var e=this._model.deck_f.type;t.initialize(e);var i=this._model.sortie.now_cell_no,n=this._scene.view.map.spotLayer.getSpot(i);t.position.set(n.x,n.y);var o=t.direction,r=this._scene.resInfo.getShipDirection(i);1==r?o=1:2==r&&(o=2),t.turn(o,this._anim,0)},e}(o.TaskBase);e.AnimShipInit=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(14),s=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){this._scene.view.dispose(),r.UIImageLoader.clearMemoryCache("map"),this._endTask()},e}(o.TaskBase);e.TaskFinalize=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(244),a=i(27),_=i(15),l=i(1253),u=i(1254),c=i(1255),h=i(1256),p=i(1258),d=i(1260),f=i(1261),y=i(1265),m=i(1269),g=i(1274),v=i(1275),b=i(1276),w=i(1277),x=i(1279),I=i(1281),T=i(1285),O=i(441),C=function(t){function e(e,i,n,o,r){var s=t.call(this)||this;return s._scene=e,s._model=i,s._repair_item=n,s._battle_cls=o,s._battle_result_cls=r,s._cell_open=!1,s}return n(e,t),Object.defineProperty(e.prototype,"battle_model",{get:function(){return this._battle_model},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cell_open",{get:function(){return this._cell_open},enumerable:!0,configurable:!0}),e.prototype._start=function(){this._next=this._model.sortie.getNextCell(),this._init()},e.prototype._init=function(){this._scene.view.message_box.text="",this._compass()},e.prototype._compass=function(){var t=this,e=this._scene.view.map.ship_icon,i=new PIXI.Point(e.x,e.y),n=this._scene.view.map.spotLayer.getSpot(this._next.no),o=new PIXI.Point(n.x,n.y);if(1==this._next.hasCompass()){this._scene.view.message_box.text="\u3069\u3053\u306b\u9032\u3080\uff1f";var r=new p.AnimCompass;this._scene.view.addChild(r),r.initialize(this._next.rashin_id),r.Play(i,o,function(){r.Dispose(),t._scene.view.removeChild(r),t._scene.view.message_box.text="",t._turn(o)})}else this._turn(o)},e.prototype._turn=function(t){var e,i=this,n=this._scene.view.map.ship_icon,o=this._scene.resInfo.getShipDirection(this._next.no);e=1==o?1:2==o?2:n.x>t.x?1:n.x<t.x?2:n.direction,n.turn(e,function(){i._jake()})},e.prototype._jake=function(){var t=this;if(this._next.jakeID>0){var e=this._scene.view.map.ship_icon,i=new PIXI.Point(0,0),n=this._scene.view.map.spotLayer.getSpot(this._next.no),o=new PIXI.Point(n.x-e.x,n.y-e.y);new u.AnimPlane(e,i,o).start(function(){t._balloon()})}else this._balloon()},e.prototype._balloon=function(){var t=this;if(0==this._next.balloonID)this._underwayReplenishment();else{var e=this._model.deck_f.ships[0],i=e.mst_id;o.default.sound.voice.play(i.toString(),26);var n=this._scene.view.map.ship_icon,r=this._next.balloonID,s=1;1==n.direction&&(s=7);var _=this._model.sortie.map_id,l=this._next.no,u=null;if(423==_){if(11==l)s=1;else if(13==l||21==l)s=7;else if(25==l){var p=this._scene.model.sortie.map.getGaugeNum();2==p?s=1:3==p&&(u=new PIXI.Point(21,0))}}else 425==_&&(35!=l&&40!=l||(s=2));var d=new a.ParallelTask;d.add(new h.AnimShowMapEnemy(this._scene,this._model,500)),d.add(new c.AnimBalloon(n,r,s,u)),d.start(function(){t._underwayReplenishment()})}},e.prototype._underwayReplenishment=function(){var t=this;new f.TaskConfirmReplenishment(this._scene,this._model).start(function(){t._ration()})},e.prototype._ration=function(){var t=this;new d.TaskConfirmRation(this._scene,this._model).start(function(){t._move()})},e.prototype._move=function(){var t=this;new l.AnimShipMove(this._scene,this._model).start(function(){t._showEnemy()})},e.prototype._showEnemy=function(){var t=this;if(1==this._scene.view.map.enemy_layer.isDisplaying())this._gimmick();else{new h.AnimShowMapEnemy(this._scene,this._model).start(function(){t._gimmick()})}},e.prototype._gimmick=function(){this._AirRaidBattle()},e.prototype._AirRaidBattle=function(){var t=this,e=this._scene.model.sortie.area_id,i=this._scene.model.sortie.map_no,n=this._scene.model.sortie.getNextCell(),r=n.getAirraidDataObject(),s=n.hasBokuAirUnit(),a=this._scene.resInfo,l=this._scene.view.map.plane_layer,u=o.default.view.overLayer,c=this._scene,h=this._scene.view.map.airbaseLayer;new T.AirRaidTask(e,i,r,s,a,l,u,c,h,this._battle_cls).start(function(){var n=_.ObjUtil.getNumber(r,"api_m1");return 45==e&&3==i&&2==n?(new O.EventTaskCellOpen(t._model.sortie.map_id,a,t._scene.view,t._model.sortie.map.getGaugeNum(),!0,!1,!0,!1,!1).start(function(){t._endTask()}),void(t._cell_open=!0)):45==e&&3==i&&3==n?(new O.EventTaskCellOpen(t._model.sortie.map_id,a,t._scene.view,t._model.sortie.map.getGaugeNum(),!0,!1,!0,!1,!1,!0).start(function(){t._endTask()}),void(t._cell_open=!0)):45==e&&3==i&&4==n?(new O.EventTaskCellOpen(t._model.sortie.map_id,a,t._scene.view,t._model.sortie.map.getGaugeNum(),!0,!1,!0,!1,!1,!1).start(function(){t._endTask()}),void(t._cell_open=!0)):void t._cellEvent()})},e.prototype._cellEvent=function(){var t,e=this,i=this._model.sortie.area_id,n=this._model.sortie.map_no,o=this._next.no,r=this._next.event_id;39!=i||1!=n||13!=o&&18!=o?2==r?t=new v.CellTaskItem(this._scene,this._model):3==r?t=new g.CellTaskHappening(this._scene,this._model):4==r?t=this._createCellTaskBattle(!1):5==r?t=this._createCellTaskBattle(!0):6==r?t=new b.CellTaskFancy(this._scene,this._model):7==r?t=new w.CellTaskAirReconnaissance(this._scene,this._model):8==r?t=new x.CellTaskAnchor(this._scene,this._model):9==r?t=new I.CellTaskLanding(this._scene,this._model):10==r&&(t=new y.CellTaskAnchorageRepair(this._scene,this._model)):t=new v.CellTaskItem(this._scene,this._model),null!=t?t.start(function(){e._endTask()}):this._endTask()},e.prototype._createCellTaskBattle=function(t){var e=this._model.sortie.getNextCell();this._battle_model=new s.BattleSceneModel(!1),this._battle_model.updateDeckData(this._model.deck_f,null);var i=this._scene.user_select.supply_on_the_sea,n=this._scene.user_select.ration;this._battle_model.setMapData(this._repair_item,i,n);var o=this._model.sortie.area_id,r=this._model.sortie.map_no,a=e.no,_=this._next.event_detail_id;if(this._battle_model.map_info.init(o,r,a,t,_),1==e.hasEventMapData()){var l=this._model.sortie.getNextCell().gauge_max,u=this._model.sortie.getNextCell().gauge_now,c=(this._model.sortie.getGaugeKey(),this._model.sortie.map.gauge_type),h=this._model.sortie.map.getGaugeNum();this._battle_model.setMapGaugeInfo(u,l,c,h)}else{var l=this._model.sortie.map.defeat_required,u=l-this._model.sortie.map.defeat_count,c=(this._model.sortie.getGaugeKey(),1),h=this._model.sortie.map.getGaugeNum();this._battle_model.setMapGaugeInfo(u,l,c,h)}return new m.CellTaskBattle(this._scene,this._battle_model,this._battle_cls,this._battle_result_cls)},e}(r.TaskBase);e.TaskNextSpot=C},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(66),s=i(27),a=function(t){function e(e,i){var n=t.call(this)||this;return n.TIME=2e3,n._scene=e,n._model=i,n}return n(e,t),e.prototype._start=function(){this._initialize()},e.prototype._initialize=function(){var t=this,e=new s.ParallelTask,i=new _(this._scene,this._model,this.TIME);e.add(i);var n=new l(this._scene,this._model,this.TIME);e.add(n),e.start(function(){t._setCellColor()})},e.prototype._setCellColor=function(){var t=this._model.sortie.getNextCell().no,e=this._scene.view.map.spotLayer.getSpot(t);if(null!=e){e.showLine();for(var i=this._scene.resInfo.getSameSpotData(t),n=0;n<i.length;n++){var o=i[n].no;if(0==n){var r=this._model.sortie.getCellInfo(o);this._scene.view.map.spotLayer.getSpot(o).setColor(r.color)}else{this._scene.view.map.spotLayer.getSpot(o).setColor(0)}}}this._endTask()},e}(o.TaskBase);e.AnimShipMove=a;var _=function(t){function e(e,i,n){var o=t.call(this)||this;return o._scene=e,o._model=i,o._time=n,o}return n(e,t),e.prototype._start=function(){var t,e=this,i=this._scene.view.map,n=i.ship_icon,o=this._model.sortie.now_cell_no,s=(i.spotLayer.getSpot(o),this._model.sortie.getNextCell().no),a=i.spotLayer.getSpot(s),_=this._scene.resInfo.getControlPoint(s);if(null==_)t=createjs.Tween.get(n),t.to({x:a.x,y:a.y},this._time);else{var l=new PIXI.Point(n.x,n.y),u=new PIXI.Point(a.x,a.y),c=r.TweenUtil.create2BezierPoints(l,_,u,this._time);t=createjs.Tween.get(n);for(var h=0,p=c;h<p.length;h++){var d=p[h];t.to({x:d.x,y:d.y},d.t)}}t.call(function(){e._endTask()})},e}(o.TaskBase),l=function(t){function e(e,i,n){var o=t.call(this)||this;return o._scene=e,o._model=i,o._time=n,o}return n(e,t),e.prototype._start=function(){var t=this,e=this._model.sortie.getNextCell().no,i=this._scene.resInfo.getAirRaidOption(e);if(null==i)this._endTask();else{this._scene.view.map.plane_layer.show(e,i,2e3,this._model.sortie.map_no,this._model.sortie.area_id,function(){t._endTask()})}},e}(o.TaskBase)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(19),s=function(t){function e(e,i,n){var o=t.call(this)||this;return o._wait=function(){o._layer.removeChild(o._plane),createjs.Tween.get(null).wait(200).call(function(){o._endTask()})},o.run=function(){o._timer<=0&&o._isTurn||(o._movePlane(),o._timer-=1e3/60,o._timer<=0&&!o._isTurn&&(o._timer=o._baseTime,o._isTurn=!o._isTurn))},o._layer=e,o._from=i,o._to=n,o._baseTime=1500,o._timer=o._baseTime,o}return n(e,t),e.prototype._start=function(){var t=this;this._plane=new PIXI.Sprite;var e=this._to.x>this._from.x?1:-1,i=this._to.x>this._from.x?-.1:.1;this._plane.texture=r.MAP_COMMON.getTexture(106),this._plane.anchor.set(.5,1),this._plane.scale.set(e,1),this._layer.addChild(this._plane),createjs.Tween.get(this._plane.scale).wait(1200).to({x:-1*this._plane.scale.x,y:1},600).wait(3e3-3e3*(.4+.2)).to({x:i,y:.1},200).call(function(){t._wait()}),this._bezierTween=createjs.Tween.get(null).wait(3e3).addEventListener("change",function(){t.run()})},e.prototype._movePlane=function(){var t=(this._baseTime-this._timer)/this._baseTime,e=this._isTurn?1*t:1*t-1;this._plane.position.x=this._from.x+.9*this._to.x-.9*this._to.x*e*e,this._plane.position.y=this._from.y+.9*this._to.y-.9*this._to.y*e*e,0!=e&&(this._plane.position.y+=((Math.abs(e)-.5)*(Math.abs(e)-.5)*38*4-38)*(Math.abs(e)/e))},e.prototype._endTask=function(){this._bezierTween=null,this._plane=null,this._layer=null,this._from=null,this._to=null,this._baseTime=null,this._timer=null,this._isTurn=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.AnimPlane=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(19),s=function(t){function e(e,i,n,o){void 0===o&&(o=null);var r=t.call(this)||this;return r._ship=e,r._type=i,r._directionType=n,r._offset=o,r}return n(e,t),e.prototype._start=function(){var t=this,e=new a(this._offset);e.initialize(this._type,this._directionType),e.alpha=0,this._ship.addChild(e),createjs.Tween.get(e).to({y:-23,alpha:1},100).wait(2e3).to({y:0,alpha:0},100).call(function(){t._ship.removeChild(e),t._endTask()})},e}(o.TaskBase);e.AnimBalloon=s;var a=function(t){function e(e){var i=t.call(this)||this;return i._offset=e,i._img=new PIXI.Sprite,i.addChild(i._img),i}return n(e,t),e.prototype.initialize=function(t,e){1==t?this._initializeFoundEnemy(e):2==t&&this._initializeFoundTarget(e),3==t&&this._initializePatrol(e),this._addOffset(e)},e.prototype._initializeFoundEnemy=function(t){0==t?(this._img.texture=r.MAP_COMMON.getTexture(46),this._img.position.set(-66,-77)):1==t?(this._img.texture=r.MAP_COMMON.getTexture(27),this._img.position.set(-15,-68)):2==t?(this._img.texture=r.MAP_COMMON.getTexture(26),this._img.position.set(0,-36)):7==t&&(this._img.texture=r.MAP_COMMON.getTexture(28),this._img.position.set(-114,-68))},e.prototype._initializeFoundTarget=function(t){1==t?(this._img.texture=r.MAP_COMMON.getTexture(29),this._img.position.set(-15,-68)):7==t&&(this._img.texture=r.MAP_COMMON.getTexture(30),this._img.position.set(-140,-66))},e.prototype._initializePatrol=function(t){1==t?(this._img.texture=r.MAP_COMMON.getTexture(31),this._img.position.set(-14,-66)):7==t&&(this._img.texture=r.MAP_COMMON.getTexture(32),this._img.position.set(-114,-66))},e.prototype._addOffset=function(t){0==t?(this._img.x+=-3,this._img.y+=-9):1==t?(this._img.x+=21,this._img.y+=-6):2==t?(this._img.x+=39,this._img.y+=9):3==t||4==t||5==t||6==t||7==t&&(this._img.x+=-21,this._img.y+=-6),this._offset&&(this._img.x+=this._offset.x,this._img.y+=this._offset.y)},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(55),r=i(2),s=i(1257),a=function(t){function e(e,i,n){void 0===n&&(n=0);var o=t.call(this)||this;return o._scene=e,o._model=i,o._delay=n,o}return n(e,t),e.prototype._start=function(){var t=this,e=this._model.sortie.getNextCell().no,i=this._scene.resInfo.getEnemyOption(e);null==i?this._endTask():this._delay<=0?this._showEnemy(i.img,i.x,i.y):createjs.Tween.get(null).wait(this._delay).call(function(){t._showEnemy(i.img,i.x,i.y)})},e.prototype._showEnemy=function(t,e,i){var n,r=this,a=this._model.sortie.area_id,_=this._model.sortie.map_no,l=this._model.sortie.getNextCell().no,u=this._model.sortie.map.getGaugeNum();if(42==a&&3==_&&25==l&&3==u)n=new s.MapEnemy(PIXI.Texture.fromFrame("map04203_icon_E3boss_2"),5),n.x=130,n.y=230;else{var c=this._model.sortie.map_id,h=o.MapUtil.toResKey(c);n=new s.MapEnemy(PIXI.Texture.fromFrame("map"+h+"_"+t),5),n.x=e,n.y=i}this._scene.view.map.enemy_layer.show(n,function(){r._endTask()})},e.prototype._endTask=function(){this._scene=null,this._model=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.AnimShowMapEnemy=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var n=t.call(this)||this;n._ropeLength=0,n._animation_count=0,n._texture=e,n._points=[];var o=e.orig.width;n._ropeLength=o/i;for(var r=0;r<i;r++){var s=new PIXI.Point;s.x=r*(e.height/(i-1)),s.y=e.width/2,n._points.push(s)}var a=new PIXI.mesh.Rope(e,n._points),_=e.frame,l=PIXI.GroupD8.isVertical(2)?e.frame.height:e.frame.width,u=PIXI.GroupD8.isVertical(2)?e.frame.width:e.frame.height,c=new PIXI.Rectangle(_.x,_.y,l,u),h=new PIXI.Rectangle(0,0,l,u),p=new PIXI.Texture(e.baseTexture,_,c,h,2);return a=new PIXI.mesh.Rope(p,n._points),a.rotation=Math.PI/2,a.x=a.height,n.addChild(a),n}return n(e,t),e.prototype.dispose=function(){this.stopAnimation(),this.removeChildren(),this._texture=null,this._points=null,this._ropeLength=null,this._animation_count=null},e.prototype.startAnimation=function(){var t=this;this._tween=createjs.Tween.get(this),this._tween.loop=!0,this._tween.wait(40).call(function(){t._onUpdate()})},e.prototype.stopAnimation=function(){this._tween&&(this._tween.setPaused(!0),this._tween=null)},e.prototype._onUpdate=function(){this._animation_count+=.05;for(var t=0;t<this._points.length;t++){this._points[t].y=this._texture.width/2+5*Math.cos(.3*t+this._animation_count)}},e}(PIXI.Container);e.MapEnemy=o},function(t,e,i){"use strict";function n(t){return t*Math.PI/180}var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(5),s=i(1),a=i(4),_=i(6),l=i(138),u=i(1259);e.COMPASS_FADEIN=500,e.PIN_SWING_VOL=n(2),e.getRad=n;var c=function(t){function i(){var i=t.call(this)||this;return i.Dispose=function(){i.removeChildren(),i._callBack=null,i._runTween=null,i._bg=null,i._clickLayer=null,i._girl=null,i._compass=null,i._txtBox=null,i._light=null,i._pin=null,i._text.destroy(),i._text=null,i._type=null,i._isPin=null,i._isSwing=null,i._vibrateR=null,i._vibrateWidth=null,i._pini=null,i._span=null,i._targetR=null,i._step=null,i._message1=null,i._message2=null,i._message3=null},i.Play=function(t,e,n){i._callBack=n;var o=-Math.atan2(e.y-t.y,e.x-t.x)/Math.PI*180+270;i._targetR=o,i.startAnimation()},i.startAnimation=function(){var t;switch(i._type){case 1:t=function(){createjs.Tween.get(i._girl).to({y:368,alpha:1},e.COMPASS_FADEIN)};break;case 2:case 3:t=function(){createjs.Tween.get(i._girl).to({y:353,alpha:1},e.COMPASS_FADEIN)};break;case 4:t=function(){createjs.Tween.get(i._girl).to({x:960,y:353,alpha:1},e.COMPASS_FADEIN)}}createjs.Tween.get(null).call(function(){createjs.Tween.get(i._compass).to({alpha:1},300),createjs.Tween.get(i._compass.scale).to({x:1,y:1},300),createjs.Tween.get(i._pin).to({alpha:1},300),createjs.Tween.get(i._pin.scale).to({x:1,y:1},300),createjs.Tween.get(i._light).to({alpha:.8},300),createjs.Tween.get(i._light.scale).to({x:1,y:1},300),createjs.Tween.get(i._bg).to({alpha:.3},300)}).wait(300).call(function(){t()}).wait(e.COMPASS_FADEIN).call(function(){i.phase1End()})},i.run=function(){i._isPin&&i.updatePinMove(),i._isSwing&&i.updateGirlSwing()},i.phase1End=function(){switch(i._clickLayer.interactive=!0,i._clickLayer.buttonMode=!0,i._clickLayer.on(s.EventType.CLICK,i.clickCompass),i._runTween=createjs.Tween.get({}),i._runTween.wait(500).loop=!0,i._runTween.play(null),i._runTween.addEventListener("change",i.run),i._isPin=!0,i._txtBox.alpha=1,i._text.alpha=1,i._type){case 4:i._isSwing=!0}},i.clickCompass=function(){i._clickLayer.interactive=!1,i._clickLayer.buttonMode=!1;var t=function(t){i._girl.texture=u.MAP_COMPASS.getTexture(t),i._text.text=i._message2,i.playRashinbanSE(),i.updateRotate()};switch(i._type){case 1:i._girl.texture=u.MAP_COMPASS.getTexture(1),createjs.Tween.get(null).wait(500).call(function(){t(0)});break;case 2:i._girl.texture=u.MAP_COMPASS.getTexture(3),createjs.Tween.get(null).wait(500).call(function(){t(2)});break;case 3:i._girl.texture=u.MAP_COMPASS.getTexture(5),createjs.Tween.get(null).wait(500).call(function(){t(4)});break;case 4:i._step=0,i._isSwing=!1,i._text.text=i._message2;var e=function(){i.playRashinbanSE(),i._isSwing=!0,i.updateRotate()};createjs.Tween.get(i._girl).to({y:363},33).to({y:321},133).to({y:384},133).to({y:351},33).wait(100).call(function(){e()})}},i}return o(i,t),i.prototype.initialize=function(t){switch(this._type=t,this._vibrateR=4,this._vibrateWidth=6,this._pini=0,this._isPin=!1,this._isSwing=!1,this._clickLayer=new PIXI.Graphics,this._clickLayer.beginFill(0,0),this._clickLayer.drawRect(0,0,r.default.width,r.default.height),this._clickLayer.endFill(),this._bg=new PIXI.Graphics,this._bg.beginFill(0,1),this._bg.drawRect(0,0,r.default.width,r.default.height),this._bg.endFill(),this._bg.alpha=0,this._compass=new PIXI.Sprite(l.SALLY_MAP_PARTS.getTexture(15)),this._compass.anchor.set(.5),this._compass.position.set(600,360),this._compass.alpha=0,this._compass.scale.set(1.36,1.36),this._light=new PIXI.Sprite(l.SALLY_MAP_PARTS.getTexture(16)),this._light.anchor.set(.5),this._light.position.set(600,360),this._light.alpha=0,this._light.scale.set(1.36,1.36),this._pin=new PIXI.Sprite(l.SALLY_MAP_PARTS.getTexture(17)),this._pin.anchor.set(.5),this._pin.position.set(600,360),this._pin.alpha=0,this._pin.scale.set(1.36,1.36),this._txtBox=this.createSprite(7,.5,.5,915,585,0),this._text=new a.TextBox(27,"black"),this._text.position.set(705,573),this._text.alpha=0,this.addChild(this._bg),this.addChild(this._compass),this.addChild(this._pin),this.addChild(this._light),this.addChild(this._txtBox),this.addChild(this._text),this._type){case 1:this._step=16,this._message1="\u3048\u30fc\uff1f\u3089\u3057\u3093\u3070\u3093\u3001\u307e\u308f\u3059\u306e\u30fc\uff1f",this._message2="\u2026\u2026\u3093",this._message3="\u2026\u2026\u3042\u3044",this._girl=this.createSprite(0,.5,.5,915,450,0);break;case 2:this._step=15,this._message1="\u3088\u30fc\u3057\u3001\u3089\u3057\u3093\u3070\u3093\u307e\u308f\u3059\u3088\u30fc\uff01",this._message2="\u3048\u3044\u3063",this._message3="\u3053\u3053\u3063",this._girl=this.createSprite(2,.5,.5,915,450,0);break;case 3:this._step=0,this._message1="\u306f\u3084\u304f\u306f\u3084\u304f\u30fc\uff01",this._message2="\u3048\u3044\u3048\u3044\u3048\u30fc\u3044\u3063",this._message3="\u3068\u307e\u308c\u30fc\u3063",this._girl=this.createSprite(4,.5,.5,915,450,0);break;case 4:this._step=0,this._message1="\u3089\u3057\u3093\u3070\u3093\u3092\u307e\u308f\u3057\u3066\u306d\uff01",this._message2="\u3048\u3044\u3063",this._message3="\u305d\u308c\u3063",this._girl=this.createSprite(6,.5,.5,1185,315,0)}this._text.text=this._message1,this.addChild(this._girl),this.addChild(this._clickLayer)},i.prototype.playRashinbanSE=function(){_.SE.play("250")},i.prototype.updateGirlSwing=function(){this._step+=.5,this._girl.position.y=353+10*Math.sin(this._step/6)},i.prototype.updateRotate=function(){var t=this;switch(this._type){case 1:createjs.Tween.get(this._compass).to({rotation:n(360)},700).call(function(){t._text.text=t._message3,t.speedDown()});break;case 2:createjs.Tween.get(this._compass).to({rotation:n(720+this._targetR)},1e3).call(function(){t._text.text=t._message3,t.vibrateCompass()});break;case 3:createjs.Tween.get(this._compass).to({rotation:n(1080)},700).call(function(){t._text.text=t._message3,t.speedDown()}),createjs.Tween.get(null).wait(700).addEventListener("change",function(){t._step%12<6?t._girl.texture=u.MAP_COMPASS.getTexture(5):t._girl.texture=u.MAP_COMPASS.getTexture(4),t._step++});break;case 4:createjs.Tween.get(this._compass).to({rotation:n(2160)},900).call(function(){t._text.text=t._message3,t.speedDown()})}},i.prototype.speedDown=function(){var t=this;this._compass.rotation,Math.PI;switch(this._type){case 1:createjs.Tween.get(this._compass).to({rotation:n(360+this._targetR)},600,createjs.Ease.quadOut).call(function(){t.outAnimation()});break;case 3:this._span=0,createjs.Tween.get(this._compass).to({rotation:n(1440+this._targetR)},1300,createjs.Ease.quadOut).call(function(){t.outAnimation()}),createjs.Tween.get(null).wait(1300).addEventListener("change",function(){2==++t._span&&(t._girl.position.y+=t._vibrateWidth,t._vibrateWidth*=-.98,t._span=0)});break;case 4:createjs.Tween.get(this._compass).to({rotation:n(2520+this._targetR)},700,createjs.Ease.quadOut).call(function(){t.outAnimation()})}},i.prototype.vibrateCompass=function(){var t=this;this._span=0,this._girl.texture=u.MAP_COMPASS.getTexture(3),createjs.Tween.get(null).wait(400).addEventListener("change",function(){2==++t._span&&(t._compass.rotation+=n(t._vibrateR),t._vibrateR*=-1,t._span=0)}),createjs.Tween.get(null).wait(400).call(function(){t._compass.rotation=n(t._targetR),t.outAnimation()})},i.prototype.updatePinMove=function(){if(6==++this._pini){var t=41*Math.random()/10-2;this._pin.rotation+=n(t),this._pin.rotation>e.PIN_SWING_VOL?this._pin.rotation=e.PIN_SWING_VOL:this._pin.rotation<-e.PIN_SWING_VOL&&(this._pin.rotation=-e.PIN_SWING_VOL),this._pini=0}},i.prototype.outAnimation=function(){var t=this,e=function(){switch(t._type){case 1:t._girl.texture=u.MAP_COMPASS.getTexture(0);break;case 2:t._girl.texture=u.MAP_COMPASS.getTexture(2);break;case 3:t._girl.texture=u.MAP_COMPASS.getTexture(4);break;case 4:t._girl.texture=u.MAP_COMPASS.getTexture(6)}},i=null;switch(this._type){case 1:case 2:case 3:i=function(){createjs.Tween.get(t._girl).to({alpha:0},433)};break;case 4:i=function(){createjs.Tween.get(t._girl).to({x:1185,y:t._girl.y-53,alpha:0},433)}}createjs.Tween.get(null).wait(800).call(function(){t._isSwing=!1,e(),createjs.Tween.get(t._compass).to({alpha:0},300),createjs.Tween.get(t._compass.scale).to({x:1.36,y:1.36},300),createjs.Tween.get(t._pin).to({alpha:0},300),createjs.Tween.get(t._pin.scale).to({x:1.36,y:1.36},300),createjs.Tween.get(t._light).to({alpha:0},300),createjs.Tween.get(t._light.scale).to({x:1.36,y:1.36},300),createjs.Tween.get(t._text).to({alpha:0},300),createjs.Tween.get(t._txtBox).to({alpha:0},300),createjs.Tween.get(t._bg).to({alpha:0},300),i()}).wait(433).call(function(){t.animateEnd()})},i.prototype.animateEnd=function(){this._isPin=!1,this._runTween.removeAllEventListeners("change"),this._runTween.setPaused(!0),createjs.Tween.removeTweens(this._runTween.target),null!=this._callBack&&this._callBack()},i.prototype.createSprite=function(t,e,i,n,o,r){var s=new PIXI.Sprite(u.MAP_COMPASS.getTexture(t));return s.anchor.x=e,s.anchor.y=i,s.position.x=n,s.position.y=o,s.alpha=r,s},i}(PIXI.Container);e.AnimCompass=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("map_compass_"+t)}t.getTexture=e}(e.MAP_COMPASS||(e.MAP_COMPASS={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(6),s=i(19),a=i(1),_=function(t){function e(e,i){var n=t.call(this)||this;return n._onSelect=function(t){n._scene.user_select.ration=1==t?1:0,n._hideConfirmDialog()},n._scene=e,n._model=i,n}return n(e,t),e.prototype._start=function(){1==this._model.sortie.getNextCell().isUsableRation()?this._showConfirmDialog():(this._scene.user_select.ration=-1,this._endTask())},e.prototype._showConfirmDialog=function(){var t=this,e=this._model.sortie.now_cell_no,i=this._scene.resInfo.getRationConfirmOffset(e),n=this._scene.view.map.ship_icon;this._confirm=new l(i,this._onSelect),this._confirm.x=n.x,this._confirm.y=n.y+15,this._confirm.alpha=0,this._confirm.initialize(),this._scene.view.universal_layer.addChild(this._confirm),r.SE.play("212"),createjs.Tween.get(this._confirm).to({y:n.y,alpha:1},300).call(function(){t._confirm.activate()})},e.prototype._hideConfirmDialog=function(){var t=this;this._confirm.deactivate(),createjs.Tween.get(this._confirm.btn_yes).to({alpha:0},200),createjs.Tween.get(this._confirm.btn_no).to({alpha:0},200);var e=this._confirm.y;createjs.Tween.get(this._confirm).wait(200).to({y:e,alpha:0},300).call(function(){t._scene.view.universal_layer.removeChild(t._confirm),t._confirm.dispose(),t._endTask()})},e}(o.TaskBase);e.TaskConfirmRation=_;var l=function(t){function e(e,i){var n=t.call(this)||this;return n._onClickYes=function(){null!=n._cb_onSelect&&n._cb_onSelect(!0)},n._onClickNo=function(){null!=n._cb_onSelect&&n._cb_onSelect(!1)},n._cb_onSelect=i,n._box=new PIXI.Sprite,n._box.position.set(-120,-135),n.addChild(n._box),n._beak=new PIXI.Sprite,n._beak.position.set(30,-59),n.addChild(n._beak),n._btn_yes=new u(n._onClickYes),n._btn_yes.position.set(-65,42),n.addChild(n._btn_yes),n._btn_no=new u(n._onClickNo),n._btn_no.position.set(68,42),n.addChild(n._btn_no),null!=e&&(n._box.x+=e[0].x,n._box.y+=e[0].y,n._beak.x+=e[0].x,n._beak.y+=e[0].y,n._btn_yes.x+=e[1].x,n._btn_yes.y+=e[1].y,n._btn_no.x+=e[1].x,n._btn_no.y+=e[1].y),n}return n(e,t),Object.defineProperty(e.prototype,"btn_yes",{get:function(){return this._btn_yes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_no",{get:function(){return this._btn_no},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._box.texture=s.MAP_COMMON.getTexture(76),this._beak.texture=s.MAP_COMMON.getTexture(77);var t=s.MAP_COMMON.getTexture(102),e=s.MAP_COMMON.getTexture(104);this._btn_yes.initialize(t,e),t=s.MAP_COMMON.getTexture(85),e=s.MAP_COMMON.getTexture(86),this._btn_no.initialize(t,e)},e.prototype.activate=function(){this._btn_yes.activate(),this._btn_no.activate()},e.prototype.deactivate=function(){this._btn_yes.deactivate(),this._btn_no.deactivate()},e.prototype.dispose=function(){this._btn_yes.dispose(),this._btn_no.dispose()},e}(PIXI.Container),u=function(t){function e(e){var i=t.call(this)||this;return i._onMouseOver=function(){r.SE.play("225"),i._over.alpha=1},i._onMouseOut=function(){i._over.alpha=0},i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick()},i._cb_onClick=e,i._img=new PIXI.Sprite,i.addChild(i._img),i._over=new PIXI.Sprite,i._over.alpha=0,i.addChild(i._over),i.interactive=!0,i}return n(e,t),e.prototype.initialize=function(t,e){this._img.texture=t,this._img.x=-Math.round(this._img.width/2),this._img.y=-Math.round(this._img.height/2),this._over.texture=e,this._over.x=-Math.round(this._over.width/2),this._over.y=-Math.round(this._over.height/2)},e.prototype.activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(a.EventType.MOUSEOVER,this._onMouseOver),this.on(a.EventType.MOUSEOUT,this._onMouseOut),this.on(a.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(a.EventType.MOUSEOVER,this._onMouseOver),this.off(a.EventType.MOUSEOUT,this._onMouseOut),this.off(a.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate()},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(6),s=i(19),a=i(1262),_=i(1),l=function(t){function e(e,i){var n=t.call(this)||this;return n._onSelect=function(t){n._scene.user_select.supply_on_the_sea=1==t?1:0,n._hideConfirmDialog(t)},n._scene=e,n._model=i,n}return n(e,t),e.prototype._start=function(){var t=this._model.sortie.getNextCell();this._data=t.getReplenishmentData(),null!=this._data?this._showConfirmDialog():(this._scene.user_select.supply_on_the_sea=-1,this._endTask())},e.prototype._showConfirmDialog=function(){var t=this,e=this._model.sortie.now_cell_no,i=this._scene.resInfo.getReplenishConfirmOffsets(e),n=this._scene.view.map.ship_icon;this._confirm=new u(i,this._onSelect),this._confirm.x=n.x,this._confirm.y=n.y+15,this._confirm.alpha=0,this._confirm.initialize(),this._scene.view.universal_layer.addChild(this._confirm),r.SE.play("212"),createjs.Tween.get(this._confirm).to({y:n.y,alpha:1},300).call(function(){t._confirm.activate()})},e.prototype._hideConfirmDialog=function(t){var e=this;this._confirm.deactivate(),createjs.Tween.get(this._confirm.btn_yes).to({alpha:0},200),createjs.Tween.get(this._confirm.btn_no).to({alpha:0},200);var i=this._confirm.y;createjs.Tween.get(this._confirm).wait(200).to({y:i,alpha:0},300).call(function(){e._scene.view.universal_layer.removeChild(e._confirm),e._confirm.dispose(),1==t?e._startSupplyOnTheSea():e._endTask()})},e.prototype._startSupplyOnTheSea=function(){this._updateData()},e.prototype._updateData=function(){this._getShips(this._data.num_of_use);this._effect()},e.prototype._effect=function(){var t=this;new a.TaskReplenishmentEffect(this._scene,this._model,this._data).start(function(){t._endTask()})},e.prototype._getShips=function(t){var e=[],i=this._model.deck_f.ships_main,n=this._model.deck_f.ships_sub,o=i.slice().reverse();null!=n&&(o=o.concat(n.slice().reverse()));for(var r=0,s=o;r<s.length;r++){var a=s[r];if(null!=a&&(!(a.hp_now<=0)&&1!=a.isTaihi())){var _=void 0;do{if(_=a.useReplenishment(),1==_&&e.push(a),t==e.length)return e}while(1==_)}}return e},e}(o.TaskBase);e.TaskConfirmReplenishment=l;var u=function(t){function e(e,i){var n=t.call(this)||this;if(n._onClickYes=function(){null!=n._cb_onSelect&&n._cb_onSelect(!0)},n._onClickNo=function(){null!=n._cb_onSelect&&n._cb_onSelect(!1)},n._cb_onSelect=i,n._box=new PIXI.Sprite,n._box.position.set(-120,-135),n.addChild(n._box),n._beak=new PIXI.Sprite,n._beak.position.set(30,-59),n.addChild(n._beak),n._btn_yes=new c(n._onClickYes),n._btn_yes.position.set(-65,42),n.addChild(n._btn_yes),n._btn_no=new c(n._onClickNo),n._btn_no.position.set(68,42),n.addChild(n._btn_no),null!=e){if(null!=e.box){var o=e.box;n._box.x+=o.x,n._box.y+=o.y,n._beak.x+=o.x,n._beak.y+=o.y}if(null!=e.btn){var o=e.btn;n._btn_yes.x+=o.x,n._btn_yes.y+=o.y,n._btn_no.x+=o.x,n._btn_no.y+=o.y}}return n}return n(e,t),Object.defineProperty(e.prototype,"btn_yes",{get:function(){return this._btn_yes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_no",{get:function(){return this._btn_no},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._box.texture=s.MAP_COMMON.getTexture(78),this._beak.texture=s.MAP_COMMON.getTexture(77);var t=s.MAP_COMMON.getTexture(102),e=s.MAP_COMMON.getTexture(104);this._btn_yes.initialize(t,e),t=s.MAP_COMMON.getTexture(85),e=s.MAP_COMMON.getTexture(86),this._btn_no.initialize(t,e)},e.prototype.activate=function(){this._btn_yes.activate(),this._btn_no.activate()},e.prototype.deactivate=function(){this._btn_yes.deactivate(),this._btn_no.deactivate()},e.prototype.dispose=function(){this._btn_yes.dispose(),this._btn_no.dispose()},e}(PIXI.Container),c=function(t){function e(e){var i=t.call(this)||this;return i._onMouseOver=function(){r.SE.play("225"),i._over.alpha=1},i._onMouseOut=function(){i._over.alpha=0},i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick()},i._cb_onClick=e,i._img=new PIXI.Sprite,i.addChild(i._img),i._over=new PIXI.Sprite,i._over.alpha=0,i.addChild(i._over),i.interactive=!0,i}return n(e,t),e.prototype.initialize=function(t,e){this._img.texture=t,this._img.x=-Math.round(this._img.width/2),this._img.y=-Math.round(this._img.height/2),this._over.texture=e,this._over.x=-Math.round(this._over.width/2),this._over.y=-Math.round(this._over.height/2)},e.prototype.activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(_.EventType.MOUSEOVER,this._onMouseOver),this.on(_.EventType.MOUSEOUT,this._onMouseOut),this.on(_.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(_.EventType.MOUSEOVER,this._onMouseOver),this.off(_.EventType.MOUSEOUT,this._onMouseOut),this.off(_.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate()},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(27),a=i(38),_=i(13),l=i(1263),u=function(t){function e(e,i,n){var o=t.call(this)||this;return o._playVoiceFrom=function(){o._scene.view.message_box.text="\u8266\u968a\u306b\u6d0b\u4e0a\u88dc\u7d66\u3092\u884c\u3044\u307e\u3059\u3002";var t=new s.ParallelTask;t.add(new a.WaitTask(1e3)),t.add(new c(o._ship_from.mst_id,26)),t.start(function(){o._showShipTo()})},o._playVoiceTo=function(){var t=new s.ParallelTask;t.add(new a.WaitTask(2e3)),t.add(new c(o._ship_to.mst_id,27)),t.start(function(){o._hideShips()})},o._scene=e,o._model=i,o._data=n,o}return n(e,t),e.prototype._start=function(){this._loadShipResource()},e.prototype._loadShipResource=function(){var t=this;this._ship_from=this._getShip(this._data.ship_mem_id),this._ship_to=this._getShip(this._data.ship_mem_id_supplied);var e=new _.ShipLoader;e.add(this._ship_from.mst_id,this._ship_from.isDamaged(),"full"),null!=this._ship_to&&e.add(this._ship_to.mst_id,this._ship_to.isDamaged(),"full"),e.load(function(){t._anim()})},e.prototype._anim=function(){var t=this,e=this._ship_from.mst_id,i=this._ship_from.isDamaged(),n=o.default.resources.getShip(e,i,"full");this._ship_from_sprite=new PIXI.Sprite(n);var r=o.default.model.ship_graph.get(e).getMapOffset(i);this._ship_from_x=-80+r.x,this._ship_from_sprite.x=this._ship_from_x-300,this._ship_from_sprite.y=-93+r.y,this._ship_from_sprite.alpha=0,this._scene.view.chara_layer.addChild(this._ship_from_sprite),createjs.Tween.get(this._ship_from_sprite).to({x:this._ship_from_x,alpha:1},750,createjs.Ease.quadInOut),createjs.Tween.get(null).wait(450).call(function(){t._playVoiceFrom()})},e.prototype._showShipTo=function(){var t=this;if(null==this._ship_to)createjs.Tween.get(null).wait(1e3).call(function(){t._hideShips()});else{var e=this._ship_to.mst_id,i=this._ship_to.isDamaged(),n=o.default.resources.getShip(e,i,"full");this._ship_to_sprite=new PIXI.Sprite(n);var r=o.default.model.ship_graph.get(e).getMapOffset(i);this._ship_to_x=520+r.x,this._ship_to_sprite.x=this._ship_to_x+300,this._ship_to_sprite.y=-93+r.y,this._ship_to_sprite.alpha=0,this._scene.view.chara_layer.addChild(this._ship_to_sprite),createjs.Tween.get(this._ship_to_sprite).to({x:this._ship_to_x,alpha:1},750,createjs.Ease.quadInOut),createjs.Tween.get(null).wait(450).call(function(){t._playVoiceTo()})}},e.prototype._hideShips=function(){var t=this;createjs.Tween.get(this._ship_from_sprite).to({x:this._ship_from_x-300,alpha:0},300,createjs.Ease.sineIn).call(function(){t._shipIconEffect()}),null!=this._ship_to&&createjs.Tween.get(this._ship_to_sprite).to({x:this._ship_to_x+300,alpha:0},300,createjs.Ease.sineIn)},e.prototype._shipIconEffect=function(){var t=this,e=this._data.num_of_use,i=this._model.sortie.now_cell_no,n=this._scene.resInfo.getReplenishConfirmOffsets(i),o=null!=n?n.bln:null;new l.TaskReplenishmentBalloonEffect(this._scene,e,o).start(function(){t._scene.view.message_box.text="",createjs.Tween.get(null).wait(500).call(function(){t._endTask()})})},e.prototype._getShip=function(t){for(var e=this._model.deck_f.ships,i=0,n=e;i<n.length;i++){var o=n[i];if(null!=o&&o.mem_id==t)return o}return null},e}(r.TaskBase);e.TaskReplenishmentEffect=u;var c=function(t){function e(e,i){var n=t.call(this)||this;return n._onVoiceEnd=function(){n._endTask()},n._mst_id=e,n._voice_id=i,n}return n(e,t),e.prototype._start=function(){o.default.option.vol_voice<=0?this._endTask():o.default.sound.voice.play(this._mst_id.toString(),this._voice_id,this._onVoiceEnd)},e}(r.TaskBase)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(29),s=i(19),a=i(1264),_=function(t){function e(e,i,n){var o=t.call(this)||this;return o._buff=function(){for(var t=o._scene.view.map.ship_icon.under,e=new r.SerialTask,i=0;i<o._buff_count;i++)e.add(new a.TaskReplenishmentBuff(t));e.start(o._hideBalloon)},o._hideBalloon=function(){var t=o._balloon.y+23;createjs.Tween.get(o._balloon).to({y:t,alpha:0},100).call(function(){o._balloon.parent.removeChild(o._balloon),o._endTask()})},o._scene=e,o._buff_count=i,o._offset=n,o}return n(e,t),e.prototype._start=function(){this._showBalloon()},e.prototype._showBalloon=function(){var t=this._scene.view.map.ship_icon;this._balloon=new l,this._balloon.initialize(),this._balloon.x=t.x+21,this._balloon.y=t.y-6,this._balloon.alpha=0,null!=this._offset&&(this._balloon.x+=this._offset.x,this._balloon.y+=this._offset.y),this._scene.view.universal_layer.addChild(this._balloon),createjs.Tween.get(this._balloon).wait(200).to({y:this._balloon.y-23,alpha:1},100).wait(200).call(this._buff)},e}(o.TaskBase);e.TaskReplenishmentBalloonEffect=_;var l=function(t){function e(){var e=t.call(this)||this;return e._bg=new PIXI.Sprite,e._bg.position.set(-11,-128),e.addChild(e._bg),e._icon=new PIXI.Sprite,e._icon.position.set(-3,-105),e.addChild(e._icon),e._label=new PIXI.Sprite,e._label.position.set(9,-47),e.addChild(e._label),e}return n(e,t),e.prototype.initialize=function(){this._bg.texture=s.MAP_COMMON.getTexture(50),this._icon.texture=s.MAP_COMMON.getTexture(79),this._label.texture=s.MAP_COMMON.getTexture(182)},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(12),s=i(6),a=i(19),_=function(t){function e(e){var i=t.call(this)||this;return i._layer=e,i}return n(e,t),e.prototype._start=function(){this._img1=new r.Sprite(a.MAP_COMMON.getTexture(142)),this._img1.anchor.set(.5),this._img1.scale.set(.6),this._img1.y=-4,this._img1.alpha=0,this._layer.addChild(this._img1),this._img2=new r.Sprite(a.MAP_COMMON.getTexture(143)),this._img2.anchor.set(.5),this._img2.scale.set(.6),this._img2.y=-4,this._img2.alpha=0,this._layer.addChild(this._img2),this._img3=new r.Sprite(a.MAP_COMMON.getTexture(144)),this._img3.anchor.set(.5),this._img3.scale.set(.6),this._img3.y=-4,this._img3.alpha=0,this._layer.addChild(this._img3),this._anim()},e.prototype._anim=function(){var t=this;s.SE.play("213"),createjs.Tween.get(this._img1).to({sceleX:1,scaleY:1,alpha:1},200).to({sceleX:1.2,scaleY:1.2,alpha:0},300),createjs.Tween.get(this._img2).wait(133).to({sceleX:1,scaleY:1,alpha:1},200).to({sceleX:1.2,scaleY:1.2,alpha:0},300),createjs.Tween.get(this._img3).wait(266).to({sceleX:1,scaleY:1,alpha:1},200).to({sceleX:1.3,scaleY:1.3,alpha:0},300).wait(300).call(function(){t._layer.removeChild(t._img1),t._layer.removeChild(t._img2),t._layer.removeChild(t._img3),t._endTask()})},e.prototype._endTask=function(){this._layer=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskReplenishmentBuff=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(246),s=i(6),a=i(19),_=i(1266),l=i(1),u=i(1267),c=i(0),h=i(1268),p=function(t){function e(e,i){var n=t.call(this)||this;return n._onSelect=function(t){n._hideConfirmDialog(t)},n._effect=function(t){n._layer=new h.AnchorageRepairLayer(t),n._scene.view.anchorage_repair_leyer.addChild(n._layer),n._layer.getPreLoadTask().start(function(){new _.TaskAnchorageRepairEffect(n._layer).start(function(){n._scene.view.anchorage_repair_leyer.removeChildren(),n._endTask()})})},n._scene=e,n._model=i,n}return n(e,t),e.prototype._start=function(){1==this._model.sortie.getNextCell().getAnchorageRepair()?this._startConfirmRepairDialog(""):this._startNoRepair("\u6ce2\u9759\u304b\u306a\u3001\u6cca\u5730\u306b\u9069\u3057\u305f\u6d77\u57df\u3067\u3059\u3002")},e.prototype._startConfirmRepairDialog=function(t){var e=this;this._showWave(),createjs.Tween.get(null).wait(500).call(function(){e._showMessage(t)}).wait(3e3).call(function(){e._showMessage("")}).wait(600).call(function(){e._showConfirmDialog()})},e.prototype._showConfirmDialog=function(){var t=this,e=this._model.sortie.now_cell_no,i=this._scene.resInfo.getAnchorageRepairConfirmOffsets(e),n=this._scene.view.map.ship_icon;this._confirm=new d(i,this._onSelect),this._confirm.x=n.x,this._confirm.y=n.y+15,this._confirm.alpha=0,this._confirm.initialize(),this._scene.view.universal_layer.addChild(this._confirm),s.SE.play("212"),createjs.Tween.get(this._confirm).to({y:n.y,alpha:1},300).call(function(){t._confirm.activate()})},e.prototype._hideConfirmDialog=function(t){var e=this;this._confirm.deactivate(),createjs.Tween.get(this._confirm.btn_yes).to({alpha:0},200),createjs.Tween.get(this._confirm.btn_no).to({alpha:0},200);var i=this._confirm.y;createjs.Tween.get(this._confirm).wait(200).to({y:i,alpha:0},300).call(function(){e._scene.view.universal_layer.removeChild(e._confirm),e._confirm.dispose(),1==t?e._startAnchorageRepair():e._endTask()})},e.prototype._startAnchorageRepair=function(){var t=this,e=new u.APIAnchorageRepair;e.start(function(){var i=t._model.deck_f.id,n=c.default.model.deck.get(i);t._model.deck_f.updateShipList(n),t._effect(e.used_ship)})},e.prototype._startNoRepair=function(t){var e=this;this._showWave(),createjs.Tween.get(null).wait(500).call(function(){e._showMessage(t)}).wait(3e3).call(function(){e._showMessage("")}).wait(1e3).call(function(){e._endTask()})},e.prototype._showWave=function(){var t=this._model.sortie.getNextCell().no,e=this._scene.view.map.spotLayer.getSpot(t);this._wave=new r.CellWave,this._wave.x=e.x,this._wave.y=e.y,this._scene.view.map.spotLayer.addChild(this._wave),this._wave.activate()},e.prototype._showMessage=function(t){this._scene.view.message_box.text=t},e.prototype._endTask=function(){null!=this._wave&&(null!=this._wave.parent&&this._wave.parent.removeChild(this._wave),this._wave.dispose(),this._wave=null),t.prototype._endTask.call(this)},e}(o.TaskBase);e.CellTaskAnchorageRepair=p;var d=function(t){function e(e,i){var n=t.call(this)||this;if(n._onClickYes=function(){null!=n._cb_onSelect&&n._cb_onSelect(!0)},n._onClickNo=function(){null!=n._cb_onSelect&&n._cb_onSelect(!1)},n._cb_onSelect=i,n._box=new PIXI.Sprite,n._box.position.set(-120,-135),n.addChild(n._box),n._beak=new PIXI.Sprite,n._beak.position.set(30,-59),n.addChild(n._beak),n._btn_yes=new f(n._onClickYes),n._btn_yes.position.set(-65,42),n.addChild(n._btn_yes),n._btn_no=new f(n._onClickNo),n._btn_no.position.set(68,42),n.addChild(n._btn_no),null!=e){if(null!=e.box){var o=e.box;n._box.x+=o.x,n._box.y+=o.y,n._beak.x+=o.x,n._beak.y+=o.y}if(null!=e.btn){var o=e.btn;n._btn_yes.x+=o.x,n._btn_yes.y+=o.y,n._btn_no.x+=o.x,n._btn_no.y+=o.y}}return n}return n(e,t),Object.defineProperty(e.prototype,"btn_yes",{get:function(){return this._btn_yes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_no",{get:function(){return this._btn_no},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._box.texture=a.MAP_COMMON.getTexture(51),this._beak.texture=a.MAP_COMMON.getTexture(77);var t=a.MAP_COMMON.getTexture(103),e=a.MAP_COMMON.getTexture(105);this._btn_yes.initialize(t,e),t=a.MAP_COMMON.getTexture(85),e=a.MAP_COMMON.getTexture(86),this._btn_no.initialize(t,e)},e.prototype.activate=function(){this._btn_yes.activate(),this._btn_no.activate()},e.prototype.deactivate=function(){this._btn_yes.deactivate(),this._btn_no.deactivate()},e.prototype.dispose=function(){this._btn_yes.dispose(),this._btn_no.dispose()},e}(PIXI.Container),f=function(t){function e(e){var i=t.call(this)||this;return i._onMouseOver=function(){s.SE.play("225"),i._over.alpha=1},i._onMouseOut=function(){i._over.alpha=0},i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick()},i._cb_onClick=e,i._img=new PIXI.Sprite,i.addChild(i._img),i._over=new PIXI.Sprite,i._over.alpha=0,i.addChild(i._over),i.interactive=!0,i}return n(e,t),e.prototype.initialize=function(t,e){this._img.texture=t,this._img.x=-Math.round(this._img.width/2),this._img.y=-Math.round(this._img.height/2),this._over.texture=e,this._over.x=-Math.round(this._over.width/2),this._over.y=-Math.round(this._over.height/2)},e.prototype.activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(l.EventType.MOUSEOVER,this._onMouseOver),this.on(l.EventType.MOUSEOUT,this._onMouseOut),this.on(l.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(l.EventType.MOUSEOVER,this._onMouseOver),this.off(l.EventType.MOUSEOUT,this._onMouseOut),this.off(l.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate()},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(6),s=function(t){function e(e){var i=t.call(this)||this;return i._layer=e,i}return n(e,t),e.prototype._start=function(){this._preLoad()},e.prototype._preLoad=function(){this._layer.initilize(),this._anim()},e.prototype._anim=function(){var t=this,e=function(){for(var e=0;e<t._layer.EFFECT_MAX/2;e++){var i=t._layer.kiraPos[e];t._layer.kirakira[e].position.set(i.x+10,i.y+25),t._layer.kirakira[e].visible=!0,createjs.Tween.get(t._layer.kirakira[e].scale).wait(70*e).to({x:1,y:1},140).to({x:0,y:0},140)}};createjs.Tween.get(null).call(function(){t._layer.get_flash.visible=!0,createjs.Tween.get(t._layer.get_flash.scale).to({x:2,y:2},500),createjs.Tween.get(t._layer.get_flash).to({alpha:1},500).to({alpha:0},150),createjs.Tween.get(t._layer.white).wait(400).set({visible:!0}).to({alpha:1},300).call(function(){createjs.Tween.get(t._layer.txt_repair).wait(100).set({visible:!0}).to({x:77},600,createjs.Ease.sineOut).to({x:47},733)})}).wait(133).call(function(){r.SE.play("230")}).wait(2e3).call(function(){createjs.Tween.get(t._layer.txt_repair).to({x:-1107},300,createjs.Ease.sineIn).set({visible:!1}),t._layer.ship_layer.visible=!0,createjs.Tween.get(t._layer.ship_layer).wait(180).to({alpha:1},500),createjs.Tween.get(t._layer.ship_layer.scale).wait(180).to({x:1,y:1},500,createjs.Ease.cubicOut)}).wait(680).call(function(){e()}).wait(100*(this._layer.EFFECT_MAX/2-1)+540).call(function(){t._layer.white.alpha=1;for(var e=0;e<t._layer.EFFECT_MAX/2;e++)t._layer.kirakira[e].visible=!1;createjs.Tween.get(t._layer.ship_layer.scale).to({x:2,y:2},633),createjs.Tween.get(t._layer.ship_layer).to({alpha:0},633),createjs.Tween.get(t._layer.white).to({alpha:0},633).set({visible:!1})}).wait(1e3).call(function(){t._endTask()})},e}(o.TaskBase);e.TaskAnchorageRepairEffect=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=i(7),s=i(0),a=function(t){function e(){var e=t.call(this)||this;return e._url="api_req_map/anchorage_repair",e}return n(e,t),Object.defineProperty(e.prototype,"used_ship",{get:function(){return this._used_ship},enumerable:!0,configurable:!0}),e.prototype._connect=function(){t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._used_ship=r.ObjUtil.getNumber(this._raw_data,"api_used_ship");for(var e=r.ObjUtil.getObjectArray(this._raw_data,"api_ship_data"),i=0,n=e;i<n.length;i++){var o=n[i];s.default.model.ship.updateData(o)}t.prototype._completedEnd.call(this)},e}(o.APIBase);e.APIAnchorageRepair=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(5),s=i(19),a=i(12),_=i(2),l=i(13),u=function(t){function e(e){var i=t.call(this)||this;return i._EFFECT_MAX=24,i._ship_mst_id=e,i._ship_sprite=new a.Sprite,i._get_flash=new a.Sprite,i._txt_repair=new a.Sprite,i._ship_layer=new PIXI.Container,i._kiraPos=[new PIXI.Point(550,66),new PIXI.Point(504,82),new PIXI.Point(615,127),new PIXI.Point(453,226),new PIXI.Point(570,261),new PIXI.Point(669,207),new PIXI.Point(498,348),new PIXI.Point(693,375),new PIXI.Point(492,463),new PIXI.Point(583,556),new PIXI.Point(499,589),new PIXI.Point(415,693)],i._poreload_task=new c(e),i}return n(e,t),Object.defineProperty(e.prototype,"EFFECT_MAX",{get:function(){return this._EFFECT_MAX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ship_layer",{get:function(){return this._ship_layer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"get_flash",{get:function(){return this._get_flash},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"white",{get:function(){return this._white},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"txt_repair",{get:function(){return this._txt_repair},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kirakira",{get:function(){return this._kirakira},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kiraPos",{get:function(){return this._kiraPos},enumerable:!0,configurable:!0}),e.prototype.getPreLoadTask=function(){return this._poreload_task},e.prototype.initilize=function(){this._get_flash=new PIXI.Sprite(s.MAP_COMMON.getTexture(45)),this._get_flash.visible=!1,this._get_flash.anchor.set(.5),this._get_flash.position.set(r.default.width/2,r.default.height/2),this._get_flash.alpha=0,this._get_flash.scale.set(.3),this._white=new PIXI.Graphics,this._white.visible=!1,this._white.beginFill(16777215,1),this._white.drawRect(0,0,r.default.width,r.default.height),this._white.endFill(),this._white.alpha=0,this._txt_repair=new PIXI.Sprite(s.MAP_COMMON.getTexture(187)),this._txt_repair.visible=!1,this._txt_repair.anchor.set(0,.5),this._txt_repair.position.set(1200,487),this._kirakira=[];for(var t=0;t<this._EFFECT_MAX;t++){var e=new PIXI.Sprite(s.MAP_COMMON.getTexture(100));e.anchor.set(.5),this._kirakira.push(e)}var i=o.default.resources.getShip(this._ship_mst_id,!1,"full");this._ship_sprite=new PIXI.Sprite(i);var n=o.default.model.ship_graph.get(this._ship_mst_id).getFaceRect(!1);this._ship_sprite.position.set(-(n.x+n.width/2),-(n.y+n.height/2)),this._ship_layer.visible=!0,this._ship_layer.position.set(600,200),this._ship_layer.scale.set(2),this._ship_layer.alpha=0,this._ship_layer.addChild(this._ship_sprite),this.addChild(this._get_flash,this._white,this._ship_layer,this._txt_repair);for(var t=0;t<this._EFFECT_MAX;t++)this._kirakira[t].visible=!1,this._kirakira[t].scale.set(0),this.addChild(this._kirakira[t])},e}(PIXI.Container);e.AnchorageRepairLayer=u;var c=function(t){function e(e){var i=t.call(this)||this;return i._ship_mst_id=e,i}return n(e,t),e.prototype._start=function(){this._loadShipImage()},e.prototype._loadShipImage=function(){var t=this,e=new l.ShipLoader;e.add(this._ship_mst_id,!1,"full"),e.load(function(){t._endTask()})},e}(_.TaskBase);e.PreLoadShipImage=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(1270),a=i(1271),_=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._selectFormation=function(){if(0==r._model.deck_f.type){var t=new s.TaskFormationSelect(r._scene.view,r._model.deck_f,r._model.map_info.isLongRangeFires());t.start(function(){r._fadeoutBGM(t.selected_formation)})}else{var e=new a.TaskFormationSelectCombined(r._scene.view,r._model.deck_f,r._model.map_info.isLongRangeFires());e.start(function(){r._fadeoutBGM(e.selected_formation)})}},r._scene=e,r._model=i,r._battle_cls=n,r._battle_result_cls=o,r}return n(e,t),e.prototype._start=function(){this._scene.view.map.ship_icon.startWaveRed(this._selectFormation)},e.prototype._fadeoutBGM=function(t){var e=this;1==o.default.sound.bgm.playing?(o.default.sound.bgm.fadeOut(1e3),createjs.Tween.get(this).wait(1e3).call(function(){e._startBattle(t)})):this._startBattle(t)},e.prototype._startBattle=function(t){var e=this;this._model.deck_f.formation=t;var i=new this._battle_cls;i.initialize(this._model),this._scene.addChild(i),i.once("complete",function(){e._startBattleResult(i,e._model)}),i.start()},e.prototype._startBattleResult=function(t,e){var i=this,n=new this._battle_result_cls;n.initialize(),n.shutter.close(0),this._scene.addChild(n),this._scene.removeChild(t),t.dispose(),n.once("complete",function(){i._completeBattleResult(n)}),n.start(e)},e.prototype._completeBattleResult=function(t){var e=this;createjs.Tween.get(t).to({alpha:0},200).call(function(){e._scene.removeChild(t),t.dispose(),e._endTask()})},e}(r.TaskBase);e.CellTaskBattle=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(2),a=i(17),_=i(12),l=i(13),u=i(19),c=i(436),h=function(t){function e(e,i,n){var r=t.call(this)||this;return r._selected_formation=1,r._showText=function(){var t=r._telopContainer.text;t.position.set(750,o.default.height/2),t.alpha=0,t.texture=u.MAP_COMMON.getTexture(115),createjs.Tween.get(t).to({x:630,alpha:1},500).to({x:585},500).call(r._formationSelect),createjs.Tween.get(r._chara).to({alpha:1},500);var e=r._view.shutter;e.alpha=0,e.close(0),createjs.Tween.get(e).to({alpha:1},400)},r._formationSelect=function(){var t=r._deck.getCount(),e=Math.max(6,t);if(r._layer.boxes.initialize(t,r._onSelectFormation,e),r._layer.boxes.alpha=0,r._layer.boxes.count<=1||r._isLongRange){var i=r._telopContainer.bg;createjs.Tween.get(i).wait(150).to({alpha:0,scaleY:0},100).call(r._showText2);var n=r._telopContainer.text;createjs.Tween.get(n).to({x:555,alpha:0},100)}else{r._layer.fade.show(200);var i=r._telopContainer.bg;createjs.Tween.get(i).wait(150).to({alpha:0,scaleY:0},100);var n=r._telopContainer.text;createjs.Tween.get(n).to({x:555,alpha:0},100),createjs.Tween.get(r._layer.boxes).to({alpha:1},300).call(function(){r._layer.boxes.activate(),r._view.message_box.text="\u9663\u5f62\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"})}},r._onSelectFormation=function(t){r._selected_formation=t,r._layer.boxes.deactivate(),createjs.Tween.get(r._layer.boxes).to({alpha:0},200),r._layer.fade.hide(200,r._showText2)},r._showText2=function(){var t=r._telopContainer.bg,e=r._telopContainer.text;e.position.set(o.default.width/2,o.default.height/2),e.texture=u.MAP_COMMON.getTexture(114),createjs.Tween.get(t).to({alpha:1,scaleY:1},200).wait(950).to({alpha:0,scaleY:0},200),createjs.Tween.get(e).wait(150).to({alpha:1},100).wait(200).to({x:570},300).to({x:450,alpha:0},400),createjs.Tween.get(r._layer.chara).wait(950).to({x:-75,alpha:0},600),createjs.Tween.get(r._view.map).wait(950).to({alpha:0},600).call(function(){r._view.map.ship_icon.stopWave(),r._preEnd()}),createjs.Tween.get(r._view.upper).wait(950).to({alpha:0},600),createjs.Tween.get(r._view.gauge_layer).wait(950).to({alpha:0},600),createjs.Tween.get(r).wait(750).call(function(){r._view.message_box.deactivate()})},r._view=e,r._deck=i,r._isLongRange=n,r}return n(e,t),Object.defineProperty(e.prototype,"selected_formation",{get:function(){return this._selected_formation},enumerable:!0,configurable:!0}),e.prototype._start=function(){this._layer=new p,this._view.universal_layer.addChild(this._layer),this._telopContainer=new d,this._view.top_layer.addChild(this._telopContainer),this._readyForFlagship()},e.prototype._readyForFlagship=function(){var t=this,e=this._deck.ships[0],i=e.mst_id,n=e.isDamaged();this._chara=new PIXI.Sprite;var o=r.default.model.ship_graph.get(i).getMapOffset(n);this._chara.position.set(-80+o.x,-93+o.y),this._chara.alpha=0,this._layer.chara.addChild(this._chara),(new l.ShipLoader).add(i,n,"full").load(function(){t._chara.texture=r.default.resources.getShip(i,n,"full"),t._showTelopBG()})},e.prototype._showTelopBG=function(){var t=this._telopContainer.bg;t.position.set(o.default.width/2,o.default.height/2),t.scaleY=0,t.alpha=0,t.texture=u.MAP_COMMON.getTexture(112),createjs.Tween.get(t).to({alpha:1,scaleY:1},500).call(this._showText)},e.prototype._preEnd=function(){this._view.universal_layer.removeChild(this._layer),this._view=null,this._deck=null,this._chara=null,this._layer=null,this._isLongRange=null,this._endTask()},e}(s.TaskBase);e.TaskFormationSelect=h;var p=function(t){function e(){var e=t.call(this)||this;return e._fade=new a.FadeBox(.6),e._fade.hide(0),e._chara=new PIXI.Sprite,e._boxes=new c.FormationBoxContainer,e.addChild(e._fade),e.addChild(e._chara),e.addChild(e._boxes),e}return n(e,t),Object.defineProperty(e.prototype,"fade",{get:function(){return this._fade},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chara",{get:function(){return this._chara},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boxes",{get:function(){return this._boxes},enumerable:!0,configurable:!0}),e}(PIXI.Container),d=function(t){function e(){var e=t.call(this)||this;return e._bg=new _.Sprite,e._bg.anchor.set(.5),e._text=new PIXI.Sprite,e._text.anchor.set(.5),e.addChild(e._bg),e.addChild(e._text),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(2),a=i(17),_=i(12),l=i(13),u=i(176),c=i(19),h=i(1272),p=function(t){function e(e,i,n){var r=t.call(this)||this;return r._selected_formation=12,r._showText=function(){var t=r._telopContainer.text;t.position.set(750,o.default.height/2),t.alpha=0,t.texture=c.MAP_COMMON.getTexture(115),createjs.Tween.get(t).to({x:630,alpha:1},500).to({x:585},500).call(r._formationSelect),createjs.Tween.get(r._chara).to({alpha:1},500);var e=r._view.shutter;e.alpha=0,e.close(0),createjs.Tween.get(e).to({alpha:1},400)},r._formationSelect=function(){var t=r._deck.type,e=r._deck.getCountSubDeck();if(r._layer.boxes.initialize(t,e,r._onSelectFormation),r._layer.boxes.alpha=0,r._layer.boxes.count<=1||r._isLongRange){r._isLongRange&&(r._selected_formation=14);var i=r._telopContainer.bg;createjs.Tween.get(i).wait(150).to({alpha:0,scaleY:0},100).call(r._showText2);var n=r._telopContainer.text;createjs.Tween.get(n).to({x:555,alpha:0},100)}else{r._layer.fade.show(200);var i=r._telopContainer.bg;createjs.Tween.get(i).wait(150).to({alpha:0,scaleY:0},100);var n=r._telopContainer.text;createjs.Tween.get(n).to({x:555,alpha:0},100),createjs.Tween.get(r._layer.boxes).to({alpha:1},300).call(function(){r._layer.boxes.activate(),r._view.message_box.text="\u9663\u5f62\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}),r._layer.description.alpha=0,1==t?r._layer.description.texture=u.SALLY_JIN.getTexture(18):2==t?r._layer.description.texture=u.SALLY_JIN.getTexture(38):3==t&&(r._layer.description.texture=u.SALLY_JIN.getTexture(43)),createjs.Tween.get(r._layer.description).to({alpha:1},300)}},r._onSelectFormation=function(t){r._selected_formation=t,r._layer.boxes.deactivate(),createjs.Tween.get(r._layer.boxes).to({alpha:0},200),createjs.Tween.get(r._layer.description).to({alpha:0},200),r._layer.fade.hide(200,r._showText2)},r._showText2=function(){var t=r._telopContainer.bg,e=r._telopContainer.text;e.position.set(o.default.width/2,o.default.height/2),e.texture=c.MAP_COMMON.getTexture(114),createjs.Tween.get(t).to({alpha:1,scaleY:1},200).wait(950).to({alpha:0,scaleY:0},200),createjs.Tween.get(e).wait(150).to({alpha:1},100).wait(200).to({x:570},300).to({x:450,alpha:0},400),createjs.Tween.get(r._layer.chara).wait(950).to({x:-75,alpha:0},600),createjs.Tween.get(r._view.map).wait(950).to({alpha:0},600).call(function(){r._view.map.ship_icon.stopWave(),r._preEnd()}),createjs.Tween.get(r._view.upper).wait(950).to({alpha:0},600),createjs.Tween.get(r._view.gauge_layer).wait(950).to({alpha:0},600),createjs.Tween.get(r).wait(750).call(function(){r._view.message_box.deactivate()})},r._view=e,r._deck=i,r._isLongRange=n,r}return n(e,t),Object.defineProperty(e.prototype,"selected_formation",{get:function(){return this._selected_formation},enumerable:!0,configurable:!0}),e.prototype._start=function(){this._layer=new d,this._view.universal_layer.addChild(this._layer),this._telopContainer=new f,this._view.top_layer.addChild(this._telopContainer),this._readyForFlagship()},e.prototype._readyForFlagship=function(){var t=this,e=this._deck.ships[0],i=e.mst_id,n=e.isDamaged();this._chara=new PIXI.Sprite;var o=r.default.model.ship_graph.get(i).getMapOffset(n);this._chara.position.set(-80+o.x,-93+o.y),this._chara.alpha=0,this._layer.chara.addChild(this._chara),(new l.ShipLoader).add(i,n,"full").load(function(){t._chara.texture=r.default.resources.getShip(i,n,"full"),t._showTelopBG()})},e.prototype._showTelopBG=function(){var t=this._telopContainer.bg;t.position.set(o.default.width/2,o.default.height/2),t.scaleY=0,t.alpha=0,t.texture=c.MAP_COMMON.getTexture(112),createjs.Tween.get(t).to({alpha:1,scaleY:1},500).call(this._showText)},e.prototype._preEnd=function(){this._view.universal_layer.removeChild(this._layer),this._view=null,this._deck=null,this._chara=null,this._layer=null,this._isLongRange=null,this._endTask()},e}(s.TaskBase);e.TaskFormationSelectCombined=p;var d=function(t){function e(){var e=t.call(this)||this;return e._fade=new a.FadeBox(.6),e._fade.hide(0),e._chara=new PIXI.Sprite,e._boxes=new h.FormationBoxContainerCombined,e._description=new PIXI.Sprite,e._description.x=984,e._description.y=500,e.addChild(e._fade),e.addChild(e._chara),e.addChild(e._boxes),e.addChild(e._description),e}return n(e,t),Object.defineProperty(e.prototype,"fade",{get:function(){return this._fade},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chara",{get:function(){return this._chara},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boxes",{get:function(){return this._boxes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return this._description},enumerable:!0,configurable:!0}),e}(PIXI.Container),f=function(t){function e(){var e=t.call(this)||this;return e._bg=new _.Sprite,e._bg.anchor.set(.5),e._text=new PIXI.Sprite,e._text.anchor.set(.5),e.addChild(e._bg),e.addChild(e._text),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1273),r=function(t){function e(){var e=t.call(this)||this;return e._count=0,e._boxes=[],e}return n(e,t),Object.defineProperty(e.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e,i){this._count=0;for(var n=[11,12,13,14],r=0;r<n.length;r++){var s=new o.FormationBoxCombined,a=[626,873,626,873][r],_=[96,96,302,302][r];s.position.set(a,_);var l=n[r];s.initialize(t,l,e,i),1==s.enabled&&this._count++,this.addChild(s),this._boxes.push(s)}},e.prototype.activate=function(){for(var t=0,e=this._boxes;t<e.length;t++){e[t].activate()}},e.prototype.deactivate=function(){for(var t=0,e=this._boxes;t<e.length;t++){e[t].deactivate()}},e.prototype.dispose=function(){for(var t=0,e=this._boxes;t<e.length;t++){e[t].dispose()}},e}(PIXI.Container);e.FormationBoxContainerCombined=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(125),r=i(176),s=i(1),a=function(t){function e(){var e=t.call(this)||this;return e._enabled=!1,e._bg=new PIXI.Sprite,e.addChild(e._bg),e._btn=new _,e._btn.position.set(17,143),e.addChild(e._btn),e}return n(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e,i,n){this._bg.texture=this._getTexture(t,e),this._enabled=!(13==e&&i<5)&&!(14==e&&i<4),1==this._enabled?this._btn.initialize(e,n):this.visible=!1},e.prototype.activate=function(){1==this._enabled&&this._btn.activate()},e.prototype.deactivate=function(){this._btn.deactivate()},e.prototype.dispose=function(){this._btn.dispose()},e.prototype._getTexture=function(t,e){switch(t){case 1:switch(e){case 11:return r.SALLY_JIN.getTexture(14);case 12:return r.SALLY_JIN.getTexture(15);case 13:return r.SALLY_JIN.getTexture(16);case 14:return r.SALLY_JIN.getTexture(17)}break;case 2:switch(e){case 11:return r.SALLY_JIN.getTexture(34);case 12:return r.SALLY_JIN.getTexture(35);case 13:return r.SALLY_JIN.getTexture(36);case 14:return r.SALLY_JIN.getTexture(37)}break;case 3:switch(e){case 11:return r.SALLY_JIN.getTexture(39);case 12:return r.SALLY_JIN.getTexture(40);case 13:return r.SALLY_JIN.getTexture(41);case 14:return r.SALLY_JIN.getTexture(42)}}return PIXI.Texture.EMPTY},e}(PIXI.Container);e.FormationBoxCombined=a;var _=function(t){function e(){var e=t.call(this)||this;return e._onMouseOver=function(){e._update(!0)},e._onMouseOut=function(){e._update(!1)},e._onClick=function(){null!=e._cb_onClick&&e._cb_onClick(e._type)},e.interactive=!0,e}return n(e,t),e.prototype.initialize=function(t,e){this._type=t,this._cb_onClick=e,this._update(!1)},e.prototype.activate=function(){if(1!=this.buttonMode){this.buttonMode=!0,this.on(s.EventType.MOUSEOVER,this._onMouseOver),this.on(s.EventType.MOUSEOUT,this._onMouseOut),this.on(s.EventType.CLICK,this._onClick);var t=o.InteractiveUtil.isOnMouse(this);this._update(t)}},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(s.EventType.MOUSEOVER,this._onMouseOver),this.off(s.EventType.MOUSEOUT,this._onMouseOut),this.off(s.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){1==this.buttonMode&&this.deactivate(),this._cb_onClick=null},e.prototype._update=function(t){this.texture=0==t?this._getTexture():this._getTextureOn()},e.prototype._getTexture=function(){switch(this._type){case 11:return r.SALLY_JIN.getTexture(19);case 12:return r.SALLY_JIN.getTexture(21);case 13:return r.SALLY_JIN.getTexture(23);case 14:return r.SALLY_JIN.getTexture(25);default:return PIXI.Texture.EMPTY}},e.prototype._getTextureOn=function(){switch(this._type){case 11:return r.SALLY_JIN.getTexture(20);case 12:return r.SALLY_JIN.getTexture(22);case 13:return r.SALLY_JIN.getTexture(24);case 14:return r.SALLY_JIN.getTexture(26);default:return PIXI.Texture.EMPTY}},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(6),s=i(19),a=i(439),_=function(t){function e(e,i){var n=t.call(this)||this;return n._scene=e,n._model=i,n}return n(e,t),e.prototype._start=function(){var t=this;this._data=this._model.sortie.getNextCell().getHappeningData(),this._scene.view.message_box.text="\u53f8\u4ee4\u5b98\uff01\u3046\u305a\u3057\u304a\u304c\u767a\u751f\u3057\u307e\u3057\u305f\uff01",this._uzu=new l;var e=this._scene.view.map.ship_icon;e.under.addChild(this._uzu),this._uzu.activate(),e.startWaveWhite(),r.SE.play("254");var i={rad:0,a:36};createjs.Tween.get(i,{onChange:function(){e.ship.x=Math.cos(i.rad)*i.a,e.ship.y=Math.sin(i.rad)*i.a,i.rad+=Math.PI/180*5*(60/createjs.Ticker.framerate)}}).to({a:0},2400).call(function(){e.stopWave(),t._animItem()})},e.prototype._animItem=function(){var t=this,e=this._data.getUseitemMstID(),i=this._data.lost_count,n=new a.CompDropItem;n.initialize(e,i);var o=this._scene.view.map.ship_icon;o.under.addChild(n),createjs.Tween.get(n).to({x:-120},1400),createjs.Tween.get(n).to({y:-60},400,createjs.Ease.quadOut).to({y:150},1e3,createjs.Ease.quadIn),createjs.Tween.get(n).wait(1200).to({alpha:0},200).call(function(){o.under.removeChild(n),n.dispose(),t._hideUzu()})},e.prototype._hideUzu=function(){var t=this,e=this._scene.view.map.ship_icon;createjs.Tween.get(this._uzu).to({alpha:0},200).call(function(){e.under.removeChild(t._uzu),t._uzu.deactivate(),t._uzu=null,t._showText()})},e.prototype._showText=function(){var t=this,e=this._data.getUseitemMstID(),i=this._data.lost_count,n=this._data.isDentan();this._scene.view.message_box.showUzushioText(e,i,n),createjs.Tween.get(null).wait(1e3).call(function(){t._endTask()})},e.prototype._endTask=function(){this._scene=null,this._model=null,this._data=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.CellTaskHappening=_;var l=function(t){function e(){var e=t.call(this)||this;e.scale.y=.5;var i=s.MAP_COMMON.getTexture(181);return e._content=new PIXI.Sprite(i),e._content.anchor.set(.5),e.addChild(e._content),e}return n(e,t),e.prototype.activate=function(){null==this._t&&(this._t=createjs.Tween.get(this._content,{loop:!0}).to({rotation:2*Math.PI},3e3))},e.prototype.deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(27),a=i(439),_=i(440),l=function(t){function e(e,i){var n=t.call(this)||this;return n._anim=function(){var t=n._getRandomShip(),e=t.mst_id;o.default.sound.voice.play(e.toString(),26);var i=new _.AnimFlagShip(n._scene,e,t.isDamaged()),r=new u(n._scene,n._drop_items);new s.ParallelTask(i,r).start(function(){n._endTask()})},n._scene=e,n._model=i,n}return n(e,t),e.prototype._start=function(){this._drop_items=this._model.sortie.getNextCell().getDropItems();for(var t=0,e=this._drop_items;t<e.length;t++){var i=e[t];i.icon_id;if(4==i.type){var n=i.getUseitemMstID();this._model.sortie.obtained_items.push(n)}else if(5==i.type){var n=i.getUseitemMstID();this._model.sortie.obtained_items.push(n)}}var o=this._drop_items.concat();this._animItem(o,this._anim)},e.prototype._animItem=function(t,e){var i=this;if(0==t.length)return void(null!=e&&e());var n=t.shift(),o=n.getUseitemMstID(),r=n.count,s=new a.CompDropItem;s.initialize(o,r);var _=this._scene.view.map.ship_icon;s.position.set(_.x,_.y),this._scene.view.addChild(s),createjs.Tween.get(s).to({y:_.y-60},400).to({y:_.y-75,alpha:0},200).call(function(){i._scene.view.removeChild(s),s.dispose(),_.startWaveWhite(),i._animItem(t,e)})},e.prototype._endTask=function(){this._scene.view.map.ship_icon.stopWave(),this._scene.view.message_box.text="",t.prototype._endTask.call(this)},e.prototype._getRandomShip=function(){for(var t=this._model.deck_f.ships,e=new Array,i=0,n=t;i<n.length;i++){var o=n[i];null!=o&&(0!=o.damageType&&1!=o.isTaihi()&&e.push(o))}return e[Math.floor(Math.random()*e.length)]},e}(r.TaskBase);e.CellTaskItem=l;var u=function(t){function e(e,i){var n=t.call(this)||this;return n._scene=e,n._items=i,n}return n(e,t),e.prototype._start=function(){this._current_index=0,this._loop()},e.prototype._loop=function(){if(this._current_index<this._items.length){var t=this._items[this._current_index];this._current_index++,this._show(t)}else this._endTask()},e.prototype._show=function(t){var e=this,i=t.getUseitemMstID(),n=t.count;this._scene.view.message_box.showItemGetText(i,n),createjs.Tween.get(null).wait(2e3).call(function(){e._loop()})},e.prototype._endTask=function(){this._scene=null,this._items=null,t.prototype._endTask.call(this)},e}(r.TaskBase)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(13),a=function(t){function e(e,i){var n=t.call(this)||this;return n._additional_waittime=0,n._scene=e,n._model=i,n}return n(e,t),e.prototype._start=function(){var t=this._model.sortie,e=t.getNextCell().isDeadEnd(),i=this._scene.resInfo.hasAirReconnaissancePoint();1==e&&1==i?(this._additional_waittime=3e3,o.default.sound.bgm.fadeOut(1e3),createjs.Tween.get(null).wait(1e3).call(function(){o.default.sound.bgm.play(4,!1,1e3,"fanfare")}),this._merefancy("\u6575\u5f71\u3092\u898b\u305a\u3002\n\u672c\u4f5c\u6226\u5b8c\u9042\u5931\u6557\u3002")):this._selectMessage()},e.prototype._selectMessage=function(){var t=this._model.sortie.getNextCell().flavor_text;if(null!=t&&t.length>0){var e=this._model.sortie.getNextCell().flavor_text_type;t=t.replace(/<br>/g,"\n"),0==e?this._merefancy(t):this._calm_sea(t)}else{var i=this._model.sortie.getNextCell().event_detail_id;0==i?this._merefancy("\u6c17\u306e\u305b\u3044\u3060\u3063\u305f\u3002"):1==i?this._merefancy("\u6575\u5f71\u3092\u898b\u305a\u3002"):3==i?this._calm_sea("\u7a4f\u3084\u304b\u306a\u6d77\u3067\u3059\u3002"):4==i?this._merefancy("\u7a4f\u3084\u304b\u306a\u6d77\u5ce1\u3067\u3059\u3002"):5==i?this._merefancy("\u8b66\u6212\u304c\u5fc5\u8981\u3067\u3059\u3002"):6==i?this._calm_sea("\u9759\u304b\u306a\u6d77\u3067\u3059\u3002"):this._merefancy("")}},e.prototype._merefancy=function(t){var e=this;this._scene.view.map.ship_icon.startWaveRed(function(){e._scene.view.message_box.text=t,e._stopShipWave(2e3)})},e.prototype._calm_sea=function(t){var e,i=this,n=this._model.deck_f.ships;if(n.length>6){e=n[Math.random()<.5?0:6]}else e=n[0];var o=e.mst_id,r=e.isDamaged(),a=new s.ShipLoader;a.add(o,r,"full"),a.load(function(){i._calm_sea2(o,r,t)})},e.prototype._calm_sea2=function(t,e,i){var n=this;this._chara=new PIXI.Sprite,this._chara.alpha=0,this._chara.texture=o.default.resources.getShip(t,e,"full");var r=o.default.model.ship_graph.get(t).getMapOffset(e);this._chara.x=-80+r.x,this._chara.y=-93+r.y,this._scene.view.chara_layer.addChild(this._chara),createjs.Tween.get(this._chara).to({alpha:1},300).call(function(){n._calm_sea3(i)})},e.prototype._calm_sea3=function(t){var e=this;this._scene.view.map.ship_icon.startWaveRed(function(){e._scene.view.message_box.text=t,e._stopShipWave(2e3)})},e.prototype._stopShipWave=function(t){var e=this;createjs.Tween.get(null).wait(t).call(function(){e._scene.view.map.ship_icon.stopWave(),e._changeCellColor()})},e.prototype._changeCellColor=function(){var t=this,e=this._model.sortie.getNextCell(),i=this._scene.view.map.spotLayer.getSpot(e.no);(8!=this._model.sortie.getCellInfo(e.no).color&&i.setColor(1),null!=this._chara)?(this._chara.x,createjs.Tween.get(this._chara).to({alpha:0},300).call(function(){t._chara.parent.removeChild(t._chara),t._endTask()})):this._endTask()},e.prototype._endTask=function(){var e=this;createjs.Tween.get(null).wait(this._additional_waittime).call(function(){t.prototype._endTask.call(e)})},e}(r.TaskBase);e.CellTaskFancy=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(23),s=i(6),a=i(19),_=i(1278),l=function(t){function e(e,i){var n=t.call(this)||this;return n.run=function(){n._timer<=0&&n._isTurn||(n._movePlane(),n._timer-=1e3/60,n._timer<=0&&!n._isTurn&&(n._timer=n._baseTime,n._isTurn=!n._isTurn))},n._scene=e,n._model=i,n}return n(e,t),e.prototype._start=function(){this._data=this._model.sortie.getNextCell().getAirReconnaissanceData(),this._showMessage()},e.prototype._showMessage=function(){var t=this,e=this._data.plane_type;this._data.result;1==e?(this._scene.view.message_box.text="\u5927\u578b\u98db\u884c\u8247\u306b\u3088\u308b\n\u822a\u7a7a\u5075\u5bdf\u3092\u5b9f\u65bd\u3057\u307e\u3059\u3002",this._flyPlane(e)):2==e?(this._scene.view.message_box.text="\u6c34\u4e0a\u5075\u5bdf\u6a5f\u306b\u3088\u308b\n\u822a\u7a7a\u5075\u5bdf\u3092\u5b9f\u65bd\u3057\u307e\u3059\u3002",this._flyPlane(e)):(this._scene.view.message_box.text="\u822a\u7a7a\u5075\u5bdf\u4e88\u5b9a\u5730\u70b9\u306b\u5230\u7740\u3057\u307e\u3057\u305f\u304c\u3001\n\u7a3c\u50cd\u5075\u5bdf\u6a5f\u304c\u306a\u3044\u305f\u3081\u3001\u5075\u5bdf\u3092\u4e2d\u6b62\u3057\u307e\u3059\u3002",createjs.Tween.get(null).wait(2e3).call(function(){t._scene.view.message_box.text="",t._endTask()}))},e.prototype._flyPlane=function(t){var e=this,i=this._scene.view.map.ship_icon;this._from=new PIXI.Point(i.x,i.y);var n=this._model.sortie.getNextCell().no;this._to=this._scene.resInfo.getAirReconnaissancePoint(n),null==this._to&&(this._to=new PIXI.Point(this._from.x,this._from.y));var o=this._to.x>this._from.x?1:-1;this._baseTime=1500,this._timer=1500,this._isTurn=!1;var r=new u;r.initialize(t),r.scale.set(0);var a=this._scene.view.universal_layer;this._container=new PIXI.Container,this._container.x=this._from.x,this._container.y=this._from.y,a.addChild(this._container),this._container.addChild(r),this._c1=new PIXI.Point(this._from.x-.3*(this._to.y-this._from.y),this._from.y+.3*(this._to.x-this._from.x)),this._c2=new PIXI.Point(this._to.x-.3*(this._from.y-this._to.y),this._to.y+.3*(this._from.x-this._to.x)),createjs.Tween.get(this._container).wait(200).call(function(){e._bezierTween=createjs.Tween.get({}),e._bezierTween.wait(3e3),e._bezierTween.addEventListener("change",function(){e.run()})}).wait(3e3).wait(300).call(function(){a.removeChild(e._container),e._showBalloon()}),createjs.Tween.get(r).to({scaleX:o,scaleY:1},200).wait(100).call(function(){s.SE.play("228")}).wait(1200).to({scaleX:-o},400).wait(1200).to({scaleX:0,scaleY:0},100)},e.prototype._movePlane=function(){var t=(this._baseTime-this._timer)/this._baseTime,e=this._isTurn?1*t:1*t-1,i=this._isTurn?this._to:this._from,n=this._isTurn?this._from:this._to,o=this._isTurn?this._c2:this._c1;this._container.position.x=(1-t)*(1-t)*i.x+2*(1-t)*t*o.x+t*t*n.x,this._container.position.y=(1-t)*(1-t)*i.y+2*(1-t)*t*o.y+t*t*n.y,0!=e&&(this._container.position.y+=((Math.abs(e)-.5)*(Math.abs(e)-.5)*38*4-38)*(Math.abs(e)/e))},e.prototype._showBalloon=function(){var t=this;this._scene.view.message_box.text="";var e=this._data.result,i=this._model.sortie.getNextCell().getDropItems(),n=0,o=0;if(null!=i&&i.length>0){var r=i[0];n=r.icon_id,o=r.count}var s=new _.AirReconnaissanceBalloon;s.x=21,s.y=-6,s.alpha=0,s.initialize(e,n,o);var a=this._scene.view.map.ship_icon;a.addChild(s),createjs.Tween.get(s).to({y:-29,alpha:1},100).wait(4e3).to({y:-6,alpha:0},100).call(function(){a.removeChild(s),t._endTask()})},e.prototype._endTask=function(){this._scene=null,this._model=null,this._data=null,this._container=null,this._from=null,this._to=null,this._c1=null,this._c2=null,this._baseTime=null,this._timer=null,this._bezierTween=null,this._isTurn=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.CellTaskAirReconnaissance=l;var u=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite,e.addChild(e._img),e}return n(e,t),e.prototype.initialize=function(t){switch(t){case 2:this._img.texture=a.MAP_COMMON.getTexture(106),this._img.position.set(-74,-84);break;case 1:this._img.texture=a.MAP_COMMON.getTexture(107),this._img.position.set(-74,-101);break;default:this._img.texture=null}},e}(r.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(19),r=i(247),s=function(t){function e(){var e=t.call(this)||this;return e._bg=new PIXI.Sprite,e._bg.x=-11,e._bg.y=-128,e.addChild(e._bg),e._label1=new PIXI.Sprite,e.addChild(e._label1),e._label2=new PIXI.Sprite,e.addChild(e._label2),e._icon=new PIXI.Sprite,e._icon.anchor.x=1,e._icon.position.set(44,-80),e.addChild(e._icon),e}return n(e,t),e.prototype.initialize=function(t,e,i){switch(this._bg.texture=o.MAP_COMMON.getTexture(50),2==t?(this._label1.texture=o.MAP_COMMON.getTexture(183),this._label1.position.set(20,-117),this._label2.texture=o.MAP_COMMON.getTexture(185),this._label2.position.set(20,-41)):1==t?(this._label1.texture=o.MAP_COMMON.getTexture(184),this._label1.position.set(24,-117),this._label2.texture=o.MAP_COMMON.getTexture(185),this._label2.position.set(20,-41)):(this._label1.texture=o.MAP_COMMON.getTexture(186),this._label1.position.set(11,-86),this._label2.texture=PIXI.Texture.EMPTY),e){case 2:this._icon.texture=o.MAP_COMMON.getTexture(80);break;case 4:this._icon.texture=o.MAP_COMMON.getTexture(81);break;case 7:this._icon.texture=o.MAP_COMMON.getTexture(82);break;default:this._icon.texture=PIXI.Texture.EMPTY}if(i>0){var n=Math.log(i)*Math.LOG10E+1;n=Math.floor(n);for(var s=i,a=0;a<n;a++){var _=new r.NumericalDisplay(s%10);_.x=77+n/2*_.width-a*_.width,_.y=-60,this.addChild(_),s=Math.floor(s/10)}var l=new r.NumericalDisplay(-1);l.x=77-n/2*l.width,l.y=-60,this.addChild(l)}},e}(PIXI.Container);e.AirReconnaissanceBalloon=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(2),a=i(8),_=i(50),l=i(23),u=i(40),c=i(59),h=i(248),p=i(19),d=i(247),f=i(1),y=function(t){function e(e,i){var n=t.call(this)||this;return n._vanishGauge=function(){r.default.sound.bgm.play(135,!1),n._scene.view.gauge_layer.vanish(function(){createjs.Tween.get(null).wait(9500).call(function(){n._hideBalloon()})})},n._hideBalloon=function(){createjs.Tween.get(n._balloon).wait(500).to({y:-6,alpha:0},100).call(function(){n._balloon.parent.removeChild(n._balloon),n._balloon=null,n._hideMapUI()})},n._showWarResult=function(){n._model.sortie.getNextCell().getEOSupplyWarResult()>0?(n._dialog=new g,n._dialog.position.set(o.default.width/2,o.default.height/2),n._dialog.initialize(),n._dialog.activate(),n._dialog.scale.set(1.2),n._dialog.alpha=0,n._scene.view.universal_layer.addChild(n._dialog),createjs.Tween.get(n._dialog).wait(500).to({scaleX:1,scaleY:1,alpha:1},350).call(function(){var t=new a.AreaBox(0);t.buttonMode=!0;var e=new c.GearBtnNext;e.position.set(1140,660),e.initialize(),e.activate(),t.addChild(e),n._scene.view.universal_layer.addChild(t),t.once(f.EventType.CLICK,function(){createjs.Tween.get(e).to({alpha:0},300).call(function(){e.deactivate(),e.dispose(),n._scene.view.universal_layer.removeChild(t),n._showBonusItem()})})})):n._showBonusItem()},n._waitClick=function(){null!=n._dialog&&(n._scene.view.universal_layer.removeChild(n._dialog),n._dialog.deactivate(),n._dialog.dispose(),n._dialog=null),null!=n._bonus_task&&(n._bonus_task.dispose(),n._bonus_task=null);var t=new a.AreaBox(0),e=new u.GearBtnHome;e.position.set(1140,660),e.initialize(),e.activate(),t.addChild(e),t.buttonMode=!0,n._scene.view.universal_layer.addChild(t),t.once(f.EventType.CLICK,function(){t.buttonMode=!1,createjs.Tween.get(e).to({alpha:0},300).call(function(){e.deactivate(),e.dispose(),t.removeChild(e),n._endTask()})})},n._scene=e,n._model=i,n}return n(e,t),e.prototype._start=function(){this._showBalloon()},e.prototype._showBalloon=function(){var t=this,e=this._model.sortie.getNextCell(),i=e.getEOSupplyItem();null!=i&&i.count>0?(r.default.sound.bgm.fadeOut(1e3),createjs.Tween.get(null).wait(1200).call(function(){r.default.sound.bgm.play(134,!1),t._balloon=new m,t._balloon.x=21,t._balloon.y=-6,t._balloon.alpha=0,t._balloon.initialize(i.id,i.count),t._scene.view.map.ship_icon.addChild(t._balloon),createjs.Tween.get(t._balloon).to({y:-29,alpha:1},100)}).wait(4e3).call(function(){t._reduceGauge()})):this._reduceGauge()},e.prototype._reduceGauge=function(){var t=this,e=this._model.sortie.map.defeat_required,i=e-this._model.sortie.map.defeat_count;if(e>0&&i>0){i-=1;var n=createjs.Tween.get(null);n.wait(1500),0==i?n.call(function(){t._scene.view.gauge_layer.update(i,e,2e3,t._vanishGauge)}):n.call(function(){t._scene.view.gauge_layer.update(i,e,2e3,t._hideBalloon)})}else this._hideBalloon()},e.prototype._hideMapUI=function(){var t=this;this._scene.view.message_box.deactivate(function(){createjs.Tween.get(t._scene.view.gauge_layer).to({alpha:0},300).wait(500).call(function(){var e=t._model.sortie.getNextCell(),i=e.getEOSupplyWarResult(),n=e.getEOSupplyBonusItem();i<=0&&null==n?t._closeShutter2():t._closeShutter1()})})},e.prototype._closeShutter1=function(){var t=new _.Shutter;t.initializeDark(),this._scene.view.universal_layer.addChild(t),t.close(200),createjs.Tween.get(null).wait(500).call(this._showWarResult)},e.prototype._showBonusItem=function(){var t=this,e=this._model.sortie.getNextCell(),i=e.getEOSupplyBonusItem();if(null!=i){if(5==i.type){var n=this._scene.view.universal_layer,o=i.id,r=i.count;this._bonus_task=new h.TaskBonusUseItem(n,o,r,!0),this._bonus_task.start(function(){t._closeShutter2()})}}else this._closeShutter2()},e.prototype._closeShutter2=function(){var t=new _.Shutter;t.initializeDark(),this._scene.view.universal_layer.addChild(t),t.close(200),createjs.Tween.get(null).wait(500).call(this._waitClick)},e}(s.TaskBase);e.CellTaskAnchor=y;var m=function(t){function e(){var e=t.call(this)||this;return e._bg=new PIXI.Sprite,e._bg.y=-92,e.addChild(e._bg),e}return n(e,t),e.prototype.initialize=function(t,e){switch(t){case 1:this._bg.texture=p.MAP_COMMON.getTexture(52);break;case 2:this._bg.texture=p.MAP_COMMON.getTexture(56);break;case 3:this._bg.texture=p.MAP_COMMON.getTexture(60);break;case 4:this._bg.texture=p.MAP_COMMON.getTexture(64);break;default:this._bg.texture=PIXI.Texture.EMPTY}var i=Math.log(e)*Math.LOG10E+1;i=Math.floor(i);for(var n=e,o=0;o<i;o++){var r=new d.NumericalDisplay(n%10);r.x=45+15*i/2-15*o,r.y=-18,this.addChild(r),n=Math.floor(n/10)}var s=new d.NumericalDisplay(-1);s.x=45+-8*i,s.y=-18,this.addChild(s)},e}(PIXI.Container),g=function(t){function e(){var e=t.call(this)||this;return e._bg=new PIXI.Sprite,e._bg.position.set(-369,-125),e.addChild(e._bg),e._txt1=new PIXI.Sprite,e._txt1.position.set(-189,6),e.addChild(e._txt1),e._txt2=new PIXI.Sprite,e._txt2.position.set(12,50),e.addChild(e._txt2),e._txt3=new PIXI.Sprite,e._txt3.position.set(39,48),e.addChild(e._txt3),e._img=new PIXI.Sprite,e._img.position.set(203,-48),e.addChild(e._img),e}return n(e,t),e.prototype.initialize=function(){this._bg.texture=p.MAP_COMMON.getTexture(162),this._txt1.texture=p.MAP_COMMON.getTexture(165),this._txt2.texture=p.MAP_COMMON.getTexture(166),this._txt3.texture=p.MAP_COMMON.getTexture(167),this._img.texture=p.MAP_COMMON.getTexture(163)},e.prototype.activate=function(){var t=this;null==this._t&&(this._img.texture=p.MAP_COMMON.getTexture(163),this._t=createjs.Tween.get(null,{loop:!0}).wait(300).call(function(){t._img.texture=p.MAP_COMMON.getTexture(164)}).wait(300).call(function(){t._img.texture=p.MAP_COMMON.getTexture(163)}))},e.prototype.deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null,this._img.texture=p.MAP_COMMON.getTexture(163))},e.prototype.dispose=function(){this.deactivate()},e}(l.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(8),s=i(60),a=i(81),_=i(208),l=function(t){function e(){var e=t.call(this)||this;return e._bg=new s.RarityBG,e._item=new PIXI.Sprite,e._item.anchor.set(.5),e._particle=new _.BonusParticle,e._message_box=new a.MessageBox,e._message_box.y=721,e._white=new r.AreaBox(1,16777215),e.addChild(e._bg),e.addChild(e._item),e.addChild(e._particle),e.addChild(e._message_box),e.addChild(e._white),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"particle",{get:function(){return this._particle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message_box",{get:function(){return this._message_box},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"white",{get:function(){return this._white},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e,i){this._item.texture=o.default.resources.getUseitem(t,1),this._item.position.set(600,255),85==t||85==t||85==t||85==t?this._message_box.initializeForFood(i):this._message_box.initializeForUseitem(i,e)},e.prototype.dispose=function(){this.removeChildren(),this._bg=null,this._item=null,this._particle.dispose(),this._particle=null,this._message_box.dispose(),this._message_box=null,this._white=null},e}(PIXI.Container);e.BonusUseItem=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(29),s=i(38),a=i(1282),_=i(246),l=function(t){function e(e,i){var n=t.call(this)||this;return n._scene=e,n._model=i,n}return n(e,t),e.prototype._start=function(){var t=this._model.sortie.map;1==t.isCleared()?this._startNoLanding("\u8f38\u9001\u7269\u8cc7\u306e\u63da\u9678\u5730\u70b9\u306b\u5230\u9054\u3057\u307e\u3057\u305f\u3002\n\u672c\u6d77\u57df\u306e\u8f38\u9001\u4f5c\u6226\u306f\u7121\u4e8b\u5b8c\u4e86\u3057\u3066\u3044\u307e\u3059\u3002"):3==t.gauge_type?this._startWithLanding():this._startNoLanding("\u8f38\u9001\u7269\u8cc7\u306e\u63da\u9678\u5730\u70b9\u306b\u5230\u9054\u3057\u307e\u3057\u305f\u3002\n\u540c\u5730\u70b9\u4ed8\u8fd1\u306e\u6575\u8266\u968a\u3092\u635c\u7d22\u3001\u3053\u308c\u3092\u6483\u6ec5\u305b\u3088\uff01")},e.prototype._startWithLanding=function(){var t=this;this._showWave(),createjs.Tween.get(null).wait(500).call(function(){t._showMessage("\u8f38\u9001\u7269\u8cc7\u306e\u63da\u9678\u5730\u70b9\u306b\u5230\u9054\u3057\u307e\u3057\u305f\u3002\n\u7269\u8cc7\u306e\u63da\u9678\u3092\u958b\u59cb\u3057\u307e\u3059\u3002")}).wait(3e3).call(function(){t._showMessage("")}).wait(600).call(function(){t._taskLanding()})},e.prototype._taskLanding=function(){var t=this,e=new r.SerialTask,i=this._scene.view,n=this._scene.view.map.ship_icon.getGlobalPosition(),o=this._createShipList(),_=this._getDrumAndDaihatsuCount(o),l=_.drum_count,c=_.daihatsu_count,h=this._model.sortie.getNextCell().no,p=this._scene.resInfo.getLandingBalloonType(h),d=new a.TaskLandingBalloon(i,n,l,c,p);e.add(d),e.add(new s.WaitTask(200)),e.add(new u(this._scene,this._model)),e.add(new s.WaitTask(1e3)),e.start(function(){t._endTask()})},e.prototype._startNoLanding=function(t){var e=this;this._showWave(),createjs.Tween.get(null).wait(500).call(function(){e._showMessage(t)}).wait(3e3).call(function(){e._showMessage("")}).wait(1e3).call(function(){e._endTask()})},e.prototype._showWave=function(){var t=this._model.sortie.getNextCell().no,e=this._scene.view.map.spotLayer.getSpot(t);this._wave=new _.CellWave,this._wave.x=e.x,this._wave.y=e.y,this._scene.view.map.spotLayer.addChild(this._wave),this._wave.activate()},e.prototype._showMessage=function(t){this._scene.view.message_box.text=t},e.prototype._createShipList=function(){for(var t=this._model.deck_f.ships.concat(),e=[],i=0,n=t;i<n.length;i++){var o=n[i];if(null!=o){var r=o.damageType;0!=r&&25!=r&&1!=o.isTaihi()&&e.push(o)}}return e},e.prototype._getDrumAndDaihatsuCount=function(t){for(var e=0,i=0,n=0,o=t;n<o.length;n++)for(var r=o[n],s=0,a=r.slots;s<a.length;s++){var _=a[s];null!=_&&(75==_.mst_id?e++:24==_.equipType?i++:46==_.equipType&&i++)}return{drum_count:e,daihatsu_count:i}},e.prototype._endTask=function(){null!=this._wave&&(null!=this._wave.parent&&this._wave.parent.removeChild(this._wave),this._wave.dispose(),this._wave=null),this._scene=null,this._model=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.CellTaskLanding=l;var u=function(t){function e(e,i){var n=t.call(this)||this;return n._scene=e,n._model=i,n}return n(e,t),e.prototype._start=function(){var t=this,e=this._model.sortie.getNextCell().no,i=this._scene.view.map.spotLayer.getFlag(e);if(null==i)for(var n=this._scene.resInfo.getSameSpotData(e),o=0,r=n;o<r.length;o++){var s=r[o];if(null!=(i=this._scene.view.map.spotLayer.getFlag(s.no)))break}null==i?this._endTask():createjs.Tween.get(i).to({scaleX:1.6,scaleY:1.6},200,createjs.Ease.sineOut).to({scaleX:1,scaleY:1},800,createjs.Ease.sineIn).call(function(){t._endTask()})},e.prototype._endTask=function(){this._scene=null,this._model=null,t.prototype._endTask.call(this)},e}(o.TaskBase)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(20),s=i(1283),a=function(t){function e(e,i,n,o,r){var s=t.call(this)||this;return s._layer=e,s._ship_pos=i,s._drum_num=n,s._daihatsu_num=o,s._direction=r,s}return n(e,t),e.prototype._start=function(){this._balloon1=this._createBalloon(this._direction,1),this._balloon1.initialize(),this._drum_num>0&&(this._balloon2=this._createBalloon(this._direction,2),this._balloon2.initialize(),this._balloon2.update(this._drum_num)),this._daihatsu_num>0&&(this._balloon3=this._createBalloon(this._direction,3),this._balloon3.initialize(),this._balloon3.update(this._daihatsu_num)),this._showBalloons()},e.prototype._createBalloon=function(t,e){return 0==t?new s.LandingBalloonType1(e):1==t?new s.LandingBalloonType2(e):2==t?new s.LandingBalloonType3(e):null},e.prototype._showBalloons=function(){var t=this,e=new r.TweenTask;0==this._direction?(e.addTween(this._createShowTween(this._balloon1,48,-18)),null!=this._balloon2&&e.addTween(this._createShowTween(this._balloon2,0,-42)),null!=this._balloon3&&e.addTween(this._createShowTween(this._balloon3,-51,-18))):1==this._direction?(e.addTween(this._createShowTween(this._balloon1,50,-9)),null!=this._balloon2&&e.addTween(this._createShowTween(this._balloon2,44,8)),null!=this._balloon3&&e.addTween(this._createShowTween(this._balloon3,-15,8))):2==this._direction&&(e.addTween(this._createShowTween(this._balloon1,-14,-21)),null!=this._balloon2&&e.addTween(this._createShowTween(this._balloon2,-33,-17)),null!=this._balloon3&&e.addTween(this._createShowTween(this._balloon3,-24,8))),e.start(function(){t._wait()})},e.prototype._wait=function(){var t=this;createjs.Tween.get(null).wait(250).call(function(){t._scaling()})},e.prototype._scaling=function(){var t=this,e=new r.TweenTask;e.addTween(this._createScalingTween(this._balloon1)),null!=this._balloon2&&e.addTween(this._createScalingTween(this._balloon2)),null!=this._balloon3&&e.addTween(this._createScalingTween(this._balloon3)),e.start(function(){t._wait2()})},e.prototype._wait2=function(){var t=this;createjs.Tween.get(null).wait(2e3).call(function(){t._hideBalloons()})},e.prototype._hideBalloons=function(){var t=this,e=new r.TweenTask;e.addTween(this._createHideTween(this._balloon1)),null!=this._balloon2&&e.addTween(this._createHideTween(this._balloon2)),null!=this._balloon3&&e.addTween(this._createHideTween(this._balloon3)),e.start(function(){t._endTask()})},e.prototype._createShowTween=function(t,e,i){var n=this;return t.x=this._ship_pos.x+e,t.y=this._ship_pos.y+i+23,t.alpha=0,createjs.Tween.get(t).call(function(){n._layer.addChild(t)}).to({y:this._ship_pos.y+i,alpha:1},100,createjs.Ease.sineOut)},e.prototype._createScalingTween=function(t){var e=t.y;return createjs.Tween.get(t).to({y:e-5,scaleX:1.2,scaleY:1.2},150,createjs.Ease.sineOut).to({y:e,scaleX:1,scaleY:1},300,createjs.Ease.sineOut)},e.prototype._createHideTween=function(t){var e=this;return createjs.Tween.get(t).to({y:t.y+23,alpha:0},100,createjs.Ease.sineOut).call(function(){e._layer.removeChild(t)})},e.prototype._endTask=function(){this._layer=null,this._ship_pos=null,this._balloon1=null,this._balloon2=null,this._balloon3=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskLandingBalloon=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(23),r=i(19),s=i(1284),a=function(t){function e(e){var i=t.call(this)||this;return i._type=e,i._img=new PIXI.Sprite,i.addChild(i._img),i._numset=new s.NumericalDisplaySet,i.addChild(i._numset),i._numset.visible=!1,i}return n(e,t),e}(o.Container);e.LandingBalloonBase=a;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initialize=function(){1==this._type?(this._img.texture=r.MAP_COMMON.getTexture(53),this._img.position.set(-5,-92)):2==this._type?(this._img.texture=r.MAP_COMMON.getTexture(54),this._img.position.set(-45,-105)):3==this._type&&(this._img.texture=r.MAP_COMMON.getTexture(55),this._img.position.set(-86,-92))},e.prototype.update=function(t){this._numset.update(t),2==this._type?(this._numset.x=8-Math.round(this._numset.width/2),this._numset.y=-36,this._numset.visible=!0):3==this._type?(this._numset.x=-33-Math.round(this._numset.width/2),this._numset.y=-23,this._numset.visible=!0):this._numset.visible=!1},e}(a);e.LandingBalloonType1=_;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initialize=function(){1==this._type?(this._img.texture=r.MAP_COMMON.getTexture(57),this._img.position.set(0,-45)):2==this._type?(this._img.texture=r.MAP_COMMON.getTexture(58),this._img.position.set(-29,0)):3==this._type&&(this._img.texture=r.MAP_COMMON.getTexture(59),this._img.position.set(-63,0))},e.prototype.update=function(t){this._numset.update(t),2==this._type?(this._numset.x=24-Math.round(this._numset.width/2),this._numset.y=84,this._numset.visible=!0):3==this._type?(this._numset.x=-12-Math.round(this._numset.width/2),this._numset.y=83,this._numset.visible=!0):this._numset.visible=!1},e}(a);e.LandingBalloonType2=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initialize=function(){1==this._type?(this._img.texture=r.MAP_COMMON.getTexture(61),this._img.position.set(-15,-101)):2==this._type?(this._img.texture=r.MAP_COMMON.getTexture(62),this._img.position.set(-87,-93)):3==this._type&&(this._img.texture=r.MAP_COMMON.getTexture(63),this._img.position.set(-99,-12))},e.prototype.update=function(t){this._numset.update(t),2==this._type?(this._numset.x=-35-Math.round(this._numset.width/2),this._numset.y=-23,this._numset.visible=!0):3==this._type?(this._numset.x=-47-Math.round(this._numset.width/2),this._numset.y=57,this._numset.visible=!0):this._numset.visible=!1},e}(a);e.LandingBalloonType3=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(247),r=function(t){function e(){var e=t.call(this)||this;return e._imgs=[],e}return n(e,t),e.prototype.update=function(t){if(this._imgs=[],t<=0){var e=new o.NumericalDisplay(0);this.addChild(e),this._imgs.push(e)}else for(;t>0;){var i=t%10,e=new o.NumericalDisplay(i);this.addChild(e),this._imgs.push(e),t=Math.floor(t/10)}var n=new o.NumericalDisplay(-1);this.addChild(n),this._imgs.push(n),this._imgs=this._imgs.reverse();for(var r=0,s=0,a=this._imgs;s<a.length;s++){var _=a[s];_.x=r,r+=_.width}},e}(PIXI.Container);e.NumericalDisplaySet=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(146),a=i(7),_=i(2),l=i(244),u=i(50),c=i(6),h=i(1286),p=i(1287),d=function(t){function e(e,i,n,o,r,s,a,_,l,u){var c=t.call(this)||this;return c._PLANEKEY="airbaseraid",c._area_id=e,c._map_no=i,c._battle_obj=n,c._has_boku_airunit=o,c._mapinfo=r,c._plane_layer=s,c._telop_layer=a,c._battle_layer=_,c._airbase_layer=l,c._battle_cls=u,c}return n(e,t),e.prototype._start=function(){null==this._battle_obj?this._endTask():(c.SE.play("253"),this._flightEnemyAirUnit())},e.prototype._flightEnemyAirUnit=function(){var t=this,e=this._mapinfo.getAirBaseRaidOption();this._plane_layer.show(this._PLANEKEY,e,2e3,this._map_no,this._area_id,function(){t._showTelop()})},e.prototype._showTelop=function(){var t=this,e=new h.AirRaidTelop;e.initialize(this._has_boku_airunit),e.x=o.default.width/2,e.y=o.default.height/2,this._telop_layer.addChild(e),e.playAnimation(function(){t._telop_layer.removeChild(e),t._fadeoutBGM()})},e.prototype._fadeoutBGM=function(){var t=this;1==r.default.sound.bgm.playing?(r.default.sound.bgm.fadeOut(1e3),createjs.Tween.get(this).wait(1e3).call(function(){t._startBattle()})):this._startBattle()},e.prototype._startBattle=function(){var t=this,e=new l.BattleSceneModel(!1);e.setGekimetsuData(this._battle_obj);var i=new u.Shutter;i.initializeDark(),i.close(0),this._battle_layer.addChild(i);var n=new this._battle_cls;n.initialize(e),this._battle_layer.addChild(n),i.alpha=0,n.alpha=0,createjs.Tween.get(i).to({alpha:1},200),createjs.Tween.get(n).to({alpha:1},300).call(function(){n.once("complete",function(){t._hideBattle(i,n)}),n.start()})},e.prototype._hideBattle=function(t,e){var i=this;this._plane_layer.hide(this._PLANEKEY),this._battle_layer.removeChild(e),e.dispose(),createjs.Tween.get(t).wait(800).to({alpha:0},300).wait(400).call(function(){i._battle_layer.removeChild(t),i._showResultTelop()})},e.prototype._showResultTelop=function(){var t=this,e=s.MapConst.getMapBGMID(this._area_id,this._map_no);1==e.battle_bgm?r.default.sound.bgm.playBattleBGM(e.id):r.default.sound.bgm.play(e.id);var i=a.ObjUtil.getNumber(this._battle_obj,"api_lost_kind"),n=new p.AirRaidResultTelop;n.initialize(i),n.x=o.default.width/2,n.y=o.default.height/2,this._telop_layer.addChild(n),n.playAnimation(function(){t._telop_layer.removeChild(n),t._endTask()}),4!=i&&null!=this._airbase_layer&&this._airbase_layer.shake()},e.prototype._endTask=function(){this._battle_obj=null,this._mapinfo=null,this._plane_layer=null,this._telop_layer=null,this._battle_layer=null,this._battle_cls=null,t.prototype._endTask.call(this)},e}(_.TaskBase);e.AirRaidTask=d},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(20),r=i(62),s=i(19),a=function(t){function e(){var e=t.call(this)||this;return e._bg=new r.CenteringSprite,e._bg.y=-45,e.addChild(e._bg),e._txt1=new r.CenteringSprite,e._txt1.y=-45,e.addChild(e._txt1),e._txt2=new r.CenteringSprite,e._txt2.y=90,e.addChild(e._txt2),e}return n(e,t),e.prototype.initialize=function(t){this._bg.alpha=0,this._bg.scale.y=0,this._bg.texture=s.MAP_COMMON.getTexture(112),this._txt1.alpha=0,this._txt1.x=150,this._txt1.texture=s.MAP_COMMON.getTexture(117),this._txt2.alpha=0,this._txt2.texture=1==t?s.MAP_COMMON.getTexture(119):s.MAP_COMMON.getTexture(118)},e.prototype.playAnimation=function(t){this._animation1(t)},e.prototype._animation1=function(t){var e=this,i=new o.TweenTask;i.addTween(createjs.Tween.get(this._bg).to({alpha:1,scaleY:1},500)),i.addTween(createjs.Tween.get(this._txt1).wait(300).to({x:30,alpha:1},700)),i.addTween(createjs.Tween.get(this._txt2).wait(300).to({alpha:1},700)),i.start(function(){e._animation2(t)})},e.prototype._animation2=function(t){var e=new o.TweenTask;e.addTween(createjs.Tween.get(this._bg).wait(1200).to({scaleY:0},200)),e.addTween(createjs.Tween.get(this._txt1).wait(800).to({x:-40,alpha:0},300)),e.addTween(createjs.Tween.get(this._txt2).wait(1100).to({alpha:0},100)),e.start(function(){null!=t&&t()})},e}(PIXI.Container);e.AirRaidTelop=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(62),s=i(19),a=function(t){function e(){var e=t.call(this)||this;return e._container=new PIXI.Container,e.addChild(e._container),e._bg=new r.CenteringSprite,e._bg.scale.x=1.2,e._container.addChild(e._bg),e._txt=new r.CenteringSprite,e._container.addChild(e._txt),e}return n(e,t),e.prototype.initialize=function(t){switch(t){case 1:this._bg.texture=s.MAP_COMMON.getTexture(109),this._txt.texture=s.MAP_COMMON.getTexture(120);break;case 2:this._bg.texture=s.MAP_COMMON.getTexture(112),this._txt.texture=s.MAP_COMMON.getTexture(122);break;case 3:this._bg.texture=s.MAP_COMMON.getTexture(109),this._txt.texture=s.MAP_COMMON.getTexture(121);break;case 4:this._bg.texture=s.MAP_COMMON.getTexture(110),this._txt.texture=s.MAP_COMMON.getTexture(123)}this._container.y=-o.default.height/2-this._container.height},e.prototype.playAnimation=function(t){createjs.Tween.get(this._container).to({y:0},600,createjs.Ease.sineOut).wait(1e3).to({y:o.default.height/2+this.height},600,createjs.Ease.sineIn).call(t)},e}(PIXI.Container);e.AirRaidResultTelop=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(125),s=i(2),a=i(12),_=i(6),l=i(19),u=i(1),c=function(t){function e(e){var i=t.call(this)||this;return i._result=!1,i._onSelect=function(t){_.SE.play("106"),i._result=t,i._hide()},i._view=e,i}return n(e,t),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e.prototype._start=function(){this._layer=new h(this._onSelect),this._layer.position.set(o.default.width/2,o.default.height/2),this._layer.alpha=0,this._view.addChild(this._layer),this._showBtns()},e.prototype._showBtns=function(){var t=this;this._layer.initialize(),createjs.Tween.get(this._layer).to({alpha:1},300).call(function(){t._layer.activate()})},e.prototype._hide=function(){var t=this;this._layer.deactivate(),createjs.Tween.get(this._layer.btn_march).to({x:-o.default.width/2},500),createjs.Tween.get(this._layer.btn_retreat).to({x:o.default.width/2},500).call(function(){t._endTask()})},e.prototype._endTask=function(){this._view.removeChild(this._layer),this._layer.dispose(),this._view=null,this._layer=null,t.prototype._endTask.call(this)},e}(s.TaskBase);e.TaskMarchRetreatSelect=c;var h=function(t){function e(e){var i=t.call(this)||this;return i._btn_march=new y(e),i._btn_march.position.set(-162,0),i._btn_retreat=new f(e),i._btn_retreat.position.set(162,0),i.addChild(i._btn_march),i.addChild(i._btn_retreat),i}return n(e,t),Object.defineProperty(e.prototype,"btn_march",{get:function(){return this._btn_march},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_retreat",{get:function(){return this._btn_retreat},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._btn_march.initialize(),this._btn_retreat.initialize()},e.prototype.activate=function(){this._btn_march.activate(),this._btn_retreat.activate()},e.prototype.deactivate=function(){this._btn_march.deactivate(),this._btn_retreat.deactivate()},e.prototype.dispose=function(){this._btn_march.dispose(),this._btn_retreat.dispose()},e}(PIXI.Container),p=function(t){function e(e,i){var n=t.call(this)||this;return n._onMouseOver=function(){n._setTexture(!0),n._wave.start()},n._onMouseOut=function(){n._setTexture(!1),n._wave.stop()},n._onClick=function(){0!=n.buttonMode&&null!=n._cb_onClick&&n._cb_onClick(n._value)},n._value=e,n._cb_onClick=i,n._wave=new d,n._btn=new PIXI.Sprite,n.interactive=!0,n.addChild(n._wave),n.addChild(n._btn),n}return n(e,t),e.prototype._initialize=function(t){for(var e=[new PIXI.Point(-17,-72),new PIXI.Point(83,-62),new PIXI.Point(101,12),new PIXI.Point(21,75),new PIXI.Point(-77,63),new PIXI.Point(-95,-9)],i=0,n=e;i<n.length;i++){n[i].x+=t}this.hitArea=new PIXI.Polygon(e),this._wave.initialize(),this._setTexture(!1)},e.prototype._drawHitArea=function(t){if(null!=t){var e=new PIXI.Graphics;e.beginFill(65280,.3),e.moveTo(t[0].x,t[0].y);for(var i=1;i<t.length;i++)e.lineTo(t[i].x,t[i].y);e.endFill(),this.addChildAt(e,0)}},e.prototype.activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(u.EventType.MOUSEOVER,this._onMouseOver),this.on(u.EventType.MOUSEOUT,this._onMouseOut),this.on(u.EventType.CLICK,this._onClick),1==r.InteractiveUtil.isOnMouse(this)&&this._onMouseOver())},e.prototype.deactivate=function(){this.off(u.EventType.MOUSEOVER,this._onMouseOver),this.off(u.EventType.MOUSEOUT,this._onMouseOut),this.off(u.EventType.CLICK,this._onClick),this.buttonMode=!1},e.prototype.dispose=function(){this._wave.dispose(),this.deactivate(),this._cb_onClick=null},e}(PIXI.Container),d=function(t){function e(){var e=t.call(this)||this;return e._wave1=new a.Sprite,e._wave1.anchor.set(.5),e._initWave(e._wave1),e._wave2=new a.Sprite,e._wave2.anchor.set(.5),e._initWave(e._wave2),e._wave_tweens=new Array(2),e.addChild(e._wave1),e.addChild(e._wave2),e}return n(e,t),e.prototype.initialize=function(){this._wave1.texture=l.MAP_COMMON.getTexture(0),this._wave2.texture=l.MAP_COMMON.getTexture(0)},e.prototype.dispose=function(){this.stop()},e.prototype._initWave=function(t){t.scale.set(0),t.alpha=0},e.prototype.start=function(){this.stop(),this._wave_tweens[0]=createjs.Tween.get(this._wave1,{loop:!0}).to({alpha:1,scaleX:.4,scaleY:.4},400).to({alpha:0,scaleX:1,scaleY:1},400).to({scaleX:0,scaleY:0},0).wait(200),this._wave_tweens[1]=createjs.Tween.get(this._wave2,{loop:!0}).wait(200).to({alpha:1,scaleX:.4,scaleY:.4},400).to({alpha:0,scaleX:1,scaleY:1},400).to({scaleX:0,scaleY:0},0)},e.prototype.stop=function(){for(var t=0;t<this._wave_tweens.length;t++)null!=this._wave_tweens[t]&&(this._wave_tweens[t].setPaused(!0),this._wave_tweens[t]=null);this._initWave(this._wave1),this._initWave(this._wave2)},e}(PIXI.Container),f=function(t){function e(e){return t.call(this,!1,e)||this}return n(e,t),e.prototype.initialize=function(){this._initialize(0)},e.prototype._setTexture=function(t){this._btn.texture=1==t?l.MAP_COMMON.getTexture(16):l.MAP_COMMON.getTexture(15),this._btn.x=-Math.round(this._btn.width/2),this._btn.y=-Math.round(this._btn.height/2)},e}(p),y=function(t){function e(e){return t.call(this,!0,e)||this}return n(e,t),e.prototype.initialize=function(){this._initialize(-8)},e.prototype._setTexture=function(t){this._btn.texture=1==t?l.MAP_COMMON.getTexture(10):l.MAP_COMMON.getTexture(3),this._btn.x=-Math.round(this._btn.width/2),this._btn.y=-Math.round(this._btn.height/2)},e}(p)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(2),s=i(12),a=i(6),_=i(19),l=i(1),u=function(t){function e(e,i,n){var o=t.call(this)||this;return o._result=0,o._onSelect=function(t){a.SE.play("106"),o._result=t,o._hide()},o._parent_layer=e,o._enabled_youin=i,o._enabled_megami=n,o}return n(e,t),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e.prototype._start=function(){this._layer=new c(this._onSelect),this._layer.position.set(o.default.width/2,o.default.height/2),this._layer.alpha=0,this._parent_layer.addChild(this._layer),this._showBtns()},e.prototype._showBtns=function(){var t=this;this._layer.initialize(this._enabled_youin,this._enabled_megami),createjs.Tween.get(this._layer).to({alpha:1},300).call(function(){t._layer.activate()})},e.prototype._hide=function(){var t=this;this._layer.deactivate(),createjs.Tween.get(this._layer.btn_youin).to({x:-o.default.width/2},500),createjs.Tween.get(this._layer.btn_megami).to({x:-o.default.width/2},500),createjs.Tween.get(this._layer.btn_tettai).to({x:o.default.width/2},500).call(function(){t._endTask()})},e.prototype._endTask=function(){this._parent_layer.removeChild(this._layer),this._layer.dispose(),this._parent_layer=null,this._layer=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskTaihaShingunSelect=u;var c=function(t){function e(e){var i=t.call(this)||this;return i._btn_youin=new p(e),i._btn_youin.position.set(-185,-105),i.addChild(i._btn_youin),i._btn_megami=new d(e),i._btn_megami.position.set(-185,174),i.addChild(i._btn_megami),i._btn_tettai=new f(e),i._btn_tettai.position.set(261,-9),i.addChild(i._btn_tettai),i}return n(e,t),Object.defineProperty(e.prototype,"btn_youin",{get:function(){return this._btn_youin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_megami",{get:function(){return this._btn_megami},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_tettai",{get:function(){return this._btn_tettai},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e){this._btn_youin.initialize(t),this._btn_megami.initialize(e),this._btn_tettai.initialize()},e.prototype.activate=function(){this._btn_youin.activate(),this._btn_megami.activate(),this._btn_tettai.activate()},e.prototype.deactivate=function(){this._btn_youin.deactivate(),this._btn_megami.deactivate(),this._btn_tettai.deactivate()},e.prototype.dispose=function(){this._btn_youin.dispose(),this._btn_megami.dispose(),this._btn_tettai.dispose()},e}(PIXI.Container),h=function(t){function e(e){var i=t.call(this)||this;return i._enabled=!0,i._onMouseOver=function(){i._update(!0),i._startWave()},i._onMouseOut=function(){i._update(!1),i._stopWave()},i._onClick=function(){0!=i.buttonMode&&null!=i._cb_onClick&&i._cb_onClick(i._value)},i._cb_onClick=e,i._wave1=new s.Sprite,i._wave1.anchor.set(.5),i._initWave(i._wave1),i.addChild(i._wave1),i._wave2=new s.Sprite,i._wave2.anchor.set(.5),i._initWave(i._wave2),i.addChild(i._wave2),i._off=new PIXI.Sprite,i.addChild(i._off),i._on=new PIXI.Sprite,i.addChild(i._on),i._wave_tweens=[],i.interactive=!0,i}return n(e,t),e.prototype.activate=function(){0!=this._enabled&&1!=this.buttonMode&&(this.buttonMode=!0,this.on(l.EventType.MOUSEOVER,this._onMouseOver),this.on(l.EventType.MOUSEOUT,this._onMouseOut),this.on(l.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){this.buttonMode=!1,this.off(l.EventType.MOUSEOVER,this._onMouseOver),this.off(l.EventType.MOUSEOUT,this._onMouseOut),this.off(l.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){this.deactivate(),this._cb_onClick=null},e.prototype._update=function(t){0==this._enabled?(this._off.visible=!0,this._on.visible=!1):0==t?(this._off.visible=!0,this._on.visible=!1):(this._off.visible=!1,this._on.visible=!0)},e.prototype._initWave=function(t){t.scale.set(0),t.alpha=0},e.prototype._startWave=function(){this._stopWave(),this._wave_tweens[0]=createjs.Tween.get(this._wave1,{loop:!0}).to({alpha:1,scaleX:.4,scaleY:.4},400).to({alpha:0,scaleX:1,scaleY:1},400).to({scaleX:0,scaleY:0},0).wait(200),this._wave_tweens[1]=createjs.Tween.get(this._wave2,{loop:!0}).wait(200).to({alpha:1,scaleX:.4,scaleY:.4},400).to({alpha:0,scaleX:1,scaleY:1},400).to({scaleX:0,scaleY:0},0)},e.prototype._stopWave=function(){for(var t=0;t<this._wave_tweens.length;t++)null!=this._wave_tweens[t]&&(this._wave_tweens[t].setPaused(!0),this._wave_tweens[t]=null);this._initWave(this._wave1),this._initWave(this._wave2)},e}(PIXI.Container),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initialize=function(t){if(this._enabled=t,this._value=1,this._off.position.set(-188,-134),this._on.position.set(-227,-170),1==t){this._off.texture=_.MAP_COMMON.getTexture(4),this._on.texture=_.MAP_COMMON.getTexture(6);var e=[new PIXI.Point(0,-20),new PIXI.Point(156,-11),new PIXI.Point(185,65),new PIXI.Point(65,126),new PIXI.Point(-83,116),new PIXI.Point(-110,45)];this.hitArea=new PIXI.Polygon(e)}else this._off.texture=_.MAP_COMMON.getTexture(5),this._on.texture=PIXI.Texture.EMPTY,this.hitArea=null;this._wave1.texture=_.MAP_COMMON.getTexture(0),this._wave2.texture=_.MAP_COMMON.getTexture(0),this._update(!1)},e}(h),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initialize=function(t){if(this._enabled=t,this._value=2,this._off.position.set(-189,-128),this._on.position.set(-228,-164),1==t){this._off.texture=_.MAP_COMMON.getTexture(7),this._on.texture=_.MAP_COMMON.getTexture(9);var e=[new PIXI.Point(0,-14),new PIXI.Point(156,-5),new PIXI.Point(185,71),new PIXI.Point(65,132),new PIXI.Point(-83,122),new PIXI.Point(-110,51)];this.hitArea=new PIXI.Polygon(e)}else this._off.texture=_.MAP_COMMON.getTexture(8),this._on.texture=PIXI.Texture.EMPTY,this.hitArea=null;this._wave1.texture=_.MAP_COMMON.getTexture(0),this._wave2.texture=_.MAP_COMMON.getTexture(0),this._update(!1)},e}(h),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initialize=function(){this._enabled=!0,this._value=0,this._off.position.set(-144,-119),this._on.position.set(-144,-119),this._off.texture=_.MAP_COMMON.getTexture(15),this._on.texture=_.MAP_COMMON.getTexture(16);var t=[new PIXI.Point(-21,-71),new PIXI.Point(78,-60),new PIXI.Point(96,14),new PIXI.Point(17,77),new PIXI.Point(-81,65),new PIXI.Point(-99,-8)];this.hitArea=new PIXI.Polygon(t),this._wave1.texture=_.MAP_COMMON.getTexture(0),this._wave2.texture=_.MAP_COMMON.getTexture(0),this._update(!1)},e}(h)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),s=i(2),a=i(6),_=i(246),l=i(1291),u=function(t){function e(e,i){var n=t.call(this)||this;return n._selected_no=-1,n._onClick=function(t){n._selected_no=t;for(var e=n._scene.view.map,i=0,o=n._cellWaves;i<o.length;i++){var r=o[i];e.spotLayer.removeChild(r),r.dispose()}n._balloon.close(function(){n._scene.view.map.ship_icon.removeChild(n._balloon),createjs.Tween.get(null).wait(1e3).call(function(){n._endTask()})})},n._scene=e,n._model=i,n}return n(e,t),Object.defineProperty(e.prototype,"selected_no",{get:function(){return this._selected_no},enumerable:!0,configurable:!0}),e.prototype._start=function(){this._scene.view.message_box.text="\u8266\u968a\u306e\u91dd\u8def\u3092\u9078\u629e\u3067\u304d\u307e\u3059\u3002\n\u63d0\u7763\u3001\u3069\u3061\u3089\u306e\u91dd\u8def\u3092\u3068\u3089\u308c\u307e\u3059\u304b\uff1f",this._showHukidashi()},e.prototype._showHukidashi=function(){var t=this,e=this._model.sortie.getNextCell(),i=this._scene.resInfo.getBranchOption(e.no);if(this._balloon=new l.BranchBalloon,null==i){var n=this._model.sortie.map_id,o=e.no,r=1;425==n&&6==o&&(r=2),432==n&&(7!=o&&17!=o||(r=0)),433==n&&(1==o?r=0:7!=o&&21!=o||(r=2,this._balloon.position.set(-6,27))),this._balloon.initialize(r,0)}else this._balloon.initialize(i.type,i.beak,i.offset);this._scene.view.map.ship_icon.addChild(this._balloon),this._balloon.open(function(){t._showWaves()})},e.prototype._showWaves=function(){this._cellWaves=[];for(var t=this._model.sortie.getNextCell().getSelectableRoutes(),e=0,i=t;e<i.length;e++){var n=i[e],o=this._scene.view.map,r=o.spotLayer.getSpot(n),s=new c(r,this._onClick);s.position.set(r.x,r.y),o.spotLayer.addChild(s),this._cellWaves.push(s),s.activate()}},e.prototype._endTask=function(){this._scene.view.message_box.text="";var e=this._model.deck_f.ships[0],i=e.mst_id;o.default.sound.voice.play(i.toString(),26),this._scene=null,this._model=null,this._balloon=null,this._cellWaves=null,t.prototype._endTask.call(this)},e}(s.TaskBase);e.TaskBranchRoute=u;var c=function(t){function e(e,i){var n=t.call(this)||this;return n._onMouseOver=function(){n._stopTween(),n._wave.scale.set(1),n._wave.alpha=1,n._target.showLine(),a.SE.play("242")},n._onMouseOut=function(){n._startTween(),n._target.hideLine()},n._onClick=function(){null!=n._cb_onClick&&n._cb_onClick(n._target.no)},n._target=e,n._cb_onClick=i,n.beginFill(16711680,0),n.drawCircle(0,0,38),n.endFill(),n}return n(e,t),e.prototype.activate=function(){1!=this._activated&&(t.prototype.activate.call(this),this.buttonMode=!0,this.interactive=!0,this.on(r.EventType.MOUSEOVER,this._onMouseOver),this.on(r.EventType.MOUSEOUT,this._onMouseOut),this.on(r.EventType.CLICK,this._onClick))},e.prototype.deactivate=function(){t.prototype.deactivate.call(this),this.buttonMode=!1,this.interactive=!1,this.off(r.EventType.MOUSEOVER,this._onMouseOver),this.off(r.EventType.MOUSEOUT,this._onMouseOut),this.off(r.EventType.CLICK,this._onClick)},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._target=null,this._cb_onClick=null},e}(_.CellWave)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(23),r=i(19),s=function(t){function e(){var e=t.call(this)||this;return e._container=new o.Container,e._img_container=new PIXI.Container,e._img=new PIXI.Sprite,e._img_container.addChild(e._img),e._container.addChild(e._img_container),e.addChild(e._container),e._container.scale.y=0,e}return n(e,t),e.prototype.initialize=function(t,e,i){void 0===i&&(i=null),0==e?this._initializeCurveBalloon(t):this._initializeStraightBalloon(t),this._setPoint(t,e,i)},e.prototype.open=function(t){void 0===t&&(t=null),this._startTween();var e=createjs.Tween.get(this._container);e.wait(500),e.to({scaleY:1},300,createjs.Ease.backOut),null!=t&&e.call(t)},e.prototype.close=function(t){var e=this;void 0===t&&(t=null);var i=createjs.Tween.get(this._container);i.wait(500),i.to({scaleY:0},300,createjs.Ease.backIn),i.call(function(){e._stopTween()}),null!=t&&i.call(t)},e.prototype._startTween=function(){null==this._t&&(this._t=createjs.Tween.get(this._img_container,{loop:!0}).to({x:0,y:0},0).to({x:0,y:-9},700,createjs.Ease.sineIn).to({x:0,y:0},700,createjs.Ease.sineOut))},e.prototype._stopTween=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e.prototype._initializeCurveBalloon=function(t){1==t?(this._img.texture=r.MAP_COMMON.getTexture(18),this._img.position.set(0,-92)):2==t?(this._img.texture=r.MAP_COMMON.getTexture(20),this._img.position.set(0,-54)):3==t?(this._img.texture=r.MAP_COMMON.getTexture(22),this._img.position.set(3,-6)):5==t&&(this._img.texture=r.MAP_COMMON.getTexture(23),this._img.position.set(-69,-3))},e.prototype._initializeStraightBalloon=function(t){0==t?(this._img.texture=r.MAP_COMMON.getTexture(19),this._img.position.set(-44,-105)):1==t?(this._img.texture=r.MAP_COMMON.getTexture(21),this._img.position.set(0,-92)):2==t&&(this._img.texture=r.MAP_COMMON.getTexture(24),this._img.position.set(9,-45))},e.prototype._setPoint=function(t,e,i){void 0===i&&(i=null),null==i&&(i=new PIXI.Point,0==e?0==t||(1==t?i.set(21,-21):2==t?i.set(36,-2):3==t?i.set(27,5):4==t||5==t&&i.set(-38,0)):0==t?i.set(-5,-38):1==t?i.set(-14,-33):2==t&&i.set(39,-17)),this._container.x=i.x,this._container.y=i.y},e}(PIXI.Container);e.BranchBalloon=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(1),a=i(8),_=i(4),l=i(12),u=i(13),c=i(1293),h=function(t){function e(e,i,n){var o=t.call(this)||this;return o._waitClick=function(){o._click_area.buttonMode=!0,o._gear.visible=!0,o._gear.activate(),o._click_area.once(s.EventType.CLICK,function(){o._hideLayer()})},o._deck_name=i,o._mst_id=n,o._layer=new PIXI.Container,e.addChild(o._layer),o}return n(e,t),e.prototype._start=function(){o.default.sound.bgm.play(5,!1,0,"fanfare"),this._load()},e.prototype._load=function(){var t=this;(new u.ShipLoader).add(this._mst_id,!0,"full").load(function(){t._loaded()})},e.prototype._loaded=function(){var t=this,e=o.default.model.ship_graph.get(this._mst_id).getBattleOffset(!0),i=o.default.resources.getShip(this._mst_id,!0,"full");this._chara=new PIXI.Sprite(i),this._chara.alpha=0,this._chara_base_x=-45+e.x,this._chara.position.set(this._chara_base_x-405,-90+e.y),this._layer.addChild(this._chara),createjs.Tween.get(this._chara).to({x:this._chara_base_x-45,alpha:.6},700).call(function(){t._show()})},e.prototype._show=function(){var t=this,e=o.default.model.ship.getMst(this._mst_id).name;this._smokeLayer=new d,this._smokeLayer.initialize(),this._mes_box=new p,this._mes_box.alpha=0,this._mes_box.position.set(603,360),this._mes_box.initialize(this._deck_name,e),this._img=new PIXI.Sprite(c.MAP_FLAGSHIP_DAMAGE.getTexture(6)),this._img.alpha=0,this._img.anchor.set(.5),this._img.position.set(981,180),this._gear=new y,this._gear.position.set(1125,618),this._gear.visible=!1,this._gear.initialize(),this._click_area=new a.AreaBox(0),this._layer.addChild(this._smokeLayer),this._layer.addChild(this._mes_box),this._layer.addChild(this._img),this._layer.addChild(this._gear),this._layer.addChild(this._click_area),createjs.Tween.get(this._img).wait(200).call(function(){t._smokeLayer.start(),o.default.sound.voice.play(t._mst_id.toString(),20)}).wait(400).to({alpha:1},600).call(function(){t._showText()}),createjs.Tween.get(this._mes_box).wait(100).to({alpha:1},600),createjs.Tween.get(this._chara).to({x:this._chara_base_x,alpha:1},300)},e.prototype._showText=function(){this._mes_box.once("complete",this._waitClick),this._mes_box.start()},e.prototype._hideLayer=function(){var t=this;createjs.Tween.get(this._layer).to({alpha:0},200).call(function(){t._endTask()})},e.prototype._endTask=function(){this._layer&&this._layer.parent&&this._layer.parent.removeChild(this._layer),this._smokeLayer.stop(),this._mes_box.dispose(),this._gear.dispose(),t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskFlagShipDamaged=h;var p=function(t){function e(){var e=t.call(this)||this;return e._timer_id=-1,e._anim=function(){if(e._text1.length>0){var t=e._text1.charAt(0);e._text1=e._text1.slice(1),e._line1.text+=t}else if(e._text2.length>0){var t=e._text2.charAt(0);e._text2=e._text2.slice(1),e._line2.text+=t}else if(e._text3.length>0){var t=e._text3.charAt(0);e._text3=e._text3.slice(1),e._line3.text+=t}else clearInterval(e._timer_id),e._timer_id=-1,e.emit("complete")},e._bg=new PIXI.Sprite,e._line1=new _.TextBox(30,16777215),e._line1.position.set(33,78),e._line2=new _.TextBox(30,16777215),e._line2.position.set(33,132),e._line3=new _.TextBox(20,16777215),e._line3.position.set(33,225),e.addChild(e._bg),e.addChild(e._line1),e.addChild(e._line2),e.addChild(e._line3),e}return n(e,t),e.prototype.initialize=function(t,e){this._bg.texture=c.MAP_FLAGSHIP_DAMAGE.getTexture(2),this._text1="\u300c"+t+"\u300d\u65d7\u8266",this._text2="\u300c"+e+"\u300d\u304c\u5927\u7834\u3057\u307e\u3057\u305f\u3002",this._line2.alpha=0,this._line2.text=this._text2,this._line2.width>540&&(this._text2="\u300c"+e+"\u300d\n\u304c\u5927\u7834\u3057\u307e\u3057\u305f\u3002"),this._line2.alpha=1,this._line2.text="",this._text3="\u6b8b\u5ff5\u3067\u3059\u304c\u9032\u6483\u306f\u56f0\u96e3\u3067\u3059...\u6bcd\u6e2f\u306b\u5e30\u6295\u3057\u307e\u3059\u3002"},e.prototype.start=function(){this._timer_id=setInterval(this._anim,50)},e.prototype.dispose=function(){this._timer_id>=0&&(clearInterval(this._timer_id),this._timer_id=-1),this.removeChildren(),this._line1.destroy(),this._line2.destroy(),this._line3.destroy()},e}(PIXI.Container),d=function(t){function e(){var e=t.call(this)||this;return e._smoke1=new f,e._smoke1.position.set(276,180),e._smoke2=new f,e._smoke2.position.set(450,336),e._smoke3=new f,e._smoke3.position.set(219,558),e.addChild(e._smoke1),e.addChild(e._smoke2),e.addChild(e._smoke3),e}return n(e,t),e.prototype.initialize=function(){this._smoke1.initialize(),this._smoke2.initialize(),this._smoke3.initialize()},e.prototype.start=function(){this._smoke1.start(),this._smoke2.start(),this._smoke3.start()},e.prototype.stop=function(){this._smoke1.stop(),this._smoke2.stop(),this._smoke3.stop()},e}(PIXI.Container),f=function(t){function e(){var e=t.call(this)||this;return e._s1=new l.Sprite,e._s1.anchor.set(.5),e._s2=new PIXI.Sprite,e._s2.anchor.set(.5),e._s3=new PIXI.Sprite,e._s3.anchor.set(.5),e.addChild(e._s1),e.addChild(e._s2),e.addChild(e._s3),e}return n(e,t),e.prototype.initialize=function(){this._initialize(),this._s1.texture=c.MAP_FLAGSHIP_DAMAGE.getTexture(3),this._s2.texture=c.MAP_FLAGSHIP_DAMAGE.getTexture(4),this._s3.texture=c.MAP_FLAGSHIP_DAMAGE.getTexture(5)},e.prototype.start=function(){var t=this;if(null==this._t1&&null==this._t2&&null==this._t3){var e=1e3*Math.random();this._t1=createjs.Tween.get(this._s1).wait(e).to({y:0,alpha:1,scaleX:1,scaleY:1},200).to({y:-60,alpha:0,scaleX:.8,scaleY:.8},400),this._t2=createjs.Tween.get(this._s2).wait(e+200).to({y:-38,alpha:1,scaleX:1,scaleY:1},150).to({y:-75,alpha:0,scaleX:.8,scaleY:.8},400),this._t3=createjs.Tween.get(this._s3).wait(e+400).to({y:-105,alpha:1,scaleX:1,scaleY:1},150).to({y:-128,alpha:0,scaleX:.75,scaleY:.75},400).call(function(){t._t1=null,t._t2=null,t._t3=null,t._initialize(),t.start()})}},e.prototype.stop=function(){null!=this._t1&&(this._t1.setPaused(!0),this._t1=null),null!=this._t2&&(this._t2.setPaused(!0),this._t2=null),null!=this._t3&&(this._t3.setPaused(!0),this._t3=null),this._initialize()},e.prototype._initialize=function(){this._s1.alpha=0,this._s1.scale.set(.6),this._s1.position.set(0,45),this._s2.alpha=0,this._s2.scale.set(.6),this._s2.position.set(60,-23),this._s3.alpha=0,this._s3.scale.set(.6),this._s3.position.set(0,-75)},e}(PIXI.Container),y=function(t){function e(){var e=t.call(this)||this;return e._gear=new PIXI.Sprite,e._gear.anchor.set(.5),e._content=new PIXI.Sprite,e._content.anchor.set(.5),e.addChild(e._gear),e.addChild(e._content),e}return n(e,t),e.prototype.initialize=function(){this._gear.texture=c.MAP_FLAGSHIP_DAMAGE.getTexture(0),this._content.texture=c.MAP_FLAGSHIP_DAMAGE.getTexture(1)},e.prototype.activate=function(){null==this._t&&(this._t=createjs.Tween.get(this._gear,{loop:!0}).to({rotation:2*Math.PI},6e3))},e.prototype.deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e.prototype.dispose=function(){this.deactivate()},e}(PIXI.Container)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("map_flagship_damage_"+t)}t.getTexture=e}(e.MAP_FLAGSHIP_DAMAGE||(e.MAP_FLAGSHIP_DAMAGE={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(2),s=i(12),a=i(8),_=i(19),l=i(1295),u=i(1),c=function(t){function e(e,i){var n=t.call(this)||this;return n._shutter=e,n._item_ids=i,n}return n(e,t),e.prototype._start=function(){var t=this;this._view=new l.MapEndView,this._view.initialize(this._item_ids),this._view.alpha=0,this._view.content.alpha=0,this._view.gearBtn.visible=!1,this._shutter.addChild(this._view);var e=_.MAP_COMMON.getTexture(113);this._telopBG=new s.Sprite(e),this._telopBG.position.set(o.default.width/2,o.default.height/2),this._telopBG.anchor.set(.5),this._telopBG.scale.y=0,this._shutter.addChild(this._telopBG),createjs.Tween.get(this._telopBG).to({scaleY:1},300).call(function(){t._showMessage()})},e.prototype._showMessage=function(){var t=this,e=_.MAP_COMMON.getTexture(116);this._telopText=new s.Sprite(e),this._telopText.position.set(o.default.width/2+240,o.default.height/2),this._telopText.anchor.set(.5),this._telopText.alpha=0,this._shutter.addChild(this._telopText),createjs.Tween.get(this._telopText).to({x:o.default.width/2+180,alpha:1},300).to({x:o.default.width/2},400).to({x:o.default.width/2-60,alpha:0},400).call(function(){t._shutter.removeChild(t._telopText),t._closeTelop()})},e.prototype._closeTelop=function(){var t=this;createjs.Tween.get(this._telopBG).to({scaleY:0},300).call(function(){t._shutter.removeChild(t._telopBG)}),createjs.Tween.get(this._view).to({alpha:1},200).call(function(){t._showContent()})},e.prototype._showContent=function(){var t=this;this._shutter.close(),this._shutter.once("closed",function(){createjs.Tween.get(t._view.content).to({alpha:1},200).call(function(){t._waitClick()})})},e.prototype._waitClick=function(){var t=this,e=new a.AreaBox(0);e.interactive=!0,e.buttonMode=!0,this._shutter.addChild(e),this._view.gearBtn.visible=!0,this._view.gearBtn.activate(),e.once(u.EventType.CLICK,function(){t._shutter.removeChild(e),t._hideView()})},e.prototype._hideView=function(){var t=this;createjs.Tween.get(this._view).to({alpha:0},200).call(function(){t._view.gearBtn.deactivate(),t._shutter.removeChild(t._view),t._endTask()})},e}(r.TaskBase);e.TaskShowMapEndView=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(40),s=i(19),a=function(t){function e(){var e=t.call(this)||this;return e._bg=new PIXI.Sprite,e._bg.position.set(86,60),e._content=new _,e._content.position.set(390,153),e.addChild(e._bg),e.addChild(e._content),e._gearBtn=new r.GearBtnHome,e._gearBtn.position.set(1127,653),e.addChild(e._gearBtn),e}return n(e,t),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gearBtn",{get:function(){return this._gearBtn},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){this._bg.texture=s.MAP_COMMON.getTexture(168),this._content.initialize(t),this._gearBtn.initialize()},e}(PIXI.Container);e.MapEndView=a;var _=function(t){function e(){var e=t.call(this)||this;return e._line=new PIXI.Graphics,e._line.lineStyle(3,16774898),e._line.moveTo(0,0),e._line.lineTo(0,323),e._line.position.set(0,36),e.addChild(e._line),e._title=new PIXI.Sprite,e.addChild(e._title),e}return n(e,t),e.prototype.initialize=function(t){if(this._title.texture=s.MAP_COMMON.getTexture(188),null!=t)for(var e=0;e<t.length;e++){var i=t[e],n=o.default.resources.getUseitem(i,0),r=new PIXI.Sprite(n);r.x=33+e%5*75,r.y=56+75*Math.floor(e/5),this.addChild(r)}},e}(PIXI.Container);e.MapEndContentView=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(6),s=i(1297),a=i(1298),_=i(1302),l=function(t){function e(e,i,n,o,s,a){var _=t.call(this)||this;return _._selected_spot_no_1=null,_._selected_spot_no_2=null,_._selected_spot_no_3=null,_._onChange=function(){_._point_layer.update(),2==_._selected_spot_no.length?(_._panel.title.complete=!0,_._panel.cancel_btn.visible=!0):1==_._selected_spot_no.length?(_._panel.title.complete=!1,_._panel.cancel_btn.visible=!0):(_._panel.title.complete=!1,_._panel.cancel_btn.visible=!1)},_._onFixed=function(){switch(_._current_target.id){case 1:_._selected_spot_no_1=_._selected_spot_no.concat();break;case 2:_._selected_spot_no_2=_._selected_spot_no.concat();break;case 3:_._selected_spot_no_3=_._selected_spot_no.concat()}r.SE.play("227");var t=_._airunits.indexOf(_._current_target);t==_._airunits.length-1?_._endTask():(_._current_target=_._airunits[t+1],_._onCancel(),_._panel.update(_._current_target.id),_._initializePoints())},_._onCancel=function(){for(;_._selected_spot_no.length>0;)_._selected_spot_no.pop();_._point_layer.update(),_._panel.title.complete=!1,_._panel.cancel_btn.visible=!1},_._layer=e,_._area_id=i,_._airunits_all=n,_._airunits=o,_._model=s,_._map=a,_}return n(e,t),e.prototype._start=function(){var t=this;this._current_target=this._airunits[0],this._selected_spot_no=[],this._point_layer=new _.AirUnitAppointmentLayer(this._selected_spot_no,this._onChange),this._layer.addChild(this._point_layer),this._panel=new a.AirUnitPanelSet(this._onFixed,this._onCancel),this._panel.x=-375,this._layer.addChild(this._panel);var e=this._area_id;this._panel.initialize(e,this._airunits_all),this._panel.update(this._current_target.id),createjs.Tween.get(this._panel).to({x:0},300,createjs.Ease.quadOut).call(function(){t._panel.activate(),t._initializePoints()})},e.prototype._initializePoints=function(){var t=this._current_target.distance,e=this._model.sortie,i=this._map.spotLayer.getAllSpots();this._point_layer.initialize(t,i,e)},e.prototype._endTask=function(){var e=this;this._layer.removeChild(this._point_layer),this._point_layer.dispose(),this._panel.deactivate(),createjs.Tween.get(this._panel).to({x:-450},300,createjs.Ease.quadOut).call(function(){e._layer.removeChild(e._panel),e._panel.dispose(),new s.AirUnitGoAPI(e._selected_spot_no_1,e._selected_spot_no_2,e._selected_spot_no_3).start(function(){t.prototype._endTask.call(e)})})},e}(o.TaskBase);e.TaskAirUnitAppointment=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=function(t){function e(e,i,n){var o=t.call(this)||this;return o._url="api_req_map/start_air_base",o._airunit1=e,o._airunit2=i,o._airunit3=n,o}return n(e,t),e.prototype._connect=function(){null!=this._airunit1&&this._airunit1.length>0&&(this._post_data.api_strike_point_1=this._airunit1.join(",")),null!=this._airunit2&&this._airunit2.length>0&&(this._post_data.api_strike_point_2=this._airunit2.join(",")),null!=this._airunit3&&this._airunit3.length>0&&(this._post_data.api_strike_point_3=this._airunit3.join(",")),t.prototype._connect.call(this)},e}(o.APIBase);e.AirUnitGoAPI=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1299),r=i(1300),s=i(1301),a=i(1),_=function(t){function e(e,i){var n=t.call(this)||this;return n._onMouseOver=function(){null==n._move_tween&&1!=n._title.complete&&(0==n.x?n._move_tween=createjs.Tween.get(n).to({x:831},300,createjs.Ease.quadOut).call(function(){n._move_tween=null}):n._move_tween=createjs.Tween.get(n).to({x:0},300,createjs.Ease.quadOut).call(function(){n._move_tween=null}))},n._title=new r.AirUnitAppointmentTitle(e),n._title.position.set(14,60),n.addChild(n._title),n._panel=new s.AirUnitPanel,n._panel.position.set(11,123),n.addChild(n._panel),n._cancel_btn=new o.PanelCancelBtn(i),n._cancel_btn.position.set(285,48),n.addChild(n._cancel_btn),n}return n(e,t),Object.defineProperty(e.prototype,"title",{get:function(){return this._title},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cancel_btn",{get:function(){return this._cancel_btn},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"panel",{get:function(){return this._panel},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e){var i=null==e?0:e.length;this._title.initialize(i),this._cancel_btn.initialize(),this._panel.initialize(t,e)},e.prototype.activate=function(){this._panel.on(a.EventType.MOUSEOVER,this._onMouseOver)},e.prototype.deactivate=function(){null!=this._move_tween&&(this._move_tween.setPaused(!0),this._move_tween=null),this._panel.off(a.EventType.MOUSEOVER,this._onMouseOver)},e.prototype.update=function(t){this._title.update(t),this._panel.update(t,!0)},e.prototype.dispose=function(){this.deactivate(),this._title.dispose(),this._cancel_btn.dispose(),this._panel.dispose()},e}(PIXI.Container);e.AirUnitPanelSet=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(19),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i._onMouseOver=function(){i._stopTween()},i._onMouseOut=function(){i._startTween()},i._onClick=function(){null!=i._cb_onClick&&i._cb_onClick()},i._cb_onClick=e,i._img=new PIXI.Sprite,i._img.position.set(11,11),i.addChild(i._img),i._over=new PIXI.Sprite,i.addChild(i._over),i.visible=!1,i.interactive=!0,i}return n(e,t),e.prototype.initialize=function(){this._img.texture=o.MAP_COMMON.getTexture(1),this._over.texture=o.MAP_COMMON.getTexture(2),this.buttonMode=!0,this.on(r.EventType.MOUSEOVER,this._onMouseOver),this.on(r.EventType.MOUSEOUT,this._onMouseOut),this.on(r.EventType.CLICK,this._onClick),this._startTween()},e.prototype.dispose=function(){this._stopTween(),this.buttonMode=!1,this.off(r.EventType.MOUSEOVER,this._onMouseOver),this.off(r.EventType.MOUSEOUT,this._onMouseOut),this.off(r.EventType.CLICK,this._onClick)},e.prototype._startTween=function(){null==this._t&&(this._over.alpha=1,this._t=createjs.Tween.get(this._over,{loop:!0}).to({alpha:.1},1e3).to({alpha:1},400))},e.prototype._stopTween=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null,this._over.alpha=1)},e}(PIXI.Container);e.PanelCancelBtn=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(19),r=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i._airunit_count=0,i._airunit_id=0,i._complete=!1,i._onClick=function(){null!=i._cb_onClick&&0!=i.buttonMode&&i._cb_onClick()},i._cb_onClick=e,i._img=new PIXI.Sprite,i.addChild(i._img),i.interactive=!0,i}return n(e,t),Object.defineProperty(e.prototype,"complete",{get:function(){return this._complete},set:function(t){this._complete=t,this.buttonMode=t,this._update()},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){this._airunit_count=t,this.on(r.EventType.CLICK,this._onClick)},e.prototype.update=function(t){this._airunit_count>1?this._airunit_id=t:this._airunit_id=0,this.complete=!1,this._update()},e.prototype.dispose=function(){this.off(r.EventType.CLICK,this._onClick)},e.prototype._update=function(){if(1==this.complete)this._img.texture=o.MAP_COMMON.getTexture(180),this._img.position.set(0,0);else{switch(this._airunit_id){case 0:this._img.texture=o.MAP_COMMON.getTexture(176);break;case 1:this._img.texture=o.MAP_COMMON.getTexture(177);break;case 2:this._img.texture=o.MAP_COMMON.getTexture(178);break;case 3:this._img.texture=o.MAP_COMMON.getTexture(179);break;default:this._img.texture=PIXI.Texture.EMPTY}this._img.position.set(11,9)}},e}(PIXI.Container);e.AirUnitAppointmentTitle=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(147),s=i(26),a=i(355),_=i(352),l=i(356),u=i(353),c=i(354),h=function(t){function e(){var e=t.call(this)||this;e._selected_airunit_id=0,e._onChangeTab=function(t){e.update(t)},e._area=new PIXI.Graphics,e.addChild(e._area),e._tabs=new a.AirUnitPanelTabContainer(e._onChangeTab),e._tabs.x=30,e.addChild(e._tabs),e._base=new PIXI.Sprite,e._base.position.set(0,21),e.addChild(e._base),e._banner=new _.AirUnitPanelBanner,e._banner.position.set(26,45),e.addChild(e._banner),e._name=new o.TextBox(21,0),e._name.position.set(33,119),e.addChild(e._name),e._tag=new l.AirUnitPanelWoodenTag,e._tag.position.set(314,47),e.addChild(e._tag),e._items=[];for(var i=0;i<4;i++){var n=new u.AirUnitPanelItem(null,null);n.position.set(17,164+90*i),e.addChild(n),e._items.push(n)}return e._supply_btn=new c.AirUnitPanelSupplyAllBtn(null),e._supply_btn.position.set(287,146),e.addChild(e._supply_btn),e.interactive=!0,e}return n(e,t),Object.defineProperty(e.prototype,"selected_airunit_id",{get:function(){return this._selected_airunit_id},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e){this._models=e,this._tabs.initialize(this._models.length),this._base.texture=s.SALLY_AIRUNIT.getTexture(8),this._area.beginFill(0,0),this._area.drawRect(this._base.x,this._base.y,this._base.width,this._base.height),this._area.endFill(),this._banner.initialize(t);for(var i=0;i<this._items.length;i++){this._items[i].initialize(i)}this._supply_btn.initialize()},e.prototype.update=function(t,e){if(void 0===e&&(e=!1),(0!=e||this._selected_airunit_id!=t)&&!(t<=0||t>this._models.length)){this._selected_airunit_id=t;for(var i=null,n=0,o=this._models;n<o.length;n++){var s=o[n];if(s.id==t){i=s;break}}this._tabs.update(t),this._name.text=i.name,r.EditTextBoxUtil.text=i.name,this._tag.update(i.airUnitState,!1);for(var a=i.squadrons,_=0,l=!1,u=0;u<this._items.length;u++){var c=u<a.length?a[u]:null;this._items[u].update(c),0==_&&null!=c&&1==c.state&&(_=c.mst_id),l=l||c.count<c.countMax}this._banner.update(t,_,i.distance_base,i.distance_bonus),this._supply_btn.update(l)}},e.prototype.dispose=function(){this.removeChildren(),this._tabs.dispose(),this._banner.dispose(),this._name.destroy(),this._tag.dispose();for(var t=0,e=this._items;t<e.length;t++){e[t].dispose()}this._supply_btn.dispose()},e}(PIXI.Container);e.AirUnitPanel=h},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(6),r=i(1303),s=function(t){function e(e,i){var n=t.call(this)||this;return n._onClick=function(t){n._selected_spot_no.length>=2||(o.SE.play("224"),n._selected_spot_no.push(t),n._cb_onChange())},n._onDoubleClick=function(t){var e=n._selected_spot_no.lastIndexOf(t);-1!=e&&(n._selected_spot_no.splice(e,1),n._cb_onChange())},n._selected_spot_no=e,n._cb_onChange=i,n._points={},n}return n(e,t),e.prototype.initialize=function(t,e,i){this._clear(),e=this._dedupeCells(e);for(var n=0,o=e;n<o.length;n++){var s=o[n],a=s.no,_=i.getCellInfo(a);if(!(_.distance<=0)){var l=new r.AirUnitAppointmentPoint(this._onClick,this._onDoubleClick);l.initialize(a,_,t),l.x=s.x+s.point.x,l.y=s.y+s.point.y,this.addChild(l),this._points[a]=l}}},e.prototype.update=function(){var t=this._selected_spot_no.length>0?this._selected_spot_no[0]:-1,e=this._selected_spot_no.length>1?this._selected_spot_no[1]:-1;for(var i in this._points){var n=this._points[i];n.no==e?t==e?n.update(3):n.update(2):n.no==t?n.update(1):n.update(0)}},e.prototype.dispose=function(){this._clear(),this._selected_spot_no=null,this._points=null,this._cb_onChange=null},e.prototype._clear=function(){for(var t in this._points)this._points[t].dispose();this.removeChildren(),this._points=[]},e.prototype._dedupeCells=function(t){for(var e=[],i=t.concat();i.length>0;){for(var n=i.shift(),o=!1,r=0,s=e;r<s.length;r++){var a=s[r],_=n.x-a.x,l=n.y-a.y;if(Math.sqrt(_*_+l*l)<=10){o=!0;break}}0==o&&e.push(n)}return e},e}(PIXI.Container);e.AirUnitAppointmentLayer=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(19),r=i(1),s=function(t){function e(e,i){var n=t.call(this)||this;return n._onMouseOver=function(){if(n._img.texture!=PIXI.Texture.EMPTY)return void n._effect.deactivate();n._effect.activate()},n._onMouseOut=function(){n._effect.deactivate()},n._handle=-1,n._onClick=function(){if(-1!=n._handle){if(clearTimeout(n._handle),n._handle=-1,null==n._cb_onDoubleClick)return;n._cb_onDoubleClick(n._no)}else n._handle=setTimeout(function(){n._handle=-1,null!=n._cb_onClick&&n._cb_onClick(n._no)},300)},n._cb_onClick=e,n._cb_onDoubleClick=i,n.beginFill(65280,0),n.drawCircle(0,0,15),n.endFill(),n._effect=new a,n.addChild(n._effect),n._img=new PIXI.Sprite,n._img.position.set(-42,-42),n.addChild(n._img),n.interactive=!0,n}return n(e,t),Object.defineProperty(e.prototype,"no",{get:function(){return this._no},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e,i){this._no=t;var n="blue";if(e.distance>i?n="red":(e.distance==i&&(n="yellow"),this.buttonMode=!0,this.on(r.EventType.CLICK,this._onClick)),this.on(r.EventType.MOUSEOVER,this._onMouseOver),this.on(r.EventType.MOUSEOUT,this._onMouseOut),5==e.color||-2==e.color)if(e.passed){switch(n){case"red":this._effect.texture=o.MAP_COMMON.getTexture(132);break;case"yellow":this._effect.texture=o.MAP_COMMON.getTexture(131);break;case"blue":this._effect.texture=o.MAP_COMMON.getTexture(130)}this._effect.y=0,this._effect.y=-2}else{switch(n){case"red":this._effect.texture=o.MAP_COMMON.getTexture(129);break;case"yellow":this._effect.texture=o.MAP_COMMON.getTexture(128);break;case"blue":this._effect.texture=o.MAP_COMMON.getTexture(127)}this._effect.x=0,this._effect.y=0}else if(10==e.color&&e.passed){switch(n){case"red":this._effect.texture=o.MAP_COMMON.getTexture(135);break;case"yellow":this._effect.texture=o.MAP_COMMON.getTexture(134);break;case"blue":this._effect.texture=o.MAP_COMMON.getTexture(133)}this._effect.x=-11,this._effect.y=9}else if(13==e.color&&e.passed){switch(n){case"red":this._effect.texture=o.MAP_COMMON.getTexture(126);break;case"yellow":this._effect.texture=o.MAP_COMMON.getTexture(125);break;case"blue":this._effect.texture=o.MAP_COMMON.getTexture(124)}this._effect.x=-1,this._effect.y=1}else if(8==e.color&&e.passed){switch(n){case"red":this._effect.texture=o.MAP_COMMON.getTexture(141);break;case"yellow":this._effect.texture=o.MAP_COMMON.getTexture(140);break;case"blue":this._effect.texture=o.MAP_COMMON.getTexture(139)}this._effect.x=0,this._effect.y=0}else{switch(n){case"red":this._effect.texture=o.MAP_COMMON.getTexture(138);break;case"yellow":this._effect.texture=o.MAP_COMMON.getTexture(137);break;case"blue":this._effect.texture=o.MAP_COMMON.getTexture(136)}this._effect.x=0,this._effect.y=0}},e.prototype.dispose=function(){this._effect.dispose(),this.buttonMode=!1,this.off(r.EventType.MOUSEOVER,this._onMouseOver),this.off(r.EventType.MOUSEOUT,this._onMouseOut),this.off(r.EventType.CLICK,this._onClick),this._cb_onClick=null,this._cb_onDoubleClick=null},e.prototype.update=function(t){switch(t){case 1:this._img.texture=o.MAP_COMMON.getTexture(173);break;case 2:this._img.texture=o.MAP_COMMON.getTexture(174);break;case 3:this._img.texture=o.MAP_COMMON.getTexture(175);break;default:this._img.texture=PIXI.Texture.EMPTY}},e}(PIXI.Graphics);e.AirUnitAppointmentPoint=s;var a=function(t){function e(){var e=t.call(this)||this;return e.anchor.set(.5),e.visible=!1,e}return n(e,t),e.prototype.activate=function(){this._startAnimation()},e.prototype.deactivate=function(){this._stopAnimation()},e.prototype.dispose=function(){this._stopAnimation()},e.prototype._startAnimation=function(){this.alpha=0,this.visible=!0,this._t=createjs.Tween.get(this).to({alpha:1},1e3).to({alpha:0},1e3),this._t.loop=!0},e.prototype._stopAnimation=function(){this.visible=!1,null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(152),r=i(50),s=i(434),a=i(1305),_=i(1306),l=i(1320),u=function(t){function e(){var e=t.call(this)||this;return e._bg=new o.MapBG,e._shutter=new r.Shutter,e._map=new _.MapView,e._upper=new a.CompUpperBar,e._gauge_layer=new l.GaugeLayer,e._chara_layer=new PIXI.Sprite,e._universal_layer=new PIXI.Container,e._message_box=new s.CompMessageBox,e._top_layer=new PIXI.Container,e._anchorage_repair_layer=new PIXI.Container,e.addChild(e._bg),e.addChild(e._shutter),e.addChild(e._map),e.addChild(e._upper),e.addChild(e._gauge_layer),e.addChild(e._chara_layer),e.addChild(e._universal_layer),e.addChild(e._message_box),e.addChild(e._top_layer),e.addChild(e._anchorage_repair_layer),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shutter",{get:function(){return this._shutter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"map",{get:function(){return this._map},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"upper",{get:function(){return this._upper},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gauge_layer",{get:function(){return this._gauge_layer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chara_layer",{get:function(){return this._chara_layer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"universal_layer",{get:function(){return this._universal_layer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message_box",{get:function(){return this._message_box},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top_layer",{get:function(){return this._top_layer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorage_repair_leyer",{get:function(){return this._anchorage_repair_layer},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.shutter.initializeLight(),this._upper.initialize(),this._message_box.initialize()},e.prototype.dispose=function(){this.removeChildren(),this._bg.dispose(),this._map.dispose(),this._upper.dispose(),this._gauge_layer.dispose(),this._message_box.dispose(),this._message_box=null},e.prototype.frontOfGaugeLayer=function(){this.addChild(this._gauge_layer),this.addChild(this._top_layer)},e}(PIXI.Container);e.ViewMain=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(18),s=i(4),a=i(30),_=i(41),l=i(19),u=function(t){function e(){var e=t.call(this)||this;return e.SPACE=10,e._bg=new PIXI.Sprite,e._bg.position.set(35,35),e._icon=new PIXI.Sprite,e._icon.anchor.set(1),e._icon.position.set(o.default.width/2,82),e._text=new s.TextBox(30,16774898),e._text.anchor.set(0,0),e._text.position.set(o.default.width/2,48),e.addChild(e._bg),e.addChild(e._icon),e.addChild(e._text),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return this._icon},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._bg.texture=l.MAP_COMMON.getTexture(25)},e.prototype.update=function(t,e){void 0===e&&(e=""),t==r.EVENT_AREA_ID?this._updateForEventMap(e):this._update(t,e),this._text.position.x=o.default.width/2-Math.floor(this._text.width/2)+this.SPACE+this.icon.width,this.icon.position.set(this._text.x-this.SPACE,82)},e.prototype.dispose=function(){this.removeChildren(),this._text.destroy()},e.prototype._update=function(t,e){void 0===e&&(e="");var i;switch(t){case 1:i=a.SALLY_COMMON.getTexture(1);break;case 2:i=a.SALLY_COMMON.getTexture(3);break;case 3:i=a.SALLY_COMMON.getTexture(5);break;case 4:i=a.SALLY_COMMON.getTexture(9);break;case 5:i=a.SALLY_COMMON.getTexture(11);break;case 6:i=a.SALLY_COMMON.getTexture(13);break;case 7:i=a.SALLY_COMMON.getTexture(7);break;default:i=PIXI.Texture.EMPTY}this._icon.texture=i,this._text.text=e},e.prototype._updateForEventMap=function(t){void 0===t&&(t="");this._icon.texture=_.SALLY_EVENT.getTexture(0),this._text.text=t},e}(PIXI.Container);e.CompUpperBar=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1307),r=i(1309),s=i(1311),a=i(1314),_=i(1316),l=i(1317),u=i(1319),c=i(15),h=function(t){function e(){var e=t.call(this)||this;return e._bg=new s.MapBackGround,e.addChild(e._bg),e._spotLayer=new a.MapSpotLayer,e.addChild(e._spotLayer),e._ship_layer=new PIXI.Container,e._ship_icon=new o.CompShipIcon,e._enemy_layer=new _.MapEnemyLayer,e._airbaseLayer=new u.AirBaseLayer,e.addChild(e._airbaseLayer),e._ship_layer.addChild(e._ship_icon),e.addChild(e._ship_layer),e.addChild(e._enemy_layer),e._plane_layer=new l.MapPlaneLayer,e.addChild(e._plane_layer),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ship_icon",{get:function(){return this._ship_icon},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spotLayer",{get:function(){return this._spotLayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"airbaseLayer",{get:function(){return this._airbaseLayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enemy_layer",{get:function(){return this._enemy_layer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plane_layer",{get:function(){return this._plane_layer},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._bg.dispose(),this._spotLayer.dispose(),this._enemy_layer.dispose(),this._plane_layer.dispose()},e.prototype.addSpot=function(t,e,i){var n=i.getSpot(e),o=new r.CompSpot(e,n.offsetDic);if(o.position.set(n.x,n.y),null!=n.route){var s=n.route,a=c.MapUtil.toResKey(t),_="map"+a+"_"+s.img,l=PIXI.Texture.fromFrame(_);o.setRoute(l,s.x,s.y,s.r)}var u=n.line;if(null!=u){var a=c.MapUtil.toResKey(t),h=void 0;h=null!=u.img&&u.img.length>0?"map"+a+"_"+u.img:"map"+a+"_route_"+e;var l=PIXI.Texture.fromFrame(h);o.setLine(l,u.x,u.y,u.r)}this._spotLayer.addSpot(o)},e}(PIXI.Container);e.MapView=h},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(12),r=i(6),s=i(19),a=i(1308),_=function(t){function e(){var e=t.call(this)||this;return e._direction=2,e._wave=new a.CompShipWave,e._under=new PIXI.Container,e._ship=new o.Sprite,e._ship.anchor.set(.5,1),e._over=new PIXI.Container,e.addChild(e._wave),e.addChild(e._under),e.addChild(e._ship),e.addChild(e._over),e}return n(e,t),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"under",{get:function(){return this._under},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ship",{get:function(){return this._ship},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){var e;e=1==t?148:2==t?149:3==t?150:147,this._ship.texture=s.MAP_COMMON.getTexture(e)},e.prototype.startWaveWhite=function(){this._startWave(49)},e.prototype.startWaveRed=function(t){var e=this;this._startWave(48);var i=new l;i.initialize(),i.alpha=0,i.scale.set(0),i.y=-51,this._over.addChild(i),createjs.Tween.get(i).to({y:-75,alpha:1,scaleX:1,scaleY:1},200).to({y:-68},200).to({y:-78,scaleX:1.3,scaleY:.6},200).to({y:-59,scaleX:1,scaleY:1},200).to({y:-68},200).to({alpha:0},100).call(function(){e._over.removeChild(i),t()})},e.prototype.stopWave=function(){this._wave.deactivate()},e.prototype.turn=function(t,e,i){if(void 0===e&&(e=null),void 0===i&&(i=300),this._direction==t)null!=e&&e();else{this._direction=t;var n=2==t?1:-1,o=createjs.Tween.get(this._ship);o.to({scaleX:n},i),null!=e&&o.call(e)}},e.prototype._startWave=function(t){this._wave.update(t),this._wave.activate(),createjs.Tween.get(this).wait(500).call(function(){r.SE.play("252")}).wait(2e3).call(function(){r.SE.play("252")})},e}(PIXI.Container);e.CompShipIcon=_;var l=function(t){function e(){var e=t.call(this)||this;return e.anchor.set(.5),e}return n(e,t),Object.defineProperty(e.prototype,"scaleX",{get:function(){return this.scale.x},set:function(t){this.scale.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleY",{get:function(){return this.scale.y},set:function(t){this.scale.y=t},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.texture=s.MAP_COMMON.getTexture(98)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(19),r=function(t){function e(){var e=t.call(this)||this;return e._wave1=new PIXI.Sprite,e._wave1.anchor.set(.5,.5),e._wave1.scale.set(0),e._wave1.alpha=0,e._wave2=new PIXI.Sprite,e._wave2.anchor.set(.5,.5),e._wave2.scale.set(0),e._wave2.alpha=0,e._tweens=new Array(4),e.addChild(e._wave1),e.addChild(e._wave2),e}return n(e,t),e.prototype.update=function(t){this._wave1.texture=o.MAP_COMMON.getTexture(t),this._wave2.texture=o.MAP_COMMON.getTexture(t)},e.prototype.activate=function(){null!=this._tweens&&this._tweens.length>0&&null!=this._tweens[0]||(this._tweens[0]=createjs.Tween.get(this._wave1,{loop:!0}).to({alpha:1},900).to({alpha:0},400).wait(500),this._tweens[1]=createjs.Tween.get(this._wave1.scale,{loop:!0}).to({x:.7,y:.7},900).to({x:1,y:1},400).wait(500),this._tweens[2]=createjs.Tween.get(this._wave2,{loop:!0}).wait(500).to({alpha:1},900).to({alpha:0},400),this._tweens[3]=createjs.Tween.get(this._wave2.scale,{loop:!0}).wait(500).to({x:.7,y:.7},900).to({x:1,y:1},400))},e.prototype.deactivate=function(){this._stopTween()},e.prototype.dispose=function(){this._stopTween()},e.prototype._stopTween=function(){for(var t=0;t<this._tweens.length;t++)null!=this._tweens[t]&&(this._tweens[t].setPaused(!0),this._tweens[t]=null);this._wave1.scale.set(0),this._wave1.alpha=0,this._wave2.scale.set(0),this._wave2.alpha=0},e}(PIXI.Container);e.CompShipWave=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(62),r=i(1310),s=function(t){function e(e,i){var n=t.call(this)||this;return n._no=e,n._offsets=i,n._point=new r.SpotPointImage,n.addChild(n._point),n}return n(e,t),Object.defineProperty(e.prototype,"no",{get:function(){return this._no},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"route",{get:function(){return this._route},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"point",{get:function(){return this._point},enumerable:!0,configurable:!0}),e.prototype.isAddedSpot=function(){return null!=this._route},e.prototype.showLine=function(){null!=this._line&&(this._line.visible=!0)},e.prototype.hideLine=function(){null!=this._line&&(this._line.visible=!1)},e.prototype.setColor=function(t){this._point.update(t),this._offsets.hasOwnProperty(t.toString())?(this._point.x=this._offsets[t].x,this._point.y=this._offsets[t].y):(this._point.x=0,this._point.y=0)},e.prototype.getColor=function(){return this._point.color},e.prototype.setRoute=function(t,e,i,n){null!=this._route&&(this.removeChild(this._route),this._route=null);var r=new o.CenteringSprite(t);r.x=e+Math.round(r.width/2),r.y=i+Math.round(r.height/2),r.rotation=n/180*Math.PI,this.addChildAt(r,0),this._route=r},e.prototype.setLine=function(t,e,i,n){null!=this._line&&(this.removeChild(this._line),this._line=null);var o=new PIXI.Sprite(t);o.x=e,o.y=i,o.rotation=n/180*Math.PI,o.visible=!1,this.addChild(o),this._line=o},e.prototype.dispose=function(){this._point.dispose()},e}(PIXI.Container);e.CompSpot=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(23),r=i(19),s=function(t){function e(){var e=t.call(this)||this;return e._light=new PIXI.Sprite,e._light.anchor.set(.5),e.addChild(e._light),e._cell=new PIXI.Sprite,e._cell.anchor.set(.5),e.addChild(e._cell),e._color=0,e}return n(e,t),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){this.update(t)},e.prototype.update=function(t){this._color=t,5==t?(this._light.texture=r.MAP_COMMON.getTexture(153),this._startTween(),this._light.visible=!0,this._cell.x=0,this._cell.y=-5):(this._stopTween(),this._light.visible=!1,13==t?(this._cell.x=10,this._cell.y=-12):(this._cell.x=0,this._cell.y=0)),this._cell.texture=this._getTexture(t)},e.prototype.dispose=function(){this._stopTween()},e.prototype._startTween=function(){null==this._t&&(this._t=createjs.Tween.get(this._light,{loop:!0}).to({alpha:0},300).to({alpha:1},300))},e.prototype._stopTween=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null,this._light.alpha=0)},e.prototype._getTexture=function(t){switch(t){case-1:return r.MAP_COMMON.getTexture(159);case 1:return r.MAP_COMMON.getTexture(152);case 2:case 6:return r.MAP_COMMON.getTexture(155);case 3:return r.MAP_COMMON.getTexture(157);case 4:return r.MAP_COMMON.getTexture(158);case 5:return r.MAP_COMMON.getTexture(146);case 7:return r.MAP_COMMON.getTexture(108);case 8:return r.MAP_COMMON.getTexture(145);case 9:return r.MAP_COMMON.getTexture(156);case 10:return r.MAP_COMMON.getTexture(101);case 11:return r.MAP_COMMON.getTexture(160);case 12:return r.MAP_COMMON.getTexture(161);case 13:return r.MAP_COMMON.getTexture(83);case-2:return r.MAP_COMMON.getTexture(154);case-3:return r.MAP_COMMON.getTexture(151);case 14:return r.MAP_COMMON.getTexture(152)}return PIXI.Texture.EMPTY},e}(o.Container);e.SpotPointImage=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(62),s=i(1312),a=function(t){function e(){var e=t.call(this)||this;return e._bgDic={},e._bgLayer=new PIXI.Container,e.addChild(e._bgLayer),e}return n(e,t),Object.defineProperty(e.prototype,"extraLayer",{get:function(){return this._extraLayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mapAnime",{get:function(){return this._mapAnime},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._mapAnime&&this._mapAnime.dispose()},e.prototype.addBGLayer=function(t,e){var i=new PIXI.Sprite(t);if(null!=e&&e.length>0){if(1==this._bgDic.hasOwnProperty(e)){var n=this._bgDic[e];null!=n&&n.parent==this._bgLayer&&this._bgLayer.removeChild(n)}this._bgDic[e]=i}i.x=Math.round((o.default.width-i.width)/2),i.y=Math.round((o.default.height-i.height)/2),this._bgLayer.addChild(i)},e.prototype.getBGLayer=function(t){return 0==this._bgDic.hasOwnProperty(t)?null:this._bgDic[t]},e.prototype.addLabel=function(t,e,i){null==this._extraLayer&&(this._extraLayer=new PIXI.Container,this.addChild(this._extraLayer));var n=new r.CenteringSprite(t);n.x=e+Math.round(n.width/2),n.y=i+Math.round(n.height/2),this._extraLayer.addChild(n)},e.prototype.setMapAnime=function(){this._mapAnime=new s.MapAnime,this._mapAnime.position.set(899,370),this._bgLayer.addChildAt(this._mapAnime,2),this._mapAnime.startAnimation()},e}(PIXI.Container);e.MapBackGround=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1313),r=function(t){function e(){var e=t.call(this)||this;return e._frame=0,e._sprite=new PIXI.Sprite(o.MAP_EVENT_ANIME.getTexture(e._frame)),e.addChild(e._sprite),e}return n(e,t),e.prototype.dispose=function(){this.stopAnimation(),this.removeChildren(),this._sprite=null,this._frame=null},e.prototype.startAnimation=function(){var t=this;this._tween=createjs.Tween.get(null),this._tween.loop=!0,this._tween.wait(250).call(function(){t._onUpdate()})},e.prototype.stopAnimation=function(){this._tween&&(this._tween.setPaused(!0),this._tween=null,this._sprite.alpha=0)},e.prototype.hide=function(){var t=this;createjs.Tween.get(this).to({alpha:0},200).call(function(){t.stopAnimation()})},e.prototype._onUpdate=function(){this._frame>=29?this._frame=0:this._frame++,this._sprite.texture=o.MAP_EVENT_ANIME.getTexture(this._frame)},e}(PIXI.Container);e.MapAnime=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("map_event_anime_"+t)}t.getTexture=e}(e.MAP_EVENT_ANIME||(e.MAP_EVENT_ANIME={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1315),r=function(t){function e(){var e=t.call(this)||this;return e._spots={},e._flags={},e}return n(e,t),e.prototype.addSpot=function(t){this._spots[t.no]=t,this.addChild(t)},e.prototype.addFlag=function(t,e,i){var n=new o.LandingFlag;n.x=e,n.y=i,n.initialize(),this.addChild(n),this._flags[t]=n},e.prototype.getAllSpots=function(){var t=[];for(var e in this._spots){var i=this._spots[e];t.push(i)}return t},e.prototype.getSpot=function(t){var e=t.toString();return 1==this._spots.hasOwnProperty(e)?this._spots[t]:null},e.prototype.getFlag=function(t){var e=t.toString();return 1==this._flags.hasOwnProperty(e)?this._flags[t]:null},e.prototype.dispose=function(){this.removeChildren();for(var t in this._spots){this._spots[t].dispose()}this._spots=null},e}(PIXI.Container);e.MapSpotLayer=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(23),r=i(19),s=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite,e.addChild(e._img),e}return n(e,t),e.prototype.initialize=function(){this._img.texture=r.MAP_COMMON.getTexture(99),this._img.y=-39},e}(o.Container);e.LandingFlag=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.isDisplaying=function(){return null!=this._enemy},e.prototype.show=function(t,e){void 0===e&&(e=null),null!=this._enemy&&this.hide(),this._enemy=t;var i=t.y;t.y+=30,t.alpha=0,this.addChild(t),t.startAnimation();var n=createjs.Tween.get(t);n.to({y:i,alpha:1},500),n.wait(600),null!=e&&n.call(e)},e.prototype.hide=function(t){var e=this;if(void 0===t&&(t=null),null==this._enemy)null!=t&&t();else{var i=this._enemy;this._enemy=null;var n=createjs.Tween.get(i);n.to({y:i.y+30,alpha:0},1e3),n.call(function(){e.removeChild(i),i.stopAnimation(),null!=t&&t()})}},e.prototype.dispose=function(){this.removeChildren(),this._enemy&&this._enemy.dispose(),this._enemy=null},e}(PIXI.Container);e.MapEnemyLayer=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1318),r=i(0),s=function(t){function e(){var e=t.call(this)||this;return e._dic={},e}return n(e,t),e.prototype.show=function(t,e,i,n,o,r){null==t&&(t="");var s=t.toString();if(1==this._dic.hasOwnProperty(s)){var _=this._dic[t];_.hide(function(){_.dispose()})}var l=new a(s,e,this,i);this._dic[t]=l,l.show(n,o,r)},e.prototype.hide=function(t,e){if(void 0===e&&(e=null),null==t&&(t=""),1==this._dic.hasOwnProperty(t)){var i=this._dic[t];delete this._dic[t],i.hide(function(){i.dispose(),null!=e&&e()})}},e.prototype.hideAll=function(t){void 0===t&&(t=null);var e=[];for(var i in this._dic)e.push(this._dic[i]);if(0==e.length)null!=t&&t();else{var n=e[0];n.hide(function(){n.dispose(),null!=t&&t()});for(var o=1;o<e.length;o++)!function(t){var i=e[t];i.hide(function(){i.dispose()})}(o)}},e.prototype.dispose=function(){for(var t in this._dic){this._dic[t].dispose()}this._dic=null},e}(PIXI.Container);e.MapPlaneLayer=s;var a=function(){function t(t,e,i,n){void 0===n&&(n=0),this._key=t,this._data=e,this._layer=i,this._time=n}return Object.defineProperty(t.prototype,"key",{get:function(){return this._key},enumerable:!0,configurable:!0}),t.prototype.show=function(t,e,i){var n=this;if(null==this._data)return void i();var s=function(){var i=r.default.model.map.getMapMst(e,t).mst_id,o=r.default.model.map.getMapMem(i),s=[452,453].indexOf(o.mst_id)>=0,a=[4,3].indexOf(o.getSelectedOperationType())>=0;return"airbaseraid"==n._key&&s&&a?4:n._data.type}();this._plane=new o.MapPlane,this._plane.alpha=0,this._plane.initialize(s),this._data.from.x<this._data.to.x&&(this._plane.scale.x=-1),this._plane.x=this._data.from.x,this._plane.y=this._data.from.y,this._layer.addChild(this._plane),this._plane.activate();var a=this._time;if(a<=0){var _=this._data.to.x-this._data.from.x;_=Math.pow(_,2);var l=this._data.to.y-this._data.from.y;l=Math.pow(l,2);a=Math.sqrt(_+l)/40}var u=createjs.Tween.get(this._plane).to({alpha:1},500),c=createjs.Tween.get(this._plane).to({x:this._data.to.x,y:this._data.to.y},a,createjs.Ease.sineInOut);null!=i&&(500>a?u.call(function(){i()}):c.call(function(){i()})),this._tweens=[u,c]},t.prototype.hide=function(t){var e=this;if(void 0===t&&(t=null),this._stopTweens(),null==this._plane)return void(null!=t&&t());var i=createjs.Tween.get(this._plane).to({alpha:0},200).call(function(){null!=e._plane.parent&&e._plane.parent.removeChild(e._plane),e._plane.deactivate(),e._plane=null,null!=t&&t()});this._tweens=[i]},t.prototype.dispose=function(){this._stopTweens(),null!=this._plane&&(null!=this._plane.parent&&this._plane.parent.removeChild(this._plane),this._plane.deactivate(),this._plane=null),this._data=null,this._layer=null},t.prototype._stopTweens=function(){if(null!=this._tweens){for(var t=0,e=this._tweens;t<e.length;t++){e[t].setPaused(!0)}this._tweens=null}},t}()},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(19),r=function(t){function e(){var e=t.call(this)||this;return e._layer=new PIXI.Container,e._layer.y=-30,e.addChild(e._layer),e._img3=new PIXI.Sprite,e._layer.addChild(e._img3),e._img2=new PIXI.Sprite,e._layer.addChild(e._img2),e._img1=new PIXI.Sprite,e._layer.addChild(e._img1),e._basePos1=new PIXI.Point,e._basePos2=new PIXI.Point,e._basePos3=new PIXI.Point,e._tweens=[],e}return n(e,t),e.prototype.initialize=function(t){switch(t){case 1:this._img1.texture=o.MAP_COMMON.getTexture(87),this._img2.texture=o.MAP_COMMON.getTexture(88);break;case 0:this._img1.texture=o.MAP_COMMON.getTexture(89),this._img2.texture=o.MAP_COMMON.getTexture(91);break;case 2:this._img1.texture=o.MAP_COMMON.getTexture(90),this._img2.texture=o.MAP_COMMON.getTexture(92);break;case 3:this._img1.texture=o.MAP_COMMON.getTexture(93),this._img2.texture=o.MAP_COMMON.getTexture(94);break;case 4:this._img1.texture=o.MAP_COMMON.getTexture(96),this._img2.texture=o.MAP_COMMON.getTexture(97);break;default:this._img1.texture=PIXI.Texture.EMPTY,this._img2.texture=PIXI.Texture.EMPTY}3==t&&(this._img3.texture=o.MAP_COMMON.getTexture(95),this._basePos1.x=-5,this._basePos1.y=-25,this._basePos2.x=-40,this._basePos2.y=-50,this._basePos3.x=-45,this._basePos3.y=0),4==t?(this._img3.texture=PIXI.Texture.EMPTY,this._basePos1.x=12,this._basePos1.y=20,this._basePos2.x=-15,this._basePos2.y=-15,this._basePos3.x=0,this._basePos3.y=0):(this._img3.texture=PIXI.Texture.EMPTY,this._basePos1.x=0,this._basePos1.y=0,this._basePos2.x=-15,this._basePos2.y=-15,this._basePos3.x=0,this._basePos3.y=0),this._img1.x=this._basePos1.x,this._img1.y=this._basePos1.y,this._img2.x=this._basePos2.x,this._img2.y=this._basePos2.y,this._img3.x=this._basePos3.x,this._img3.y=this._basePos3.y},e.prototype.activate=function(){this._stopTweens(),this._startAnimation()},e.prototype.deactivate=function(){this._stopTweens()},e.prototype._startAnimation=function(){var t=this,e=6*Math.random()-3,i=6*Math.random()-3;this._tweens.push(createjs.Tween.get(this._img3).to({x:this._basePos3.x+e,y:this._basePos3.y+i},250,createjs.Ease.sineInOut)),e=6*Math.random()-3,i=6*Math.random()-3,this._tweens.push(createjs.Tween.get(this._img2).to({x:this._basePos2.x+e,y:this._basePos2.y+i},250,createjs.Ease.sineInOut)),e=6*Math.random()-3,i=6*Math.random()-3,this._tweens.push(createjs.Tween.get(this._img1).to({x:this._basePos1.x+e,y:this._basePos1.y+i},250,createjs.Ease.sineInOut).call(function(){t._startAnimation()}))},e.prototype._stopTweens=function(){for(var t=0,e=this._tweens;t<e.length;t++){var i=e[t];null!=i&&i.setPaused(!0)}this._tweens=[]},e}(PIXI.Container);e.MapPlane=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(19),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.create=function(t){null!=this._airbase&&null!=this._airbase.parent&&this._airbase.parent.removeChild(this._airbase),this._airbase=new PIXI.Sprite,this._airbase.texture=o.MAP_COMMON.getTexture(84),this._airbase.x=t.x-this._airbase.width/2,this._airbase.y=t.y-this._airbase.height/2,this.addChild(this._airbase)},e.prototype.shake=function(){var t=this;if(null!=this._airbase)for(var e=this._airbase.x,i=createjs.Tween.get(this._airbase),n=0;n<60;n++)!function(n){i.wait(50),i.call(function(){Math.random();t._airbase.x=n%2==0?e+(Math.random()+.5):e-(Math.random()+.5)})}(n)},e}(PIXI.Container);e.AirBaseLayer=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(31),s=i(1321),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initialize=function(t,e,i,n){void 0===n&&(n=1),null!=this._gauge&&(this._gauge.dispose(),null!=this._gauge.parent&&this._gauge.parent.removeChild(this._gauge),this._gauge=null),this._gauge=new s.GaugeVertical,this._gauge.initialize(t),this._gauge.update(e,i),this._gauge.position.set(t.x,t.y),this._gauge.alpha=n,this.addChild(this._gauge)},e.prototype.dispose=function(){this._stopTween(),null!=this._gauge&&this._gauge.dispose()},e.prototype.update=function(t,e,i,n){var o=this;if(void 0===i&&(i=0),void 0===n&&(n=null),this._stopTween(),i<=0)this._gauge.update(t,e);else{var r={now:this._gauge.now,max:this._gauge.max},s=function(t){o._gauge.update(r.now,r.max)};this._t=createjs.Tween.get(r,{onChange:s}).to({now:t,max:e},i).call(function(){o._t=null,null!=n&&n()})}},e.prototype.vanish=function(t){void 0===t&&(t=null),this._stopTween();var e=new r.Container;e.x=this._gauge.x+Math.round(this._gauge.width/2),e.y=this._gauge.y+Math.round(this._gauge.height/2),this.addChild(e),this._gauge.x=-Math.round(this._gauge.width/2),this._gauge.y=-Math.round(this._gauge.height/2),e.addChild(this._gauge),this._t=createjs.Tween.get(e).wait(800).wait(200).to({scaleX:1.1,scaleY:.9},35).to({scaleX:0,scaleY:1.4},200).call(function(){null!=t&&t()})},e.prototype.createShowTween=function(t){if(null==this._gauge)return null;var e=this._gauge.x;return this._gauge.x=t?-this._gauge.width:o.default.width+this._gauge.width,this._gauge.alpha=0,createjs.Tween.get(this._gauge).to({x:e,alpha:1},500,createjs.Ease.quadOut)},e.prototype._stopTween=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Container);e.GaugeLayer=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(19),s=function(t){function e(){var e=t.call(this)||this;return e._now=-1,e._max=100,e._bar=new PIXI.Graphics,e._img=new PIXI.Sprite,e._light=new PIXI.Sprite,e._tp=new a,e.addChild(e._bar),e.addChild(e._img),e.addChild(e._light),e.addChild(e._tp),e.visible=!1,e}return n(e,t),Object.defineProperty(e.prototype,"now",{get:function(){return this._now},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){if(null==t)return this._stopLoopTween(),this._tp.enabled=!1,void(this.visible=!1);this._img.texture=o.default.resources.gauge.getTexture(t.image_path),this._light.texture=o.default.resources.gauge.getTexture(t.image_light_path),this._light.x=t.lightX,this._light.y=t.lightY,this._bar.x=t.barX,this._bar.y=t.barY,this._bar.clear(),this._bar.beginFill(t.barColor),this._bar.drawRect(0,0,t.barW,t.barH),this._bar.endFill(),this._tp.visible=!1,1==t.isTransport()?(this._tp.initialize(),this._tp.x=t.transportX,this._tp.y=t.transportY,this._tp.enabled=!0):this._tp.enabled=!1,this.visible=!0,this._startLoopTween()},e.prototype.update=function(t,e){this._now=t,this._max=e;var i=this._now/this._max;i=Math.max(i,0),i=Math.min(i,1),this._bar.scale.y=i,1==this._tp.enabled?(this._tp.update(t,e),this._tp.visible=!0):this._tp.visible=!1},e.prototype.dispose=function(){this._stopLoopTween()},e.prototype._startLoopTween=function(){null==this._t&&(this._light.alpha=0,this._t=createjs.Tween.get(this._light,{loop:!0}).to({alpha:1},500).to({alpha:0},500))},e.prototype._stopLoopTween=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null),this._light.alpha=0},e}(PIXI.Container);e.GaugeVertical=s;var a=function(t){function e(){var e=t.call(this)||this;return e._enabled=!1,e._title=new PIXI.Sprite,e._slash=new PIXI.Sprite,e._slash.x=62,e._now=new _,e._now.x=30,e._max=new _,e._max.x=68,e.addChild(e._title),e.addChild(e._slash),e.addChild(e._now),e.addChild(e._max),e}return n(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._title.texture=r.MAP_COMMON.getTexture(44),this._slash.texture=r.MAP_COMMON.getTexture(43)},e.prototype.update=function(t,e){this._now.update(t),this._max.update(e)},e}(PIXI.Container),_=function(t){function e(){var e=t.call(this)||this;e._nums=[];for(var i=0;i<4;i++){var n=new l;n.x=8*i,e.addChild(n),e._nums.push(n)}return e}return n(e,t),e.prototype.update=function(t){t=Math.max(0,t),t=Math.min(9999,t);for(var e=!1,i=0;i<this._nums.length;i++){var n=Math.pow(10,this._nums.length-i-1),o=Math.floor(t/n);o>0||1==e?(this._nums[i].update(o),e=!0):this._nums[i].update(-1),t%=n}},e}(PIXI.Container),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.update=function(t){t>=0&&t<=9?(this.texture=r.MAP_COMMON.getTexture(e._TEXTURES[t]),this.visible=!0):this.visible=!1},e._TEXTURES=[33,34,35,36,37,38,39,40,41,42],e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(1323),s=i(1325),a=function(t){function e(e,i){var n=t.call(this)||this;return n._scene=e,n._model=i,n}return n(e,t),e.prototype._start=function(){var t=this;if(this._scene.model.sortie.getNextCell().isDeadEnd())return void this._endTask();var e=this._model.escape,i=e.getTargetShipIndexes(),n=e.getTowingShipIndexes(),o=null;if(i.length>0){var a=i[0];o=this._model.deck_f.ships[a]}var _=null;if(n.length>0){var l=n[0];_=this._model.deck_f.ships[l]}if(null!=o)if(null!=_){var u=new s.EscapeGoeiTask(this._scene,this._model,o,_);u.start(function(){t._endTask()})}else{var u=new r.EscapeTankanTask(this._scene,this._model,o);u.start(function(){t._endTask()})}else this._endTask()},e.prototype._endTask=function(){this._scene=null,this._model=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.EscapeTask=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(13),s=i(442),a=i(1324),_=function(t){function e(e,i,n){var o=t.call(this)||this;return o._onTaihi=function(){o._view.deactivate();var t=o._model.map_info.area_id,e=o._model.map_info.map_no,i=o._model.map_info.cell_no;new s.GobackPortAPI(t,e,i,o._target.mem_id,-1).start(function(){o._target.initializeTaihi(!0),o._hideView()})},o._onTaihiSezu=function(){o._view.deactivate(),o._hideView()},o._scene=e,o._model=i,o._target=n,o}return n(e,t),e.prototype._start=function(){this._loadShipResources()},e.prototype._loadShipResources=function(){var t=this,e=new r.ShipLoader;e.add(this._target.mst_id,this._target.isDamaged(),"banner"),e.load(function(){t._show()})},e.prototype._show=function(){this._view=new a.EscapeTankanView(this._onTaihi,this._onTaihiSezu),this._view.initialize();var t=this._target;this._view.updateTargetShipBanner(t.mst_id,t.level,t.isMarriage(),t.hp_now,t.hp_max),this._view.activate(),this._view.alpha=0,this._scene.addChild(this._view),createjs.Tween.get(this._view).to({alpha:1},300)},e.prototype._hideView=function(){var t=this;createjs.Tween.get(this._view).to({alpha:0},300).call(function(){t._endTask()})},e.prototype._endTask=function(){this._scene.removeChild(this._view),this._scene=null,this._model=null,this._target=null,this._view.dispose(),this._view=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.EscapeTankanTask=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(4),s=i(32),a=i(249),_=i(28),l=i(19),u=i(443),c=function(t){function e(e,i){var n=t.call(this)||this;return n._onClickTaihi=function(){null!=n._cb_onYes&&n._cb_onYes()},n._onClickTaihiSezu=function(){null!=n._cb_onNo&&n._cb_onNo()},n._cb_onYes=e,n._cb_onNo=i,n._taihi=new h(n._onClickTaihi),n._taihi.position.set(438,563),n.addChild(n._taihi),n._taihisezu=new p(n._onClickTaihiSezu),n._taihisezu.position.set(771,563),n.addChild(n._taihisezu),n._ship_target=new s.ShipBanner,n._ship_target.position.set(344,255),n.addChild(n._ship_target),n._txt1=new PIXI.Sprite,n._txt1.position.set(584,258),n.addChild(n._txt1),n._txt2=new PIXI.Sprite,n._txt2.position.set(266,347),n.addChild(n._txt2),n._ship_name=new r.TextBox(27,16777215),n._ship_name.y=258,n.addChild(n._ship_name),n._ship_level=new r.TextBox(18,16777215),n._ship_level.y=258,n.addChild(n._ship_level),n._ship_hp=new r.TextBox(18,16777215),n._ship_hp.y=291,n.addChild(n._ship_hp),n._title=new a.PhaseTitle,n._title.y=17,n.addChild(n._title),n}return n(e,t),e.prototype.initialize=function(){this._taihi.initialize(),this._taihisezu.initialize(),this._txt1.texture=l.MAP_COMMON.getTexture(169),this._txt2.texture=l.MAP_COMMON.getTexture(172),this._title.initialize(!1),this._title.update(l.MAP_COMMON.getTexture(111)),this._title.activate()},e.prototype.updateTargetShipBanner=function(t,e,i,n,r){var s="",a=o.default.model.ship.getMst(t);null!=a&&(s=a.name);var l=_.ShipUtil.isDamaged(n,r),u=_.ShipUtil.getDamageType(n,r);this._ship_target.updateImage(t,l);if(this._ship_target.updateIcon(!1,!1,u),this._ship_target.updateRing(i),this._ship_name.text=s,this._ship_name.x=240-this._ship_name.width,this._ship_name.x<30){this._ship_name.x=30;var c=new PIXI.Graphics;c.beginFill(16711680,.5),c.drawRect(0,0,210,33),c.endFill(),this._ship_name.addChild(c),this._ship_name.mask=c}this._ship_level.text="Lv "+e,this._ship_level.x=338-this._ship_level.width,this._ship_hp.text=n+"/"+r,this._ship_hp.x=338-this._ship_hp.width},e.prototype.activate=function(){this._taihi.activate(),this._taihisezu.activate()},e.prototype.deactivate=function(){this._taihi.deactivate(),this._taihisezu.deactivate()},e.prototype.dispose=function(){this._taihi.dispose(),this._taihisezu.dispose(),this._title.dispose(),this._cb_onYes=null,this._cb_onNo=null},e}(PIXI.Container);e.EscapeTankanView=c;var h=function(t){function e(e){return t.call(this,!1,e)||this}return n(e,t),e.prototype.initialize=function(){this._initialize(0)},e.prototype._setTexture=function(t){this._btn.texture=1==t?l.MAP_COMMON.getTexture(14):l.MAP_COMMON.getTexture(13),this._btn.x=-Math.round(this._btn.width/2),this._btn.y=-Math.round(this._btn.height/2)},e}(u.WaveBtnBase),p=function(t){function e(e){return t.call(this,!0,e)||this}return n(e,t),e.prototype.initialize=function(){this._initialize(-3)},e.prototype._setTexture=function(t){this._btn.texture=1==t?l.MAP_COMMON.getTexture(12):l.MAP_COMMON.getTexture(11),this._btn.x=-Math.round(this._btn.width/2),this._btn.y=-Math.round(this._btn.height/2)},e}(u.WaveBtnBase)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(13),s=i(442),a=i(1326),_=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._onTaihi=function(){r._view.deactivate();var t=r._model.map_info.area_id,e=r._model.map_info.map_no,i=r._model.map_info.cell_no;new s.GobackPortAPI(t,e,i,r._target.mem_id,r._towing.mem_id).start(function(){r._target.initializeTaihi(!0),r._towing.initializeTaihi(!0),r._hideView()})},r._onTaihiSezu=function(){r._view.deactivate(),r._hideView()},r._scene=e,r._model=i,r._target=n,r._towing=o,r}return n(e,t),e.prototype._start=function(){this._loadShipResources()},e.prototype._loadShipResources=function(){var t=this,e=new r.ShipLoader;e.add(this._target.mst_id,this._target.isDamaged(),"banner"),e.add(this._towing.mst_id,this._towing.isDamaged(),"banner"),e.load(function(){t._show()})},e.prototype._show=function(){this._view=new a.EscapeGoeiView(this._onTaihi,this._onTaihiSezu),this._view.initialize();var t=this._target,e=this._towing;this._view.updateTargetShipBanner(t.mst_id,t.level,t.isMarriage(),t.hp_now,t.hp_max),this._view.updateTowingShipBanner(e.mst_id,e.isMarriage(),e.hp_now,e.hp_max),this._view.activate(),this._view.alpha=0,this._scene.addChild(this._view),createjs.Tween.get(this._view).to({alpha:1},300)},e.prototype._hideView=function(){var t=this;createjs.Tween.get(this._view).to({alpha:0},300).call(function(){t._endTask()})},e.prototype._endTask=function(){this._scene.removeChild(this._view),this._scene=null,this._model=null,this._target=null,this._towing=null,this._view.dispose(),this._view=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.EscapeGoeiTask=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(4),s=i(32),a=i(249),_=i(28),l=i(19),u=i(443),c=function(t){function e(e,i){var n=t.call(this)||this;return n._onClickTaihi=function(){null!=n._cb_onYes&&n._cb_onYes()},n._onClickTaihiSezu=function(){null!=n._cb_onNo&&n._cb_onNo()},n._cb_onYes=e,n._cb_onNo=i,n._taihi=new h(n._onClickTaihi),n._taihi.position.set(438,563),n.addChild(n._taihi),n._taihisezu=new p(n._onClickTaihiSezu),n._taihisezu.position.set(771,563),n.addChild(n._taihisezu),n._ship_target=new s.ShipBanner,n._ship_target.position.set(344,255),n.addChild(n._ship_target),n._ship_towing=new s.ShipBanner,n._ship_towing.position.set(344,330),n.addChild(n._ship_towing),n._txt1=new PIXI.Sprite,n._txt1.position.set(584,258),n.addChild(n._txt1),n._txt2=new PIXI.Sprite,n._txt2.position.set(123,333),n.addChild(n._txt2),n._txt3=new PIXI.Sprite,n._txt3.position.set(584,333),n.addChild(n._txt3),n._ship_name=new r.TextBox(27,16777215),n._ship_name.y=258,n.addChild(n._ship_name),n._ship_level=new r.TextBox(18,16777215),n._ship_level.y=258,n.addChild(n._ship_level),n._ship_hp=new r.TextBox(18,16777215),n._ship_hp.y=291,n.addChild(n._ship_hp),n._title=new a.PhaseTitle,n._title.y=17,n.addChild(n._title),n}return n(e,t),e.prototype.initialize=function(){this._taihi.initialize(),this._taihisezu.initialize(),this._txt1.texture=l.MAP_COMMON.getTexture(169),this._txt2.texture=l.MAP_COMMON.getTexture(170),this._txt3.texture=l.MAP_COMMON.getTexture(171),this._title.initialize(!1),this._title.update(l.MAP_COMMON.getTexture(111)),this._title.activate()},e.prototype.updateTargetShipBanner=function(t,e,i,n,r){var s="",a=o.default.model.ship.getMst(t);null!=a&&(s=a.name);var l=_.ShipUtil.isDamaged(n,r),u=_.ShipUtil.getDamageType(n,r);this._ship_target.updateImage(t,l);if(this._ship_target.updateIcon(!1,!1,u),this._ship_target.updateRing(i),this._ship_name.text=s,this._ship_name.x=240-this._ship_name.width,this._ship_name.x<30){this._ship_name.x=30;var c=new PIXI.Graphics;c.beginFill(16711680,.5),c.drawRect(0,0,210,33),c.endFill(),this._ship_name.addChild(c),this._ship_name.mask=c}this._ship_level.text="Lv "+e,this._ship_level.x=338-this._ship_level.width,this._ship_hp.text=n+"/"+r,this._ship_hp.x=338-this._ship_hp.width},e.prototype.updateTowingShipBanner=function(t,e,i,n){var o=_.ShipUtil.isDamaged(i,n),r=_.ShipUtil.getDamageType(i,n);this._ship_towing.updateImage(t,o);this._ship_towing.updateIcon(!1,!1,r),this._ship_towing.updateRing(e)},e.prototype.activate=function(){this._taihi.activate(),this._taihisezu.activate()},e.prototype.deactivate=function(){this._taihi.deactivate(),this._taihisezu.deactivate()},e.prototype.dispose=function(){this._taihi.dispose(),this._taihisezu.dispose(),this._title.dispose(),this._cb_onYes=null,this._cb_onNo=null},e}(PIXI.Container);e.EscapeGoeiView=c;var h=function(t){function e(e){return t.call(this,!1,e)||this}return n(e,t),e.prototype.initialize=function(){this._initialize(0)},e.prototype._setTexture=function(t){this._btn.texture=1==t?l.MAP_COMMON.getTexture(14):l.MAP_COMMON.getTexture(13),this._btn.x=-Math.round(this._btn.width/2),this._btn.y=-Math.round(this._btn.height/2)},e}(u.WaveBtnBase),p=function(t){function e(e){return t.call(this,!0,e)||this}return n(e,t),e.prototype.initialize=function(){this._initialize(-3)},e.prototype._setTexture=function(t){this._btn.texture=1==t?l.MAP_COMMON.getTexture(12):l.MAP_COMMON.getTexture(11),this._btn.x=-Math.round(this._btn.width/2),this._btn.y=-Math.round(this._btn.height/2)},e}(u.WaveBtnBase)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(276),r=i(1328),s=i(1337),a=i(1432),_=i(1445),l=function(t){function e(){var e=t.call(this)||this;return e._view=new _.ViewMain,e._view.shutter.initializeLight(),e._view.shutter.close(0),e.content.addChild(e._view),e}return n(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0}),e.prototype.initialize=function(e){t.prototype.initialize.call(this,e),this._data=new a.BattleData(e),e.isPractice()},e.prototype.dispose=function(){this._view.dispose(),t.prototype.dispose.call(this)},e.prototype.start=function(){var t=this;new r.TaskInit(this).start(function(){t._main()})},e.prototype._main=function(){var t=this;new s.TaskMain(this).start(function(){t._end()})},e.prototype._end=function(){var t=this.data.model.deck_f.ships,e=this.data.model.deck_e.ships;this.data.model.ship_info.add(t,e);var i=(new Date).getTime();this.data.model.actual_survey_time=i-this.data.model.actual_survey_time,this.data.model.prediction_time=this.data.model.actual_survey_time,this.emit("complete")},e}(o.BattleSceneBase);e.BattleScene=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(18),a=i(2),_=i(13),l=i(1329),u=i(68),c=i(6),h=i(1330),p=i(1331),d=i(1332),f=i(1333),y=i(1334),m=i(1335),g=i(1336),v=function(t){function e(e){var i=t.call(this)||this;return i._flg_wait1500=!1,i._flg_preinitialized=!1,i._scene=e,i}return n(e,t),e.prototype._start=function(){r.default.sound.voice.setNumOfMultiPlay(100),this._loadResources()},e.prototype._loadResources=function(){var t=this,e=this._scene.data.model.deck_f,i=null!=e&&e.isCombined(),n=this._scene.data.model.map_info.isVS12(),o=i||n,r=this._scene.data.model.map_info.isNightStart();new l.TaskLoadResourcesBattle(r,o).start(function(){t._showTextImage()})},e.prototype._showTextImage=function(){var t=this,e=PIXI.Texture.fromFrame("battle_telop_txt_start");if(this._start_img=new PIXI.Sprite(e),this._start_img.anchor.set(.5,.5),this._start_img.x=o.default.width/2,this._start_img.y=o.default.height/2,this._start_img.alpha=0,this._scene.addChild(this._start_img),1==this._scene.data.model.map_info.isLongRangeFires()&&c.SE.play("257"),createjs.Tween.get(this._start_img).to({alpha:1},200).wait(1500).call(function(){t._flg_wait1500=!0,t._hideTextImage()}),null==this._scene.data.model.gekimetsu_data)this._connectAPI();else{var i=this._scene.data,n=this._scene.data.model.gekimetsu_data;i.addDayRecord(n),this._initData()}},e.prototype._connectAPI=function(){var t,e=this,i=this._scene.data;t=1==i.model.isPractice()?new m.APIPracticeStart(i):1==i.model.map_info.isNightStart()?new f.APIBattleStartNight(i):1==i.model.map_info.isAirBattle()?new p.APIBattleStartAirBattle(i):1==i.model.map_info.isAirRaid()?new d.APIBattleStartAirRaid(i):1==i.model.map_info.isLongRangeFires()?new y.APIBattleStartLongRangeFires(i):new h.APIBattleStart(this._scene.data),t.start(function(){e._initData()})},e.prototype._initData=function(){var t=(this._scene.data.getFirstRecord(),this._scene.data.model.deck_f.ships),e=this._scene.data.model.deck_e.ships;this._scene.data.model.ship_info.add(t,e),this._loadBannerImages()},e.prototype._loadBannerImages=function(){for(var t=this,e=(this._scene.data.getFirstRecord(),new _.ShipLoader),i=0,n=this._scene.data.model.deck_f.ships;i<n.length;i++){var o=n[i];this._loadBannerImage(e,o)}for(var r=0,s=this._scene.data.model.deck_e.ships;r<s.length;r++){var o=s[r];this._loadBannerImage(e,o)}e.load(function(){t._initializeView()})},e.prototype._loadBannerImage=function(t,e){if(null!=e){var i=e.mst_id;i>=0&&(t.add(i,!1,"banner"),t.add(i,!0,"banner"),t.add(i,!0,"banner_g"),t.add(i,!1,"full"),t.add(i,!0,"full")),e.index>=6&&(e.friend?(t.add(i,!1,"banner2"),t.add(i,!0,"banner2"),t.add(i,!0,"banner2_g")):(t.add(i,!1,"banner3"),t.add(i,!0,"banner3_g")))}},e.prototype._initializeView=function(){var t=(this._scene.data.getFirstRecord(),this._scene.data.model.deck_f),e=t.ships_main,i=t.ships_sub,n=this._scene.data.model.deck_e,o=n.ships_main,r=n.ships_sub;this._scene.view.bannerGroupLayer.initialize(e,o,i,r);var s=t.isYugeki();this._scene.view.raderLayer.initialize(s),this._flg_preinitialized=!0,this._hideTextImage()},e.prototype._hideTextImage=function(){var t=this;0!=this._flg_wait1500&&0!=this._flg_preinitialized&&(this._scene.data.model.actual_survey_time=(new Date).getTime(),createjs.Tween.get(this._start_img).to({x:o.default.width/2-120,alpha:0},200).wait(200).call(function(){t._start_img.parent.removeChild(t._start_img),t._loadBG()}))},e.prototype._loadBG=function(){var t=this;1==this._scene.data.model.map_info.isLongRangeFires()?this._scene.bg.setNight(function(){t._shutterOpen()}):0==this._scene.data.model.map_info.isNightStart()?this._scene.bg.setDay(function(){t._shutterOpen()}):this._scene.bg.setNight(function(){t._shutterOpen()})},e.prototype._shutterOpen=function(){var t=this;null!=this._scene.data.model.gekimetsu_data&&(this._scene.view.bannerGroupLayer.friends.enter(),this._scene.view.bannerGroupLayer.enemies.enter(),this._scene.view.bannerGroupLayer.friends_combined.enter(),this._scene.view.bannerGroupLayer.enemies_combined.enter()),this._scene.view.shutter.once("opened",function(){t._playBGM()}),this._scene.view.shutter.open()},e.prototype._playBGM=function(){var t=0,e=this._scene.data.isNight();if(1==this._scene.data.model.isPractice())t=e?2:1;else if(null!=this._scene.data.model.gekimetsu_data)t=70;else{var i=this._scene.data.model.map_info.area_id,n=this._scene.data.model.map_info.map_no,o=this._scene.data.model.map_info.isBoss();t=r.default.model.mst_bgm.getCombatBGM(i,n,e,o)}r.default.sound.bgm.playBattleBGM(t),this._bossInsert()},e.prototype._getBossModel=function(){var t=this._scene.data.getFirstRecord(),e=t.common.getBossModels();if(null!=e&&e.length>1){var i=this._scene.data.model.map_info.area_id,n=i==s.EVENT_AREA_ID,o=this._scene.data.model.gauge_type;if(n&&3!=o){var r=this._scene.data.model.deck_e.ships[0],a=this._scene.data.model.gauge_now,_=r.hp_now;if(a>0&&_>=a){var l=e.filter(function(t){return 2==t.type});if(l.length>0)return l[0]}}var u=e.filter(function(t){return 1==t.type});if(u.length>0)return u[0]}return null!=e&&1==e.length?e[0]:null},e.prototype._bossInsert=function(){var t=this,e=this._getBossModel();if(null!=e){var i=this._scene.view.layer_cutin;new g.TaskBossCutin(i,e).start(function(){t._enterShips()})}else{if(0==this._scene.data.isNight()){var n=this._scene.data.model.deck_f.ships[0],o=n.mst_id;1==this._scene.data.model.map_info.isLongRangeFires()?r.default.sound.voice.play(o.toString(),19):r.default.sound.voice.play(o.toString(),15)}this._enterShips()}},e.prototype._enterShips=function(){var t=this;if(1==this._scene.view.bannerGroupLayer.isEnteredFriend())this._showRader();else if(1==this._scene.data.model.map_info.isNightStart())this._showHpGauge();else{var e=this._scene.view.bannerGroupLayer.createFriendEnterTask();e.start(function(){t._showRader()})}},e.prototype._showRader=function(){var t=this._scene.data,e=this._scene.data.model.deck_f,i=this._scene.data.model.deck_e,n=(this._scene.data.getFirstRecord(),e.formation),o=e.type,r=e.getCountMainDeck(),s=e.getCountSubDeck();t.model.map_info.isLongRangeFires()?this._scene.view.raderLayer.rader_f.show(n,o,0,0,!1):this._scene.view.raderLayer.rader_f.show(n,o,r,s,!1);var a=i.formation,_=i.type;if(1==this._scene.view.bannerGroupLayer.isEnteredEnemy()){var l=i.getCountMainDeck(),u=i.getCountSubDeck();t.model.map_info.isLongRangeFires()?this._scene.view.raderLayer.rader_e.show(a,_,0,0,!0):this._scene.view.raderLayer.rader_e.show(a,_,l,u,!1)}else this._scene.view.raderLayer.rader_e.show(a,_,0,0,!1);this._showHpGauge()},e.prototype._showHpGauge=function(){var t=this,e=this._scene.data.model.gauge_max,i=Math.min(this._scene.data.model.gauge_now,e);if(0==this._scene.data.model.map_info.isBoss())return void this._endTask();if(0==e)return void this._endTask();if(0==i)return void this._endTask();if(3==this._scene.data.model.gauge_type)return void this._endTask();if(null!=this._scene.data.model.gekimetsu_data)return void this._endTask();var n=this._scene.data.model.map_info.area_id,o=this._scene.data.model.map_info.map_no,s=this._scene.data.model.map_info.cell_no,a=this._scene.data.model.stage;if(7==n&&2==o&&a>1&&7==s)return void this._endTask();if(45==n&&2==o&&a>1&&14==s)return void this._endTask();if(45==n&&3==o&&a>1&&10==s)return void this._endTask();var _=u.GaugeSetModel.createKey(n,o,a),l=r.default.resources.gauge.createLoaderHorizontal();l.add(_),l.load(function(){var n=r.default.resources.gauge.getGaugeInfo(_);t._scene.view.layer_gauge.show(n,i,e,function(){t._endTask()})})},e}(a.TaskBase);e.TaskInit=v},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(14),s=function(t){function e(e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var n=t.call(this)||this;return n._night=e,n._combined=i,n}return n(e,t),e.prototype._start=function(){this._loadCommon()},e.prototype._loadCommon=function(){var t=this,e=new r.UIImageLoader("common");e.add("common_explosion.json"),e.load(function(){t._loadImage()})},e.prototype._loadImage=function(){var t=this,e=new r.UIImageLoader("battle");e.add("battle_telop/txt_start.png","battle_telop_txt_start"),e.add("battle_telop/mes_bg_f.png","battle_telop_mes_bg_f"),e.add("battle_telop/mes_bg_e.png","battle_telop_mes_bg_e"),e.add("battle_telop/mes2_f_hbg.png","battle_telop_mes2_f_hbg"),e.add("battle_telop/mes2_e_hbg.png","battle_telop_mes2_e_hbg"),e.add("battle_telop/mes2_f_ybg.png","battle_telop_mes2_f_ybg"),e.add("battle_telop/mes2_e_ybg.png","battle_telop_mes2_e_ybg"),e.add("battle_telop/mes_f_hbg.png","battle_telop_mes_f_hbg"),e.add("battle_telop/mes_f_ybg.png","battle_telop_mes_f_ybg"),e.add("battle_telop/mes_e_hbg.png","battle_telop_mes_e_hbg"),e.add("battle_telop/mes_e_ybg.png","battle_telop_mes_e_ybg"),e.add("battle_telop/mes_f_hbg3.png","battle_telop_kkcutin_f"),e.add("battle_telop/mes_e_hbg3.png","battle_telop_kkcutin_e"),e.load(function(){t._loadSpriteSheet()})},e.prototype._loadSpriteSheet=function(){var t=this,e=new r.UIImageLoader("battle");e.add("battle_main.json"),e.add("battle_cutin_anti_air.json"),1==this._night&&(e.add("battle_night.json"),e.add("battle_telop/mes_ybg3_f.png","battle_telop_mes_ybg3_f"),e.add("battle_telop/mes_ybg3_e.png","battle_telop_mes_ybg3_e"),e.add("battle_telop/mes_ybg4_f.png","battle_telop_mes_ybg4_f"),e.add("battle_telop/mes_ybg4_e.png","battle_telop_mes_ybg4_e"),e.add("battle_telop/mes_ybg6_f.png","battle_telop_mes_ybg6_f"),e.add("battle_telop/mes_ybg6_e.png","battle_telop_mes_ybg6_e")),e.add("battle_jin.json"),1==this._combined&&e.add("battle_main2.json"),e.add("battle_airunit.json"),e.load(function(){t._endTask()})},e}(o.TaskBase);e.TaskLoadResourcesBattle=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=i(140),s=i(13),a=function(t){function e(e){var i=t.call(this)||this,n=e.model.deck_f,o=e.model.deck_e,r=n.isCombined(),s=!1;if(s=null!=o?o.isCombined():e.model.map_info.isVS12(),0==r)i._url=0==s?"api_req_sortie/battle":"api_req_combined_battle/ec_battle";else{var a=n.type;1==a||3==a?i._url=0==s?"api_req_combined_battle/battle":"api_req_combined_battle/each_battle":2==a&&(i._url=0==s?"api_req_combined_battle/battle_water":"api_req_combined_battle/each_battle_water")}return i._data=e,i}return n(e,t),e.prototype._connect=function(){this._post_data.api_formation=this._data.model.deck_f.formation,this._post_data.api_recovery_type=this._data.model.flag,0==this._data.model.supplied?this._post_data.api_supply_flag=0:1==this._data.model.supplied&&(this._post_data.api_supply_flag=1),0==this._data.model.use_ration?this._post_data.api_ration_flag=0:1==this._data.model.use_ration&&(this._post_data.api_ration_flag=1),1==r.isNeedKeyAtBattleStartAPI()&&(this._post_data.api_start=Math.floor(8999*Math.random())+1001),t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._data.addDayRecord(this._raw_data),this._data.isBossDamaged()?s.ShipLoader.hasai=this._data.model.deck_e.ships_main[0].mst_id:s.ShipLoader.hasai=null,this._data=null,t.prototype._completedEnd.call(this)},e}(o.APIBase);e.APIBattleStart=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=i(140),s=function(t){function e(e){var i=t.call(this)||this,n=e.model.deck_f,o=0!=n.type;return i._url=0==o?"api_req_sortie/airbattle":"api_req_combined_battle/airbattle",i._data=e,i}return n(e,t),e.prototype._connect=function(){this._post_data.api_formation=this._data.model.deck_f.formation,this._post_data.api_recovery_type=this._data.model.flag,0==this._data.model.supplied?this._post_data.api_supply_flag=0:1==this._data.model.supplied&&(this._post_data.api_supply_flag=1),0==this._data.model.use_ration?this._post_data.api_ration_flag=0:1==this._data.model.use_ration&&(this._post_data.api_ration_flag=1),1==r.isNeedKeyAtBattleStartAPI()&&(this._post_data.api_start=Math.floor(8999*Math.random())+1001),t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._data.addDayRecord(this._raw_data),this._data=null,t.prototype._completedEnd.call(this)},e}(o.APIBase);e.APIBattleStartAirBattle=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=i(140),s=function(t){function e(e){var i=t.call(this)||this,n=e.model.deck_f,o=0!=n.type;return i._url=0==o?"api_req_sortie/ld_airbattle":"api_req_combined_battle/ld_airbattle",i._data=e,i}return n(e,t),e.prototype._connect=function(){this._post_data.api_formation=this._data.model.deck_f.formation,this._post_data.api_recovery_type=this._data.model.flag,0==this._data.model.supplied?this._post_data.api_supply_flag=0:1==this._data.model.supplied&&(this._post_data.api_supply_flag=1),0==this._data.model.use_ration?this._post_data.api_ration_flag=0:1==this._data.model.use_ration&&(this._post_data.api_ration_flag=1),1==r.isNeedKeyAtBattleStartAPI()&&(this._post_data.api_start=Math.floor(8999*Math.random())+1001),t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._data.addDayRecord(this._raw_data),this._data=null,t.prototype._completedEnd.call(this)},e}(o.APIBase);e.APIBattleStartAirRaid=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=function(t){function e(e){var i=t.call(this)||this,n=e.model.deck_f,o=0!=n.type,r=e.model.map_info.isVS12();return 1==e.model.map_info.isNightToDayStart()?i._url=1==r?"api_req_combined_battle/ec_night_to_day":"api_req_sortie/night_to_day":i._url=1==o?"api_req_combined_battle/sp_midnight":"api_req_battle_midnight/sp_midnight",i._data=e,i}return n(e,t),e.prototype._connect=function(){this._post_data.api_formation=this._data.model.deck_f.formation,this._post_data.api_recovery_type=this._data.model.flag,0==this._data.model.supplied?this._post_data.api_supply_flag=0:1==this._data.model.supplied&&(this._post_data.api_supply_flag=1),0==this._data.model.use_ration?this._post_data.api_ration_flag=0:1==this._data.model.use_ration&&(this._post_data.api_ration_flag=1),t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._data.addNightRecord(this._raw_data),this._data=null,t.prototype._completedEnd.call(this)},e}(o.APIBase);e.APIBattleStartNight=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=i(140),s=function(t){function e(e){var i=t.call(this)||this,n=e.model.deck_f,o=0!=n.type;return i._url=0==o?"api_req_sortie/ld_shooting":"api_req_combined_battle/ld_shooting",i._data=e,i}return n(e,t),e.prototype._connect=function(){this._post_data.api_formation=this._data.model.deck_f.formation,this._post_data.api_recovery_type=this._data.model.flag,0==this._data.model.supplied?this._post_data.api_supply_flag=0:1==this._data.model.supplied&&(this._post_data.api_supply_flag=1),0==this._data.model.use_ration?this._post_data.api_ration_flag=0:1==this._data.model.use_ration&&(this._post_data.api_ration_flag=1),1==r.isNeedKeyAtBattleStartAPI()&&(this._post_data.api_start=Math.floor(8999*Math.random())+1001),t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._data.addDayRecord(this._raw_data),this._data=null,t.prototype._completedEnd.call(this)},e}(o.APIBase);e.APIBattleStartLongRangeFires=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=i(140),s=function(t){function e(e,i){void 0===i&&(i=!1);var n=t.call(this)||this;return n._url="api_req_practice/battle",n._data=e,n._debug=i,n}return n(e,t),e.prototype._connect=function(){var e=this._data.model.deck_f,i=this._data.model.deck_e;this._post_data.api_deck_id=e.id,this._post_data.api_formation_id=e.formation,this._post_data.api_enemy_id=i.id,1==r.isNeedKeyAtBattleStartAPI()&&(this._post_data.api_start=Math.floor(8999*Math.random())+1001),t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._data.addDayRecord(this._raw_data),this._data=null,t.prototype._completedEnd.call(this)},e}(o.APIBase);e.APIPracticeStart=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),s=i(2),a=i(8),_=i(81),l=i(13),u=function(t){function e(e,i){var n=t.call(this)||this;return n._onClick=function(){n._messagebox.deactivate(),n._layer.removeChild(n._click_area),createjs.Tween.get(n._fade).to({alpha:0},500).wait(300).call(function(){n._layer.removeChild(n._messagebox),n._layer.removeChild(n._chara),n._layer.removeChild(n._fade),n._endTask()}),createjs.Tween.get(n._chara).to({y:n._chara.y+327,alpha:0},300),createjs.Tween.get(n._messagebox).to({y:n._messagebox.y+98,alpha:0},100)},n._layer=e,n._model=i,n}return n(e,t),e.prototype._start=function(){this._showFade()},e.prototype._showFade=function(){this._fade=new a.AreaBox(1),this._fade.alpha=0,this._layer.addChild(this._fade),createjs.Tween.get(this._fade).to({alpha:1},500),this._loadResource()},e.prototype._loadResource=function(){var t=this,e=this._model.mst_id,i=new l.ShipLoader;i.add(e,!1,"full"),i.load(function(){t._showChara()})},e.prototype._showChara=function(){var t=this,e=this._model.mst_id,i=o.default.resources.getShip(e,!1,"full");this._chara=new PIXI.Sprite(i),this._chara.x=this._model.offset_x,this._chara.y=this._model.offset_y+327,this._chara.alpha=0,this._layer.addChild(this._chara),createjs.Tween.get(this._chara).to({y:this._model.offset_y,alpha:1},800).call(function(){t._showMessageBox()})},e.prototype._showMessageBox=function(){var t=this,e=this._model.stype,i=this._model.name,n=this._model.message;this._messagebox=new _.MessageBox(!1),this._messagebox.initializeForShip(e,i,n),this._messagebox.y=578,this._layer.addChild(this._messagebox);var s=this._messagebox.y-98;createjs.Tween.get(this._messagebox).to({y:s},200).call(function(){t._messagebox.activate(),o.default.sound.voice.play("9998",t._model.voice_id),t._click_area=new a.AreaBox(0),t._click_area.buttonMode=!0,t._layer.addChild(t._click_area),t._click_area.once(r.EventType.CLICK,t._onClick)})},e.prototype._endTask=function(){this._layer=null,this._model=null,this._fade=null,this._chara=null,this._messagebox.dispose(),this._messagebox=null,this._click_area=null,t.prototype._endTask.call(this)},e}(s.TaskBase);e.TaskBossCutin=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(14),a=i(177),_=i(1338),l=i(1339),u=i(1340),c=i(1389),h=i(1425),p=i(1426),d=i(1427),f=i(1428),y=i(1429),m=i(1430),g=(i(1431),function(t){function e(e){var i=t.call(this)||this;return i._log=null,i._scene=e,i}return n(e,t),e.prototype._start=function(){var t=this._scene.data.getFirstRecord();"day"==t.phase?this._combatDay(t):this._combatNight(t)},e.prototype._combatDay=function(t){var e,i=this,n=this._scene.data.model.deck_f,o=this._scene.data.model.deck_e;0==n.isCombined()?e=1==o.isCombined()?new h.PhaseDay_06vs12(this._scene,t,!1):new u.PhaseDay(this._scene,t,!1):e=this._createDayPhaseCombinedDeck(t);e.start(function(){i._scene.shutter2.once("closed",function(){i._judgement(t)}),i._scene.shutter2.close()})},e.prototype._createDayPhaseCombinedDeck=function(t){var e=this._scene.data.model.deck_f,i=this._scene.data.model.deck_e,n=i.isCombined();return 2==e.type?0==n?new y.PhaseDay_Suijo(this._scene,t,!1):new f.PhaseDay_Suijo_vs12(this._scene,t,!1):0==n?new d.PhaseDay_Kido(this._scene,t,!1):new p.PhaseDay_Kido_vs12(this._scene,t,!1)},e.prototype._judgement=function(t){var e=this;if(t.raw.isNightBattle()){var i=new m.TaskGoNightBattleSelect(this._scene);i.start(function(){0==i.result?(1==o.default.sound.bgm.playing&&o.default.sound.bgm.fadeOut(500),e._endTask()):e._dayToNight()})}else this._endTask()},e.prototype._dayToNight=function(){var t,e=this;t=1==this._scene.data.model.isPractice()?new l.APIPracticeDayToNight(this._scene.data):new _.APIBattleDayToNight(this._scene.data),t.start(function(){var t=0;if(1==e._scene.data.model.isPractice())t=2;else{var i=e._scene.data.model.map_info.area_id,n=e._scene.data.model.map_info.map_no,r=e._scene.data.model.map_info.isBoss();t=o.default.model.mst_bgm.getCombatBGM(i,n,!0,r)}o.default.sound.bgm.playBattleBGM(t),e._loadResource()})},e.prototype._loadResource=function(){var t=this,e=new s.UIImageLoader("battle");e.add("battle_night.json"),e.add("battle_telop/mes_ybg3_f.png","battle_telop_mes_ybg3_f"),e.add("battle_telop/mes_ybg3_e.png","battle_telop_mes_ybg3_e"),e.add("battle_telop/mes_ybg4_f.png","battle_telop_mes_ybg4_f"),e.add("battle_telop/mes_ybg4_e.png","battle_telop_mes_ybg4_e"),e.add("battle_telop/mes_ybg6_f.png","battle_telop_mes_ybg6_f"),e.add("battle_telop/mes_ybg6_e.png","battle_telop_mes_ybg6_e"),e.load(function(){o.default.settings.renderer.plugins.prepare.upload(a.BATTLE_NIGHT.getTexture(0).baseTexture,function(){var e=t._scene.data.getLastRecord();t._combatNight(e)})})},e.prototype._combatNight=function(t){var e=this;new c.PhaseNight(this._scene,t,!0).start(function(){e._endTask()})},e.prototype._endTask=function(){this._scene=null,t.prototype._endTask.call(this)},e}(r.TaskBase));e.TaskMain=g},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=function(t){function e(e){var i=t.call(this)||this,n=e.model.deck_f,o=e.model.deck_e,r=n.isCombined(),s=!1;return s=null!=o?o.isCombined():e.model.map_info.isVS12(),i._url=1==s?"api_req_combined_battle/ec_midnight_battle":0==r?"api_req_battle_midnight/battle":"api_req_combined_battle/midnight_battle",i._data=e,i}return n(e,t),e.prototype._completedEnd=function(){this._data.addNightRecord(this._raw_data),this._data=null,t.prototype._completedEnd.call(this)},e}(o.APIBase);e.APIBattleDayToNight=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=function(t){function e(e,i){void 0===i&&(i=!1);var n=t.call(this)||this;return n._url="api_req_practice/midnight_battle",n._data=e,n._debug=i,n}return n(e,t),e.prototype._completedEnd=function(){this._data.addNightRecord(this._raw_data),this._data=null,t.prototype._completedEnd.call(this)},e}(o.APIBase);e.APIPracticeDayToNight=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(76),r=i(94),s=i(122),a=i(95),_=i(96),l=i(97),u=i(64),c=i(98),h=i(99),p=i(77),d=i(100),f=i(101),y=i(102),m=i(103),g=i(104),v=function(t){function e(e,i,n){var o=t.call(this,e,n)||this;return o._record=i,o}return n(e,t),e.prototype._start=function(){this._sakuteki()},e.prototype._sakuteki=function(){var t=this;new s.PhaseSakuteki(this.scene,this._record).start(function(){t._ration()})},e.prototype._ration=function(){var t=this;new r.PhaseRation(this.scene,this._record).start(function(){t._jetAirUnit()})},e.prototype._jetAirUnit=function(){var t=this;new a.PhaseAirUnitJet(this.scene,this._record).start(function(){t._jetAirWar()})},e.prototype._jetAirWar=function(){var t=this;new _.PhaseAirWarJet(this.scene,this._record).start(function(){t._airUnit()})},e.prototype._airUnit=function(){var t=this;new l.PhaseAirUnit(this.scene,this._record).start(function(){t._airWar()})},e.prototype._airWar=function(){var t=this;new u.PhaseAirWar(this.scene,this._record).start(function(){t._support()})},e.prototype._support=function(){var t=this;new g.PhaseSupport(this.scene,this._record).start(function(){t._openingAttack()})},e.prototype._openingAttack=function(){var t=this;new d.PhaseHougekiOpening(this.scene,this._record,this._record.raw.hougeki_opening).start(function(){t._openingTorpedo()})},e.prototype._openingTorpedo=function(){var t=this;new h.PhaseRaigekiOpening(this.scene,this._record).start(function(){t._formation()})},e.prototype._formation=function(){var t=this;new f.PhaseFormation(this.scene,this._record).start(function(){t._airWar2()})},e.prototype._airWar2=function(){var t=this;new c.PhaseAirWar2(this.scene,this._record).start(function(){t._attack1()})},e.prototype._attack1=function(){var t=this;new y.PhaseHougeki(this.scene,this._record,this._record.raw.hougeki1).start(function(){t._attack2()})},e.prototype._attack2=function(){var t=this;new y.PhaseHougeki(this.scene,this._record,this._record.raw.hougeki2).start(function(){t._attack3()})},e.prototype._attack3=function(){var t=this;new y.PhaseHougeki(this.scene,this._record,this._record.raw.hougeki3).start(function(){t._torpedo()})},e.prototype._torpedo=function(){var t=this;new p.PhaseRaigeki(this.scene,this._record).start(function(){t._ending()})},e.prototype._ending=function(){var t=this;new m.PhaseEnding(this.scene,this._record).start(function(){t._endTask()})},e}(o.PhaseCombatBase);e.PhaseDay=v},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(20),s=i(16),a=[{x:0,y:0,delay:0},{x:0,y:-23,delay:60},{x:-45,y:15,delay:60},{x:45,y:15,delay:60},{x:0,y:30,delay:120},{x:-75,y:-38,delay:120},{x:75,y:-38,delay:120},{x:0,y:-53,delay:180},{x:-98,y:45,delay:180},{x:98,y:45,delay:180}],_=function(t){function e(e,i){var n=t.call(this)||this;return n._layer=e,n._pos=i,n}return n(e,t),e.prototype._start=function(){var t=this;this._container=new PIXI.Container,this._container.x=this._pos.x,this._container.y=this._pos.y,this._layer.addChild(this._container);for(var e=new r.TweenTask,i=0,n=a;i<n.length;i++){var o=n[i];!function(i){var n=new l;n.Initialize(),n.x=i.x+24*Math.random()-12,n.y=i.y+6*Math.random()-3,n.x-=18,n.y-=18,n.alpha=0;var o=.6*Math.random(),r=createjs.Tween.get(n);r.wait(i.delay),r.call(function(){n.activate(),t._container.addChild(n)}),r.to({alpha:1},100),r.wait(.2+Math.random()*o),r.to({alpha:0},100),r.wait(100),r.to({alpha:1},100),r.wait(.2+Math.random()*(.6-o)),r.to({alpha:0},200),r.call(function(){t._container.removeChild(n),n.deactivate()}),e.addTween(r)}(o)}e.start(function(){t._layer.removeChild(t._container),t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._pos=null,this._container=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskBannerParticle=_;var l=function(t){function e(){var e=t.call(this)||this;return e._update=function(t){e._img.texture=1==t?s.BATTLE_MAIN.getTexture(62):s.BATTLE_MAIN.getTexture(63),e._img.x=e._img.width/2,e._img.y=e._img.height/2},e._img=new PIXI.Sprite,e.addChild(e._img),e}return n(e,t),e.prototype.Initialize=function(){this._update(!0)},e.prototype.activate=function(){null==this._t&&(this._update(!0),this._t=createjs.Tween.get(null,{loop:!0}).wait(300).call(this._update,[!1]).wait(300).call(this._update,[!0]))},e.prototype.deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(12),r=i(16),s=function(t){function e(){var e=t.call(this)||this;return e._wave1=new o.Sprite,e._wave1.anchor.set(.5),e._wave2=new o.Sprite,e._wave2.anchor.set(.5),e.addChild(e._wave1),e.addChild(e._wave2),e}return n(e,t),e.prototype.initialize=function(){this._wave1.scale.set(0),this._wave2.scale.set(0),this._wave1.alpha=0,this._wave2.alpha=0,this._wave1.texture=r.BATTLE_MAIN.getTexture(108),this._wave2.texture=r.BATTLE_MAIN.getTexture(108)},e.prototype.play=function(){var t=this;createjs.Tween.get(this._wave1).to({scaleX:1,scaleY:1,alpha:1},1e3).to({alpha:0},300),createjs.Tween.get(this._wave2).wait(600).to({scaleX:1,scaleY:1,alpha:1},1e3).to({alpha:0},300).call(function(){t.removeChildren(),null!=t.parent&&t.parent.removeChild(t)})},e}(PIXI.Container);e.SubMarineWave=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(2),a=i(8),_=i(12),l=i(13),u=i(14),c=i(6),h=i(179),p=i(1344),d=i(1345),f=i(1346),y=function(t){function e(e,i,n,o){void 0===o&&(o=null);var r=t.call(this)||this;return r._repairEffect=function(){new f.TaskGouchinCutinRepair(r._layer,r._mst_id,r._repairitem,r._callPreEnd).start(function(){r._endTask()})},r._callPreEnd=function(){r._layer.removeChild(r._view),null!=r._preEnd&&(r._preEnd(),r._preEnd=null)},r._layer=e,r._mst_id=i,r._repairitem=n,r._preEnd=o,r._view=new p.GouchinCutinView,r}return n(e,t),e.prototype._start=function(){this._loadResouce()},e.prototype._loadResouce=function(){var t=this,e=new u.UIImageLoader("battle");e.add("battle_cutin_gouchin.json"),e.load(function(){var e=r.default.model.ship.getMst(t._mst_id);t._loadCardBGResource(e.rarity)})},e.prototype._loadCardBGResource=function(t){var e=this,i="";i=t<=1?"c1":2==t?"c2":3==t?"c3":4==t?"r1":5==t?"r2":6==t?"sr1":7==t?"sr2":"sr3";var n=r.default.settings.path_root+"img/common/ship_bg/card/"+i+".png";if(null!=PIXI.utils.TextureCache[n])return this._view.card_bg.texture=PIXI.utils.TextureCache[n],void this._loadShipResource();var o=new PIXI.loaders.Loader;o.add(n),o.load(function(t){var i=t.resources[n];e._view.card_bg.texture=i.texture,e._loadShipResource()})},e.prototype._loadShipResource=function(){var t=this,e=new l.ShipLoader;e.add(this._mst_id,!0,"full"),e.load(function(){var e=new a.AreaBox(1,16777215);t._layer.addChild(e),t._view.initialize(),t._layer.addChild(t._view),createjs.Tween.get(t._view.bg).to({alpha:1},400).call(function(){t._layer.removeChild(e),t._dropWaterAnim()})})},e.prototype._dropWaterAnim=function(){var t=this,e=h.BATTLE_CUTIN_GOUCHIN.getTexture(11),i=new _.Sprite(e);i.anchor.set(.5),i.alpha=0,i.position.set(o.default.width/2,120),this._view.layer_effect.addChild(i),createjs.Tween.get(i).to({y:200,alpha:1},100).to({y:600},500).call(function(){t._showRipple()}).to({scaleX:.77,scaleY:.59,alpha:0},100).call(function(){t._view.layer_effect.removeChild(i),t._showShip()})},e.prototype._showRipple=function(){var t=this,e=h.BATTLE_CUTIN_GOUCHIN.getTexture(12),i=new _.Sprite(e);i.anchor.set(.5),i.scale.set(.25),i.alpha=0,i.position.set(o.default.width/2,608),this._view.layer_effect.addChild(i),createjs.Tween.get(i).to({scaleX:.69,scaleY:.69,alpha:1},100).to({scaleX:1.56,scaleY:1.56},200).to({scaleX:2,scaleY:2,alpha:0},100).call(function(){t._view.layer_effect.removeChild(i)})},e.prototype._showShip=function(){var t=this;this._view.layer_mask.position.set(o.default.width/2,o.default.height/2),createjs.Tween.get(this._view.layer_mask).wait(100).to({alpha:1},433);var e=this._createShipSprite();this._view.layer_ship.addChild(e),createjs.Tween.get(e).wait(266).to({x:450,y:60,scaleX:.5,scaleY:.5,alpha:1},900).call(function(){t._view.layer_ship.removeChild(e)});var i=this._createShipSprite();this._view.layer_ship.addChild(i),createjs.Tween.get(i).wait(100).to({x:450,y:60,scaleX:.5,scaleY:.5,alpha:1},1e3).call(function(){t._showLine()}).wait(633).call(function(){t._playVoice()}),createjs.Tween.get(null).wait(800).call(function(){c.SE.play("109")})},e.prototype._getShipImage=function(){var t=new PIXI.Sprite;t.texture=r.default.resources.getShip(this._mst_id,!0,"full");var e=r.default.model.ship_graph.get(this._mst_id).getBattleOffset(!0);return t.x=-120+e.x,t.y=-120+e.y,t},e.prototype._createShipSprite=function(){var t=new _.Sprite;return t.alpha=0,t.position.set(330,-368),t.scale.set(1.25),t.addChild(this._getShipImage()),t},e.prototype._showLine=function(){var t=this,e=new _.Sprite(h.BATTLE_CUTIN_GOUCHIN.getTexture(2));e.anchor.set(0,.5),e.position.set(o.default.width,o.default.height/2),e.scale.y=0,this._view.bg.addChild(e),createjs.Tween.get(e).to({x:0,scaleY:1},200).wait(700).to({x:-o.default.width,scaleY:0},200).call(function(){t._view.bg.removeChild(e)})},e.prototype._playVoice=function(){var t=this,e=this._mst_id.toString();r.default.sound.voice.play(e,22),createjs.Tween.get(this._view.layer_ship).wait(600).to({y:750,alpha:0},1700).call(function(){t._view.layer_ship.removeChildren(),t._view.layer_ship.visible=!1}),createjs.Tween.get(this._view.layer_mask).call(function(){t._view.playMask()}).to({rotation:-30/180*Math.PI},1e3,createjs.Ease.sineIn).call(function(){}).to({y:o.default.height+o.default.height/2,alpha:0},3e3).call(function(){t._view.layer_mask.visible=!1}),0==this._repairitem?createjs.Tween.get(null).wait(1300).call(function(){t._textEffect()}):createjs.Tween.get(null).wait(4e3).call(this._repairEffect)},e.prototype._textEffect=function(){var t=this;new d.TaskGouchinCutinText(this._view.layer_text).start(function(){t._endAnim()})},e.prototype._endAnim=function(){var t=this,e=new a.AreaBox(1,16777215);e.alpha=0,this._layer.addChild(e),createjs.Tween.get(e).to({alpha:1},566).call(this._callPreEnd).to({alpha:0},500).call(function(){t._layer.removeChild(e),t._endTask()})},e}(s.TaskBase);e.TaskGouchinCutin=y},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(179),a=function(t){function e(){var e=t.call(this)||this;e.count=50,e.col=16777215,e._updateMask=function(t){e._circleMask.clear(),e._circleMask.beginFill(e.col);for(var i=0;i<e.count;i++)e._circle_list[i].radius=e.rndScale[i]*t.target.target.val,e._circleMask.drawShape(e._circle_list[i]);e._circleMask.endFill(),r.default.settings.renderer.render(e._circleMask,e._renderTex,!0,null,!0)},e._bg=new PIXI.Sprite,e._bg.alpha=0,e._layer_effect=new PIXI.Container,e._card_bg=new PIXI.Sprite,e._card_bg.anchor.set(.5),e._card_bg.alpha=1,e._layer_ship=new PIXI.Container,e._grad=new PIXI.Sprite,e._layer_text=new PIXI.Container,e._layer_mask=new PIXI.Container,e._layer_mask.alpha=0,e._renderTex=PIXI.RenderTexture.create(327,450),e._renderSprite=new PIXI.Sprite(e._renderTex),e._renderSprite.anchor.set(.5),e._card_bg.mask=e._renderSprite,e._layer_mask.addChild(e._card_bg),e._layer_mask.addChild(e._renderSprite),e.rndPos=[],e.rndScale=[];for(var i=0;i<e.count;i++)e.rndPos.push(new PIXI.Point(Math.floor(327*Math.random()),Math.floor(450*Math.random()))),e.rndScale.push(100*Math.floor(2*Math.random()));e.addChild(e._bg),e.addChild(e._layer_effect),e.addChild(e._layer_mask),e.addChild(e._layer_ship),e.addChild(e._grad),e.addChild(e._layer_text),e._circle_list=[];for(var i=0;i<e.count;i++)e._circle_list.push(new PIXI.Circle(e.rndPos[i].x,e.rndPos[i].y,e.rndScale[i]));return e._circleMask=new PIXI.Graphics,e._circleMask.beginFill(e.col),e._circleMask.drawRect(0,0,327,450),e._circleMask.endFill(),r.default.settings.renderer.render(e._circleMask,e._renderTex,!0,null,!1),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_effect",{get:function(){return this._layer_effect},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"card_bg",{get:function(){return this._card_bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_ship",{get:function(){return this._layer_ship},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_text",{get:function(){return this._layer_text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_mask",{get:function(){return this._layer_mask},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._bg.texture=s.BATTLE_CUTIN_GOUCHIN.getTexture(0),this._grad.texture=s.BATTLE_CUTIN_GOUCHIN.getTexture(1),this._grad.y=o.default.height-this._grad.height},e.prototype.playMask=function(){var t={val:1};createjs.Tween.get(t,{onChange:this._updateMask}).to({val:0},1800)},e}(PIXI.Container);e.GouchinCutinView=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(12),s=i(179),a=function(t){function e(e){var i=t.call(this)||this;return i._ready2=function(){i._gray=new r.Sprite(s.BATTLE_CUTIN_GOUCHIN.getTexture(7)),i._gray.anchor.set(.5),i._gray.position.set(600,300),i._gray.alpha=0,i._gray_lost=new r.Sprite(s.BATTLE_CUTIN_GOUCHIN.getTexture(5)),i._gray_lost.anchor.set(.5),i._gray_lost.position.set(600,420),i._gray_lost.alpha=0,i._hideText()},i._layer=e,i}return n(e,t),e.prototype._start=function(){this._ready()},e.prototype._ready=function(){this._blue=new r.Sprite(s.BATTLE_CUTIN_GOUCHIN.getTexture(6)),this._blue.anchor.set(.5),this._blue.scale.set(.58),this._blue.position.set(600,330),this._blue.alpha=0,this._blue_lost=new r.Sprite(s.BATTLE_CUTIN_GOUCHIN.getTexture(4)),this._blue_lost.anchor.set(.5),this._blue_lost.scale.set(.58),this._blue_lost.position.set(600,390),this._blue_lost.alpha=0,this._showText()},e.prototype._showText=function(){this._layer.addChild(this._blue),this._layer.addChild(this._blue_lost),createjs.Tween.get(this._blue).to({y:300,scaleX:1,scaleY:1,alpha:1},300),createjs.Tween.get(this._blue_lost).to({y:420,scaleX:1,scaleY:1,alpha:1},300).wait(500).call(this._ready2)},e.prototype._hideText=function(){var t=this;this._layer.addChild(this._gray),this._layer.addChild(this._gray_lost),createjs.Tween.get(this._gray).to({alpha:1},500).call(function(){t._layer.removeChild(t._blue)}).wait(500).to({alpha:0},300).call(function(){t._layer.removeChild(t._gray)}),createjs.Tween.get(this._gray_lost).to({alpha:1},500).call(function(){t._layer.removeChild(t._blue_lost)}).wait(500).to({alpha:0},300).call(function(){t._layer.removeChild(t._gray_lost)}).wait(500).call(function(){t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._blue=null,this._blue_lost=null,this._gray=null,this._gray_lost=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskGouchinCutinText=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(2),a=i(8),_=i(23),l=i(12),u=i(13),c=i(24),h=i(6),p=i(10),d=i(179),f=function(t){function e(e,i,n,s){void 0===s&&(s=null);var u=t.call(this)||this;return u._preLoadSlotitemCard=function(){var t=new c.SlotLoader,e=u._getSlotitemMstID(u._repairitem);t.add(e,"card"),t.load(u._showCard)},u._showCard=function(){var t=u._getSlotitemMstID(u._repairitem),e=r.default.resources.getSlotitem(t,"card");u._card=new l.Sprite(e),u._card.anchor.set(.5),u._card.scale.set(2),u._card.position.set(600,360),u._card.alpha=0;var i=new l.Sprite(e);i.anchor.set(.5),i.scale.set(2),i.position.set(600,360),i.alpha=0,u._layer.addChild(u._card),u._layer.addChild(i),createjs.Tween.get(u._card).to({scaleX:1,scaleY:1,alpha:1},700),createjs.Tween.get(i).wait(200).to({scaleX:1,scaleY:1,alpha:1},500).call(function(){u._layer.removeChild(i),h.SE.play("229")}).wait(1100).call(u._showFlash)},u._showFlash=function(){var t=new l.Sprite(p.COMMON_MISC.getTexture(68));t.anchor.set(.5),t.position.set(600,360),t.alpha=0,u._layer.addChild(t),createjs.Tween.get(t).to({scaleX:1.5,scaleY:1.5,alpha:1},800).to({scaleX:2.3,scaleY:2.3,alpha:1},900).call(function(){u._layer.removeChild(t)}),u._white=new a.AreaBox(1,16777215),u._white.alpha=0,u._layer.addChild(u._white),createjs.Tween.get(u._white).wait(500).to({alpha:1},1200).call(function(){u._layer.removeChild(u._card)});var e=d.BATTLE_CUTIN_GOUCHIN.getTexture(10);u._text=new PIXI.Sprite(e),u._text.anchor.set(.5),u._text.position.set(o.default.width+u._text.width/2,360),u._layer.addChild(u._text);var i=createjs.Tween.get(u._text).to({x:600},600);2==u._repairitem?u._showSubText():i.wait(1100).call(u._hideText)},u._hideText=function(){createjs.Tween.get(u._text).to({x:-u._text.width/2},600).call(function(){u._layer.removeChild(u._text)}).wait(500).call(u._showShip)},u._showShip=function(){var t=2!=u._repairitem,e=new PIXI.Sprite;e.texture=r.default.resources.getShip(u._mst_id,t,"full");var i=r.default.model.ship_graph.get(u._mst_id).getBattleOffset(t);e.position.set(i.x-120-252,i.y-120-518),e.alpha=0;var n=new _.Container;n.addChild(e),n.position.set(o.default.width/2,o.default.height/2),n.scale.set(.4),u._layer.addChild(n),createjs.Tween.get(e).to({alpha:1},600).wait(500).to({alpha:0},600),createjs.Tween.get(n).to({scaleX:.7,scaleY:.7},300).to({scaleX:.8,scaleY:.8},1100).to({scaleX:1.2,scaleY:1.2},300).wait(300).call(function(){u._layer.removeChild(n),u._endAnim()})},u._layer=e,u._mst_id=i,u._repairitem=n,u._preEnd=s,u}return n(e,t),e.prototype._start=function(){this._preLoadShip()},e.prototype._preLoadShip=function(){var t=new u.ShipLoader,e=2!=this._repairitem;t.add(this._mst_id,e,"full"),t.load(this._preLoadSlotitemCard)},e.prototype._showSubText=function(){var t=this,e=new l.Sprite(d.BATTLE_CUTIN_GOUCHIN.getTexture(3));e.anchor.set(.5),e.position.set(600,486),e.scale.y=0,this._layer.addChild(e),createjs.Tween.get(e).to({scaleY:1},200).wait(2600).to({scaleY:0},200).call(function(){t._layer.removeChild(e)});var i=new PIXI.Sprite(d.BATTLE_CUTIN_GOUCHIN.getTexture(8));i.anchor.set(.5),i.position.set(o.default.width+i.width/2,o.default.height/2+126),this._layer.addChild(i),createjs.Tween.get(i).wait(200).to({x:o.default.width/2},300).wait(700).to({x:-i.width/2},300).call(function(){t._layer.removeChild(i)});var n=new PIXI.Sprite(d.BATTLE_CUTIN_GOUCHIN.getTexture(9));n.anchor.set(.5),n.position.set(o.default.width+n.width/2,o.default.height/2+126),this._layer.addChild(n),createjs.Tween.get(n).wait(1500).to({x:o.default.width/2},300).wait(400).call(this._hideText).to({x:-n.width/2},300).call(function(){t._layer.removeChild(n)})},e.prototype._endAnim=function(){var t=this;null!=this._preEnd&&this._preEnd(),createjs.Tween.get(this._white).to({alpha:0},500).call(function(){t._layer.removeChild(t._white),t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._card=null,this._white=null,this._text=null,t.prototype._endTask.call(this)},e.prototype._getSlotitemMstID=function(t){return 1==t?42:2==t?43:-1},e}(s.TaskBase);e.TaskGouchinCutinRepair=f},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(2),a=i(8),_=i(152),l=i(12),u=i(20),c=i(13),h=i(14),p=i(6),d=i(444),f=i(1348),y=function(t){function e(e,i,n,o,r){void 0===r&&(r=null);var s=t.call(this)||this;return s._layer=e,s._taiha=i,s._night=n,s._mst_ids=o.slice(0,3),s._offset=r,s._view=new m,s}return n(e,t),e.prototype._start=function(){this._loadResource()},e.prototype._loadResource=function(){var t=this,e=new h.UIImageLoader("battle");e.add("battle_cutin_damage.json"),e.load(function(){t._loadShipResource()})},e.prototype._loadShipResource=function(){for(var t=this,e=new c.ShipLoader,i=0,n=this._mst_ids;i<n.length;i++){var o=n[i];e.add(o,!0,"full")}e.load(function(){t._preUpload()})},e.prototype._preUpload=function(){var t=this;r.default.settings.renderer.plugins.prepare.upload(d.BATTLE_CUTIN_DAMAGE.getTexture(0).baseTexture,function(){t._initShipImages()})},e.prototype._initShipImages=function(){for(var t=0;t<this._mst_ids.length;t++){var e=this._mst_ids[t],i=this._view.ships.getContainer(t);this._initShipImage(e,i)}this._view.ships.initXposition(),this._loadMapBG()},e.prototype._initShipImage=function(t,e){var i=r.default.resources.getShip(t,!0,"full"),n=new l.Sprite(i),o=null===this._offset?r.default.model.ship_graph.get(t).getBattleOffset(!0):this._offset;n.position.set(o.x-120,o.y-120),e.addChild(n),e.visible=!0},e.prototype._loadMapBG=function(){var t=this;0==this._night?this._view.bg.setDay(function(){t._startAnim()}):this._view.bg.setNight(function(){t._startAnim()})},e.prototype._startAnim=function(){var t=this;this._view.bg.alpha=0,this._view.ships.y=-o.default.width/2,this._view.ships.alpha=0,this._view.frame.alpha=0,this._view.mozi_layer.mozi1.scale.set(2.1),this._view.mozi_layer.mozi1.alpha=0,this._view.mozi_layer.mozi2.scale.set(2.1),this._view.mozi_layer.mozi2.alpha=0,this._view.mozi_layer.break.visible=!1,this._view.initialize(this._taiha),this._layer.addChild(this._view),createjs.Tween.get(this._view.bg).to({alpha:1},350),createjs.Tween.get(this._view.frame).to({alpha:1},350).call(function(){t._showShips()})},e.prototype._showShips=function(){var t=this,e=new u.TweenTask,i=createjs.Tween.get(this._view.ships).to({y:-540,alpha:1},150).to({y:15},850);e.addTween(i),i=createjs.Tween.get(this._view.mozi_layer.mozi1).wait(400).to({scaleX:1.1,scaleY:1.1,alpha:.35},150).to({scaleX:1.2,scaleY:1.2},50).wait(50).call(function(){t._view.mozi_layer.mozi1.visible=!1}),e.addTween(i),i=createjs.Tween.get(this._view.mozi_layer.mozi2).wait(300).to({scaleX:1,scaleY:1,alpha:1},150).wait(100).call(function(){p.SE.play("109")}),e.addTween(i),e.start(function(){t._break()})},e.prototype._break=function(){var t=this,e=this._mst_ids[0].toString();r.default.sound.voice.play(e,21),this._view.mozi_layer.mozi2.visible=!1,this._view.mozi_layer.break.visible=!0,this._view.mozi_layer.break.Play(function(){t._view.mozi_layer.break.Dispose(),t._preEndAnim()})},e.prototype._preEndAnim=function(){var t=this,e=new a.AreaBox(1,16777215);e.alpha=0,this._layer.addChild(e),createjs.Tween.get(e).to({alpha:1},500).call(function(){t._layer.removeChild(t._view)}).to({alpha:0},500).call(function(){t._layer.removeChild(e),t._endTask()})},e}(s.TaskBase);e.TaskDamageCutin=y;var m=function(t){function e(){var e=t.call(this)||this;return e._bg=new _.MapBG,e._ships=new g,e._frame=new PIXI.Sprite,e._mozi_layer=new v,e.addChild(e._bg),e.addChild(e._ships),e.addChild(e._frame),e.addChild(e._mozi_layer),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ships",{get:function(){return this._ships},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mozi_layer",{get:function(){return this._mozi_layer},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){this._frame.texture=d.BATTLE_CUTIN_DAMAGE.getTexture(100),this._mozi_layer.initialize(t)},e}(PIXI.Container),g=function(t){function e(){var e=t.call(this)||this;return e.LEFT=0,e.CENTER=o.default.width/4,e.RIGHT=o.default.width/2,e._ship1=new PIXI.Container,e._ship1.visible=!1,e._ship2=new PIXI.Container,e._ship2.visible=!1,e._ship3=new PIXI.Container,e._ship3.visible=!1,e.addChild(e._ship3),e.addChild(e._ship2),e.addChild(e._ship1),e}return n(e,t),Object.defineProperty(e.prototype,"ship1",{get:function(){return this._ship1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ship2",{get:function(){return this._ship2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ship3",{get:function(){return this._ship3},enumerable:!0,configurable:!0}),e.prototype.getContainer=function(t){return t<0||t>3?null:[this._ship1,this._ship2,this._ship3][t]},e.prototype.initXposition=function(){return 1==this._ship3.visible?(this._ship1.x=this.CENTER,this._ship2.x=this.LEFT,void(this._ship3.x=this.RIGHT)):1==this._ship2.visible?(this._ship1.x=this.LEFT,void(this._ship2.x=this.RIGHT)):void(this._ship1.x=this.CENTER)},e}(PIXI.Container),v=function(t){function e(){var e=t.call(this)||this;return e._mozi1=new l.Sprite,e.addChild(e._mozi1),e._mozi2=new l.Sprite,e.addChild(e._mozi2),e._break=new f.BreakText,e.addChild(e._break),e}return n(e,t),Object.defineProperty(e.prototype,"mozi1",{get:function(){return this._mozi1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mozi2",{get:function(){return this._mozi2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"break",{get:function(){return this._break},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){this._initializeImageSprite(this._mozi1,t),this._initializeImageSprite(this._mozi2,t),this._break.Initialize(t),this._break.position.set(945,516),this._break.x-=this._break.width/2,this._break.y-=this._break.height/2},e.prototype._initializeImageSprite=function(t,e){t.anchor.set(.5),1==e?(t.texture=d.BATTLE_CUTIN_DAMAGE.getTexture(0),t.position.set(945,516)):(t.texture=d.BATTLE_CUTIN_DAMAGE.getTexture(1),t.position.set(930,516))},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(444),r=function(t){function e(){var e=t.call(this)||this;return e._CHUHA_=[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],e._TAIHA_=[51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99],e.run=function(t){for(var i=t.target.target.time,n=0;n<e.txtParts.length;n++)e.txtParts[n].Update(i)},e.callBack=null,e}return n(e,t),e.prototype.Initialize=function(t){var e=[new PIXI.Point(0,175),new PIXI.Point(375,181),new PIXI.Point(262,160),new PIXI.Point(246,321),new PIXI.Point(307,298),new PIXI.Point(291,273),new PIXI.Point(445,355),new PIXI.Point(399,334),new PIXI.Point(400,310),new PIXI.Point(364,291),new PIXI.Point(384,280),new PIXI.Point(405,268),new PIXI.Point(429,309),new PIXI.Point(441,262),new PIXI.Point(439,247),new PIXI.Point(439,258),new PIXI.Point(466,241),new PIXI.Point(468,201),new PIXI.Point(433,156),new PIXI.Point(426,208),new PIXI.Point(408,162),new PIXI.Point(406,241),new PIXI.Point(363,250),new PIXI.Point(357,265),new PIXI.Point(351,216),new PIXI.Point(339,157),new PIXI.Point(342,156),new PIXI.Point(246,105),new PIXI.Point(432,156),new PIXI.Point(168,163),new PIXI.Point(216,163),new PIXI.Point(247,213),new PIXI.Point(172,258),new PIXI.Point(177,225),new PIXI.Point(142,175),new PIXI.Point(69,186),new PIXI.Point(0,211),new PIXI.Point(49,169),new PIXI.Point(139,166),new PIXI.Point(157,117),new PIXI.Point(133,99),new PIXI.Point(1,21),new PIXI.Point(4,1),new PIXI.Point(124,27),new PIXI.Point(163,72),new PIXI.Point(213,84),new PIXI.Point(169,1),new PIXI.Point(121,1),new PIXI.Point(261,186)];new PIXI.Point(0,0),new PIXI.Point(378,184),new PIXI.Point(259,159),new PIXI.Point(247,322),new PIXI.Point(310,298),new PIXI.Point(294,270),new PIXI.Point(445,352),new PIXI.Point(400,336),new PIXI.Point(405,315),new PIXI.Point(366,292),new PIXI.Point(385,288),new PIXI.Point(406,271),new PIXI.Point(430,309),new PIXI.Point(444,261),new PIXI.Point(442,252),new PIXI.Point(442,256),new PIXI.Point(0,0),new PIXI.Point(396,141),new PIXI.Point(436,156),new PIXI.Point(427,208),new PIXI.Point(411,162),new PIXI.Point(408,244),new PIXI.Point(364,255),new PIXI.Point(355,276),new PIXI.Point(354,214),new PIXI.Point(336,159),new PIXI.Point(343,156),new PIXI.Point(244,105),new PIXI.Point(198,148),new PIXI.Point(168,165),new PIXI.Point(217,163),new PIXI.Point(247,213),new PIXI.Point(172,259),new PIXI.Point(0,0),new PIXI.Point(142,175),new PIXI.Point(70,186),new PIXI.Point(3,211),new PIXI.Point(49,171),new PIXI.Point(139,166),new PIXI.Point(157,118),new PIXI.Point(135,99),new PIXI.Point(0,22),new PIXI.Point(0,0),new PIXI.Point(124,25),new PIXI.Point(165,73),new PIXI.Point(211,84),new PIXI.Point(169,1),new PIXI.Point(121,0),new PIXI.Point(261,186);this.txtParts=[];for(var i=0;i<49;i++){var n=t?this._TAIHA_:this._CHUHA_,r=n[i],a=o.BATTLE_CUTIN_DAMAGE.getTexture(r),_=new PIXI.Sprite(a);_.x=e[i].x,_.y=e[i].y;var l=new s(_);this.txtParts.push(l),this.addChild(_)}},e.prototype.Dispose=function(){this.removeChildren(0,this.children.length);for(var t=0;t<this.txtParts.length;t++)this.txtParts[t].Dispose(),this.txtParts[t]=null;this.txtParts=null,this.tween.setPaused(!0),this.tween.removeAllEventListeners("change"),this.tween=null},e.prototype.Play=function(t){var e=this;this.callBack=t;var i={time:0};this.tween=createjs.Tween.get(i,{onChange:this.run}).to({time:1},2300).call(function(){null!=e.callBack&&e.callBack()})},e}(PIXI.Container);e.BreakText=r;var s=function(){function t(t){this.sprite=t,this.sprite.anchor.set(.5,.5),this.sprite.position.set(this.sprite.position.x+.5*this.sprite.width,this.sprite.position.y+.5*this.sprite.height),this.fromPos=new PIXI.Point(this.sprite.x,this.sprite.y),this.toRot=(720*Math.random()-360)*Math.PI/180,this.toX=2400*Math.random()-1200,this.ctrlY=this.sprite.y-1400*Math.random()}return t.prototype.Dispose=function(){this.sprite=null,this.fromPos=null,this.toRot=null,this.toX=null,this.ctrlY=null},t.prototype.Update=function(t){this.sprite.rotation=0+this.toRot*t,this.sprite.x=this.fromPos.x+this.toX*t,this.sprite.y=this.setBezierPos(t,this.fromPos.y,1050,this.ctrlY)},t.prototype.setBezierPos=function(t,e,i,n){return(1-t)*(1-t)*e+2*(1-t)*t*n+t*t*i},t}();e.Parts=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("battle_cutin_anti_air_"+t)}t.getTexture=e}(e.BATTLE_CUTIN_ANTI_AIR||(e.BATTLE_CUTIN_ANTI_AIR={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(43),r=i(72),s=i(27),a=i(29),_=i(20),l=i(38),u=i(6),c=i(445),h=i(446),p=i(449),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._start=function(){this._log();var t=this._scene.data.model.map_info.isAirRaid();this._canvas=new c.AirWarJetCanvas(t),this._scene.view.layer_content.addChild(this._canvas),this._createFriendPlanes(),this._createPlanes(this._data.plane_from_e,this._ships_e),this._startAircraftFlightAnimation(),this._startMainTask()},e.prototype._log=function(){},e.prototype._startMainTask=function(){var t=this,e=new s.ParallelTask,i=createjs.Tween.get(null).call(u.SE.play,["220"]).wait(1700);e.add((new _.TweenTask).addTween(i)),e.add(new r.FuncTask(function(){t._showResult(),t._fireDogFight()},350)),e.add(new r.FuncTask(function(){t._showTaikuCutin()},450)),e.add(new r.FuncTask(function(){t._damageAtStage1()},500)),e.add(new r.FuncTask(function(){t._antiAircraft()},600)),e.add(new r.FuncTask(function(){t._damageAtStage2()},700)),e.add((new a.SerialTask).add(new l.WaitTask(850)).add((new s.ParallelTask).add(new p.TaskAerialTorpedoJet(this._scene,this._data,this._canvas.planes_f,this._ships_e)).add(new p.TaskAerialTorpedoJet(this._scene,this._data,this._canvas.planes_e,this._ships_f)))),e.add(new r.FuncTask(function(){t._showBakuExplosion()},1500)),e.add(new r.FuncTask(function(){t._showDamage()},1650)),this._main_task=e,this._main_task.start(function(){t._showDamageNumber()})},e.prototype._getPlaneType=function(){return o.PlaneConst.getJetAirUnitPlaneType()},e}(h.TaskAirUnit);e.TaskAirUnitJet=d},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(447),s=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite,e.addChild(e._img),e}return n(e,t),e.prototype._initialize=function(t,e){if(0==e)this._img.texture=r.BATTLE_AIRUNIT.getTexture(3);else{var i=e/t;if(i<.25)this._img.texture=r.BATTLE_AIRUNIT.getTexture(2);else{if(!(i<.4))return this._img.texture=PIXI.Texture.EMPTY,!1;this._img.texture=r.BATTLE_AIRUNIT.getTexture(1)}}return this._img.x=-Math.round(this._img.width/2),this._img.y=-Math.round(this._img.height/2),!0},e.prototype.play=function(t,e,i,n){var r=this;return void 0===n&&(n=null),null==t?void(null!=n&&n()):(this.alpha=0,0==this._initialize(e,i)?void(null!=n&&n()):(this.x=o.default.width/2+24,this.y=o.default.height-90,t.addChild(this),void createjs.Tween.get(this).to({x:o.default.width/2+12,alpha:1},300).to({x:o.default.width/2-12},1500).to({x:o.default.width/2-24,alpha:0},300).call(function(){t.removeChild(r),null!=n&&n()})))},e}(PIXI.Container);e.AirUnitAttackResultTelop=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(27),r=i(38),s=i(2),a=i(16),_=i(1353),l=i(1354),u=i(1355),c=i(1356),h=i(1357),p=i(1358),d=function(t){function e(e,i,n,o,r){var s=t.call(this)||this;return s._scene=e,s._ship=i,s._damage=n,s._type=o,s._plane=r,s}return n(e,t),e.prototype._start=function(){var t=this,e=500*Math.random();this._banner=this._scene.view.bannerGroupLayer.getBanner(this._ship);var i=null;if(1==this._type)i=new r.WaitTask(500);else if(3==this._type)i=new _.AnimAntiAircraftFunshin(this._banner);else if(2==this._type)i=new u.AnimAntiAircraftKoukaku(this._banner);else if(5==this._type){var n=new o.ParallelTask;n.add(new c.AnimAntiAircraftSanshikidan(this._banner)),n.add(new h.AnimAntiAircraftSanshikidan2(this._banner)),i=n}else if(4==this._type)i=new l.AnimAntiAircraftFunshinKai2(this._banner);else if(6==this._type){var n=new o.ParallelTask;n.add(new c.AnimAntiAircraftSanshikidan(this._banner)),n.add(new l.AnimAntiAircraftFunshinKai2(this._banner)),i=n}if(null==i?this._endTask():(this._banner.moveFront(),this._createGuns(),this._banner.addChild(this._gun1),this._banner.addChild(this._gun2),this._gun1.activate(),this._gun2.activate(),this._planeExplosion(),createjs.Tween.get(null).wait(e).call(function(){i.start(function(){t._endTask()})})),Math.floor(this._damage)<=0&&(4==this._type||6==this._type)){var s=this._banner.getGlobalPos(!1);this._scene.view.bannerInfoLayer.showDanmaku(s,e)}else if(5==this._type||6==this._type){var s=this._banner.getGlobalPos(!1);this._scene.view.bannerInfoLayer.showSanshiki(s,e)}},e.prototype._planeExplosion=function(){var t=this._scene,e=this._type,i=this._plane;new p.TaskAirWarAntiAircraftExplosion(t,e,i).start()},e.prototype._endTask=function(){null!=this._gun1&&(null!=this._gun1.parent&&this._gun1.parent.removeChild(this._gun1),this._gun1.deactivate()),null!=this._gun2&&(null!=this._gun2.parent&&this._gun2.parent.removeChild(this._gun2),this._gun2.deactivate()),this._scene=null,this._ship=null,this._type=null,this._banner.moveDefault(),this._banner=null,this._gun1=null,this._gun2=null,t.prototype._endTask.call(this)},e.prototype._createGuns=function(){this._gun1=new f,this._gun1.position.set(26,20),this._gun1.rotation=(45*-Math.random()-30)/180*Math.PI,this._gun2=new f,this._gun2.position.set(35,30),this._gun2.rotation=(45*-Math.random()-30)/180*Math.PI},e}(s.TaskBase);e.TaskAirWarAntiAircraft=d;var f=function(t){function e(){var e=t.call(this)||this,i=a.BATTLE_MAIN.getTexture(122);return e._content=new PIXI.Sprite(i),e._content.anchor.set(0,.5),e.addChild(e._content),e}return n(e,t),e.prototype.activate=function(){var t=this;null==this._t&&(this._t=createjs.Tween.get(this._content,{loop:!0}).call(function(){t._content.visible=!0,t._content.position.set(0,0)}).wait(33).call(function(){t._content.position.set(30,0)}).wait(33).call(function(){t._content.visible=!1}).wait(33))},e.prototype.deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(23),s=i(20),a=i(16),_=function(t){function e(e){var i=t.call(this)||this;return i._layer=e,i._smoke1=new l,i._smoke1.position.set(45,39),i._smoke2=new l,i._smoke2.position.set(54,48),i._smoke3=new l,i._smoke3.position.set(36,65),i}return n(e,t),e.prototype._start=function(){var t=this,e=new s.TweenTask;e.addTween(this._createTween(this._smoke1,0)),e.addTween(this._createTween(this._smoke2,100)),e.addTween(this._createTween(this._smoke3,400)),e.start(function(){t._endTask()})},e.prototype._createTween=function(t,e){var i=this,n=t.x-105,o=t.y-8;return t.scale.set(0),createjs.Tween.get(t).wait(e).call(function(){i._layer.addChild(t)}).to({scaleX:1,scaleY:1},200).to({x:n,y:o,alpha:0,scaleX:1.5,scaleY:1.5},400).call(function(){i._layer.removeChild(t)})},e}(o.TaskBase);e.AnimAntiAircraftFunshin=_;var l=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite(a.BATTLE_MAIN.getTexture(150)),e._img.position.set(-32,-42),e.addChild(e._img),e}return n(e,t),e}(r.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(62),s=i(16),a=function(t){function e(e){var i=t.call(this)||this;return i._layer=e,i._smoke1=new r.CenteringSprite,i._smoke1.position.set(309,32),i._smoke2=new r.CenteringSprite,i._smoke2.position.set(297,5),i._smoke3=new r.CenteringSprite,i._smoke3.position.set(272,47),i}return n(e,t),e.prototype._start=function(){var t=this,e=s.BATTLE_MAIN.getTexture(36);this._smoke1.texture=e,this._smoke2.texture=e,this._smoke3.texture=e,this._smoke1.scale.set(.5),this._smoke1.alpha=0,this._layer.addChild(this._smoke1),createjs.Tween.get(this._smoke1).to({alpha:.7,scaleX:.7,scaleY:.7},100).to({x:this._smoke1.x-12,alpha:0,scaleX:1,scaleY:1},600).call(function(){t._layer.removeChild(t._smoke1)}),this._smoke2.scale.set(.5),this._smoke2.alpha=0,this._layer.addChild(this._smoke2),createjs.Tween.get(this._smoke2).wait(100).to({alpha:.7,scaleX:.7,scaleY:.7},100).to({x:this._smoke2.x-12,alpha:0,scaleX:1,scaleY:1},600).call(function(){t._layer.removeChild(t._smoke2)}),this._smoke3.scale.set(.5),this._smoke3.alpha=0,this._layer.addChild(this._smoke3),createjs.Tween.get(this._smoke3).wait(300).to({alpha:.7,scaleX:.7,scaleY:.7},100).to({x:this._smoke3.x-12,alpha:0,scaleX:1,scaleY:1},600).call(function(){t._layer.removeChild(t._smoke3),t._endTask()})},e}(o.TaskBase);e.AnimAntiAircraftFunshinKai2=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(23),s=i(16),a=function(t){function e(e){var i=t.call(this)||this;return i._layer=e,i._smoke=new _,i._smoke.position.set(69,45),i}return n(e,t),e.prototype._start=function(){var t=this,e=this._smoke.x-105,i=this._smoke.y-9;createjs.Tween.get(this._smoke).call(function(){t._layer.addChild(t._smoke)}).to({x:e,y:i,alpha:0,scaleX:1.5,scaleY:1.5},500).call(function(){t._layer.removeChild(t._smoke),t._endTask()})},e}(o.TaskBase);e.AnimAntiAircraftKoukaku=a;var _=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite(s.BATTLE_MAIN.getTexture(149)),e._img.position.set(-44,-63),e.addChild(e._img),e}return n(e,t),e}(r.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(23),s=i(16),a=function(t){function e(e){var i=t.call(this)||this;return i._layer=e,i._smoke=new _,i._smoke.position.set(75,46),i}return n(e,t),e.prototype._start=function(){var t=this,e=this._smoke.x-105,i=this._smoke.y-12;createjs.Tween.get(this._smoke).call(function(){t._layer.addChild(t._smoke)}).to({x:e,y:i,alpha:0,scaleX:1.5,scaleY:1.5},500).call(function(){t._layer.removeChild(t._smoke),t._endTask()})},e}(o.TaskBase);e.AnimAntiAircraftSanshikidan=a;var _=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite(s.BATTLE_MAIN.getTexture(148)),e._img.position.set(-140,-213),e.addChild(e._img),e}return n(e,t),e}(r.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(62),s=i(16),a=function(t){function e(e){var i=t.call(this)||this;return i._layer=e,i._smoke1=new r.CenteringSprite,i._smoke1.position.set(263,-2),i._smoke2=new r.CenteringSprite,i._smoke2.position.set(272,20),i}return n(e,t),e.prototype._start=function(){var t=this;this._smoke1.texture=s.BATTLE_MAIN.getTexture(37),this._smoke1.alpha=0,this._layer.addChild(this._smoke1),createjs.Tween.get(this._smoke1).to({alpha:1},100).to({x:this._smoke1.x-4,alpha:0,scaleX:1.1,scaleY:1.1},700),this._smoke2.texture=s.BATTLE_MAIN.getTexture(38),this._smoke2.alpha=0,this._layer.addChild(this._smoke2),createjs.Tween.get(this._smoke2).wait(200).to({alpha:1},100).to({x:this._smoke2.x-4,alpha:0,scaleX:1.1,scaleY:1.1},700);var e=[s.BATTLE_MAIN.getTexture(86),s.BATTLE_MAIN.getTexture(87),s.BATTLE_MAIN.getTexture(88),s.BATTLE_MAIN.getTexture(89),s.BATTLE_MAIN.getTexture(90),s.BATTLE_MAIN.getTexture(91),s.BATTLE_MAIN.getTexture(92),s.BATTLE_MAIN.getTexture(93),s.BATTLE_MAIN.getTexture(94),s.BATTLE_MAIN.getTexture(95),s.BATTLE_MAIN.getTexture(96),s.BATTLE_MAIN.getTexture(97),s.BATTLE_MAIN.getTexture(98),s.BATTLE_MAIN.getTexture(99),s.BATTLE_MAIN.getTexture(100),s.BATTLE_MAIN.getTexture(101),s.BATTLE_MAIN.getTexture(102),s.BATTLE_MAIN.getTexture(103),s.BATTLE_MAIN.getTexture(104),s.BATTLE_MAIN.getTexture(105),s.BATTLE_MAIN.getTexture(106),s.BATTLE_MAIN.getTexture(107)],i=new PIXI.extras.AnimatedSprite(e);i.position.set(252,-27),i.loop=!1,i.animationSpeed=30/createjs.Ticker.framerate,this._layer.addChild(i),createjs.Tween.get(null).wait(300).call(function(){i.play(),i.onComplete=function(){i.onComplete=null,t._layer.removeChild(i),t._endTask()}})},e}(o.TaskBase);e.AnimAntiAircraftSanshikidan2=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(12),s=i(16),a=function(t){function e(e,i,n){var o=t.call(this)||this;return o._scene=e,o._type=i,o._plane=n,o}return n(e,t),e.prototype._start=function(){null==this._plane?this._endTask():5==this._type?this._animSanshiki():2==this._type?this._animKoukaku():3==this._type?this._animFunshin():this._endTask()},e.prototype._animSanshiki=function(){var t=this,e=new _(5);e.x=this._plane.x,e.y=this._plane.y,this._scene.view.layer_cutin.addChild(e),createjs.Tween.get(e).to({scaleX:1,scaleY:1},100).to({scaleX:2,scaleY:2,alpha:0},700).call(function(){e.parent.removeChild(e),t._endTask()})},e.prototype._animKoukaku=function(){var t=this,e=new _(2);e.x=this._plane.x,e.y=this._plane.y,this._scene.view.layer_cutin.addChild(e),createjs.Tween.get(e).to({scaleX:1,scaleY:1},100).to({scaleX:2,scaleY:2,alpha:0},700).call(function(){e.parent.removeChild(e),t._endTask()})},e.prototype._animFunshin=function(){var t=this,e=new _(3);e.position.set(0,-15),this._plane.addChild(e);var i=new _(3);i.position.set(-15,0),this._plane.addChild(i);var n=new _(3);n.position.set(23,0),this._plane.addChild(n),createjs.Tween.get(e).to({scaleX:1,scaleY:1},100).to({scaleX:2,scaleY:2,alpha:0},700),createjs.Tween.get(i).wait(100).to({scaleX:1,scaleY:1},100).to({scaleX:2,scaleY:2,alpha:0},700),createjs.Tween.get(n).wait(200).to({scaleX:1,scaleY:1},100).to({scaleX:2,scaleY:2,alpha:0},700).call(function(){e.parent.removeChild(e),i.parent.removeChild(i),n.parent.removeChild(n),t._endTask()})},e.prototype._endTask=function(){this._scene=null,this._type=null,this._plane=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskAirWarAntiAircraftExplosion=a;var _=function(t){function e(e){var i,n=t.call(this)||this;return 5==e?(i=148,n.anchor.set(.5,.91)):2==e?(i=149,n.anchor.set(.5,.85)):3==e&&(i=148,n.anchor.set(.5,.76)),n.texture=s.BATTLE_MAIN.getTexture(i),n.scale.set(0),n}return n(e,t),e}(r.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(27),s=function(t){function e(e,i,n,o,r,s){var a=t.call(this)||this;return a._scene=e,a._data=i,a._ships_f=o,a._ships_e=r,a._hunshin_danmaku=s,a._damage_cutin=n,a}return n(e,t),e.prototype._start=function(){var t=this,e=this._ships_f,i=this._data.stage3_f,n=this._createParallel(e,i,this._hunshin_danmaku);e=this._ships_e,i=this._data.stage3_e;var o=this._createParallel(e,i,this._hunshin_danmaku);new r.ParallelTask(n,o).start(function(){t._endTask()})},e.prototype._createParallel=function(t,e,i){for(var n=new r.ParallelTask,o=0,s=t;o<s.length;o++){var _=s[o];if(null!=_){if(i.indexOf(_)>=0){if(Math.floor(e.getDamage(_.index))<=0)continue}var l=new a(this._scene,_,e,this._damage_cutin);n.add(l)}}return n},e.prototype._endTask=function(){this._scene=null,this._data=null,this._ships_f=null,this._ships_e=null,this._damage_cutin=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskAirWarDamageNumber=s;var a=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._scene=e,r._ship=i,r._data=n,r._damage_cutin=o,r}return n(e,t),e.prototype._start=function(){var t=this,e=this._ship,i=this._data,n=e.index,o=e.friend,r=i.getRai(n),s=i.getBak(n),a=i.getDamage(n);if(r||s||a>0){1==this._scene.data.model.isPractice()&&(a=Math.min(a,e.hp_now-1));var _=i.getHitType(n),l=this._scene.view.bannerGroupLayer.getBanner(o,n);this._scene.view.layer_damage.showAtBanner(l,a,_,function(){t._endTask()}),this._damage_cutin.causeDamage(e,a),l.updateHp(e.hp_now)}else this._endTask()},e.prototype._endTask=function(){this._scene=null,this._ship=null,this._data=null,this._damage_cutin=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskAirWarDamageNumberOnce=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("common_explosion_"+t)}t.getTexture=e}(e.COMMON_EXPLOSION||(e.COMMON_EXPLOSION={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(13),s=i(24),a=function(t){function e(e,i,n,o,r){var s=t.call(this)||this;return s._ship_mst_id=e,s._damaged=i,s._plane1=n,s._plane2=o,s._plane3=r,s}return n(e,t),e.prototype._start=function(){this._loadShipImage()},e.prototype._loadShipImage=function(){var t=this,e=new r.ShipLoader;e.add(this._ship_mst_id,this._damaged,"full"),e.load(function(){t._loadPlaneImage()})},e.prototype._loadPlaneImage=function(){var t=this,e=new s.SlotLoader;this._plane1>0&&e.add(this._plane1,"item_up"),this._plane2>0&&e.add(this._plane2,"item_up"),this._plane3>0&&e.add(this._plane3,"item_up"),e.load(function(){t._endTask()})},e}(o.TaskBase);e.PreloadCutinFunnel=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(43),r=i(27),s=i(29),a=i(72),_=i(20),l=i(38),u=i(6),c=i(452),h=i(445),p=i(449),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._start=function(){this._log();var t=this._scene.data.model.map_info.isAirRaid();this._canvas=new h.AirWarJetCanvas(t),this._scene.view.layer_content.addChild(this._canvas),this._createPlanes(this._data.plane_from_f,this._ships_f),this._createPlanes(this._data.plane_from_e,this._ships_e),this._startAircraftFlightAnimation(),this._startMainTask()},e.prototype._log=function(){},e.prototype._startMainTask=function(){var t=this,e=new r.ParallelTask,i=createjs.Tween.get(null).call(u.SE.play,["220"]).wait(1700);e.add((new _.TweenTask).addTween(i)),e.add(new a.FuncTask(function(){t._fireDogFight()},350)),e.add(new a.FuncTask(function(){t._showTaikuCutin()},450)),e.add(new a.FuncTask(function(){t._damageAtStage1()},500)),e.add(new a.FuncTask(function(){t._antiAircraft()},600)),e.add(new a.FuncTask(function(){t._damageAtStage2()},700)),e.add((new s.SerialTask).add(new l.WaitTask(850)).add((new r.ParallelTask).add(new p.TaskAerialTorpedoJet(this._scene,this._data,this._canvas.planes_f,this._ships_e)).add(new p.TaskAerialTorpedoJet(this._scene,this._data,this._canvas.planes_e,this._ships_f)))),e.add(new a.FuncTask(function(){t._showBakuExplosion()},1500)),e.add(new a.FuncTask(function(){t._showDamage()},1650)),this._main_task=e,this._main_task.start(function(){t._showDamageNumber()})},e.prototype._showSeikuResult=function(){},e.prototype._getPlaneType=function(){return o.PlaneConst.getJetPlaneType()},e}(c.TaskAirWar);e.TaskAirWarJet=d},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(2),s=i(447),a=function(t){function e(e){var i=t.call(this)||this;return i._layer=e,i}return n(e,t),e.prototype._start=function(){var t=this;this._telop=new _,this._telop.x=o.default.width/2,this._telop.y=o.default.height/2,this._telop.bg.scale.y=0,this._telop.text.x=150,this._telop.text.alpha=0,this._layer.addChild(this._telop),createjs.Tween.get(this._telop.text).wait(300).to({x:90,alpha:1},300).to({x:-90},350).to({x:-150,alpha:0},500),createjs.Tween.get(this._telop.bg.scale).to({y:1},300).wait(1150).to({y:0},300).call(function(){t._layer.removeChild(t._telop),t._endTask()})},e.prototype._endTask=function(){this._layer=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskAirUnitAttackStartTelop=a;var _=function(t){function e(){var e=t.call(this)||this;e._bg=new PIXI.Container;var i=PIXI.Sprite.fromFrame("battle_telop_mes_bg_f");return i.x=-Math.round(i.width/2),i.y=-Math.round(i.height/2),e._bg.addChild(i),e.addChild(e._bg),e._text=new PIXI.Sprite(s.BATTLE_AIRUNIT.getTexture(0)),e._text.anchor.set(.5),e.addChild(e._text),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(54),s=function(t){function e(e,i){var n=t.call(this)||this;return n._scene=e,n._record=i,n._damage_cutin=new r.PhaseDamageCutin(e),n}return n(e,t),e.prototype._createAttackData_f=function(){return this._createAttackData(this._scene.data.model.deck_f.ships,this._scene.data.model.deck_e.ships)},e.prototype._createAttackData_e=function(){return this._createAttackData(this._scene.data.model.deck_e.ships,this._scene.data.model.deck_f.ships)},e.prototype._createAttackData=function(t,e){for(var i=new Array,n=0;n<t.length;n++){var o=t[n];if(null!=o){var r=o.friend?this._data.getAttackTo_f(n):this._data.getAttackTo_e(n);if(!(r<0)){var s={attacker:o,defender:e[r],damage:o.friend?this._data.getDamage_f(n):this._data.getDamage_e(n),hit:o.friend?this._data.getHitType_f(n):this._data.getHitType_e(n),shield:o.friend?this._data.isShield_f(n):this._data.isShield_e(n)};i.push(s)}}}return i},e.prototype._shootBase=function(t,e,i){var n=this._scene.view.bannerGroupLayer.getBanner(t.attacker),o=this._scene.view.bannerGroupLayer.getBanner(t.defender),r=n.getGlobalPos(!0),s=o.getGlobalPos(!0);this._scene.view.layer_torpedo.playTorpedo(r,s,e,function(){null!=i&&i()})},e.prototype._damageBase=function(t,e){1==this._scene.data.model.isPractice()&&(e.damage=Math.min(e.damage,t.hp_now-1));var i=this._scene.view.bannerGroupLayer.getBanner(t),n=i.getGlobalPos(!0);this._scene.view.layer_torpedo.playTorpedoWaterColumn(i),this._scene.view.layer_explosion.playDamageExplosion(n.x,n.y,e.damage),i.moveAtDamage(e.shield)},e.prototype._showDamageBase=function(t,e){for(var i=0,n=t;i<n.length;i++){var o=n[i];if(null!=o){var r=e[o.index];if(null!=r){var s=this._scene.view.bannerGroupLayer.getBanner(o);this._scene.view.layer_damage.showAtBanner(s,r.damage,r.hit),this._damage_cutin.causeDamage(o,r.damage),s.updateHp(o.hp_now)}}}},e}(o.TaskBase);e.PhaseRaigekiBase=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(61),s=i(70),a=i(25),_=i(16),l=function(t){function e(){var e=t.call(this)||this;return e._bg=new PIXI.Sprite,e.addChild(e._bg),e._gauge=new c,e.addChild(e._gauge),e._ship_name=new u(46,16774898),e.addChild(e._ship_name),e._level=new o.TextBox(32,16774898),e.addChild(e._level),e._karyoku=new o.TextBox(24,16774898),e._raisou=new o.TextBox(24,16774898),e._taiku=new o.TextBox(24,16774898),e._soukou=new o.TextBox(24,16774898),e.addChild(e._karyoku),e.addChild(e._raisou),e.addChild(e._taiku),e.addChild(e._soukou),e._ring=new s.RingSmall,e._ring.visible=!1,e.addChild(e._ring),e._slotIcons=[],e}return n(e,t),e.prototype.initilize=function(t){var e=t.friend,i=t.slots,n=t.isMarriage();this._updateBackground(e,i),this._updateHPGauge(e,t.hp_now,t.hp_max),this._updateShipNameText(t.name,e,i,n),1==t.friend?(this._level.position.set(56,66),this._karyoku.position.set(94,108),this._raisou.position.set(214,108),this._taiku.position.set(334,108),this._soukou.position.set(448,108)):(this._level.position.set(131,66),this._karyoku.position.set(168,108),this._raisou.position.set(288,108),this._taiku.position.set(408,108),this._soukou.position.set(522,108)),n?(this._ring.x=1==t.friend?152:233,this._ring.y=69,this._ring.initialize(),this._ring.activate(),this._ring.visible=!0):(this._ring.deactivate(),this._ring.visible=!1),this._level.text=t.level.toString(),this._karyoku.text=t.karyoku.toString(),this._raisou.text=t.raisou.toString(),this._taiku.text=t.taiku.toString(),this._soukou.text=t.soukou.toString(),this._updateSlot(e,i)},e.prototype.dispose=function(){if(this.removeChildren(),this._bg=null,this._gauge=null,null!=this._slotIcons)for(var t=0,e=this._slotIcons;t<e.length;t++){var i=e[t];i.dispose()}this._slotIcons=null,this._ship_name.dispose(),this._ship_name=null,this._level.destroy(),this._level=null,this._karyoku.destroy(),this._karyoku=null,this._raisou.destroy(),this._raisou=null,this._taiku.destroy(),this._taiku=null,this._soukou.destroy(),this._soukou=null,this._ring.dispose(),this._ring=null},e.prototype._updateBackground=function(t,e){var i;i=e.length>=5?t?120:118:t?119:117,this._bg.texture=_.BATTLE_MAIN.getTexture(i)},e.prototype._updateHPGauge=function(t,e,i){this._gauge.x=t?192:267,this._gauge.y=81,this._gauge.initialize(e/i)},e.prototype._updateShipNameText=function(t,e,i,n){this._ship_name.position.set(e?15:92,6);var o={text:t,color:n?16766947:16774898,maskW:i.length>=5?185:230,maskH:53};this._ship_name.update(o)},e.prototype._updateSlot=function(t,e){for(;this._slotIcons.length>0;){var i=this._slotIcons.pop();null!=i.parent&&i.parent.removeChild(i)}if(null!=e){var n;n=t?e.length>=5?203:263:e.length>=5?282:342;for(var o=0;o<e.length;o++){var r=new h;r.x=n+60*o,r.y=18;var s=e[o];null==s?r.visible=!1:r.initialize(s.iconType),this.addChild(r),this._slotIcons.push(r)}}},e}(PIXI.Container);e.CutinStatusBox=l;var u=function(t){function e(e,i){var n=t.call(this)||this;n._text=new o.TextBox(e,i),n.addChild(n._text);var r=new PIXI.Graphics;return n.addChild(r),n.mask=r,n}return n(e,t),e.prototype.update=function(t){if(this.cacheAsBitmap=!1,null!=t.text&&t.text.length>0&&(this._text.text=t.text),null!=t.color&&(this._text.style.fill=t.color),t.maskW>0&&t.maskH>0){this.mask.beginFill(0,0).drawRect(0,0,t.maskW,t.maskH).endFill()}this.cacheAsBitmap=!0},e.prototype.dispose=function(){this.removeChildren(),this._text.destroy(),this.cacheAsBitmap=!1,this.mask=null},e}(PIXI.Container),c=function(t){function e(){var e=t.call(this)||this;e._GAUGE_WIDTH_=300,e._GAUGE_HEIGHT_=12,e._bar=new PIXI.Graphics,e.addChild(e._bar);var i=new PIXI.Graphics;return e._drawShape(i,0),e.addChild(i),e._bar.mask=i,e}return n(e,t),e.prototype.initialize=function(t){t=Math.max(t,0),t=Math.min(t,1),this._bar.x=-this._GAUGE_WIDTH_*(1-t);var e=a.MathUtil.getColor(t);this._drawShape(this._bar,e)},e.prototype._drawShape=function(t,e){var i=this._GAUGE_HEIGHT_/2;t.beginFill(e),t.arc(i,i,i,Math.PI/2,Math.PI/2*3),t.arc(this._GAUGE_WIDTH_-i,i,i,-Math.PI/2,Math.PI/2),t.endFill()},e}(PIXI.Container),h=function(t){function e(){var e=t.call(this)||this;return e._icon=new r.IconWeapon,e.addChild(e._icon),e}return n(e,t),e.prototype.initialize=function(t){this.texture=_.BATTLE_MAIN.getTexture(56),this._icon.update(t)},e.prototype.dispose=function(){this.removeChildren(),this._icon.dispose()},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(13),s=i(24),a=function(t){function e(e,i,n,o,r){var s=t.call(this)||this;return s._attacker=e,s._plane_mst_id=i,s._slot_mst_id1=n,s._slot_mst_id2=o,s._type=r,s}return n(e,t),e.prototype._start=function(){this._loadShipImage()},e.prototype._loadShipImage=function(){var t=this,e=new r.ShipLoader;e.add(this._attacker.mst_id,this._attacker.isDamaged(),"full"),e.load(function(){t._loadSlotTextImage()})},e.prototype._loadSlotTextImage=function(){var t=this;this._plane_mst_id<=0&&this._slot_mst_id1<=0&&this._slot_mst_id2<=0&&this._endTask();var e=new s.SlotLoader;this._plane_mst_id>0&&e.add(this._plane_mst_id,"item_up"),this._slot_mst_id1>0&&(e.add(this._slot_mst_id1,"item_up"),0==this._type&&e.add(this._slot_mst_id1,"btxt_flat")),this._slot_mst_id2>0&&(e.add(this._slot_mst_id2,"item_up"),e.add(this._slot_mst_id2,"btxt_flat")),e.load(function(){t._endTask()})},e}(o.TaskBase);e.PreloadCutinDanchaku=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(17),r=i(12),s=i(16),a=i(184),_=i(143),l=function(t){function e(){var e=t.call(this)||this;e._bg=new o.FadeBox(.7,8900331),e._bg.hide(0),e.addChild(e._bg),e._chara=new PIXI.Container,e.addChild(e._chara),e._telop_bg=new a.TelopBG,e._telop_bg.position.set(600,150),e._telop_bg.alpha=0,e.addChild(e._telop_bg),e._slot_bg1=new a.TelopBG,e.addChild(e._slot_bg1),e._slot1=new r.Sprite,e._slot1.anchor.set(.5),e._slot1.scale.set(.9),e._slot1.alpha=0,e.addChild(e._slot1),e._slot_bg2=new a.TelopBG,e.addChild(e._slot_bg2),e._slot2=new r.Sprite,e._slot2.anchor.set(.5),e._slot2.scale.set(.9),e._slot2.alpha=0,e._slot1_text=new r.Sprite,e._slot1_text.scale.set(.76),e._slot1_text.alpha=0,e._slot2_text=new r.Sprite,e._slot2_text.scale.set(.76),e._slot2_text.alpha=0,e._telop=new r.Sprite,e._telop.anchor.set(.5),e._telop.position.set(600,150),e._telop.alpha=0,e._plane=new _.Plane(.88),e.addChild(e._slot2),e.addChild(e._slot1_text),e.addChild(e._slot2_text),e.addChild(e._telop),e.addChild(e._plane);var i=new PIXI.Graphics;return i.beginFill(0),i.drawRect(0,321,1200,138),i.endFill(),e.addChild(i),e._slot1.mask=i,i=new PIXI.Graphics,i.beginFill(0),i.drawRect(0,530,1200,138),i.endFill(),e.addChild(i),e._slot2.mask=i,e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chara",{get:function(){return this._chara},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"telop_bg",{get:function(){return this._telop_bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slot_bg1",{get:function(){return this._slot_bg1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slot1",{get:function(){return this._slot1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slot_bg2",{get:function(){return this._slot_bg2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slot2",{get:function(){return this._slot2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slot1_text",{get:function(){return this._slot1_text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slot2_text",{get:function(){return this._slot2_text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"telop",{get:function(){return this._telop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plane",{get:function(){return this._plane},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e){switch(this._telop_bg.initialize(t,!0),this._slot_bg1.initialize(t,!0),this._slot_bg2.initialize(t,!0),1==t?(this._slot_bg1.position.set(0-this._slot_bg1.width/2,390),this._slot_bg2.position.set(1200+this._slot_bg2.width/2,600)):(this._slot_bg1.position.set(1200+this._slot_bg1.width/2,390),this._slot_bg2.position.set(0-this._slot_bg2.width/2,600)),e){case 1:this._telop.texture=s.BATTLE_MAIN.getTexture(141);break;case 2:this._telop.texture=s.BATTLE_MAIN.getTexture(135);break;default:this._telop.texture=s.BATTLE_MAIN.getTexture(139)}},e.prototype.dispose=function(){this.removeChildren()},e}(PIXI.Container);e.CutinDanchakuCanvas=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(12),a=i(258),_=i(44),l=function(t){function e(e,i,n,o){return t.call(this,e,i,n,o)||this}return n(e,t),e.prototype.resume=function(){var t=this;null!=this._slot2?(this._telop2.initialize(this._slot2.mstID,this._attacker.friend),this._view.addChildAt(this._telop2,0),this._telop2.play(),createjs.Tween.get(this).wait(150).call(function(){t._resume()})):this._resume()},e.prototype._start=function(){var t=this,e=this._attacker.mst_id,i=this._attacker.isDamaged();this._ship_sprite=new s.Sprite(r.default.resources.getShip(e,i,"full")),this._shipFlash=new _.ShipFlash(r.default.resources.getShip(e,i,"full"));var n=r.default.model.ship_graph.get(e).getBattleOffset(i);this._ship_sprite.x=n.x,this._ship_sprite.y=n.y;var a=this._base_pos;this._view.chara.position.set(a.x,a.y);var l=344-n.x,u=597-n.y;if(this._ship_sprite.x+=l,this._ship_sprite.y+=u,this._ship_sprite.anchor.set(l/this._ship_sprite.width,u/this._ship_sprite.height),this._ship_sprite.scale.set(1.25),this._ship_sprite.alpha=0,this._shipFlash.position=this._ship_sprite.position,this._shipFlash.anchor=this._ship_sprite.anchor,this._shipFlash.scale=this._ship_sprite.scale,this._view.chara.addChild(this._ship_sprite),this._view.chara.addChild(this._shipFlash),createjs.Tween.get(this._ship_sprite).wait(235).to({scaleX:1,scaleY:1,alpha:1},533,createjs.Ease.sineOut).call(function(){t._view.emit("attack"),t._shipFlash.scale=t._ship_sprite.scale,t._shipFlash.play()}).wait(135),null!=this._slot1||null!=this._slot2){var c=this._view.box;c.initilize(this._attacker);var h=0;1==this._attacker.friend?c.x=-60:(h=o.default.width-c.width,c.x=h+60),c.y=o.default.height-c.height,c.alpha=0,createjs.Tween.get(c).wait(365).to({x:h,alpha:1},165).wait(900).to({alpha:0},200),null!=this._slot1&&(this._telop1.initialize(this._slot1.mstID,this._attacker.friend),this._view.addChildAt(this._telop1,0),this._telop1.play())}},e.prototype._resume=function(){var t=this;createjs.Tween.get(this._ship_sprite).call(function(){t._view.emit("attack"),t._shipFlash.play()}).wait(135).wait(200).to({scaleX:1.25,scaleY:1.25,alpha:0},466).call(function(){t._ship_sprite.parent.removeChild(t._ship_sprite),t._endTask()})},e}(a.CutinDouble);e.CutinDouble2=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(458),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._resume=function(){var t=this,e=this._base_pos,i=this._friend?1:-1;createjs.Tween.get(this._view.chara).call(function(){t._view.emit("attack"),t._shipFlash.play()}).wait(135).wait(200).to({x:e.x+78*i,alpha:0},466).call(function(){t._ship_sprite.parent.removeChild(t._ship_sprite),t._endTask()})},e}(o.CutinDouble1);e.CutinDouble3=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(12),a=i(258),_=i(44),l=function(t){function e(e,i,n,o){return t.call(this,e,i,n,o)||this}return n(e,t),e.prototype.resume=function(){var t=this;null!=this._slot2?(this._telop2.initialize(this._slot2.mstID,this._attacker.friend),this._view.addChildAt(this._telop2,0),this._telop2.play(),createjs.Tween.get(this).wait(150).call(function(){t._resume()})):this._resume()},e.prototype._start=function(){var t=this,e=this._attacker.mst_id,i=this._attacker.isDamaged();this._ship_sprite=new s.Sprite(r.default.resources.getShip(e,i,"full")),this._shipFlash=new _.ShipFlash(r.default.resources.getShip(e,i,"full"));var n=r.default.model.ship_graph.get(e).getBattleOffset(i);this._ship_sprite.x=n.x,this._ship_sprite.y=n.y;var a=this._base_pos,l=this._friend?1:-1;this._view.chara.position.set(a.x-180*l,a.y+120),this._view.chara.alpha=0;var u=344-n.x,c=597-n.y;if(this._ship_sprite.x+=u,this._ship_sprite.y+=c,this._ship_sprite.anchor.set(u/this._ship_sprite.width,c/this._ship_sprite.height),this._shipFlash.position=this._ship_sprite.position,this._shipFlash.anchor=this._ship_sprite.anchor,this._shipFlash.scale=this._ship_sprite.scale,this._view.chara.addChild(this._ship_sprite),this._view.chara.addChild(this._shipFlash),createjs.Tween.get(this._view.chara).wait(235).to({x:a.x-30*l,y:a.y+15,alpha:1},300).to({x:a.x,y:a.y},250).call(function(){t._view.emit("attack"),t._shipFlash.play()}).wait(135),null!=this._slot1||null!=this._slot2){var h=this._view.box;h.initilize(this._attacker);var p=0;1==this._attacker.friend?h.x=-60:(p=o.default.width-h.width,h.x=p+60),h.y=o.default.height-h.height,h.alpha=0,createjs.Tween.get(h).wait(365).to({x:p,alpha:1},165).wait(900).to({alpha:0},200),null!=this._slot1&&(this._telop1.initialize(this._slot1.mstID,this._attacker.friend),this._view.addChildAt(this._telop1,0),this._telop1.play())}},e.prototype._resume=function(){var t=this;createjs.Tween.get(this._ship_sprite).call(function(){t._view.emit("attack"),t._shipFlash.play()}).wait(135).wait(200).to({scaleY:1.66,alpha:0},466).call(function(){t._ship_sprite.parent.removeChild(t._ship_sprite),t._endTask()})},e}(a.CutinDouble);e.CutinDouble4=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(20),s=i(62),a=i(23),_=i(6),l=i(16),u=function(t){function e(e,i,n,o,r){void 0===r&&(r=0);var s=t.call(this)||this;return s._layer=e,s._x=i,s._y=n,s._scaleX=o,s._delay=r,s}return n(e,t),e.prototype._start=function(){this._wait()},e.prototype._wait=function(){var t=this;if(this._delay<=0)return void this._anim();createjs.Tween.get(null).wait(this._delay).call(function(){t._anim()})},e.prototype._anim=function(){var t=this,e=new c;e.x=this._x,e.y=this._y,e.scale.x=this._scaleX,this._layer.addChild(e);var i=new r.TweenTask;e.smoke1.position.set(0,-15),e.smoke1.scale.set(0),e.smoke1.alpha=0,i.addTween(createjs.Tween.get(e.smoke1).to({alpha:1,scaleX:1,scaleY:1},120).to({alpha:.2,scaleX:2.5,scaleY:2.5},450).to({alpha:0,scaleX:2.6,scaleY:2.6},100)),e.smoke2.position.set(-18,-30),e.smoke2.scale.set(0),e.smoke2.alpha=.8,i.addTween(createjs.Tween.get(e.smoke2).wait(240).to({scaleX:1,scaleY:1},330).to({alpha:0,scaleX:1.3,scaleY:1.3},240)),e.smoke3.position.set(17,-36),e.smoke3.scale.set(0),e.smoke3.alpha=.8,i.addTween(createjs.Tween.get(e.smoke3).wait(330).to({scaleX:1,scaleY:1},300).to({alpha:0,scaleX:1.3,scaleY:1.3},240)),e.smoke4.position.set(0,-1),e.smoke4.scale.set(0),e.smoke4.alpha=.8,i.addTween(createjs.Tween.get(e.smoke4).wait(120).to({y:-4,scaleX:1,scaleY:1},390).to({alpha:0,scaleX:1.3,scaleY:1.3},240)),_.SE.play("102"),i.start(function(){t._layer.removeChild(e),t._endTask()})},e.prototype._endTask=function(){this._layer=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskRocketFire=u;var c=function(t){function e(){var e=t.call(this)||this;return e._smoke1=new h,e.addChild(e._smoke1),e._smoke2=new p,e.addChild(e._smoke2),e._smoke3=new p,e.addChild(e._smoke3),e._smoke4=new p,e.addChild(e._smoke4),e}return n(e,t),Object.defineProperty(e.prototype,"smoke1",{get:function(){return this._smoke1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"smoke2",{get:function(){return this._smoke2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"smoke3",{get:function(){return this._smoke3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"smoke4",{get:function(){return this._smoke4},enumerable:!0,configurable:!0}),e}(PIXI.Container),h=function(t){function e(){return t.call(this,l.BATTLE_MAIN.getTexture(113))||this}return n(e,t),e}(s.CenteringSprite),p=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite(l.BATTLE_MAIN.getTexture(112));return i.x=-33,i.y=-89,e.addChild(i),e}return n(e,t),e}(a.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(20),s=i(23),a=i(6),_=i(16),l=function(t){function e(e,i,n,o){void 0===o&&(o=0);var r=t.call(this)||this;return r._layer=e,r._x=i,r._y=n,r._delay=o,r}return n(e,t),e.prototype._start=function(){this._wait()},e.prototype._wait=function(){var t=this;if(this._delay<=0)return void this._anim();createjs.Tween.get(null).wait(this._delay).call(function(){t._anim()})},e.prototype._anim=function(){var t=this,e=new u;e.x=this._x,e.y=this._y,this._layer.addChild(e);var i=new r.TweenTask;e.bomb0.position.set(39,-71),e.bomb0.scale.set(0),e.bomb0.alpha=1,i.addTween(createjs.Tween.get(e.bomb0).wait(270).to({scaleX:.7,scaleY:.7},60).to({alpha:0,scaleX:1,scaleY:1},90)),e.bomb1.scale.set(.3),e.bomb1.alpha=0,i.addTween(createjs.Tween.get(e.bomb1).to({alpha:1,scaleX:1,scaleY:1},120).to({alpha:.8,scaleX:1.05,scaleY:1.05},60).to({alpha:0,scaleX:1.1,scaleY:1.1},90)),e.bomb2.scale.set(0),e.bomb2.alpha=0,i.addTween(createjs.Tween.get(e.bomb2).to({alpha:.6,scaleX:.8,scaleY:.8},90).to({alpha:1,scaleX:1,scaleY:1},90).to({alpha:.7,scaleX:1.15,scaleY:1.15},150).to({alpha:0},240)),e.bomb3.position.set(-29,-72),e.bomb3.scale.set(.8),e.bomb3.alpha=0,i.addTween(createjs.Tween.get(e.bomb3).wait(300).to({alpha:1,scaleX:.85,scaleY:.85},60).to({alpha:1,scaleX:.95,scaleY:.95},60).to({alpha:0,scaleX:1.1,scaleY:1.1},150)),e.bomb4.position.set(11,-72),e.bomb4.scale.set(.8),e.bomb4.alpha=0,i.addTween(createjs.Tween.get(e.bomb4).wait(330).to({alpha:1,scaleX:.85,scaleY:.85},60).to({scaleX:.95,scaleY:.95},60).to({alpha:0,scaleX:1.1,scaleY:1.1},90)),e.bomb5.position.set(-14,-17),e.bomb5.scale.set(.8),e.bomb5.alpha=0,i.addTween(createjs.Tween.get(e.bomb5).wait(270).to({alpha:1,scaleX:.85,scaleY:.85},60).to({scaleX:.9,scaleY:.9},120).to({alpha:0,scaleX:1.2,scaleY:1.2},120)),e.bomb6.position.set(36,0),e.bomb6.scale.set(0),e.bomb6.alpha=1,i.addTween(createjs.Tween.get(e.bomb6).wait(200).to({scaleX:.7,scaleY:.7},60).to({alpha:0,scaleX:1,scaleY:1},90)),e.bomb7.position.set(-39,-21),e.bomb7.scale.set(0),e.bomb7.alpha=1,i.addTween(createjs.Tween.get(e.bomb7).wait(90).to({scaleX:.7,scaleY:.7},60).to({alpha:0,scaleX:1,scaleY:1},90)),i.addTween(createjs.Tween.get(null).call(function(){a.SE.play("102")}).wait(200).call(function(){a.SE.play("102")}).wait(200).call(function(){a.SE.play("102")})),i.start(function(){t._layer.removeChild(e),t._endTask()})},e.prototype._endTask=function(){this._layer=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskRocketHit=l;var u=function(t){function e(){var e=t.call(this)||this;return e._bomb0=new d,e.addChild(e._bomb0),e._bomb1=new h,e.addChild(e._bomb1),e._bomb2=new c,e.addChild(e._bomb2),e._bomb3=new p,e.addChild(e._bomb3),e._bomb4=new p,e.addChild(e._bomb4),e._bomb5=new p,e.addChild(e._bomb5),e._bomb6=new d,e.addChild(e._bomb6),e._bomb7=new d,e.addChild(e._bomb7),e}return n(e,t),Object.defineProperty(e.prototype,"bomb0",{get:function(){return this._bomb0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bomb1",{get:function(){return this._bomb1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bomb2",{get:function(){return this._bomb2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bomb3",{get:function(){return this._bomb3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bomb4",{get:function(){return this._bomb4},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bomb5",{get:function(){return this._bomb5},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bomb6",{get:function(){return this._bomb6},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bomb7",{get:function(){return this._bomb7},enumerable:!0,configurable:!0}),e}(PIXI.Container),c=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite(_.BATTLE_MAIN.getTexture(32));return i.x=-90,i.y=-113,e.addChild(i),e}return n(e,t),e}(s.Container),h=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite(_.BATTLE_MAIN.getTexture(33));return i.x=-74,i.y=-107,e.addChild(i),e}return n(e,t),e}(s.Container),p=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite(_.BATTLE_MAIN.getTexture(34));return i.x=-60,i.y=-45,e.addChild(i),e}return n(e,t),e}(s.Container),d=function(t){function e(){var e=t.call(this)||this,i=new PIXI.Sprite(_.BATTLE_MAIN.getTexture(35));return i.x=-26,i.y=-39,e.addChild(i),e}return n(e,t),e}(s.Container)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("battle_jin_"+t)}t.getTexture=e}(e.BATTLE_JIN||(e.BATTLE_JIN={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(8),s=i(20),a=i(6),_=i(44),l=i(460),u=i(1376),c=i(65),h=function(t){function e(e,i,n,o,r){var s=t.call(this,i,n,o,r,!1)||this;return s._layer=e,s._friend=s._attacker.friend,s}return n(e,t),e.prototype._start=function(){var t=this,e=this._friend?1:-1;this._canvas=new u.CutinKuboDayCanvas,this._canvas.bg.alpha=0;var i=this._attacker.mst_id,n=this._attacker.isDamaged(),r=o.default.resources.getShip(i,n,"full"),l=new PIXI.Sprite(r),c=new _.ShipFlash(r),h=o.default.model.ship_graph.get(i).getBattleOffset(n);l.position.set(h.x,h.y),c.position.set(h.x,h.y),this._canvas.chara.alpha=0,this._canvas.chara.x=(this._friend?0:600)-54,this._canvas.chara.y=615,this._canvas.chara.addChild(l),this._canvas.chara.addChild(c),this._canvas.plane1.position.set(600-917*e,387),this._canvas.plane1.initialize(this._slot_mst_id1,this._friend);var p=0,d=this._attacker.slots;if(null!=d&&d.length>0&&null!=d[0]){var f=d[0].mst_id;f==this._slot_mst_id1?p=1:f==this._slot_mst_id2?p=2:f==this._slot_mst_id3&&(p=3)}var y,m=new s.TweenTask;this._canvas.bar1.initialize(this._slot_mst_id1,this._friend),y=1==p?1300:1600,m.addTweens(this._canvas.bar1.createTween(y)),this._canvas.bar2.initialize(this._slot_mst_id2,this._friend),y=2==p?1300:1600,m.addTweens(this._canvas.bar2.createTween(y)),this._canvas.bar3.initialize(this._slot_mst_id3,this._friend),y=3==p?1300:1600,m.addTweens(this._canvas.bar3.createTween(y)),m.start(function(){var e=new s.TweenTask;e.addTweens(t._canvas.bar1.createTween2(1300)),e.addTweens(t._canvas.bar2.createTween2(1300)),e.addTweens(t._canvas.bar3.createTween2(1300)),e.start()}),this._layer.addChild(this._canvas),createjs.Tween.get(this._canvas.bg).to({alpha:1},250),createjs.Tween.get(this._canvas.chara).to({y:-87,alpha:1},500).wait(700).call(function(){c.play()}).wait(100).wait(1500).call(function(){c.play()}).wait(100).call(function(){null!=t._cb_onAttack&&t._cb_onAttack()}).wait(100).to({y:-351,alpha:0},500),createjs.Tween.get(this._canvas.plane1).wait(300).call(function(){t._canvas.plane1.activate()}).to({x:600-38*e},400).wait(700).to({x:600+863*e},400).call(function(){t._canvas.plane1.deactivate()}),createjs.Tween.get(null).wait(750).call(function(){a.SE.play("105")}).wait(250).call(function(){a.SE.play("109")}).wait(600).call(function(){a.SE.play("105")}).wait(200).call(function(){a.SE.play("109")}),this._anim2()},e.prototype._anim2=function(){var t=this,e=new c.IntensiveLines;e.initialize(),e.alpha=0,this._layer.addChild(e),createjs.Tween.get(e).wait(3100).call(function(){e.activate()}).to({alpha:1},200).wait(300).to({alpha:0},300);var i=new r.AreaBox(1,16777215);i.alpha=0,this._layer.addChild(i),createjs.Tween.get(i).wait(3100).to({alpha:1},500).call(function(){t._layer.removeChild(t._canvas)}).to({alpha:0},300).call(function(){t._layer.removeChild(e),t._layer.removeChild(i),t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._canvas=null,t.prototype._endTask.call(this)},e}(l.CutinKuboBase);e.CutinKuboDay=h},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(13),s=i(24),a=function(t){function e(e,i,n,o,r){var s=t.call(this)||this;return s._attacker=e,s._slot_mst_id1=i,s._slot_mst_id2=n,s._slot_mst_id3=o,s._night=r,s}return n(e,t),e.prototype._start=function(){this._loadShipImage()},e.prototype._loadShipImage=function(){var t=this,e=new r.ShipLoader;e.add(this._attacker.mst_id,this._attacker.isDamaged(),"full"),e.load(function(){t._loadSlotTextImage()})},e.prototype._loadSlotTextImage=function(){var t=this,e=new s.SlotLoader;this._slot_mst_id1>0&&(e.add(this._slot_mst_id1,"item_up"),1==this._night&&e.add(this._slot_mst_id1,"btxt_flat")),this._slot_mst_id2>0&&(e.add(this._slot_mst_id2,"item_up"),1==this._night&&e.add(this._slot_mst_id2,"btxt_flat")),this._slot_mst_id3>0&&(e.add(this._slot_mst_id3,"item_up"),1==this._night&&e.add(this._slot_mst_id3,"btxt_flat")),e.load(function(){t._endTask()})},e}(o.TaskBase);e.PreloadCutinKubo=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(17),s=i(16),a=i(143),_=i(184),l=function(t){function e(){var e=t.call(this)||this;return e._bg=new r.FadeBox(.7,8900331),e._bg.hide(0),e.addChild(e._bg),e._chara=new PIXI.Container,e.addChild(e._chara),e._bar1=new u,e._bar1.position.set(600,183),e.addChild(e._bar1),e._bar2=new u,e._bar2.position.set(600,392),e.addChild(e._bar2),e._bar3=new u,e._bar3.position.set(600,600),e.addChild(e._bar3),e._plane1=new a.Plane(.88),e.addChild(e._plane1),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chara",{get:function(){return this._chara},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bar1",{get:function(){return this._bar1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bar2",{get:function(){return this._bar2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bar3",{get:function(){return this._bar3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plane1",{get:function(){return this._plane1},enumerable:!0,configurable:!0}),e}(PIXI.Container);e.CutinKuboDayCanvas=l;var u=function(t){function e(){var e=t.call(this)||this;e._mst_id=0,e._bg=new _.TelopBG,e.addChild(e._bg),e._plane_canvas=new PIXI.Sprite,e.addChild(e._plane_canvas);var i=new PIXI.Graphics;return i.beginFill(16711680,.5),i.drawRect(-600,-71,1200,141),i.endFill(),e._plane_canvas.addChild(i),e._plane_canvas.mask=i,e._plane=new a.Plane(.85),e._plane.alpha=0,e._plane_canvas.addChild(e._plane),e._icon=new c,e._icon.y=72,e._icon.alpha=0,e.addChild(e._icon),e}return n(e,t),e.prototype.initialize=function(t,e){this._mst_id=t,this._friend=e,this._bg.initialize(e,!0),1==e?(this._bg.x=1500,this._plane.x=-600,this._icon.x=677):(this._bg.x=-1500,this._plane.x=600,this._icon.x=-677),this._plane.initialize(t,e),this._icon.initialize(t)},e.prototype.createTween=function(t){var e=[];return this._mst_id<=0?e:(e.push(createjs.Tween.get(this._bg).wait(t).to({x:this._friend?780:-780},300),createjs.Tween.get(this._plane).wait(t).to({x:this._friend?386:-386,alpha:1},250),createjs.Tween.get(this._icon).wait(t).to({x:this._friend?96:-96,alpha:1},200)),e)},e.prototype.createTween2=function(t){var e=[];return e.push(createjs.Tween.get(this._plane).wait(t).to({scaleX:1.5,scaleY:1.5},500)),e},e}(PIXI.Container),c=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite,e._img.scale.set(.75),e.addChild(e._img),e}return n(e,t),e.prototype.initialize=function(t){this._img.texture=this._getTexture(t),this._img.x=-Math.round(this._img.width/2),this._img.y=-Math.round(this._img.height)},e.prototype._getTexture=function(t){var e=o.default.model.slot.getMst(t);if(null==e)return PIXI.Texture.EMPTY;switch(e.equipType){case 6:return s.BATTLE_MAIN.getTexture(69);case 7:return s.BATTLE_MAIN.getTexture(70);case 8:return s.BATTLE_MAIN.getTexture(71);default:return PIXI.Texture.EMPTY}},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(8),s=i(20),a=i(6),_=i(44),l=i(460),u=i(1378),c=i(65),h=function(t){function e(e,i,n,o,r){var s=t.call(this,i,n,o,r,!0)||this;return s._layer=e,s._friend=s._attacker.friend,s}return n(e,t),e.prototype._start=function(){var t=this,e=this._friend?1:-1;this._canvas=new u.CutinKuboNightCanvas,this._canvas.bg.alpha=0;var i=this._attacker.mst_id,n=this._attacker.isDamaged(),r=o.default.resources.getShip(i,n,"full"),l=new PIXI.Sprite(r),c=new _.ShipFlash(r),h=o.default.model.ship_graph.get(i).getBattleOffset(n);l.position.set(h.x,h.y),c.position.set(h.x,h.y),this._canvas.chara.addChild(l),this._canvas.chara.addChild(c),this._canvas.chara.alpha=0,this._canvas.chara.x=(this._friend?0:600)-54,this._canvas.chara.y=615,this._canvas.plane1.position.set(600-917*e,387),this._canvas.plane1.initialize(this._slot_mst_id1,this._friend);var p,d=new s.TweenTask;this._canvas.bar1.initialize(this._slot_mst_id1,this._friend),p=1600,d.addTweens(this._canvas.bar1.createTween(p)),this._canvas.bar2.initialize(this._slot_mst_id2,this._friend),p=1600,d.addTweens(this._canvas.bar2.createTween(p)),this._canvas.bar3.initialize(this._slot_mst_id3,this._friend),p=1600,d.addTweens(this._canvas.bar3.createTween(p)),d.start(function(){var e=new s.TweenTask;e.addTweens(t._canvas.bar1.createTween2(1300)),e.addTweens(t._canvas.bar2.createTween2(1300)),e.addTweens(t._canvas.bar3.createTween2(1300)),e.start()}),this._layer.addChild(this._canvas),createjs.Tween.get(this._canvas.bg).to({alpha:1},250),createjs.Tween.get(this._canvas.chara).to({y:-87,alpha:1},500).wait(700).call(function(){c.play()}).wait(100).wait(1500).call(function(){c.play()}).wait(100).call(function(){null!=t._cb_onAttack&&t._cb_onAttack()}).wait(100).to({y:-351,alpha:0},500),createjs.Tween.get(this._canvas.plane1).wait(300).call(function(){t._canvas.plane1.activate()}).to({x:600-38*e},400).wait(700).to({x:600+863*e},400).call(function(){t._canvas.plane1.deactivate()}),createjs.Tween.get(null).wait(750).call(function(){a.SE.play("105")}).wait(250).call(function(){a.SE.play("109")}).wait(600).call(function(){a.SE.play("105")}).wait(200).call(function(){a.SE.play("109")}),this._anim2()},e.prototype._anim2=function(){var t=this,e=new c.IntensiveLines;e.initialize(),e.alpha=0,this._layer.addChild(e),createjs.Tween.get(e).wait(3100).call(function(){e.activate()}).to({alpha:1},200).wait(300).to({alpha:0},300);var i=new r.AreaBox(1,16777215);i.alpha=0,this._layer.addChild(i),createjs.Tween.get(i).wait(3100).to({alpha:1},500).call(function(){t._layer.removeChild(t._canvas)}).to({alpha:0},300).call(function(){t._layer.removeChild(e),t._layer.removeChild(i),t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._canvas=null,t.prototype._endTask.call(this)},e}(l.CutinKuboBase);e.CutinKuboNight=h},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(17),s=i(143),a=i(184),_=function(t){function e(){var e=t.call(this)||this;return e._bg=new r.FadeBox(.7,8900331),e._bg.hide(0),e.addChild(e._bg),e._chara=new PIXI.Container,e.addChild(e._chara),e._bar1=new l,e._bar1.position.set(600,183),e.addChild(e._bar1),e._bar2=new l,e._bar2.position.set(600,392),e.addChild(e._bar2),e._bar3=new l,e._bar3.position.set(600,600),e.addChild(e._bar3),e._plane1=new s.Plane(.88),e.addChild(e._plane1),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chara",{get:function(){return this._chara},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bar1",{get:function(){return this._bar1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bar2",{get:function(){return this._bar2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bar3",{get:function(){return this._bar3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plane1",{get:function(){return this._plane1},enumerable:!0,configurable:!0}),e}(PIXI.Container);e.CutinKuboNightCanvas=_;var l=function(t){function e(){var e=t.call(this)||this;e._mst_id=0,e._bg=new a.TelopBG,e.addChild(e._bg),e._plane_canvas=new PIXI.Sprite,e.addChild(e._plane_canvas);var i=new PIXI.Graphics;return i.beginFill(16711680,.5),i.drawRect(-600,-71,1200,141),i.endFill(),e._plane_canvas.addChild(i),e._plane_canvas.mask=i,e._plane=new s.Plane(.9),e._plane.alpha=0,e._plane_canvas.addChild(e._plane),e._name=new PIXI.Sprite,e._name.scale.set(.56),e._name.alpha=0,e.addChild(e._name),e}return n(e,t),e.prototype.initialize=function(t,e){this._mst_id=t,this._friend=e,this._plane.initialize(t,e),this._name.texture=o.default.resources.getSlotitem(t,"btxt_flat"),this._name.y=-Math.round(this._name.height/2),this._bg.initialize(e,!1),1==e?(this._bg.x=1500,this._plane.x=-600,this._name.x=600):(this._bg.x=-1500,this._plane.x=600,this._name.x=-600-this._name.width)},e.prototype.createTween=function(t){var e=[];return this._mst_id<=0?e:(e.push(createjs.Tween.get(this._bg).wait(t).to({x:0},300),createjs.Tween.get(this._plane).wait(t).to({x:this._friend?311:-311,alpha:1},250),createjs.Tween.get(this._name).wait(t).to({x:this._friend?-570:570-this._name.width,alpha:1},200)),e)},e.prototype.createTween2=function(t){var e=[];return e.push(createjs.Tween.get(this._plane).wait(t).to({scaleX:1.5,scaleY:1.5},500)),e},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(12),a=i(16),_=i(13),l=i(1380),u=function(t){function e(e){var i=t.call(this)||this;i._preAnim=function(){for(var t=0;t<i._canvas.chara.length;t++)i._canvas.chara[t].alpha=0;i._nelson.texture=o.default.resources.getShip(i._attackers[0].mst_id,!1,"special"),i._nelson.position.set(-117,208),i._nelson.alpha=0;for(var t=0;t<i._attackers.length;t++){var e=i._attackers[t].mst_id,n=0!=t&&i._attackers[t].isDamaged(),r=o.default.model.ship_graph.get(e).getBattleOffset(n);i._ships[t].texture=o.default.resources.getShip(e,n,"full"),i._ships[t].position.set(r.x,r.y),i._canvas.chara[t].addChild(i._ships[t]),i._canvas.chara[t].position.set(0-i._ships[t].width,720+i._ships[t].height)}i._canvas.chara[0].addChild(i._nelson),i._anim1()},i._anim2=function(){createjs.Tween.get(null).wait(500).call(function(){createjs.Tween.get(i._ships[0]).to({alpha:0},400),createjs.Tween.get(i._nelson).to({alpha:1},400);var t=i._createSmoke(76,981,240);i._canvas.explosion.addChild(t),t.createTweens(700,null);var e=i._createSmoke(77,752,192);i._canvas.explosion.addChild(e),e.createTweens(800,null);var n=i._createSmoke(78,480,321);i._canvas.explosion.addChild(n),n.createTweens(900,i._anim3)})},i._anim3=function(){createjs.Tween.get(i._canvas.chara[0]).wait(400).to({x:307,y:-240,alpha:1},300),createjs.Tween.get(i._canvas.chara[1]).wait(450).to({x:65,y:-65,alpha:1},500),createjs.Tween.get(i._canvas.chara[2]).wait(500).to({x:-323,y:34,alpha:1},500).call(function(){i._anim4()})},i._anim4=function(){createjs.Tween.get(i._canvas.chara[0]).wait(500).call(function(){createjs.Tween.get(i._canvas.chara[0]).to({alpha:0},500),createjs.Tween.get(i._canvas.chara[1]).to({alpha:0},500),createjs.Tween.get(i._canvas.chara[2]).to({alpha:0},500)}).wait(600).call(function(){i._endTask()})},i._attackers=e,i._canvas=new l.CutinNelsonTouchCanvas,i._view=new PIXI.Container,i.view.addChild(i._canvas),i._nelson=new PIXI.Sprite,i._ships=[];for(var n=0;n<i._attackers.length;n++)i._ships.push(new PIXI.Sprite);return i._preload_task=new c(e),i}return n(e,t),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0}),e.prototype.getPreloadTask=function(){return this._preload_task},e.prototype._start=function(){var t=this;this._preload_task.start(function(){t._preAnim()})},e.prototype._anim1=function(){for(var t=0;t<this._canvas.chara.length;t++)this._canvas.chara[t].alpha=0;o.default.sound.voice.play(this._attackers[0].mst_id.toString(),900),createjs.Tween.get(this._canvas.chara[0]).to({x:-140,y:-142,alpha:1},600).call(this._anim2)},e.prototype._createSmoke=function(t,e,i){var n=new h;return n.initialize(t),n.x=e,n.y=i,n},e.prototype._endTask=function(){this._canvas.dispose(),this._view.removeChildren(),null!=this._view.parent&&this._view.parent.removeChild(this._view),this._attackers=null,this._view=null,this._canvas=null,this._ships=null,this._nelson=null,this._preload_task=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.CutinNelsonTouch=u;var c=function(t){function e(e){var i=t.call(this)||this;return i._attackers=e,i}return n(e,t),e.prototype._start=function(){this._loadShipImage()},e.prototype._loadShipImage=function(){var t=this,e=new _.ShipLoader;e.add(this._attackers[0].mst_id,!1,"full"),e.add(this._attackers[0].mst_id,!1,"special");for(var i=1;i<this._attackers.length;i++)e.add(this._attackers[i].mst_id,this._attackers[i].isDamaged(),"full");e.load(function(){t._endTask()})},e}(r.TaskBase);e.PreloadCutinNelsonTouch=c;var h=function(t){function e(){var e=t.call(this)||this;return e._img=new s.Sprite,e._img.anchor.set(.35,.8),e._img.scale.set(0),e.addChild(e._img),e}return n(e,t),e.prototype.initialize=function(t){this._img.texture=a.BATTLE_MAIN.getTexture(t)},e.prototype.createTweens=function(t,e){createjs.Tween.get(this._img).wait(t).to({scaleX:1.2,scaleY:1.2},300).to({scaleX:1.5,scaleY:1.5,alpha:0},600).call(function(){e&&e()})},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var e=t.call(this)||this;e._chara=[];for(var i=0;i<3;i++){var n=new PIXI.Container;e._chara.push(n),e.addChild(n)}return e._explosion=new PIXI.Container,e.addChild(e._explosion),e}return n(e,t),Object.defineProperty(e.prototype,"chara",{get:function(){return this._chara},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"explosion",{get:function(){return this._explosion},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){},e.prototype.dispose=function(){for(var t=0;t<3;t++)this._chara[t].removeChildren(),this._chara[t]=null;this._explosion.removeChildren(),this.removeChildren(),this._chara=null,this._explosion=null},e}(PIXI.Container);e.CutinNelsonTouchCanvas=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(2),a=i(12),_=i(16),l=i(13),u=i(1382),c=function(t){function e(e){var i=t.call(this)||this;i._preAnim=function(){for(var t=0;t<i._canvas.chara.length;t++)i._canvas.chara[t].alpha=0;i._nagato.texture=r.default.resources.getShip(i._attackers[0].mst_id,!1,"special"),i._nagato.position.set(-240,160),i._nagato.alpha=0;for(var t=0;t<i._attackers.length;t++){var e=i._attackers[t].mst_id,n=0!=t&&i._attackers[t].isDamaged();if(0==t){i._ships[t].texture=r.default.resources.getShip(e,n,"full");var s=r.default.model.ship_graph.get(e).getBattleOffset(n);i._ships[t].position.set(s.x,s.y),i._canvas.chara[t].position.set(-1e3,-134)}else if(1==t&&573==i._attackers[t].mst_id&&0==n)i._ships[t].texture=r.default.resources.getShip(e,!1,"special"),i._ships[t].position.set(67,138),i._canvas.chara[t].position.set(-800,0);else{i._ships[t].texture=r.default.resources.getShip(e,n,"full");var a=r.default.model.ship_graph.get(e).getFaceRect(n);i._ships[t].position.set(o.default.width/2-(a.x+a.width/2),o.default.height/2-(a.y+a.height/2)),i._canvas.chara[t].position.set(0-i._ships[t].width,-108)}i._canvas.chara[t].addChild(i._ships[t])}i._canvas.chara[0].addChild(i._nagato),i._anim1()},i._anim2=function(){createjs.Tween.get(null).wait(500).call(function(){createjs.Tween.get(i._ships[0]).to({alpha:0},400),createjs.Tween.get(i._nagato).to({alpha:1},400);var t=i._createSmoke(77,1068,440);i._canvas.explosion.addChild(t),t.createTweens(700,null);var e=i._createSmoke(78,930,616);i._canvas.explosion.addChild(e),e.createTweens(800,null);var n=i._createSmoke(76,65,506);i._canvas.explosion.addChild(n),n.createTweens(900,i._anim3)})},i._anim3=function(){createjs.Tween.get(i._canvas.chara[0]).wait(400).to({x:-10,alpha:1},300),createjs.Tween.get(i._canvas.chara[1]).wait(450).to({x:-455,alpha:1},400).call(function(){i._anim4()})},i._anim4=function(){createjs.Tween.get(i._canvas.chara[0]).wait(500).call(function(){createjs.Tween.get(i._canvas.chara[0]).to({alpha:0},500),createjs.Tween.get(i._canvas.chara[1]).to({alpha:0},500)}).wait(600).call(function(){i._endTask()})},i._attackers=e,i._canvas=new u.CutinNagatoAttackCanvas,i._view=new PIXI.Container,i.view.addChild(i._canvas),i._nagato=new PIXI.Sprite,i._ships=[];for(var n=0;n<i._attackers.length;n++)i._ships.push(new PIXI.Sprite);return i._preload_task=new h(e),i}return n(e,t),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0}),e.prototype.getPreloadTask=function(){return this._preload_task},e.prototype._start=function(){var t=this;this._preload_task.start(function(){t._preAnim()})},e.prototype._anim1=function(){for(var t=0;t<this._canvas.chara.length;t++)this._canvas.chara[t].alpha=0;this._attackers.length>=2&&573==this._attackers[1].mst_id?r.default.sound.voice.play(this._attackers[0].mst_id.toString(),902):this._attackers.length>=2&&(81==this._attackers[1].mst_id||276==this._attackers[1].mst_id)?r.default.sound.voice.play(this._attackers[0].mst_id.toString(),901):this._attackers.length>=2&&"\u30cd\u30eb\u30bd\u30f3"==this._attackers[1].yomi?r.default.sound.voice.play(this._attackers[0].mst_id.toString(),903):r.default.sound.voice.play(this._attackers[0].mst_id.toString(),900),createjs.Tween.get(this._canvas.chara[0]).to({x:-159,alpha:1},600).call(this._anim2)},e.prototype._createSmoke=function(t,e,i){var n=new p;return n.initialize(t),n.x=e,n.y=i,n},e.prototype._endTask=function(){this._canvas.dispose(),this._view.removeChildren(),null!=this._view.parent&&this._view.parent.removeChild(this._view),this._attackers=null,this._view=null,this._canvas=null,this._ships=null,this._nagato=null,this._preload_task=null,t.prototype._endTask.call(this)},e}(s.TaskBase);e.CutinNagatoAttack=c;var h=function(t){function e(e){var i=t.call(this)||this;return i._attackers=e,i}return n(e,t),e.prototype._start=function(){this._loadShipImage()},e.prototype._loadShipImage=function(){var t=this,e=new l.ShipLoader;e.add(this._attackers[0].mst_id,!1,"full"),e.add(this._attackers[0].mst_id,!1,"special");for(var i=1;i<this._attackers.length;i++){var n=this._attackers[i].isDamaged();1==i&&573==this._attackers[i].mst_id&&0==n?e.add(this._attackers[i].mst_id,n,"special"):e.add(this._attackers[i].mst_id,n,"full")}e.load(function(){t._endTask()})},e}(s.TaskBase);e.PreloadCutinNagatoAttack=h;var p=function(t){function e(){var e=t.call(this)||this;return e._img=new a.Sprite,e._img.anchor.set(.35,.8),e._img.scale.set(0),e.addChild(e._img),e}return n(e,t),e.prototype.initialize=function(t){this._img.texture=_.BATTLE_MAIN.getTexture(t)},e.prototype.createTweens=function(t,e){createjs.Tween.get(this._img).wait(t).to({scaleX:1.2,scaleY:1.2},300).to({scaleX:1.5,scaleY:1.5,alpha:0},600).call(function(){e&&e()})},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var e=t.call(this)||this;e._chara=[];for(var i=0;i<2;i++){var n=new PIXI.Container;e._chara.push(n),e.addChild(n)}return e._explosion=new PIXI.Container,e.addChild(e._explosion),e}return n(e,t),Object.defineProperty(e.prototype,"chara",{get:function(){return this._chara},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"explosion",{get:function(){return this._explosion},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){for(var t=0;t<2;t++)this._chara[t].removeChildren(),this._chara[t]=null;this._explosion.removeChildren(),this.removeChildren(),this._chara=null,this._explosion=null},e}(PIXI.Container);e.CutinNagatoAttackCanvas=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(2),a=i(12),_=i(16),l=i(13),u=i(1384),c=function(t){function e(e){var i=t.call(this)||this;i._preAnim=function(){for(var t=0;t<i._canvas.chara.length;t++)i._canvas.chara[t].alpha=0;i._mutsu.texture=r.default.resources.getShip(i._attackers[0].mst_id,!1,"special"),i._mutsu.position.set(-99,170),i._mutsu.alpha=0;for(var t=0;t<i._attackers.length;t++){var e=i._attackers[t].mst_id,n=0!=t&&i._attackers[t].isDamaged();if(0==t){i._ships[t].texture=r.default.resources.getShip(e,n,"full");var s=r.default.model.ship_graph.get(e).getBattleOffset(n);i._ships[t].position.set(s.x,s.y),i._canvas.chara[t].position.set(-1e3,-133)}else if(1==t&&541==i._attackers[t].mst_id&&0==n)i._ships[t].texture=r.default.resources.getShip(e,!1,"special"),i._ships[t].position.set(-90,120),i._canvas.chara[t].position.set(-700,0);else{i._ships[t].texture=r.default.resources.getShip(e,n,"full");var a=r.default.model.ship_graph.get(e).getFaceRect(n);i._ships[t].position.set(o.default.width/2-(a.x+a.width/2),o.default.height/2-(a.y+a.height/2)),i._canvas.chara[t].position.set(0-i._ships[t].width,-108)}i._canvas.chara[t].addChild(i._ships[t])}i._canvas.chara[0].addChild(i._mutsu),i._anim1()},i._anim2=function(){createjs.Tween.get(null).wait(500).call(function(){createjs.Tween.get(i._ships[0]).to({alpha:0},400),createjs.Tween.get(i._mutsu).to({alpha:1},400);var t=i._createSmoke(76,1040,600);i._canvas.explosion.addChild(t),t.createTweens(900,null);var e=i._createSmoke(78,855,490);i._canvas.explosion.addChild(e),e.createTweens(850,null);var n=i._createSmoke(77,382,705);i._canvas.explosion.addChild(n),n.createTweens(800,null);var o=i._createSmoke(78,165,520);i._canvas.explosion.addChild(o),o.createTweens(750,i._anim3)})},i._anim3=function(){createjs.Tween.get(i._canvas.chara[0]).wait(400).to({x:-10,alpha:1},300),createjs.Tween.get(i._canvas.chara[1]).wait(450).to({x:-455,alpha:1},400).call(function(){i._anim4()})},i._anim4=function(){createjs.Tween.get(i._canvas.chara[0]).wait(500).call(function(){createjs.Tween.get(i._canvas.chara[0]).to({alpha:0},500),createjs.Tween.get(i._canvas.chara[1]).to({alpha:0},500)}).wait(600).call(function(){i._endTask()})},i._attackers=e,i._canvas=new u.CutinMutsuAttackCanvas,i._view=new PIXI.Container,i.view.addChild(i._canvas),i._mutsu=new PIXI.Sprite,i._ships=[];for(var n=0;n<i._attackers.length;n++)i._ships.push(new PIXI.Sprite);return i._preload_task=new h(e),i}return n(e,t),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0}),e.prototype.getPreloadTask=function(){return this._preload_task},e.prototype._start=function(){var t=this;this._preload_task.start(function(){t._preAnim()})},e.prototype._anim1=function(){for(var t=0;t<this._canvas.chara.length;t++)this._canvas.chara[t].alpha=0;this._attackers.length>=2&&541==this._attackers[1].mst_id?r.default.sound.voice.play(this._attackers[0].mst_id.toString(),902):this._attackers.length>=2&&(80==this._attackers[1].mst_id||275==this._attackers[1].mst_id)?r.default.sound.voice.play(this._attackers[0].mst_id.toString(),901):r.default.sound.voice.play(this._attackers[0].mst_id.toString(),900),createjs.Tween.get(this._canvas.chara[0]).to({x:-175,alpha:1},600).call(this._anim2)},e.prototype._createSmoke=function(t,e,i){var n=new p;return n.initialize(t),n.x=e,n.y=i,n},e.prototype._endTask=function(){this._canvas.dispose(),this._view.removeChildren(),null!=this._view.parent&&this._view.parent.removeChild(this._view),this._attackers=null,this._view=null,this._canvas=null,this._ships=null,this._mutsu=null,this._preload_task=null,t.prototype._endTask.call(this)},e}(s.TaskBase);e.CutinMutsuAttack=c;var h=function(t){function e(e){var i=t.call(this)||this;return i._attackers=e,i}return n(e,t),e.prototype._start=function(){this._loadShipImage()},e.prototype._loadShipImage=function(){var t=this,e=new l.ShipLoader;e.add(this._attackers[0].mst_id,!1,"full"),e.add(this._attackers[0].mst_id,!1,"special");for(var i=1;i<this._attackers.length;i++){var n=this._attackers[i].isDamaged();1==i&&541==this._attackers[i].mst_id&&0==n?e.add(this._attackers[i].mst_id,!1,"special"):e.add(this._attackers[i].mst_id,n,"full")}e.load(function(){t._endTask()})},e}(s.TaskBase);e.PreloadCutin=h;var p=function(t){function e(){var e=t.call(this)||this;return e._img=new a.Sprite,e._img.anchor.set(.35,.8),e._img.scale.set(0),e.addChild(e._img),e}return n(e,t),e.prototype.initialize=function(t){this._img.texture=_.BATTLE_MAIN.getTexture(t)},e.prototype.createTweens=function(t,e){createjs.Tween.get(this._img).wait(t).to({scaleX:1.2,scaleY:1.2},300).to({scaleX:1.5,scaleY:1.5,alpha:0},600).call(function(){e&&e()})},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var e=t.call(this)||this;e._chara=[];for(var i=0;i<2;i++){var n=new PIXI.Container;e._chara.push(n),e.addChild(n)}return e._explosion=new PIXI.Container,e.addChild(e._explosion),e}return n(e,t),Object.defineProperty(e.prototype,"chara",{get:function(){return this._chara},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"explosion",{get:function(){return this._explosion},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){for(var t=0;t<2;t++)this._chara[t].removeChildren(),this._chara[t]=null;this._explosion.removeChildren(),this.removeChildren(),this._chara=null,this._explosion=null},e}(PIXI.Container);e.CutinMutsuAttackCanvas=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(2),a=i(12),_=i(6),l=i(16),u=i(13),c=i(1386),h=i(8),p=function(t){function e(e){var i=t.call(this)||this;i._preAnim=function(){r.default.sound.voice.play(i._attackers[0].mst_id.toString(),900),i._mainShip.texture=r.default.resources.getShip(i._attackers[0].mst_id,!1,"special"),i._mainShip.position.set(680,450),i._mainShip.anchor.set(.5),i._mainShip.alpha=0;for(var t=0;t<i._attackers.length;t++){var e=i._attackers[t].mst_id,n=r.default.model.ship_graph.get(e).getFaceRect(!1);i._ships[t].texture=r.default.resources.getShip(e,!1,"full");var o=i._ships[t].texture.baseTexture.width/2,s=i._ships[t].texture.baseTexture.height/2;i._ships[t].position.set(600-(n.x+n.width/2)+o,100-n.y+s),i._ships[t].scale.set(2),i._ships[t].anchor.set(.5),i._ships[t].alpha=0}i._ships[0].position.set(590,497),i._canvas.chara[0].addChild(i._ships[1]),i._canvas.chara[1].addChild(i._ships[2]),i._canvas.chara[2].addChild(i._ships[0]),i._canvas.chara[2].addChild(i._mainShip),i._anim1()},i._anim2=function(){createjs.Tween.get(i._ships[2]).to({scaleX:1,scaleY:1,alpha:1},400).call(function(){createjs.Tween.get(i._canvas.chara[1]).call(function(){_.SE.play("103"),i._setPaSmokePos(i._attackers[2].mst_id,i._ships[2]),i._paSmoke.createTweens()}).to({x:-50},50).to({x:0},50).wait(200).call(function(){createjs.Tween.get(i._ships[2]).to({scaleX:.85,scaleY:.85},300),createjs.Tween.get(i._canvas.chara[1]).to({x:350,y:-50},300).call(function(){i._anim3()})})})},i._anim3=function(){createjs.Tween.get(i._ships[0]).to({scaleX:1,scaleY:1,alpha:1},400).call(function(){createjs.Tween.get(i._canvas.chara[0]).to({alpha:0},300),createjs.Tween.get(i._canvas.chara[1]).to({alpha:0},300),_.SE.play("209"),createjs.Tween.get(i._ships[0]).to({alpha:0},500),createjs.Tween.get(i._mainShip).to({alpha:1},500).wait(500).call(function(){i._anim4()})})},i._anim4=function(){createjs.Tween.get(i._mainShip).call(function(){_.SE.play("103"),i._coloradoSmokes[1].createTweens(),i._coloradoSmokes[2].createTweens()}).to({x:427,y:506,scaleX:.8,scaleY:.8},50).to({x:457,y:476},50).wait(100).call(function(){_.SE.play("103"),i._coloradoSmokes[0].createTweens(),i._coloradoSmokes[3].createTweens()}).to({x:427,y:506},50).to({x:457,y:476},50).call(function(){_.SE.play("104")}).wait(200).call(function(){createjs.Tween.get(i._white).to({alpha:1},200).to({alpha:0},200)}).wait(500).to({alpha:0},600).call(function(){i._endTask()})},i._attackers=e,i._canvas=new c.CutinColoradoAttackCanvas,i._view=new PIXI.Container,i.view.addChild(i._canvas),i._mainShip=new a.Sprite,i._ships=[];for(var n=0;n<i._attackers.length;n++)i._ships.push(new a.Sprite);i._coloradoSmokes=[],i._coloradoSmokes[0]=i._createSmoke(78,10,248),i._coloradoSmokes[1]=i._createSmoke(76,972,250),i._coloradoSmokes[2]=i._createSmoke(77,77,680),i._coloradoSmokes[3]=i._createSmoke(76,980,600),i._paSmoke=i._createSmoke(76,600,360);for(var n=0;n<4;n++)i._canvas.explosion.addChild(i._coloradoSmokes[n]);return i._canvas.explosion.addChild(i._paSmoke),i._white=new h.AreaBox(1,16777215),i._white.alpha=0,i._canvas.addChild(i._white),i._preload_task=new d(e),i}return n(e,t),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0}),e.prototype.getPreloadTask=function(){return this._preload_task},e.prototype._start=function(){var t=this;this._preload_task.start(function(){t._preAnim()})},e.prototype._anim1=function(){var t=this;createjs.Tween.get(this._ships[1]).to({scaleX:1,scaleY:1,alpha:1},400).call(function(){createjs.Tween.get(t._canvas.chara[0]).call(function(){_.SE.play("103"),t._setPaSmokePos(t._attackers[1].mst_id,t._ships[1]),t._paSmoke.createTweens()}).to({x:-50},50).to({x:0},50).wait(200).call(function(){createjs.Tween.get(t._ships[1]).to({scaleX:.85,scaleY:.85},300),createjs.Tween.get(t._canvas.chara[0]).to({x:-350,y:-50},300).call(function(){t._anim2()})})})},e.prototype._createSmoke=function(t,e,i){var n=new f;return n.initialize(t),n.x=e,n.y=i,n},e.prototype._setPaSmokePos=function(t,e){var i=r.default.model.ship_graph.get(t).getPaOffset(),n=r.default.model.ship_graph.get(t).getFaceRect();this._paSmoke.position.x=e.position.x-e.width/2+n.x+n.width/2+i.x,this._paSmoke.position.y=e.position.y-e.height/2+n.y+n.height/2+i.y,this._paSmoke.position.x>o.default.width/2?this._paSmoke.initialize(76):this._paSmoke.position.y>o.default.height/2&&this._paSmoke.initialize(77),this._paSmoke.initialize(78)},e.prototype._endTask=function(){this._canvas.dispose(),this._view.removeChildren(),null!=this._view.parent&&this._view.parent.removeChild(this._view),this._attackers=null,this._view=null,this._canvas=null,this._ships=null,this._mainShip=null,this._preload_task=null,t.prototype._endTask.call(this)},e}(s.TaskBase);e.CutinColoradoAttack=p;var d=function(t){function e(e){var i=t.call(this)||this;return i._attackers=e,i}return n(e,t),e.prototype._start=function(){this._loadShipImage()},e.prototype._loadShipImage=function(){var t=this,e=new u.ShipLoader;e.add(this._attackers[0].mst_id,!1,"full"),e.add(this._attackers[0].mst_id,!1,"special");for(var i=1;i<this._attackers.length;i++)e.add(this._attackers[i].mst_id,!1,"full");e.load(function(){t._endTask()})},e}(s.TaskBase);e.PreloadCutin=d;var f=function(t){function e(){var e=t.call(this)||this;return e._img=new a.Sprite,e._img.anchor.set(.35,.8),e._img.scale.set(0),e.addChild(e._img),e}return n(e,t),e.prototype.initialize=function(t){this._img.texture=l.BATTLE_MAIN.getTexture(t)},e.prototype.createTweens=function(){this._img.scale.set(0),this._img.alpha=1;createjs.Tween.get(this._img).to({scaleX:2,scaleY:2},300).to({scaleX:2.2,scaleY:2.2,alpha:0},400)},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var e=t.call(this)||this;e._chara=[];for(var i=0;i<3;i++){var n=new PIXI.Container;e._chara.push(n),e.addChild(n)}return e._explosion=new PIXI.Container,e.addChild(e._explosion),e}return n(e,t),Object.defineProperty(e.prototype,"chara",{get:function(){return this._chara},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"explosion",{get:function(){return this._explosion},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){for(var t=0;t<3;t++)this._chara[t].removeChildren(),this._chara[t]=null;this._explosion.removeChildren(),this.removeChildren(),this._chara=null,this._explosion=null},e}(PIXI.Container);e.CutinColoradoAttackCanvas=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(22),s=i(6),a=i(377),_=i(39),l=function(t){function e(e,i,n,s,_,l,u,c){var h=t.call(this,e,i,s,l,u,c)||this;h._onCallAttackEffect=function(){var t=h._getDamage(h._defender),e=h._defenderBanner.getGlobalPos(!0),i=Math.random()*r.BannerSize.W-r.BannerSize.W/2,n=Math.random()*r.BannerSize.H-r.BannerSize.H/2,o=Math.random()*r.BannerSize.W-r.BannerSize.W/2,s=Math.random()*r.BannerSize.H-r.BannerSize.H/2;createjs.Tween.get(null).call(function(){h._defenderBanner.moveAtDamage(h._shield),h._scene.view.layer_explosion.playDamageExplosion(e.x,e.y,t)}).wait(150).call(function(){h._scene.view.layer_explosion.playExplosionSmall(e.x+i,e.y+n)}).wait(100).call(function(){h._scene.view.layer_explosion.playExplosionSmall(e.x+o,e.y+s,function(){h._attack(h._attackerBanner,h._defenderBanner)})})},h._finallize=function(){h._cutin.dispose(),h._cutin=null,h._attackerBanner=null,h._defenderBanner=null,h._endTask()};var p,d,f=h._slot.mstID,y=o.default.model.slot.getMst(_),m=y.mstID,g=new a.CutinZRK(i,f,m),v=i.friend,b=i.index,w=n.index;return v?(p=e.view.bannerGroupLayer.getBanner(!0,b),d=e.view.bannerGroupLayer.getBanner(!1,w)):(p=e.view.bannerGroupLayer.getBanner(!1,b),d=e.view.bannerGroupLayer.getBanner(!0,w)),g.onCallAttackEffect=h._onCallAttackEffect,g.onCallAttackVoice=h._playVoice,h._attackerBanner=p,h._defenderBanner=d,h._cutin=g,h._defender=n,h._debug_slot_mst_id3=_,h}return n(e,t),e.prototype._start=function(){var t=this;this._cutin.getPreloadTask().start(function(){t._completePreload()})},e.prototype._playVoice=function(){if(this._attacker.friend){var t=this._attacker.mst_id;o.default.sound.voice.play(t.toString(),16)}},e.prototype._log=function(t){},e.prototype._completePreload=function(){this._attackerBanner.moveFront(),this._defenderBanner.moveFront(),this._scene.view.layer_cutin.addChild(this._cutin.view),this._cutin.start()},e.prototype._attack=function(t,e){var i=this;s.SE.play("102"),t.attack(function(){i._damageEffect(t,e)})},e.prototype._damageEffect=function(t,e){var i=this;1==this._shield&&this._showShield(e),e.moveAtDamage(this._shield);var n=this._getDamage(this._defender);this._playExplosion(e,n),this._playDamageEffect(t,e,this._defender,n,this._hit,function(){return i._finallize()})},e}(_.PhaseAttackBase);e.PhaseZRK=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(153),s=i(16),a=function(t){function e(){var e=t.call(this)||this;return e._bg=new PIXI.Sprite,e._bg.anchor.set(.5,.5),e._bg.position.set(o.default.width/2,o.default.height/2),e.addChild(e._bg),e._message=new u,e.addChild(e._message),e._banner_top=new _,e.addChild(e._banner_top),e._banner_bottom=new _,e.addChild(e._banner_bottom),e._particles=new l,e.addChild(e._particles),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this._message},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"banner_top",{get:function(){return this._banner_top},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"banner_bottom",{get:function(){return this._banner_bottom},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"particles",{get:function(){return this._particles},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._bg.texture=r.COMMON_EXPEDITION.getTexture(10),this._message.initialize(s.BATTLE_MAIN.getTexture(30)),this._particles.initialize()},e.prototype.dispose=function(){this._bg=null,this._message=null,null!=this._banner_top&&this._banner_top.dispose(),this._banner_top=null,null!=this._banner_bottom&&this._banner_bottom.dispose(),this._banner_bottom=null,null!=this._particles&&this._particles.dispose(),this._particles=null},e}(PIXI.Container);e.SupportDeckCutin=a;var _=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.dispose=function(){this.removeChildren()},e}(PIXI.Container),l=function(t){function e(){var e=t.call(this)||this;return e.XPOS=[-164,-116,-102,-62,-36,0,65,90,141,195,215,270],e.YPOS=[-33,32,-51,-24,48,-3,-47,51,-30,29,-45,-14],e}return n(e,t),e.prototype.initialize=function(){this._particles=new Array;for(var t in this.XPOS){var e=new PIXI.Sprite(r.COMMON_EXPEDITION.getTexture(5));e.anchor.set(.5,.5),e.scale.set(0,0),e.position.set(this.XPOS[t]+o.default.width/2,this.YPOS[t]+o.default.height/2),this.addChild(e),this._particles.push(e)}},e.prototype.startAnim=function(){if(null==this._tweens){this._tweens=[];for(var t=0;t<this._particles.length;t++){var e=this._particles[t],i=createjs.Tween.get(e.scale).wait(100*t).to({x:1,y:1},100).to({x:0,y:0},100);this._tweens.push(i)}}},e.prototype.dispose=function(){for(var t=0,e=this._tweens;t<e.length;t++){e[t].setPaused(!0)}this._tweens=null,this._particles=null,this.removeChildren()},e}(PIXI.Container),u=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite,e.addChild(e._img),e}return n(e,t),e.prototype.initialize=function(t){this._img.texture=t,this._img.x=-Math.round(this._img.width/2),this._img.y=-Math.round(this._img.height/2)},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(94),r=i(76),s=i(1390),a=i(1391),_=i(1419),l=i(1420),u=i(1421),c=i(472),h=i(1422),p=i(1423),d=i(183),f=function(t){function e(e,i,n){var o=t.call(this,e,n)||this;return o._record=i,o}return n(e,t),e.prototype._start=function(){this._opening()},e.prototype._opening=function(){var t=this;new s.PhaseOpening(this.scene,this._record).start(function(){t._allyAttack()})},e.prototype._allyAttack=function(){var t=this;new a.PhaseAllyAttack(this.scene,this._record).start(function(){t._moveShips()})},e.prototype._moveShips=function(){var t=this;new l.PhaseMoveShips(this.scene,this._record).start(function(){t._showTouchPlane()})},e.prototype._showTouchPlane=function(){var t=this,e=this._record.raw.getTouchPlaneFriend(),i=this._record.raw.getTouchPlaneEnemy();new d.TaskShowTouchPlane(this.scene,e,i).start(function(){t._ration()})},e.prototype._ration=function(){var t=this;new o.PhaseRation(this.scene,this._record).start(function(){t._light()})},e.prototype._light=function(){var t=this;new _.PhaseLighting(this.scene,this._record).start(function(){t._support()})},e.prototype._support=function(){var t=this;new u.PhaseSupport(this.scene,this._record).start(function(){t._attack()})},e.prototype._attack=function(){var t=this,e=this._record.raw.hougeki,i=this.scene.data.model.deck_f.ships,n=this.scene.data.model.deck_e.ships;new c.PhaseHougeki(this.scene,e,i,n).start(function(){t._attack1()})},e.prototype._attack1=function(){var t=this,e=this._record.raw.hougeki1,i=this.scene.data.model.deck_f.ships,n=this.scene.data.model.deck_e.ships;new c.PhaseHougeki(this.scene,e,i,n).start(function(){t._attack2()})},e.prototype._attack2=function(){var t=this,e=this._record.raw.hougeki2,i=this.scene.data.model.deck_f.ships,n=this.scene.data.model.deck_e.ships;new c.PhaseHougeki(this.scene,e,i,n).start(function(){t._ending()})},e.prototype._ending=function(){var t=this;new h.PhaseEnding(this.scene,this._record).start(function(){t._dayBattle()})},e.prototype._dayBattle=function(){var t=this;if(1==this._record.raw.hasDayBattle()){var e=this.scene,i=this._record.getDayRecord();new p.PhaseDayFromNight(e,i).start(function(){t._endTask()})}else this._endTask()},e}(r.PhaseCombatBase);e.PhaseNight=f},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(2),a=i(12),_=i(6),l=i(177),u=function(t){function e(e,i){var n=t.call(this)||this;return n._scene=e,n._record=i,n}return n(e,t),Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"record",{get:function(){return this._record},enumerable:!0,configurable:!0}),e.prototype._start=function(){var t=this;this._scene.bg.setNight(function(){t._openShutter()})},e.prototype._openShutter=function(){var t=this,e=this._scene.data.model.deck_f.ships_sub,i=e?e[0]:this._scene.data.model.deck_f.ships[0],n=18;432!=i.mst_id&&353!=i.mst_id||(n=918),r.default.sound.voice.play(i.mst_id.toString(),n),1==this.scene.shutter2.isOpened()?this._showTitle():(this.scene.shutter2.open(),this.scene.shutter2.once("opened",function(){t._showTitle()}))},e.prototype._showTitle=function(){this._scene.view.layer_title.show(8),this._showCutin()},e.prototype._showCutin=function(){var t=this,e=new c;e.position.set(o.default.width/2,o.default.height/2),e.initialize(),this._scene.view.layer_cutin.addChild(e),e.show(300),e.once("complete_show",function(){t._hideCutin(e)})},e.prototype._hideCutin=function(t){var e=this;t.hide(1e3),t.once("complete_hide",function(){e._scene.view.layer_cutin.removeChild(t),e._endTask()})},e}(s.TaskBase);e.PhaseOpening=u;var c=function(t){function e(){var e=t.call(this)||this;return e._sprites=new Array,e}return n(e,t),e.prototype.initialize=function(){for(var t=[-330,-165,0,165,330,-248,-83,83,248],e=[-105,-105,-105,-105,-105,105,105,105,105],i=[9,10,11,12,13,14,15,16,17],n=0;n<i.length;n++){var o=l.BATTLE_NIGHT.getTexture(i[n]),r=new a.Sprite(o),s=t[n],_=e[n];r.anchor.set(.5),r.position.set(s,_),r.alpha=0,this.addChild(r),this._sprites.push(r)}},e.prototype.show=function(t){for(var e=this,i=null,n=0;n<this._sprites.length;n++){var o=this._sprites[n];o.scale.set(1.5),i=createjs.Tween.get(o).wait(t+100*n).to({alpha:1,scaleX:1,scaleY:1},300).call(function(){_.SE.play("110")})}i.call(function(){e.emit("complete_show")})},e.prototype.hide=function(t){for(var e=this,i=null,n=0;n<this._sprites.length;n++){this._sprites[n];i=createjs.Tween.get(this).wait(t).to({alpha:0,scaleX:3,scaleY:3},600)}i.call(function(){e.emit("complete_hide")})},Object.defineProperty(e.prototype,"scaleX",{get:function(){return this.scale.x},set:function(t){this.scale.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleY",{get:function(){return this.scale.y},set:function(t){this.scale.y=t},enumerable:!0,configurable:!0}),e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(29),r=i(20),s=i(2),a=i(1392),_=i(1399),l=i(472),u=function(t){function e(e,i){var n=t.call(this)||this;return n._scene=e,n._record=i,n}return n(e,t),e.prototype._start=function(){this._model=this._record.getAllyAttack(),null==this._model?this._endTask():this._opening()},e.prototype._opening=function(){var t=this,e=this._scene.view.bannerGroupLayer,i=this._scene.view.layer_cutin,n=new _.PhaseAllyOpening(this._model,e,i);n.preload(function(){e.addAllyBannerGroup(t._model.ships),n.start(function(){t._light()})})},e.prototype._light=function(){var t=this,e=this._scene.view.bannerGroupLayer.ally;new a.PhaseAllyLighting(this._scene,this._record,this._model,e).start(function(){t._hougeki()})},e.prototype._hougeki=function(){var t=this,e=this._model.getHougekiData(),i=this._model.ships,n=this._scene.data.model.deck_e.ships;new l.PhaseHougeki(this._scene,e,i,n).start(function(){t._moveShips()})},e.prototype._moveShips=function(){var t=this,e=this._scene.view.bannerGroupLayer,i=new o.SerialTask;i.add((new r.TweenTask).addTweens(e.ally.createExitTweensUpward())),i.add(e.createFriendEnterTask()),i.start(function(){e.removeAllyBannerGroup(),t._endTask()})},e.prototype._endTask=function(){this._scene=null,this._record=null,this._model=null,t.prototype._endTask.call(this)},e}(s.TaskBase);e.PhaseAllyAttack=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(471),r=function(t){function e(e,i,n,o){var r=t.call(this,e,i)||this;return r._model=n,r._bannerGroup=o,r}return n(e,t),e.prototype._getShips_f=function(){return this._model.ships},e.prototype._getShips_e=function(){return this._scene.data.model.deck_e.ships},e.prototype._getFlareBanner_f=function(){var t=this._model.getFlareIndex_f();return this._bannerGroup.getBanner(t)},e.prototype._getFlareBanner_e=function(){var t=this._model.getFlareIndex_e();return this._scene.view.bannerGroupLayer.getBanner(!1,t)},e}(o.PhaseLightingBase);e.PhaseAllyLighting=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(17),s=i(27),a=i(6),_=i(1394),l=i(1396),u=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._layer=e,r._banner_f=i,r._banner_e=n,r._search_light_task=o,r}return n(e,t),e.prototype._start=function(){var t=this,e=this._banner_f,i=this._banner_e;1==(null!=e||null!=i)?this._effectWithFlare(e,i):null==this._search_light_task?this._preEndTask():this._search_light_task.start(function(){t._search_light_task=null,t._preEndTask()})},e.prototype._effectWithFlare=function(t,e){var i=this,n=new s.ParallelTask;n.add(new _.TaskBannerFlareFire(t)),n.add(new _.TaskBannerFlareFire(e)),n.start(function(){createjs.Tween.get(null).wait(1170).call(function(){i._flareAnimation(t,e)}),null!=i._search_light_task&&createjs.Tween.get(null).wait(3200).call(function(){i._search_light_task.start(function(){i._search_light_task=null,i._preEndTask()})})})},e.prototype._flareAnimation=function(t,e){var i=this;this._flare_light_task=new s.ParallelTask;var n=this._layer;this._flare_light_task.add(new c(n));var o;null!=t&&(o=new PIXI.Point(855,255),this._flare_light_task.add(new l.TaskFlareAnimation(n,o))),null!=e&&(o=new PIXI.Point(345,150),this._flare_light_task.add(new l.TaskFlareAnimation(n,o))),this._flare_light_task.start(function(){i._flare_light_task=null,i._preEndTask()})},e.prototype._preEndTask=function(){null==this._search_light_task&&null==this._flare_light_task&&this._endTask()},e.prototype._endTask=function(){this._layer=null,this._banner_f=null,this._banner_e=null,this._search_light_task=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskFlareEffect=u;var c=function(t){function e(e){var i=t.call(this)||this;return i._layer=e,i}return n(e,t),e.prototype._start=function(){var t=this,e=new r.FadeBox(.5,16777215);e.hide(0),this._layer.addChild(e),a.SE.play("120"),e.show(170,function(){e.hide(170,function(){t._layer.removeChild(e),t._endTask()})})},e}(o.TaskBase)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(22),r=i(2),s=i(1395),a=function(t){function e(e){var i=t.call(this)||this;return i._banner=e,i}return n(e,t),e.prototype._start=function(){var t=this;if(null==this._banner)return void this._endTask();this._banner.moveFront(function(){t._antiAircraft()})},e.prototype._antiAircraft=function(){var t=this,e=this._banner.friend,i=new s.AntiAircraftFire;i.initialize(),i.x=e?o.BannerSize.W:0,i.rotation=(e?-60:240)/180*Math.PI,this._banner.addChild(i),i.getAnimationTask().start(function(){t._banner.removeChild(i),t._banner.moveDefault(),t._banner.once("complete_moveDefault",function(){t._endTask()})})},e.prototype._endTask=function(){this._banner=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskBannerFlareFire=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(12),s=i(6),a=i(16),_=function(t){function e(){var e=t.call(this)||this;return e._fire1=new u,e._fire2=new u,e._fire2.position.set(-35,-21),e._smoke1=new c,e._smoke1.position.set(36,-3),e._smoke2=new c,e._smoke2.position.set(-2,-24),e._fire3=new h,e._fire3.position.set(17,0),e._fire4=new h,e._fire4.position.set(-18,-21),e.addChild(e._fire1,e._fire2),e.addChild(e._smoke1,e._smoke2),e.addChild(e._fire3,e._fire4),e._animatin_task=new l(e),e}return n(e,t),Object.defineProperty(e.prototype,"fire1",{get:function(){return this._fire1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fire2",{get:function(){return this._fire2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"smoke1",{get:function(){return this._smoke1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"smoke2",{get:function(){return this._smoke2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fire3",{get:function(){return this._fire3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fire4",{get:function(){return this._fire4},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._fire1.initialize(),this._fire2.initialize(),this._smoke1.initialize(),this._smoke2.initialize(),this._fire3.initialize(),this._fire4.initialize()},e.prototype.getAnimationTask=function(){return this._animatin_task},e}(PIXI.Container);e.AntiAircraftFire=_;var l=function(t){function e(e){var i=t.call(this)||this;return i._aa_fire=e,i}return n(e,t),e.prototype._start=function(){var t=this;s.SE.play("116"),this._aa_fire.fire1.getTween(0),this._aa_fire.fire2.getTween(133),this._aa_fire.smoke1.getTween(200),this._aa_fire.smoke2.getTween(333).call(function(){t._endTask()}),this._aa_fire.fire3.getTween(200),this._aa_fire.fire4.getTween(366)},e}(o.TaskBase),u=function(t){function e(){var e=t.call(this)||this;return e.anchor.set(0,.5),e.scale.set(0),e}return n(e,t),e.prototype.initialize=function(){this.texture=a.BATTLE_MAIN.getTexture(39)},e.prototype.getTween=function(t){return createjs.Tween.get(this).wait(t).to({scaleX:1,scaleY:1},200).to({alpha:0},200)},e}(r.Sprite),c=function(t){function e(){var e=t.call(this)||this;return e.anchor.set(.5),e.scale.set(0),e.alpha=0,e}return n(e,t),e.prototype.initialize=function(){this.texture=a.BATTLE_MAIN.getTexture(111)},e.prototype.getTween=function(t){return createjs.Tween.get(this).wait(t).to({scaleX:1,scaleY:1,alpha:1},200).to({alpha:0},400)},e}(r.Sprite),h=function(t){function e(){var e=t.call(this)||this;return e._content=new PIXI.Sprite,e._content.anchor.set(.5),e._content.alpha=0,e.addChild(e._content),e}return n(e,t),e.prototype.initialize=function(){this._content.texture=a.BATTLE_MAIN.getTexture(40)},e.prototype.getTween=function(t){return createjs.Tween.get(this._content).wait(t).to({x:27,alpha:1},133).to({x:74,alpha:0},366)},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(12),s=i(177),a=function(t){function e(e,i){var n=t.call(this)||this;return n._addSmoke=function(){if(!(Math.random()<=.2)){var t=n._canvas,e=new c;e.activate(),e.x=t.fall1.x+t.fall1.flare.x,e.y=t.fall1.y,n._canvas.smoke_layer.addChild(e),e=new c,e.activate(),e.x=t.fall2.x+t.fall2.flare.x,e.y=t.fall2.y,n._canvas.smoke_layer.addChild(e)}},n._layer=e,n._pos=i,n._canvas=new _,n._canvas.position.set(i.x,i.y),n}return n(e,t),e.prototype._start=function(){this._layer.addChild(this._canvas);var t=this._canvas;t.flare1.scale.set(0),t.flare2.scale.set(0),t.fall1.alpha=0,t.fall2.alpha=0,t.initialize(),this._flash()},e.prototype._flash=function(){var t=this;createjs.Tween.get(this._canvas.flare1).to({scaleX:1.5,scaleY:1.5},500).to({scaleX:.6,scaleY:.6,alpha:0},800),createjs.Tween.get(this._canvas.flare2).to({scaleX:1.5,scaleY:1.5},500).call(function(){t._fall()}).to({scaleX:.6,scaleY:.6,alpha:0},800)},e.prototype._fall=function(){var t=this,e=createjs.Tween.get(null,{loop:!0}).wait(250).call(this._addSmoke);this._canvas.fall1.activate(),createjs.Tween.get(this._canvas.fall1).to({x:5,y:3,alpha:1},200).to({x:-5,y:206},3100).to({x:-9,y:270,alpha:0},1e3),this._canvas.fall2.activate(),createjs.Tween.get(this._canvas.fall2).to({x:-102,y:-14,alpha:1},200).to({x:-122,y:180},3100).to({x:-128,y:242,alpha:0},1e3).call(function(){e.setPaused(!0),t._preEnd()})},e.prototype._preEnd=function(){var t=this;createjs.Tween.get(this._canvas.smoke_layer).to({alpha:0},1350).call(function(){t._endTask()})},e.prototype._endTask=function(){this._layer.removeChild(this._canvas),this._canvas.dispose(),t.prototype._endTask.call(this)},e}(o.TaskBase);e.TaskFlareAnimation=a;var _=function(t){function e(){var e=t.call(this)||this;return e._smoke_layer=new PIXI.Container,e._flare1=new l,e._flare1.position.set(6,-15),e._flare2=new l,e._flare2.position.set(-101,-30),e._fall1=new u,e._fall1.position.set(6,-15),e._fall2=new u,e._fall2.position.set(-101,-30),e.addChild(e._smoke_layer),e.addChild(e._flare1),e.addChild(e._flare2),e.addChild(e._fall1),e.addChild(e._fall2),e}return n(e,t),Object.defineProperty(e.prototype,"smoke_layer",{get:function(){return this._smoke_layer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flare1",{get:function(){return this._flare1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flare2",{get:function(){return this._flare2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fall1",{get:function(){return this._fall1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fall2",{get:function(){return this._fall2},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._flare1.initialize(),this._flare2.initialize(),this._fall1.initialize(),this._fall2.initialize()},e.prototype.dispose=function(){this.fall1.deactivate(),this.fall2.deactivate();for(var t=0;t<this._smoke_layer.children.length;t++){var e=this._smoke_layer.children[t],i=e;null!=i&&i.deactivate()}this._smoke_layer.removeChildren(),this._smoke_layer=null,this._flare1=null,this._flare2=null,this._fall1=null,this._fall2=null,this.removeChildren()},e}(PIXI.Container),l=function(t){function e(){var e=t.call(this)||this;return e.anchor.set(.5),e}return n(e,t),e.prototype.initialize=function(){this.texture=s.BATTLE_NIGHT.getTexture(0)},e}(r.Sprite),u=function(t){function e(){var e=t.call(this)||this;return e._onChange=function(){e._flare.x=e._amp*Math.sin(e._timer/13+e._init),e._timer++},e._glow_light=new PIXI.Sprite,e._glow_light.anchor.set(.5),e._glow_light.scale.set(5.4),e._glow_light.alpha=.2,e._flare=new l,e._flare.scale.set(.625),e.addChild(e._glow_light),e.addChild(e._flare),e.rotation=5.6/180*Math.PI,e}return n(e,t),Object.defineProperty(e.prototype,"flare",{get:function(){return this._flare},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._glow_light.texture=s.BATTLE_NIGHT.getTexture(6),this._flare.texture=s.BATTLE_NIGHT.getTexture(0)},e.prototype.activate=function(){null==this._t&&(this._amp=18+3*Math.random(),this._init=15+5*Math.random(),this._timer=0,this._t=createjs.Tween.get(this._flare,{loop:!0,onChange:this._onChange}).to({scaleX:.48,scaleY:.48,alpha:.7},300).to({scaleX:.625,scaleY:.625},200))},e.prototype.deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Container),c=function(t){function e(){var e=t.call(this)||this;e._onChange=function(){e.scale.x+=e._vscale,e.scale.y+=e._vscale,e.rotation+=e._vrotate/180*Math.PI};var i=Math.floor(5*Math.random()),n=[1,2,3,4,5][i],o=s.BATTLE_NIGHT.getTexture(n);return e.texture=o,e.anchor.set(.5),e.scale.set(.1*Math.random()+.2),e.alpha=0,e}return n(e,t),e.prototype.activate=function(){if(null==this._t){var t=createjs.Ticker.framerate;this._vscale=(.0015+.001*Math.random())*(60/t),this._vrotate=(5.5*Math.random()-2.5)*(60/t),this._t=createjs.Tween.get(this,{onChange:this._onChange}).to({alpha:1},150).to({alpha:0},5500+1e4*Math.random())}},e.prototype.deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(22),r=i(2),s=i(1398),a=function(t){function e(e,i){var n=t.call(this)||this;return n._banner=e,n._large=i,n}return n(e,t),e.prototype._start=function(){if(null==this._banner)return void this._endTask();this._effect()},e.prototype._effect=function(){var t=this,e=new s.SearchLight;e.initialize(this._large),1==this._banner.friend?e.x=o.BannerSize.W+15:(e.x=-15,e.scale.x=-1),e.y=o.BannerSize.H/2,this._banner.addChild(e),e.getAnimationTask().start(function(){t._banner.removeChild(e),t._endTask()})},e.prototype._endTask=function(){this._banner=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskSearchLightAnimation=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(12),s=i(177),a=function(t){function e(){var e=t.call(this)||this;return e._light=new r.Sprite,e._light.anchor.set(0,.5),e.addChild(e._light),e._animatin_task=new _(e),e}return n(e,t),Object.defineProperty(e.prototype,"light",{get:function(){return this._light},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){var e;e=1==t?8:7,this._light.texture=s.BATTLE_NIGHT.getTexture(e)},e.prototype.getAnimationTask=function(){return this._animatin_task},e}(PIXI.Container);e.SearchLight=a;var _=function(t){function e(e){var i=t.call(this)||this;return i._light=e,i._light.light.scale.x=.74,i._light.light.alpha=0,i}return n(e,t),e.prototype._start=function(){var t=this,e=this._light.light;createjs.Tween.get(e).to({scaleX:.95,scaleY:1.12,alpha:.35},433).to({scaleX:1,scaleY:1.16,alpha:.5},166).to({scaleX:.98,scaleY:1.16,alpha:.65},166).to({scaleX:.9,scaleY:1.12,alpha:1},433).to({scaleX:.9,scaleY:1.12,alpha:.43},200).to({scaleX:.95,scaleY:1.12,alpha:.35},266).to({scaleX:1,scaleY:1.16,alpha:.5},166).to({scaleX:.98,scaleY:1.16,alpha:.65},166).to({scaleX:.9,scaleY:1.12,alpha:1},433).to({scaleX:.9,scaleY:1.12,alpha:0},200).wait(200).call(function(){t._endTask()})},e.prototype._endTask=function(){this._light=null,t.prototype._endTask.call(this)},e}(o.TaskBase)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(72),s=i(27),a=i(29),_=i(20),l=i(2),u=i(8),c=i(13),h=i(1),p=function(t){function e(e,i,n){var o=t.call(this)||this;return o._model=e,o._list=e.getDisplayList(),o._bannerGroupLayer=i,o._cutinLayer=n,o}return n(e,t),e.prototype.preload=function(t){for(var e=new c.ShipLoader,i=0,n=this._list;i<n.length;i++){var o=n[i],r=o.ship,s=r.mst_id,a=r.isDamaged();e.add(s,a,"full")}for(var _=0,l=this._model.ships;_<l.length;_++){var r=l[_];if(null!=r){var u=r.mst_id,a=r.isDamaged();e.add(u,a,"banner"),0==a&&e.add(u,!0,"banner")}}null==t?e.load():e.load(t)},e.prototype._start=function(){this._charaLayer=new PIXI.Container,this._cutinLayer.addChild(this._charaLayer),this._clickLayer=new PIXI.Container,this._cutinLayer.addChild(this._clickLayer),this._showShip1()},e.prototype._showShip1=function(){var t=this,e=this._list[0].ship,i=e.mst_id,n=e.isDamaged(),r=o.default.resources.getShip(i,n,"full"),s=new PIXI.Sprite(r),a=o.default.model.ship_graph.get(i).getBattleOffset(n);s.x=-285+a.x,s.y=-87+a.y,s.alpha=0,this._charaLayer.addChild(s),createjs.Tween.get(s).to({x:165+a.x,alpha:1},700,createjs.Ease.cubicOut).call(function(){t._playVoice1(s)})},e.prototype._playVoice1=function(t){var e=this,i=this._list[0].ship.mst_id,n=this._list[0].voiceID,o=new d(i.toString(),n,this._clickLayer,!0),l=new _.TweenTask;l.addTweens(this._bannerGroupLayer.friends_combined.createExitTweensUpDown());var u=new _.TweenTask;u.addTweens(this._bannerGroupLayer.friends.createExitTweens());var c=new _.TweenTask;c.addTweens(this._bannerGroupLayer.ally.createEnterTweens());var h=new a.SerialTask;h.add(l),h.add(u),h.add(c),h.add(new r.FuncTask(function(){o.clickable=!0}));var p=new s.ParallelTask;p.add(o),p.add(h),p.start(function(){e._list.length>1?e._showShip2(t):createjs.Tween.get(t).to({alpha:0},300).call(function(){e._charaLayer.removeChild(t),e._endTask()})})},e.prototype._showShip2=function(t){var e=this,i=this._list[1].ship,n=i.mst_id,r=i.isDamaged(),s=o.default.resources.getShip(n,r,"full"),a=new PIXI.Sprite(s),_=o.default.model.ship_graph.get(n).getBattleOffset(r);a.x=-360+_.x,a.y=-87+_.y,a.alpha=0,this._charaLayer.addChild(a),createjs.Tween.get(a).to({x:15+_.x,alpha:1},600,createjs.Ease.cubicOut).call(function(){e._playVoice2(a)}),createjs.Tween.get(t).to({alpha:0},300).call(function(){e._charaLayer.removeChild(t)})},e.prototype._playVoice2=function(t){var e=this,i=this._list[1].ship.mst_id,n=this._list[1].voiceID,o=this._list.length>2,r=new d(i.toString(),n,this._clickLayer,o);r.clickable=!0,r.start(function(){o?e._showShip3(t):createjs.Tween.get(t).to({alpha:0},300).call(function(){e._charaLayer.removeChild(t),e._endTask()})})},e.prototype._showShip3=function(t){var e=this,i=this._list[2].ship,n=i.mst_id,r=i.isDamaged(),s=o.default.resources.getShip(n,r,"full"),a=new PIXI.Sprite(s),_=o.default.model.ship_graph.get(n).getBattleOffset(r);a.x=-435+_.x,a.y=-87+_.y,a.alpha=0,this._charaLayer.addChild(a),createjs.Tween.get(a).to({x:-135+_.x,alpha:1},600,createjs.Ease.cubicOut).call(function(){e._playVoice3(t)}),createjs.Tween.get(t).to({alpha:0},300).call(function(){e._charaLayer.removeChild(t)})},e.prototype._playVoice3=function(t){var e=this,i=this._list[2].ship.mst_id,n=this._list[2].voiceID,o=new d(i.toString(),n,this._clickLayer,!1);o.clickable=!0,o.start(function(){createjs.Tween.get(t).to({alpha:0},300).call(function(){e._charaLayer.removeChild(t),e._endTask()})})},e.prototype._endTask=function(){this._model=null,this._list=null,this._bannerGroupLayer=null,this._cutinLayer=null,null!=this._charaLayer.parent&&this._charaLayer.parent.removeChild(this._charaLayer),this._charaLayer=null,null!=this._clickLayer.parent&&this._clickLayer.parent.removeChild(this._clickLayer),this._clickLayer=null,t.prototype._endTask.call(this)},e}(l.TaskBase);e.PhaseAllyOpening=p;var d=function(t){function e(e,i,n,r){var s=t.call(this)||this;return s._clickArea=null,s._voice=null,s._onClick=function(){s._stop_onClick&&null!=s._voice&&o.default.sound.voice.stop(s._voice),s._endTask()},s._mstID=e,s._voiceID=i,s._clickLayer=n,s._stop_onClick=r,s}return n(e,t),Object.defineProperty(e.prototype,"clickable",{get:function(){return null!=this._clickArea},set:function(t){if(t){if(null!=this._clickArea)return;this._clickArea=new u.AreaBox(0),this._clickArea.buttonMode=!0,this._clickArea.once(h.EventType.CLICK,this._onClick),null!=this._clickLayer&&this._clickLayer.addChild(this._clickArea)}else{if(null==this._clickArea)return;null!=this._clickArea.parent&&this._clickArea.parent.removeChild(this._clickArea),this._clickArea.off(h.EventType.CLICK,this._onClick),this._clickArea=null}},enumerable:!0,configurable:!0}),e.prototype._start=function(){var t=this;this._voice=o.default.sound.voice.play(this._mstID,this._voiceID,function(){t._onEnd()})},e.prototype._onEnd=function(){this._endTask()},e.prototype._endTask=function(){this.clickable=!1,this._clickLayer=null,this._voice=null,t.prototype._endTask.call(this)},e}(l.TaskBase)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(22),s=i(6),a=i(124),_=i(39),l=i(1401),u=function(t){function e(e,i,n,r,s,a,_,u,c){var h=t.call(this,e,i,r,_,u,c)||this;return h._slot2=o.default.model.slot.getMst(s),h._slot3=o.default.model.slot.getMst(a),h._defender=n,h._cutin=new l.CutinSpRDJ(i,h._slot,h._slot2,h._slot3),h}return n(e,t),e.prototype._start=function(){var t=this;this._cutin.preload(function(){t._completePreload()})},e.prototype._completePreload=function(){var t,e,i=this._attacker.friend,n=this._attacker.index,o=this._defender.index;1==i?(t=this._scene.view.bannerGroupLayer.getBanner(!0,n),e=this._scene.view.bannerGroupLayer.getBanner(!1,o)):(t=this._scene.view.bannerGroupLayer.getBanner(!1,n),e=this._scene.view.bannerGroupLayer.getBanner(!0,o)),this._playPicket(t,e)},e.prototype._playPicket=function(t,e){var i=this;if(this._attacker.hasSlot(129,!0)){var n=new PIXI.Point;n.x=this._attacker.friend?r.BannerSize.W:0;var o=new a.Picket;o.position.set(n.x,n.y),o.initialize(),t.addChild(o),o.play(),o.once("complete",function(){i._playCutin(t,e)})}else this._playCutin(t,e)},e.prototype._playCutin=function(t,e){var i=this;this._scene.view.layer_cutin.addChild(this._cutin.view),this._cutin.start(function(){i._shoot(t,e)}),this._cutin.view.once("attack",function(){i._playVoice()})},e.prototype._shoot=function(t,e){var i=this;t.moveShoot(function(){i._torpedo(t,e)})},e.prototype._torpedo=function(t,e){var i=this,n=t.friend?1:-1,o=t.getGlobalPos(!0);o.x+=r.BannerSize.W/3*n;var a=e.getGlobalPos(!0);a.x-=r.BannerSize.W/3*n,s.SE.play("112");var _=this._scene.view.layer_torpedo;_.playTorpedoAtNight(o,a,800,function(){_.playTorpedoWaterColumn(e),i._explosion(t,e)})},e.prototype._explosion=function(t,e){var i=this,n=e.getGlobalPos(!0);createjs.Tween.get(this).wait(300).call(function(){i._scene.view.layer_explosion.playExplosionSmall(n.x,n.y),1==i._shield&&i._showShield(e),e.moveAtDamage(i._shield)}).wait(350).call(function(){var n=i._getDamage(i._defender);i._playExplosion(e,n),i._playDamageEffect(t,e,i._defender,n,i._hit)})},e.prototype._playVoice=function(){if(this._attacker.friend){var t=this._attacker.mst_id,e=17;432!=t&&353!=t||(e=917),o.default.sound.voice.play(t.toString(),e)}},e.prototype._log=function(t){},e}(_.PhaseAttackBase);e.PhaseAttackSpRDJ=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(17),s=i(473),a=i(1402),_=i(65),l=i(44),u=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._attacker=e,r._slot1=i,r._slot2=n,r._slot3=o,r._friend=r._attacker.friend,r._canvas=new a.CutinCanvasSpRDJ,r._view=new PIXI.Container,r.view.addChild(r._canvas),r._ship=new PIXI.Sprite,r}return n(e,t),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0}),e.prototype.preload=function(t){if(null!=this._preload_task)t();else{var e=this._attacker.mst_id,i=this._attacker.isDamaged(),n=null==this._slot1?0:this._slot1.mstID,o=null==this._slot2?0:this._slot2.mstID,r=null==this._slot3?0:this._slot3.mstID;this._preload_task=new s.CutinResourcesPreloadTask(e,i,!0,n,o,r),this._preload_task.start(function(){t()})}},e.prototype._start=function(){this._ready()},e.prototype._ready=function(){this._ship.texture=this._preload_task.getShipTexture();var t=this._preload_task.getShipOffset();this._ship.position.set(t.x,t.y),this._canvas.chara.addChild(this._ship),this._shipFlash=new l.ShipFlash(this._preload_task.getShipTexture()),this._shipFlash.position.set(t.x,t.y),this._canvas.chara.addChild(this._shipFlash),this._canvas.chara.alpha=0,this._friend?(this._canvas.chara.x=-225,this._canvas.chara.y=-87):(this._canvas.chara.x=483,this._canvas.chara.y=-138),this._canvas.initialize(this._friend,this._preload_task),this._anim1()},e.prototype._anim1=function(){var t=this;this._canvas.bg.show(366),createjs.Tween.get(this._canvas.chara).wait(200).to({x:(this._friend?0:465)-104,alpha:1},366).wait(1200).call(function(){t._anim2()}),this._canvas.layer_item1.show(400),this._canvas.layer_item2.show(833),this._canvas.layer_item3.show(1266),this._canvas.layer_wave.show(533),this._canvas.layer_names.show(400)},e.prototype._anim2=function(){var t=this;this.view.emit("attack"),createjs.Tween.get(this._canvas.chara).call(function(){t._shipFlash.play()}).wait(200).call(function(){t._anim3()})},e.prototype._anim3=function(){var t=this;this._canvas.layer_item1.hide(0),this._canvas.layer_item2.hide(0),this._canvas.layer_item3.hide(0);var e=new _.IntensiveLines;e.initialize(),e.alpha=0,this._view.addChild(e),e.activate(),createjs.Tween.get(e).to({alpha:1},200);var i=new r.FadeBox(1,16777215);i.alpha=0,this._view.addChild(i),createjs.Tween.get(i).to({alpha:1},500).call(function(){t._anim4(e,i)})},e.prototype._anim4=function(t,e){var i=this;this._canvas.dispose(),createjs.Tween.get(t).to({alpha:0},300),createjs.Tween.get(e).to({alpha:0},300).call(function(){t.deactivate(),i._view.removeChild(t),i._view.removeChild(e),i._endTask()})},e.prototype._endTask=function(){this._attacker=null,this._slot1=null,this._slot2=null,this._slot3=null,null!=this._view.parent&&this._view.parent.removeChild(this._view),this._view=null,this._canvas=null,this._ship=null,this._preload_task=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.CutinSpRDJ=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(17),a=i(23),_=i(12),l=i(6),u=i(16),c=function(t){function e(){var e=t.call(this)||this;return e._bg=new s.FadeBox(.9,0),e._chara=new PIXI.Container,e._layer_item1=new h,e._layer_item2=new p,e._layer_item3=new d,e._layer_wave=new f,e._layer_names=new y,e._bg.hide(0),e._layer_item1.x=o.default.width/2,e._layer_item2.x=o.default.width/2,e._layer_item3.x=o.default.width/2,e._layer_wave.x=o.default.width/2,e._layer_names.x=o.default.width/2,e.addChild(e._bg),e.addChild(e._chara),e.addChild(e._layer_item1),e.addChild(e._layer_item2),e.addChild(e._layer_item3),e.addChild(e._layer_wave),e.addChild(e._layer_names),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chara",{get:function(){return this._chara},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_item1",{get:function(){return this._layer_item1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_item2",{get:function(){return this._layer_item2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_item3",{get:function(){return this._layer_item3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_wave",{get:function(){return this._layer_wave},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_names",{get:function(){return this._layer_names},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e){this._layer_item1.initialize(t,e.getSlot2Texture()),this._layer_item2.initialize(t,e.getSlot3Texture()),this._layer_item3.initialize(t,e.getSlot1Texture()),this._layer_wave.initialize(t),this._layer_names.initialize(t,e.slot_mst_id2,e.slot_mst_id3,e.slot_mst_id1)},e.prototype.dispose=function(){this.removeChildren()},e}(PIXI.Container);e.CutinCanvasSpRDJ=c;var h=function(t){function e(){var e=t.call(this)||this;e._bg=new PIXI.Sprite,e._item=new _.Sprite,e._bg.anchor.set(.5),e._item.anchor.set(.5),e._bg.position.set(281,968),e._item.position.set(333,774),e._item.scale.set(.9),e._bg.alpha=0,e._item.alpha=0,e.addChild(e._bg),e.addChild(e._item);var i=new PIXI.Graphics;return i.beginFill(16711680,.5),i.drawPolygon([new PIXI.Point(384,0),new PIXI.Point(690,0),new PIXI.Point(498,720),new PIXI.Point(189,720)]),i.endFill(),e.addChild(i),e._item.mask=i,e}return n(e,t),e.prototype.initialize=function(t,e){this.scale.x=t?1:-1;var i=t?"battle_telop_mes_ybg6_f":"battle_telop_mes_ybg6_e";this._bg.texture=PIXI.Texture.fromFrame(i),this._item.texture=e},e.prototype.show=function(t){createjs.Tween.get(this._bg).wait(t).call(function(){l.SE.play("105")}).to({x:381,y:585,alpha:1},233),createjs.Tween.get(this._item).wait(t).to({x:479,y:248,alpha:1},233).call(function(){l.SE.play("109")})},e.prototype.hide=function(t){createjs.Tween.get(this._item).wait(t).to({scaleX:1.15,scaleY:1.15},500)},e}(PIXI.Container),p=function(t){function e(){var e=t.call(this)||this;e._bg=new PIXI.Sprite,e._bg.scale.x=-1,e._bg.anchor.set(.5),e._bg.position.set(30,-11),e._bg.alpha=0,e.addChild(e._bg),e._item=new _.Sprite,e._item.anchor.set(.5),e._item.position.set(18,-174),e._item.alpha=0,e.addChild(e._item);var i=new PIXI.Graphics;return i.beginFill(16711680,.5),i.drawPolygon([new PIXI.Point(-120,0),new PIXI.Point(194,0),new PIXI.Point(384,720),new PIXI.Point(75,720)]),i.endFill(),e.addChild(i),e._item.mask=i,e}return n(e,t),e.prototype.initialize=function(t,e){this.scale.x=t?1:-1;var i=t?"battle_telop_mes_ybg6_f":"battle_telop_mes_ybg6_e";this._bg.texture=PIXI.Texture.fromFrame(i),this._item.texture=e},e.prototype.show=function(t){createjs.Tween.get(this._bg).wait(t).call(function(){l.SE.play("105")}).to({x:194,y:585,alpha:1},233),createjs.Tween.get(this._item).wait(t).to({x:159,y:407,alpha:1},233).call(function(){l.SE.play("109")})},e.prototype.hide=function(t){createjs.Tween.get(this._item).wait(t).to({scaleX:1.15,scaleY:1.15},500)},e}(PIXI.Container),d=function(t){function e(){var e=t.call(this)||this;e._bg=new PIXI.Sprite,e._canvas=new a.Container,e._item=new PIXI.Sprite,e._bg.anchor.set(.5),e._bg.position.set(-386,1133),e._canvas.position.set(-267,908),e._canvas.scale.set(1.35),e._bg.alpha=0,e._canvas.rotation=Math.PI/180*105,e._canvas.alpha=0,e.addChild(e._bg),e._canvas.addChild(e._item),e.addChild(e._canvas);var i=new PIXI.Graphics;return i.beginFill(16711680,.5),i.drawPolygon([new PIXI.Point(-210,0),new PIXI.Point(98,0),new PIXI.Point(-98,720),new PIXI.Point(-413,720)]),i.endFill(),e.addChild(i),e._item.mask=i,e}return n(e,t),e.prototype.initialize=function(t,e){this.scale.x=t?1:-1;var i=t?"battle_telop_mes_ybg6_f":"battle_telop_mes_ybg6_e";this._bg.texture=PIXI.Texture.fromFrame(i),this._item.texture=e,this._item.x=-Math.round(this._item.width/2),this._item.y=-Math.round(this._item.height/2)},e.prototype.show=function(t){createjs.Tween.get(this._bg).wait(t).call(function(){l.SE.play("105")}).to({x:-216,y:585,alpha:1},233),createjs.Tween.get(this._canvas).wait(t).to({x:-105,y:270,alpha:1},233).call(function(){l.SE.play("109")})},e.prototype.hide=function(t){createjs.Tween.get(this._canvas).wait(t).to({scaleX:1.6,scaleY:1.6},500)},e}(PIXI.Container),f=function(t){function e(){var e=t.call(this)||this;return e._w1=new _.Sprite,e._w2=new _.Sprite,e._w3=new _.Sprite,e._w1.anchor.set(.5),e._w2.anchor.set(.5),e._w3.anchor.set(.5),e._w1.scale.set(0),e._w2.scale.set(0),e._w3.scale.set(0),e.addChild(e._w1),e.addChild(e._w2),e.addChild(e._w3),e}return n(e,t),e.prototype.initialize=function(t){this.scale.x=t?1:-1,this._w1.position.set(479,141),this._w2.position.set(215,516),this._w3.position.set(-146,278),this._w1.texture=u.BATTLE_MAIN.getTexture(108),this._w2.texture=u.BATTLE_MAIN.getTexture(108),this._w3.texture=u.BATTLE_MAIN.getTexture(108)},e.prototype.show=function(t){createjs.Tween.get(this._w1).wait(t).to({scaleX:2.27,scaleY:2.27},200).to({scaleX:2.65,scaleY:2.65,alpha:0},333),createjs.Tween.get(this._w2).wait(t+433).to({scaleX:2.27,scaleY:2.27},200).to({scaleX:2.65,scaleY:2.65,alpha:0},333),createjs.Tween.get(this._w3).wait(t+866).to({scaleX:2.27,scaleY:2.27},200).to({scaleX:2.65,scaleY:2.65,alpha:0},333)},e}(PIXI.Container),y=function(t){function e(){var e=t.call(this)||this;return e._name1=new PIXI.Sprite,e._name2=new PIXI.Sprite,e._name3=new PIXI.Sprite,e._name1.scale.set(.76),e._name2.scale.set(.76),e._name3.scale.set(.76),e._name1.alpha=0,e._name2.alpha=0,e._name3.alpha=0,e.addChild(e._name1),e.addChild(e._name2),e.addChild(e._name3),e}return n(e,t),e.prototype.initialize=function(t,e,i,n){this._name1.anchor.set(t?1:0,.5),this._name2.anchor.set(t?1:0,.5),this._name3.anchor.set(t?1:0,.5),this._name1.position.set(t?578:-578,615),this._name2.position.set(t?578:-578,480),this._name3.position.set(t?578:-578,345),this._name1.texture=r.default.resources.getSlotitem(e,"btxt_flat"),this._name2.texture=r.default.resources.getSlotitem(i,"btxt_flat"),this._name3.texture=r.default.resources.getSlotitem(n,"btxt_flat")},e.prototype.show=function(t){createjs.Tween.get(this._name3).wait(t+866).to({alpha:1},233),createjs.Tween.get(this._name2).wait(t+433).to({alpha:1},233),createjs.Tween.get(this._name1).wait(t).to({alpha:1},233)},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(22),s=i(6),a=i(124),_=i(39),l=i(1404),u=function(t){function e(e,i,n,r,s,a,_,u,c){var h=t.call(this,e,i,r,_,u,c)||this;return h._slot2=o.default.model.slot.getMst(s),h._slot3=o.default.model.slot.getMst(a),h._defender=n,h._cutin=new l.CutinSpSRD(i,h._slot,h._slot2,h._slot3),h}return n(e,t),e.prototype._start=function(){var t=this;this._cutin.preload(function(){t._completePreload()})},e.prototype._completePreload=function(){var t,e,i=this._attacker.friend,n=this._attacker.index,o=this._defender.index;1==i?(t=this._scene.view.bannerGroupLayer.getBanner(!0,n),e=this._scene.view.bannerGroupLayer.getBanner(!1,o)):(t=this._scene.view.bannerGroupLayer.getBanner(!1,n),e=this._scene.view.bannerGroupLayer.getBanner(!0,o)),this._playPicket(t,e)},e.prototype._playPicket=function(t,e){var i=this;if(this._attacker.hasSlot(129,!0)){var n=new PIXI.Point;n.x=this._attacker.friend?r.BannerSize.W:0;var o=new a.Picket;o.position.set(n.x,n.y),o.initialize(),t.addChild(o),o.play(),o.once("complete",function(){i._playCutin(t,e)})}else this._playCutin(t,e)},e.prototype._playCutin=function(t,e){var i=this;this._scene.view.layer_cutin.addChild(this._cutin.view),this._cutin.start(function(){i._shoot(t,e)}),this._cutin.view.once("attack",function(){i._playVoice()})},e.prototype._shoot=function(t,e){var i=this;t.moveShoot(function(){i._torpedo(t,e)})},e.prototype._torpedo=function(t,e){var i=this,n=t.friend?1:-1,o=t.getGlobalPos(!0);o.x+=r.BannerSize.W/3*n;var a=e.getGlobalPos(!0);a.x-=r.BannerSize.W/3*n,s.SE.play("112");var _=this._scene.view.layer_torpedo;_.playTorpedoAtNight(o,a,800,function(){_.playTorpedoWaterColumn(e),i._explosion(t,e)})},e.prototype._explosion=function(t,e){var i=this,n=e.getGlobalPos(!0);createjs.Tween.get(this).wait(300).call(function(){i._scene.view.layer_explosion.playExplosionSmall(n.x,n.y),1==i._shield&&i._showShield(e),e.moveAtDamage(i._shield)}).wait(350).call(function(){var n=i._getDamage(i._defender);i._playExplosion(e,n),i._playDamageEffect(t,e,i._defender,n,i._hit)})},e.prototype._playVoice=function(){if(this._attacker.friend){var t=this._attacker.mst_id,e=17;432!=t&&353!=t||(e=917),o.default.sound.voice.play(t.toString(),e)}},e.prototype._log=function(t){},e}(_.PhaseAttackBase);e.PhaseAttackSpSRD=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(17),s=i(473),a=i(1405),_=i(65),l=i(44),u=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._attacker=e,r._slot1=o,r._slot2=n,r._slot3=i,r._friend=r._attacker.friend,r._canvas=new a.CutinCanvasSpSRD,r._view=new PIXI.Container,r.view.addChild(r._canvas),r._ship=new PIXI.Sprite,r}return n(e,t),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0}),e.prototype.preload=function(t){if(null!=this._preload_task)t();else{var e=this._attacker.mst_id,i=this._attacker.isDamaged(),n=null==this._slot1?0:this._slot1.mstID,o=null==this._slot2?0:this._slot2.mstID,r=null==this._slot3?0:this._slot3.mstID;this._preload_task=new s.CutinResourcesPreloadTask(e,i,!0,n,o,r),this._preload_task.start(function(){t()})}},e.prototype._start=function(){this._ready()},e.prototype._ready=function(){this._ship.texture=this._preload_task.getShipTexture();var t=this._preload_task.getShipOffset();this._ship.position.set(t.x,t.y),this._canvas.chara.addChild(this._ship),this._shipFlash=new l.ShipFlash(this._preload_task.getShipTexture()),this._shipFlash.position.set(t.x,t.y),this._canvas.chara.addChild(this._shipFlash),this._canvas.chara.alpha=0,this._friend?(this._canvas.chara.x=-399,this._canvas.chara.y=-54):(this._canvas.chara.x=676,this._canvas.chara.y=-54),this._canvas.initialize(this._friend,this._preload_task),this._anim1()},e.prototype._anim1=function(){var t=this;this._canvas.bg.show(200),createjs.Tween.get(this._canvas.chara).wait(200).to({x:(this._friend?0:480)-104,y:(this._friend?0:23)-87,alpha:1},300).wait(1200).call(function(){t._anim2()}),this._canvas.layer_bg.show(400),this._canvas.layer_item.show(400),this._canvas.layer_name.show(400),this._canvas.layer_center.show(733),this._canvas.layer_center_name.show(1300)},e.prototype._anim2=function(){var t=this;this.view.emit("attack"),createjs.Tween.get(this._canvas.chara).call(function(){t._shipFlash.play()}).wait(200).call(function(){t._anim3()})},e.prototype._anim3=function(){var t=this;this._canvas.layer_item.hide(0),this._canvas.layer_center.hide(0);var e=new _.IntensiveLines;e.initialize(),e.alpha=0,this._view.addChild(e),e.activate(),createjs.Tween.get(e).to({alpha:1},200);var i=new r.FadeBox(1,16777215);i.alpha=0,this._view.addChild(i),createjs.Tween.get(i).to({alpha:1},500).call(function(){t._anim4(e,i)})},e.prototype._anim4=function(t,e){var i=this;this._canvas.dispose(),createjs.Tween.get(t).to({alpha:0},300),createjs.Tween.get(e).to({alpha:0},300).call(function(){t.deactivate(),i._view.removeChild(t),i._view.removeChild(e),i._endTask()})},e.prototype._endTask=function(){this._attacker=null,this._slot1=null,this._slot2=null,null!=this._view.parent&&this._view.parent.removeChild(this._view),this._view=null,this._canvas=null,this._ship=null,this._preload_task=null,t.prototype._endTask.call(this)},e}(o.TaskBase);e.CutinSpSRD=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(17),a=i(12),_=i(6),l=i(256),u=function(t){function e(){var e=t.call(this)||this;return e._bg=new s.FadeBox(.9,0),e._chara=new PIXI.Container,e._layer_bg=new c,e._layer_item=new h,e._layer_name=new p,e._layer_center=new d,e._layer_center_name=new f,e._bg.hide(0),e._layer_bg.x=o.default.width/2,e._layer_item.x=o.default.width/2,e._layer_name.x=o.default.width/2,e._layer_center.x=o.default.width/2,e._layer_center_name.position.set(o.default.width/2,o.default.height/2),e.addChild(e._bg),e.addChild(e._chara),e.addChild(e._layer_center),e.addChild(e._layer_bg),e.addChild(e._layer_item),e.addChild(e._layer_name),e.addChild(e._layer_center_name),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chara",{get:function(){return this._chara},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_bg",{get:function(){return this._layer_bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_item",{get:function(){return this._layer_item},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_name",{get:function(){return this._layer_name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_center",{get:function(){return this._layer_center},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_center_name",{get:function(){return this._layer_center_name},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e){this._layer_bg.initialize(t),this._layer_item.initialize(t,e.getSlot2Texture(),e.getSlot3Texture()),this._layer_name.initialize(t,e.slot_mst_id2,e.slot_mst_id3),this._layer_center.initialize(t,e.getSlot1Texture()),this._layer_center_name.initialize(e.slot_mst_id1)},e.prototype.dispose=function(){this.removeChildren()},e}(PIXI.Container);e.CutinCanvasSpSRD=u;var c=function(t){function e(){var e=t.call(this)||this;return e._bg1=new PIXI.Sprite,e._bg1.scale.x=-1,e._bg1.anchor.set(.5),e._bg1.position.set(-447,-173),e._bg1.alpha=0,e.addChild(e._bg1),e._bg2=new PIXI.Sprite,e._bg2.scale.x=-1,e._bg2.anchor.set(.5),e._bg2.position.set(596,929),e._bg2.alpha=0,e.addChild(e._bg2),e}return n(e,t),e.prototype.initialize=function(t){this.scale.x=t?1:-1;var e=t?"battle_telop_mes_ybg3_f":"battle_telop_mes_ybg3_e";this._bg1.texture=PIXI.Texture.fromFrame(e),this._bg2.texture=PIXI.Texture.fromFrame(e)},e.prototype.show=function(t){createjs.Tween.get(this._bg1).wait(t).to({x:305,y:63,alpha:1},233),createjs.Tween.get(this._bg2).wait(t).to({x:62,y:767,alpha:1},233)},e}(PIXI.Container),h=function(t){function e(){var e=t.call(this)||this;e._item2=new a.Sprite,e._item3=new a.Sprite,e._item2.anchor.set(.5),e._item3.anchor.set(.5),e._item2.scale.set(1.5),e._item3.scale.set(1.5),e._item2.position.set(300,845),e._item3.position.set(-174,-101),e._item2.alpha=0,e._item3.alpha=0,e.addChild(e._item2),e.addChild(e._item3);var i=new PIXI.Graphics;return i.beginFill(16711680,.5),i.drawPolygon([new PIXI.Point(-600,398),new PIXI.Point(600,773),new PIXI.Point(-600,720)]),i.endFill(),i.beginFill(16711680,.5),i.drawPolygon([new PIXI.Point(600,0),new PIXI.Point(600,315),new PIXI.Point(-600,-60)]),i.endFill(),e.addChild(i),e.mask=i,e}return n(e,t),e.prototype.initialize=function(t,e,i){this.scale.x=t?1:-1,this._item2.texture=e,this._item3.texture=i},e.prototype.show=function(t){createjs.Tween.get(this._item2).wait(t).call(function(){_.SE.play("105")}).to({x:-332,y:636,alpha:1},233).call(function(){_.SE.play("109")}),createjs.Tween.get(this._item3).wait(t).to({x:326,y:54,alpha:1},233)},e.prototype.hide=function(t){createjs.Tween.get(this._item2).wait(t).to({scaleX:2,scaleY:2},500),createjs.Tween.get(this._item3).wait(t).to({scaleX:2,scaleY:2},500)},e}(PIXI.Container),p=function(t){function e(){var e=t.call(this)||this;return e._item2=new PIXI.Sprite,e._item3=new PIXI.Sprite,e._item2.scale.set(.76),e._item3.scale.set(.76),e._item2.alpha=0,e._item3.alpha=0,e.addChild(e._item2),e.addChild(e._item3),e}return n(e,t),e.prototype.initialize=function(t,e,i){this._item2.anchor.set(t?0:1,.5),this._item3.anchor.set(t?1:0,.5),this._item2.position.set(-1028*(t?1:-1),548),this._item3.position.set(1028*(t?1:-1),173),this._friend=t,this._item2.texture=r.default.resources.getSlotitem(e,"btxt_flat"),this._item3.texture=r.default.resources.getSlotitem(i,"btxt_flat")},e.prototype.show=function(t){var e=this._friend?1:-1;createjs.Tween.get(this._item2).wait(t).to({x:-555*e,alpha:1},200),createjs.Tween.get(this._item3).wait(t).to({x:555*e,alpha:1},200)},e}(PIXI.Container),d=function(t){function e(){var e=t.call(this)||this;e._bg=new PIXI.Sprite,e._bg.anchor.set(.5),e._bg.position.set(-986,620),e._bg.alpha=0,e.addChild(e._bg),e._item=new a.Sprite,e._item.anchor.set(.5),e._item.position.set(11,393),e._item.scale.set(1.4),e._item.alpha=0,e.addChild(e._item);var i=new PIXI.Graphics;return i.beginFill(16711680,.5),i.drawPolygon([new PIXI.Point(-600,353),new PIXI.Point(600,90),new PIXI.Point(600,458),new PIXI.Point(-600,713)]),i.endFill(),e.addChild(i),e._item.mask=i,e}return n(e,t),e.prototype.initialize=function(t,e){this.scale.x=t?1:-1,this._bg.rotation=Math.PI/180*5.5,this._bg.scale.set(1.16);var i=t?"battle_telop_mes_ybg3_f":"battle_telop_mes_ybg3_e";this._bg.texture=PIXI.Texture.fromFrame(i),this._item.texture=e},e.prototype.show=function(t){var e=this;createjs.Tween.get(this._bg).wait(t).to({x:18,y:399,alpha:1},366).wait(200).call(function(){var t=new l.Wave;t.initialize(),t.position.set(0,360),e.addChild(t),t.play()}),createjs.Tween.get(this._item).wait(t+166).call(function(){_.SE.play("105")}).to({scaleX:.8,scaleY:.8,alpha:1},500).call(function(){_.SE.play("109")})},e.prototype.hide=function(t){createjs.Tween.get(this._item).wait(t).to({scaleX:1.4,scaleY:1.4},500)},e}(PIXI.Container),f=function(t){function e(){var e=t.call(this)||this;return e.anchor.set(.5),e.scale.set(2.35),e.alpha=0,e}return n(e,t),e.prototype.initialize=function(t){this.texture=r.default.resources.getSlotitem(t,"btxt_flat")},e.prototype.show=function(t){createjs.Tween.get(this).wait(t).to({scaleX:1.15,scaleY:1.15,alpha:1},200)},e}(a.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(22),s=i(6),a=i(1407),_=i(124),l=i(39),u=function(t){function e(e,i,n,r,s,a,_,l,u){var c=t.call(this,e,n,s,_,l,u)||this;return c._slot2=o.default.model.slot.getMst(a),c._defender=r,c}return n(e,t),e.prototype.preload=function(t){this._cutin=new a.CutinSpSR,this._cutin.preload(this._attacker,this._slot,this._slot2,t)},e.prototype._start=function(){var t,e,i=this._attacker.friend,n=this._attacker.index,o=this._defender.index;1==i?(t=this._scene.view.bannerGroupLayer.getBanner(!0,n),e=this._scene.view.bannerGroupLayer.getBanner(!1,o)):(t=this._scene.view.bannerGroupLayer.getBanner(!1,n),e=this._scene.view.bannerGroupLayer.getBanner(!0,o)),this._playPicket(t,e)},e.prototype._playPicket=function(t,e){var i=this;if(this._attacker.hasSlot(129,!0)){var n=new PIXI.Point;n.x=this._attacker.friend?r.BannerSize.W:0;var o=new _.Picket;o.position.set(n.x,n.y),o.initialize(),t.addChild(o),o.play(),o.once("complete",function(){i._playCutin(t,e)})}else this._playCutin(t,e)},e.prototype._playCutin=function(t,e){var i=this;this._scene.view.layer_cutin.addChild(this._cutin.view),this._cutin.start(function(){i._shoot(t,e)}),this._cutin.view.once("attack",function(){i._playVoice()})},e.prototype._shoot=function(t,e){var i=this;t.moveShoot(function(){i._torpedo(t,e)})},e.prototype._torpedo=function(t,e){var i=this,n=t.friend?1:-1,o=t.getGlobalPos(!0);o.x+=r.BannerSize.W/3*n;var a=e.getGlobalPos(!0);a.x-=r.BannerSize.W/3*n,s.SE.play("112");var _=this._scene.view.layer_torpedo;_.playTorpedoAtNight(o,a,800,function(){_.playTorpedoWaterColumn(e),i._explosion(t,e)})},e.prototype._explosion=function(t,e){var i=this,n=e.getGlobalPos(!0);createjs.Tween.get(this).wait(300).call(function(){i._scene.view.layer_explosion.playExplosionSmall(n.x,n.y),1==i._shield&&i._showShield(e),e.moveAtDamage(i._shield)}).wait(350).call(function(){var n=i._getDamage(i._defender);i._playExplosion(e,n),i._playDamageEffect(t,e,i._defender,n,i._hit)})},e.prototype._playVoice=function(){if(this._attacker.friend){var t=this._attacker.mst_id,e=17;432!=t&&353!=t||(e=917),o.default.sound.voice.play(t.toString(),e)}},e.prototype._log=function(t){},e}(l.PhaseAttackBase);e.PhaseAttackSpSR=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(17),a=i(13),_=i(24),l=i(1408),u=i(65),c=i(44),h=function(t){function e(){var e=t.call(this)||this;return e._view=new PIXI.Container,e}return n(e,t),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0}),e.prototype.preload=function(t,e,i,n){var o=this;this._attacker=t,this._slot1=e,this._slot2=i;var r=new a.ShipLoader;r.add(this._attacker.mst_id,this._attacker.isDamaged(),"full"),r.load(function(){var t=null==o._slot1?0:o._slot1.mstID,e=null==o._slot2?0:o._slot2.mstID,i=new _.SlotLoader;t>0&&(i.add(t,"item_up"),i.add(t,"btxt_flat")),e>0&&(i.add(e,"item_up"),i.add(e,"btxt_flat")),i.load(function(){null!=n&&n()})})},e.prototype._start=function(){this._canvas=new l.CutinCanvasSpSR,this.view.addChild(this._canvas),this._ship=new PIXI.Sprite,this._ready()},e.prototype._ready=function(){var t=this._attacker.mst_id,e=this._attacker.isDamaged(),i=o.default.model.ship_graph.get(t).getBattleOffset(e);this._ship.texture=o.default.resources.getShip(t,e,"full"),this._ship.position.set(i.x,i.y),this._canvas.chara.addChild(this._ship),this._shipFlash=new c.ShipFlash(o.default.resources.getShip(t,e,"full")),this._shipFlash.position.set(i.x,i.y),this._canvas.chara.addChild(this._shipFlash),this._canvas.chara.alpha=0,this._attacker.friend?(this._canvas.chara.x=-399,this._canvas.chara.y=-54):(this._canvas.chara.x=676,this._canvas.chara.y=-54),this._canvas.initialize(this._attacker.friend,this._slot1.mstID,this._slot2.mstID),this._anim1()},e.prototype._anim1=function(){var t=this;this._canvas.bg.show(200),createjs.Tween.get(this._canvas.chara).wait(200).to({x:(this._attacker.friend?0:480)-104,y:(this._attacker.friend?0:23)-87,alpha:1},300).wait(1200).call(function(){t._anim2()}),this._canvas.layer_bg.show(400),this._canvas.layer_item.show(400),this._canvas.layer_name.show(400),this._canvas.layer_center.show(733),this._canvas.layer_center_name.show(1300)},e.prototype._anim2=function(){var t=this;this.view.emit("attack"),createjs.Tween.get(this._canvas.chara).call(function(){t._shipFlash.play()}).wait(200).call(function(){t._anim3()})},e.prototype._anim3=function(){var t=this,e=new u.IntensiveLines;e.initialize(),e.alpha=0,this._view.addChild(e),e.activate(),createjs.Tween.get(e).to({alpha:1},200);var i=new s.FadeBox(1,16777215);i.alpha=0,this._view.addChild(i),createjs.Tween.get(i).to({alpha:1},500).call(function(){t._anim4(e,i)})},e.prototype._anim4=function(t,e){var i=this;this._canvas.dispose(),createjs.Tween.get(t).to({alpha:0},300),createjs.Tween.get(e).to({alpha:0},300).call(function(){t.deactivate(),i._view.removeChild(t),i._view.removeChild(e),i._endTask()})},e.prototype._endTask=function(){this._attacker=null,this._slot1=null,this._slot2=null,null!=this._view.parent&&this._view.parent.removeChild(this._view),this._view=null,this._canvas=null,this._ship=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.CutinSpSR=h},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(17),s=i(12),a=i(6),_=i(256),l=function(t){function e(){var e=t.call(this)||this;return e._bg=new r.FadeBox(.9,0),e._chara=new PIXI.Container,e._layer_bg=new u,e._layer_item=new c,e._layer_name=new h,e._layer_center=new p,e._layer_center_name=new d,e._bg.hide(0),e._layer_bg.x=600,e._layer_item.x=600,e._layer_name.x=600,e._layer_center.x=600,e._layer_center_name.position.set(600,360),e.addChild(e._bg),e.addChild(e._chara),e.addChild(e._layer_center),e.addChild(e._layer_bg),e.addChild(e._layer_item),e.addChild(e._layer_name),e.addChild(e._layer_center_name),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chara",{get:function(){return this._chara},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_bg",{get:function(){return this._layer_bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_item",{get:function(){return this._layer_item},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_name",{get:function(){return this._layer_name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_center",{get:function(){return this._layer_center},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_center_name",{get:function(){return this._layer_center_name},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e,i){this._layer_bg.initialize(t),this._layer_item.initialize(t,i),this._layer_name.initialize(t,i),this._layer_center.initialize(t,e),this._layer_center_name.initialize(e)},e.prototype.dispose=function(){this.removeChildren()},e}(PIXI.Container);e.CutinCanvasSpSR=l;var u=function(t){function e(){var e=t.call(this)||this;return e._bg1=new PIXI.Sprite,e._bg1.scale.x=-1,e._bg1.anchor.set(.5),e._bg1.position.set(-447,-173),e._bg1.alpha=0,e.addChild(e._bg1),e._bg2=new PIXI.Sprite,e._bg2.scale.x=-1,e._bg2.anchor.set(.5),e._bg2.position.set(596,929),e._bg2.alpha=0,e.addChild(e._bg2),e}return n(e,t),e.prototype.initialize=function(t){this.scale.x=t?1:-1;var e=t?"battle_telop_mes_ybg3_f":"battle_telop_mes_ybg3_e";this._bg1.texture=PIXI.Texture.fromFrame(e),this._bg2.texture=PIXI.Texture.fromFrame(e)},e.prototype.show=function(t){createjs.Tween.get(this._bg1).wait(t).to({x:305,y:63,alpha:1},233),createjs.Tween.get(this._bg2).wait(t).to({x:62,y:767,alpha:1},233)},e}(PIXI.Container),c=function(t){function e(){var e=t.call(this)||this;e._item2=new PIXI.Sprite,e._item3=new PIXI.Sprite,e._item2.anchor.set(.5),e._item3.anchor.set(.5),e._item2.scale.set(1.5),e._item3.scale.set(1.5),e._item2.position.set(300,845),e._item3.position.set(-174,-101),e._item2.alpha=0,e._item3.alpha=0,e.addChild(e._item2),e.addChild(e._item3);var i=new PIXI.Graphics;return i.beginFill(16711680,.5),i.drawPolygon([new PIXI.Point(-600,398),new PIXI.Point(600,773),new PIXI.Point(-600,720)]),i.endFill(),i.beginFill(16711680,.5),i.drawPolygon([new PIXI.Point(600,0),new PIXI.Point(600,315),new PIXI.Point(-600,-60)]),i.endFill(),e.addChild(i),e.mask=i,e}return n(e,t),e.prototype.initialize=function(t,e){this.scale.x=t?1:-1,this._item2.texture=o.default.resources.getSlotitem(e,"item_up"),this._item3.texture=o.default.resources.getSlotitem(e,"item_up")},e.prototype.show=function(t){createjs.Tween.get(this._item2).wait(t).call(function(){a.SE.play("105")}).to({x:-332,y:636,alpha:1},233).call(function(){a.SE.play("109")}),createjs.Tween.get(this._item3).wait(t).to({x:326,y:54,alpha:1},233)},e}(PIXI.Container),h=function(t){function e(){var e=t.call(this)||this;return e._item2=new PIXI.Sprite,e._item3=new PIXI.Sprite,e._item2.scale.set(.76),e._item3.scale.set(.76),e._item2.alpha=0,e._item3.alpha=0,e.addChild(e._item2),e.addChild(e._item3),e}return n(e,t),e.prototype.initialize=function(t,e){this._item2.anchor.set(t?0:1,.5),this._item3.anchor.set(t?1:0,.5),this._item2.position.set(-1028*(t?1:-1),548),this._item3.position.set(1028*(t?1:-1),173),this._friend=t,this._item2.texture=o.default.resources.getSlotitem(e,"btxt_flat"),this._item3.texture=o.default.resources.getSlotitem(e,"btxt_flat")},e.prototype.show=function(t){var e=this._friend?1:-1;createjs.Tween.get(this._item2).wait(t).to({x:-555*e,alpha:1},200),createjs.Tween.get(this._item3).wait(t).to({x:555*e,alpha:1},200)},e}(PIXI.Container),p=function(t){function e(){var e=t.call(this)||this;e._bg=new PIXI.Sprite,e._item=new s.Sprite,e._bg.anchor.set(.5),e._item.anchor.set(.5),e._bg.position.set(-986,620),e._item.position.set(35,360),e._item.scale.set(2.3),e._bg.alpha=0,e._item.alpha=0,e.addChild(e._bg),e.addChild(e._item);var i=new PIXI.Graphics;return i.beginFill(16711680,.5),i.drawPolygon([new PIXI.Point(-600,353),new PIXI.Point(600,90),new PIXI.Point(600,458),new PIXI.Point(-600,713)]),i.endFill(),e.addChild(i),e._item.mask=i,e}return n(e,t),e.prototype.initialize=function(t,e){this.scale.x=t?1:-1,this._bg.rotation=Math.PI/180*5.5,this._bg.scale.set(1.16);var i=t?"battle_telop_mes_ybg3_f":"battle_telop_mes_ybg3_e";this._bg.texture=PIXI.Texture.fromFrame(i),this._item.texture=o.default.resources.getSlotitem(e,"item_up")},e.prototype.show=function(t){var e=this;createjs.Tween.get(this._bg).wait(t).to({x:18,y:399,alpha:1},366).wait(200).call(function(){var t=new _.Wave;t.initialize(),t.position.set(0,360),e.addChild(t),t.play()}),createjs.Tween.get(this._item).wait(t+166).call(function(){a.SE.play("105")}).to({scaleX:2,scaleY:2,alpha:1},500).call(function(){a.SE.play("109")})},e}(PIXI.Container),d=function(t){function e(){var e=t.call(this)||this;return e.anchor.set(.5),e.scale.set(2.35),e.alpha=0,e}return n(e,t),e.prototype.initialize=function(t){this.texture=o.default.resources.getSlotitem(t,"btxt_flat")},e.prototype.show=function(t){createjs.Tween.get(this).wait(t).to({scaleX:1.15,scaleY:1.15,alpha:1},200)},e}(s.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(22),s=i(6),a=i(1410),_=i(124),l=i(39),u=function(t){function e(e,i,n,r,s,a,_,l,u){var c=t.call(this,e,n,s,_,l,u)||this;return c._slot2=o.default.model.slot.getMst(a),c._defender=r,c}return n(e,t),e.prototype.preload=function(t){this._cutin=new a.CutinSpRR,this._cutin.preload(this._attacker,this._slot,this._slot2,t)},e.prototype._start=function(){var t,e,i=this._attacker.friend,n=this._attacker.index,o=this._defender.index;1==i?(t=this._scene.view.bannerGroupLayer.getBanner(!0,n),e=this._scene.view.bannerGroupLayer.getBanner(!1,o)):(t=this._scene.view.bannerGroupLayer.getBanner(!1,n),e=this._scene.view.bannerGroupLayer.getBanner(!0,o)),this._playPicket(t,e)},e.prototype._playPicket=function(t,e){var i=this;if(this._attacker.hasSlot(129,!0)){var n=new PIXI.Point;n.x=this._attacker.friend?r.BannerSize.W:0;var o=new _.Picket;o.position.set(n.x,n.y),o.initialize(),t.addChild(o),o.play(),o.once("complete",function(){i._playCutin(t,e)})}else this._playCutin(t,e)},e.prototype._playCutin=function(t,e){var i=this;this._scene.view.layer_cutin.addChild(this._cutin.view),this._cutin.start(function(){i._shoot(t,e)}),this._cutin.view.once("attack",function(){i._playVoice()})},e.prototype._shoot=function(t,e){var i=this;t.moveShoot(function(){i._torpedo(t,e)})},e.prototype._torpedo=function(t,e){var i=this,n=t.friend?1:-1,o=t.getGlobalPos(!0);o.x+=r.BannerSize.W/3*n;var a=e.getGlobalPos(!0);a.x-=r.BannerSize.W/3*n,s.SE.play("112");var _=this._scene.view.layer_torpedo;_.playTorpedoAtNight(o,a,800,function(){_.playTorpedoWaterColumn(e),i._explosion(t,e)})},e.prototype._explosion=function(t,e){var i=this,n=e.getGlobalPos(!0);createjs.Tween.get(this).wait(300).call(function(){i._scene.view.layer_explosion.playExplosionSmall(n.x,n.y),1==i._shield&&i._showShield(e),e.moveAtDamage(i._shield)}).wait(350).call(function(){var n=i._getDamage(i._defender);i._playExplosion(e,n),i._playDamageEffect(t,e,i._defender,n,i._hit)})},e.prototype._playVoice=function(){if(this._attacker.friend){var t=this._attacker.mst_id,e=17;432!=t&&353!=t||(e=917),o.default.sound.voice.play(t.toString(),e)}},e.prototype._log=function(t){},e}(l.PhaseAttackBase);e.PhaseAttackSpRR=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(17),a=i(13),_=i(24),l=i(1411),u=i(65),c=i(44),h=function(t){function e(){var e=t.call(this)||this;return e._view=new PIXI.Container,e}return n(e,t),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0}),e.prototype.preload=function(t,e,i,n){var o=this;this._attacker=t,this._slot1=e,this._slot2=i;var r=new a.ShipLoader;r.add(this._attacker.mst_id,this._attacker.isDamaged(),"full"),r.load(function(){var t=null==o._slot1?0:o._slot1.mstID,e=null==o._slot2?0:o._slot2.mstID,i=new _.SlotLoader;t>0&&(i.add(t,"item_up"),i.add(t,"btxt_flat")),e>0&&(i.add(e,"item_up"),i.add(e,"btxt_flat")),i.load(function(){null!=n&&n()})})},e.prototype._start=function(){this._canvas=new l.CutinCanvasSpRR,this.view.addChild(this._canvas),this._ship=new PIXI.Sprite,this._ready()},e.prototype._ready=function(){var t=this._attacker.mst_id,e=this._attacker.isDamaged(),i=o.default.model.ship_graph.get(t).getBattleOffset(e);this._ship.texture=o.default.resources.getShip(t,e,"full"),this._ship.position.set(i.x,i.y),this._canvas.chara.addChild(this._ship),this._shipFlash=new c.ShipFlash(o.default.resources.getShip(t,e,"full")),this._shipFlash.position.set(i.x,i.y),this._canvas.chara.addChild(this._shipFlash),this._canvas.chara.alpha=0,this._attacker.friend?(this._canvas.chara.x=-225,this._canvas.chara.y=-87):(this._canvas.chara.x=483,this._canvas.chara.y=-138),this._canvas.initialize(this._attacker.friend,this._slot1.mstID,this._slot2.mstID),this._anim1()},e.prototype._anim1=function(){var t=this;this._canvas.bg.show(366),createjs.Tween.get(this._canvas.chara).wait(200).to({x:(this._attacker.friend?0:465)-104,alpha:1},366).wait(1200).call(function(){t._anim2()}),this._canvas.layer_item1.show(400),this._canvas.layer_item2.show(833),this._canvas.layer_item3.show(1266),this._canvas.layer_wave.show(533),this._canvas.layer_names.show(400)},e.prototype._anim2=function(){var t=this;this.view.emit("attack"),createjs.Tween.get(this._canvas.chara).call(function(){t._shipFlash.play()}).wait(200).call(function(){t._anim3()})},e.prototype._anim3=function(){var t=this,e=new u.IntensiveLines;e.initialize(),e.alpha=0,this._view.addChild(e),e.activate(),createjs.Tween.get(e).to({alpha:1},200);var i=new s.FadeBox(1,16777215);i.alpha=0,this._view.addChild(i),createjs.Tween.get(i).to({alpha:1},500).call(function(){t._anim4(e,i)})},e.prototype._anim4=function(t,e){var i=this;this._canvas.dispose(),createjs.Tween.get(t).to({alpha:0},300),createjs.Tween.get(e).to({alpha:0},300).call(function(){t.deactivate(),i._view.removeChild(t),i._view.removeChild(e),i._endTask()})},e.prototype._endTask=function(){this._attacker=null,this._slot1=null,this._slot2=null,null!=this._view.parent&&this._view.parent.removeChild(this._view),this._view=null,this._canvas=null,this._ship=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.CutinSpRR=h},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(17),s=i(12),a=i(6),_=i(16),l=function(t){function e(){var e=t.call(this)||this;return e._bg=new r.FadeBox(.9,0),e._chara=new PIXI.Container,e._layer_item1=new u,e._layer_item2=new c,e._layer_item3=new h,e._layer_wave=new p,e._layer_names=new d,e._bg.hide(0),e._layer_item1.x=600,e._layer_item2.x=600,e._layer_item3.x=600,e._layer_wave.x=600,e._layer_names.x=600,e.addChild(e._bg),e.addChild(e._chara),e.addChild(e._layer_item1),e.addChild(e._layer_item2),e.addChild(e._layer_item3),e.addChild(e._layer_wave),e.addChild(e._layer_names),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chara",{get:function(){return this._chara},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_item1",{get:function(){return this._layer_item1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_item2",{get:function(){return this._layer_item2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_item3",{get:function(){return this._layer_item3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_wave",{get:function(){return this._layer_wave},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_names",{get:function(){return this._layer_names},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e,i){this._layer_item1.initialize(t,e),this._layer_item2.initialize(t,i),this._layer_item3.initialize(t,i),this._layer_wave.initialize(t),this._layer_names.initialize(t,e,i)},e.prototype.dispose=function(){this.removeChildren()},e}(PIXI.Container);e.CutinCanvasSpRR=l;var u=function(t){function e(){var e=t.call(this)||this;e._bg=new PIXI.Sprite,e._item=new PIXI.Sprite,e._bg.anchor.set(.5),e._item.anchor.set(.5),e._bg.position.set(281,968),e._item.position.set(335,777),e._item.scale.set(1.5),e._bg.alpha=0,e._item.alpha=0,e._item.rotation=-Math.PI/180*72,e.addChild(e._bg),e.addChild(e._item);var i=new PIXI.Graphics;return i.beginFill(16711680,.5),i.drawPolygon([new PIXI.Point(384,0),new PIXI.Point(690,0),new PIXI.Point(498,720),new PIXI.Point(189,720)]),i.endFill(),e.addChild(i),e._item.mask=i,e}return n(e,t),e.prototype.initialize=function(t,e){this.scale.x=t?1:-1;var i=t?"battle_telop_mes_ybg6_f":"battle_telop_mes_ybg6_e";this._bg.texture=PIXI.Texture.fromFrame(i),this._item.texture=o.default.resources.getSlotitem(e,"item_up")},e.prototype.show=function(t){createjs.Tween.get(this._bg).wait(t).call(function(){a.SE.play("105")}).to({x:381,y:585,alpha:1},233),createjs.Tween.get(this._item).wait(t).to({x:414,y:248,alpha:1},233).call(function(){a.SE.play("109")})},e}(PIXI.Container),c=function(t){function e(){var e=t.call(this)||this;e._bg=new PIXI.Sprite,e._bg.scale.x=-1,e._bg.anchor.set(.5),e._bg.position.set(30,-11),e._bg.alpha=0,e.addChild(e._bg),e._item=new PIXI.Sprite,e._item.anchor.set(.5),e._item.position.set(15,-87),e._item.scale.set(1.5),e._item.alpha=0,e._item.rotation=Math.PI/180*74,e.addChild(e._item);var i=new PIXI.Graphics;return i.beginFill(16711680,.5),i.drawPolygon([new PIXI.Point(-120,0),new PIXI.Point(194,0),new PIXI.Point(384,720),new PIXI.Point(75,720)]),i.endFill(),e.addChild(i),e._item.mask=i,e}return n(e,t),e.prototype.initialize=function(t,e){this.scale.x=t?1:-1;var i=t?"battle_telop_mes_ybg6_f":"battle_telop_mes_ybg6_e";this._bg.texture=PIXI.Texture.fromFrame(i),this._item.texture=o.default.resources.getSlotitem(e,"item_up")},e.prototype.show=function(t){createjs.Tween.get(this._bg).wait(t).call(function(){a.SE.play("105")}).to({x:194,y:585,alpha:1},233),createjs.Tween.get(this._item).wait(t).to({x:191,y:386,alpha:1},233).call(function(){a.SE.play("109")})},e}(PIXI.Container),h=function(t){function e(){var e=t.call(this)||this;e._bg=new PIXI.Sprite,e._item=new PIXI.Sprite,e._bg.anchor.set(.5),e._item.anchor.set(.5),e._bg.position.set(-386,1133),e._item.position.set(-315,714),e._item.scale.set(1.5),e._bg.alpha=0,e._item.alpha=0,e._item.rotation=Math.PI/180*105,e.addChild(e._bg),e.addChild(e._item);var i=new PIXI.Graphics;return i.beginFill(16711680,.5),i.drawPolygon([new PIXI.Point(-210,0),new PIXI.Point(98,0),new PIXI.Point(-98,720),new PIXI.Point(-413,720)]),i.endFill(),e.addChild(i),e._item.mask=i,e}return n(e,t),e.prototype.initialize=function(t,e){this.scale.x=t?1:-1;var i=t?"battle_telop_mes_ybg6_f":"battle_telop_mes_ybg6_e";this._bg.texture=PIXI.Texture.fromFrame(i),this._item.texture=o.default.resources.getSlotitem(e,"item_up")},e.prototype.show=function(t){createjs.Tween.get(this._bg).wait(t).call(function(){a.SE.play("105")}).to({x:-216,y:585,alpha:1},233),createjs.Tween.get(this._item).wait(t).to({x:-93,y:161,alpha:1},233).call(function(){a.SE.play("109")})},e}(PIXI.Container),p=function(t){function e(){var e=t.call(this)||this;return e._w1=new s.Sprite,e._w2=new s.Sprite,e._w3=new s.Sprite,e._w1.anchor.set(.5),e._w2.anchor.set(.5),e._w3.anchor.set(.5),e._w1.scale.set(0),e._w2.scale.set(0),e._w3.scale.set(0),e.addChild(e._w1),e.addChild(e._w2),e.addChild(e._w3),e}return n(e,t),e.prototype.initialize=function(t){this.scale.x=t?1:-1,this._w1.position.set(479,141),this._w2.position.set(215,516),this._w3.position.set(-146,278),this._w1.texture=_.BATTLE_MAIN.getTexture(108),this._w2.texture=_.BATTLE_MAIN.getTexture(108),this._w3.texture=_.BATTLE_MAIN.getTexture(108)},e.prototype.show=function(t){createjs.Tween.get(this._w1).wait(t).to({scaleX:2.27,scaleY:2.27},200).to({scaleX:2.65,scaleY:2.65,alpha:0},333),createjs.Tween.get(this._w2).wait(t+433).to({scaleX:2.27,scaleY:2.27},200).to({scaleX:2.65,scaleY:2.65,alpha:0},333),createjs.Tween.get(this._w3).wait(t+866).to({scaleX:2.27,scaleY:2.27},200).to({scaleX:2.65,scaleY:2.65,alpha:0},333)},e}(PIXI.Container),d=function(t){function e(){var e=t.call(this)||this;return e._name1=new PIXI.Sprite,e._name2=new PIXI.Sprite,e._name3=new PIXI.Sprite,e._name1.scale.set(.76),e._name2.scale.set(.76),e._name3.scale.set(.76),e._name1.alpha=0,e._name2.alpha=0,e._name3.alpha=0,e.addChild(e._name1),e.addChild(e._name2),e.addChild(e._name3),e}return n(e,t),e.prototype.initialize=function(t,e,i){this._name1.anchor.set(t?1:0,.5),this._name2.anchor.set(t?1:0,.5),this._name3.anchor.set(t?1:0,.5),this._name1.position.set(t?578:-578,615),this._name2.position.set(t?578:-578,480),this._name3.position.set(t?578:-578,345),this._name1.texture=o.default.resources.getSlotitem(e,"btxt_flat"),this._name2.texture=o.default.resources.getSlotitem(i,"btxt_flat"),this._name3.texture=o.default.resources.getSlotitem(i,"btxt_flat")},e.prototype.show=function(t){createjs.Tween.get(this._name1).wait(t+866).to({alpha:1},233),createjs.Tween.get(this._name2).wait(t+433).to({alpha:1},233),createjs.Tween.get(this._name3).wait(t).to({alpha:1},233)},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(22),s=i(1413),a=i(124),_=i(39),l=function(t){function e(e,i,n,r,s,a,_,l,u,c){var h=t.call(this,e,n,s,l,u,c)||this;return h._slot2=o.default.model.slot.getMst(a),h._slot3=o.default.model.slot.getMst(_),h._defender=r,h}return n(e,t),e.prototype.preload=function(t){this._cutin=new s.CutinSpSSF,this._cutin.preload(this._attacker,this._slot,this._slot2,this._slot3,t)},e.prototype._start=function(){var t,e,i=this._attacker.friend,n=this._attacker.index,o=this._defender.index;1==i?(t=this._scene.view.bannerGroupLayer.getBanner(!0,n),e=this._scene.view.bannerGroupLayer.getBanner(!1,o)):(t=this._scene.view.bannerGroupLayer.getBanner(!1,n),e=this._scene.view.bannerGroupLayer.getBanner(!0,o)),this._playPicket(t,e)},e.prototype._playPicket=function(t,e){var i=this;if(this._attacker.hasSlot(129,!0)){var n=new PIXI.Point;n.x=this._attacker.friend?r.BannerSize.W:0;var o=new a.Picket;o.position.set(n.x,n.y),o.initialize(),t.addChild(o),o.play(),o.once("complete",function(){i._playCutin(t,e)})}else this._playCutin(t,e)},e.prototype._playCutin=function(t,e){var i=this;this._scene.view.layer_cutin.addChild(this._cutin.view),this._cutin.start(function(){createjs.Tween.get(i).call(function(){i._damageEffect1(t,e)}).wait(300).call(function(){i._damageEffect2(t,e)}).wait(300).call(function(){i._damageEffect2(t,e)}).wait(800).call(function(){i._damageEffect3(t,e)})}),this._cutin.view.once("attack",function(){i._playVoice(),t.moveFront(),e.moveFront()})},e.prototype._damageEffect1=function(t,e){e.moveAtDamage(this._shield);var i=e.getGlobalPos(!0),n=this._scene.view.layer_explosion;n.playExplosionLarge(i.x,i.y),e.friend?n.playTorpedoWaterColumnToFriend(i.x+r.BannerSize.W/3*2,i.y):n.playTorpedoWaterColumnToEnemy(i.x-r.BannerSize.W/3*2,i.y)},e.prototype._damageEffect2=function(t,e){e.moveAtDamage(this._shield);var i=e.getGlobalPos(!0);this._scene.view.layer_explosion.playExplosionLarge(i.x,i.y)},e.prototype._damageEffect3=function(t,e){1==this._shield&&this._showShield(e),e.moveAtDamage(this._shield);var i=e.getGlobalPos(!0),n=this._scene.view.layer_explosion;n.playExplosionLarge(i.x,i.y),e.friend?n.playTorpedoWaterColumnToFriend(i.x+r.BannerSize.W/3*2,i.y):n.playTorpedoWaterColumnToEnemy(i.x-r.BannerSize.W/3*2,i.y);var o=this._getDamage(this._defender);this._playDamageEffect(t,e,this._defender,o,this._hit)},e.prototype._playVoice=function(){if(this._attacker.friend){var t=this._attacker.mst_id,e=17;432!=t&&353!=t||(e=917),o.default.sound.voice.play(t.toString(),e)}},e.prototype._log=function(t){},e}(_.PhaseAttackBase);e.PhaseAttackSpSSF=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(17),a=i(13),_=i(24),l=i(1414),u=i(65),c=i(44),h=function(t){function e(){var e=t.call(this)||this;return e._view=new PIXI.Container,e}return n(e,t),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0}),e.prototype.preload=function(t,e,i,n,o){var r=this;this._attacker=t,this._slot1=e,this._slot2=i,this._slot3=n;var s=new a.ShipLoader,l=this._attacker.isDamaged(),u=this._attacker.mst_id;(571!=u&&576!=u||0!=l)&&(541!=u&&573!=u||0!=l)&&(601!=u&&1496!=u||0!=l)?s.add(u,l,"full"):s.add(u,!1,"special"),s.load(function(){var t=null==r._slot1?0:r._slot1.mstID,e=null==r._slot2?0:r._slot2.mstID,i=null==r._slot3?0:r._slot3.mstID,n=new _.SlotLoader;t>0&&(n.add(t,"item_up"),n.add(t,"btxt_flat")),e>0&&(n.add(e,"item_up"),n.add(e,"btxt_flat")),i>0&&(n.add(i,"item_up"),n.add(i,"btxt_flat")),n.load(function(){null!=o&&o()})})},e.prototype._start=function(){this._canvas=new l.CutinCanvasSpSSF,this.view.addChild(this._canvas),this._ship=new PIXI.Sprite,this._ready()},e.prototype._ready=function(){var t,e,i=this._attacker.mst_id,n=this._attacker.isDamaged();571!=i&&576!=i||0!=n?541==i&&0==n?(t=new PIXI.Point(-227,165),e="special"):573==i&&0==n?(t=new PIXI.Point(-115,184),e="special"):601!=i&&1496!=i||0!=n?(t=o.default.model.ship_graph.get(i).getBattleOffset(n),e="full"):(t=new PIXI.Point(-90,87),e="special"):(t=new PIXI.Point(-139,201),e="special"),this._ship.texture=o.default.resources.getShip(i,n,e),this._ship.position.set(t.x,t.y),this._canvas.chara.addChild(this._ship),this._shipFlash=new c.ShipFlash(o.default.resources.getShip(i,n,e)),this._shipFlash.position.set(t.x,t.y),this._canvas.chara.addChild(this._shipFlash),this._canvas.chara.alpha=0,this._attacker.friend?(this._canvas.chara.x=-180,this._canvas.chara.y=-107):(this._canvas.chara.x=173,this._canvas.chara.y=-65),this._canvas.initialize(this._attacker.friend,this._slot1.mstID,this._slot2.mstID,this._slot3.mstID),this._anim1()},e.prototype._anim1=function(){var t=this;this._canvas.bg.show(333),createjs.Tween.get(this._canvas.chara).wait(166).to({x:158+(this._attacker.friend?0:203),alpha:1},300),this._canvas.bg_box.show(266),this._canvas.item_layer.show(400),this._canvas.name_layer.show(600),this._canvas.name_layer.once("complete",function(){t._anim2()})},e.prototype._anim2=function(){var t=this;this.view.emit("attack"),createjs.Tween.get(this._canvas.chara).call(function(){t._shipFlash.play()}).wait(200).call(function(){t._anim3()})},e.prototype._anim3=function(){var t=this,e=new u.IntensiveLines;e.initialize(),e.alpha=0,this._view.addChild(e),e.activate(),createjs.Tween.get(e).to({alpha:1},200);var i=new s.FadeBox(1,16777215);i.alpha=0,this._view.addChild(i),createjs.Tween.get(i).to({alpha:1},500).call(function(){t._anim4(e,i)})},e.prototype._anim4=function(t,e){var i=this;this._canvas.dispose(),createjs.Tween.get(t).to({alpha:0},300),createjs.Tween.get(e).to({alpha:0},300).call(function(){t.deactivate(),i._view.removeChild(t),i._view.removeChild(e),i._endTask()})},e.prototype._endTask=function(){this._attacker=null,this._slot1=null,this._slot2=null,this._slot3=null,null!=this._view.parent&&this._view.parent.removeChild(this._view),this._view=null,this._canvas=null,this._ship=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.CutinSpSSF=h},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(17),s=i(12),a=i(6),_=function(t){function e(){var e=t.call(this)||this;return e._bg=new r.FadeBox(.9,0),e._chara=new PIXI.Container,e._bg_box=new l,e._item_layer=new u,e._name_layer=new c,e._bg.hide(0),e._item_layer.position.x=600,e.addChild(e._bg),e.addChild(e._chara),e.addChild(e._bg_box),e.addChild(e._item_layer),e.addChild(e._name_layer),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chara",{get:function(){return this._chara},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bg_box",{get:function(){return this._bg_box},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"item_layer",{get:function(){return this._item_layer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name_layer",{get:function(){return this._name_layer},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e,i,n){this._bg_box.initialize(t),this._item_layer.initialize(t,e,i,n),this._name_layer.initialize(t,e,i,n)},e.prototype.dispose=function(){this.removeChildren()},e}(PIXI.Container);e.CutinCanvasSpSSF=_;var l=function(t){function e(){var e=t.call(this)||this;return e.anchor.set(.5),e}return n(e,t),e.prototype.initialize=function(t){var e=t?1:-1;this.rotation=Math.PI/40*e,this.position.set(600-1155*e,785),this._to_pos=new PIXI.Point(600+33*e,507),this.scale.x=e;var i=t?"battle_telop_mes_ybg3_f":"battle_telop_mes_ybg3_e";this.texture=PIXI.Texture.fromFrame(i)},e.prototype.show=function(t){var e=this;createjs.Tween.get(this).wait(t).call(function(){a.SE.play("105"),createjs.Tween.get(e).to({x:e._to_pos.x,y:e._to_pos.y},200)})},e}(PIXI.Sprite),u=function(t){function e(){var e=t.call(this)||this;e._item1=new s.Sprite,e._item2=new s.Sprite,e._item3=new s.Sprite,e._item1.anchor.set(.5),e._item2.anchor.set(.5),e._item3.anchor.set(.5),e._item1.scale.set(1.5),e._item2.scale.set(1.5),e._item3.scale.set(1.5),e._item1.position.set(-1202,798.5),e._item2.position.set(-816,745.5),e._item3.position.set(-370,619.5),e._item1.alpha=0,e._item2.alpha=0,e._item3.alpha=0,e.addChild(e._item3),e.addChild(e._item2),e.addChild(e._item1);var i=new PIXI.Graphics;return i.beginFill(16711680,.5),i.drawPolygon([new PIXI.Point(-600,495),new PIXI.Point(600,222),new PIXI.Point(600,533),new PIXI.Point(-600,810)]),i.endFill(),e.addChild(i),e.mask=i,e}return n(e,t),e.prototype.initialize=function(t,e,i,n){0==t&&(this.scale.x=-1),this._item1.texture=o.default.resources.getSlotitem(e,"item_up"),this._item2.texture=o.default.resources.getSlotitem(i,"item_up"),this._item3.texture=o.default.resources.getSlotitem(n,"item_up")},e.prototype.show=function(t){var e=this;createjs.Tween.get(this).wait(t).call(function(){e._showItem1()}).wait(433).call(function(){e._showItem2()}).wait(433).call(function(){e._showItem3()})},e.prototype._showItem1=function(){createjs.Tween.get(this._item1).to({x:-437,y:567,alpha:1},200).call(function(){a.SE.play("109")})},e.prototype._showItem2=function(){createjs.Tween.get(this._item2).to({x:-54,y:479,alpha:1},200).call(function(){a.SE.play("109")})},e.prototype._showItem3=function(){createjs.Tween.get(this._item3).to({x:330,y:391,alpha:1},200).call(function(){a.SE.play("109")})},e}(PIXI.Container),c=function(t){function e(){var e=t.call(this)||this;return e._item1=new PIXI.Sprite,e._item2=new PIXI.Sprite,e._item3=new PIXI.Sprite,e._item1.anchor.set(.5),e._item2.anchor.set(.5),e._item3.anchor.set(.5),e._item1.scale.set(.65),e._item2.scale.set(.65),e._item3.scale.set(.65),e._item1.alpha=0,e._item2.alpha=0,e._item3.alpha=0,e.addChild(e._item3),e.addChild(e._item2),e.addChild(e._item1),e}return n(e,t),e.prototype.initialize=function(t,e,i,n){var r=t?1:-1;this._item1.position.set(600-660*r,443),this._item2.position.set(600-330*r,368),this._item3.position.set(600,293),this._w=r,this._item1.texture=o.default.resources.getSlotitem(e,"btxt_flat"),this._item2.texture=o.default.resources.getSlotitem(i,"btxt_flat"),this._item3.texture=o.default.resources.getSlotitem(n,"btxt_flat")},e.prototype.show=function(t){var e=this;createjs.Tween.get(this).wait(t).call(function(){e._showItem1()}).wait(433).call(function(){e._showItem2()}).wait(433).call(function(){e._showItem3()}).wait(200).call(function(){e.emit("complete")})},e.prototype._showItem1=function(){createjs.Tween.get(this._item1).to({x:600-330*this._w,y:368,alpha:1},200).call(function(){a.SE.play("109")})},e.prototype._showItem2=function(){createjs.Tween.get(this._item2).to({x:600,y:293,alpha:1},200).call(function(){a.SE.play("109")})},e.prototype._showItem3=function(){createjs.Tween.get(this._item3).to({x:600+330*this._w,y:218,alpha:1},200).call(function(){a.SE.play("109")})},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(22),s=i(1416),a=i(124),_=i(39),l=function(t){function e(e,i,n,r,s,a,_,l,u,c){var h=t.call(this,e,n,s,l,u,c)||this;return h._slot2=o.default.model.slot.getMst(a),h._slot3=o.default.model.slot.getMst(_),h._defender=r,h}return n(e,t),e.prototype.preload=function(t){this._cutin=new s.CutinSpSSS,this._cutin.preload(this._attacker,this._slot,this._slot2,this._slot3,t)},e.prototype._start=function(){var t,e,i=this._attacker.friend,n=this._attacker.index,o=this._defender.index;1==i?(t=this._scene.view.bannerGroupLayer.getBanner(!0,n),e=this._scene.view.bannerGroupLayer.getBanner(!1,o)):(t=this._scene.view.bannerGroupLayer.getBanner(!1,n),e=this._scene.view.bannerGroupLayer.getBanner(!0,o)),this._playPicket(t,e)},e.prototype._playPicket=function(t,e){var i=this;if(this._attacker.hasSlot(129,!0)){var n=new PIXI.Point;n.x=this._attacker.friend?r.BannerSize.W:0;var o=new a.Picket;o.position.set(n.x,n.y),o.initialize(),t.addChild(o),o.play(),o.once("complete",function(){i._playCutin(t,e)})}else this._playCutin(t,e)},e.prototype._playCutin=function(t,e){var i=this;this._scene.view.layer_cutin.addChild(this._cutin.view),this._cutin.start(function(){t.moveFront(),e.moveFront(),i._damageEffect(t,e)}),this._cutin.view.once("attack",function(){i._playVoice()})},e.prototype._damageEffect=function(t,e){1==this._shield&&this._showShield(e),e.moveAtDamage(this._shield);var i=this._getDamage(this._defender);this._playExplosion(e,i),this._playDamageEffect(t,e,this._defender,i,this._hit)},e.prototype._playVoice=function(){if(this._attacker.friend){var t=this._attacker.mst_id,e=17;432!=t&&353!=t||(e=917),o.default.sound.voice.play(t.toString(),e)}},e.prototype._log=function(t){},e}(_.PhaseAttackBase);e.PhaseAttackSpSSS=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(17),a=i(13),_=i(24),l=i(1417),u=i(65),c=i(44),h=function(t){function e(){var e=t.call(this)||this;return e._view=new PIXI.Container,e}return n(e,t),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0}),e.prototype.preload=function(t,e,i,n,o){var r=this;this._attacker=t,this._slot1=e,this._slot2=i,this._slot3=n;var s=new a.ShipLoader,l=this._attacker.isDamaged(),u=this._attacker.mst_id;(571!=u&&576!=u||0!=l)&&(541!=u&&573!=u||0!=l)&&(601!=u&&1496!=u||0!=l)?s.add(u,l,"full"):s.add(u,!1,"special"),s.load(function(){var t=null==r._slot1?0:r._slot1.mstID,e=null==r._slot2?0:r._slot2.mstID,i=null==r._slot3?0:r._slot3.mstID,n=new _.SlotLoader;t>0&&(n.add(t,"item_up"),n.add(t,"btxt_flat")),e>0&&(n.add(e,"item_up"),n.add(e,"btxt_flat")),i>0&&(n.add(i,"item_up"),n.add(i,"btxt_flat")),n.load(function(){null!=o&&o()})})},e.prototype._start=function(){this._canvas=new l.CutinCanvasSpSSS,this.view.addChild(this._canvas),this._ship=new PIXI.Sprite,this._ready()},e.prototype._ready=function(){var t,e,i=this._attacker.mst_id,n=this._attacker.isDamaged();571!=i&&576!=i||0!=n?541==i&&0==n?(t=new PIXI.Point(-227,165),e="special"):573==i&&0==n?(t=new PIXI.Point(-115,184),e="special"):601!=i&&1496!=i||0!=n?(t=o.default.model.ship_graph.get(i).getBattleOffset(n),e="full"):(t=new PIXI.Point(-90,87),e="special"):(t=new PIXI.Point(-139,201),e="special"),this._ship.texture=o.default.resources.getShip(i,n,e),this._ship.position.set(t.x,t.y),this._canvas.chara.addChild(this._ship),this._shipFlash=new c.ShipFlash(o.default.resources.getShip(i,n,e)),this._shipFlash.position.set(t.x,t.y),this._canvas.chara.addChild(this._shipFlash),this._canvas.chara.alpha=0,this._attacker.friend?(this._canvas.chara.x=-150,this._canvas.chara.y=-87):(this._canvas.chara.x=173,this._canvas.chara.y=-64),this._canvas.initialize(this._attacker.friend,this._slot1.mstID,this._slot2.mstID,this._slot3.mstID),this._anim1()},e.prototype._anim1=function(){var t=this;this._canvas.bg.show(333),createjs.Tween.get(this._canvas.chara).wait(166).to({x:48+(this._attacker.friend?0:336),alpha:1},300),this._canvas.item1.show(400),this._canvas.item2.show(833),this._canvas.item3.show(1266);var e=this._attacker.friend?75:1125;createjs.Tween.get(this._canvas.name1).wait(400).to({x:e,alpha:1},200),createjs.Tween.get(this._canvas.name2).wait(833).to({x:e,alpha:1},200),createjs.Tween.get(this._canvas.name3).wait(1266).to({x:e,alpha:1},200).call(function(){t._anim2()})},e.prototype._anim2=function(){var t=this;this.view.emit("attack"),createjs.Tween.get(this._canvas.chara).wait(133).call(function(){t._shipFlash.play()}).wait(200).call(function(){t._shipFlash.play()}).wait(133).call(function(){t._anim3()})},e.prototype._anim3=function(){var t=this,e=new u.IntensiveLines;e.initialize(),e.alpha=0,this._view.addChild(e),e.activate(),createjs.Tween.get(e).to({alpha:1},200);var i=new s.FadeBox(1,16777215);i.alpha=0,this._view.addChild(i),createjs.Tween.get(i).to({alpha:1},500).call(function(){t._anim4(e,i)})},e.prototype._anim4=function(t,e){var i=this;this._canvas.dispose(),createjs.Tween.get(t).to({alpha:0},300),createjs.Tween.get(e).to({alpha:0},300).call(function(){t.deactivate(),i._view.removeChild(t),i._view.removeChild(e),i._endTask()})},e.prototype._endTask=function(){this._attacker=null,this._slot1=null,this._slot2=null,this._slot3=null,null!=this._view.parent&&this._view.parent.removeChild(this._view),this._view=null,this._canvas=null,this._ship=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.CutinSpSSS=h},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(17),s=i(6),a=function(t){function e(){var e=t.call(this)||this;return e._bg=new r.FadeBox(.9,0),e._chara=new PIXI.Container,e._item1=new _,e._item2=new l,e._item3=new u,e._name1=new c,e._name2=new c,e._name3=new c,e._bg.hide(0),e.addChild(e._bg),e.addChild(e._chara),e.addChild(e._item3),e.addChild(e._item2),e.addChild(e._item1),e.addChild(e._name1),e.addChild(e._name2),e.addChild(e._name3),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chara",{get:function(){return this._chara},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"item1",{get:function(){return this._item1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"item2",{get:function(){return this._item2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"item3",{get:function(){return this._item3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name1",{get:function(){return this._name1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name2",{get:function(){return this._name2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name3",{get:function(){return this._name3},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e,i,n){this._item1.initialize(t,e),this._item2.initialize(t,i),this._item3.initialize(t,n),this._name1.initialize(t),this._name1.y=570,this._name2.initialize(t),this._name2.y=480,this._name3.initialize(t),this._name3.y=390,this.name1.texture=o.default.resources.getSlotitem(e,"btxt_flat"),this.name2.texture=o.default.resources.getSlotitem(i,"btxt_flat"),this.name3.texture=o.default.resources.getSlotitem(n,"btxt_flat")},e.prototype.dispose=function(){this.removeChildren()},e}(PIXI.Container);e.CutinCanvasSpSSS=a;var _=function(t){function e(){var e=t.call(this)||this;e._bg=new PIXI.Sprite,e._bg.scale.x=-1,e._bg.anchor.set(.5),e._bg.alpha=0,e.addChild(e._bg),e._item=new PIXI.Sprite,e._item.anchor.set(.5),e._item.position.set(60,15),e._item.scale.set(1.5),e._item.alpha=0,e.addChild(e._item);var i=new PIXI.Graphics;return i.beginFill(16711680),i.drawPolygon([new PIXI.Point(-741,-392),new PIXI.Point(749,75),new PIXI.Point(749,395),new PIXI.Point(-741,-75)]),i.endFill(),e.addChild(i),e._item.mask=i,e}return n(e,t),e.prototype.initialize=function(t,e){t?(this.position.set(750,674),this._to_pos=new PIXI.Point(565,615)):(this.position.set(450,674),this._to_pos=new PIXI.Point(635,615),this.scale.x=-1);var i=t?"battle_telop_mes_ybg3_f":"battle_telop_mes_ybg3_e";this._bg.texture=PIXI.Texture.fromFrame(i),this._item.texture=o.default.resources.getSlotitem(e,"item_up")},e.prototype.show=function(t){var e=this;createjs.Tween.get(this).wait(t).call(function(){e._play(e._to_pos.x,e._to_pos.y)})},e.prototype._play=function(t,e){s.SE.play("105"),createjs.Tween.get(this).to({x:t,y:e},200),createjs.Tween.get(this._bg).to({alpha:1},200),createjs.Tween.get(this._item).to({alpha:1},133).call(function(){s.SE.play("109")})},e}(PIXI.Container);e.ItemBox1=_;var l=function(t){function e(){var e=t.call(this)||this;e._bg=new PIXI.Sprite,e._item=new PIXI.Sprite,e._item.position.set(77,-68),e._bg.anchor.set(.5),e._item.anchor.set(.5),e._item.scale.set(1.5),e._bg.alpha=0,e._item.alpha=0,e.addChild(e._bg),e.addChild(e._item);var i=new PIXI.Graphics;return i.beginFill(16711680),i.drawPolygon([new PIXI.Point(-756,74),new PIXI.Point(749,-395),new PIXI.Point(749,-75),new PIXI.Point(-756,395)]),i.endFill(),e.addChild(i),e._item.mask=i,e}return n(e,t),e.prototype.initialize=function(t,e){t?(this.position.set(300,674),this._to_pos=new PIXI.Point(750,492)):(this.position.set(900,674),this._to_pos=new PIXI.Point(450,492),this.scale.x=-1);var i=t?"battle_telop_mes_ybg3_f":"battle_telop_mes_ybg3_e";this._bg.texture=PIXI.Texture.fromFrame(i),this._item.texture=o.default.resources.getSlotitem(e,"item_up")},e.prototype.show=function(t){var e=this;createjs.Tween.get(this).wait(t).call(function(){e._play(e._to_pos.x,e._to_pos.y)})},e.prototype._play=function(t,e){s.SE.play("105"),createjs.Tween.get(this).to({x:t,y:e},200),createjs.Tween.get(this._bg).to({alpha:1},200),createjs.Tween.get(this._item).to({alpha:1},133).call(function(){s.SE.play("109")})},e}(PIXI.Container);e.ItemBox2=l;var u=function(t){function e(){var e=t.call(this)||this;e._bg=new PIXI.Sprite,e._item=new PIXI.Sprite,e._item.position.set(-15,5),e._bg.anchor.set(.5),e._item.anchor.set(.5),e._item.scale.set(1.5),e._bg.alpha=0,e._item.alpha=0,e.addChild(e._bg),e.addChild(e._item);var i=new PIXI.Graphics;return i.beginFill(16711680),i.drawPolygon([new PIXI.Point(402,-585),new PIXI.Point(867,-585),new PIXI.Point(-354,537),new PIXI.Point(-813,537)]),i.endFill(),e.addChild(i),e._item.mask=i,e}return n(e,t),e.prototype.initialize=function(t,e){t?(this.position.set(505,585),this._to_pos=new PIXI.Point(993,135)):(this.position.set(695,585),this._to_pos=new PIXI.Point(207,135),this.scale.x=-1);var i=t?"battle_telop_mes_ybg4_f":"battle_telop_mes_ybg4_e";this._bg.texture=PIXI.Texture.fromFrame(i),this._item.texture=o.default.resources.getSlotitem(e,"item_up")},e.prototype.show=function(t){var e=this;createjs.Tween.get(this).wait(t).call(function(){e._play(e._to_pos.x,e._to_pos.y)})},e.prototype._play=function(t,e){s.SE.play("105"),createjs.Tween.get(this).to({x:t,y:e},200),createjs.Tween.get(this._bg).to({alpha:1},200),createjs.Tween.get(this._item).to({alpha:1},133).call(function(){s.SE.play("109")})},e}(PIXI.Container);e.ItemBox3=u;var c=function(t){function e(){var e=t.call(this)||this;return e.scale.set(.76),e.alpha=0,e}return n(e,t),e.prototype.initialize=function(t){1==t?(this.anchor.set(0,.5),this.position.x=-300):(this.anchor.set(1,.5),this.position.x=1500)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._getNormalAttackType=function(t,e,i,n){if(1==n)return 1;var r=t.stype;if(7==r&&1==e.isSubMarine())return 2;if(7==r||11==r||18==r){var s=t.mst_id,a=t.name;return 432==s||353==s||433==s?0:"\u30ea\u30b3\u30ea\u30b9\u68f2\u59eb"==a?0:"\u6df1\u6d77\u6d77\u6708\u59eb"==a?0:1}if(t.isSubMarine())return 3;if(e.isSubMarine())return 6==r||10==r||16==r||17==r?1:2;var _=o.default.model.slot.getMst(i);return null==_||5!=_.equipTypeSp&&32!=_.equipTypeSp?0:3},e.prototype._hasRocketEffect=function(t,e,i){if(0==e.isGround())return!1;if(1==i)return!1;for(var n=t.slots,o=0,r=n;o<r.length;o++){var s=r[o];if(null!=s){var a=s.mst_id;if(126==a||346==a||347==a||348==a||349==a)return!0}}return!1},e.prototype._getDaihatsuEffectType=function(t,e){var i=["\u96e2\u5cf6\u68f2\u59eb","\u7832\u53f0\u5c0f\u9b3c","\u96c6\u7a4d\u5730\u68f2\u59eb","\u96c6\u7a4d\u5730\u68f2\u59eb-\u58ca","\u6cca\u5730\u6c34\u9b3c \u30d0\u30ab\u30f3\u30b9mode","\u96c6\u7a4d\u5730\u68f2\u59eb \u30d0\u30ab\u30f3\u30b9mode","\u96c6\u7a4d\u5730\u68f2\u59eb \u30d0\u30ab\u30f3\u30b9mode-\u58ca","\u98db\u884c\u5834\u59eb"];if(1==t.hasSlot(355)&&1==e.isGround())return 6;if(1==t.hasSlot(230))return 1==e.isGround()?5:0;if(1==t.hasSlot(355)&&i.indexOf(e.name)>=0)return 6;if(1==t.hasSlot(167)){if(1==t.isSubMarine()){if(1==e.isGround())return 4}else if(i.indexOf(e.name)>=0)return 4;return 0}return 1==t.hasSlot(166)&&i.indexOf(e.name)>=0?3:1==t.hasSlot(193)&&i.indexOf(e.name)>=0?3:1==t.hasSlot(68)&&i.indexOf(e.name)>=0?3:0},e}(r.TaskBase);e.PhaseHougekiBase=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(471),r=function(t){function e(e,i){return t.call(this,e,i)||this}return n(e,t),e.prototype._getShips_f=function(){var t=this._scene.data.model.deck_f;if(1==t.isCombined()){switch(this._record.common.getActiveDeckFriend()){case 1:return t.ships_main;case 2:return t.ships_sub}}return t.ships},e.prototype._getShips_e=function(){var t=this._scene.data.model.deck_e;if(1==t.isCombined()){switch(this._record.common.getActiveDeckEnemy()){case 1:return t.ships_main;case 2:return t.ships_sub}}return t.ships},e.prototype._getFlareBanner_f=function(){var t=this._record.raw.getFlareLightFriend();return this._scene.view.bannerGroupLayer.getBanner(!0,t)},e.prototype._getFlareBanner_e=function(){var t=this._record.raw.getFlareLightEnemy();return this._scene.view.bannerGroupLayer.getBanner(!1,t)},e}(o.PhaseLightingBase);e.PhaseLighting=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(27),r=i(20),s=i(2),a=function(t){function e(e,i){var n=t.call(this)||this;return n._scene=e,n._record=i,n}return n(e,t),e.prototype._start=function(){this._enterBanners()},e.prototype._enterBanners=function(){var t=this;if(1==this._scene.data.model.map_info.isNightStart()){var e=this._scene.view.bannerGroupLayer,i=new o.ParallelTask;i.add(e.createFriendEnterTask()),i.add(e.createEnemyEnterTask()),i.start(function(){t._endTask()});var n=this._scene.data.model.deck_f,s=n.formation,a=n.type,_=n.getCountMainDeck(),l=n.getCountSubDeck();this._scene.view.raderLayer.rader_f.show(s,a,_,l,!1);var u=this._scene.data.model.deck_e,c=u.formation,h=u.type,p=u.getCountMainDeck(),d=u.getCountSubDeck();return void this._scene.view.raderLayer.rader_e.show(c,h,p,d,!1)}var f=new r.TweenTask;if(1==this._scene.view.bannerGroupLayer.isEnteredFriend()&&1==this._scene.data.model.deck_f.isCombined()){var y=this._record.common.getActiveDeckFriend();if(1==y){var m=this._scene.view.bannerGroupLayer.friends_combined.createExitTweensUpDown();f.addTweens(m)}else if(2==y){var m=this._scene.view.bannerGroupLayer.friends.createExitTweens();f.addTweens(m),m=this._scene.view.bannerGroupLayer.createFriendSubDeckMoveTween(200),f.addTweens(m)}}if(1==this._scene.view.bannerGroupLayer.isEnteredEnemy()&&1==this._scene.data.model.deck_e.isCombined()){var y=this._record.common.getActiveDeckEnemy();if(1==y){var m=this._scene.view.bannerGroupLayer.enemies_combined.createExitTweensUpDown();f.addTweens(m)}else if(2==y){var m=this._scene.view.bannerGroupLayer.enemies.createExitTweens();f.addTweens(m),m=this._scene.view.bannerGroupLayer.createEnemySubDeckMoveTween(200),f.addTweens(m)}}f.start(function(){t._endTask()})},e}(s.TaskBase);e.PhaseMoveShips=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(29),a=i(38),_=i(13),l=i(54),u=i(63),c=i(465),h=i(466),p=i(467),d=i(469),f=i(470),y=function(t){function e(e,i){var n=t.call(this)||this;return n._scene=e,n._record=i,n._damage_cutin=new l.PhaseDamageCutin(n._scene),n}return n(e,t),e.prototype._start=function(){var t=this._record.raw.support_air;if(null!=t)return void this._supportAir(t);var e=this._record.raw.support_hou;if(null!=e)return void this._supportHou(e);var i=this._record.raw.support_rai;if(null!=i)return void this._supportRai(i);var n=this._record.raw.support_taisen;if(null!=n)return void this._supportTaisen(n);this._endTask()},e.prototype._supportAir=function(t){var e=this;new u.PhaseEnemyEnter(this._scene,this._record).start(function(){e._scene.view.layer_title.show(1);for(var i=e._scene.view.layer_cutin,n=t.getShipList(),r=[],_=0,l=n;_<l.length;_++){var u=l[_];if(null!=u){var c=o.default.model.ship.get(u.mem_id);null!=c?r.push({mst_id:c.mstID,damaged:u.damaged}):r.push(null)}else r.push(null)}var h=new s.SerialTask,d=new f.TaskSupportDeckCutin(i,r);h.add(d);var y=r[0].mst_id,g=r[0].damaged;h.add(new m(i,y,g));var v=e._scene.data.model.deck_f.ships,b=e._scene.data.model.deck_e.ships;h.add(new p.TaskSupportAir(e._scene,t,v,b,e._damage_cutin,null)),h.start(function(){e._scene.view.layer_title.hide(function(){new a.WaitTask(800).start(function(){e._endTask()})})})})},e.prototype._supportHou=function(t){var e=this;new u.PhaseEnemyEnter(this._scene,this._record).start(function(){e._scene.view.layer_title.show(2);for(var i=e._scene.view.layer_cutin,n=t.getShipList(),r=[],_=0,l=n;_<l.length;_++){var u=l[_];if(null!=u){var h=o.default.model.ship.get(u.mem_id);null!=h?r.push({mst_id:h.mstID,damaged:u.damaged}):r.push(null)}else r.push(null)}var p=new s.SerialTask,d=new f.TaskSupportDeckCutin(i,r);p.add(d);var y=r[0].mst_id,g=r[0].damaged;p.add(new m(i,y,g)),p.add(new c.PhaseSupportHou(e._scene,t,e._scene.data.model.deck_e.ships)),p.start(function(){e._scene.view.layer_title.hide(function(){new a.WaitTask(800).start(function(){e._endTask()})})})})},e.prototype._supportRai=function(t){var e=this;new u.PhaseEnemyEnter(this._scene,this._record).start(function(){e._scene.view.layer_title.show(3);for(var i=e._scene.view.layer_cutin,n=t.getShipList(),r=[],_=0,l=n;_<l.length;_++){var u=l[_];if(null!=u){var c=o.default.model.ship.get(u.mem_id);null!=c?r.push({mst_id:c.mstID,damaged:u.damaged}):r.push(null)}else r.push(null)}var p=new s.SerialTask,d=new f.TaskSupportDeckCutin(i,r);p.add(d);var y=r[0].mst_id,g=r[0].damaged;p.add(new m(i,y,g)),p.add(new h.PhaseSupportRai(e._scene,t,e._scene.data.model.deck_e.ships)),p.start(function(){e._scene.view.layer_title.hide(function(){new a.WaitTask(800).start(function(){e._endTask()})})})})},e.prototype._supportTaisen=function(t){var e=this;new u.PhaseEnemyEnter(this._scene,this._record).start(function(){for(var i=e._scene.view.layer_cutin,n=t.getShipList(),r=[],_=0,l=n;_<l.length;_++){var u=l[_];if(null!=u){var c=o.default.model.ship.get(u.mem_id);null!=c?r.push({mst_id:c.mstID,damaged:u.damaged}):r.push(null)}else r.push(null)}var h=new s.SerialTask,p=new f.TaskSupportDeckCutin(i,r);h.add(p);var y=r[0].mst_id,g=r[0].damaged;h.add(new m(i,y,g));var v=e._scene.data.model.deck_f.ships,b=e._scene.data.model.deck_e.ships;h.add(new d.TaskSupportTaisen(e._scene,t,v,b,e._damage_cutin,null)),h.start(function(){new a.WaitTask(800).start(function(){e._endTask()})})})},e.prototype._endTask=function(){var e=this;this._damage_cutin.start(function(){e._scene=null,e._record=null,e._damage_cutin=null,t.prototype._endTask.call(e)})},e}(r.TaskBase);e.PhaseSupport=y;var m=function(t){function e(e,i,n){var o=t.call(this)||this;return o._layer=e,o._mst_id=i,o._damaged=n,o}return n(e,t),e.prototype._start=function(){var t=this,e=new _.ShipLoader;e.add(this._mst_id,this._damaged,"full"),e.load(function(){t._show()})},e.prototype._show=function(){var t=this,e=o.default.model.ship_graph.get(this._mst_id).getBattleOffset(this._damaged),i=-740+e.x,n=o.default.resources.getShip(this._mst_id,this._damaged,"full");this._s=new PIXI.Sprite(n),this._s.x=i,this._s.y=-105+e.y,this._s.alpha=0,this._layer.addChild(this._s),createjs.Tween.get(this._s).to({x:i+665,alpha:1},500).to({x:i+740},300).call(function(){o.default.sound.voice.playAtRandom(t._mst_id.toString(),[16,17,18],[33,33,34])}).wait(300).to({x:i+1070,alpha:0},500).call(function(){t._layer.removeChild(t._s),t._endTask()})},e.prototype._endTask=function(){this._layer=null,this._s=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskFlagShip=m},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(178),a=function(t){function e(e,i){var n=t.call(this)||this;return n._scene=e,n._record=i,n}return n(e,t),Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"record",{get:function(){return this._record},enumerable:!0,configurable:!0}),e.prototype._start=function(){this._scene.view.layer_title.hide(),this._endTouchPlane()},e.prototype._endTouchPlane=function(){var t=this._scene.view.raderLayer;t.rader_f.touch_plane.hide(),t.rader_e.touch_plane.hide(),this._waitGaugeExplodeAnimation()},e.prototype._waitGaugeExplodeAnimation=function(){var t=this;1==this._scene.view.layer_gauge.isAnimation()?createjs.Tween.get(null).wait(500).call(function(){t._waitGaugeExplodeAnimation()}):this._fadeOutBGM()},e.prototype._fadeOutBGM=function(){var t=this,e=this._scene.data.model.map_info.area_id,i=this._scene.data.model.map_info.map_no,n=this._scene.data.model.map_info.isBoss();if(1==o.default.model.mst_bgm.isSameBGM(e,i,n)&&1==this._record.raw.hasDayBattle())return void this._playBossLastGasp();1==o.default.sound.bgm.playing?(o.default.sound.bgm.fadeOut(1200),createjs.Tween.get(this).wait(1200).call(function(){t._playBossLastGasp()})):this._playBossLastGasp()},e.prototype._playBossLastGasp=function(){if(o.default.option.vol_voice<=0)return void this._wait();var t=this._scene.data.model.deck_e.ships[0];if(0==(0==t.damageType&&t.hp_init>0))return void this._wait();var e=this._scene.view.layer_gauge.isExploded(),i=s.EnemyVoiceConst.getLastGaspVoiceID(this._scene,t);return e&&i>0?void this._playBossVoice(i):(i=s.EnemyVoiceConst.getSourGrapesVoiceID(this._scene,t))>0?void this._playBossVoice(i):void this._wait()},e.prototype._playBossVoice=function(t){var e=this;o.default.sound.voice.play("9998",t,function(){e._wait()})},e.prototype._wait=function(){var t=this;createjs.Tween.get(this).wait(1e3).call(function(){t._shutter_close()})},e.prototype._shutter_close=function(){var t=this;this.scene.shutter2.close(),this.scene.shutter2.once("closed",function(){t._endTask()})},e}(r.TaskBase);e.PhaseEnding=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(76),r=i(1424),s=i(95),a=i(96),_=i(97),l=i(64),u=i(104),c=i(100),h=i(99),p=i(101),d=i(98),f=i(102),y=i(77),m=i(103),g=function(t){function e(e,i){var n=t.call(this,e,!1)||this;return n._record=i,n}return n(e,t),e.prototype._start=function(){var t=this;this.scene.bg.setDay(function(){t._shutterOpen()})},e.prototype._shutterOpen=function(){var t=this,e=this.scene.view;1==e.shutter.isOpened()?this._jetAirUnit():createjs.Tween.get(null).wait(3e3).call(function(){e.shutter.once("opened",function(){t._moveBanner()}),e.shutter.open()})},e.prototype._moveBanner=function(){var t=this;new r.TaskMoveBannerDay(this.scene,this._record).start(function(){t._jetAirUnit()})},e.prototype._jetAirUnit=function(){var t=this;new s.PhaseAirUnitJet(this.scene,this._record).start(function(){t._jetAirWar()})},e.prototype._jetAirWar=function(){var t=this;new a.PhaseAirWarJet(this.scene,this._record).start(function(){t._airUnit()})},e.prototype._airUnit=function(){var t=this;new _.PhaseAirUnit(this.scene,this._record).start(function(){t._support()})},e.prototype._support=function(){var t=this;new u.PhaseSupport(this.scene,this._record).start(function(){t._airWar()})},e.prototype._airWar=function(){var t=this;new l.PhaseAirWar(this.scene,this._record).start(function(){t._support()})},e.prototype._openingAttack=function(){var t=this;new c.PhaseHougekiOpening(this.scene,this._record,this._record.raw.hougeki_opening).start(function(){t._openingTorpedo()})},e.prototype._openingTorpedo=function(){var t=this;new h.PhaseRaigekiOpening(this.scene,this._record).start(function(){t._formation()})},e.prototype._formation=function(){var t=this;new p.PhaseFormation(this.scene,this._record).start(function(){t._airWar2()})},e.prototype._airWar2=function(){var t=this;new d.PhaseAirWar2(this.scene,this._record).start(function(){t._attack1()})},e.prototype._attack1=function(){var t=this;new f.PhaseHougeki(this.scene,this._record,this._record.raw.hougeki1).start(function(){t._attack2()})},e.prototype._attack2=function(){var t=this;new f.PhaseHougeki(this.scene,this._record,this._record.raw.hougeki2).start(function(){t._attack3()})},e.prototype._attack3=function(){var t=this;new f.PhaseHougeki(this.scene,this._record,this._record.raw.hougeki3).start(function(){t._torpedo()})},e.prototype._torpedo=function(){var t=this;new y.PhaseRaigeki(this.scene,this._record).start(function(){t._ending()})},e.prototype._ending=function(){var t=this;new m.PhaseEnding(this.scene,this._record).start(function(){t._endTask()})},e}(o.PhaseCombatBase);e.PhaseDayFromNight=g},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(27),r=i(29),s=i(20),a=i(2),_=function(t){function e(e,i){var n=t.call(this)||this;return n._scene=e,n._record=i,n}return n(e,t),e.prototype._start=function(){var t=this,e=new o.ParallelTask;e.add(this._createTween_f()),e.add(this._createTween_e()),e.start(function(){t._endTask()})},e.prototype._endTask=function(){this._scene=null,this._record=null},e.prototype._createTween_f=function(){var t=this._scene.view.bannerGroupLayer;if(0==t.isEnteredFriend())return t.createFriendEnterTask();var e=new s.TweenTask;if(1==this._scene.data.model.deck_f.isCombined()){var i=this._record.common.getActiveDeckFriend();1==i?e.addTweens(t.friends_combined.createExitTweensUpDown()):2==i&&(e.addTweens(t.friends.createExitTweens()),e.addTweens(t.createFriendSubDeckMoveTween(200)))}return e},e.prototype._createTween_e=function(){var t=this._record.common.getActiveDeckEnemy(),e=this._scene.view.bannerGroupLayer;if(0==e.isEnteredEnemy())return 1==t?e.createEnemyEnterTask():2==t?new r.SerialTask(e.createEnemyEnterTask(),(new s.TweenTask).addTweens(e.enemies.createExitTweens()).addTweens(e.createEnemySubDeckMoveTween(200))):e.createEnemyEnterTask();var i=new s.TweenTask;if(1==this._scene.data.model.deck_e.isCombined()){var n=this._record.common.getActiveDeckEnemy();1==n?i.addTweens(e.enemies_combined.createExitTweensUpDown()):2==n&&(i.addTweens(e.enemies.createExitTweens()),i.addTweens(e.createEnemySubDeckMoveTween(200)))}return i},e}(a.TaskBase);e.TaskMoveBannerDay=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(76),r=i(94),s=i(122),a=i(95),_=i(96),l=i(97),u=i(64),c=i(98),h=i(99),p=i(77),d=i(100),f=i(104),y=i(101),m=i(102),g=i(103),v=function(t){function e(e,i,n){var o=t.call(this,e,n)||this;return o._record=i,o}return n(e,t),e.prototype._start=function(){this._sakuteki()},e.prototype._sakuteki=function(){var t=this;new s.PhaseSakuteki(this.scene,this._record).start(function(){t._ration()})},e.prototype._ration=function(){var t=this;new r.PhaseRation(this.scene,this._record).start(function(){t._jetAirUnit()})},e.prototype._jetAirUnit=function(){var t=this;new a.PhaseAirUnitJet(this.scene,this._record).start(function(){t._jetAirWar()})},e.prototype._jetAirWar=function(){var t=this;new _.PhaseAirWarJet(this.scene,this._record).start(function(){t._airUnit()})},e.prototype._airUnit=function(){var t=this;new l.PhaseAirUnit(this.scene,this._record).start(function(){t._airWar()})},e.prototype._airWar=function(){var t=this;new u.PhaseAirWar(this.scene,this._record).start(function(){t._support()})},e.prototype._support=function(){var t=this;new f.PhaseSupport(this.scene,this._record).start(function(){t._openingAttack()})},e.prototype._openingAttack=function(){var t=this;new d.PhaseHougekiOpening(this.scene,this._record,this._record.raw.hougeki_opening).start(function(){t._openingTorpedo()})},e.prototype._openingTorpedo=function(){var t=this;new h.PhaseRaigekiOpening(this.scene,this._record).start(function(){t._formation()})},e.prototype._formation=function(){var t=this;new y.PhaseFormation(this.scene,this._record).start(function(){t._airWar2()})},e.prototype._airWar2=function(){var t=this;new c.PhaseAirWar2(this.scene,this._record).start(function(){t._attack1()})},e.prototype._attack1=function(){var t=this;new m.PhaseHougeki(this.scene,this._record,this._record.raw.hougeki1).start(function(){t._torpedo()})},e.prototype._torpedo=function(){var t=this;new p.PhaseRaigeki(this.scene,this._record).start(function(){t._attack2()})},e.prototype._attack2=function(){var t=this;new m.PhaseHougeki(this.scene,this._record,this._record.raw.hougeki2).start(function(){t._attack3()})},e.prototype._attack3=function(){var t=this;new m.PhaseHougeki(this.scene,this._record,this._record.raw.hougeki3).start(function(){t._ending()})},e.prototype._ending=function(){var t=this;new g.PhaseEnding(this.scene,this._record).start(function(){t._endTask()})},e}(o.PhaseCombatBase);e.PhaseDay_06vs12=v},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(76),r=i(94),s=i(97),a=i(95),_=i(64),l=i(98),u=i(96),c=i(103),h=i(101),p=i(100),d=i(102),f=i(99),y=i(77),m=i(122),g=i(104),v=function(t){function e(e,i,n){var o=t.call(this,e,n)||this;return o._record=i,o}return n(e,t),e.prototype._start=function(){this._sakuteki()},e.prototype._sakuteki=function(){var t=this;new m.PhaseSakuteki(this.scene,this._record).start(function(){t._ration()})},e.prototype._ration=function(){var t=this;new r.PhaseRation(this.scene,this._record).start(function(){t._jetAirUnit()})},e.prototype._jetAirUnit=function(){var t=this;new a.PhaseAirUnitJet(this.scene,this._record).start(function(){t._jetAirWar()})},e.prototype._jetAirWar=function(){var t=this;new u.PhaseAirWarJet(this.scene,this._record).start(function(){t._airUnit()})},e.prototype._airUnit=function(){var t=this;new s.PhaseAirUnit(this.scene,this._record).start(function(){t._airWar()})},e.prototype._airWar=function(){var t=this;new _.PhaseAirWar(this.scene,this._record).start(function(){t._support()})},e.prototype._support=function(){var t=this;new g.PhaseSupport(this.scene,this._record).start(function(){t._openingAttack()})},e.prototype._openingAttack=function(){var t=this;new p.PhaseHougekiOpening(this.scene,this._record,this._record.raw.hougeki_opening).start(function(){t._openingTorpedo()})},e.prototype._openingTorpedo=function(){var t=this;new f.PhaseRaigekiOpening(this.scene,this._record).start(function(){t._formation()})},e.prototype._formation=function(){var t=this;new h.PhaseFormation(this.scene,this._record).start(function(){t._airWar2()})},e.prototype._airWar2=function(){var t=this;new l.PhaseAirWar2(this.scene,this._record).start(function(){t._attack1()})},e.prototype._attack1=function(){var t=this;new d.PhaseHougeki(this.scene,this._record,this._record.raw.hougeki1).start(function(){t._attack2()})},e.prototype._attack2=function(){var t=this;new d.PhaseHougeki(this.scene,this._record,this._record.raw.hougeki2).start(function(){t._torpedo()})},e.prototype._torpedo=function(){var t=this;new y.PhaseRaigeki(this.scene,this._record).start(function(){t._attack3()})},e.prototype._attack3=function(){var t=this;new d.PhaseHougeki(this.scene,this._record,this._record.raw.hougeki3).start(function(){t._ending()})},e.prototype._ending=function(){var t=this;new c.PhaseEnding(this.scene,this._record).start(function(){t._endTask()})},e}(o.PhaseCombatBase);e.PhaseDay_Kido_vs12=v},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(76),r=i(94),s=i(97),a=i(95),_=i(64),l=i(98),u=i(96),c=i(103),h=i(101),p=i(100),d=i(102),f=i(99),y=i(77),m=i(122),g=i(104),v=function(t){function e(e,i,n){var o=t.call(this,e,n)||this;return o._record=i,o}return n(e,t),e.prototype._start=function(){this._sakuteki()},e.prototype._sakuteki=function(){var t=this;new m.PhaseSakuteki(this.scene,this._record).start(function(){t._ration()})},e.prototype._ration=function(){var t=this;new r.PhaseRation(this.scene,this._record).start(function(){t._jetAirUnit()})},e.prototype._jetAirUnit=function(){var t=this;new a.PhaseAirUnitJet(this.scene,this._record).start(function(){t._jetAirWar()})},e.prototype._jetAirWar=function(){var t=this;new u.PhaseAirWarJet(this.scene,this._record).start(function(){t._airUnit()})},e.prototype._airUnit=function(){var t=this;new s.PhaseAirUnit(this.scene,this._record).start(function(){t._airWar()})},e.prototype._airWar=function(){var t=this;new _.PhaseAirWar(this.scene,this._record).start(function(){t._support()})},e.prototype._support=function(){var t=this;new g.PhaseSupport(this.scene,this._record).start(function(){t._openingAttack()})},e.prototype._openingAttack=function(){var t=this;new p.PhaseHougekiOpening(this.scene,this._record,this._record.raw.hougeki_opening).start(function(){t._openingTorpedo()})},e.prototype._openingTorpedo=function(){var t=this;new f.PhaseRaigekiOpening(this.scene,this._record).start(function(){t._formation()})},e.prototype._formation=function(){var t=this;new h.PhaseFormation(this.scene,this._record).start(function(){t._airWar2()})},e.prototype._airWar2=function(){var t=this;new l.PhaseAirWar2(this.scene,this._record).start(function(){t._attack1()})},e.prototype._attack1=function(){var t=this;new d.PhaseHougeki(this.scene,this._record,this._record.raw.hougeki1).start(function(){t._torpedo()})},e.prototype._torpedo=function(){var t=this;new y.PhaseRaigeki(this.scene,this._record).start(function(){t._attack2()})},e.prototype._attack2=function(){var t=this;new d.PhaseHougeki(this.scene,this._record,this._record.raw.hougeki2).start(function(){t._attack3()})},e.prototype._attack3=function(){var t=this;new d.PhaseHougeki(this.scene,this._record,this._record.raw.hougeki3).start(function(){t._ending()})},e.prototype._ending=function(){var t=this;new c.PhaseEnding(this.scene,this._record).start(function(){t._endTask()})},e}(o.PhaseCombatBase);e.PhaseDay_Kido=v},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(76),r=i(94),s=i(97),a=i(95),_=i(64),l=i(98),u=i(96),c=i(103),h=i(101),p=i(100),d=i(102),f=i(99),y=i(77),m=i(122),g=i(104),v=function(t){function e(e,i,n){var o=t.call(this,e,n)||this;return o._record=i,o}return n(e,t),e.prototype._start=function(){this._sakuteki()},e.prototype._sakuteki=function(){var t=this;new m.PhaseSakuteki(this.scene,this._record).start(function(){t._ration()})},e.prototype._ration=function(){var t=this;new r.PhaseRation(this.scene,this._record).start(function(){t._jetAirUnit()})},e.prototype._jetAirUnit=function(){var t=this;new a.PhaseAirUnitJet(this.scene,this._record).start(function(){t._jetAirWar()})},e.prototype._jetAirWar=function(){var t=this;new u.PhaseAirWarJet(this.scene,this._record).start(function(){t._airUnit()})},e.prototype._airUnit=function(){var t=this;new s.PhaseAirUnit(this.scene,this._record).start(function(){t._airWar()})},e.prototype._airWar=function(){var t=this;new _.PhaseAirWar(this.scene,this._record).start(function(){t._support()})},e.prototype._support=function(){var t=this;new g.PhaseSupport(this.scene,this._record).start(function(){t._openingAttack()})},e.prototype._openingAttack=function(){var t=this;new p.PhaseHougekiOpening(this.scene,this._record,this._record.raw.hougeki_opening).start(function(){t._openingTorpedo()})},e.prototype._openingTorpedo=function(){var t=this;new f.PhaseRaigekiOpening(this.scene,this._record).start(function(){t._formation()})},e.prototype._formation=function(){var t=this;new h.PhaseFormation(this.scene,this._record).start(function(){t._airWar2()})},e.prototype._airWar2=function(){var t=this;new l.PhaseAirWar2(this.scene,this._record).start(function(){t._attack1()})},e.prototype._attack1=function(){var t=this;new d.PhaseHougeki(this.scene,this._record,this._record.raw.hougeki1).start(function(){t._attack2()})},e.prototype._attack2=function(){var t=this;new d.PhaseHougeki(this.scene,this._record,this._record.raw.hougeki2).start(function(){t._attack3()})},e.prototype._attack3=function(){var t=this;new d.PhaseHougeki(this.scene,this._record,this._record.raw.hougeki3).start(function(){t._torpedo()})},e.prototype._torpedo=function(){var t=this;new y.PhaseRaigeki(this.scene,this._record).start(function(){t._ending()})},e.prototype._ending=function(){var t=this;new c.PhaseEnding(this.scene,this._record).start(function(){t._endTask()})},e}(o.PhaseCombatBase);e.PhaseDay_Suijo_vs12=v},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(76),r=i(94),s=i(97),a=i(95),_=i(64),l=i(98),u=i(96),c=i(103),h=i(101),p=i(100),d=i(102),f=i(99),y=i(77),m=i(122),g=i(104),v=function(t){function e(e,i,n){var o=t.call(this,e,n)||this;return o._record=i,o}return n(e,t),e.prototype._start=function(){this._sakuteki()},e.prototype._sakuteki=function(){var t=this;new m.PhaseSakuteki(this.scene,this._record).start(function(){t._ration()})},e.prototype._ration=function(){var t=this;new r.PhaseRation(this.scene,this._record).start(function(){t._jetAirUnit()})},e.prototype._jetAirUnit=function(){var t=this;new a.PhaseAirUnitJet(this.scene,this._record).start(function(){t._jetAirWar()})},e.prototype._jetAirWar=function(){var t=this;new u.PhaseAirWarJet(this.scene,this._record).start(function(){t._airUnit()})},e.prototype._airUnit=function(){var t=this;new s.PhaseAirUnit(this.scene,this._record).start(function(){t._airWar()})},e.prototype._airWar=function(){var t=this;new _.PhaseAirWar(this.scene,this._record).start(function(){t._support()})},e.prototype._support=function(){var t=this;new g.PhaseSupport(this.scene,this._record).start(function(){t._openingAttack()})},e.prototype._openingAttack=function(){var t=this;new p.PhaseHougekiOpening(this.scene,this._record,this._record.raw.hougeki_opening).start(function(){t._openingTorpedo()})},e.prototype._openingTorpedo=function(){var t=this;new f.PhaseRaigekiOpening(this.scene,this._record).start(function(){t._formation()})},e.prototype._formation=function(){var t=this;new h.PhaseFormation(this.scene,this._record).start(function(){t._airWar2()})},e.prototype._airWar2=function(){var t=this;new l.PhaseAirWar2(this.scene,this._record).start(function(){t._attack1()})},e.prototype._attack1=function(){var t=this;new d.PhaseHougeki(this.scene,this._record,this._record.raw.hougeki1).start(function(){t._attack2()})},e.prototype._attack2=function(){var t=this;new d.PhaseHougeki(this.scene,this._record,this._record.raw.hougeki2).start(function(){t._attack3()})},e.prototype._attack3=function(){var t=this;new d.PhaseHougeki(this.scene,this._record,this._record.raw.hougeki3).start(function(){t._torpedo()})},e.prototype._torpedo=function(){var t=this;new y.PhaseRaigeki(this.scene,this._record).start(function(){t._ending()})},e.prototype._ending=function(){var t=this;new c.PhaseEnding(this.scene,this._record).start(function(){t._endTask()})},e}(o.PhaseCombatBase);e.PhaseDay_Suijo=v},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(125),s=i(2),a=i(12),_=i(6),l=i(16),u=i(1),c=function(t){function e(e){var i=t.call(this)||this;return i._result=!1,i._onSelect=function(t){_.SE.play("106"),i._result=t,i._hide()},i._scene=e,i}return n(e,t),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e.prototype._start=function(){this._layer=new h(this._onSelect),this._layer.position.set(o.default.width/2,o.default.height/2),this._layer.alpha=0,this._scene.addChild(this._layer),this._scene.view.layer_title.show(7,this._scene),this._showBtns()},e.prototype._showBtns=function(){var t=this;this._layer.initialize(),createjs.Tween.get(this._layer).to({alpha:1},300).call(function(){t._layer.activate()})},e.prototype._hide=function(){var t=this;this._layer.deactivate(),this._scene.view.layer_title.hide(),createjs.Tween.get(this._layer.btn_not_night).to({x:-o.default.width/2},500),createjs.Tween.get(this._layer.btn_go_night).to({x:o.default.width/2},500).call(function(){t._endTask()})},e.prototype._endTask=function(){this._scene.removeChild(this._layer),this._layer.dispose(),this._scene=null,this._layer=null,t.prototype._endTask.call(this)},e}(s.TaskBase);e.TaskGoNightBattleSelect=c;var h=function(t){function e(e){var i=t.call(this)||this;return i._btn_not_night=new f(e),i._btn_not_night.position.set(-162,0),i._btn_go_night=new y(e),i._btn_go_night.position.set(162,0),i.addChild(i._btn_not_night),i.addChild(i._btn_go_night),i}return n(e,t),Object.defineProperty(e.prototype,"btn_not_night",{get:function(){return this._btn_not_night},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"btn_go_night",{get:function(){return this._btn_go_night},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._btn_not_night.initialize(),this._btn_go_night.initialize()},e.prototype.activate=function(){this._btn_not_night.activate(),this._btn_go_night.activate()},e.prototype.deactivate=function(){this._btn_not_night.deactivate(),this._btn_go_night.deactivate()},e.prototype.dispose=function(){this._btn_not_night.dispose(),this._btn_go_night.dispose()},e}(PIXI.Container),p=function(t){function e(e,i){var n=t.call(this)||this;return n._onMouseOver=function(){n._setTexture(!0),n._wave.start()},n._onMouseOut=function(){n._setTexture(!1),n._wave.stop()},n._onClick=function(){0!=n.buttonMode&&null!=n._cb_onClick&&n._cb_onClick(n._value)},n._value=e,n._cb_onClick=i,n._wave=new d,n._btn=new PIXI.Sprite,n.interactive=!0,n.addChild(n._wave),n.addChild(n._btn),n}return n(e,t),e.prototype.initialize=function(){var t=[new PIXI.Point(-21,-71),new PIXI.Point(78,-60),new PIXI.Point(96,14),new PIXI.Point(17,77),new PIXI.Point(-81,65),new PIXI.Point(-99,-8)];this.hitArea=new PIXI.Polygon(t),this._wave.initialize(),this._setTexture(!1)},e.prototype._drawHitArea=function(t){if(null!=t){var e=new PIXI.Graphics;e.beginFill(65280,.3),e.moveTo(t[0].x,t[0].y);for(var i=1;i<t.length;i++)e.lineTo(t[i].x,t[i].y);e.endFill(),this.addChildAt(e,0)}},e.prototype.activate=function(){1!=this.buttonMode&&(this.buttonMode=!0,this.on(u.EventType.MOUSEOVER,this._onMouseOver),this.on(u.EventType.MOUSEOUT,this._onMouseOut),this.on(u.EventType.CLICK,this._onClick),1==r.InteractiveUtil.isOnMouse(this)&&this._onMouseOver())},e.prototype.deactivate=function(){this.off(u.EventType.MOUSEOVER,this._onMouseOver),this.off(u.EventType.MOUSEOUT,this._onMouseOut),this.off(u.EventType.CLICK,this._onClick),this.buttonMode=!1},e.prototype.dispose=function(){this._wave.dispose(),this.deactivate(),this._cb_onClick=null},e}(PIXI.Container),d=function(t){function e(){var e=t.call(this)||this;return e._wave1=new a.Sprite,e._wave1.anchor.set(.5),e._initWave(e._wave1),e._wave2=new a.Sprite,e._wave2.anchor.set(.5),e._initWave(e._wave2),e._wave_tweens=new Array(2),e.addChild(e._wave1),e.addChild(e._wave2),e}return n(e,t),e.prototype.initialize=function(){this._wave1.texture=l.BATTLE_MAIN.getTexture(3),this._wave2.texture=l.BATTLE_MAIN.getTexture(3)},e.prototype.dispose=function(){this.stop()},e.prototype._initWave=function(t){t.scale.set(0),t.alpha=0},e.prototype.start=function(){this.stop(),this._wave_tweens[0]=createjs.Tween.get(this._wave1,{loop:!0}).to({alpha:1,scaleX:.4,scaleY:.4},400).to({alpha:0,scaleX:1,scaleY:1},400).to({scaleX:0,scaleY:0},0).wait(200),this._wave_tweens[1]=createjs.Tween.get(this._wave2,{loop:!0}).wait(200).to({alpha:1,scaleX:.4,scaleY:.4},400).to({alpha:0,scaleX:1,scaleY:1},400).to({scaleX:0,scaleY:0},0)},e.prototype.stop=function(){for(var t=0;t<this._wave_tweens.length;t++)null!=this._wave_tweens[t]&&(this._wave_tweens[t].setPaused(!0),this._wave_tweens[t]=null);this._initWave(this._wave1),this._initWave(this._wave2)},e}(PIXI.Container),f=function(t){function e(e){return t.call(this,!1,e)||this}return n(e,t),e.prototype._setTexture=function(t){1==t?(this._btn.texture=l.BATTLE_MAIN.getTexture(5),this._btn.position.set(-128,-105)):(this._btn.texture=l.BATTLE_MAIN.getTexture(4),this._btn.position.set(-99,-78))},e}(p),y=function(t){function e(e){return t.call(this,!0,e)||this}return n(e,t),e.prototype._setTexture=function(t){1==t?(this._btn.texture=l.BATTLE_MAIN.getTexture(7),this._btn.position.set(-129,-105)):(this._btn.texture=l.BATTLE_MAIN.getTexture(6),this._btn.position.set(-101,-78))},e}(p)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=null;e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(225),o=i(169),r=i(226),s=i(474),a=i(1442),_=function(){function t(t){this._model=t,this._records=[]}return Object.defineProperty(t.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),t.prototype.addDayRecord=function(t){var e=new s.BattleRecordDay(t);this._records.push(e);var i=this._model.deck_f;i=null!=i?this._createDeckFriend(i,e):this._createAirBase(e);var n=this._createDeckEnemy(this._model.deck_e,e);this._model.updateDeckData(i,n)},t.prototype.addNightRecord=function(t){var e=new a.BattleRecordNight(t);this._records.push(e);var i=this._model.deck_f;i=null!=i?this._createDeckFriend(i,e):this._createAirBase(e);var n=this._createDeckEnemy(this._model.deck_e,e);this._model.updateDeckData(i,n)},t.prototype.getFirstRecord=function(){return 0==this._records.length?null:this._records[0]},t.prototype.getLastRecord=function(){if(0==this._records.length)return null;var t=this._records.length;return this._records[t-1]},t.prototype.isNight=function(){var t=this.getLastRecord();return null!=t&&"day"!=t.phase},t.prototype.isBossDamaged=function(){var t=this.getFirstRecord();if(null!=t)return t.common.isBossDamaged()},t.prototype._createDeckFriend=function(t,e){for(var i=t.practice,o=e.common.deck_id,r=t.medal_num,s=t.user_name,a=t.type,_=t.name,l=e.common.getTaihiShipIndexes(),u=new Array,c=0;c<t.ships.length;c++){var h=t.ships[c];if(null==h)u.push(null);else{var p=h.clone(),d=e.common.getHPNowFriend(c);i&&(d=Math.max(1,d));var f=e.common.getHPMaxFriend(c);p.initializeHPInfo(d,f);var y=e.common.getParamsFriend(c);p.initializeParams(y.karyoku,y.raisou,y.taiku,y.soukou);var m=-1!=l.indexOf(c);p.initializeTaihi(m),u.push(p)}}var g=t.id_second,v=t.name_second,b=new n.DeckModelReplica(o,i,r,s,a,_,u,g,v);return b.formation=e.common.formation_id_f,b},t.prototype._createAirBase=function(t){for(var e=[],i=0;i<6;i++){var r=t.common.getHPMaxFriend(i);if(r<=0)break;var s=-(i+1),a=s,_=new o.ShipModelReplica(0,!1,i,s,a,1,0),l=t.common.getHPNowFriend(i);_.initializeHPInfo(l,r);var u=t.common.getParamsFriend(i);_.initializeParams(u.karyoku,u.raisou,u.taiku,u.soukou),e.push(_)}var c=new n.DeckModelReplica(0,!1,0,"",0,"",e,0,"");return c.formation=t.common.formation_id_f,c},t.prototype._createDeckEnemy=function(t,e){for(var i=null!=t&&t.practice,s=null==t?0:t.id,a=null==t?0:t.medal_num,_=null==t?"":t.user_name,l=null==t?"":t.name,u=[],c=e.common.isCombinedEnemy(),h=0;h<(c?12:6);h++){var p=e.common.getMstIDEnemy(h);if(p<=0)u.push(null);else{var d=e.common.getLevelEnemy(h),f=new o.ShipModelReplica(1,i,h,p,-h,d),y=e.common.getHPNowEnemy(h);i&&(y=Math.max(1,y));var m=e.common.getHPMaxEnemy(h);f.initializeHPInfo(y,m);for(var g=e.common.getSlotMstIDsEnemy(h),v=r.SlotitemModelReplica.convertFromMstIDs(g),b=[],w=0;w<v.length;w++)b.push(0);f.initializeSlots(v,null,b);var x=e.common.getParamsEnemy(h);f.initializeParams(x.karyoku,x.raisou,x.taiku,x.soukou),u.push(f)}}var I;return I=0==c?new n.DeckModelReplica(s,i,a,_,0,l,u):new n.DeckModelReplica(s,i,a,_,1,l,u,0,""),I.formation=e.common.formation_id_e,I},t}();e.BattleData=_},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(t,e,i,n){void 0===i&&(i=null),void 0===n&&(n=null),this._offset_x=0,this._offset_y=0,this._type=t,this._mst_id=e,this._name=n,this._stype=i}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mst_id",{get:function(){return this._mst_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"voice_id",{get:function(){return this._voice_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this._message},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){if(null!=this._name)return this._name;var t=n.default.model.ship.getMst(this._mst_id);return null==t?"":t.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stype",{get:function(){if(null!=this._stype)return this._stype;var t=n.default.model.ship.getMst(this._mst_id);return null==t?"":t.shipTypeName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offset_x",{get:function(){return this._offset_x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offset_y",{get:function(){return this._offset_y},enumerable:!0,configurable:!0}),t.prototype.setMessage=function(t,e){return this._voice_id=t,this._message=e,this},t.prototype.setOffset=function(t,e){return this._offset_x=t,this._offset_y=e,this},t}();e.BossModel=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=i(1435),r=i(1436),s=i(1438),a=i(1439),_=i(1440),l=i(1441),u=i(477),c=i(478),h=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"sakuteki",{get:function(){return new o.SakutekiData(this._o)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ration",{get:function(){var t=n.ObjUtil.getNumArray(this._o,"api_combat_ration");return null==t?[]:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ration_combined",{get:function(){var t=n.ObjUtil.getNumArray(this._o,"api_combat_ration_combined");return null==t?[]:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stage_flag",{get:function(){return n.ObjUtil.getNumArray(this._o,"api_stage_flag")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"air_unit_jet",{get:function(){var t=n.ObjUtil.getObjectArray(this._o,"api_air_base_injection");return null==t?null:new _.AirUnitJetData(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"air_war_jet",{get:function(){var t=n.ObjUtil.getObject(this._o,"api_injection_kouku");return null==t?null:new r.AirWarData(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"air_unit",{get:function(){var t=n.ObjUtil.getObjectArray(this._o,"api_air_base_attack");if(null==t)return[];if(0==t.hasOwnProperty("length"))return[new s.AirUnitData(t)];for(var e=[],i=0,o=t;i<o.length;i++){var r=o[i];e.push(new s.AirUnitData(r))}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"air_war",{get:function(){var t=n.ObjUtil.getObject(this._o,"api_kouku");return null==t?null:new r.AirWarData(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"air_war2",{get:function(){var t=n.ObjUtil.getObject(this._o,"api_kouku2");return null==t?null:new r.AirWarData(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"support_air",{get:function(){if(1!=n.ObjUtil.getNumber(this._o,"api_support_flag"))return null;var t=n.ObjUtil.getObject(this._o,"api_support_info");if(null==t)return null;var e=n.ObjUtil.getObject(t,"api_support_airatack");return new u.AirSupportData(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"support_hou",{get:function(){if(2!=n.ObjUtil.getNumber(this._o,"api_support_flag"))return null;var t=n.ObjUtil.getObject(this._o,"api_support_info");if(null==t)return null;var e=n.ObjUtil.getObject(t,"api_support_hourai");return new c.SupportData(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"support_rai",{get:function(){if(3!=n.ObjUtil.getNumber(this._o,"api_support_flag"))return null;var t=n.ObjUtil.getObject(this._o,"api_support_info");if(null==t)return null;var e=n.ObjUtil.getObject(t,"api_support_hourai");return new c.SupportData(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"support_taisen",{get:function(){if(4!=n.ObjUtil.getNumber(this._o,"api_support_flag"))return null;var t=n.ObjUtil.getObject(this._o,"api_support_info");if(null==t)return null;var e=n.ObjUtil.getObject(t,"api_support_airatack");return new u.AirSupportData(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"raigeki_opening",{get:function(){var t=n.ObjUtil.getObject(this._o,"api_opening_atack");return null==t?null:new a.RaigekiData(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"raigeki",{get:function(){var t=n.ObjUtil.getObject(this._o,"api_raigeki");return null==t?null:new a.RaigekiData(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hougeki_opening",{get:function(){var t=n.ObjUtil.getObjectArray(this._o,"api_opening_taisen");return null==t?null:new l.HougekiListData(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hougeki1",{get:function(){var t=n.ObjUtil.getObjectArray(this._o,"api_hougeki1");return null==t?null:new l.HougekiListData(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hougeki2",{get:function(){var t=n.ObjUtil.getObjectArray(this._o,"api_hougeki2");return null==t?null:new l.HougekiListData(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hougeki3",{get:function(){var t=n.ObjUtil.getObjectArray(this._o,"api_hougeki3");return null==t?null:new l.HougekiListData(t)},enumerable:!0,configurable:!0}),t.prototype.isNightBattle=function(){return 1==n.ObjUtil.getNumber(this._o,"api_midnight_flag")},t}();e.RawDayBattleData=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(t){this._o=t}return t.prototype.isSuccess_f=function(){return this._isSuccess(this._data_f)},t.prototype.isSuccess_e=function(){return this._isSuccess(this._data_e)},t.prototype.hasPlane_f=function(){return this._hasPlane(this._data_f)},t.prototype.hasPlane_e=function(){return this._hasPlane(this._data_e)},t.prototype.hasMikikan_f=function(){return this._hasMikikan(this._data_f)},t.prototype.hasMikikan_e=function(){return this._hasMikikan(this._data_e)},Object.defineProperty(t.prototype,"_data_f",{get:function(){var t=n.ObjUtil.getNumArray(this._o,"api_search");return null!=t&&t.length>0?t[0]:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_data_e",{get:function(){var t=n.ObjUtil.getNumArray(this._o,"api_search");return null!=t&&t.length>1?t[1]:-1},enumerable:!0,configurable:!0}),t.prototype._isSuccess=function(t){return 1==t||2==t||5==t},t.prototype._hasPlane=function(t){return 1==t||2==t||3==t||4==t},t.prototype._hasMikikan=function(t){return 2==t||3==t},t}();e.SakutekiData=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),r=i(186),s=function(t){function e(e){var i=t.call(this,e)||this;return i._initPlaneFrom(),i}return n(e,t),Object.defineProperty(e.prototype,"seiku",{get:function(){var t=this._stage1;return null==t?0:o.ObjUtil.getNumber(t,"api_disp_seiku")},enumerable:!0,configurable:!0}),e}(r.AirWarDataBase);e.AirWarData=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(t,e,i){this._friend=t,this._o={};for(var n in e){var o=e[n];this._o[n]=[];for(var r=0;r<o.length;r++)this._o[n].push(o[r]);for(;this._o[n].length<6;)this._o[n].push(0)}if(null!=i)for(var n in i){var o=i[n];if(null!=o){0==this._o.hasOwnProperty(n)&&(this._o=[0,0,0,0,0,0]);for(var r=0;r<o.length;r++)this._o[n].push(o[r]);for(;this._o[n].length<12;)this._o[n].push(0)}}}return Object.defineProperty(t.prototype,"friend",{get:function(){return this._friend},enumerable:!0,configurable:!0}),t.prototype.hasDamage=function(){var t=this._friend?"api_fdam":"api_edam";return this._hasDamage(this._o,t)},t.prototype._hasDamage=function(t,e){var i=n.ObjUtil.getNumArray(t,e);if(null!=i)for(var o=0,r=i;o<r.length;o++){var s=r[o];if(s>0)return!0}return!1},t.prototype.beBombed=function(){var t=this._friend?"api_fbak_flag":"api_ebak_flag",e=n.ObjUtil.getNumArray(this._o,t);if(null==e)return!1;for(var i=Math.min(e.length,6),o=0;o<i;o++)if(e[o]>0)return!0;return!1},t.prototype.beBombedCombined=function(){var t=this._friend?"api_fbak_flag":"api_ebak_flag",e=n.ObjUtil.getNumArray(this._o,t);if(null==e)return!1;for(var i=6;i<e.length;i++)if(e[i]>0)return!0;return!1},t.prototype.getDamage=function(t){var e=this._friend?"api_fdam":"api_edam",i=n.ObjUtil.getNumArray(this._o,e);return null==i||i.length<=t?0:Math.floor(i[t])},t.prototype.getBak=function(t){var e=this._friend?"api_fbak_flag":"api_ebak_flag",i=n.ObjUtil.getNumArray(this._o,e);return!(null==i||i.length<=t)&&1==i[t]},t.prototype.getRai=function(t){var e=this._friend?"api_frai_flag":"api_erai_flag",i=n.ObjUtil.getNumArray(this._o,e);return!(null==i||i.length<=t)&&1==i[t]},t.prototype.getHitType=function(t){var e=this._friend?"api_fcl_flag":"api_ecl_flag",i=n.ObjUtil.getNumArray(this._o,e);return null==i||i.length<=t?0:i[t]+1},t.prototype.isShield=function(t){return this.getDamage(t)%1!=0},t}();e.AirWarStage3Model=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),r=i(186),s=function(t){function e(e){var i=t.call(this,e)||this;return i._initPlaneFrom(),i}return n(e,t),Object.defineProperty(e.prototype,"airunit_id",{get:function(){return o.ObjUtil.getNumber(this._o,"api_base_id")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"squadrons",{get:function(){var t=[],e=o.ObjUtil.getObjectArray(this._o,"api_squadron_plane");if(null!=e)for(var i=0,n=e;i<n.length;i++){var r=n[i];t.push({mst_id:o.ObjUtil.getNumber(r,"api_mst_id"),count:o.ObjUtil.getNumber(r,"api_count")})}if(null!=(e=o.ObjUtil.getObjectArray(this._o,"api_map_squadron_plane")))for(var s=this.plane_from_f.map(function(t){return t+1}),a=0,_=s;a<_.length;a++){var l=_[a];if(e.hasOwnProperty(l.toString()))for(var u=e[l],c=0,h=u;c<h.length;c++){var p=h[c];t.push({mst_id:o.ObjUtil.getNumber(p,"api_mst_id"),count:o.ObjUtil.getNumber(p,"api_count")})}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"seiku",{get:function(){var t=this._stage1;return null==t?0:o.ObjUtil.getNumber(t,"api_disp_seiku")},enumerable:!0,configurable:!0}),e}(r.AirWarDataBase);e.AirUnitData=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(t){this._o=t}return t.prototype.getAttackTo_f=function(t){var e=n.ObjUtil.getNumArray(this._o,"api_frai");return null==e||e.length<=t?-1:e[t]},t.prototype.getDamage_f=function(t){var e=n.ObjUtil.getNumArray(this._o,"api_fydam");return null==e||e.length<=t?0:Math.floor(e[t])},t.prototype.isShield_f=function(t){var e=n.ObjUtil.getNumArray(this._o,"api_fydam");return!(null==e||e.length<=t)&&e[t]%1!=0},t.prototype.getHitType_f=function(t){var e=n.ObjUtil.getNumArray(this._o,"api_fcl");return null==e||e.length<=t?0:e[t]},t.prototype.hasShield_f=function(){var t=n.ObjUtil.getNumArray(this._o,"api_fdam");if(null==t)return!1;for(var e=0,i=t;e<i.length;e++){if(i[e]%1!=0)return!0}return!1},t.prototype.getAttackTo_e=function(t){var e=n.ObjUtil.getNumArray(this._o,"api_erai");return null==e||e.length<=t?-1:e[t]},t.prototype.getDamage_e=function(t){var e=n.ObjUtil.getNumArray(this._o,"api_eydam");return null==e||e.length<=t?0:e[t]},t.prototype.isShield_e=function(t){var e=n.ObjUtil.getNumArray(this._o,"api_fydam");return!(null==e||e.length<=t)&&e[t]%1!=0},t.prototype.getHitType_e=function(t){var e=n.ObjUtil.getNumArray(this._o,"api_ecl");return null==e||e.length<=t?0:e[t]},t.prototype.hasShield_e=function(){var t=n.ObjUtil.getNumArray(this._o,"api_edam");if(null==t)return!1;for(var e=0,i=t;e<i.length;e++){if(i[e]%1!=0)return!0}return!1},t}();e.RaigekiData=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),r=i(186),s=function(t){function e(e){var i=t.call(this,e)||this;return i._initPlaneFrom(),i}return n(e,t),Object.defineProperty(e.prototype,"squadrons",{get:function(){for(var t=[],e=o.ObjUtil.getObjectArray(this._o,"api_air_base_data"),i=0,n=e;i<n.length;i++){var r=n[i];t.push({mst_id:o.ObjUtil.getNumber(r,"api_mst_id"),count:o.ObjUtil.getNumber(r,"api_count")})}return t},enumerable:!0,configurable:!0}),e}(r.AirWarDataBase);e.AirUnitJetData=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=function(){function t(t){this._list=new Array;for(var e=n.ObjUtil.getNumArray(t,"api_at_eflag"),i=n.ObjUtil.getNumArray(t,"api_at_type"),o=n.ObjUtil.getNumArray(t,"api_at_list"),s=n.ObjUtil.getObjectArray(t,"api_df_list"),a=n.ObjUtil.getObjectArray(t,"api_si_list"),_=n.ObjUtil.getObjectArray(t,"api_cl_list"),l=n.ObjUtil.getObjectArray(t,"api_damage"),u=0;u<s.length;u++){var c=e[u],h=i[u],p=o[u],d=s[u],f=a[u],y=_[u],m=l[u],g=new r(c,h,p,d,f,y,m);this._list.push(g)}}return Object.defineProperty(t.prototype,"list",{get:function(){return this._list},enumerable:!0,configurable:!0}),t}();e.HougekiListData=o;var r=function(){function t(t,e,i,n,o,r,s){this._flag=t,this._type=e,this._a_index=i,this._d_indexes=n,this._slotitems=o,this._hit_types=r,this._damages=s}return Object.defineProperty(t.prototype,"flag",{get:function(){return this._flag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"a_index",{get:function(){return this._a_index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"d_indexes",{get:function(){return this._d_indexes},enumerable:!0,configurable:!0}),t.prototype.getSlotitem=function(t){return null==this._slotitems?-1:this._slotitems.length<=t?-1:this._slotitems[t]},t.prototype.getDamage=function(t){return null==this._damages?0:this._damages.length<=t?0:Math.floor(this._damages[t])},t.prototype.getHitType=function(t){return null==this._hit_types?0:this._hit_types.length<=t?0:this._hit_types[t]},t.prototype.isShield=function(t){return null!=this._damages&&(!(this._damages.length<=t)&&this._damages[t]%1>0)},t}();e.HougekiData=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),r=i(475),s=i(474),a=i(476),_=i(1443),l=i(1444),u=function(t){function e(e){var i=t.call(this)||this;return i._o=e,i._raw=new l.RawNightBattleData(e),i._common=new a.BattleCommonModel(e),i}return n(e,t),Object.defineProperty(e.prototype,"phase",{get:function(){return"night"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"raw",{get:function(){return this._raw},enumerable:!0,configurable:!0}),e.prototype.getAllyAttack=function(){var t=o.ObjUtil.getObject(this._o,"api_friendly_info"),e=o.ObjUtil.getObject(this._o,"api_friendly_battle");return null==t||null==e?null:new _.AllyAttackModel(t,e)},e.prototype.getRation=function(){return this._raw.ration},e.prototype.getRationCombined=function(){return this._raw.ration_combined},e.prototype.getDayRecord=function(){return 1==this.raw.hasDayBattle()?new s.BattleRecordDay(this._o):null},e}(r.BattleRecord);e.BattleRecordNight=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=i(169),r=i(226),s=i(479),a=function(){function t(t,e){this._info=t,this._battle=e,this._initializeShipData()}return Object.defineProperty(t.prototype,"ships",{get:function(){return this._ships},enumerable:!0,configurable:!0}),t.prototype.getDisplayList=function(){for(var t=[],e=this._voice_p_no,i=this._voice_ids,n=0;n<3;n++){var o=e.indexOf(n+1);if(!(o>=0))break;var r=o<this._ships.length?this._ships[o]:null,s=i[o];t.push({ship:r,voiceID:s.toString()})}return t},t.prototype.getFlareIndex_f=function(){var t=n.ObjUtil.getNumArray(this._battle,"api_flare_pos");return null==t||t.length<1?-1:t[0]},t.prototype.getFlareIndex_e=function(){var t=n.ObjUtil.getNumArray(this._battle,"api_flare_pos");return null==t||t.length<2?-1:t[1]},t.prototype.getHougekiData=function(){var t=n.ObjUtil.getObject(this._battle,"api_hougeki");return new s.HougekiListNightData(t)},t.prototype._initializeShipData=function(){this._ships=[];for(var t=n.ObjUtil.getNumArray(this._info,"api_ship_id"),e=n.ObjUtil.getNumArray(this._info,"api_ship_lv"),i=n.ObjUtil.getNumArray(this._info,"api_maxhps"),s=n.ObjUtil.getNumArray(this._info,"api_nowhps"),a=n.ObjUtil.getObjectArray(this._info,"api_Slot"),_=n.ObjUtil.getObjectArray(this._info,"api_Param"),l=0;l<t.length;l++){var u=t[l],c=e[l],h=new o.ShipModelReplica(2,!1,l,u,0,c),p=s[l],d=i[l];h.initializeHPInfo(p,d);for(var f=a[l],y=[],m=[],g=0,v=f;g<v.length;g++){var b=v[g];b>0&&(y.push(new r.SlotitemModelReplica(b)),m.push(1))}h.initializeSlots(y,null,m);var w=_[l],x=w[0],I=w[1],T=w[2],O=w[3];h.initializeParams(x,I,T,O),this._ships.push(h)}},Object.defineProperty(t.prototype,"_voice_p_no",{get:function(){var t=n.ObjUtil.getNumArray(this._info,"api_voice_p_no");return null==t?[]:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_voice_ids",{get:function(){var t=n.ObjUtil.getNumArray(this._info,"api_voice_id");return null==t?[]:t},enumerable:!0,configurable:!0}),t}();e.AllyAttackModel=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),o=i(477),r=i(479),s=i(478),a=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"ration",{get:function(){var t=n.ObjUtil.getNumArray(this._o,"api_combat_ration");return null==t?[]:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ration_combined",{get:function(){var t=n.ObjUtil.getNumArray(this._o,"api_combat_ration_combined");return null==t?[]:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"support_air",{get:function(){if(1!=n.ObjUtil.getNumber(this._o,"api_n_support_flag"))return null;var t=n.ObjUtil.getObject(this._o,"api_n_support_info");if(null==t)return null;var e=n.ObjUtil.getObject(t,"api_support_airatack");return new o.AirSupportData(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"support_hou",{get:function(){if(2!=n.ObjUtil.getNumber(this._o,"api_n_support_flag"))return null;var t=n.ObjUtil.getObject(this._o,"api_n_support_info");if(null==t)return null;var e=n.ObjUtil.getObject(t,"api_support_hourai");return new s.SupportData(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"support_rai",{get:function(){if(3!=n.ObjUtil.getNumber(this._o,"api_n_support_flag"))return null;var t=n.ObjUtil.getObject(this._o,"api_n_support_info");if(null==t)return null;var e=n.ObjUtil.getObject(t,"api_support_hourai");return new s.SupportData(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"support_taisen",{get:function(){if(4!=n.ObjUtil.getNumber(this._o,"api_n_support_flag"))return null;var t=n.ObjUtil.getObject(this._o,"api_n_support_info");if(null==t)return null;var e=n.ObjUtil.getObject(t,"api_support_airatack");return new o.AirSupportData(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hougeki",{get:function(){var t=n.ObjUtil.getObject(this._o,"api_hougeki");return null==t?null:new r.HougekiListNightData(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hougeki1",{get:function(){var t=n.ObjUtil.getObject(this._o,"api_n_hougeki1");return null==t?null:new r.HougekiListNightData(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hougeki2",{get:function(){var t=n.ObjUtil.getObject(this._o,"api_n_hougeki2");return null==t?null:new r.HougekiListNightData(t)},enumerable:!0,configurable:!0}),t.prototype.getTouchPlaneFriend=function(){if(null==this._o)return-1;var t=n.ObjUtil.getNumArray(this._o,"api_touch_plane");return null==t||t.length<1?-1:t[0]},t.prototype.getTouchPlaneEnemy=function(){if(null==this._o)return-1;var t=n.ObjUtil.getNumArray(this._o,"api_touch_plane");return null==t||t.length<2?-1:t[1]},t.prototype.getFlareLightFriend=function(){if(null==this._o)return-1;var t=n.ObjUtil.getNumArray(this._o,"api_flare_pos");return null==t?-1:t.length<1?-1:t[0]},t.prototype.getFlareLightEnemy=function(){if(null==this._o)return-1;var t=n.ObjUtil.getNumArray(this._o,"api_flare_pos");return null==t?-1:t.length<2?-1:t[1]},t.prototype.hasDayBattle=function(){return 1==n.ObjUtil.getNumber(this._o,"api_day_flag")},t}();e.RawNightBattleData=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(50),r=i(1446),s=i(1450),a=i(480),_=i(1460),l=i(1461),u=i(1464),c=i(1469),h=i(1470),p=i(1471),d=function(t){function e(){var e=t.call(this)||this;return e._layer_torpedo=new r.LayerTorpedo,e._layer_explosion=new a.LayerExplosion,e._layer_damage=new l.LayerDamage,e._layer_content=new PIXI.Container,e._layer_gauge=new c.LayerGauge,e._shutter=new o.Shutter(38),e._layer_info=new PIXI.Container,e._layer_title=new h.LayerTitle,e._layer_info2=new p.LayerInfo,e._layer_cutin=new PIXI.Container,e.addChild(e._layer_torpedo),e._bannerGroupLayer=new s.BannerGroupLayer,e.addChild(e._bannerGroupLayer),e.addChild(e._layer_explosion),e.addChild(e._layer_damage),e._bannerInfoLayer=new _.BannerInfoLayer,e.addChild(e._bannerInfoLayer),e.addChild(e._layer_content),e._raderLayer=new u.RaderLayer,e.addChild(e._raderLayer),e.addChild(e._layer_gauge),e.addChild(e._shutter),e.addChild(e._layer_info),e.addChild(e._layer_title),e.addChild(e._layer_info2),e.addChild(e._layer_cutin),e}return n(e,t),Object.defineProperty(e.prototype,"layer_torpedo",{get:function(){return this._layer_torpedo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bannerGroupLayer",{get:function(){return this._bannerGroupLayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_explosion",{get:function(){return this._layer_explosion},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_damage",{get:function(){return this._layer_damage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bannerInfoLayer",{get:function(){return this._bannerInfoLayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_content",{get:function(){return this._layer_content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"raderLayer",{get:function(){return this._raderLayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_gauge",{get:function(){return this._layer_gauge},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shutter",{get:function(){return this._shutter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_info",{get:function(){return this._layer_info},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_title",{get:function(){return this._layer_title},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_info2",{get:function(){return this._layer_info2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_cutin",{get:function(){return this._layer_cutin},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._bannerGroupLayer.dispose(),this._bannerInfoLayer.dispose()},e}(PIXI.Container);e.ViewMain=d},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(22),s=i(480),a=i(1449),_=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.playTorpedo=function(t,e,i,n){var o=this;void 0===i&&(i=1800),void 0===n&&(n=null);var r=new a.Torpedo(1);this.addChild(r),r.play(t,e,i,function(){o.removeChild(r),null!=n&&n()})},e.prototype.playTorpedoAtNight=function(t,e,i,n){var o=this;void 0===i&&(i=800),void 0===n&&(n=null);var r=new a.Torpedo(2);this.addChild(r),r.play(t,e,i,function(){o.removeChild(r),null!=n&&n()})},e.prototype.playAerialTorpedo=function(t,e,i){var n=this;void 0===i&&(i=null);var o=new a.Torpedo(3);this.addChild(o),o.play(t,e,0,null),o.once("complete",function(){n.removeChild(o),null!=i&&i()})},e.prototype.playAerialTorpedoSuper=function(t,e,i){var n=this;void 0===i&&(i=null);var o=new a.Torpedo(5);this.addChild(o),o.play(t,e,0,null),o.once("complete",function(){n.removeChild(o),null!=i&&i()})},e.prototype.playAerialTorpedoJet=function(t,e,i){var n=this;void 0===i&&(i=null);var o=new a.Torpedo(4);this.addChild(o),o.play(t,e,0,function(){n.removeChild(o),null!=i&&i()})},e}(s.LayerExplosion);e.LayerTorpedo=_;!function(t){function e(e){var i=t.call(this)||this;return i._night=e,i._canvas=new Array,i._createCanvas(!1,!1),i._createCanvas(!0,!1),i._createCanvas(!1,!0),i._createCanvas(!0,!0),i}n(e,t),e.prototype.getCanvas=function(t,e){return this._night?this._canvas[0]:this._canvas[(t?1:0)+(e?2:0)]},e.prototype._createCanvas=function(t,e){var i=r.BannerSize.W;1==t&&(i+=.9*r.BannerSize.W);var n=r.BannerSize.W;1==e&&(n+=.9*r.BannerSize.W);var s=o.default.width-i-n,a=new PIXI.Graphics;a.beginFill(16711680,.3),a.drawRect(i,0,s,o.default.height),a.endFill(),this.addChild(a);var _=new PIXI.Container;_.mask=a,this.addChild(_),this._canvas.push(_)}}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(12),r=i(16),s=function(t){function e(){var e=t.call(this)||this;return e._splash1=new o.Sprite,e._splash2=new o.Sprite,e._splash3=new o.Sprite,e._splash1.anchor.set(.5,.87),e._splash2.anchor.set(.56,.95),e._splash3.anchor.set(.58,.9),e._splash1.position.set(5,5),e._splash2.position.set(18,-11),e._splash3.position.set(24,-26),e._init(),e.addChild(e._splash1),e.addChild(e._splash2),e.addChild(e._splash3),e}return n(e,t),e.prototype.initialize=function(){this._splash1.texture=r.BATTLE_MAIN.getTexture(114),this._splash2.texture=r.BATTLE_MAIN.getTexture(115),this._splash3.texture=r.BATTLE_MAIN.getTexture(116)},e.prototype.play=function(){var t=this;createjs.Tween.get(this._splash1).to({scaleX:1,scaleY:1},366).to({scaleX:.78,scaleY:.78,alpha:0},200),createjs.Tween.get(this._splash2).wait(200).to({scaleX:1,scaleY:1},200).to({alpha:0},33),createjs.Tween.get(this._splash3).wait(333).to({scaleX:1,scaleY:1},166).to({scaleX:.88,scaleY:.88,alpha:0},166).call(function(){t._init(),t.emit("complete")})},e.prototype._init=function(){this._splash1.alpha=1,this._splash1.scale.set(0),this._splash2.alpha=1,this._splash2.scale.set(0),this._splash3.alpha=1,this._splash3.scale.set(0)},e}(PIXI.Container);e.TorpedoWaterColumn=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(12),r=i(16),s=function(t){function e(){var e=t.call(this)||this;return e._splash1=new o.Sprite,e._splash2=new o.Sprite,e._splash3=new o.Sprite,e._splash1.anchor.set(.56,.95),e._splash1.position.set(129,26),e._splash2.anchor.set(.77,.79),e._splash2.position.set(131,26),e._splash3.anchor.set(.59,.9),e._splash3.position.set(137,21),e._init(),e.addChild(e._splash1),e.addChild(e._splash2),e.addChild(e._splash3),e}return n(e,t),e.prototype.initialize=function(){this._splash1.texture=r.BATTLE_MAIN.getTexture(115),this._splash2.texture=r.BATTLE_MAIN.getTexture(114),this._splash3.texture=r.BATTLE_MAIN.getTexture(116)},e.prototype.play=function(){var t=this;createjs.Tween.get(this._splash1).to({scaleX:1,scaleY:1},233).to({alpha:0},333),createjs.Tween.get(this._splash2).wait(166).to({scaleX:1,scaleY:1},200).to({alpha:0},200),createjs.Tween.get(this._splash3).wait(300).to({scaleX:1,scaleY:1},133).to({alpha:0},133).call(function(){t._init(),t.emit("complete")})},e.prototype._init=function(){this._splash1.alpha=1,this._splash1.scale.set(0),this._splash2.alpha=1,this._splash2.scale.set(0),this._splash3.alpha=1,this._splash3.scale.set(0)},e}(PIXI.Container);e.WaterColumn=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(16),r=function(t){function e(e){var i=t.call(this)||this;switch(i.sprite=new PIXI.Sprite,i.type=e,e){case 1:i.sprite.texture=o.BATTLE_MAIN.getTexture(58),i.sprite.anchor.set(.04,.5);break;case 2:i.sprite.texture=o.BATTLE_MAIN.getTexture(50),i.sprite.anchor.set(.04,.5);break;case 3:case 4:i.sprite.texture=o.BATTLE_MAIN.getTexture(49),i.sprite.anchor.set(.5)}return i}return n(e,t),e.prototype.dispose=function(){this.sprite=null,this.from=null,this.to=null,this.type=null,this.friend=null},e.prototype.initialize=function(){var t=Math.atan2(this.to.y-this.from.y,this.to.x-this.from.x);this.sprite.position.set(this.from.x,this.from.y),this.sprite.rotation=t,this.sprite.alpha=0,this.setMask(),this.addChild(this.sprite)},e.prototype.setMask=function(){var t=Math.min(this.sprite.width,this.sprite.height);t=Math.pow(t,2),t=Math.sqrt(t+t);var e=new PIXI.Graphics;e.beginFill(6710886,.5);var i=Math.min(this.from.x,this.to.x),n=Math.min(this.from.y,this.to.y)-t,o=Math.abs(this.to.x-this.from.x),r=Math.abs(this.to.y-this.from.y)+2*t;e.drawRect(i,n,o,r),e.endFill(),this.sprite.mask=e,this.addChild(e)},e.prototype.play=function(t,e,i,n){switch(void 0===i&&(i=1800),void 0===n&&(n=null),this.from=new PIXI.Point(t.x,t.y),this.to=new PIXI.Point(e.x,e.y),this.friend=this.from.x<=this.to.x,this.type){case 1:case 2:this.initialize(),this.move(i,n);break;case 3:this.position.set(this.from.x,this.from.y),this.sprite.scale.x=this.friend?-1:1,this.addChild(this.sprite),this._aerial1();break;case 4:this.position.set(this.from.x,this.from.y),this._aerial1();break;case 5:this.position.set(this.from.x,this.from.y),this.addChild(this.sprite),this.sprite.scale.x=this.friend?-1:1,this._aerial1()}},e.prototype.move=function(t,e){var i=this;void 0===t&&(t=1800),void 0===e&&(e=null),createjs.Tween.get(this.sprite).to({alpha:1},200).wait(Math.max(t-400,0)).to({alpha:0},200).call(function(){i.removeChildren(),null!=e&&e()}),createjs.Tween.get(this.sprite).to({x:this.to.x,y:this.to.y},t)},e.prototype._aerial1=function(t){var e=this;switch(void 0===t&&(t=null),this.type){case 3:createjs.Tween.get(this).to({y:this.from.y+90},800,createjs.Ease.sineIn).call(function(){e.removeChildren(),e._aerial2(t)});break;case 5:var i=new s;i.initialize(),i.activate(),i.scale.x=this.friend?-1:1,this.addChild(i),createjs.Tween.get(this).to({y:this.from.y+90},500,createjs.Ease.sineIn).call(function(){e.removeChildren(),i.deactivate(),e._aerial2(t)});break;case 4:var n=this.from.x+(this.to.x-this.from.x)/5;createjs.Tween.get(this).to({x:n,y:this.from.y+90},400,createjs.Ease.sineIn).call(function(){e.removeChildren(),e._aerial2(t)})}},e.prototype._aerial2=function(t){var e=this;void 0===t&&(t=null);var i=0,n=new _(this.friend);switch(this.addChild(n),this.type){case 3:case 5:i=100;break;case 4:i=50}n.play(i,function(){e.removeChild(n),e._aerial3(t)})},e.prototype._aerial3=function(t){var e=this;void 0===t&&(t=null);var i=Math.atan2(this.to.y-this.y,this.to.x-this.x);switch(this.type){case 3:var n=new PIXI.Sprite(o.BATTLE_MAIN.getTexture(59));n.anchor.set(1,.5),n.scale.set(0,1),n.rotation=i,this.addChild(n),createjs.Tween.get(n.scale).to({x:1},100),createjs.Tween.get(this).to({x:this.to.x,y:this.to.y},700).to({alpha:0},50).call(function(){e.removeChildren(),e.emit("complete")});break;case 5:var r=new a;r.scale.set(0,1),r.initialize(),r.activate(),r.rotation=i,this.addChild(r),createjs.Tween.get(r.scale).to({x:1},100),createjs.Tween.get(this).to({x:this.to.x,y:this.to.y},700).to({alpha:0},50).call(function(){e.removeChildren(),r.deactivate(),e.emit("complete")});break;case 4:new PIXI.Sprite(o.BATTLE_MAIN.getTexture(59));n.anchor.set(1,.5),n.scale.set(0,1),n.rotation=i,this.addChild(n),createjs.Tween.get(n.scale).to({x:1},50),createjs.Tween.get(this).to({x:this.to.x,y:this.to.y},560).to({alpha:0},50).call(function(){e.removeChildren(),null!=t&&t()})}},e}(PIXI.Container);e.Torpedo=r;var s=function(t){function e(){var e=t.call(this)||this;return e._bullet1=new PIXI.Sprite,e._bullet1.anchor.set(.5),e._bullet1.scale.set(.75),e.addChild(e._bullet1),e._bullet2=new PIXI.Sprite,e._bullet2.anchor.set(.5),e._bullet2.scale.set(.58),e.addChild(e._bullet2),e._bullet3=new PIXI.Sprite,e._bullet3.anchor.set(.5),e._bullet3.scale.set(.58),e.addChild(e._bullet3),e}return n(e,t),e.prototype.initialize=function(){this._bullet1.texture=o.BATTLE_MAIN.getTexture(49),this._bullet1.position.set(6,6),this._bullet2.texture=o.BATTLE_MAIN.getTexture(49),this._bullet2.position.set(5,17),this._bullet3.texture=o.BATTLE_MAIN.getTexture(49),this._bullet3.position.set(-8,-3)},e.prototype.activate=function(){if(null==this._tweens){this._tweens=[],this._bullet1.position.set(6,6);var t=createjs.Tween.get(this._bullet1,{loop:!0}).to({x:3,y:9},300).to({x:2,y:8},300).to({x:6,y:6},200);this._tweens.push(t),this._bullet2.position.set(5,17),t=createjs.Tween.get(this._bullet2,{loop:!0}).to({x:6,y:18},200).to({x:3,y:20},300).to({x:53,y:17},300),this._tweens.push(t),this._bullet3.position.set(-8,-3),t=createjs.Tween.get(this._bullet3,{loop:!0}).to({x:-6,y:-5},250).to({x:-5,y:0},300).to({x:-8,y:-3},250),this._tweens.push(t)}},e.prototype.deactivate=function(){if(null!=this._tweens){for(var t=0,e=this._tweens;t<e.length;t++){e[t].setPaused(!0)}this._tweens=null}},e}(PIXI.Container),a=function(t){function e(){var e=t.call(this)||this;return e._bullet1=new PIXI.Sprite,e._bullet1.anchor.set(1,.6),e._bullet1.scale.set(.5),e.addChild(e._bullet1),e._bullet2=new PIXI.Sprite,e._bullet2.anchor.set(1,.6),e._bullet2.scale.set(.75),e.addChild(e._bullet2),e._bullet3=new PIXI.Sprite,e._bullet3.anchor.set(1,.6),e._bullet3.scale.set(.5),e.addChild(e._bullet3),e}return n(e,t),e.prototype.initialize=function(){this._bullet1.texture=o.BATTLE_MAIN.getTexture(51),this._bullet1.position.set(-3,11),this._bullet2.texture=o.BATTLE_MAIN.getTexture(51),this._bullet2.position.set(5,-2),this._bullet3.texture=o.BATTLE_MAIN.getTexture(51),this._bullet3.position.set(-14,-8)},e.prototype.activate=function(){if(null==this._tweens){this._tweens=[],this._bullet1.position.set(-3,11);var t=createjs.Tween.get(this._bullet1,{loop:!0}).to({x:-8,y:0},250).to({x:-2,y:-12},250).to({x:6,y:0},250).to({x:-3,y:11},250);this._tweens.push(t),this._bullet3.position.set(-14,-8),t=createjs.Tween.get(this._bullet3,{loop:!0}).to({x:3,y:0},250).to({x:-14,y:8},250).to({x:-21,y:0},250).to({x:-14,y:-8},250),this._tweens.push(t)}},e.prototype.deactivate=function(){if(null!=this._tweens){for(var t=0,e=this._tweens;t<e.length;t++){e[t].setPaused(!0)}this._tweens=null}},e}(PIXI.Container),_=function(t){function e(e){var i=this,n=o.BATTLE_MAIN.getTexture(115);return i=t.call(this,n)||this,i.anchor.set(.5,1),i.scale.set(.18*(e?1:-1),.18),i}return n(e,t),e.prototype.play=function(t,e){void 0===t&&(t=100),void 0===e&&(e=null),createjs.Tween.get(this.scale).to({x:0,y:0},t).call(function(){null!=e&&e()})},e}(PIXI.Sprite);e.Splash=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(29),r=i(20),s=i(1451),a=function(t){function e(){var e=t.call(this)||this;return e._ally=null,e._friends_combined=new s.BannerGroup(!0,!0),e._friends_combined.position.set(228,117),e.addChild(e._friends_combined),e._enemies_combined=new s.BannerGroup(!1,!0),e._enemies_combined.position.set(753,220),e.addChild(e._enemies_combined),e._friends=new s.BannerGroup(!0,!1),e._friends.position.set(0,117),e.addChild(e._friends),e._enemies=new s.BannerGroup(!1,!1),e._enemies.position.set(960,220),e.addChild(e._enemies),e._effect_layer=new PIXI.Container,e.addChild(e._effect_layer),e}return n(e,t),Object.defineProperty(e.prototype,"friends",{get:function(){return this._friends},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enemies",{get:function(){return this._enemies},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"friends_combined",{get:function(){return this._friends_combined},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enemies_combined",{get:function(){return this._enemies_combined},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ally",{get:function(){return this._ally},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"effect_layer",{get:function(){return this._effect_layer},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e,i,n){this._friends.initialize(t),this._enemies.initialize(e),this._friends_combined.initialize(i),this._enemies_combined.initialize(n)},e.prototype.addAllyBannerGroup=function(t){this._ally=new s.BannerGroup(!0,!1),this._ally.x=this._friends.x,this._ally.y=this._friends.y,this._ally.initialize(t);var e=this.getChildIndex(this._effect_layer);this.addChildAt(this._ally,e)},e.prototype.removeAllyBannerGroup=function(){null!=this._ally&&(null!=this._ally.parent&&this._ally.parent.removeChild(this._ally),this._ally=null)},e.prototype.dispose=function(){this._friends.dispose(),this._enemies.dispose(),this._friends_combined.dispose(),this._enemies_combined.dispose()},e.prototype.getBanner=function(t,e){if(void 0===e&&(e=-1),-1==e){var i=t;return this._getBanner(i.friend,i.index)}var n=t;return this._getBanner(n,e)},e.prototype._getBanner=function(t,e){var i;if(1==t){if(null!=this._ally)return this._ally.getBanner(e);i=this._friends.getBanner(e),null==i&&(i=this._friends_combined.getBanner(e-6))}else null==(i=this._enemies.getBanner(e))&&(i=this._enemies_combined.getBanner(e-6));return i},e.prototype.getShieldTargetBanner=function(t){if(null==t)return null;if(1==t.friend){if(this._friends.isContains(t))return this._friends.getBanner(0);if(this._friends_combined.isContains(t))return this._friends_combined.getBanner(0);if(null!=this._ally&&this._ally.isContains(t))return this._ally.getBanner(0)}else{if(this._enemies.isContains(t))return this._enemies.getBanner(0);if(this._enemies_combined.isContains(t))return this._enemies_combined.getBanner(0)}return null},e.prototype.isEnteredFriend=function(){return this._friends.isEntered()||this._friends_combined.isEntered()},e.prototype.isEnteredEnemy=function(){return this._enemies.isEntered()||this._enemies_combined.isEntered()},e.prototype.createFriendEnterTask=function(){return this._createEnterTask(!0)},e.prototype.createEnemyEnterTask=function(){return this._createEnterTask(!1)},e.prototype.createFriendSubDeckMoveTween=function(t){return this._createBannerMoveTween(t,!0)},e.prototype.createEnemySubDeckMoveTween=function(t){return this._createBannerMoveTween(t,!1)},e.prototype._createEnterTask=function(t){var e=t?this._friends:this._enemies,i=t?this._friends_combined:this._enemies_combined,n=new o.SerialTask,s=e.createEnterTweens();if(s.length>0){var a=new r.TweenTask;a.addTweens(s),n.add(a)}var _=i.createEnterTweens();if(_.length>0){var a=new r.TweenTask;a.addTweens(_),n.add(a)}return n},e.prototype._createBannerMoveTween=function(t,e){var i=[],n=e?this._friends:this._enemies,o=e?this._friends_combined:this._enemies_combined,r=n.x-o.x;o.x=n.x;for(var s=0;s<o.getBannerNum();s++){var a=o.getBanner(s);a.x-=r;var _=a.createSubDeckMoveTween(t);null!=_&&i.push.apply(this,_),t+=100}return i},e}(PIXI.Container);e.BannerGroupLayer=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1452),r=function(t){function e(e,i){var n=t.call(this)||this;return n._entered=!1,n._friend=e,n._combined=i,n}return n(e,t),e.prototype.isEntered=function(){return this._entered},e.prototype.getBannerNum=function(){return null==this._banners?0:this._banners.length},e.prototype.hasBanner=function(){return this.getBannerNum()>0},e.prototype.initialize=function(t){if(this._banners=[],null!=t)for(var e=0;e<t.length;e++){var i=t[e];if(null!=i){var n=i.mst_id,r=i.hp_now,s=i.hp_max,a=i.isTaihi(),_=0==i.speed,l=new o.Banner(e,this._friend,this._combined);l.initialize(n,r,s,a,_),this._banners.push(l),this.addChild(l)}}},e.prototype.dispose=function(){if(null!=this._banners)for(var t=0,e=this._banners;t<e.length;t++){var i=e[t];i.dispose()}},e.prototype.getBanner=function(t){return null==this._banners?null:t>=this._banners.length?null:this._banners[t]},e.prototype.isContains=function(t){return null!=this._banners&&this._banners.indexOf(t)>=0},e.prototype.enter=function(){if(1!=this._entered&&0!=this.hasBanner()){this._entered=!0;for(var t=0,e=this._banners;t<e.length;t++){var i=e[t];null!=i&&(0==this._combined?i.enter():i.enterCombined())}}},e.prototype.createEnterTweens=function(){var t=[];if(1==this._entered)return t;if(0==this.hasBanner())return t;this._entered=!0;for(var e=0,i=0,n=this._banners;i<n.length;i++){var o=n[i];if(null!=o){var r=0==this._combined?o.createEnterTween(e):o.createEnterTweenCombined(e);null!=r&&(t.push(r),e+=100)}}return t},e.prototype.createSakutekiTweens=function(){var t=[];if(1==this._entered)return t;if(0==this.hasBanner())return t;this._entered=!0;for(var e=0,i=this._banners;e<i.length;e++){var n=i[e];if(null!=n){var o=n.createEnterTweenBySakuteki();null!=o&&t.push(o)}}return t},e.prototype.createExitTweens=function(){var t=[];if(0==this._entered)return t;if(this._entered=!1,0==this.hasBanner())return t;for(var e=0,i=0,n=this._banners;i<n.length;i++){var o=n[i];if(null!=o){var r=o.createMainDeckExitTween(e);t.push(r),e+=100}}return t},e.prototype.createExitTweensUpward=function(){var t=[];if(0==this._entered)return t;if(this._entered=!1,0==this.hasBanner())return t;for(var e=0,i=0,n=this._banners;i<n.length;i++){var o=n[i];if(null!=o){var r=o.createSubDeckExitTween(e,!1);t.push(r),e+=100}}return t},e.prototype.createExitTweensUpDown=function(){var t=[];if(0==this._entered)return t;if(this._entered=!1,0==this.hasBanner())return t;for(var e=[],i=0;i<this._banners.length;i++){var n=this._banners[i];null!=n&&0!=n.entered&&e.push(n)}for(var o=0;e.length>0;){var r=e.shift(),s=r.createSubDeckExitTween(o,!1);t.push(s),0!=e.length&&(r=e.pop(),s=r.createSubDeckExitTween(o,!0),t.push(s),o+=100)}return t},e}(PIXI.Container);e.BannerGroup=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(22),s=i(4),a=i(6),_=i(1453),l=i(1454),u=function(t){function e(e,i,n){var o=t.call(this)||this;return o._entered=!1,o._in_front=!1,o._index=e,o._friend=i,o._combined=n,o.alpha=0,o._container=new PIXI.Container,o.addChild(o._container),o._content=new l.BannerContent,o._container.addChild(o._content),1==n&&o._content.scale.set(.9),o.y=o._baseY,o._text=new s.TextBox(19,16777215),o._text.y=19,o._container.addChild(o._text),o._babble=new _.BannerBabble,o._babble.y=r.BannerSize.H/3,1==i?o._babble.x=r.BannerSize.W:o._babble.scale.x=-1,o._container.addChild(o._babble),o}return n(e,t),Object.defineProperty(e.prototype,"friend",{get:function(){return this._friend},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"entered",{get:function(){return this._entered},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_baseY",{get:function(){return this._index*(r.BannerSize.H+7)+(this._combined?3:0)},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e,i,n,o){this._hp_max=i,this._content.initialize(t,e,i,this._index,this._friend,this._combined,n,o),this._updateHpText(e,i)},e.prototype.dispose=function(){this.removeChildren(),this._text.destroy(),this._babble.dispose()},e.prototype.getGlobalPos=function(t){void 0===t&&(t=!0);var e=new PIXI.Point;return 1==t&&(e.x=r.BannerSize.W/2,e.y=r.BannerSize.H/2),this.toGlobal(e)},e.prototype.updateHp=function(t){this._content.updateHp(t,this._hp_max),this._updateHpText(t,this._hp_max)},e.prototype.showBabble=function(){this._babble.show()},e.prototype.enter=function(){return 0==this.visible?null:this.alpha>0?null:(this._entered=!0,this.x=0,this.alpha=1,void(this._content.frame.alpha=1))},e.prototype.enterCombined=function(){return 0==this.visible?null:this.alpha>0?null:(this._entered=!0,this.alpha=1,void(this._content.frame.alpha=1))},e.prototype.createEnterTween=function(t){var e=this;if(0==this.visible)return null;if(this.alpha>0)return null;this._entered=!0,this.x=r.BannerSize.W*(this._friend?-1:1);var i={x:this.x,frame_alpha:this._content.frame.alpha},n=function(t){e.x=t.target.target.x,e._content.frame.alpha=t.target.target.frame_alpha};return createjs.Tween.get(i,{onChange:n}).wait(t).call(function(){e.alpha=1,1==e._friend&&a.SE.play("105")}).to({x:0},300).to({frame_alpha:1},500)},e.prototype.createEnterTweenCombined=function(t){var e=this;if(0==this.visible)return null;if(this.alpha>0)return null;this._entered=!0,this.y=o.default.height;var i={y:this.y,frame_alpha:this._content.frame.alpha},n=function(t){e.y=t.target.target.y,e._content.frame.alpha=t.target.target.frame_alpha};return createjs.Tween.get(i,{onChange:n}).wait(t).call(function(){e.alpha=1,1==e._friend&&a.SE.play("105")}).to({y:this._baseY},1300,createjs.Ease.cubicOut).to({frame_alpha:1},500)},e.prototype.createEnterTweenBySakuteki=function(){var t=this;if(0==this.visible)return null;if(this.alpha>0)return null;this._entered=!0,this._content.frame.alpha=1,this._content.layer_color.show();var e={alpha:this.alpha,red_overlay_alpha:this._content.layer_color.alpha},i=function(e){t.alpha=e.target.target.alpha,t._content.layer_color.alpha=e.target.target.red_overlay_alpha};return createjs.Tween.get(e,{onChange:i}).call(function(){t._content.waveOver(0),t._content.waveOver(600)}).to({alpha:1},1300).call(function(){t._content.waveOver(0)}).to({red_overlay_alpha:0},600)},e.prototype.createMainDeckExitTween=function(t){if(0==this.visible)return null;if(0==this._entered)return null;this._entered=!1;var e=0;return e=1==this._friend?-r.BannerSize.W:r.BannerSize.W,createjs.Tween.get(this).wait(t).to({x:e},300).to({alpha:0},50)},e.prototype.createSubDeckExitTween=function(t,e){if(0==this.visible)return null;if(0==this._entered)return null;var i=0;return i=0==e?this.y-o.default.height:this.y+o.default.height,this._entered=!1,createjs.Tween.get(this).wait(t).to({y:i},1300,createjs.Ease.cubicIn).to({alpha:0},50)},e.prototype.createSubDeckMoveTween=function(t){if(0==this.visible)return null;if(0==this._entered)return null;this._combined=!1,this._content.layer_color.combined=!1;var e=[createjs.Tween.get(this._content.scale).wait(t).to({x:1,y:1},300),createjs.Tween.get(this._content.img).wait(t).to({x:0},300,createjs.Ease.cubicInOut),this._content.frame.getAnimationTween(t)].concat(this._content.img.getAnimationTweens(t),[createjs.Tween.get(this._content.flagship_mark).wait(t).to({x:210,alpha:1},300),createjs.Tween.get(this).wait(t).to({x:0,y:this.y-3},300)]);return 1==this._friend&&e.push(createjs.Tween.get(this._text).wait(t).to({x:262},300)),e},e.prototype.moveDefault=function(t){var e=this;void 0===t&&(t=0),0!=this.visible&&(null!=this._move_tween&&(this._move_tween.setPaused(!0),this._move_tween=null),this._in_front=!1,this._move_tween=createjs.Tween.get(this),this._move_tween.to({x:0},150),this._move_tween.call(function(){e._move_tween=null,e.emit("complete_moveDefault")}))},e.prototype.moveFront=function(t){var e=this;if(void 0===t&&(t=null),0==this.visible)return void(null!=t&&t());this._stopMoveTween(),this._in_front=!0,this._move_tween=createjs.Tween.get(this),1==this._friend?this._move_tween.to({x:38},150):this._move_tween.to({x:-38},150),this._move_tween.call(function(){e._move_tween=null,null!=t&&t()})},e.prototype.attack=function(t){var e=this;void 0===t&&(t=null),null==this._attack_tween&&(this._skipMoveFrontTween(),0==this._in_front?this.moveFront(function(){e._attack(t)}):this._attack(t))},e.prototype._attack=function(t){var e=this;this._attack_tween=createjs.Tween.get(this).wait(200),1==this._friend?this._attack_tween.to({x:18},0):this._attack_tween.to({x:-18},0),this._attack_tween.to({x:0},150),this._attack_tween.call(function(){e._attack_tween=null,null!=t&&t()})},e.prototype.moveAtDamage=function(t){this._stopMoveTween(),this.x=0,this._container.x=0,1==t?this._moveAtShield():this._moveAtDamage()},e.prototype._moveAtDamage=function(){for(var t=[-42,-24,-6,-27,-9,-12,6,-6,6,-6,6,-6,3,-3,3,-3,3,-3,3,-3,3,0],e=this._friend?1:-1,i=createjs.Tween.get(this._container),n=0;n<t.length;n++)i.to({x:e*t[n]},30);this._content.layer_color.playDamageAnimation()},e.prototype._moveAtShield=function(){var t=this._friend?1:-1;createjs.Tween.get(this._container).to({x:46*t},233).to({x:32*t},100).to({x:41*t},100).to({x:38*t},166).wait(300).to({x:0},100);this._content.layer_color.playShieldAnimation()},e.prototype.moveShoot=function(t){void 0===t&&(t=null);for(var e=[3,-3,3,-3,3,-3,3,-3],i=this._friend?1:-1,n=createjs.Tween.get(this._container),o=0;o<e.length;o++)n.to({x:i*e[o]},45);n.to({x:0},60),n.to({x:-3*i},60),n.to({x:-27*i},45),n.to({x:-15*i},120),n.to({x:-3*i},45),n.to({x:0},45),null!=t&&n.call(t)},e.prototype._skipMoveFrontTween=function(){this._stopMoveTween(),1==this._friend?this.x=38:this.x=-38},e.prototype._stopMoveTween=function(){null!=this._move_tween&&(this._move_tween.setPaused(!0),this._move_tween=null)},e.prototype._updateHpText=function(t,e){this._text.text=t+"/"+e,this._friend?this._combined?this._text.x=240:this._text.x=262:this._text.x=-23-this._text.width},e}(PIXI.Container);e.Banner=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(12),r=i(16),s=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.show=function(){var t=this,e=r.BATTLE_MAIN.getTexture(109);this._content=new o.Sprite(e),this._content.anchor.set(.5),this._content.scale.set(0),this.addChild(this._content),this._t=createjs.Tween.get(this._content,{loop:!0}).to({x:5,y:-7,scaleX:.14,scaleY:.14},200).to({x:7,y:-15,scaleX:.25,scaleY:.25},200).to({x:12,y:-21,scaleX:.35,scaleY:.35},200).to({x:14,y:-29,scaleX:.46,scaleY:.46},200).to({x:15,y:-36,scaleX:.57,scaleY:.57},200).to({x:17,y:-42,scaleX:.68,scaleY:.68},200).to({x:17,y:-50,scaleX:.78,scaleY:.78},200).to({x:21,y:-57,scaleX:.89,scaleY:.89},200).to({x:24,y:-65,scaleX:1,scaleY:1,alpha:0},200).call(function(){t._content.scale.set(0),t._content.alpha=1,t._content.position.set(0,0)})},e.prototype.dispose=function(){this.removeChildren(),null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Container);e.BannerBabble=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(22),r=i(23),s=i(12),a=i(16),_=i(1455),l=i(1456),u=i(1459),c=function(t){function e(){var e=t.call(this)||this;return e._img=new _.BannerImage,e._flagship_mark=new PIXI.Sprite,e._flagship_mark.position.set(210,6),e._frame=new l.BannerFrame,e._frame.alpha=0,e._layer_color=new u.BannerOverlay,e._layer_over=new PIXI.Sprite,e.addChild(e._img),e.addChild(e._flagship_mark),e.addChild(e._frame),e.addChild(e._layer_color),e.addChild(e._layer_over),e}return n(e,t),Object.defineProperty(e.prototype,"img",{get:function(){return this._img},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flagship_mark",{get:function(){return this._flagship_mark},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_color",{get:function(){return this._layer_color},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_over",{get:function(){return this._layer_over},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e,i,n,r,s,_,l){if(this._img.initialize(t,e,i,_,l,s,r),1==s&&(1==r?this._img.x+=7:this._img.x-=78),0==n&&(this._flagship_mark.texture=a.BATTLE_MAIN.getTexture(48),0==r&&1==s&&(this._flagship_mark.alpha=.5,this._flagship_mark.x=135)),this._frame.initialize(e,i,n,r,s),s){var u=new PIXI.Graphics;u.beginFill(0),u.drawRect(0,0,o.BannerSize.W,o.BannerSize.H),u.endFill(),this._img.mask=u,this.addChild(u)}this.layer_color.initialize(r,s)},e.prototype.updateHp=function(t,e){this._img.update(t,e),this._frame.updateHp(t,e)},e.prototype.waveOver=function(t){var e=this,i=new s.Sprite(a.BATTLE_MAIN.getTexture(84));i.position.set(o.BannerSize.W/2,o.BannerSize.H/2),i.scale.set(0),i.anchor.set(.5),this._layer_over.addChild(i),createjs.Tween.get(i).wait(t).to({scaleX:.75,scaleY:.75},400).to({alpha:0,scaleX:1,scaleY:1},200).call(function(){e._layer_over.removeChild(i)})},e}(r.Container);e.BannerContent=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(22),s=i(28),a=i(154),_=i(155),l=i(16),u=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite,e._icon=new a.BannerIcon,e._soot=new _.BannerSoot,e.addChild(e._img),e.addChild(e._icon),e.addChild(e._soot),e}return n(e,t),e.prototype.initialize=function(t,e,i,n,o,s,a){if(this._mst_id=t,this._updateState(e,i),this._taihi=n,this._icon.initialize(o),this._combined=s,this._friend=a,this._updateImage(s,a),this._updateIcon(e,i),this._friend&&this._combined){var _=new PIXI.Graphics;_.beginFill(16711680,.5),_.drawRect(r.BannerSize.W/2,0,r.BannerSize.W/2,r.BannerSize.H),_.endFill(),this._soot.addChild(_),this._soot.mask=_}},e.prototype.update=function(t,e){this._updateState(t,e),this._updateImage(this._combined,this._friend),this._updateIcon(t,e)},e.prototype.getAnimationTweens=function(t){var e=this;this._combined=!1;var i=this._img.texture,n=new PIXI.Sprite(i);n.x=this._img.x,n.y=this._img.y;var o=this.getChildIndex(this._img);this.addChildAt(n,o),this._img.texture=this._getTexture(),this._img.alpha=0;var r=[createjs.Tween.get(this._img).wait(t).to({alpha:1},600).call(function(){e.removeChild(n);var t=e._img.mask;t&&(t.parent.removeChild(t),e._img.mask=null)})];if(this._soot.mask){var s=this._soot.mask;this._soot.removeChild(s),this._soot.mask=null,this._soot.alpha=0;var a=new _.BannerSoot;a.texture=this._soot.texture,a.addChild(s),a.mask=s,this.addChildAt(a,this.getChildIndex(this._soot)),r.push(createjs.Tween.get(this._soot).wait(t).to({alpha:1},600)),r.push(createjs.Tween.get(a).wait(t).to({alpha:0},600).call(function(){e.removeChild(a)}))}return r},e.prototype._updateState=function(t,e){t<=0?this._damaged=2:s.ShipUtil.isDamaged(t,e)?this._damaged=1:this._damaged=0},e.prototype._updateImage=function(t,e){if(this._mst_id<0)switch(this._mst_id){case-1:this._img.texture=l.BATTLE_MAIN.getTexture(0);break;case-2:this._img.texture=l.BATTLE_MAIN.getTexture(1);break;case-3:this._img.texture=l.BATTLE_MAIN.getTexture(2)}else this._img.texture=t?e?this._getTextureCombinedFriend():this._getTextureCombinedEnemy():this._getTexture()},e.prototype._getTexture=function(){if(2==this._damaged||1==this._taihi)return o.default.resources.getShip(this._mst_id,!0,"banner_g");var t=0!=this._damaged;return o.default.resources.getShip(this._mst_id,t,"banner")},e.prototype._getTextureCombinedFriend=function(){if(2==this._damaged||1==this._taihi)return o.default.resources.getShip(this._mst_id,!0,"banner2_g");var t=0!=this._damaged;return o.default.resources.getShip(this._mst_id,t,"banner2")},e.prototype._getTextureCombinedEnemy=function(){if(2==this._damaged||1==this._taihi)return o.default.resources.getShip(this._mst_id,!0,"banner3_g");var t=0!=this._damaged;return o.default.resources.getShip(this._mst_id,t,"banner3")},e.prototype._updateIcon=function(t,e){if(0==this._taihi){var i=s.ShipUtil.getDamageType(t,e);this._icon.setDamagedIcon(i),this._soot.update(i)}else this._icon.setTaihiIcon()},e}(PIXI.Container);e.BannerImage=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(16),r=i(1457),s=i(1458),a=function(t){function e(){var e=t.call(this)||this;return e._gauge_bg=new PIXI.Sprite,e._gauge=new s.BannerHPBar,e._frame=new PIXI.Sprite,e._frame.y=-10,e.addChild(e._gauge_bg),e.addChild(e._gauge),e.addChild(e._frame),e}return n(e,t),e.prototype.initialize=function(t,e,i,n,r){this._index=i,this._friend=n,this._gauge_bg.texture=o.BATTLE_MAIN.getTexture(45),n?(this._gauge_bg.x=240,this._gauge.x=240):(this._gauge_bg.x=-10,this._gauge.x=-10,this._frame.x=-15),this._frame.texture=this._getTexture(i,n,r),this.updateHp(t,e)},e.prototype.updateHp=function(t,e){this._gauge.draw(t/e)},e.prototype.getAnimationTween=function(t){var e=this,i=this._frame.texture,n=new PIXI.Sprite(i);return n.x=this._frame.x,n.y=this._frame.y,this.addChild(n),this._frame.texture=this._getTexture1(this._index,this._friend),this._frame.alpha=0,createjs.Tween.get(this._frame).wait(t).to({alpha:1},600).call(function(){e.removeChild(n)})},e.prototype._getTexture=function(t,e,i){return 0==i?this._getTexture1(t,e):this._getTexture2(t,e)},e.prototype._getTexture1=function(t,e){return e?0==t?o.BATTLE_MAIN.getTexture(46):o.BATTLE_MAIN.getTexture(47):0==t?o.BATTLE_MAIN.getTexture(43):o.BATTLE_MAIN.getTexture(44)},e.prototype._getTexture2=function(t,e){return e?0==t?r.BATTLE_MAIN2.getTexture(2):r.BATTLE_MAIN2.getTexture(3):0==t?r.BATTLE_MAIN2.getTexture(0):r.BATTLE_MAIN2.getTexture(1)},e}(PIXI.Container);e.BannerFrame=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("battle_main2_"+t)}t.getTexture=e}(e.BATTLE_MAIN2||(e.BATTLE_MAIN2={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(15),r=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.draw=function(t){t=Math.max(t,0),t=Math.min(t,1),this.clear();var e=o.MathUtil.getColor(t),i=60*t;this.beginFill(e),this.drawRect(0,60-i,10,i),this.endFill()},e}(PIXI.Graphics);e.BannerHPBar=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(22),r=function(t){function e(){var e=t.call(this)||this;return e._friend=!1,e._combined=!1,e.visible=!1,e}return n(e,t),Object.defineProperty(e.prototype,"combined",{set:function(t){this._combined=t},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e){this._friend=t,this._combined=e},e.prototype.show=function(t,e){void 0===t&&(t=16711680),void 0===e&&(e=.5),this._draw(t,e),this.alpha=1,this.visible=!0},e.prototype.playDamageAnimation=function(){var t=this;this._stop(),this.alpha=0,this.visible=!0,this._draw(16711680,.5),this._t=createjs.Tween.get(this).to({alpha:1},300).to({alpha:0},500).call(function(){t.visible=!1,t._t=null})},e.prototype.playShieldAnimation=function(){var t=this;this._stop(),this._draw(16777088,0),this.alpha=1,this.visible=!0;var e={r:255,g:255,b:128,a:0},i=function(e){var i=e.target.target,n=(Math.round(i.r)<<16)+(Math.round(i.g)<<8)+Math.round(i.b);t._draw(n,i.a)};this._t=createjs.Tween.get(e,{onChange:i}).to({a:.75},233).to({r:128,g:255,b:255},100).to({r:255,g:192,b:192},100).to({r:255,g:255,b:255},166).call(function(){t.visible=!1,t._t=null})},e.prototype._stop=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e.prototype._draw=function(t,e){if(this.clear(),this._combined)if(this._friend){for(var i=o.BannerSize.W/5*2-Math.ceil(e/.025),n=i;n<o.BannerSize.W/5*2;n++){var r=Math.min(.025*(n-i),e);this.beginFill(t,r),this.drawRect(n,0,1,o.BannerSize.H),this.endFill()}this.beginFill(t,e),this.drawRect(o.BannerSize.W/5*2,0,o.BannerSize.W-o.BannerSize.W/5*2,o.BannerSize.H),this.endFill()}else{var i=o.BannerSize.W/5*3;this.beginFill(t,e),this.drawRect(0,0,i,o.BannerSize.H),this.endFill();for(var n=i;n<o.BannerSize.W;n++){var r=Math.min(1-.05*(n-i),e);this.beginFill(t,r),this.drawRect(n,0,1,o.BannerSize.H),this.endFill()}}else this.beginFill(t,e),this.drawRect(0,0,o.BannerSize.W,o.BannerSize.H),this.endFill()},e}(PIXI.Graphics);e.BannerOverlay=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(16),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.showSanshiki=function(t,e){var i=this,n=o.BATTLE_MAIN.getTexture(137),r=new PIXI.Sprite(n);r.x=t.x+215,r.y=t.y+14,r.alpha=0,this.addChild(r),createjs.Tween.get(r).wait(e).to({alpha:1},300).wait(600).to({alpha:0},300).call(function(){i.removeChild(r)})},e.prototype.showDanmaku=function(t,e){var i=this,n=o.BATTLE_MAIN.getTexture(134),r=new PIXI.Sprite(n);r.x=t.x+215,r.y=t.y+14,r.alpha=0,this.addChild(r),createjs.Tween.get(r).wait(e).to({alpha:1},300).wait(600).to({alpha:0},300).call(function(){i.removeChild(r)})},e.prototype.dispose=function(){},e}(PIXI.Container);e.BannerInfoLayer=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(22),r=i(1462),s=i(1463),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.showAtBanner=function(t,e,i,n){void 0===n&&(n=null);var o=t.getGlobalPos(!0),r=1==t.friend?o.x+23:o.x-74,s=o.y+7;this.show(r,s,e,i,n)},e.prototype.show=function(t,e,i,n,o){var s=this;void 0===o&&(o=null),i<=0?n=0:i>=40?n=2:i<15&&2==n&&(n=1);var a=new r.DamageNumber;a.position.set(t,e),a.initialize(i,n),this.addChild(a),a.play(function(){createjs.Tween.get(a).to({alpha:0},230).call(function(){s.removeChild(a),null!=o&&o()})})},e.prototype.showShieldAtBanner=function(t){var e=t.getGlobalPos(!0),i=e.x,n=e.y,r=t.friend;1==r?i+=o.BannerSize.W/2+30:i-=o.BannerSize.W/2+30,this.showShield(i,n,r)},e.prototype.showShield=function(t,e,i){var n=new s.Shield;n.position.set(t,e),n.scale.x=i?1:-1,n.initialize(),this.addChild(n),n.play()},e}(PIXI.Container);e.LayerDamage=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(16),r=function(t){function e(){var e=t.call(this)||this;return e._num0001=new PIXI.Sprite,e._num0001.anchor.set(0,1),e._num0001.alpha=0,e._num0010=new PIXI.Sprite,e._num0010.anchor.set(0,1),e._num0010.alpha=0,e._num0100=new PIXI.Sprite,e._num0100.anchor.set(0,1),e._num0100.alpha=0,e._num1000=new PIXI.Sprite,e._num1000.anchor.set(0,1),e._num1000.alpha=0,e._critical=new PIXI.Sprite,e._critical.anchor.set(.5,0),e._critical.visible=!1,e.addChild(e._num0001),e.addChild(e._num0010),e.addChild(e._num0100),e.addChild(e._num1000),e.addChild(e._critical),e}return n(e,t),e.prototype.initialize=function(t,e){0==e?this._initializeForMiss():(t=Math.min(t,9999),t=Math.floor(t),this._initialize(t,e))},e.prototype.play=function(t){void 0===t&&(t=null),1==this._critical.visible&&createjs.Tween.get(this._critical).wait(65).to({alpha:1},0).to({x:20},65).to({x:38},65).to({x:21},65).to({x:36},65).to({x:26},65).to({x:32},65).to({x:27},65).to({x:30},65).to({x:29},65),createjs.Tween.get(this._num1000).to({alpha:1},0).to({y:-21},135).to({y:0},135).to({y:-7},100).to({y:0},100),createjs.Tween.get(this._num0100).wait(65).to({alpha:1},0).to({y:-21},135).to({y:0},135).to({y:-7},100).to({y:0},100),createjs.Tween.get(this._num0010).wait(130).to({alpha:1},0).to({y:-21},135).to({y:0},135).to({y:-7},100).to({y:0},100);var e=createjs.Tween.get(this._num0001).wait(200).to({alpha:1},0).to({y:-21},135).to({y:0},135).to({y:-7},100).to({y:0},100).wait(265);null!=t&&e.call(t)},e.prototype._initializeForMiss=function(){this._num1000.visible=!1,this._num0100.visible=!1,this._num0010.visible=!1,this._num0001.texture=o.BATTLE_MAIN.getTexture(19),this._num1000.position.set(-47,0)},e.prototype._initialize=function(t,e){var i;2==e?(i=[20,21,22,23,24,25,26,27,28,29],this._critical.texture=o.BATTLE_MAIN.getTexture(18),this._critical.position.set(29,-7),this._critical.alpha=0,this._critical.visible=!0):i=[8,9,10,11,12,13,14,15,16,17];var n=!1,r=Math.floor(t/1e3);r>0&&(n=!0,this._num1000.texture=o.BATTLE_MAIN.getTexture(i[r]));var s=Math.floor(t%1e3/100);(1==n||s>0)&&(n=!0,this._num0100.texture=o.BATTLE_MAIN.getTexture(i[s]));var a=Math.floor(t%100/10);(1==n||a>0)&&(n=!0,this._num0010.texture=o.BATTLE_MAIN.getTexture(i[a]));var _=t%10;this._num0001.texture=o.BATTLE_MAIN.getTexture(i[_]),this._num0001.position.set(47,0),this._num0010.position.set(26,0),this._num0100.position.set(5,0),this._num1000.position.set(-17,0)},e}(PIXI.Container);e.DamageNumber=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(16),r=function(t){function e(){var e=t.call(this)||this;return e.anchor.set(.5),e.alpha=0,e}return n(e,t),e.prototype.initialize=function(){this.texture=o.BATTLE_MAIN.getTexture(110)},e.prototype.play=function(){var t=this,e={a:0,r:255,g:255,b:255},i=function(e){var i=e.target.target;t.alpha=i.a;var n=(Math.round(i.r)<<16)+(Math.round(i.g)<<8)+Math.round(i.b);t.tint=n};createjs.Tween.get(e,{onChange:i}).to({a:1},100).to({r:128},100).to({r:255,g:192,b:192},100).to({a:0},100).call(function(){null!=t.parent&&t.parent.removeChild(t)})},e}(PIXI.Sprite);e.Shield=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1465),r=function(t){function e(){var e=t.call(this)||this;return e._rader_f=new o.Rader(!0),e._rader_f.position.set(112,603),e._rader_e=new o.Rader(!1),e._rader_e.position.set(1088,117),e.resetChildren(),e}return n(e,t),Object.defineProperty(e.prototype,"rader_f",{get:function(){return this._rader_f},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rader_e",{get:function(){return this._rader_e},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){this._rader_f.y=t?642:603,this._rader_f.initialize(),this._rader_e.initialize()},e.prototype.resetChildren=function(){this.addChild(this._rader_f),this.addChild(this._rader_e)},e}(PIXI.Container);e.RaderLayer=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(12),r=i(437),s=i(1466),a=i(1467),_=i(16),l=i(1468),u=function(t){function e(e){var i=t.call(this)||this;return i._friend=e,i._wave1=new o.Sprite,i._wave1.anchor.set(.5),i._wave1.scale.set(0),i._wave2=new o.Sprite,i._wave2.anchor.set(.5),i._wave2.scale.set(0),i._bg=new o.Sprite,i._bg.anchor.set(.5),i._bg.scale.set(0),i._points=new PIXI.Sprite,i._longRange=new PIXI.Container,i._longRange.position.set(-100,-85),i._touch_plane=new l.TouchPlane(e),i.addChild(i._wave1),i.addChild(i._wave2),i.addChild(i._bg),i.addChild(i._points),i.addChild(i._longRange),i.addChild(i._touch_plane),i}return n(e,t),Object.defineProperty(e.prototype,"touch_plane",{get:function(){return this._touch_plane},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._wave1.texture=_.BATTLE_MAIN.getTexture(84),this._wave2.texture=_.BATTLE_MAIN.getTexture(84),this._bg.texture=_.BATTLE_MAIN.getTexture(83)},e.prototype.show=function(t,e,i,n,o){null!=this._lader_tweens&&(this._lader_tweens.setPaused(!0),this._lader_tweens.removeAllEventListeners(),this._lader_tweens=null,this._longRange.removeChildren()),0==e?this._show(t,i,o):this._showCombined(t,e,i,n,o)},e.prototype.wave=function(){var t=this;null==this._wave_tweens&&0!=this._bg.scale.x&&(this._wave_tweens=new Array(2),this._wave_tweens[0]=createjs.Tween.get(this._wave1).to({scaleX:1,scaleY:1},800).to({scaleX:1.2,scaleY:1.2,alpha:0},200).call(function(){t._wave1.scale.set(0),t._wave1.alpha=1}),this._wave_tweens[1]=createjs.Tween.get(this._wave2).wait(400).to({scaleX:1,scaleY:1},800).to({scaleX:1.2,scaleY:1.2,alpha:0},200).call(function(){t._wave2.scale.set(0),t._wave2.alpha=1,t._wave_tweens=null}))},e.prototype._show=function(t,e,i){var n=this,o=createjs.Tween.get(this._bg);o.to({scaleX:1,scaleY:1},800),i&&o.call(function(){n.showLongRangeRader()}),e<=0||o.call(function(){var i=new r.FormationPoints(n._friend);i.scale.set(.65),i.initialize(t,e),n._points.addChild(i),1==n._friend&&(i.rotation=Math.PI),i.show()})},e.prototype._showCombined=function(t,e,i,n,o){var r=this,_=createjs.Tween.get(this._bg);_.to({scaleX:1,scaleY:1},800),o&&_.call(function(){r.showLongRangeRader()}),i<=0||_.call(function(){var o=new s.FormationPointsCombinedMain(r._friend);o.initialize(t,i,e),r._points.addChild(o);var _=new a.FormationPointsCombinedSub(r._friend);_.initialize(t,n),r._points.addChild(_),0==r._friend&&(o.rotation=Math.PI,_.rotation=Math.PI),o.show(),_.show()})},e.prototype.showLongRangeRader=function(){var t=new o.Sprite;t.texture=_.BATTLE_MAIN.getTexture(81);var e=new o.Sprite;e.texture=_.BATTLE_MAIN.getTexture(82),e.alpha=0,this._longRange.addChild(e,t),this._longRange.alpha=0,createjs.Tween.get(this._longRange).to({alpha:1},800),this._lader_tweens=createjs.Tween.get(e),this._lader_tweens.loop=!0,this._lader_tweens.to({alpha:1},500).to({alpha:0},500)},e}(PIXI.Container);e.Rader=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(245),r=function(t){function e(e){var i=t.call(this)||this;return i._friend=e,i._points=[],i}return n(e,t),e.prototype.initialize=function(t,e,i){if(this._clearPoints(),e<=0)return!1;var n;switch(t){case 11:n=this._get11Points(e);break;case 12:n=this._get12Points(e);break;case 13:n=this._get13Points(e);break;case 14:n=this._get14Points(e)}if(null==n)return!1;for(var r=0;r<n.length;r++){var s=new o.FormationPoint,a=n[r];s.position.set(a.x,a.y),s.initializeForCombinedMain(this._friend,i),s.visible=!1,this.addChild(s),this._points.push(s)}return!0},e.prototype.show=function(t){void 0===t&&(t=100);for(var e=createjs.Tween.get(null),i=0,n=this._points;i<n.length;i++){var o=n[i];!function(i){e.wait(t),e.call(function(){i.visible=!0})}(o)}},e.prototype.dispose=function(){this._clearPoints()},e.prototype._clearPoints=function(){for(var t=0,e=this._points;t<e.length;t++){var i=e[t];this.removeChild(i)}this._points=[]},e.prototype._get11Points=function(t){var e=[];return t>0&&e.push(new PIXI.Point(-24,-20)),t>1&&e.push(new PIXI.Point(-24,0)),t>2&&e.push(new PIXI.Point(-44,-20)),t>3&&e.push(new PIXI.Point(-44,0)),t>4&&e.push(new PIXI.Point(-24,-44)),t>5&&e.push(new PIXI.Point(-24,26)),e},e.prototype._get12Points=function(t){var e=[];return t>0&&e.push(new PIXI.Point(-24,-21)),t>1&&e.push(new PIXI.Point(-24,0)),t>2&&e.push(new PIXI.Point(-44,-21)),t>3&&e.push(new PIXI.Point(-44,0)),t>4&&e.push(new PIXI.Point(-63,-21)),t>5&&e.push(new PIXI.Point(-63,0)),e},e.prototype._get13Points=function(t){var e=[];return t>0&&e.push(new PIXI.Point(-12,-21)),t>1&&e.push(new PIXI.Point(-12,0)),t>2&&e.push(new PIXI.Point(-32,-21)),t>3&&e.push(new PIXI.Point(-32,0)),t>4&&e.push(new PIXI.Point(11,-21)),t>5&&e.push(new PIXI.Point(11,0)),e},e.prototype._get14Points=function(t){var e=[];return t>0&&e.push(new PIXI.Point(-45,-21)),t>1&&e.push(new PIXI.Point(-45,0)),t>2&&e.push(new PIXI.Point(-63,-21)),t>3&&e.push(new PIXI.Point(-63,0)),t>4&&e.push(new PIXI.Point(-9,-12)),t>5&&e.push(new PIXI.Point(-27,-12)),e},e}(PIXI.Container);e.FormationPointsCombinedMain=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(245),r=function(t){function e(e){var i=t.call(this)||this;return i._friend=e,i._points=[],i}return n(e,t),e.prototype.initialize=function(t,e){if(this._clearPoints(),e<=0)return!1;var i;switch(t){case 11:i=this._get11Points(e);break;case 12:i=this._get12Points(e);break;case 13:i=this._get13Points(e);break;case 14:i=this._get14Points(e)}if(null==i)return!1;for(var n=0;n<i.length;n++){var r=new o.FormationPoint,s=i[n];r.position.set(s.x,s.y),r.initializeForCombinedSub(this._friend),r.visible=!1,this.addChild(r),this._points.push(r)}return!0},e.prototype.show=function(t){void 0===t&&(t=100);for(var e=createjs.Tween.get(null),i=0,n=this._points;i<n.length;i++){var o=n[i];!function(i){e.wait(t),e.call(function(){i.visible=!0})}(o)}},e.prototype.dispose=function(){this._clearPoints()},e.prototype._clearPoints=function(){for(var t=0,e=this._points;t<e.length;t++){var i=e[t];this.removeChild(i)}this._points=[]},e.prototype._get11Points=function(t){var e=[];return t>0&&e.push(new PIXI.Point(38,-12)),t>1&&e.push(new PIXI.Point(23,-35)),t>2&&e.push(new PIXI.Point(23,12)),t>3&&e.push(new PIXI.Point(8,-57)),t>4&&e.push(new PIXI.Point(8,35)),t>5&&e.push(new PIXI.Point(0,-12)),e},e.prototype._get12Points=function(t){var e=[];return t>0&&e.push(new PIXI.Point(44,-12)),t>1&&e.push(new PIXI.Point(17,-12)),t>2&&e.push(new PIXI.Point(36,-38)),t>3&&e.push(new PIXI.Point(36,15)),t>4&&e.push(new PIXI.Point(-3,-21)),t>5&&e.push(new PIXI.Point(-3,0)),e},e.prototype._get13Points=function(t){var e=[];return t>0&&e.push(new PIXI.Point(36,-12)),t>1&&e.push(new PIXI.Point(11,-54)),t>2&&e.push(new PIXI.Point(11,33)),t>3&&e.push(new PIXI.Point(-32,-54)),t>4&&e.push(new PIXI.Point(-32,33)),t>5&&e.push(new PIXI.Point(-57,-12)),e},e.prototype._get14Points=function(t){var e=[];return t>0&&e.push(new PIXI.Point(44,-12)),t>1&&e.push(new PIXI.Point(26,-38)),t>2&&e.push(new PIXI.Point(26,15)),t>3&&e.push(new PIXI.Point(26,-12)),t>4&&e.push(new PIXI.Point(9,-21)),t>5&&e.push(new PIXI.Point(9,0)),e},e}(PIXI.Container);e.FormationPointsCombinedSub=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(16),r=i(143),s=function(t){function e(e){var i=t.call(this)||this;return i._mst_id=-1,i._friend=e,i._plane=new r.Plane,i._plane.scale.set(-.25,.25),i._label=new a,i._label.position.set(-56,35),i.addChild(i._plane),i.addChild(i._label),i}return n(e,t),e.prototype.initialize=function(t){this._mst_id=t,this._stopShowTween(),this._stopHideTween(),this._label.initialize()},e.prototype.show=function(){var t=this;null==this._show_tween&&(this._mst_id<=0||(this._stopHideTween(),this._label.activate(),this._plane.visible=!1,this._plane.initialize(this._mst_id,this._friend),this._plane.activate(),this._show_tween=createjs.Tween.get(this._plane).wait(133).call(function(){t._plane.alpha=.5,t._plane.visible=!0}).wait(100).call(function(){t._plane.visible=!1}).wait(500).call(function(){t._plane.alpha=.85,t._plane.visible=!0}).wait(100).call(function(){t._plane.alpha=.6,t._plane.filters=null}).to({alpha:.8},166).call(function(){t._show_tween=null})))},e.prototype.hide=function(){var t=this;null==this._hide_tween&&(this._stopShowTween(),this._mst_id>0&&(this._mst_id=-1,this._label.deactivate(),this._hide_tween=createjs.Tween.get(this._plane).to({alpha:0},200).call(function(){t._plane.deactivate(),t._plane.visible=!1,t._hide_tween=null})))},e.prototype._stopShowTween=function(){null!=this._show_tween&&(this._show_tween.setPaused(!0),this._show_tween=null)},e.prototype._stopHideTween=function(){null!=this._hide_tween&&(this._hide_tween.setPaused(!0),this._hide_tween=null)},e}(PIXI.Container);e.TouchPlane=s;var a=function(t){function e(){var e=t.call(this)||this;return e.alpha=0,e}return n(e,t),e.prototype.initialize=function(){this.texture=o.BATTLE_MAIN.getTexture(132)},e.prototype.activate=function(){null==this._t&&(this._t=createjs.Tween.get(this,{loop:!0}).to({alpha:1},100).wait(700).to({alpha:0},100).wait(200))},e.prototype.deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null,this.alpha=0)},e}(PIXI.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(232),s=i(6),a=i(181),_=function(t){function e(){var e=t.call(this)||this;return e._now=0,e._max=0,e._animation_gauge=!1,e._ready_for_explode=!1,e._animation_explode=!1,e._exploded=!1,e._playExplosion=function(t,i){var n=new a.Explosion;n.position.set(e._gauge.x+t,e._gauge.y+i),e.addChild(n),s.SE.play("102"),n.play(function(){e.removeChild(n)})},e._onCompleteAnimation=function(){e._animation_gauge=!1,1==e._ready_for_explode&&(e._ready_for_explode=!1,e.explode())},e}return n(e,t),Object.defineProperty(e.prototype,"now",{get:function(){return this._now},enumerable:!0,configurable:!0}),e.prototype.hasGauge=function(){return null!=this._gauge},e.prototype.isExploded=function(){return this._exploded},e.prototype.isAnimation=function(){return this._animation_gauge||this._animation_explode},e.prototype.show=function(t,e,i,n){var s=this;this._now=e,this._max=i,this._gauge=new r.GaugeHorizontal,this._gauge.initialize(t),this._gauge.x=o.default.width-this._gauge.width,this._gauge.y=-15,this._gauge.alpha=0,this.addChild(this._gauge),createjs.Tween.get(this._gauge).to({y:0,alpha:1},300).call(function(){s._gauge.update(e,i,function(){}),null!=n&&n()})},e.prototype.update=function(t){0!=this.hasGauge()&&(this._animation_gauge=!0,this._now=t,this._gauge.update(t,this._max,this._onCompleteAnimation))},e.prototype.explode=function(){var t=this;if(0!=this.hasGauge()&&!(this._now>0))return 1==this._animation_gauge?void(this._ready_for_explode=!0):void(1!=this._ready_for_explode&&1!=this._animation_explode&&1!=this._exploded&&(this._animation_explode=!0,createjs.Tween.get(null).call(this._playExplosion,[107,20]).wait(250).call(this._playExplosion,[209,57]).call(function(){createjs.Tween.get(t._gauge).to({alpha:0},350).call(function(){t.removeChild(t._gauge),t._gauge=null,t._animation_explode=!1,t._exploded=!0})}).wait(100).call(this._playExplosion,[309,24])))},e}(PIXI.Container);e.LayerGauge=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(249),r=i(16),s=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.show=function(t,e){void 0===e&&(e=null),this.hide(),this._current=new o.PhaseTitle,this._current.y=16,this._current.alpha=0,this._current.initialize(8==t);var i=this._getTexture(t);this._current.update(i),this._current.activate(),null!=e?e.addChild(this._current):this.addChild(this._current),createjs.Tween.get(this._current).to({alpha:1},800)},e.prototype.hide=function(t){if(void 0===t&&(t=null),null==this._current)null!=t&&t();else{var e=this._current;this._current=null,createjs.Tween.get(e).to({alpha:0},300).call(function(){e.deactivate();var i=e.parent;null!=i&&i.removeChild(e),e.dispose(),null!=t&&t()})}},e.prototype._getTexture=function(t){switch(t){case 0:return r.BATTLE_MAIN.getTexture(129);case 1:return r.BATTLE_MAIN.getTexture(125);case 2:return r.BATTLE_MAIN.getTexture(130);case 3:return r.BATTLE_MAIN.getTexture(128);case 4:return r.BATTLE_MAIN.getTexture(124);case 5:return r.BATTLE_MAIN.getTexture(123);case 6:return r.BATTLE_MAIN.getTexture(127);case 7:return r.BATTLE_MAIN.getTexture(126);case 8:return r.BATTLE_MAIN.getTexture(131);default:return PIXI.Texture.EMPTY}},e}(PIXI.Container);e.LayerTitle=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(6),s=i(16),a=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.showCenter=function(t){var e=this,i=new _(t),n=o.default.width/2,s=o.default.height/2;i.position.set(n,s),i.bg.scale.y=0,i.text.x+=150,i.text.alpha=0,this.addChild(i),r.SE.play("117"),createjs.Tween.get(i.bg.scale).to({y:1},300).wait(1150).to({y:0},300).call(function(){e.removeChild(i),e.emit("complete")}),createjs.Tween.get(i.text).wait(300).to({x:90,alpha:1},300).to({x:-90},350).call(function(){e.emit("showed")}).to({x:-150,alpha:0},500)},e.prototype.showTop=function(t){var e=this,i=new _(t),n=o.default.width/2;i.position.set(n,117),i.bg.scale.y=0,i.text.x=-n+i.text.width/2-195,i.text.alpha=0,this.addChild(i),r.SE.play("117"),createjs.Tween.get(i.bg.scale).to({y:1},300).wait(1450).to({y:0},300).call(function(){e.removeChild(i),e.emit("complete")}),createjs.Tween.get(i.text).wait(250).to({alpha:1},100).to({x:-n+i.text.width/2},200).to({x:-n+i.text.width/2+90},750).call(function(){e.emit("showed")}).to({x:10,alpha:0},350),createjs.Tween.get(i.subText).wait(750).call(function(){i.subText.position.set(0,110),i.subText.visible=!0}).wait(700).to({x:-n,alpha:0},300)},e}(PIXI.Container);e.LayerInfo=a;var _=function(t){function e(e){var i,n,o,r=t.call(this)||this;i=4==e||3==e?PIXI.Texture.fromFrame("battle_telop_mes_bg_e"):PIXI.Texture.fromFrame("battle_telop_mes_bg_f"),n=r._getTextTextureNo(e),o=1==e||2==e?s.BATTLE_MAIN.getTexture(64):4==e||3==e?s.BATTLE_MAIN.getTexture(65):PIXI.Texture.EMPTY,r._bg=new PIXI.Container;var a=new PIXI.Sprite(i);return a.x=-Math.round(a.width/2),a.y=-Math.round(a.height/2),r._bg.addChild(a),r._text=new PIXI.Sprite(n),r._text.anchor.set(.5),r._subText=new PIXI.Sprite(o),r._subText.anchor.set(.5),r._subText.visible=!1,r.addChild(r._bg),r.addChild(r._text),r.addChild(r._subText),r}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subText",{get:function(){return this._subText},enumerable:!0,configurable:!0}),e.prototype._getTextTextureNo=function(t){var e=-1;if(0==t)e=68;else if(1==t)e=72;else if(2==t)e=73;else if(4==t)e=75;else if(3==t)e=74;else if(5==t)e=66;else{if(6!=t)return PIXI.Texture.EMPTY;e=67}return s.BATTLE_MAIN.getTexture(e)},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(277),r=i(1473),s=i(1480),a=i(1484),_=i(1514),l=i(1515),u=function(t){function e(){var e=t.call(this)||this;return e._view=new l.ViewMain,e.addChild(e._view),e._layer_bonus=new PIXI.Container,e.addChild(e._layer_bonus),e}return n(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_bonus",{get:function(){return this._layer_bonus},enumerable:!0,configurable:!0}),e.prototype.start=function(e){var i=this;t.prototype.start.call(this,e),this._data=new r.BattleResultData(e),new s.TaskInit(this).start(function(){i._main()})},e.prototype._main=function(){var t=this;new a.TaskMain(this).start(function(){t._end()})},e.prototype._end=function(){var t=this;new _.TaskEnd(this).start(function(){t.emit("complete")})},e}(o.BattleResultSceneBase);e.BattleResultScene=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1474),o=i(7),r=i(1475),s=i(1476),a=i(1477),_=i(1478),l=i(1479),u=function(){function t(t){this._battle_model=t}return Object.defineProperty(t.prototype,"battle_model",{get:function(){return this._battle_model},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"map_name",{get:function(){return null!=this._battle_model&&1==this._battle_model.isPractice()?"\u6f14\u7fd2":o.ObjUtil.getString(this._o,"api_quest_name")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"user_name_f",{get:function(){return null!=this._battle_model&&null!=this._battle_model.deck_f?this._battle_model.deck_f.user_name:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"user_level_f",{get:function(){return o.ObjUtil.getNumber(this._o,"api_member_lv")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deck_name_f",{get:function(){return null!=this._battle_model&&null!=this._battle_model.deck_f?this._battle_model.deck_f.name:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deck_name_e",{get:function(){var t=o.ObjUtil.getObject(this._o,"api_enemy_info");return null!=t?o.ObjUtil.getString(t,"api_deck_name"):""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deck_name_f2",{get:function(){return null!=this._battle_model&&null!=this._battle_model.deck_f?this._battle_model.deck_f.name_second:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"battle_result_rank",{get:function(){return o.ObjUtil.getString(this._o,"api_win_rank","E")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"base_exp",{get:function(){return o.ObjUtil.getNumber(this._o,"api_get_base_exp")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extra_war_results",{get:function(){return o.ObjUtil.getNumber(this._o,"api_get_exmap_rate")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extra_useitem_mst_id",{get:function(){return o.ObjUtil.getNumber(this._o,"api_get_exmap_useitem_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extra_result",{get:function(){return o.ObjUtil.getNumber(this._o,"api_mapcell_incentive")},enumerable:!0,configurable:!0}),t.prototype.setData=function(t){this._o=t,this._battle_model.m1=o.ObjUtil.getNumber(this._o,"api_m1"),this._battle_model.escape=this.getEscapeData()},t.prototype.getMvpIndex=function(t){return 0==t?o.ObjUtil.getNumber(this._o,"api_mvp")-1:o.ObjUtil.getNumber(this._o,"api_mvp_combined")-1},t.prototype.getLevelupInfoList=function(t){return 0==t?o.ObjUtil.getObjectArray(this._o,"api_get_exp_lvup"):o.ObjUtil.getObjectArray(this._o,"api_get_exp_lvup_combined")},t.prototype.getShipExp=function(t){var e;return null==(e=0==t?o.ObjUtil.getNumArray(this._o,"api_get_ship_exp"):o.ObjUtil.getNumArray(this._o,"api_get_ship_exp_combined"))?[]:1==e.length&&-1==e[0]?[]:(e=e.concat(),e.shift(),e)},t.prototype.getBonusShip=function(){var t=o.ObjUtil.getObject(this._o,"api_get_ship");return null!=t?new r.BonusShipModel(t):null},t.prototype.getBonusSlot=function(){var t=o.ObjUtil.getObject(this._o,"api_get_slotitem");return null!=t?new s.BonusSlotModel(t):null},t.prototype.getBonusUseitem=function(){var t=o.ObjUtil.getObject(this._o,"api_get_useitem");return null!=t?new a.BonusUseitemModel(t):null},t.prototype.getMapBonus=function(){var t=o.ObjUtil.getObjectArray(this._o,"api_get_eventitem");if(null==t)return[];for(var e=[],i=0,n=t;i<n.length;i++){var r=n[i];e.push(new l.MapBonusModel(r))}return e},t.prototype.isFirstClear=function(){return 1==o.ObjUtil.getNumber(this._o,"api_first_clear")},t.prototype.getOpenedMapIDs=function(){return o.ObjUtil.getNumArray(this._o,"api_next_map_ids",[])},t.prototype.getLandingData=function(){return new _.LandingModel(o.ObjUtil.getObject(this._o,"api_landing_hp"))},t.prototype.getEscapeData=function(){var t=o.ObjUtil.getObject(this._o,"api_escape");return new n.EscapeCandidateModel(t)},t.prototype.getClearMapSuffix=function(){return o.ObjUtil.getString(this._o,"api_m_suffix")},t.prototype.getClearOperationSuffix=function(){return o.ObjUtil.getString(this._o,"api_ope_suffix")},t}();e.BattleResultData=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),o=function(){function t(t){this._o=t}return t.prototype.getTargetShipIndexes=function(){if(null==this._o)return[];var t=n.ObjUtil.getNumArray(this._o,"api_escape_idx");if(null==t)return[];for(var e=[],i=0;i<t.length;i++)e.push(t[i]-1);return e},t.prototype.getTowingShipIndexes=function(){if(null==this._o)return[];var t=n.ObjUtil.getNumArray(this._o,"api_tow_idx");if(null==t)return[];for(var e=[],i=0;i<t.length;i++)e.push(t[i]-1);return e},t}();e.EscapeCandidateModel=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"mst_id",{get:function(){return n.ObjUtil.getNumber(this._o,"api_ship_id")},enumerable:!0,configurable:!0}),t}();e.BonusShipModel=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"mst_id",{get:function(){return n.ObjUtil.getNumber(this._o,"api_slotitem_id")},enumerable:!0,configurable:!0}),t}();e.BonusSlotModel=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"mst_id",{get:function(){return n.ObjUtil.getNumber(this._o,"api_useitem_id")},enumerable:!0,configurable:!0}),t}();e.BonusUseitemModel=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"nowHP",{get:function(){return n.ObjUtil.getNumber(this._o,"api_now_hp")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHP",{get:function(){return n.ObjUtil.getNumber(this._o,"api_max_hp")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subValue",{get:function(){return n.ObjUtil.getNumber(this._o,"api_sub_value")},enumerable:!0,configurable:!0}),t.prototype.isLandingMap=function(){return null!=this._o},t.prototype.isSuccess=function(){return this.subValue>0},t}();e.LandingModel=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),o=function(){function t(t){this._o=t}return Object.defineProperty(t.prototype,"mst_id",{get:function(){return n.ObjUtil.getNumber(this._o,"api_id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return n.ObjUtil.getNumber(this._o,"api_slot_level")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return n.ObjUtil.getNumber(this._o,"api_value")},enumerable:!0,configurable:!0}),t.prototype.isUseitem=function(){return 1==this._type},t.prototype.isShip=function(){return 2==this._type},t.prototype.isSlotitem=function(){return 3==this._type},t.prototype.isFurniture=function(){return 5==this._type},Object.defineProperty(t.prototype,"_type",{get:function(){return n.ObjUtil.getNumber(this._o,"api_type")},enumerable:!0,configurable:!0}),t}();e.MapBonusModel=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(18),s=i(2),a=i(1481),_=i(13),l=i(36),u=i(1482),c=i(1483),h=function(t){function e(e){var i=t.call(this)||this;return i._waited=!1,i._connected=!1,i._scene=e,i}return n(e,t),e.prototype._start=function(){var t=this,e=o.default.model.map.getArea(r.EVENT_AREA_ID),i=null!=e;new a.TaskLoadResourcesBattleResult(i).start(function(){t._loadBannerImages()})},e.prototype._loadBannerImages=function(){for(var t=this,e=new _.ShipLoader,i=this._scene.data.battle_model,n=i.deck_f.ships,o=0,r=n;o<r.length;o++){var s=r[o];this._addResourceToLoader(e,s)}for(var a=i.deck_e.ships,l=0,u=a;l<u.length;l++){var s=u[l];this._addResourceToLoader(e,s)}e.load(function(){t._showImage()})},e.prototype._addResourceToLoader=function(t,e){null!=e&&(e.hp_now<=0?t.add(e.mst_id,!0,"banner_g"):t.add(e.mst_id,e.isDamaged(),"banner"))},e.prototype._showImage=function(){var t=this,e=l.BATTLE_RESULT_MAIN.getTexture(73);this._img=new PIXI.Sprite(e),this._img.anchor.set(.5,.5),this._img.position.set(330,290),this._img.alpha=0,this._scene.addChild(this._img),createjs.Tween.get(this._img).to({alpha:1},200).call(function(){t._waited=!0,t._hideImage()}),this._connectAPI()},e.prototype._connectAPI=function(){var t,e=this;t=1==this._scene.data.battle_model.isPractice()?new c.APIPracticeResult(this._scene.data):new u.APIBattleResult(this._scene.data),t.start(function(){e._connected=!0,e._hideImage()})},e.prototype._hideImage=function(){var t=this;0!=this._waited&&0!=this._connected&&createjs.Tween.get(this._img).to({x:270},200).to({x:240,alpha:0},200).wait(500).call(function(){t._img.parent.removeChild(t._img),t._showTitle()})},e.prototype._showTitle=function(){var t=this;this._scene.view.layer_title.show();var e=this._scene.data.map_name;this._scene.view.layer_map_name.initialize(e),this._scene.view.layer_bg.initialize();var i=this._scene.data.user_name_f,n=this._scene.data.user_level_f,o=this._scene.data.deck_name_f,r=this._scene.data.deck_name_e,s=this._scene.data.battle_model.deck_f.isYugeki();this._scene.view.layer_deck_info.initialize(i,n,o,r,s);this._scene.data.battle_model.deck_f.ships,this._scene.data.battle_model.deck_e.ships;this._scene.view.layer_bg.once("complete",function(){t._scene.view.layer_map_name.show()}),this._scene.view.layer_map_name.once("complete",function(){t._endTask()}),this._scene.view.layer_bg.show()},e}(s.TaskBase);e.TaskInit=h},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(14),s=function(t){function e(e){var i=t.call(this)||this;return i._event=e,i}return n(e,t),e.prototype._start=function(){this._loadCommon()},e.prototype._loadCommon=function(){var t=this,e=new r.UIImageLoader("common");e.add("common_explosion.json"),e.load(function(){t._load()})},e.prototype._load=function(){var t=this,e=new r.UIImageLoader("battle_result");e.add("battle_result_main.json"),this._event&&e.add("battle_result_event_base.json"),e.load(function(){t._endTask()})},e}(o.TaskBase);e.TaskLoadResourcesBattleResult=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=function(t){function e(e,i){void 0===i&&(i=!1);var n=t.call(this)||this,o=e.battle_model.deck_f,r=e.battle_model.deck_e,s=0!=o.type,a=null!=r&&0!=r.type;return n._url=0==s&&0==a?"api_req_sortie/battleresult":"api_req_combined_battle/battleresult",n._data=e,n._debug=i,n}return n(e,t),e.prototype._connect=function(){var e=this._data.battle_model.actual_survey_time,i=this._data.battle_model.prediction_time,n=this.__AA1(e,i);n>=0&&(this._post_data.api_btime=n);for(var o=this._data.battle_model.deck_f.ships,r=12==o.length?o.slice(0,6):o,s=12==o.length?o.slice(6,12):[],a=this._data.battle_model.ship_info.getLastData(!0),_=0;_<r.length;_++){var l=r[_];if(null==l)break;var u=a.get(l.mem_id);null!=u&&(this._post_data["api_l_value["+_+"]"]=u.hp)}for(var _=0;_<s.length;_++){var l=s[_];if(null==l)break;var u=a.get(l.mem_id);null!=u&&(this._post_data["api_l_value2["+_+"]"]=u.hp)}for(var c=this._data.battle_model.deck_e.ships,h=12==c.length?c.slice(0,6):c,p=12==c.length?c.slice(6,12):[],d=this._data.battle_model.ship_info.getLastData(!1),_=0;_<h.length;_++){var l=h[_];if(null==l)break;var u=d.get(l.mem_id);null!=u&&(this._post_data["api_l_value3["+_+"]"]=u.hp)}for(var _=0;_<p.length;_++){var l=p[_];if(null==l)break;var u=d.get(l.mem_id);null!=u&&(this._post_data["api_l_value4["+_+"]"]=u.hp)}var _,l,u,_,l,u;t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._data.setData(this._raw_data),this._data=null,t.prototype._completedEnd.call(this)},e.prototype.__AA1=function(t,e){var i=t,n=i,o=Math.floor(89999999*Math.random())+1e7,r=Math.floor(o/331),s=331*r;if(i/n<=.6)return s;var a=99999999-s,_=Math.min(329,a);return s+Math.floor(Math.random()*_)+1},e}(o.APIBase);e.APIBattleResult=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=function(t){function e(e,i){void 0===i&&(i=!1);var n=t.call(this)||this;return n._url="api_req_practice/battle_result",n._data=e,n._debug=i,n}return n(e,t),e.prototype._connect=function(){t.prototype._connect.call(this)},e.prototype._completedEnd=function(){this._data.setData(this._raw_data),this._data=null,t.prototype._completedEnd.call(this)},e}(o.APIBase);e.APIPracticeResult=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(18),a=i(20),_=i(27),l=i(2),u=i(1485),c=i(1486),h=i(1489),p=i(1495),d=i(1507),f=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){var t=this;this._scene.view.layer_deck_info.show(function(){t._showShips()})},e.prototype._showShips=function(){var t,e=this,i=this._scene.data.battle_model.deck_e.isCombined();t=0==i?new y(this._scene):new m(this._scene),t.start(function(){e._showRank()})},e.prototype._showRank=function(){var t=this,e=this._scene.data.battle_model.map_info.area_id;if(e==s.EVENT_AREA_ID&&1==this._scene.data.isFirstClear()){var i=this._scene.data.battle_model.map_info.map_no,n=r.default.model.map.getMapMsts(e);null!=n&&n.length>0&&n[n.length-1].map_no==i?r.default.sound.voice.play("9999",427):r.default.sound.voice.play("9999",425)}new u.TaskRank(this._scene).start(function(){t._showExp()})},e.prototype._showExp=function(){var t=this;new c.TaskExp(this._scene).start(function(){t._showTransportResult()})},e.prototype._showTransportResult=function(){var t=this;new d.PhaseTransportResult(this._scene).start(function(){t._phaseBonus()})},e.prototype._phaseBonus=function(){var t=this;new h.PhaseBonus(this._scene).start(function(){t._phaseClear()})},e.prototype._phaseClear=function(){var t=this;new p.PhaseClear(this._scene).start(function(){t._endTask()})},e}(l.TaskBase);e.TaskMain=f;var y=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){var t=this,e=this._scene.data.battle_model.deck_f.ships_main;this._layer.banners_f.initialize(e),this._layer.info_f.initialize(e);var i=this._scene.data.battle_model.deck_e.ships_main;this._layer.banners_e.initialize(i),this._layer.info_e.initialize(i);var n=new a.TweenTask,o=this._layer.banners_f.createShowTweens(200);n.addTweens(o),o=this._layer.banners_e.createShowTweens(200),n.addTweens(o),n.start(function(){t._showNames()})},e.prototype._showNames=function(){var t=this,e=new a.TweenTask,i=this._layer.info_f.createShowTweens(200);e.addTweens(i),i=this._layer.info_e.createShowTweens(200),e.addTweens(i),e.start(function(){t._showGauge()})},e.prototype._showGauge=function(){var t=this,e=new _.ParallelTask,i=this._scene.data.battle_model,n=this._scene.view.layer_deck_info,o=i.ship_info.getFirstData(!1).getTotalHP(),r=i.ship_info.getLastData(!1).getTotalHP();e.add(n.friend.createTaskShowGauge(o,r,200));var s=i.ship_info.getFirstData(!0).getTotalHP(),a=i.ship_info.getLastData(!0).getTotalHP();e.add(n.enemy.createTaskShowGauge(s,a,o,r,200)),e.start(function(){t._hideEnemySide()})},e.prototype._hideEnemySide=function(){var t=this,e=new a.TweenTask;e.addTween(createjs.Tween.get(this._scene.view.layer_deck_info.enemy).wait(500).to({x:o.default.width},300));var i=this._scene.view.layer_banner.createSlideOutEnemyTweens(300,500);e.addTweens(i),e.start(function(){t._endTask()})},Object.defineProperty(e.prototype,"_layer",{get:function(){return this._scene.view.layer_banner},enumerable:!0,configurable:!0}),e}(l.TaskBase),m=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){var t=this,e=this._scene.data.battle_model.deck_f.ships_main;this._layer.banners_f.initialize(e),this._layer.info_f.initialize(e);var i=this._scene.data.battle_model.deck_e.ships_sub;this._layer.banners_e.initialize(i),this._layer.info_e.initialize(i);var n=new a.TweenTask,o=this._layer.banners_f.createShowTweens(200);n.addTweens(o),o=this._layer.banners_e.createShowTweens(200),n.addTweens(o),n.start(function(){t._showNames()})},e.prototype._showNames=function(){var t=this,e=new a.TweenTask,i=this._layer.info_f.createShowTweens(200);e.addTweens(i),i=this._layer.info_e.createShowTweens(200),e.addTweens(i),e.start(function(){t._hideEnemyBannerAndNames()})},e.prototype._hideEnemyBannerAndNames=function(){var t=this,e=new a.TweenTask,i=this._layer.banners_e.createHideTweens(500);e.addTweens(i),i=this._layer.info_e.createHideTweens(500),e.addTweens(i),e.start(function(){t._showGauge()})},e.prototype._showGauge=function(){var t=this,e=new _.ParallelTask,i=this._scene.data.battle_model.deck_e.ships_main;this._layer.banners_e.initialize(i),this._layer.info_e.initialize(i);var n=new a.TweenTask,o=this._layer.banners_e.createShowTweens(500);n.addTweens(o),o=this._layer.info_e.createShowTweens(500),n.addTweens(o),e.add(n);var r=this._scene.data.battle_model,s=this._scene.view.layer_deck_info,l=r.ship_info.getFirstData(!1).getTotalHP(),u=r.ship_info.getLastData(!1).getTotalHP();e.add(s.friend.createTaskShowGauge(l,u,500));var c=r.ship_info.getFirstData(!0).getTotalHP(),h=r.ship_info.getLastData(!0).getTotalHP();e.add(s.enemy.createTaskShowGauge(c,h,l,u,500)),e.start(function(){t._hideEnemySide()})},e.prototype._hideEnemySide=function(){var t=this,e=new a.TweenTask;e.addTween(createjs.Tween.get(this._scene.view.layer_deck_info.enemy).wait(500).to({x:o.default.width},300));var i=this._scene.view.layer_banner.createSlideOutEnemyTweens(300,500);e.addTweens(i),e.start(function(){t._endTask()})},Object.defineProperty(e.prototype,"_layer",{get:function(){return this._scene.view.layer_banner},enumerable:!0,configurable:!0}),e}(l.TaskBase)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(2),a=i(8),_=i(59),l=i(12),u=i(10),c=i(36),h=i(481),p=i(1),d=function(t){function e(e){var i=t.call(this)||this;i._parfect=!0,i._scene=e;var n=i._scene.data.battle_model;if(i._rank=i._scene.data.battle_result_rank,"S"!=i._rank)i._parfect=!1;else for(var r=n.deck_f.ships,s=0,a=r;s<a.length;s++){var _=a[s];if(null!=_){var l=n.ship_info.getFirstData(!0).get(_.mem_id).hp;if(_.hp_now<l){i._parfect=!1;break}}}return 1==i._parfect?i._view=new m:i._view=new y,i._view.position.set(o.default.width/2,o.default.height/2),i}return n(e,t),e.prototype._start=function(){var t=this;if(this._view.initialize(this._rank),this._view.bg.alpha=0,this._view.congratulations.x=o.default.width,this._view.congratulations_text.x=o.default.width/4*3,this._view.congratulations_text.alpha=0,this._view.relief.alpha=0,this._view.relief.scale.set(1.72),0==this._parfect){var e=this._view;e.text.alpha=0,e.text.scale.set(1.6)}else{var e=this._view;e.text_kan.alpha=0,e.text_kan.scale.set(2),e.text_zen.alpha=0,e.text_zen.scale.set(2),e.text_sho.alpha=0,e.text_sho.scale.set(2),e.text_ri.alpha=0,e.text_ri.scale.set(2),e.text_ex.alpha=0,e.text_ex.scale.set(2)}this._view.rank.visible=!1;var i=new PIXI.Sprite(c.BATTLE_RESULT_MAIN.getTexture(24));i.anchor.set(.5),this._view.bg.addChild(i),this._scene.view.addChild(this._view),createjs.Tween.get(this._view.bg).to({alpha:1},233),createjs.Tween.get(i).wait(233).to({alpha:0},266).call(function(){t._view.bg.removeChild(i),t._showTextAndRelief()})},e.prototype._showTextAndRelief=function(){var t=this;if(0==this._parfect){var e=this._view;createjs.Tween.get(e.text).to({alpha:1,scaleX:1,scaleY:1},200)}else{var e=this._view;createjs.Tween.get(e.text_kan).to({alpha:1,scaleX:1,scaleY:1},200).call(function(){var e=new PIXI.Rectangle(-540,-60,120,120);t._view.particle.startBigParticle(2,e)}),createjs.Tween.get(e.text_zen).wait(66).to({alpha:1,scaleX:1,scaleY:1},200).call(function(){var e=new PIXI.Rectangle(-368,-60,120,120);t._view.particle.startBigParticle(2,e)}),createjs.Tween.get(e.text_sho).wait(133).to({alpha:1,scaleX:1,scaleY:1},200).call(function(){var e=new PIXI.Rectangle(-195,-60,120,120);t._view.particle.startBigParticle(2,e)}),createjs.Tween.get(e.text_ri).wait(200).to({alpha:1,scaleX:1,scaleY:1},200).call(function(){var e=new PIXI.Rectangle(-30,-60,120,120);t._view.particle.startBigParticle(2,e)}),createjs.Tween.get(e.text_ex).wait(266).to({alpha:1,scaleX:1,scaleY:1},200).call(function(){var e=new PIXI.Rectangle(128,-60,90,120);t._view.particle.startBigParticle(2,e)})}createjs.Tween.get(this._view.relief).to({alpha:1,scaleX:1,scaleY:1},200).call(function(){t._showBlueParticle()})},e.prototype._showBlueParticle=function(){var t=this;if(0==this._parfect&&"S"==this._rank||"A"==this._rank){var e=new PIXI.Rectangle(-420,-75,405,150);this._view.particle.startBlueParticle(5,e)}else if("B"==this._rank){var e=new PIXI.Rectangle(-570,-60,690,120);this._view.particle.startBlueParticle(4,e)}createjs.Tween.get(this).wait(566).call(function(){t._showRank()})},e.prototype._showRank=function(){var t=this,e=.58;"S"==this._rank?(this._view.particle.startKamihubuki(60),e=1,r.default.sound.bgm.play(1,!1,0,"fanfare")):"A"==this._rank?(this._view.particle.startKamihubuki(30),r.default.sound.bgm.play(2,!1,0,"fanfare")):"B"==this._rank?(this._view.particle.startKamihubuki(15),r.default.sound.bgm.play(3,!1,0,"fanfare")):r.default.sound.bgm.play(4,!1,0,"fanfare"),this._view.rank.visible=!0,createjs.Tween.get(this._view.rank).to({scaleX:e,scaleY:e},233).call(function(){t._showParticle2()}),"S"==this._rank&&(this._view.congratulations.visible=!0,this._view.congratulations_text.visible=!0,createjs.Tween.get(this._view.congratulations).to({x:0},233),createjs.Tween.get(this._view.congratulations_text).wait(100).to({x:0,alpha:1},200))},e.prototype._showParticle2=function(){var t=this;if(1==this._parfect){var e=new PIXI.Rectangle(300,-135,150,240);this._view.particle.startBigParticle(6,e)}else if("S"==this._rank){var e=new PIXI.Rectangle(210,-135,150,240);this._view.particle.startYellowParticle(4,e)}if("S"==this._rank){var e=new PIXI.Rectangle(-300,213,600,54);this._view.particle.startGoldParticle(5,e)}createjs.Tween.get(this).wait(1233).call(function(){t._showNextGearButton()})},e.prototype._showNextGearButton=function(){var t=this,e=new _.GearBtnNext;e.position.set(530,288),e.initialize(),e.activate(),this._view.addChild(e);var i=new a.AreaBox(0);i.buttonMode=!0,i.position.set(-600,-360),this._view.addChild(i),i.once(p.EventType.CLICK,function(){t._hideRankCutin(e,i)})},e.prototype._hideRankCutin=function(t,e){var i=this;createjs.Tween.get(this._view).to({alpha:0},200).call(function(){t.deactivate(),i._view.removeChild(t),i._view.removeChild(e),i._scene.view.removeChild(i._view),i._view.dispose(),i._endTask()})},e}(s.TaskBase);e.TaskRank=d;var f=function(t){function e(){var e=t.call(this)||this;return e._bg=new PIXI.Sprite,e._bg.anchor.set(.5),e._congratulations=new PIXI.Sprite,e._congratulations.anchor.set(.5),e._congratulations.position.set(0,240),e._congratulations_text=new PIXI.Sprite,e._congratulations_text.anchor.set(.5),e._congratulations_text.position.set(0,240),e._relief=new l.Sprite,e._relief.anchor.set(.5),e._relief.position.set(288,0),e._texts_canvas=new l.Sprite,e._texts_canvas.position.set(-219,0),e._rank=new l.Sprite,e._rank.anchor.set(.5),e._rank.position.set(288,0),e._particle=new g,e.addChild(e._bg),e.addChild(e._congratulations),e.addChild(e._congratulations_text),e.addChild(e._relief),e.addChild(e._texts_canvas),e.addChild(e._rank),e.addChild(e._particle),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"congratulations",{get:function(){return this._congratulations},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"congratulations_text",{get:function(){return this._congratulations_text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relief",{get:function(){return this._relief},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"texts_canvas",{get:function(){return this._texts_canvas},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rank",{get:function(){return this._rank},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"particle",{get:function(){return this._particle},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){},e.prototype.dispose=function(){this.removeChildren(),this._particle.dispose()},e}(PIXI.Container),y=function(t){function e(){var e=t.call(this)||this;return e._text=new l.Sprite,e._text.anchor.set(.5),e.texts_canvas.addChild(e._text),e}return n(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){this.bg.texture=u.COMMON_MISC.getTexture(120),"S"==t?(this.congratulations.texture=c.BATTLE_RESULT_MAIN.getTexture(22),this.congratulations_text.texture=c.BATTLE_RESULT_MAIN.getTexture(23)):(this.congratulations.texture=PIXI.Texture.EMPTY,this.congratulations_text.texture=PIXI.Texture.EMPTY,this.congratulations.visible=!1,this.congratulations_text.visible=!1),this.relief.texture="D"==t||"E"==t?PIXI.Texture.EMPTY:c.BATTLE_RESULT_MAIN.getTexture(38);var e;this._text.position.x=0,"S"==t||"A"==t?e=35:"B"==t?(this._text.position.x=40,e=33):"C"==t?(this._text.position.x=60,e=34):e=32,this._text.texture=c.BATTLE_RESULT_MAIN.getTexture(e),"S"==t?(e=42,this.rank.scale.set(1.72)):e="A"==t?36:"B"==t?37:"C"==t?39:"D"==t?40:41,this.rank.texture=c.BATTLE_RESULT_MAIN.getTexture(e)},e}(f),m=function(t){function e(){var e=t.call(this)||this;return e.relief.position.set(375,0),e.rank.position.set(363,0),e._text_kan=new l.Sprite,e._text_kan.anchor.set(.5),e._text_kan.position.set(-269,0),e._text_zen=new l.Sprite,e._text_zen.anchor.set(.5),e._text_zen.position.set(-96,0),e._text_sho=new l.Sprite,e._text_sho.anchor.set(.5),e._text_sho.position.set(77,0),e._text_ri=new l.Sprite,e._text_ri.anchor.set(.5),e._text_ri.position.set(249,0),e._text_ex=new l.Sprite,e._text_ex.anchor.set(.5),e._text_ex.position.set(392,0),e.texts_canvas.addChild(e._text_kan),e.texts_canvas.addChild(e._text_zen),e.texts_canvas.addChild(e._text_sho),e.texts_canvas.addChild(e._text_ri),e.texts_canvas.addChild(e._text_ex),e}return n(e,t),Object.defineProperty(e.prototype,"text_kan",{get:function(){return this._text_kan},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text_zen",{get:function(){return this._text_zen},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text_sho",{get:function(){return this._text_sho},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text_ri",{get:function(){return this._text_ri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text_ex",{get:function(){return this._text_ex},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){this.bg.texture=u.COMMON_MISC.getTexture(120),"S"==t?(this.congratulations.texture=c.BATTLE_RESULT_MAIN.getTexture(22),this.congratulations_text.texture=c.BATTLE_RESULT_MAIN.getTexture(23)):(this.congratulations.texture=PIXI.Texture.EMPTY,this.congratulations_text.texture=PIXI.Texture.EMPTY,this.congratulations.visible=!1,this.congratulations_text.visible=!1),this.relief.texture="D"==t||"E"==t?PIXI.Texture.EMPTY:c.BATTLE_RESULT_MAIN.getTexture(38);var e;e="S"==t||"A"==t?35:"B"==t?33:"C"==t?34:32,this._text_kan.texture=c.BATTLE_RESULT_MAIN.getTexture(81),this._text_zen.texture=c.BATTLE_RESULT_MAIN.getTexture(82),this._text_sho.texture=c.BATTLE_RESULT_MAIN.getTexture(83),this._text_ri.texture=c.BATTLE_RESULT_MAIN.getTexture(84),this._text_ex.texture=c.BATTLE_RESULT_MAIN.getTexture(85),"S"==t?(e=42,this.rank.scale.set(1.72)):e="A"==t?36:"B"==t?37:"C"==t?39:"D"==t?40:41,this.rank.texture=c.BATTLE_RESULT_MAIN.getTexture(e)},e}(f),g=function(t){function e(){var e=t.call(this)||this;return e._blue=new PIXI.Container,e._yellow=new PIXI.Container,e._gold=new PIXI.Container,e._big=new PIXI.Container,e._kamihubuki=new h.KamihubukiLayer,e._kamihubuki.position.set(-600,-360),e.addChild(e._blue),e.addChild(e._yellow),e.addChild(e._gold),e.addChild(e._big),e.addChild(e._kamihubuki),e}return n(e,t),e.prototype.startBlueParticle=function(t,e){for(var i=0;i<t;i++){var n=new v(.2*Math.random()+.8);n.x=e.x+Math.random()*e.width,n.y=e.y+Math.random()*e.height,n.initialize(),n.activate(),this._blue.addChild(n)}},e.prototype.startYellowParticle=function(t,e){for(var i=0;i<t;i++){var n=new b(.1*Math.random()+.9);n.x=e.x+Math.random()*e.width,n.y=e.y+Math.random()*e.height,n.initialize(),n.activate(),this._blue.addChild(n)}},e.prototype.startGoldParticle=function(t,e){for(var i=0;i<t;i++){var n=new w(.2*Math.random()+.8);n.x=e.x+Math.random()*e.width,n.y=e.y+Math.random()*e.height,n.initialize(),n.activate(),this._gold.addChild(n)}},e.prototype.startBigParticle=function(t,e){for(var i=0;i<t;i++){var n=new x(.2*Math.random()+.6);n.x=e.x+Math.random()*e.width,n.y=e.y+Math.random()*e.height,n.initialize(),n.activate(),this._big.addChild(n)}},e.prototype.startKamihubuki=function(t){this._kamihubuki.startKamihubuki(t)},e.prototype.dispose=function(){for(var t=0,e=this._blue.children;t<e.length;t++){var i=e[t];i.deactivate()}this._blue.removeChildren();for(var n=0,o=this._yellow.children;n<o.length;n++){var i=o[n];i.deactivate()}this._yellow.removeChildren();for(var r=0,s=this._gold.children;r<s.length;r++){var i=s[r];i.deactivate()}this._gold.removeChildren();for(var a=0,_=this._big.children;a<_.length;a++){var i=_[a];i.deactivate()}this._big.removeChildren(),this._kamihubuki.dispose()},e}(PIXI.Container),v=function(t){function e(e){var i=t.call(this)||this;return i._base_scale=e,i.anchor.set(.5),i}return n(e,t),e.prototype.initialize=function(){this.texture=u.COMMON_MISC.getTexture(115),this._init()},e.prototype.activate=function(){this._startAnim()},e.prototype.deactivate=function(){this._stopAnim()},e.prototype._init=function(){this.alpha=0,this.scale.set(0)},e.prototype._startAnim=function(){var t=this;this._stopAnim(),this._init();var e=2500*Math.random();this._t1=createjs.Tween.get(this).wait(e).to({alpha:1,scaleX:this._base_scale,scaleY:this._base_scale},133).to({scaleX:0,scaleY:0},200).call(function(){t._startAnim()}),this._t2=createjs.Tween.get(this).wait(e).to({rotation:(100*Math.random()-50)/180*Math.PI},333)},e.prototype._stopAnim=function(){null!=this._t1&&(this._t1.setPaused(!0),this._t1=null),null!=this._t2&&(this._t2.setPaused(!0),this._t2=null)},e}(l.Sprite),b=function(t){function e(e){var i=t.call(this)||this;return i._base_scale=e,i.anchor.set(.5),i}return n(e,t),e.prototype.initialize=function(){this.texture=c.BATTLE_RESULT_MAIN.getTexture(12),this._init()},e.prototype.activate=function(){this._startAnim()},e.prototype.deactivate=function(){this._stopAnim()},e.prototype._init=function(){this.alpha=0,this.scale.set(0)},e.prototype._startAnim=function(){var t=this;this._stopAnim(),this._init();var e=2500*Math.random(),i=Math.random()<.5?1:-1;this._t1=createjs.Tween.get(this).wait(e).to({alpha:1,scaleX:this._base_scale,scaleY:i*this._base_scale},133).to({scaleX:0,scaleY:0},200).call(function(){t._startAnim()}),this._t2=createjs.Tween.get(this).wait(e).to({rotation:(100*Math.random()-50)/180*Math.PI},333)},e.prototype._stopAnim=function(){null!=this._t1&&(this._t1.setPaused(!0),this._t1=null),null!=this._t2&&(this._t2.setPaused(!0),this._t2=null)},e}(l.Sprite),w=function(t){function e(e){var i=t.call(this)||this;return i._base_scale=e,i.anchor.set(.5),i}return n(e,t),e.prototype.initialize=function(){this.texture=c.BATTLE_RESULT_MAIN.getTexture(11),this._init()},e.prototype.activate=function(){this._startAnim()},e.prototype.deactivate=function(){this._stopAnim()},e.prototype._init=function(){this.alpha=0,this.scale.set(0)},e.prototype._startAnim=function(){var t=this;this._stopAnim(),this._init();var e=2500*Math.random();this._t1=createjs.Tween.get(this).wait(e).to({alpha:1,scaleX:.42*this._base_scale,scaleY:.42*this._base_scale},133).to({scaleX:0,scaleY:0},200).call(function(){t._startAnim()}),this._t2=createjs.Tween.get(this).wait(e).to({rotation:(100*Math.random()-50)/180*Math.PI},333)},e.prototype._stopAnim=function(){null!=this._t1&&(this._t1.setPaused(!0),this._t1=null),null!=this._t2&&(this._t2.setPaused(!0),this._t2=null)},e}(l.Sprite),x=function(t){function e(e){var i=t.call(this)||this;return i._base_scale=e,i.anchor.set(.5),i}return n(e,t),e.prototype.initialize=function(){this.texture=c.BATTLE_RESULT_MAIN.getTexture(10),this._init()},e.prototype.activate=function(){this._startAnim()},e.prototype.deactivate=function(){this._stopAnim()},e.prototype._init=function(){this.alpha=0,this.scale.set(0)},e.prototype._startAnim=function(){var t=this;this._stopAnim(),this._init();var e=2500*Math.random();this._t1=createjs.Tween.get(this).wait(e).to({alpha:1,scaleX:this._base_scale,scaleY:this._base_scale},133).to({scaleX:0,scaleY:0},200).call(function(){t._startAnim()}),this._t2=createjs.Tween.get(this).wait(e).to({rotation:(100*Math.random()-50)/180*Math.PI},333)},e.prototype._stopAnim=function(){null!=this._t1&&(this._t1.setPaused(!0),this._t1=null),null!=this._t2&&(this._t2.setPaused(!0),this._t2=null)},e}(l.Sprite)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),s=i(2),a=i(29),_=i(20),l=i(38),u=i(8),c=i(59),h=i(13),p=i(1487),d=i(1488),f=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){this._loadMVPImage()},e.prototype._loadMVPImage=function(){var t=this,e=this._scene.data.battle_model.deck_f.ships,i=null,n=null,o=this._scene.data.getMvpIndex(!1);if(o>=0&&o<e.length&&(i=e[o]),o=this._scene.data.getMvpIndex(!0),o>=0&&o+6<e.length&&(n=e[o+6]),null==i&&null==n)this._initMove();else{var r=new h.ShipLoader;null!=i&&r.add(i.mst_id,i.isDamaged(),"full"),null!=n&&r.add(n.mst_id,n.isDamaged(),"full"),r.load(function(){t._showMVP(i)})}},e.prototype._showMVP=function(t){var e=this;this._scene.view.layer_banner.banners_f.getBanner(t.index).createShowMVPCoinTween();var i=t.mst_id,n=t.isDamaged(),r=o.default.resources.getShip(i,n,"full"),s=o.default.model.ship_graph.get(i).getBattleOffset(n);this._scene.view.layer_mvp.createShowTween(r,s,500).call(function(){e._playVoice(i)}),this._initMove()},e.prototype._playVoice=function(t){var e=this._scene.data.battle_result_rank;"S"!=e&&"A"!=e&&"B"!=e||o.default.sound.voice.play(t.toString(),23)},e.prototype._initMove=function(){var t=this;this._scene.view.layer_deck_info.friend.createHideGaugeTweens(-54),createjs.Tween.get(this._scene.view.layer_banner.info_f).wait(200).to({x:87},500),createjs.Tween.get(this._scene.view.layer_banner.banners_f).wait(200).to({x:294},500).call(function(){t._showPanel()})},e.prototype._showPanel=function(){var t=this,e=this._scene.data.base_exp,i=this._scene.data.getShipExp(!1),n=this._scene.data.battle_model.isPractice(),o=this._scene.data.battle_model.deck_f.isYugeki(),r=this._scene.view.panel_exp;r.initialize(e,i,n,o),r.alpha=0,r.visible=!0,createjs.Tween.get(r).to({x:591,alpha:1},300).call(function(){t._showLevelup()})},e.prototype._showLevelup=function(){var t=this;new p.TaskShowLevelup(this._scene,!1).start(function(){t._showExtraReward()})},e.prototype._showExtraReward=function(){var t=this,e=new a.SerialTask;e.add(new d.TaskShowExtraResults(this._scene)),e.add(new l.WaitTask(500)),e.start(function(){1==t._scene.data.battle_model.deck_f.isCombined()?t._showNextGearButton():t._endTask()})},e.prototype._showNextGearButton=function(){var t=this,e=new c.GearBtnNext;e.position.set(1130,648),e.initialize(),e.activate(),this._scene.view.addChild(e);var i=new u.AreaBox(0);i.buttonMode=!0,this._scene.view.addChild(i),i.once(r.EventType.CLICK,function(){e.deactivate(),t._scene.view.removeChild(e),t._scene.view.removeChild(i),t._hideMainDeckBanners()})},e.prototype._hideMainDeckBanners=function(){var t=this,e=new _.TweenTask,i=this._scene.view.layer_banner.banners_f.createHideTweens(0),n=i.length;e.addTweens(i),i=this._scene.view.layer_banner.info_f.createHideTweens(0),e.addTweens(i);var o=100*(n-1)+200;i=this._scene.view.panel_exp.createHideShipExpTweens(300,o-300),e.addTweens(i),e.addTween(this._scene.view.layer_mvp.createHideTween(300,o-300)),e.addTween(this._scene.view.layer_deck_info.friend.createHideDeckNameTween(o-200,200)),e.start(function(){t._showSubDeckBanners()})},e.prototype._showSubDeckBanners=function(){var t=this,e=new _.TweenTask,i=this._scene.data.battle_model.deck_f.ships_sub;this._scene.view.layer_banner.banners_f.initialize(i),this._scene.view.layer_banner.info_f.initialize(i);var n=this._scene.view.layer_banner.banners_f.createShowTweens(0),r=n.length;e.addTweens(n),n=this._scene.view.layer_banner.info_f.createShowTweens(0),e.addTweens(n);var s=100*(r-1)+200,a=this._scene.data.getShipExp(!0);n=this._scene.view.panel_exp.createShowShipExpTweens(a,300,s-300),e.addTweens(n);var l=this._scene.data.getMvpIndex(!0);if(l>=0){var u=i[l],c=u.mst_id,h=u.isDamaged(),p=o.default.resources.getShip(c,h,"full"),d=o.default.model.ship_graph.get(c).getBattleOffset(h);e.addTween(this._scene.view.layer_mvp.createShowTween(p,d,300,s-300).call(function(){t._playVoice(c)}));var f=this._scene.view.layer_banner.banners_f.getBanner(l);e.addTween(f.createShowMVPCoinTween())}var y=this._scene.data.deck_name_f2;e.addTween(this._scene.view.layer_deck_info.friend.createShowDeckNameTween(y,s-200,200)),e.start(function(){t._showLevelupCombined()})},e.prototype._showLevelupCombined=function(){var t=this;new p.TaskShowLevelup(this._scene,!0).start(function(){t._endTask()})},e}(s.TaskBase);e.TaskExp=f},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(11),r=function(t){function e(e,i){var n=t.call(this)||this;return n._scene=e,n._combined=i,n._tasks=[],n}return n(e,t),e.prototype._start=function(){this._showComponent()},e.prototype._showComponent=function(){for(var t=this._scene.data.getLevelupInfoList(this._combined),e=this._scene.view.layer_banner.info_f.items,i=this._scene.data.getShipExp(this._combined),n=[],o=0;o<e.length;o++){var r=e[o],a=o<i.length?i[o]:0;if(!(a<0)){var _=t[o],l=new s(r,a,_);n.push(l),this._tasks.push(l)}}0==n.length?this._endTask():this._startTasks(n)},e.prototype._startTasks=function(t){for(var e=this,i=0,n=t;i<n.length;i++){var o=n[i];!function(t){t.start(function(){var i=e._tasks.indexOf(t);e._tasks.splice(i,1),0==e._tasks.length&&e._endTask()})}(o)}},e}(o.TaskBase);e.TaskShowLevelup=r;var s=function(t){function e(e,i,n){var o=t.call(this)||this;o._onChange=function(t){if(null!=o._banner_info){var e=t.target.target.value;e>=o._borders[0]&&(o._borders.shift(),o._banner_info.levelup());var i=-1;o._borders.length>0&&(i=o._borders[0]-e),o._banner_info.up_to_the_next_level.update(i)}},o._banner_info=e,o._exp=i,null!=n&&n.length>1?o._initial_value=n[0]:o._initial_value=-1,o._borders=new Array;for(var r=1;r<n.length;r++)o._borders.push(n[r]);return o}return n(e,t),e.prototype._start=function(){this._initial_value<0?this._endTask():this._init()},e.prototype._init=function(){var t=this,e=this._banner_info.up_to_the_next_level;e.alpha=0,e.x-=15;var i=this._borders[0]-this._initial_value;e.initialize(i),createjs.Tween.get(e).to({x:e.x+15,alpha:1},500).call(function(){e.showExpText(),t._completedShow()})},e.prototype._completedShow=function(){var t=this,e=this._borders[this._borders.length-1]-this._initial_value-this._exp,i=this._initial_value+this._exp,n={value:this._initial_value};createjs.Tween.get(n,{onChange:this._onChange}).to({value:i},2e3).call(function(){i===t._borders[0]&&t._banner_info.levelup(),t._banner_info.up_to_the_next_level.update(e),t._endTask()})},e.prototype._endTask=function(){this._banner_info=null,t.prototype._endTask.call(this)},e}(o.TaskBase)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(27),a=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){var t=this,e=new s.ParallelTask;e.add(new _(this._scene)),e.add(new l(this._scene)),e.add(new u(this._scene)),e.start(function(){t._endTask()})},e.prototype._endTask=function(){this._scene=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskShowExtraResults=a;var _=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){var t=this,e=this._scene.data.extra_war_results;if(e>0){var i=this._scene.view.panel_exp.extra_result.extra_war_result;i.update(e),i.alpha=0,i.visible=!0,createjs.Tween.get(i).to({alpha:1},300).call(function(){t._endTask()})}else this._endTask()},e.prototype._endTask=function(){this._scene=null,t.prototype._endTask.call(this)},e}(r.TaskBase),l=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){var t=this,e=this._scene.data.extra_useitem_mst_id;if(e>0){var i=o.default.resources.getUseitem(e,0),n=this._scene.view.panel_exp.extra_result.useitem_icon;n.texture=i,n.alpha=0,n.visible=!0,createjs.Tween.get(n).to({alpha:1},300).call(function(){t._endTask()})}else this._endTask()},e.prototype._endTask=function(){this._scene=null,t.prototype._endTask.call(this)},e}(r.TaskBase),u=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){var t=this;if(1==this._scene.data.extra_result){var e=this._scene.view.panel_exp.extra_result.map_incentive;e.alpha=0,e.visible=!0,createjs.Tween.get(e).to({alpha:1},300).call(function(){t._endTask()})}else this._endTask()},e.prototype._endTask=function(){this._scene=null,t.prototype._endTask.call(this)},e}(r.TaskBase)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(1490),s=i(1494),a=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){this._normalBonus()},e.prototype._normalBonus=function(){var t=this;new r.TaskNormalBonus(this._scene).start(function(){t._scene.view.dispose(),t._mapBonus()})},e.prototype._mapBonus=function(){var t=this,e=this._scene.layer_bonus,i=this._scene.data.getMapBonus();new s.TaskEventBonus(e,i).start(function(){t._endTask()})},e}(o.TaskBase);e.PhaseBonus=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(206),a=i(482),_=i(248),l=i(1492),u=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){this._useitemBonus()},e.prototype._useitemBonus=function(){var t=this,e=this._scene.data.getBonusUseitem();if(null!=e){this._play_bgm||(this._play_bgm=!0,o.default.sound.bgm.play(132,!0,1e3));var i=this._scene.view.layer_cutin,n=e.mst_id;new l.TaskBonusTelop(i,6,n).start(function(){var e=new _.TaskBonusUseItem(i,n,1,!1);e.start(function(){t._slotitemBonus(e)})})}else this._slotitemBonus(null)},e.prototype._slotitemBonus=function(t){var e=this,i=this._scene.data.getBonusSlot();if(null!=i){this._play_bgm||(this._play_bgm=!0,o.default.sound.bgm.play(132,!0,1e3));var n=this._scene.view.layer_cutin,r=i.mst_id;new l.TaskBonusTelop(n,2,r).start(function(){var i=new a.TaskBonusSlot(n,r,1,1,!1,t);i.start(function(){e._shipBonus(i)})})}else this._shipBonus(t)},e.prototype._shipBonus=function(t){var e=this,i=this._scene.data.getBonusShip();if(null!=i){this._play_bgm||(this._play_bgm=!0,o.default.sound.bgm.play(132,!0,1e3));var n=this._scene.view.layer_cutin,r=i.mst_id,a=this._scene.data.battle_model.map_info.area_id,_=this._scene.data.battle_model.map_info.map_no,u=1==a&&(1==_||2==_||3==_);new l.TaskBonusTelop(n,3,r,u).start(function(){var i=new s.TaskBonusShip(n,r,!1,t);i.start(function(){e._closeShutter(i)})})}else this._closeShutter(null)},e.prototype._closeShutter=function(t){var e=this;this._play_bgm&&o.default.sound.bgm.fadeOut(1200);var i=this._scene.view.shutter;i.close(),i.once("closed",function(){null!=t&&t.dispose(),e._endTask()})},e.prototype._endTask=function(){this._scene=null,this._play_bgm=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskNormalBonus=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(8),s=i(60),a=i(81),_=i(208),l=function(t){function e(){var e=t.call(this)||this;return e._bg=new s.RarityBG,e._item=new PIXI.Sprite,e._item.anchor.set(.5),e._particle=new _.BonusParticle,e._message_box=new a.MessageBox,e._message_box.y=721,e._white=new r.AreaBox(1,16777215),e.addChild(e._bg),e.addChild(e._item),e.addChild(e._particle),e.addChild(e._message_box),e.addChild(e._white),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"particle",{get:function(){return this._particle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message_box",{get:function(){return this._message_box},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"white",{get:function(){return this._white},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e,i,n){this._item.texture=o.default.resources.getSlotitem(t,"card"),this._item.position.set(600,255),this._message_box.initializeForSlot(n,e,i)},e.prototype.dispose=function(){this.removeChildren(),this._bg=null,this._item=null,this._particle.dispose(),this._particle=null,this._message_box.dispose(),this._message_box=null,this._white=null},e}(PIXI.Container);e.BonusSlot=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(11),s=i(1493),a=function(t){function e(e,i,n,o){void 0===o&&(o=!1);var r=t.call(this)||this;return r._hideTelop=function(){createjs.Tween.get(r._telop).to({alpha:0},300).call(function(){r._layer.removeChild(r._telop),r._telop=null,r._endTask()})},r._layer=e,r._type=i,r._mst_id=n,r._sub_text=o,r}return n(e,t),e.prototype._start=function(){this._showTelop()},e.prototype._showTelop=function(){this._telop=new s.BonusTelop,this._telop.position.set(o.default.width/2,o.default.height/2),3==this._type?this._telop.initializeForShip(this._sub_text):2==this._type?this._telop.initializeForSlot():6==this._type&&this._telop.initializeForUseitem(this._mst_id),this._layer.addChild(this._telop),this._telop.play(),this._telop.once("complete",this._hideTelop)},e}(r.TaskBase);e.TaskBonusTelop=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(6),r=i(10),s=i(36),a=function(t){function e(){var e=t.call(this)||this;return e._anim2=function(){o.SE.play("222"),e._t=createjs.Tween.get(e._message).to({x:38,alpha:1},200).to({x:0},66).wait(700).to({x:-38},66).to({x:-132,alpha:0},200).call(function(){e._t=null,e.emit("complete")})},e._bg=new PIXI.Sprite,e._bg.anchor.set(.5),e._bg.alpha=0,e._message=new PIXI.Sprite,e._message.anchor.set(.5),e._message.alpha=0,e._message.x=132,e.addChild(e._bg),e.addChild(e._message),e}return n(e,t),e.prototype.initializeForShip=function(t){void 0===t&&(t=!1),this._bg.texture=r.COMMON_MISC.getTexture(120);var e=31;this._message.texture=s.BATTLE_RESULT_MAIN.getTexture(e),1==t&&(this._message.y=-30,e=25,this._sub_message=new PIXI.Sprite(s.BATTLE_RESULT_MAIN.getTexture(e)),this._sub_message.anchor.set(.5),this._sub_message.position.y=80,this._message.addChild(this._sub_message))},e.prototype.initializeForSlot=function(){this._bg.texture=r.COMMON_MISC.getTexture(120);this._message.texture=s.BATTLE_RESULT_MAIN.getTexture(26)},e.prototype.initializeForUseitem=function(t){this._bg.texture=r.COMMON_MISC.getTexture(120);var e=-1;60==t?e=27:62==t?e=28:68==t?e=29:72==t?e=30:85!=t&&86!=t&&87!=t&&88!=t||(e=21),this._message.texture=-1==e?PIXI.Texture.EMPTY:s.BATTLE_RESULT_MAIN.getTexture(e)},e.prototype.dispose=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e.prototype.play=function(){var t=this;if(null==this._t){var e=s.BATTLE_RESULT_MAIN.getTexture(24),i=new PIXI.Sprite(e);i.anchor.set(.5),i.alpha=0,this.addChild(i),this._t=createjs.Tween.get(i).to({alpha:1},200).call(function(){t._bg.alpha=1}).to({alpha:0},266).call(this._anim2)}},e}(PIXI.Container);e.BonusTelop=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(2),s=i(206),a=i(482),_=i(248),l=i(6),u=i(36),c=i(483),h=function(t){function e(e,i){var n=t.call(this)||this;return n._layer=e,n._list=i,n}return n(e,t),e.prototype._start=function(){null==this._list||0==this._list.length?this._endTask():this._showTelop()},e.prototype._showTelop=function(){var t=this;this._canvas=new PIXI.Container,this._layer.addChild(this._canvas);var e=new p;e.initialize(),e.alpha=0,e.text.alpha=0,e.text.position.set(3,243),this._canvas.addChild(e),createjs.Tween.get(e).to({alpha:1},200).call(function(){t._showTelop2(e)})},e.prototype._showTelop2=function(t){var e=this;createjs.Tween.get(t.white).to({alpha:0},200).call(function(){e._showTelop3(t)})},e.prototype._showTelop3=function(t){var e=this;l.SE.play("222");var i=t.text.x;t.text.x=i+132,createjs.Tween.get(t.text).to({x:i+38,alpha:1},200).to({x:i},100).wait(700).to({x:i-38},100).to({x:i-132,alpha:0},200).call(function(){e._showTelop4(t)})},e.prototype._showTelop4=function(t){var e=this;createjs.Tween.get(t).to({alpha:0},300).call(function(){t.parent.removeChild(t),o.default.sound.bgm.play(132,!0,1e3),e._bonus(null)})},e.prototype._bonus=function(t){var e=this;if(0==this._list.length)return o.default.sound.bgm.fadeOut(1200),void(null==t?this._endTask():createjs.Tween.get(this._canvas).to({alpha:0},300).call(function(){e._canvas.parent.removeChild(e._canvas),t.dispose(),e._endTask()}));var i=this._list.shift();if(1==i.isUseitem()){var n=this._canvas,r=i.mst_id,l=new _.TaskBonusUseItem(n,r,i.count,!1,t);l.start(function(){e._bonus(l)})}else if(1==i.isShip()){var n=this._canvas,r=i.mst_id,u=new s.TaskBonusShip(n,r,!1,t);u.start(function(){e._bonus(u)})}else{if(1!=i.isSlotitem())throw new Error("TaskEventBonus");var n=this._canvas,r=i.mst_id,c=new a.TaskBonusSlot(n,r,i.count,i.level,!1,t);c.start(function(){e._bonus(c)})}},e}(r.TaskBase);e.TaskEventBonus=h;var p=function(t){function e(){var e=t.call(this)||this;return e._bg=new PIXI.Sprite,e.addChild(e._bg),e._upper=new PIXI.Sprite,e.addChild(e._upper),e._down=new PIXI.Sprite,e.addChild(e._down),e._text=new PIXI.Sprite,e.addChild(e._text),e._white=new PIXI.Sprite,e.addChild(e._white),e}return n(e,t),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"upper",{get:function(){return this._upper},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"down",{get:function(){return this._down},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"white",{get:function(){return this._white},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._bg.texture=c.BATTLE_RESULT_EVENT_BASE.getTexture(1),this._bg.position.set(0,210),this._upper.texture=c.BATTLE_RESULT_EVENT_BASE.getTexture(4),this._upper.position.set(219,138),this._down.texture=c.BATTLE_RESULT_EVENT_BASE.getTexture(4),this._down.rotation=Math.PI,this._down.position.set(984,576),this._white.texture=u.BATTLE_RESULT_MAIN.getTexture(24),this._white.position.set(0,140),this._text.texture=c.BATTLE_RESULT_EVENT_BASE.getTexture(2)},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(1496),s=i(1500),a=i(1505),_=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){this._mapClear()},e.prototype._mapClear=function(){var t=this;if(1==this._scene.data.isFirstClear()){var e=this._scene.shutter,i=this._scene.data.battle_model.map_info.area_id,n=this._scene.data.battle_model.map_info.map_no,o=this._scene.data.battle_model.deck_f.ships[0],s=o.mst_id,a=o.isDamaged(),_=this._scene.data.getClearMapSuffix();new r.TaskEventClear(e,i,n,s,a,_).start(function(){t._ending()})}else this._ending()},e.prototype._ending=function(){var t=this;if(1==this._scene.data.isFirstClear()){var e=this._scene.layer_bonus,i=this._scene.data.battle_model.map_info.area_id,n=this._scene.data.battle_model.map_info.map_no,o=this._scene.data.getClearOperationSuffix();new s.TaskEventEnding(e,i,n,o).start(function(){t._mapOpen()})}else this._mapOpen()},e.prototype._mapOpen=function(){var t=this,e=this._scene.data.getOpenedMapIDs();if(e.length>0){var i=this._scene.layer_bonus;new a.TaskMapOpen(i,e).start(function(){t._endTask()})}else this._endTask()},e}(o.TaskBase);e.PhaseClear=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(18),a=i(1),_=i(2),l=i(23),u=i(8),c=i(59),h=i(55),p=i(13),d=i(1497),f=i(1498),y=i(1499),m=i(438),g=i(14),v=function(t){function e(e,i,n,o,r,s){var a=t.call(this)||this;return a._shutter=e,a._area_id=i,a._map_no=n,a._ship_mst_id=o,a._ship_damaged=r,a._file_suffix=s,a}return n(e,t),e.prototype._start=function(){this._area_id==s.EVENT_AREA_ID?this._hideEnemy():this._endTask()},e.prototype._hideEnemy=function(){var t=this,e=this._mapscene;if(e instanceof m.MapScene==0)return void this._endTask();e.view.map.enemy_layer.hide(function(){e.view.map.plane_layer.hideAll(),t._loadShipResources()})},e.prototype._loadShipResources=function(){var t=this,e=new p.ShipLoader;e.add(this._ship_mst_id,this._ship_damaged,"full"),e.load(function(){t._openShutter()})},e.prototype._openShutter=function(){var t=this,e=this._mapscene;e.view.shutter.alpha=0,e.view.map.alpha=1,e.view.upper.alpha=1,createjs.Tween.get(null).wait(1300).call(function(){t._shutter.open(),t._shutter.once("opened",function(){t._showShip()})})},e.prototype._showShip=function(){var t=this,e=new PIXI.Sprite;e.texture=r.default.resources.getShip(this._ship_mst_id,this._ship_damaged,"full");var i=r.default.model.ship_graph.get(this._ship_mst_id).getMapOffset(this._ship_damaged);e.x=-80+i.x,e.y=-93+i.y,e.scale.set(1.15),e.alpha=0;var n=r.default.view.getNowScene();n.view.chara_layer.addChild(e),createjs.Tween.get(e).to({alpha:1},300).wait(2e3).to({x:e.x-45,alpha:0},1500).call(function(){n.view.chara_layer.removeChild(e)});var s=h.MapUtil.toMapID(this._area_id,this._map_no),a=new b,_=new l.Container;a.update(s,this._file_suffix,function(){a.alpha=0,_.scale.set(2),_.position.set(o.default.width/2,o.default.height/2),_.addChild(a),n.view.chara_layer.addChild(_),createjs.Tween.get(_).wait(3e3).to({scaleX:1,scaleY:1},700,createjs.Ease.bounceOut).call(function(){t._waitClick(_)}),createjs.Tween.get(a).wait(3e3).to({alpha:1},600,createjs.Ease.circOut)})},e.prototype._waitClick=function(t){var e=this,i=new u.AreaBox(0);i.buttonMode=!0;var n=new c.GearBtnNext;n.position.set(1140,660),n.initialize(),n.activate(),i.addChild(n),this._mapscene.view.addChild(i),i.once(a.EventType.CLICK,function(){e._mapscene.view.removeChild(i),n.dispose(),e._removeRed(t)})},e.prototype._removeRed=function(t){var e=this;this._mapscene.view.map.bg.mapAnime&&this._mapscene.view.map.bg.mapAnime.hide();var i=this._mapscene.view.map.bg.getBGLayer("red");createjs.Tween.get(i).to({alpha:0},3e3).call(function(){e._hideTelop(t)})},e.prototype._hideTelop=function(t){var e=this;createjs.Tween.get(t).to({alpha:0},300).call(function(){e._mapscene.view.chara_layer.removeChild(t),e._closeShutter()})},e.prototype._closeShutter=function(){var t=this;this._shutter.close(),this._shutter.once("closed",function(){t._mapscene.view.shutter.alpha=1,t._mapscene.view.map.alpha=0,t._mapscene.view.upper.alpha=0,t._endTask()})},Object.defineProperty(e.prototype,"_mapscene",{get:function(){var t=r.default.view.getNowScene();return t instanceof m.MapScene?t:null},enumerable:!0,configurable:!0}),e}(_.TaskBase);e.TaskEventClear=v;var b=function(t){function e(){var e=t.call(this)||this;return e._img1=new PIXI.Sprite,e.addChild(e._img1),e._img2=new PIXI.Sprite,e.addChild(e._img2),e}return n(e,t),e.prototype.update=function(t,e,i){var n=this;switch(t){case 451:var o=new g.UIImageLoader("battle_result");o.add("battle_result_event_e1_"+e+".json"),o.load(function(){n._img1.texture=d.BATTLE_RESULT_EVENT_E1_VKCJJTOKOELPYGOP.getTexture(0),n._img2.texture=d.BATTLE_RESULT_EVENT_E1_VKCJJTOKOELPYGOP.getTexture(1),i()}),this._img1.position.set(-452,-135),this._img2.position.set(-451,-47);break;case 452:var o=new g.UIImageLoader("battle_result");o.add("battle_result_event_e2_"+e+".json"),o.load(function(){n._img1.texture=f.BATTLE_RESULT_EVENT_E2_YLLJQNTXPYWTDJMF.getTexture(0),n._img2.texture=f.BATTLE_RESULT_EVENT_E2_YLLJQNTXPYWTDJMF.getTexture(1),i()}),this._img1.position.set(-517,-157),this._img2.position.set(-510,5);break;case 453:var o=new g.UIImageLoader("battle_result");o.add("battle_result_event_e3_"+e+".json"),o.load(function(){n._img1.texture=y.BATTLE_RESULT_EVENT_E3_ZMNIYZFCNPNXRFVT.getTexture(0),n._img2.texture=y.BATTLE_RESULT_EVENT_E3_ZMNIYZFCNPNXRFVT.getTexture(1),i()}),this._img1.position.set(-496,-156),this._img2.position.set(-505,7);break;default:this._img1.texture=PIXI.Texture.EMPTY,this._img2.texture=PIXI.Texture.EMPTY,i()}},e}(PIXI.Container)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("battle_result_event_e1_vkcjjtokoelpygop_"+t)}t.getTexture=e}(e.BATTLE_RESULT_EVENT_E1_VKCJJTOKOELPYGOP||(e.BATTLE_RESULT_EVENT_E1_VKCJJTOKOELPYGOP={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("battle_result_event_e2_ylljqntxpywtdjmf_"+t)}t.getTexture=e}(e.BATTLE_RESULT_EVENT_E2_YLLJQNTXPYWTDJMF||(e.BATTLE_RESULT_EVENT_E2_YLLJQNTXPYWTDJMF={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("battle_result_event_e3_zmniyzfcnpnxrfvt_"+t)}t.getTexture=e}(e.BATTLE_RESULT_EVENT_E3_ZMNIYZFCNPNXRFVT||(e.BATTLE_RESULT_EVENT_E3_ZMNIYZFCNPNXRFVT={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(18),r=i(11),s=i(14),a=i(1501),_=i(1503),l=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._layer=e,r._area_id=i,r._map_no=n,r._file_suffix=o,r}return n(e,t),e.prototype._start=function(){var t=this;if(this._area_id!=o.EVENT_AREA_ID)return void this._endTask();switch(this._map_no){case 2:var e=new s.UIImageLoader("battle_result");e.add("battle_result_event_ed1_"+this._file_suffix+".json"),e.load(function(){new a.TaskEventEnding1(t._layer).start(function(){t._endTask()})});break;case 3:var e=new s.UIImageLoader("battle_result");e.add("battle_result_event_ed2_"+this._file_suffix+".json"),e.load(function(){new _.TaskEventEnding2(t._layer).start(function(){t._endTask()})});break;default:this._endTask()}},e.prototype._endTask=function(){this._layer=null,t.prototype._endTask.call(this)},e}(r.TaskBase);e.TaskEventEnding=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(12),r=i(1502),s=i(484),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._initializeMapImages=function(){this._maps=[];for(var t=0;t<2;t++){var e=new PIXI.Sprite;e.texture=[r.BATTLE_RESULT_EVENT_ED1_XCGJWNGQLDWMGDMQ.getTexture(2),r.BATTLE_RESULT_EVENT_ED1_XCGJWNGQLDWMGDMQ.getTexture(3)][t],e.x=340+285*t,e.y=83,e.alpha=0,this._layer.addChild(e),this._maps.push(e)}},e.prototype._createMapShowTweens=function(){return this.__createMapShowTweens(700)},e.prototype._initializeStampImages=function(){this._stamps=[];for(var t=0;t<1;t++){var e=new o.Sprite;e.anchor.set(.5),e.texture=r.BATTLE_RESULT_EVENT_ED1_XCGJWNGQLDWMGDMQ.getTexture(0),e.x=549+285*t,e.y=287.5,e.scale.set(2),e.alpha=0,this._layer.addChild(e),this._stamps.push(e)}},e.prototype._createStampShowTweens=function(){return this.__createStampShowTweens(700)},e.prototype._showText=function(){this.__showText(new _)},e.prototype._createStampLast=function(){var t=r.BATTLE_RESULT_EVENT_ED1_XCGJWNGQLDWMGDMQ.getTexture(1),e=new o.Sprite(t);return e.anchor.set(.5),e.position.set(925,296.5),e.alpha=0,e},e}(s.TaskEventEndingBase);e.TaskEventEnding1=a;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initialize=function(){this._text1.texture=r.BATTLE_RESULT_EVENT_ED1_XCGJWNGQLDWMGDMQ.getTexture(4),this._text1.position.set(128,314),this._text2.texture=r.BATTLE_RESULT_EVENT_ED1_XCGJWNGQLDWMGDMQ.getTexture(5),this._text2.position.set(316,533),this._text3.texture=r.BATTLE_RESULT_EVENT_ED1_XCGJWNGQLDWMGDMQ.getTexture(6),this._text3.position.set(312,596)},e}(s.TextsBase)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("battle_result_event_ed1_xcgjwngqldwmgdmq_"+t)}t.getTexture=e}(e.BATTLE_RESULT_EVENT_ED1_XCGJWNGQLDWMGDMQ||(e.BATTLE_RESULT_EVENT_ED1_XCGJWNGQLDWMGDMQ={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(12),r=i(1504),s=i(484),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._initializeMapImages=function(){this._maps=[];for(var t=0;t<3;t++){var e=new PIXI.Sprite;e.texture=[r.BATTLE_RESULT_EVENT_ED2_VMONSVNUSUBKIXIW.getTexture(2),r.BATTLE_RESULT_EVENT_ED2_VMONSVNUSUBKIXIW.getTexture(3),r.BATTLE_RESULT_EVENT_ED2_VMONSVNUSUBKIXIW.getTexture(4)][t],e.x=276+225*t,e.y=83,e.alpha=0,this._layer.addChild(e),this._maps.push(e)}},e.prototype._createMapShowTweens=function(){return this.__createMapShowTweens(700)},e.prototype._initializeStampImages=function(){this._stamps=[];for(var t=0;t<2;t++){var e=new o.Sprite;e.anchor.set(.5),e.texture=r.BATTLE_RESULT_EVENT_ED2_VMONSVNUSUBKIXIW.getTexture(0),e.x=433+225*t,e.y=233.5,e.scale.set(2),e.alpha=0,this._layer.addChild(e),this._stamps.push(e)}},e.prototype._createStampShowTweens=function(){return this.__createStampShowTweens(700)},e.prototype._showText=function(){this.__showText(new _)},e.prototype._createStampLast=function(){var t=r.BATTLE_RESULT_EVENT_ED2_VMONSVNUSUBKIXIW.getTexture(1),e=new o.Sprite(t);return e.anchor.set(.5),e.position.set(952,283.5),e.alpha=0,e},e}(s.TaskEventEndingBase);e.TaskEventEnding2=a;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initialize=function(){this._text1.texture=r.BATTLE_RESULT_EVENT_ED2_VMONSVNUSUBKIXIW.getTexture(5),this._text1.position.set(126,248),this._text2.texture=r.BATTLE_RESULT_EVENT_ED2_VMONSVNUSUBKIXIW.getTexture(6),this._text2.position.set(243,508)},e}(s.TextsBase)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){function e(t){return PIXI.Texture.fromFrame("battle_result_event_ed2_vmonsvnusubkixiw_"+t)}t.getTexture=e}(e.BATTLE_RESULT_EVENT_ED2_VMONSVNUSUBKIXIW||(e.BATTLE_RESULT_EVENT_ED2_VMONSVNUSUBKIXIW={}))},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(0),s=i(18),a=i(55),_=i(2),l=i(8),u=i(59),c=i(205),h=i(23),p=i(6),d=i(10),f=i(36),y=i(1506),m=i(485),g=i(1),v=function(t){function e(e,i){var n=t.call(this)||this;return n._voice_played=!1,n._next_map_ids=i,n._canvas=new PIXI.Container,e.addChild(n._canvas),n}return n(e,t),e.prototype._start=function(){var t=this;createjs.Tween.get(null).wait(1e3).call(function(){t._showTelopBG()})},e.prototype._showTelopBG=function(){var t=this;this._telop_bg=new PIXI.Sprite(d.COMMON_MISC.getTexture(120)),this._telop_bg.y=o.default.height/2-Math.round(this._telop_bg.height/2),this._telop_bg.alpha=0,this._canvas.addChild(this._telop_bg);var e=new PIXI.Sprite(f.BATTLE_RESULT_MAIN.getTexture(24));e.y=o.default.height/2-Math.round(e.height/2),this._canvas.addChild(e),createjs.Tween.get(this._telop_bg).to({alpha:1},500),createjs.Tween.get(e).to({alpha:0},500).wait(200).call(function(){t._canvas.removeChild(e),t._showMapIcon()})},e.prototype._showMapIcon=function(){var t=this;if(null!=this._next_map_ids&&0!=this._next_map_ids.length){var e=this._next_map_ids.shift();this._map_icon=new b,this._map_icon.scale.set(1.58),this._map_icon.alpha=0,this._map_icon.position.set(o.default.width/2,o.default.height/2),this._canvas.addChild(this._map_icon),this._message=new w,this._message.update(e),this._message.alpha=0,this._message.position.set(o.default.width/2,581),this._canvas.addChild(this._message);var i=a.MapUtil.toAreaID(e),n=a.MapUtil.toMapNo(e);this._map_icon.load(i,n,function(){createjs.Tween.get(t._map_icon).to({scaleX:1,scaleY:1,alpha:1},300),createjs.Tween.get(t._message).to({alpha:1},300).call(function(){t._showParticle(e)})})}},e.prototype._showParticle=function(t){var e=this;if(this._particles=new m.ParticleLayer,this._particles.addParticle(222,-110),this._particles.addParticle(245,-87),this._particles.addParticle(200,-87),this._particles.addParticle(-200,20),this._particles.addParticle(-245,20),this._particles.addParticle(-177,42),this._particles.addParticle(-222,42),this._particles.addParticle(-155,65),this._particles.addParticle(-200,65),this._particles.addParticle(-245,65),this._particles.addParticle(-132,87),this._particles.addParticle(-177,87),this._particles.addParticle(-222,87),this._particles.addParticle(-200,110),this._particles.position.set(o.default.width/2,o.default.height/2),this._canvas.addChild(this._particles),this._particles.startAnimation(),p.SE.play("243"),1==a.MapUtil.toMapNo(t)){var i=a.MapUtil.toAreaID(t);this._area_icon=new y.AreaIcon,this._area_icon.initialize(i),this._area_icon.x=o.default.width/2+this._area_icon.width/2,this._area_icon.scale.set(1.33),this._map_icon.addChild(this._area_icon),createjs.Tween.get(this._area_icon).wait(200).to({x:0},400).to({scaleX:1,scaleY:1},400).wait(100).call(function(){e._hide(t)})}else createjs.Tween.get(null).wait(1100).call(function(){e._hide(t)})},e.prototype._hide=function(t){var e=this;a.MapUtil.toAreaID(t)==s.EVENT_AREA_ID&&0==this._voice_played&&(r.default.sound.voice.play("9999",426),this._voice_played=!0),null!=this._next_map_ids&&this._next_map_ids.length>0?(createjs.Tween.get(this._map_icon).wait(800).to({x:-525},300),createjs.Tween.get(this._message).wait(800).to({alpha:0},300),createjs.Tween.get(this._particles).wait(800).to({alpha:0},300).call(function(){e._particles.stopAnimation(),e._canvas.removeChild(e._map_icon),e._canvas.removeChild(e._message),e._canvas.removeChild(e._particles)}).wait(1e3).call(function(){e._showMapIcon()})):this._hideLast()},e.prototype._hideLast=function(){var t=this,e=new l.AreaBox(0);e.buttonMode=!0;var i=new u.GearBtnNext;i.position.set(1137,654),i.initialize(),i.activate(),e.addChild(i),this._canvas.addChild(e),e.once(g.EventType.CLICK,function(){t._canvas.removeChild(e),createjs.Tween.get(t._canvas).to({alpha:0},400).call(function(){t._particles.stopAnimation(),i.deactivate(),t._canvas.parent.removeChild(t._canvas),t._endTask()})})},e}(_.TaskBase);e.TaskMapOpen=v;var b=function(t){function e(){var e=t.call(this)||this;return e._image=new c.MapThumbnailImage,e.addChild(e._image),e}return n(e,t),e.prototype.load=function(t,e,i){var n=this;this._image.setImage(t,e,function(){n._image.x=-Math.round(n._image.width/2),n._image.y=-Math.round(n._image.height/2),null!=i&&i()})},e}(h.Container),w=function(t){function e(){var e=t.call(this)||this;return e._image=new PIXI.Sprite,e.addChild(e._image),e}return n(e,t),e.prototype.update=function(t){var e=a.MapUtil.toMapNo(t);this._image.texture=1==e?f.BATTLE_RESULT_MAIN.getTexture(80):f.BATTLE_RESULT_MAIN.getTexture(79),this._image.x=-Math.round(this._image.width/2),this._image.y=-Math.round(this._image.height/2)},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(18),r=i(23),s=i(30),a=i(41),_=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite,e.addChild(e._img),e}return n(e,t),e.prototype.initialize=function(t){if(t==o.EVENT_AREA_ID)this._img.texture=a.SALLY_EVENT.getTexture(0);else switch(t){case 1:this._img.texture=s.SALLY_COMMON.getTexture(1);break;case 2:this._img.texture=s.SALLY_COMMON.getTexture(3);break;case 3:this._img.texture=s.SALLY_COMMON.getTexture(5);break;case 4:this._img.texture=s.SALLY_COMMON.getTexture(9);break;case 5:this._img.texture=s.SALLY_COMMON.getTexture(11);break;case 6:this._img.texture=s.SALLY_COMMON.getTexture(13);break;case 7:this._img.texture=s.SALLY_COMMON.getTexture(7);break;default:this._img.texture=PIXI.Texture.EMPTY}this._img.x=-Math.round(this._img.width/2),this._img.y=-Math.round(this._img.height/2)},e}(r.Container);e.AreaIcon=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(11),s=i(68),a=i(8),_=i(31),l=i(1508),u=i(1),c=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){var t=this._scene.data.getLandingData();t.isLandingMap()?this._loadResources(t):this._endTask()},e.prototype._loadResources=function(t){var e=this,i=o.default.resources.gauge.createLoaderHorizontal(),n=this._scene.data.battle_model.map_info.area_id,r=this._scene.data.battle_model.map_info.map_no,a=this._scene.data.battle_model.stage,_=s.GaugeSetModel.createKey(n,r,a);i.add(_);i.load(function(){var i=o.default.resources.gauge.getGaugeInfo(_),n=null;e._showDialog(t,i,n)})},e.prototype._showDialog=function(t,e,i){var n=this,o=new l.ResultDialog(t,e,i);o.alpha=0,this._scene.view.addChild(o),createjs.Tween.get(o).wait(500).to({alpha:1},300).wait(500).call(function(){o.startAnimation(function(){n._hideDialog(o)})})},e.prototype._hideDialog=function(t){var e=this;createjs.Tween.get(t).to({alpha:0},300).call(function(){e._scene.view.removeChild(t),t.dispose(),e._wait()})},e.prototype._wait=function(){var t=this;createjs.Tween.get(null).wait(500).call(function(){t._endTask()})},e.prototype._endTask=function(){var e=this,i=new _.GearBtnNext;i.position.set(1130,648),i.initialize(),i.activate(),this._scene.view.addChild(i);var n=new a.AreaBox(0);n.buttonMode=!0,this._scene.view.addChild(n),n.once(u.EventType.CLICK,function(){i.deactivate(),e._scene.view.removeChild(i),e._scene.view.removeChild(n),t.prototype._endTask.call(e)})},e}(r.TaskBase);e.PhaseTransportResult=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(8),s=i(23),a=i(62),_=i(36),l=i(1509),u=i(1511),c=i(481),h=i(1),p=function(t){function e(e,i,n){var o=t.call(this)||this;o._data=e,o._gauge_info=i,o._gauge_info_next=n;var r=e.isSuccess();return o._back=new PIXI.Sprite,o._back.position.set(282,231),o._back.texture=1==r?_.BATTLE_RESULT_MAIN.getTexture(5):_.BATTLE_RESULT_MAIN.getTexture(6),o.addChild(o._back),o._sub_title=new PIXI.Sprite,1==r?(o._sub_title.texture=_.BATTLE_RESULT_MAIN.getTexture(64),o._sub_title.position.set(381,407)):(o._sub_title.texture=_.BATTLE_RESULT_MAIN.getTexture(3),o._sub_title.position.set(366,405)),o.addChild(o._sub_title),o._numset=new u.ResultDialogNumSet,o._numset.position.set(696,393),o.addChild(o._numset),o._title=new f,o._title.initialize(r),o._title.position.set(603,290),o.addChild(o._title),o._gauge=new l.ResultDialogGauge,o._gauge.position.set(407,317),o._gauge.initialize(o._gauge_info,o._data.nowHP,o._data.maxHP),o.addChild(o._gauge),o}return n(e,t),e.prototype.startAnimation=function(t){var e=this,i=this._data.subValue/25*1e3;i=Math.min(i,8e3);var n={value:this._data.nowHP,sub:0},o=function(t){var i=t.target.target,n=(i.value,i.sub);e._numset.setValue(Math.round(n));var o=Math.max(e._data.nowHP-n,0),r=e._data.maxHP;e._gauge.update(o,r)};createjs.Tween.get(n,{onChange:o}).to({sub:this._data.subValue},i).call(function(){e._numset.startLightAnimation(),e._explodeGauge(t)})},e.prototype._explodeGauge=function(t){var e=this;this._data.nowHP-this._data.subValue<=0?createjs.Tween.get(null).wait(250).call(function(){e._gauge.explode(function(){null==e._gauge_info_next?e._showOperationComplete(t):e._showNextGauge(t)})}):this._wait(t)},e.prototype._showNextGauge=function(t){var e=this;this._gauge.changeNextGauge(this._gauge_info_next,function(){e._wait(t)})},e.prototype._showOperationComplete=function(t){var e=this;createjs.Tween.get(this._title).wait(1e3).to({y:345},500,createjs.Ease.sineInOut).to({scaleX:1.4,scaleY:1.4},1500,createjs.Ease.sineInOut).wait(600).call(function(){e._showOperationComplete2(t)})},e.prototype._showOperationComplete2=function(t){var e=this;createjs.Tween.get(this._title).to({scaleX:1,scaleY:1,alpha:0},1e3,createjs.Ease.cubicIn).wait(1e3).call(function(){e._wait(t)});var i=new a.CenteringSprite(_.BATTLE_RESULT_MAIN.getTexture(0));i.position.set(608,350),i.scale.set(1.4),i.alpha=0,this.addChild(i),createjs.Tween.get(i).to({scaleX:1,scaleY:1,alpha:1},1e3,createjs.Ease.cubicIn),this._kamihubuki=new c.KamihubukiLayer,this.addChild(this._kamihubuki),createjs.Tween.get(null).wait(400).call(function(){e._kamihubuki.startKamihubuki(60)})},e.prototype._wait=function(t){new d(this).start(function(){t()})},e.prototype.dispose=function(){this._numset.stopLightAnimation(),null!=this._kamihubuki&&this._kamihubuki.dispose()},e}(PIXI.Container);e.ResultDialog=p;var d=function(t){function e(e){var i=t.call(this)||this;return i._onClick=function(){i._wait_tween.setPaused(!0),i._wait_tween=null,i._endTask()},i._layer=e,i}return n(e,t),e.prototype._start=function(){var t=this;this._area=new r.AreaBox(0),this._area.buttonMode=!0,this._layer.addChild(this._area),this._area.once(h.EventType.CLICK,this._onClick),this._wait_tween=createjs.Tween.get(null),this._wait_tween.wait(3e3),this._wait_tween.call(function(){t._area.off(h.EventType.CLICK,t._onClick),t._wait_tween=null,t._endTask()})},e.prototype._endTask=function(){this._layer.removeChild(this._area),this._layer=null,this._area=null,t.prototype._endTask.call(this)},e}(o.TaskBase),f=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite,e._img.x=-167,e._img.y=-30,e.addChild(e._img),e}return n(e,t),e.prototype.initialize=function(t){this._img.texture=1==t?_.BATTLE_RESULT_MAIN.getTexture(63):_.BATTLE_RESULT_MAIN.getTexture(4)},e}(s.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(232),r=i(23),s=i(27),a=i(1510),_=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.initialize=function(t,e,i){this._gauge=new o.GaugeHorizontal,this._gauge.initialize(t),this._gauge.update(e,i),this.addChild(this._gauge)},e.prototype.update=function(t,e){if(null==this._gauge)return null;this._gauge.update(t,e)},e.prototype.explode=function(t){var e=this,i=new s.ParallelTask,n=new a.TaskExplosion(this,107,20);i.add(n);var o=new a.TaskExplosion(this,209,57,250);i.add(o);var r=new a.TaskExplosion(this,309,24,450);i.add(r),i.start(function(){null!=t&&t()}),createjs.Tween.get(this._gauge).wait(200).to({alpha:0},400).call(function(){e.removeChild(e._gauge),e._gauge=null})},e.prototype.changeNextGauge=function(t,e){null!=this._gauge&&(null!=this._gauge.parent&&this._gauge.parent.removeChild(this._gauge),this._gauge=null),this._gauge=new o.GaugeHorizontal,this._gauge.initialize(t),this._gauge.update(100,100),this._gauge.x=-this._gauge.width/2,this._gauge.y=-this._gauge.height/2;var i=new r.Container;i.x=this._gauge.width/2,i.y=this._gauge.height/2,i.scale.set(1.6),i.alpha=0,this.addChild(i),i.addChild(this._gauge),createjs.Tween.get(i).wait(1e3).to({scaleX:1,scaleY:1,alpha:1},750,createjs.Ease.quartInOut).wait(1500).call(function(){null!=e&&e()})},e}(PIXI.Container);e.ResultDialogGauge=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(6),s=i(181),a=function(t){function e(e,i,n,o){void 0===o&&(o=0);var r=t.call(this)||this;return r._layer=e,r._x=i,r._y=n,r._delay=o,r}return n(e,t),e.prototype._start=function(){this._wait()},e.prototype._wait=function(){var t=this;this._delay>0?createjs.Tween.get(null).wait(this._delay).call(function(){t._explode()}):this._explode()},e.prototype._explode=function(){var t=this,e=new s.Explosion;e.x=this._x,e.y=this._y,this._layer.addChild(e),r.SE.play("102"),e.play(function(){t._layer.removeChild(e),t._endTask()})},e}(o.TaskBase);e.TaskExplosion=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1512),r=i(1513),s=function(t){function e(){var e=t.call(this)||this;e._value=0,e._lights=[],e._nums=[];for(var i=0;i<4;i++){var n=new o.ResultDialogNumLight;n.x=68-23*i,n.visible=!1,e.addChild(n),e._lights.push(n)}for(var i=0;i<4;i++){var s=new r.ResultDialogNum;s.x=68-23*i,s.visible=!1,e.addChild(s),e._nums.push(s)}return e}return n(e,t),e.prototype.setValue=function(t){this._value=Math.min(t,9999);for(var e=this._value,i=0;i<this._nums.length;i++){var n=this._nums[i],o=this._lights[i],r=e%10;n.update(r),o.update(r),n.visible=0!=r||0!=e,e=Math.floor(e/10)}},e.prototype.startLightAnimation=function(){this.stopLightAnimation(),this._light_tweens=[];for(var t=0;t<this._lights.length;t++){var e=this._nums[t],i=this._lights[t];if(0==e.visible)i.visible=!1;else{i.alpha=0,i.visible=!0;var n=createjs.Tween.get(i,{loop:!0}).to({alpha:1},500).wait(500).to({alpha:0},500).wait(500);this._light_tweens.push(n)}}},e.prototype.stopLightAnimation=function(){if(null!=this._light_tweens){for(var t=0,e=this._light_tweens;t<e.length;t++){var i=e[t];i.setPaused(!0),i=null}this._light_tweens=null}},e}(PIXI.Container);e.ResultDialogNumSet=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(36),r=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.update=function(t){switch(t){case 0:this.texture=o.BATTLE_RESULT_MAIN.getTexture(44);break;case 1:this.texture=o.BATTLE_RESULT_MAIN.getTexture(46);break;case 2:this.texture=o.BATTLE_RESULT_MAIN.getTexture(48);break;case 3:this.texture=o.BATTLE_RESULT_MAIN.getTexture(50);break;case 4:this.texture=o.BATTLE_RESULT_MAIN.getTexture(52);break;case 5:this.texture=o.BATTLE_RESULT_MAIN.getTexture(54);break;case 6:this.texture=o.BATTLE_RESULT_MAIN.getTexture(56);break;case 7:this.texture=o.BATTLE_RESULT_MAIN.getTexture(58);break;case 8:this.texture=o.BATTLE_RESULT_MAIN.getTexture(60);break;case 9:this.texture=o.BATTLE_RESULT_MAIN.getTexture(62);break;default:this.texture=PIXI.Texture.EMPTY}},e}(PIXI.Sprite);e.ResultDialogNumLight=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(36),r=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.update=function(t){switch(t){case 0:this.texture=o.BATTLE_RESULT_MAIN.getTexture(43);break;case 1:this.texture=o.BATTLE_RESULT_MAIN.getTexture(45);break;case 2:this.texture=o.BATTLE_RESULT_MAIN.getTexture(47);break;case 3:this.texture=o.BATTLE_RESULT_MAIN.getTexture(49);break;case 4:this.texture=o.BATTLE_RESULT_MAIN.getTexture(51);break;case 5:this.texture=o.BATTLE_RESULT_MAIN.getTexture(53);break;case 6:this.texture=o.BATTLE_RESULT_MAIN.getTexture(55);break;case 7:this.texture=o.BATTLE_RESULT_MAIN.getTexture(57);break;case 8:this.texture=o.BATTLE_RESULT_MAIN.getTexture(59);break;case 9:this.texture=o.BATTLE_RESULT_MAIN.getTexture(61);break;default:this.texture=PIXI.Texture.EMPTY}},e}(PIXI.Sprite);e.ResultDialogNum=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(11),s=function(t){function e(e){var i=t.call(this)||this;return i._scene=e,i}return n(e,t),e.prototype._start=function(){this._disposeView()},e.prototype._disposeView=function(){this._connectAPI()},e.prototype._connectAPI=function(){o.default.sound.voice.stopAll(),o.default.sound.voice.setNumOfMultiPlay(1),this._endTask()},e}(r.TaskBase);e.TaskEnd=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(50),r=i(1516),s=i(1517),a=i(1520),_=i(1528),l=i(1529),u=i(1530),c=i(1532),h=function(t){function e(){var e=t.call(this)||this;return e._layer_mvp=new _.LayerMVP,e._layer_mvp.position.set(474,-120),e._layer_bg=new r.LayerBG,e._layer_deck_info=new s.LayerDeckInfo,e._layer_banner=new a.LayerBanner,e._layer_title=new l.LayerTitle,e._map_name=new c.LayerMapName,e._panel_exp=new u.PanelExp,e._panel_exp.position.set(591,116),e._panel_exp.visible=!1,e._layer_cutin=new PIXI.Container,e._shutter=new o.Shutter,e._shutter.initializeDark(),e._shutter.open(0),e.addChild(e._layer_mvp),e.addChild(e._layer_bg),e.addChild(e._layer_deck_info),e.addChild(e._layer_banner),e.addChild(e._layer_title),e.addChild(e._map_name),e.addChild(e._panel_exp),e.addChild(e._layer_cutin),e.addChild(e._shutter),e}return n(e,t),Object.defineProperty(e.prototype,"layer_mvp",{get:function(){return this._layer_mvp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_bg",{get:function(){return this._layer_bg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_deck_info",{get:function(){return this._layer_deck_info},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_banner",{get:function(){return this._layer_banner},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_title",{get:function(){return this._layer_title},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"panel_exp",{get:function(){return this._panel_exp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_cutin",{get:function(){return this._layer_cutin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shutter",{get:function(){return this._shutter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer_map_name",{get:function(){return this._map_name},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.removeChildren(),this._layer_mvp.dispose(),this._layer_mvp=null,this._layer_bg.dispose(),this._layer_bg=null,this._layer_deck_info.dispose(),this._layer_deck_info=null,null!=this._layer_banner&&(this._layer_banner.dispose(),this._layer_banner=null),null!=this._layer_title&&(this._layer_title.dispose(),this._layer_title=null),null!=this._panel_exp&&(this._panel_exp.dispose(),this._panel_exp=null),this._layer_cutin=null,this._shutter=null,this._map_name.dispose(),this._map_name=null},e}(PIXI.Container);e.ViewMain=h},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(4),s=i(36),a=function(t){function e(){var e=t.call(this)||this;return e._bg=new PIXI.Sprite,e._bg.anchor.set(.5),e._bg.position.set(o.default.width/2,o.default.height/2),e._bg.scale.set(1,0),e.addChild(e._bg),e}return n(e,t),e.prototype.initialize=function(){this._bg.texture=s.BATTLE_RESULT_MAIN.getTexture(1),this._text1=new r.TextBox(18,16774898),this._text1.text="FRIEND FLEET AREA",this._text1.position.set(-582,300),this._text1.rotation=-Math.PI/2,this._bg.addChild(this._text1),this._text2=new r.TextBox(18,16774898),this._text2.text="ENEMY FLEET AREA",this._text2.position.set(578,-234),this._text2.rotation=Math.PI/2,this._bg.addChild(this._text2)},e.prototype.show=function(){var t=this;createjs.Tween.get(this._bg.scale).to({y:1},300).call(function(){t.emit("complete")})},e.prototype.dispose=function(){this.removeChildren(),this._text1.destroy(),this._text2.destroy()},e}(PIXI.Container);e.LayerBG=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(20),r=i(1518),s=i(1519),a=function(t){function e(){var e=t.call(this)||this;return e._friend=new s.DeckInfoPanelFriend,e._friend.x=129,e._friend.y=116,e.addChild(e._friend),e._enemy=new r.DeckInfoPanelEnemy,e._enemy.x=612,e._enemy.y=116,e.addChild(e._enemy),e}return n(e,t),Object.defineProperty(e.prototype,"friend",{get:function(){return this._friend},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enemy",{get:function(){return this._enemy},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e,i,n,o){this._friend.initialize(t,e,i,o),this._enemy.initialize(n,o)},e.prototype.show=function(t){var e=new o.TweenTask;e.addTween(this._friend.createShowTween()),e.addTween(this._enemy.createShowTween()),e.start(function(){null!=t&&t()})},e.prototype.dispose=function(){this.removeChildren(),this._friend.dispose(),this._enemy.dispose()},e}(PIXI.Container);e.LayerDeckInfo=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(29),r=i(20),s=i(36),a=i(486),_=i(487),l=function(t){function e(){var e=t.call(this)||this;return e._line=new PIXI.Sprite,e.addChild(e._line),e._info=new a.DeckInfo,e.addChild(e._info),e._gauge_label=new PIXI.Sprite,e._gauge_label.x=11,e._gauge_label.y=96,e.addChild(e._gauge_label),e._gauge=new _.Gauge,e._gauge.x=11,e._gauge.y=130,e.addChild(e._gauge),e._gauge_f=new _.Gauge,e._gauge_f.x=11,e._gauge_f.y=96,e.addChild(e._gauge_f),e._gauge_f.visible=!1,e}return n(e,t),e.prototype.initialize=function(t,e){this._line.texture=s.BATTLE_RESULT_MAIN.getTexture(2),this._line.visible=!1,this._info.alpha=0,this._info.deck_name.initialize(),this._info.deck_name.text=t,this._gauge_label.texture=s.BATTLE_RESULT_MAIN.getTexture(72),this._gauge_label.alpha=0,this._gauge.initialize(16711680),this._gauge.alpha=0,e&&(this._info.deck_name.y=14,this._gauge_label.y=54,this._gauge_f.initialize(65298),this._gauge_f.alpha=0,this._gauge_f.visible=!0)},e.prototype.createShowTween=function(){var t=this;return createjs.Tween.get(this._info).call(function(){t._line.visible=!0}).to({alpha:1},100)},e.prototype.createTaskShowGauge=function(t,e,i,n,s){void 0===i&&(i=-1),void 0===n&&(n=-1);var a,_=new r.TweenTask;this._gauge_label.x+=15,a=createjs.Tween.get(this._gauge_label).wait(s).to({x:this._gauge_label.x-15,alpha:1},200),_.addTween(a),this._gauge.x+=15,a=createjs.Tween.get(this._gauge).wait(s).to({x:this._gauge.x-15,alpha:1},200),_.addTween(a);var l=new o.SerialTask;l.add(_),a=this._gauge.createTween(t,e);var u=new r.TweenTask;return u.addTween(a),l.add(u),1==this._gauge_f.visible&&(this._gauge_f.x+=15,a=createjs.Tween.get(this._gauge_f).wait(s+100).to({x:this._gauge_f.x-15,alpha:1},200),_.addTween(a),a=this._gauge_f.createTween(i,n),u.addTween(a)),l},e.prototype.dispose=function(){this.removeChildren(),this._info.dispose()},e}(PIXI.Container);e.DeckInfoPanelEnemy=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(29),r=i(20),s=i(38),a=i(36),_=i(486),l=i(487),u=function(t){function e(){var e=t.call(this)||this;return e._line=new PIXI.Sprite,e.addChild(e._line),e._info=new _.DeckInfo,e.addChild(e._info),e._gauge_label=new PIXI.Sprite,e._gauge_label.x=11,e._gauge_label.y=96,e.addChild(e._gauge_label),e._gauge=new l.Gauge,e._gauge.x=11,e._gauge.y=130,e.addChild(e._gauge),e}return n(e,t),e.prototype.initialize=function(t,e,i,n){this._line.visible=!1,this._line.texture=a.BATTLE_RESULT_MAIN.getTexture(2),this._info.alpha=0,this._info.user_name.text=t,this._info.level.initialize(),this._info.level.text=e.toString(),this._info.deck_name.initialize(),this._info.deck_name.text=i,this._gauge_label.texture=a.BATTLE_RESULT_MAIN.getTexture(72),this._gauge_label.alpha=0,this._gauge.initialize(65298),this._gauge.alpha=0,n&&(this._gauge_label.visible=!1,this._gauge.visible=!1)},e.prototype.createShowTween=function(){var t=this;return createjs.Tween.get(this._info).call(function(){t._line.visible=!0}).to({alpha:1},100)},e.prototype.createHideGaugeTweens=function(t){return[createjs.Tween.get(this._gauge_label).to({alpha:0},200),createjs.Tween.get(this._gauge).to({alpha:0},200),createjs.Tween.get(this._line).wait(200).to({x:t},500),createjs.Tween.get(this._info).wait(200).to({x:t},500)]},e.prototype.createTaskShowGauge=function(t,e,i){if(0==this._gauge.visible)return new s.WaitTask(0);var n,a=new r.TweenTask;this._gauge_label.x+=15,n=createjs.Tween.get(this._gauge_label).wait(i).to({x:this._gauge_label.x-15,alpha:1},200),a.addTween(n),this._gauge.x+=15,n=createjs.Tween.get(this._gauge).wait(i).to({x:this._gauge.x-15,alpha:1},200),a.addTween(n);var _=new o.SerialTask;_.add(a),n=this._gauge.createTween(t,e);var l=new r.TweenTask;return l.addTween(n),_.add(l),_},e.prototype.createShowDeckNameTween=function(t,e,i){return this._info.deck_name.text=t,createjs.Tween.get(this._info.deck_name).wait(i).to({alpha:1},e)},e.prototype.createHideDeckNameTween=function(t,e){return createjs.Tween.get(this._info.deck_name).wait(e).to({alpha:0},t)},e.prototype.dispose=function(){this.removeChildren(),this._info.dispose()},e}(PIXI.Container);e.DeckInfoPanelFriend=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),r=i(1521),s=i(1524),a=i(1526),_=function(t){function e(){var e=t.call(this)||this;return e._banners_f=new r.BannerSet,e._banners_f.position.set(348,216),e._info_f=new s.BannerInfoFriendCanvas,e._info_f.position.set(141,216),e._banners_e=new r.BannerSet,e._banners_e.position.set(614,216),e._info_e=new a.BannerInfoEnemyCanvas,e._info_e.position.set(867,216),e.addChild(e._banners_f),e.addChild(e._banners_e),e.addChild(e._info_f),e.addChild(e._info_e),e}return n(e,t),Object.defineProperty(e.prototype,"banners_f",{get:function(){return this._banners_f},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"info_f",{get:function(){return this._info_f},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"banners_e",{get:function(){return this._banners_e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"info_e",{get:function(){return this._info_e},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.removeChildren(),this._banners_f.dispose(),this._banners_f=null,this._info_f.dispose(),this._info_f=null,this._banners_e.dispose(),this._banners_e=null,this._info_e.dispose(),this._info_e=null},e.prototype.createSlideOutEnemyTweens=function(t,e){var i=this,n=o.default.width-this._banners_e.x;return[createjs.Tween.get(this._banners_e).wait(e).to({x:this._banners_e.x+n},t).call(function(){i._banners_e.dispose()}),createjs.Tween.get(this._info_e).wait(e).to({x:this._info_e.x+n},t).call(function(){i._info_e.dispose()})]},e}(PIXI.Container);e.LayerBanner=_},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1522),r=function(t){function e(){var e=t.call(this)||this;return e._banners=[],e}return n(e,t),e.prototype.initialize=function(t){this._resetBanners();var e=0;e=7==t.length?0:68;for(var i=0;i<t.length;i++){var n=t[i];if(null==n)return;var r=new o.ShipBannerClone(n.isTaihi());r.y=e+68*i,r.alpha=0,this._banners.push(r);var s=n.mst_id,a=n.hp_now,_=n.hp_max;r.updateTexture(s,a,_),r.updateIcon(n.damageType,n.isGround()),this.addChild(r)}},e.prototype.dispose=function(){this._resetBanners(),this._banners=null,this.removeChildren()},e.prototype.createShowTweens=function(t){for(var e=[],i=0;i<this._banners.length;i++){var n=this._banners[i];n.y+=30;var o=createjs.Tween.get(n).wait(t+50*i).to({y:n.y-30,alpha:1},150);e.push(o)}return e},e.prototype.createHideTweens=function(t){for(var e=[],i=0;i<this._banners.length;i++){var n=this._banners[i],o=createjs.Tween.get(n).wait(t+100*(this._banners.length-1-i)).to({y:n.y+30,alpha:0},200);e.push(o)}return e},e.prototype.getBanner=function(t){return t>=0&&null!=this._banners&&t<this._banners.length?this._banners[t]:null},e.prototype._resetBanners=function(){for(null==this._banners&&(this._banners=[]);this._banners.length>0;){var t=this._banners.pop();null!=t.parent&&t.parent.removeChild(t),t.dispose()}},e}(PIXI.Container);e.BannerSet=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(28),s=i(154),a=i(155),_=i(197),l=i(1523),u=function(t){function e(e){var i=t.call(this)||this;return i._taihi=e,i._img=new PIXI.Sprite,i._icon=new s.BannerIcon,i._soot=new a.BannerSoot,i._smoke=new _.BannerSmoke,i._smoke.visible=!1,i.addChild(i._img),i.addChild(i._icon),i.addChild(i._soot),i.addChild(i._smoke),i}return n(e,t),e.prototype.dispose=function(){this.removeChildren(),this._img.texture=PIXI.Texture.EMPTY,this._img=null,this._icon=null,this._soot=null,this._smoke.dispose(),this._smoke=null,null!=this._coin&&(this._coin.dispose(),this._coin=null)},e.prototype.updateTexture=function(t,e,i){e<=0||1==this._taihi?this._img.texture=o.default.resources.getShip(t,!0,"banner_g"):r.ShipUtil.isDamaged(e,i)?this._img.texture=o.default.resources.getShip(t,!0,"banner"):this._img.texture=o.default.resources.getShip(t,!1,"banner")},e.prototype.updateIcon=function(t,e){this._smoke.stop(),this._smoke.play(t),0==this._taihi?(this._soot.update(t),this._icon.initialize(e),this._icon.setDamagedIcon(t)):(this._soot.clear(),this._icon.setTaihiIcon())},e.prototype.createShowMVPCoinTween=function(){return this._coin=new l.MVPCoin,this._coin.position.set(270,30),this._coin.initialize(),this._coin.activate(),this._coin.alpha=0,this.addChild(this._coin),createjs.Tween.get(this._coin).to({alpha:1},300)},e}(PIXI.Container);e.ShipBannerClone=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(36),r=function(t){function e(){var e=t.call(this)||this;return e._coin=new PIXI.Sprite,e._coin.anchor.set(.5),e._coin_white=new PIXI.Sprite,e._coin_white.anchor.set(.5),e._coin_white.alpha=0,e._p1=new s,e._p1.position.set(-14,-14),e._p2=new s,e._p2.position.set(14,14),e.addChild(e._coin),e.addChild(e._coin_white),e.addChild(e._p1),e.addChild(e._p2),e}return n(e,t),e.prototype.initialize=function(){this._coin.texture=o.BATTLE_RESULT_MAIN.getTexture(13),this._coin_white.texture=o.BATTLE_RESULT_MAIN.getTexture(14),this._p1.initialize(),this._p2.initialize()},e.prototype.activate=function(){null==this._t&&(this._t=createjs.Tween.get(this._coin_white).wait(166).to({alpha:1},166).to({alpha:0},333),this._t.loop=!0,this._p1.activate(),this._p2.activate())},e.prototype.deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null,this._p1.deactivate(),this._p2.deactivate())},e.prototype.dispose=function(){this.deactivate()},e}(PIXI.Container);e.MVPCoin=r;var s=function(t){function e(){var e=t.call(this)||this;return e._activated=!1,e.scale.y=0,e._content=new PIXI.Sprite,e._content.anchor.set(.5),e._content.scale.set(.1),e._content.rotation=Math.PI/4,e.addChild(e._content),e}return n(e,t),e.prototype.initialize=function(){this._content.texture=o.BATTLE_RESULT_MAIN.getTexture(10)},e.prototype.activate=function(){1!=this._activated&&(this._activated=!0,this._anim())},e.prototype.deactivate=function(){this._activated=!1,null!=this._t&&(this._t.setPaused(!0),this._t=null)},e.prototype._anim=function(){var t=this;null==this._t&&(this._t=createjs.Tween.get(this.scale).call(function(){t.rotation=(Math.random()<.5?1:-1)*Math.PI/4}).wait(200+800*Math.random()).to({y:1},300,createjs.Ease.cubicOut).to({y:0},300,createjs.Ease.cubicIn).call(function(){t._t=null,t._anim()}))},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1525),r=function(t){function e(){var e=t.call(this)||this;return e._items=[],e}return n(e,t),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t){this._resetItems();var e=0;e=7==t.length?0:68;for(var i=0;i<t.length;i++){var n=t[i];if(null!=n){var r=new o.BannerInfoFriend;r.y=e+68*i;var s=n.name,a=n.level;r.name_and_level.alpha=0,r.name_and_level.initialize(s,a),this.addChild(r),this._items.push(r)}}},e.prototype.dispose=function(){this._resetItems(),this.removeChildren(),this._items=null},e.prototype.createShowTweens=function(t){for(var e=[],i=0;i<this._items.length;i++){var n=this._items[i],o=n.name_and_level;o.x-=15;var r=createjs.Tween.get(o).wait(t+100*i).to({x:o.x+15,alpha:1},300);e.push(r)}return e},e.prototype.createHideTweens=function(t){for(var e=[],i=0;i<this._items.length;i++){var n=this._items[i],o=createjs.Tween.get(n).wait(t+100*(this._items.length-1-i)).to({x:n.x-15,alpha:0},300);e.push(o)}return e},e.prototype._resetItems=function(){for(null==this._items&&(this._items=[]);this._items.length>0;){var t=this._items.pop();null!=t.parent&&t.parent.removeChild(t),t.dispose()}},e}(PIXI.Container);e.BannerInfoFriendCanvas=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(6),s=i(36),a=function(t){function e(){var e=t.call(this)||this;return e._name_and_level=new _,e._up_to_the_next_level=new l,e._up_to_the_next_level.position.set(0,30),e.addChild(e._name_and_level),e.addChild(e._up_to_the_next_level),e}return n(e,t),Object.defineProperty(e.prototype,"name_and_level",{get:function(){return this._name_and_level},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"up_to_the_next_level",{get:function(){return this._up_to_the_next_level},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.removeChildren(),this._name_and_level.dispose(),this._name_and_level=null,this._up_to_the_next_level.dispose(),this._up_to_the_next_level=null},e.prototype.levelup=function(){this._name_and_level.levelup(),this._up_to_the_next_level.levelup()},e}(PIXI.Container);e.BannerInfoFriend=a;var _=function(t){function e(){var e=t.call(this)||this;return e._name=new o.TextBox(18,16774898),e._name_mask=new PIXI.Graphics,e._name.addChild(e._name_mask),e._name.mask=e._name_mask,e._level_label=new PIXI.Sprite,e._level_label.position.set(131,3),e._level=new o.TextBox(16,16774898),e._level.anchor.set(1,0),e._level.position.set(200,5),e.addChild(e._name),e.addChild(e._level_label),e.addChild(e._level),e}return n(e,t),e.prototype.initialize=function(t,e){this._level_label.texture=s.BATTLE_RESULT_MAIN.getTexture(68),this._name.text=t,this._name_mask.clear(),this._name_mask.beginFill(0),this._name_mask.drawRect(0,0,126,this._name.height),this._name_mask.endFill(),this._level.text=e.toString(),this._now_level=e},e.prototype.levelup=function(){this._now_level++,this._level.text=this._now_level.toString()},e.prototype.dispose=function(){this.removeChildren(),this._name.destroy(),this._name=null,this._name_mask=null,this._level_label=null,this._level.destroy(),this._level=null},e}(PIXI.Container),l=function(t){function e(){var e=t.call(this)||this;return e._next_label=new PIXI.Sprite,e._next_label.position.set(0,6),e._next=new o.TextBox(16,16777215),e._next.anchor.set(1,0),e._next.position.set(200,5),e._next.alpha=0,e.addChild(e._next_label),e.addChild(e._next),e}return n(e,t),e.prototype.showExpText=function(){createjs.Tween.get(this._next).wait(10).to({alpha:1},0)},e.prototype.initialize=function(t){this._next_label.texture=s.BATTLE_RESULT_MAIN.getTexture(78),this.update(t)},e.prototype.dispose=function(){this.removeChildren(),this._next_label=null,this._next.destroy(),this._next=null},e.prototype.update=function(t){this._next.text=t<0?"":Math.floor(t).toString()},e.prototype.levelup=function(){var t=this,e=new PIXI.Sprite(s.BATTLE_RESULT_MAIN.getTexture(9));e.anchor.set(.5),e.position.set(147,18),e.alpha=0,r.SE.play("221"),this.addChild(e),createjs.Tween.get(e).to({y:-6,alpha:1},200).to({y:18},0).to({y:-6,alpha:1},200).to({alpha:0},700).call(function(){t.removeChild(e)})},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1527),r=function(t){function e(){var e=t.call(this)||this;return e._items=new Array,e}return n(e,t),e.prototype.initialize=function(t){this._resetItems();var e=0;e=7==t.length?0:68;for(var i=0;i<t.length;i++){var n=t[i];if(null!=n){var r=new o.BannerInfoEnemy;r.alpha=0,r.y=e+68*i,this._items.push(r);var s=n.name,a=0;"elite"==n.yomi?a=1:"flagship"==n.yomi&&(a=2),r.initialize(s,a),this.addChild(r)}}},e.prototype.dispose=function(){this._resetItems(),this.removeChildren(),this._items=null},e.prototype.createShowTweens=function(t){for(var e=[],i=0;i<this._items.length;i++){var n=this._items[i];n.x+=15;var o=createjs.Tween.get(n).wait(t+100*i).to({x:n.x-15,alpha:1},300);e.push(o)}return e},e.prototype.createHideTweens=function(t){for(var e=[],i=0;i<this._items.length;i++){var n=this._items[i],o=createjs.Tween.get(n).wait(t+100*(this._items.length-1-i)).to({x:n.x+15,alpha:0},300);e.push(o)}return e},e.prototype._resetItems=function(){for(null==this._items&&(this._items=[]);this._items.length>0;){var t=this._items.pop();null!=t.parent&&t.parent.removeChild(t),t.dispose()}},e}(PIXI.Container);e.BannerInfoEnemyCanvas=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(36),s=function(t){function e(){var e=t.call(this)||this;return e._name=new o.TextBox(18,16774898),e._name_mask=new PIXI.Graphics,e._name.addChild(e._name_mask),e._name.mask=e._name_mask,e._enemy_type=new PIXI.Sprite,e._enemy_type.position.set(2,29),e.addChild(e._name),e.addChild(e._enemy_type),e}return n(e,t),e.prototype.initialize=function(t,e){this._name.text=t,this._name_mask.clear(),this._name_mask.beginFill(0),this._name_mask.drawRect(0,0,246,this._name.height),this._name_mask.endFill(),this._enemy_type.texture=1==e?r.BATTLE_RESULT_MAIN.getTexture(7):2==e?r.BATTLE_RESULT_MAIN.getTexture(8):PIXI.Texture.EMPTY},e.prototype.dispose=function(){this.removeChildren(),this._name.destroy(),this._name=null,this._name_mask=null,this._enemy_type=null},e}(PIXI.Container);e.BannerInfoEnemy=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var e=t.call(this)||this;return e._img=new PIXI.Sprite,e._img.visible=!1,e.addChild(e._img),e}return n(e,t),e.prototype.createShowTween=function(t,e,i,n){return void 0===n&&(n=0),this._img.alpha=0,this._img.visible=!0,this._img.texture=t,null!=e?(this._img.x=e.x,this._img.y=e.y):this._img.position.set(0),createjs.Tween.get(this._img).wait(n).to({alpha:1},i)},e.prototype.createHideTween=function(t,e){var i=this;void 0===e&&(e=0);var n=createjs.Tween.get(this._img).wait(e);return 1==this._img.visible&&n.to({alpha:0},t).call(function(){i._img.visible=!1}),n},e.prototype.dispose=function(){this.removeChildren(),this._img=null},e}(PIXI.Container);e.LayerMVP=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(36),r=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.show=function(){this.hide(),this._current=new s,this._current.y=17,this._current.alpha=0,this._current.activate(),this.addChild(this._current),createjs.Tween.get(this._current).to({alpha:1},800)},e.prototype.hide=function(){var t=this;if(null!=this._current){var e=this._current;this._current=null,createjs.Tween.get(e).to({alpha:0},600).call(function(){e.deactivate(),t.removeChild(e)})}},e.prototype.dispose=function(){this.hide()},e}(PIXI.Container);e.LayerTitle=r;var s=function(t){function e(){var e=t.call(this)||this;return e._bg=new PIXI.Sprite(o.BATTLE_RESULT_MAIN.getTexture(65)),e._gear=new PIXI.Sprite(o.BATTLE_RESULT_MAIN.getTexture(66)),e._gear.anchor.set(.5),e._gear.position.set(32,45),e._text=new PIXI.Sprite(o.BATTLE_RESULT_MAIN.getTexture(67)),e._text.position.set(60,23),e.addChild(e._bg),e.addChild(e._gear),e.addChild(e._text),e}return n(e,t),e.prototype.activate=function(){null==this._t&&(this._t=createjs.Tween.get(this._gear,{loop:!0}).to({rotation:2*Math.PI},6e3))},e.prototype.deactivate=function(){null!=this._t&&(this._t.setPaused(!0),this._t=null)},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(36),s=i(1531),a=function(t){function e(){var e=t.call(this)||this;return e._line_v=new PIXI.Sprite,e._line_v.position.set(0,0),e._line_v.scale.set(1,3.7),e._line_h=new PIXI.Sprite,e._line_h.position.set(15,149),e._bonus_label=new PIXI.Sprite,e._bonus_label.position.set(21,11),e._title_label=new PIXI.Sprite,e._title_label.position.set(30,62),e._sub_title=new PIXI.Sprite,e.addChild(e._sub_title),e._exp_label=new PIXI.Sprite,e._exp_label.position.set(479,117),e._exp_text=new o.TextBox(32,16774898),e._exp_text.anchor.set(1,0),e._exp_text.position.set(471,99),e._exp_ships=[],e.addChild(e._line_v),e.addChild(e._line_h),e.addChild(e._bonus_label),e.addChild(e._title_label),e.addChild(e._exp_label),e.addChild(e._exp_text),e._extra_result=new s.ExtraResultPanel,e.addChild(e._extra_result),e}return n(e,t),Object.defineProperty(e.prototype,"extra_result",{get:function(){return this._extra_result},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e,i,n){this._line_v.texture=r.BATTLE_RESULT_MAIN.getTexture(2),this._line_h.texture=r.BATTLE_RESULT_MAIN.getTexture(20),this._bonus_label.texture=r.BATTLE_RESULT_MAIN.getTexture(71),this._title_label.texture=0==i?r.BATTLE_RESULT_MAIN.getTexture(69):r.BATTLE_RESULT_MAIN.getTexture(74),this._sub_title.texture=r.BATTLE_RESULT_MAIN.getTexture(70),this._exp_label.texture=r.BATTLE_RESULT_MAIN.getTexture(75),this._exp_text.text=t.toString();var o=176;n?(this._line_h.y=97,this._sub_title.x=203,this._sub_title.y=68,this._exp_text.y=60,this._exp_label.y=80,o-=68):(this._line_h.y=149,this._sub_title.x=35,this._sub_title.y=110,this._exp_text.y=99,this._exp_label.y=117);for(var s=0;s<e.length;s++){var a=e[s],l=new _;l.x=6,l.y=o+68*s,this._exp_ships.push(l),this.addChild(l),a>=0?l.initialize(a):l.visible=!1}this._extra_result.initialize()},e.prototype.createShowShipExpTweens=function(t,e,i){void 0===i&&(i=0);for(var n=[],o=0;o<this._exp_ships.length;o++){var r=this._exp_ships[o];t[o]>=0?(r.initialize(t[o]),r.visible=!0):r.visible=!1,n.push(createjs.Tween.get(r).wait(i).to({alpha:1},e))}return n},e.prototype.createHideShipExpTweens=function(t,e){void 0===e&&(e=0);for(var i=[],n=0;n<this._exp_ships.length;n++){var o=this._exp_ships[n];i.push(createjs.Tween.get(o).wait(e).to({alpha:0},t))}return i},e.prototype.dispose=function(){this.removeChildren(),this._line_v=null,this._line_h=null,this._bonus_label=null,this._exp_label=null,this._exp_text.destroy(),this._exp_text=null;for(var t=0,e=this._exp_ships;t<e.length;t++){e[t].dispose()}this._exp_ships=null,this._extra_result.dispose(),this._extra_result=null},e}(PIXI.Container);e.PanelExp=a;var _=function(t){function e(){var e=t.call(this)||this;return e._plus=new PIXI.Sprite,e._plus.position.set(18,9),e._exp=new PIXI.Sprite,e._exp.position.set(120,12),e._text=new o.TextBox(24,16774898),e._text.anchor.set(1,0),e._text.position.set(111,0),e.addChild(e._plus),e.addChild(e._exp),e.addChild(e._text),e}return n(e,t),e.prototype.initialize=function(t){this._plus.texture=r.BATTLE_RESULT_MAIN.getTexture(86),this._exp.texture=r.BATTLE_RESULT_MAIN.getTexture(75),this._text.text=t.toString()},e.prototype.dispose=function(){this.removeChildren(),this._plus=null,this._exp=null,this._text.destroy(),this._text=null},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(36),s=function(t){function e(){var e=t.call(this)||this;return e._extra_war_result=new a,e._extra_war_result.position.set(227,177),e._extra_war_result.visible=!1,e.addChild(e._extra_war_result),e._useitem_icon=new PIXI.Sprite,e._useitem_icon.position.set(324,290),e._useitem_icon.visible=!1,e.addChild(e._useitem_icon),e._map_incentive=new PIXI.Sprite,e._map_incentive.position.set(270,525),e._map_incentive.visible=!1,e.addChild(e._map_incentive),e}return n(e,t),Object.defineProperty(e.prototype,"extra_war_result",{get:function(){return this._extra_war_result},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useitem_icon",{get:function(){return this._useitem_icon},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"map_incentive",{get:function(){return this._map_incentive},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this._extra_war_result.initialize(),this._map_incentive.texture=r.BATTLE_RESULT_MAIN.getTexture(77)},e.prototype.dispose=function(){this.removeChildren(),this._extra_war_result.dispose()},e}(PIXI.Container);e.ExtraResultPanel=s;var a=function(t){function e(){var e=t.call(this)||this;return e._title=new PIXI.Sprite,e.addChild(e._title),e._plus=new PIXI.Sprite,e._plus.position.set(153,47),e.addChild(e._plus),e._label=new o.TextBox(28,16777215),e._label.anchor.x=1,e._label.position.set(267,36),e.addChild(e._label),e}return n(e,t),e.prototype.initialize=function(){this._title.texture=r.BATTLE_RESULT_MAIN.getTexture(87),this._plus.texture=r.BATTLE_RESULT_MAIN.getTexture(86)},e.prototype.update=function(t){this._label.text=t.toString()},e.prototype.dispose=function(){this.removeChildren(),this._label.destroy()},e}(PIXI.Container)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),r=i(5),s=function(t){function e(){var e=t.call(this)||this;return e._name=new o.TextBox(24,1949120),e._name.anchor.set(0,0),e._name.position.set(r.default.width/2,48),e._name.alpha=0,e.addChild(e._name),e}return n(e,t),e.prototype.initialize=function(t){this._name.text=t,this._name.position.x=r.default.width/2-Math.floor(this._name.width/2)},e.prototype.show=function(){var t=this;createjs.Tween.get(this._name).to({alpha:1},100).call(function(){t.emit("complete")})},e.prototype.dispose=function(){this.removeChildren(),this._name.destroy()},e}(PIXI.Container);e.LayerMapName=s}]).default});